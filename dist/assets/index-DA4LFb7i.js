function yY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function sn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var SF={exports:{}},Ew={},AF={exports:{}},gr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1=Symbol.for("react.element"),xY=Symbol.for("react.portal"),bY=Symbol.for("react.fragment"),wY=Symbol.for("react.strict_mode"),_Y=Symbol.for("react.profiler"),SY=Symbol.for("react.provider"),AY=Symbol.for("react.context"),TY=Symbol.for("react.forward_ref"),EY=Symbol.for("react.suspense"),kY=Symbol.for("react.memo"),CY=Symbol.for("react.lazy"),KP=Symbol.iterator;function NY(e){return e===null||typeof e!="object"?null:(e=KP&&e[KP]||e["@@iterator"],typeof e=="function"?e:null)}var TF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EF=Object.assign,kF={};function jp(e,t,r){this.props=e,this.context=t,this.refs=kF,this.updater=r||TF}jp.prototype.isReactComponent={};jp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function CF(){}CF.prototype=jp.prototype;function m3(e,t,r){this.props=e,this.context=t,this.refs=kF,this.updater=r||TF}var g3=m3.prototype=new CF;g3.constructor=m3;EF(g3,jp.prototype);g3.isPureReactComponent=!0;var YP=Array.isArray,NF=Object.prototype.hasOwnProperty,v3={current:null},PF={key:!0,ref:!0,__self:!0,__source:!0};function OF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)NF.call(t,n)&&!PF.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:A1,type:e,key:i,ref:s,props:a,_owner:v3.current}}function PY(e,t){return{$$typeof:A1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function y3(e){return typeof e=="object"&&e!==null&&e.$$typeof===A1}function OY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var XP=/\/+/g;function k_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?OY(""+e.key):t.toString(36)}function Lx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case A1:case xY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+k_(s,0):n,YP(a)?(r="",e!=null&&(r=e.replace(XP,"$&/")+"/"),Lx(a,t,r,"",function(c){return c})):a!=null&&(y3(a)&&(a=PY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(XP,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",YP(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+k_(i,o);s+=Lx(i,t,r,l,a)}else if(l=NY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+k_(i,o++),s+=Lx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Iy(e,t,r){if(e==null)return e;var n=[],a=0;return Lx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function IY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xi={current:null},Mx={transition:null},DY={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:Mx,ReactCurrentOwner:v3};function IF(){throw Error("act(...) is not supported in production builds of React.")}gr.Children={map:Iy,forEach:function(e,t,r){Iy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Iy(e,function(){t++}),t},toArray:function(e){return Iy(e,function(t){return t})||[]},only:function(e){if(!y3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};gr.Component=jp;gr.Fragment=bY;gr.Profiler=_Y;gr.PureComponent=m3;gr.StrictMode=wY;gr.Suspense=EY;gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DY;gr.act=IF;gr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=EF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=v3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)NF.call(t,l)&&!PF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:A1,type:e.type,key:a,ref:i,props:n,_owner:s}};gr.createContext=function(e){return e={$$typeof:AY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:SY,_context:e},e.Consumer=e};gr.createElement=OF;gr.createFactory=function(e){var t=OF.bind(null,e);return t.type=e,t};gr.createRef=function(){return{current:null}};gr.forwardRef=function(e){return{$$typeof:TY,render:e}};gr.isValidElement=y3;gr.lazy=function(e){return{$$typeof:CY,_payload:{_status:-1,_result:e},_init:IY}};gr.memo=function(e,t){return{$$typeof:kY,type:e,compare:t===void 0?null:t}};gr.startTransition=function(e){var t=Mx.transition;Mx.transition={};try{e()}finally{Mx.transition=t}};gr.unstable_act=IF;gr.useCallback=function(e,t){return Xi.current.useCallback(e,t)};gr.useContext=function(e){return Xi.current.useContext(e)};gr.useDebugValue=function(){};gr.useDeferredValue=function(e){return Xi.current.useDeferredValue(e)};gr.useEffect=function(e,t){return Xi.current.useEffect(e,t)};gr.useId=function(){return Xi.current.useId()};gr.useImperativeHandle=function(e,t,r){return Xi.current.useImperativeHandle(e,t,r)};gr.useInsertionEffect=function(e,t){return Xi.current.useInsertionEffect(e,t)};gr.useLayoutEffect=function(e,t){return Xi.current.useLayoutEffect(e,t)};gr.useMemo=function(e,t){return Xi.current.useMemo(e,t)};gr.useReducer=function(e,t,r){return Xi.current.useReducer(e,t,r)};gr.useRef=function(e){return Xi.current.useRef(e)};gr.useState=function(e){return Xi.current.useState(e)};gr.useSyncExternalStore=function(e,t,r){return Xi.current.useSyncExternalStore(e,t,r)};gr.useTransition=function(){return Xi.current.useTransition()};gr.version="18.3.1";AF.exports=gr;var Q=AF.exports;const Ie=sn(Q),jY=yY({__proto__:null,default:Ie},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LY=Q,MY=Symbol.for("react.element"),RY=Symbol.for("react.fragment"),FY=Object.prototype.hasOwnProperty,$Y=LY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BY={key:!0,ref:!0,__self:!0,__source:!0};function DF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)FY.call(t,n)&&!BY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:MY,type:e,key:i,ref:s,props:a,_owner:$Y.current}}Ew.Fragment=RY;Ew.jsx=DF;Ew.jsxs=DF;SF.exports=Ew;var p=SF.exports,jF={exports:{}},zs={},LF={exports:{}},MF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,B){var ae=W.length;W.push(B);e:for(;0<ae;){var q=ae-1>>>1,N=W[q];if(0<a(N,B))W[q]=B,W[ae]=N,ae=q;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var B=W[0],ae=W.pop();if(ae!==B){W[0]=ae;e:for(var q=0,N=W.length,R=N>>>1;q<R;){var U=2*(q+1)-1,K=W[U],G=U+1,ie=W[G];if(0>a(K,ae))G<N&&0>a(ie,K)?(W[q]=ie,W[G]=ae,q=G):(W[q]=K,W[U]=ae,q=U);else if(G<N&&0>a(ie,ae))W[q]=ie,W[G]=ae,q=G;else break e}}return B}function a(W,B){var ae=W.sortIndex-B.sortIndex;return ae!==0?ae:W.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(W){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=W)n(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(c)}}function O(W){if(m=!1,_(W),!g)if(r(l)!==null)g=!0,Z(P);else{var B=r(c);B!==null&&ee(O,B.startTime-W)}}function P(W,B){g=!1,m&&(m=!1,y(A),A=-1),d=!0;var ae=h;try{for(_(B),f=r(l);f!==null&&(!(f.expirationTime>B)||W&&!E());){var q=f.callback;if(typeof q=="function"){f.callback=null,h=f.priorityLevel;var N=q(f.expirationTime<=B);B=e.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),_(B)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var U=r(c);U!==null&&ee(O,U.startTime-B),R=!1}return R}finally{f=null,h=ae,d=!1}}var D=!1,T=null,A=-1,b=5,I=-1;function E(){return!(e.unstable_now()-I<b)}function C(){if(T!==null){var W=e.unstable_now();I=W;var B=!0;try{B=T(!0,W)}finally{B?L():(D=!1,T=null)}}else D=!1}var L;if(typeof w=="function")L=function(){w(C)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=C,L=function(){V.postMessage(null)}}else L=function(){v(C,0)};function Z(W){T=W,D||(D=!0,L())}function ee(W,B){A=v(function(){W(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,Z(P))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(W){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ae=h;h=B;try{return W()}finally{h=ae}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,B){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ae=h;h=W;try{return B()}finally{h=ae}},e.unstable_scheduleCallback=function(W,B,ae){var q=e.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?q+ae:q):ae=q,W){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ae+N,W={id:u++,callback:B,priorityLevel:W,startTime:ae,expirationTime:N,sortIndex:-1},ae>q?(W.sortIndex=ae,t(c,W),r(l)===null&&W===r(c)&&(m?(y(A),A=-1):m=!0,ee(O,ae-q))):(W.sortIndex=N,t(l,W),g||d||(g=!0,Z(P))),W},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(W){var B=h;return function(){var ae=h;h=B;try{return W.apply(this,arguments)}finally{h=ae}}}})(MF);LF.exports=MF;var VY=LF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UY=Q,$s=VY;function yt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var RF=new Set,Kg={};function nd(e,t){q0(e,t),q0(e+"Capture",t)}function q0(e,t){for(Kg[e]=t,e=0;e<t.length;e++)RF.add(t[e])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),NA=Object.prototype.hasOwnProperty,zY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,QP={},JP={};function qY(e){return NA.call(JP,e)?!0:NA.call(QP,e)?!1:zY.test(e)?JP[e]=!0:(QP[e]=!0,!1)}function WY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HY(e,t,r,n){if(t===null||typeof t>"u"||WY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ai[e]=new Qi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ai[t]=new Qi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ai[e]=new Qi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ai[e]=new Qi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ai[e]=new Qi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ai[e]=new Qi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ai[e]=new Qi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ai[e]=new Qi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ai[e]=new Qi(e,5,!1,e.toLowerCase(),null,!1,!1)});var x3=/[\-:]([a-z])/g;function b3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x3,b3);ai[t]=new Qi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x3,b3);ai[t]=new Qi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x3,b3);ai[t]=new Qi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ai[e]=new Qi(e,1,!1,e.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Qi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ai[e]=new Qi(e,1,!1,e.toLowerCase(),null,!0,!0)});function w3(e,t,r,n){var a=ai.hasOwnProperty(t)?ai[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HY(t,r,a,n)&&(r=null),n||a===null?qY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qc=UY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dy=Symbol.for("react.element"),t0=Symbol.for("react.portal"),r0=Symbol.for("react.fragment"),_3=Symbol.for("react.strict_mode"),PA=Symbol.for("react.profiler"),FF=Symbol.for("react.provider"),$F=Symbol.for("react.context"),S3=Symbol.for("react.forward_ref"),OA=Symbol.for("react.suspense"),IA=Symbol.for("react.suspense_list"),A3=Symbol.for("react.memo"),Du=Symbol.for("react.lazy"),BF=Symbol.for("react.offscreen"),ZP=Symbol.iterator;function km(e){return e===null||typeof e!="object"?null:(e=ZP&&e[ZP]||e["@@iterator"],typeof e=="function"?e:null)}var Mn=Object.assign,C_;function Jm(e){if(C_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);C_=t&&t[1]||""}return`
`+C_+e}var N_=!1;function P_(e,t){if(!e||N_)return"";N_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{N_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jm(e):""}function GY(e){switch(e.tag){case 5:return Jm(e.type);case 16:return Jm("Lazy");case 13:return Jm("Suspense");case 19:return Jm("SuspenseList");case 0:case 2:case 15:return e=P_(e.type,!1),e;case 11:return e=P_(e.type.render,!1),e;case 1:return e=P_(e.type,!0),e;default:return""}}function DA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case r0:return"Fragment";case t0:return"Portal";case PA:return"Profiler";case _3:return"StrictMode";case OA:return"Suspense";case IA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $F:return(e.displayName||"Context")+".Consumer";case FF:return(e._context.displayName||"Context")+".Provider";case S3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A3:return t=e.displayName||null,t!==null?t:DA(e.type)||"Memo";case Du:t=e._payload,e=e._init;try{return DA(e(t))}catch{}}return null}function KY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return DA(t);case 8:return t===_3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function VF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YY(e){var t=VF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function jy(e){e._valueTracker||(e._valueTracker=YY(e))}function UF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=VF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function f2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function jA(e,t){var r=t.checked;return Mn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function e6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=pf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zF(e,t){t=t.checked,t!=null&&w3(e,"checked",t,!1)}function LA(e,t){zF(e,t);var r=pf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?MA(e,t.type,r):t.hasOwnProperty("defaultValue")&&MA(e,t.type,pf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function t6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function MA(e,t,r){(t!=="number"||f2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zm=Array.isArray;function S0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+pf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function RA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(yt(91));return Mn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(yt(92));if(Zm(r)){if(1<r.length)throw Error(yt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:pf(r)}}function qF(e,t){var r=pf(t.value),n=pf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function n6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function WF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?WF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ly,HF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ly=Ly||document.createElement("div"),Ly.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ly.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XY=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){XY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function GF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function KF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=GF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var QY=Mn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $A(e,t){if(t){if(QY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(yt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(yt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(yt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(yt(62))}}function BA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VA=null;function T3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var UA=null,A0=null,T0=null;function a6(e){if(e=k1(e)){if(typeof UA!="function")throw Error(yt(280));var t=e.stateNode;t&&(t=Ow(t),UA(e.stateNode,e.type,t))}}function YF(e){A0?T0?T0.push(e):T0=[e]:A0=e}function XF(){if(A0){var e=A0,t=T0;if(T0=A0=null,a6(e),t)for(e=0;e<t.length;e++)a6(t[e])}}function QF(e,t){return e(t)}function JF(){}var O_=!1;function ZF(e,t,r){if(O_)return e(t,r);O_=!0;try{return QF(e,t,r)}finally{O_=!1,(A0!==null||T0!==null)&&(JF(),XF())}}function Xg(e,t){var r=e.stateNode;if(r===null)return null;var n=Ow(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(yt(231,t,typeof r));return r}var zA=!1;if(kc)try{var Cm={};Object.defineProperty(Cm,"passive",{get:function(){zA=!0}}),window.addEventListener("test",Cm,Cm),window.removeEventListener("test",Cm,Cm)}catch{zA=!1}function JY(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var dg=!1,h2=null,d2=!1,qA=null,ZY={onError:function(e){dg=!0,h2=e}};function eX(e,t,r,n,a,i,s,o,l){dg=!1,h2=null,JY.apply(ZY,arguments)}function tX(e,t,r,n,a,i,s,o,l){if(eX.apply(this,arguments),dg){if(dg){var c=h2;dg=!1,h2=null}else throw Error(yt(198));d2||(d2=!0,qA=c)}}function ad(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function e7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function i6(e){if(ad(e)!==e)throw Error(yt(188))}function rX(e){var t=e.alternate;if(!t){if(t=ad(e),t===null)throw Error(yt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return i6(a),e;if(i===n)return i6(a),t;i=i.sibling}throw Error(yt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(yt(189))}}if(r.alternate!==n)throw Error(yt(190))}if(r.tag!==3)throw Error(yt(188));return r.stateNode.current===r?e:t}function t7(e){return e=rX(e),e!==null?r7(e):null}function r7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r7(e);if(t!==null)return t;e=e.sibling}return null}var n7=$s.unstable_scheduleCallback,s6=$s.unstable_cancelCallback,nX=$s.unstable_shouldYield,aX=$s.unstable_requestPaint,ea=$s.unstable_now,iX=$s.unstable_getCurrentPriorityLevel,E3=$s.unstable_ImmediatePriority,a7=$s.unstable_UserBlockingPriority,p2=$s.unstable_NormalPriority,sX=$s.unstable_LowPriority,i7=$s.unstable_IdlePriority,kw=null,Pl=null;function oX(e){if(Pl&&typeof Pl.onCommitFiberRoot=="function")try{Pl.onCommitFiberRoot(kw,e,void 0,(e.current.flags&128)===128)}catch{}}var el=Math.clz32?Math.clz32:uX,lX=Math.log,cX=Math.LN2;function uX(e){return e>>>=0,e===0?32:31-(lX(e)/cX|0)|0}var My=64,Ry=4194304;function eg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function m2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=eg(o):(i&=s,i!==0&&(n=eg(i)))}else s=r&~a,s!==0?n=eg(s):i!==0&&(n=eg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-el(t),a=1<<r,n|=e[r],t&=~a;return n}function fX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-el(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=fX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function WA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function s7(){var e=My;return My<<=1,!(My&4194240)&&(My=64),e}function I_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function T1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-el(t),e[t]=r}function dX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-el(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function k3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-el(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Jr=0;function o7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l7,C3,c7,u7,f7,HA=!1,Fy=[],Qu=null,Ju=null,Zu=null,Qg=new Map,Jg=new Map,Mu=[],pX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o6(e,t){switch(e){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":Qg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jg.delete(t.pointerId)}}function Nm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=k1(t),t!==null&&C3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function mX(e,t,r,n,a){switch(t){case"focusin":return Qu=Nm(Qu,e,t,r,n,a),!0;case"dragenter":return Ju=Nm(Ju,e,t,r,n,a),!0;case"mouseover":return Zu=Nm(Zu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Qg.set(i,Nm(Qg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Jg.set(i,Nm(Jg.get(i)||null,e,t,r,n,a)),!0}return!1}function h7(e){var t=vh(e.target);if(t!==null){var r=ad(t);if(r!==null){if(t=r.tag,t===13){if(t=e7(r),t!==null){e.blockedOn=t,f7(e.priority,function(){c7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=GA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);VA=n,r.target.dispatchEvent(n),VA=null}else return t=k1(r),t!==null&&C3(t),e.blockedOn=r,!1;t.shift()}return!0}function l6(e,t,r){Rx(e)&&r.delete(t)}function gX(){HA=!1,Qu!==null&&Rx(Qu)&&(Qu=null),Ju!==null&&Rx(Ju)&&(Ju=null),Zu!==null&&Rx(Zu)&&(Zu=null),Qg.forEach(l6),Jg.forEach(l6)}function Pm(e,t){e.blockedOn===t&&(e.blockedOn=null,HA||(HA=!0,$s.unstable_scheduleCallback($s.unstable_NormalPriority,gX)))}function Zg(e){function t(a){return Pm(a,e)}if(0<Fy.length){Pm(Fy[0],e);for(var r=1;r<Fy.length;r++){var n=Fy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qu!==null&&Pm(Qu,e),Ju!==null&&Pm(Ju,e),Zu!==null&&Pm(Zu,e),Qg.forEach(t),Jg.forEach(t),r=0;r<Mu.length;r++)n=Mu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mu.length&&(r=Mu[0],r.blockedOn===null);)h7(r),r.blockedOn===null&&Mu.shift()}var E0=qc.ReactCurrentBatchConfig,g2=!0;function vX(e,t,r,n){var a=Jr,i=E0.transition;E0.transition=null;try{Jr=1,N3(e,t,r,n)}finally{Jr=a,E0.transition=i}}function yX(e,t,r,n){var a=Jr,i=E0.transition;E0.transition=null;try{Jr=4,N3(e,t,r,n)}finally{Jr=a,E0.transition=i}}function N3(e,t,r,n){if(g2){var a=GA(e,t,r,n);if(a===null)U_(e,t,n,v2,r),o6(e,n);else if(mX(a,e,t,r,n))n.stopPropagation();else if(o6(e,n),t&4&&-1<pX.indexOf(e)){for(;a!==null;){var i=k1(a);if(i!==null&&l7(i),i=GA(e,t,r,n),i===null&&U_(e,t,n,v2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else U_(e,t,n,null,r)}}var v2=null;function GA(e,t,r,n){if(v2=null,e=T3(n),e=vh(e),e!==null)if(t=ad(e),t===null)e=null;else if(r=t.tag,r===13){if(e=e7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return v2=e,null}function d7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iX()){case E3:return 1;case a7:return 4;case p2:case sX:return 16;case i7:return 536870912;default:return 16}default:return 16}}var Uu=null,P3=null,Fx=null;function p7(){if(Fx)return Fx;var e,t=P3,r=t.length,n,a="value"in Uu?Uu.value:Uu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Fx=a.slice(e,1<n?1-n:void 0)}function $x(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $y(){return!0}function c6(){return!1}function qs(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?$y:c6,this.isPropagationStopped=c6,this}return Mn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$y)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$y)},persist:function(){},isPersistent:$y}),t}var Lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},O3=qs(Lp),E1=Mn({},Lp,{view:0,detail:0}),xX=qs(E1),D_,j_,Om,Cw=Mn({},E1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:I3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Om&&(Om&&e.type==="mousemove"?(D_=e.screenX-Om.screenX,j_=e.screenY-Om.screenY):j_=D_=0,Om=e),D_)},movementY:function(e){return"movementY"in e?e.movementY:j_}}),u6=qs(Cw),bX=Mn({},Cw,{dataTransfer:0}),wX=qs(bX),_X=Mn({},E1,{relatedTarget:0}),L_=qs(_X),SX=Mn({},Lp,{animationName:0,elapsedTime:0,pseudoElement:0}),AX=qs(SX),TX=Mn({},Lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),EX=qs(TX),kX=Mn({},Lp,{data:0}),f6=qs(kX),CX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PX[e])?!!t[e]:!1}function I3(){return OX}var IX=Mn({},E1,{key:function(e){if(e.key){var t=CX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$x(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?NX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:I3,charCode:function(e){return e.type==="keypress"?$x(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$x(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),DX=qs(IX),jX=Mn({},Cw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h6=qs(jX),LX=Mn({},E1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:I3}),MX=qs(LX),RX=Mn({},Lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),FX=qs(RX),$X=Mn({},Cw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),BX=qs($X),VX=[9,13,27,32],D3=kc&&"CompositionEvent"in window,pg=null;kc&&"documentMode"in document&&(pg=document.documentMode);var UX=kc&&"TextEvent"in window&&!pg,m7=kc&&(!D3||pg&&8<pg&&11>=pg),d6=" ",p6=!1;function g7(e,t){switch(e){case"keyup":return VX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var n0=!1;function zX(e,t){switch(e){case"compositionend":return v7(t);case"keypress":return t.which!==32?null:(p6=!0,d6);case"textInput":return e=t.data,e===d6&&p6?null:e;default:return null}}function qX(e,t){if(n0)return e==="compositionend"||!D3&&g7(e,t)?(e=p7(),Fx=P3=Uu=null,n0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return m7&&t.locale!=="ko"?null:t.data;default:return null}}var WX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function m6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WX[e.type]:t==="textarea"}function y7(e,t,r,n){YF(n),t=y2(t,"onChange"),0<t.length&&(r=new O3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mg=null,ev=null;function HX(e){N7(e,0)}function Nw(e){var t=s0(e);if(UF(t))return e}function GX(e,t){if(e==="change")return t}var x7=!1;if(kc){var M_;if(kc){var R_="oninput"in document;if(!R_){var g6=document.createElement("div");g6.setAttribute("oninput","return;"),R_=typeof g6.oninput=="function"}M_=R_}else M_=!1;x7=M_&&(!document.documentMode||9<document.documentMode)}function v6(){mg&&(mg.detachEvent("onpropertychange",b7),ev=mg=null)}function b7(e){if(e.propertyName==="value"&&Nw(ev)){var t=[];y7(t,ev,e,T3(e)),ZF(HX,t)}}function KX(e,t,r){e==="focusin"?(v6(),mg=t,ev=r,mg.attachEvent("onpropertychange",b7)):e==="focusout"&&v6()}function YX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nw(ev)}function XX(e,t){if(e==="click")return Nw(t)}function QX(e,t){if(e==="input"||e==="change")return Nw(t)}function JX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var al=typeof Object.is=="function"?Object.is:JX;function tv(e,t){if(al(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!NA.call(t,a)||!al(e[a],t[a]))return!1}return!0}function y6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function x6(e,t){var r=y6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=y6(r)}}function w7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?w7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _7(){for(var e=window,t=f2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=f2(e.document)}return t}function j3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZX(e){var t=_7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&w7(r.ownerDocument.documentElement,r)){if(n!==null&&j3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=x6(r,i);var s=x6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var eQ=kc&&"documentMode"in document&&11>=document.documentMode,a0=null,KA=null,gg=null,YA=!1;function b6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;YA||a0==null||a0!==f2(n)||(n=a0,"selectionStart"in n&&j3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gg&&tv(gg,n)||(gg=n,n=y2(KA,"onSelect"),0<n.length&&(t=new O3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=a0)))}function By(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var i0={animationend:By("Animation","AnimationEnd"),animationiteration:By("Animation","AnimationIteration"),animationstart:By("Animation","AnimationStart"),transitionend:By("Transition","TransitionEnd")},F_={},S7={};kc&&(S7=document.createElement("div").style,"AnimationEvent"in window||(delete i0.animationend.animation,delete i0.animationiteration.animation,delete i0.animationstart.animation),"TransitionEvent"in window||delete i0.transitionend.transition);function Pw(e){if(F_[e])return F_[e];if(!i0[e])return e;var t=i0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in S7)return F_[e]=t[r];return e}var A7=Pw("animationend"),T7=Pw("animationiteration"),E7=Pw("animationstart"),k7=Pw("transitionend"),C7=new Map,w6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kf(e,t){C7.set(e,t),nd(t,[e])}for(var $_=0;$_<w6.length;$_++){var B_=w6[$_],tQ=B_.toLowerCase(),rQ=B_[0].toUpperCase()+B_.slice(1);kf(tQ,"on"+rQ)}kf(A7,"onAnimationEnd");kf(T7,"onAnimationIteration");kf(E7,"onAnimationStart");kf("dblclick","onDoubleClick");kf("focusin","onFocus");kf("focusout","onBlur");kf(k7,"onTransitionEnd");q0("onMouseEnter",["mouseout","mouseover"]);q0("onMouseLeave",["mouseout","mouseover"]);q0("onPointerEnter",["pointerout","pointerover"]);q0("onPointerLeave",["pointerout","pointerover"]);nd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));nd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));nd("onBeforeInput",["compositionend","keypress","textInput","paste"]);nd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));nd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function _6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,tX(n,t,void 0,e),e.currentTarget=null}function N7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;_6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;_6(a,o,c),i=l}}}if(d2)throw e=qA,d2=!1,qA=null,e}function xn(e,t){var r=t[e4];r===void 0&&(r=t[e4]=new Set);var n=e+"__bubble";r.has(n)||(P7(t,e,2,!1),r.add(n))}function V_(e,t,r){var n=0;t&&(n|=4),P7(r,e,n,t)}var Vy="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[Vy]){e[Vy]=!0,RF.forEach(function(r){r!=="selectionchange"&&(nQ.has(r)||V_(r,!1,e),V_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vy]||(t[Vy]=!0,V_("selectionchange",!1,t))}}function P7(e,t,r,n){switch(d7(t)){case 1:var a=vX;break;case 4:a=yX;break;default:a=N3}r=a.bind(null,t,r,e),a=void 0,!zA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function U_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=vh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}ZF(function(){var c=i,u=T3(r),f=[];e:{var h=C7.get(e);if(h!==void 0){var d=O3,g=e;switch(e){case"keypress":if($x(r)===0)break e;case"keydown":case"keyup":d=DX;break;case"focusin":g="focus",d=L_;break;case"focusout":g="blur",d=L_;break;case"beforeblur":case"afterblur":d=L_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=u6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=wX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=MX;break;case A7:case T7:case E7:d=AX;break;case k7:d=FX;break;case"scroll":d=xX;break;case"wheel":d=BX;break;case"copy":case"cut":case"paste":d=EX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=h6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,_;w!==null;){_=w;var O=_.stateNode;if(_.tag===5&&O!==null&&(_=O,y!==null&&(O=Xg(w,y),O!=null&&m.push(nv(w,O,_)))),v)break;w=w.return}0<m.length&&(h=new d(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==VA&&(g=r.relatedTarget||r.fromElement)&&(vh(g)||g[Cc]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=c,g=g?vh(g):null,g!==null&&(v=ad(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(m=u6,O="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=h6,O="onPointerLeave",y="onPointerEnter",w="pointer"),v=d==null?h:s0(d),_=g==null?h:s0(g),h=new m(O,w+"leave",d,r,u),h.target=v,h.relatedTarget=_,O=null,vh(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=_,m.relatedTarget=v,O=m),v=O,d&&g)t:{for(m=d,y=g,w=0,_=m;_;_=Bd(_))w++;for(_=0,O=y;O;O=Bd(O))_++;for(;0<w-_;)m=Bd(m),w--;for(;0<_-w;)y=Bd(y),_--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Bd(m),y=Bd(y)}m=null}else m=null;d!==null&&S6(f,h,d,m,!1),g!==null&&v!==null&&S6(f,v,g,m,!0)}}e:{if(h=c?s0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=GX;else if(m6(h))if(x7)P=QX;else{P=YX;var D=KX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=XX);if(P&&(P=P(e,c))){y7(f,P,r,u);break e}D&&D(e,h,c),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&MA(h,"number",h.value)}switch(D=c?s0(c):window,e){case"focusin":(m6(D)||D.contentEditable==="true")&&(a0=D,KA=c,gg=null);break;case"focusout":gg=KA=a0=null;break;case"mousedown":YA=!0;break;case"contextmenu":case"mouseup":case"dragend":YA=!1,b6(f,r,u);break;case"selectionchange":if(eQ)break;case"keydown":case"keyup":b6(f,r,u)}var T;if(D3)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else n0?g7(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(m7&&r.locale!=="ko"&&(n0||A!=="onCompositionStart"?A==="onCompositionEnd"&&n0&&(T=p7()):(Uu=u,P3="value"in Uu?Uu.value:Uu.textContent,n0=!0)),D=y2(c,A),0<D.length&&(A=new f6(A,e,null,r,u),f.push({event:A,listeners:D}),T?A.data=T:(T=v7(r),T!==null&&(A.data=T)))),(T=UX?zX(e,r):qX(e,r))&&(c=y2(c,"onBeforeInput"),0<c.length&&(u=new f6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}N7(f,t)})}function nv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function y2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xg(e,r),i!=null&&n.unshift(nv(e,i,a)),i=Xg(e,t),i!=null&&n.push(nv(e,i,a))),e=e.return}return n}function Bd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function S6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Xg(r,i),l!=null&&s.unshift(nv(r,l,o))):a||(l=Xg(r,i),l!=null&&s.push(nv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var aQ=/\r\n?/g,iQ=/\u0000|\uFFFD/g;function A6(e){return(typeof e=="string"?e:""+e).replace(aQ,`
`).replace(iQ,"")}function Uy(e,t,r){if(t=A6(t),A6(e)!==t&&r)throw Error(yt(425))}function x2(){}var XA=null,QA=null;function JA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ZA=typeof setTimeout=="function"?setTimeout:void 0,sQ=typeof clearTimeout=="function"?clearTimeout:void 0,T6=typeof Promise=="function"?Promise:void 0,oQ=typeof queueMicrotask=="function"?queueMicrotask:typeof T6<"u"?function(e){return T6.resolve(null).then(e).catch(lQ)}:ZA;function lQ(e){setTimeout(function(){throw e})}function z_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zg(t)}function ef(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mp=Math.random().toString(36).slice(2),kl="__reactFiber$"+Mp,av="__reactProps$"+Mp,Cc="__reactContainer$"+Mp,e4="__reactEvents$"+Mp,cQ="__reactListeners$"+Mp,uQ="__reactHandles$"+Mp;function vh(e){var t=e[kl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Cc]||r[kl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=E6(e);e!==null;){if(r=e[kl])return r;e=E6(e)}return t}e=r,r=e.parentNode}return null}function k1(e){return e=e[kl]||e[Cc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function s0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(yt(33))}function Ow(e){return e[av]||null}var t4=[],o0=-1;function Cf(e){return{current:e}}function An(e){0>o0||(e.current=t4[o0],t4[o0]=null,o0--)}function pn(e,t){o0++,t4[o0]=e.current,e.current=t}var mf={},Ci=Cf(mf),ps=Cf(!1),Fh=mf;function W0(e,t){var r=e.type.contextTypes;if(!r)return mf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ms(e){return e=e.childContextTypes,e!=null}function b2(){An(ps),An(Ci)}function k6(e,t,r){if(Ci.current!==mf)throw Error(yt(168));pn(Ci,t),pn(ps,r)}function O7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(yt(108,KY(e)||"Unknown",a));return Mn({},r,n)}function w2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mf,Fh=Ci.current,pn(Ci,e),pn(ps,ps.current),!0}function C6(e,t,r){var n=e.stateNode;if(!n)throw Error(yt(169));r?(e=O7(e,t,Fh),n.__reactInternalMemoizedMergedChildContext=e,An(ps),An(Ci),pn(Ci,e)):An(ps),pn(ps,r)}var fc=null,Iw=!1,q_=!1;function I7(e){fc===null?fc=[e]:fc.push(e)}function fQ(e){Iw=!0,I7(e)}function Nf(){if(!q_&&fc!==null){q_=!0;var e=0,t=Jr;try{var r=fc;for(Jr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fc=null,Iw=!1}catch(a){throw fc!==null&&(fc=fc.slice(e+1)),n7(E3,Nf),a}finally{Jr=t,q_=!1}}return null}var l0=[],c0=0,_2=null,S2=0,lo=[],co=0,$h=null,hc=1,dc="";function sh(e,t){l0[c0++]=S2,l0[c0++]=_2,_2=e,S2=t}function D7(e,t,r){lo[co++]=hc,lo[co++]=dc,lo[co++]=$h,$h=e;var n=hc;e=dc;var a=32-el(n)-1;n&=~(1<<a),r+=1;var i=32-el(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,hc=1<<32-el(t)+a|r<<a|n,dc=i+e}else hc=1<<i|r<<a|n,dc=e}function L3(e){e.return!==null&&(sh(e,1),D7(e,1,0))}function M3(e){for(;e===_2;)_2=l0[--c0],l0[c0]=null,S2=l0[--c0],l0[c0]=null;for(;e===$h;)$h=lo[--co],lo[co]=null,dc=lo[--co],lo[co]=null,hc=lo[--co],lo[co]=null}var Rs=null,js=null,kn=!1,Go=null;function j7(e,t){var r=uo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function N6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Rs=e,js=ef(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Rs=e,js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$h!==null?{id:hc,overflow:dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=uo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Rs=e,js=null,!0):!1;default:return!1}}function r4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function n4(e){if(kn){var t=js;if(t){var r=t;if(!N6(e,t)){if(r4(e))throw Error(yt(418));t=ef(r.nextSibling);var n=Rs;t&&N6(e,t)?j7(n,r):(e.flags=e.flags&-4097|2,kn=!1,Rs=e)}}else{if(r4(e))throw Error(yt(418));e.flags=e.flags&-4097|2,kn=!1,Rs=e}}}function P6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Rs=e}function zy(e){if(e!==Rs)return!1;if(!kn)return P6(e),kn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!JA(e.type,e.memoizedProps)),t&&(t=js)){if(r4(e))throw L7(),Error(yt(418));for(;t;)j7(e,t),t=ef(t.nextSibling)}if(P6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(yt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){js=ef(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}js=null}}else js=Rs?ef(e.stateNode.nextSibling):null;return!0}function L7(){for(var e=js;e;)e=ef(e.nextSibling)}function H0(){js=Rs=null,kn=!1}function R3(e){Go===null?Go=[e]:Go.push(e)}var hQ=qc.ReactCurrentBatchConfig;function Im(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(yt(309));var n=r.stateNode}if(!n)throw Error(yt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(yt(284));if(!r._owner)throw Error(yt(290,e))}return e}function qy(e,t){throw e=Object.prototype.toString.call(t),Error(yt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function O6(e){var t=e._init;return t(e._payload)}function M7(e){function t(y,w){if(e){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=af(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,O){return w===null||w.tag!==6?(w=Q_(_,y.mode,O),w.return=y,w):(w=a(w,_),w.return=y,w)}function l(y,w,_,O){var P=_.type;return P===r0?u(y,w,_.props.children,O,_.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Du&&O6(P)===w.type)?(O=a(w,_.props),O.ref=Im(y,w,_),O.return=y,O):(O=Hx(_.type,_.key,_.props,null,y.mode,O),O.ref=Im(y,w,_),O.return=y,O)}function c(y,w,_,O){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=J_(_,y.mode,O),w.return=y,w):(w=a(w,_.children||[]),w.return=y,w)}function u(y,w,_,O,P){return w===null||w.tag!==7?(w=Ph(_,y.mode,O,P),w.return=y,w):(w=a(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Q_(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Dy:return _=Hx(w.type,w.key,w.props,null,y.mode,_),_.ref=Im(y,null,w),_.return=y,_;case t0:return w=J_(w,y.mode,_),w.return=y,w;case Du:var O=w._init;return f(y,O(w._payload),_)}if(Zm(w)||km(w))return w=Ph(w,y.mode,_,null),w.return=y,w;qy(y,w)}return null}function h(y,w,_,O){var P=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:o(y,w,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Dy:return _.key===P?l(y,w,_,O):null;case t0:return _.key===P?c(y,w,_,O):null;case Du:return P=_._init,h(y,w,P(_._payload),O)}if(Zm(_)||km(_))return P!==null?null:u(y,w,_,O,null);qy(y,_)}return null}function d(y,w,_,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(_)||null,o(w,y,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Dy:return y=y.get(O.key===null?_:O.key)||null,l(w,y,O,P);case t0:return y=y.get(O.key===null?_:O.key)||null,c(w,y,O,P);case Du:var D=O._init;return d(y,w,_,D(O._payload),P)}if(Zm(O)||km(O))return y=y.get(_)||null,u(w,y,O,P,null);qy(w,O)}return null}function g(y,w,_,O){for(var P=null,D=null,T=w,A=w=0,b=null;T!==null&&A<_.length;A++){T.index>A?(b=T,T=null):b=T.sibling;var I=h(y,T,_[A],O);if(I===null){T===null&&(T=b);break}e&&T&&I.alternate===null&&t(y,T),w=i(I,w,A),D===null?P=I:D.sibling=I,D=I,T=b}if(A===_.length)return r(y,T),kn&&sh(y,A),P;if(T===null){for(;A<_.length;A++)T=f(y,_[A],O),T!==null&&(w=i(T,w,A),D===null?P=T:D.sibling=T,D=T);return kn&&sh(y,A),P}for(T=n(y,T);A<_.length;A++)b=d(T,y,A,_[A],O),b!==null&&(e&&b.alternate!==null&&T.delete(b.key===null?A:b.key),w=i(b,w,A),D===null?P=b:D.sibling=b,D=b);return e&&T.forEach(function(E){return t(y,E)}),kn&&sh(y,A),P}function m(y,w,_,O){var P=km(_);if(typeof P!="function")throw Error(yt(150));if(_=P.call(_),_==null)throw Error(yt(151));for(var D=P=null,T=w,A=w=0,b=null,I=_.next();T!==null&&!I.done;A++,I=_.next()){T.index>A?(b=T,T=null):b=T.sibling;var E=h(y,T,I.value,O);if(E===null){T===null&&(T=b);break}e&&T&&E.alternate===null&&t(y,T),w=i(E,w,A),D===null?P=E:D.sibling=E,D=E,T=b}if(I.done)return r(y,T),kn&&sh(y,A),P;if(T===null){for(;!I.done;A++,I=_.next())I=f(y,I.value,O),I!==null&&(w=i(I,w,A),D===null?P=I:D.sibling=I,D=I);return kn&&sh(y,A),P}for(T=n(y,T);!I.done;A++,I=_.next())I=d(T,y,A,I.value,O),I!==null&&(e&&I.alternate!==null&&T.delete(I.key===null?A:I.key),w=i(I,w,A),D===null?P=I:D.sibling=I,D=I);return e&&T.forEach(function(C){return t(y,C)}),kn&&sh(y,A),P}function v(y,w,_,O){if(typeof _=="object"&&_!==null&&_.type===r0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Dy:e:{for(var P=_.key,D=w;D!==null;){if(D.key===P){if(P=_.type,P===r0){if(D.tag===7){r(y,D.sibling),w=a(D,_.props.children),w.return=y,y=w;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Du&&O6(P)===D.type){r(y,D.sibling),w=a(D,_.props),w.ref=Im(y,D,_),w.return=y,y=w;break e}r(y,D);break}else t(y,D);D=D.sibling}_.type===r0?(w=Ph(_.props.children,y.mode,O,_.key),w.return=y,y=w):(O=Hx(_.type,_.key,_.props,null,y.mode,O),O.ref=Im(y,w,_),O.return=y,y=O)}return s(y);case t0:e:{for(D=_.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=a(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=J_(_,y.mode,O),w.return=y,y=w}return s(y);case Du:return D=_._init,v(y,w,D(_._payload),O)}if(Zm(_))return g(y,w,_,O);if(km(_))return m(y,w,_,O);qy(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,_),w.return=y,y=w):(r(y,w),w=Q_(_,y.mode,O),w.return=y,y=w),s(y)):r(y,w)}return v}var G0=M7(!0),R7=M7(!1),A2=Cf(null),T2=null,u0=null,F3=null;function $3(){F3=u0=T2=null}function B3(e){var t=A2.current;An(A2),e._currentValue=t}function a4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function k0(e,t){T2=e,F3=u0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fs=!0),e.firstContext=null)}function vo(e){var t=e._currentValue;if(F3!==e)if(e={context:e,memoizedValue:t,next:null},u0===null){if(T2===null)throw Error(yt(308));u0=e,T2.dependencies={lanes:0,firstContext:e}}else u0=u0.next=e;return t}var yh=null;function V3(e){yh===null?yh=[e]:yh.push(e)}function F7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,V3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Nc(e,n)}function Nc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ju=!1;function U3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Lr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Nc(e,r)}return a=n.interleaved,a===null?(t.next=t,V3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Nc(e,r)}function Bx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,k3(e,r)}}function I6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function E2(e,t,r,n){var a=e.updateQueue;ju=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,d=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=Mn({},f,h);break e;case 2:ju=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Vh|=s,e.lanes=s,e.memoizedState=f}}function D6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(yt(191,a));a.call(n)}}}var C1={},Ol=Cf(C1),iv=Cf(C1),sv=Cf(C1);function xh(e){if(e===C1)throw Error(yt(174));return e}function z3(e,t){switch(pn(sv,t),pn(iv,e),pn(Ol,C1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:FA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=FA(t,e)}An(Ol),pn(Ol,t)}function K0(){An(Ol),An(iv),An(sv)}function B7(e){xh(sv.current);var t=xh(Ol.current),r=FA(t,e.type);t!==r&&(pn(iv,e),pn(Ol,r))}function q3(e){iv.current===e&&(An(Ol),An(iv))}var Dn=Cf(0);function k2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var W_=[];function W3(){for(var e=0;e<W_.length;e++)W_[e]._workInProgressVersionPrimary=null;W_.length=0}var Vx=qc.ReactCurrentDispatcher,H_=qc.ReactCurrentBatchConfig,Bh=0,jn=null,wa=null,La=null,C2=!1,vg=!1,ov=0,dQ=0;function li(){throw Error(yt(321))}function H3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!al(e[r],t[r]))return!1;return!0}function G3(e,t,r,n,a,i){if(Bh=i,jn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vx.current=e===null||e.memoizedState===null?vQ:yQ,e=r(n,a),vg){i=0;do{if(vg=!1,ov=0,25<=i)throw Error(yt(301));i+=1,La=wa=null,t.updateQueue=null,Vx.current=xQ,e=r(n,a)}while(vg)}if(Vx.current=N2,t=wa!==null&&wa.next!==null,Bh=0,La=wa=jn=null,C2=!1,t)throw Error(yt(300));return e}function K3(){var e=ov!==0;return ov=0,e}function Al(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return La===null?jn.memoizedState=La=e:La=La.next=e,La}function yo(){if(wa===null){var e=jn.alternate;e=e!==null?e.memoizedState:null}else e=wa.next;var t=La===null?jn.memoizedState:La.next;if(t!==null)La=t,wa=e;else{if(e===null)throw Error(yt(310));wa=e,e={memoizedState:wa.memoizedState,baseState:wa.baseState,baseQueue:wa.baseQueue,queue:wa.queue,next:null},La===null?jn.memoizedState=La=e:La=La.next=e}return La}function lv(e,t){return typeof t=="function"?t(e):t}function G_(e){var t=yo(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=wa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Bh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,jn.lanes|=u,Vh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,al(n,t.memoizedState)||(fs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,jn.lanes|=i,Vh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function K_(e){var t=yo(),r=t.queue;if(r===null)throw Error(yt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);al(i,t.memoizedState)||(fs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function V7(){}function U7(e,t){var r=jn,n=yo(),a=t(),i=!al(n.memoizedState,a);if(i&&(n.memoizedState=a,fs=!0),n=n.queue,Y3(W7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||La!==null&&La.memoizedState.tag&1){if(r.flags|=2048,cv(9,q7.bind(null,r,n,a,t),void 0,null),$a===null)throw Error(yt(349));Bh&30||z7(r,t,a)}return a}function z7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function q7(e,t,r,n){t.value=r,t.getSnapshot=n,H7(t)&&G7(e)}function W7(e,t,r){return r(function(){H7(t)&&G7(e)})}function H7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!al(e,r)}catch{return!0}}function G7(e){var t=Nc(e,1);t!==null&&tl(t,e,1,-1)}function j6(e){var t=Al();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:e},t.queue=e,e=e.dispatch=gQ.bind(null,jn,e),[t.memoizedState,e]}function cv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=jn.updateQueue,t===null?(t={lastEffect:null,stores:null},jn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function K7(){return yo().memoizedState}function Ux(e,t,r,n){var a=Al();jn.flags|=e,a.memoizedState=cv(1|t,r,void 0,n===void 0?null:n)}function Dw(e,t,r,n){var a=yo();n=n===void 0?null:n;var i=void 0;if(wa!==null){var s=wa.memoizedState;if(i=s.destroy,n!==null&&H3(n,s.deps)){a.memoizedState=cv(t,r,i,n);return}}jn.flags|=e,a.memoizedState=cv(1|t,r,i,n)}function L6(e,t){return Ux(8390656,8,e,t)}function Y3(e,t){return Dw(2048,8,e,t)}function Y7(e,t){return Dw(4,2,e,t)}function X7(e,t){return Dw(4,4,e,t)}function Q7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function J7(e,t,r){return r=r!=null?r.concat([e]):null,Dw(4,4,Q7.bind(null,t,e),r)}function X3(){}function Z7(e,t){var r=yo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function e$(e,t){var r=yo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&H3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function t$(e,t,r){return Bh&21?(al(r,t)||(r=s7(),jn.lanes|=r,Vh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=r)}function pQ(e,t){var r=Jr;Jr=r!==0&&4>r?r:4,e(!0);var n=H_.transition;H_.transition={};try{e(!1),t()}finally{Jr=r,H_.transition=n}}function r$(){return yo().memoizedState}function mQ(e,t,r){var n=nf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},n$(e))a$(t,r);else if(r=F7(e,t,r,n),r!==null){var a=qi();tl(r,e,n,a),i$(r,t,n)}}function gQ(e,t,r){var n=nf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(n$(e))a$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,al(o,s)){var l=t.interleaved;l===null?(a.next=a,V3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=F7(e,t,a,n),r!==null&&(a=qi(),tl(r,e,n,a),i$(r,t,n))}}function n$(e){var t=e.alternate;return e===jn||t!==null&&t===jn}function a$(e,t){vg=C2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function i$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,k3(e,r)}}var N2={readContext:vo,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useInsertionEffect:li,useLayoutEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useMutableSource:li,useSyncExternalStore:li,useId:li,unstable_isNewReconciler:!1},vQ={readContext:vo,useCallback:function(e,t){return Al().memoizedState=[e,t===void 0?null:t],e},useContext:vo,useEffect:L6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Ux(4194308,4,Q7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ux(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ux(4,2,e,t)},useMemo:function(e,t){var r=Al();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Al();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=mQ.bind(null,jn,e),[n.memoizedState,e]},useRef:function(e){var t=Al();return e={current:e},t.memoizedState=e},useState:j6,useDebugValue:X3,useDeferredValue:function(e){return Al().memoizedState=e},useTransition:function(){var e=j6(!1),t=e[0];return e=pQ.bind(null,e[1]),Al().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=jn,a=Al();if(kn){if(r===void 0)throw Error(yt(407));r=r()}else{if(r=t(),$a===null)throw Error(yt(349));Bh&30||z7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,L6(W7.bind(null,n,i,e),[e]),n.flags|=2048,cv(9,q7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Al(),t=$a.identifierPrefix;if(kn){var r=dc,n=hc;r=(n&~(1<<32-el(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ov++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yQ={readContext:vo,useCallback:Z7,useContext:vo,useEffect:Y3,useImperativeHandle:J7,useInsertionEffect:Y7,useLayoutEffect:X7,useMemo:e$,useReducer:G_,useRef:K7,useState:function(){return G_(lv)},useDebugValue:X3,useDeferredValue:function(e){var t=yo();return t$(t,wa.memoizedState,e)},useTransition:function(){var e=G_(lv)[0],t=yo().memoizedState;return[e,t]},useMutableSource:V7,useSyncExternalStore:U7,useId:r$,unstable_isNewReconciler:!1},xQ={readContext:vo,useCallback:Z7,useContext:vo,useEffect:Y3,useImperativeHandle:J7,useInsertionEffect:Y7,useLayoutEffect:X7,useMemo:e$,useReducer:K_,useRef:K7,useState:function(){return K_(lv)},useDebugValue:X3,useDeferredValue:function(e){var t=yo();return wa===null?t.memoizedState=e:t$(t,wa.memoizedState,e)},useTransition:function(){var e=K_(lv)[0],t=yo().memoizedState;return[e,t]},useMutableSource:V7,useSyncExternalStore:U7,useId:r$,unstable_isNewReconciler:!1};function Uo(e,t){if(e&&e.defaultProps){t=Mn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function i4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Mn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jw={isMounted:function(e){return(e=e._reactInternals)?ad(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=qi(),a=nf(e),i=xc(n,a);i.payload=t,r!=null&&(i.callback=r),t=tf(e,i,a),t!==null&&(tl(t,e,a,n),Bx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=qi(),a=nf(e),i=xc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tf(e,i,a),t!==null&&(tl(t,e,a,n),Bx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=qi(),n=nf(e),a=xc(r,n);a.tag=2,t!=null&&(a.callback=t),t=tf(e,a,n),t!==null&&(tl(t,e,n,r),Bx(t,e,n))}};function M6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!tv(r,n)||!tv(a,i):!0}function s$(e,t,r){var n=!1,a=mf,i=t.contextType;return typeof i=="object"&&i!==null?i=vo(i):(a=ms(t)?Fh:Ci.current,n=t.contextTypes,i=(n=n!=null)?W0(e,a):mf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function R6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jw.enqueueReplaceState(t,t.state,null)}function s4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},U3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=vo(i):(i=ms(t)?Fh:Ci.current,a.context=W0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(i4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&jw.enqueueReplaceState(a,a.state,null),E2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Y0(e,t){try{var r="",n=t;do r+=GY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Y_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function o4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var bQ=typeof WeakMap=="function"?WeakMap:Map;function o$(e,t,r){r=xc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){O2||(O2=!0,v4=n),o4(e,t)},r}function l$(e,t,r){r=xc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){o4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){o4(e,t),typeof n!="function"&&(rf===null?rf=new Set([this]):rf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function F6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new bQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=jQ.bind(null,e,t,r),t.then(e,e))}function $6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function B6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xc(-1,1),t.tag=2,tf(r,t,1))),r.lanes|=1),e)}var wQ=qc.ReactCurrentOwner,fs=!1;function Fi(e,t,r,n){t.child=e===null?R7(t,null,r,n):G0(t,e.child,r,n)}function V6(e,t,r,n,a){r=r.render;var i=t.ref;return k0(t,a),n=G3(e,t,r,n,i,a),r=K3(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(kn&&r&&L3(t),t.flags|=1,Fi(e,t,n,a),t.child)}function U6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ak(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,c$(e,t,i,n,a)):(e=Hx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:tv,r(s,n)&&e.ref===t.ref)return Pc(e,t,a)}return t.flags|=1,e=af(i,n),e.ref=t.ref,e.return=t,t.child=e}function c$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(tv(i,n)&&e.ref===t.ref)if(fs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(fs=!0);else return t.lanes=e.lanes,Pc(e,t,a)}return l4(e,t,r,n,a)}function u$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pn(h0,Ns),Ns|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pn(h0,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pn(h0,Ns),Ns|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pn(h0,Ns),Ns|=n;return Fi(e,t,a,r),t.child}function f$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function l4(e,t,r,n,a){var i=ms(r)?Fh:Ci.current;return i=W0(t,i),k0(t,a),r=G3(e,t,r,n,i,a),n=K3(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(kn&&n&&L3(t),t.flags|=1,Fi(e,t,r,a),t.child)}function z6(e,t,r,n,a){if(ms(r)){var i=!0;w2(t)}else i=!1;if(k0(t,a),t.stateNode===null)zx(e,t),s$(t,r,n),s4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=vo(c):(c=ms(r)?Fh:Ci.current,c=W0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&R6(t,s,n,c),ju=!1;var h=t.memoizedState;s.state=h,E2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ps.current||ju?(typeof u=="function"&&(i4(t,r,u,n),l=t.memoizedState),(o=ju||M6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,$7(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Uo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=vo(l):(l=ms(r)?Fh:Ci.current,l=W0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&R6(t,s,n,l),ju=!1,h=t.memoizedState,s.state=h,E2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||ps.current||ju?(typeof d=="function"&&(i4(t,r,d,n),g=t.memoizedState),(c=ju||M6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return c4(e,t,r,n,i,a)}function c4(e,t,r,n,a,i){f$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&C6(t,r,!1),Pc(e,t,i);n=t.stateNode,wQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=G0(t,e.child,null,i),t.child=G0(t,null,o,i)):Fi(e,t,o,i),t.memoizedState=n.state,a&&C6(t,r,!0),t.child}function h$(e){var t=e.stateNode;t.pendingContext?k6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k6(e,t.context,!1),z3(e,t.containerInfo)}function q6(e,t,r,n,a){return H0(),R3(a),t.flags|=256,Fi(e,t,r,n),t.child}var u4={dehydrated:null,treeContext:null,retryLane:0};function f4(e){return{baseLanes:e,cachePool:null,transitions:null}}function d$(e,t,r){var n=t.pendingProps,a=Dn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),pn(Dn,a&1),e===null)return n4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Rw(s,n,0,null),e=Ph(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=f4(r),t.memoizedState=u4,e):Q3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return _Q(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=af(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=af(o,i):(i=Ph(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?f4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=u4,n}return i=e.child,e=i.sibling,n=af(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Q3(e,t){return t=Rw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wy(e,t,r,n){return n!==null&&R3(n),G0(t,e.child,null,r),e=Q3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function _Q(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=Y_(Error(yt(422))),Wy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Rw({mode:"visible",children:n.children},a,0,null),i=Ph(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&G0(t,e.child,null,s),t.child.memoizedState=f4(s),t.memoizedState=u4,i);if(!(t.mode&1))return Wy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(yt(419)),n=Y_(i,n,void 0),Wy(e,t,s,n)}if(o=(s&e.childLanes)!==0,fs||o){if(n=$a,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Nc(e,a),tl(n,e,a,-1))}return nk(),n=Y_(Error(yt(421))),Wy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=LQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,js=ef(a.nextSibling),Rs=t,kn=!0,Go=null,e!==null&&(lo[co++]=hc,lo[co++]=dc,lo[co++]=$h,hc=e.id,dc=e.overflow,$h=t),t=Q3(t,n.children),t.flags|=4096,t)}function W6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),a4(e.return,t,r)}function X_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function p$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Fi(e,t,n.children,r),n=Dn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&W6(e,r,t);else if(e.tag===19)W6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pn(Dn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&k2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),X_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&k2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}X_(t,!0,r,null,i);break;case"together":X_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Vh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(yt(153));if(t.child!==null){for(e=t.child,r=af(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=af(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function SQ(e,t,r){switch(t.tag){case 3:h$(t),H0();break;case 5:B7(t);break;case 1:ms(t.type)&&w2(t);break;case 4:z3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;pn(A2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pn(Dn,Dn.current&1),t.flags|=128,null):r&t.child.childLanes?d$(e,t,r):(pn(Dn,Dn.current&1),e=Pc(e,t,r),e!==null?e.sibling:null);pn(Dn,Dn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return p$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),pn(Dn,Dn.current),n)break;return null;case 22:case 23:return t.lanes=0,u$(e,t,r)}return Pc(e,t,r)}var m$,h4,g$,v$;m$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};h4=function(){};g$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,xh(Ol.current);var i=null;switch(r){case"input":a=jA(e,a),n=jA(e,n),i=[];break;case"select":a=Mn({},a,{value:void 0}),n=Mn({},n,{value:void 0}),i=[];break;case"textarea":a=RA(e,a),n=RA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=x2)}$A(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&xn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};v$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dm(e,t){if(!kn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ci(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function AQ(e,t,r){var n=t.pendingProps;switch(M3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ci(t),null;case 1:return ms(t.type)&&b2(),ci(t),null;case 3:return n=t.stateNode,K0(),An(ps),An(Ci),W3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(zy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Go!==null&&(b4(Go),Go=null))),h4(e,t),ci(t),null;case 5:q3(t);var a=xh(sv.current);if(r=t.type,e!==null&&t.stateNode!=null)g$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(yt(166));return ci(t),null}if(e=xh(Ol.current),zy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kl]=t,n[av]=i,e=(t.mode&1)!==0,r){case"dialog":xn("cancel",n),xn("close",n);break;case"iframe":case"object":case"embed":xn("load",n);break;case"video":case"audio":for(a=0;a<tg.length;a++)xn(tg[a],n);break;case"source":xn("error",n);break;case"img":case"image":case"link":xn("error",n),xn("load",n);break;case"details":xn("toggle",n);break;case"input":e6(n,i),xn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},xn("invalid",n);break;case"textarea":r6(n,i),xn("invalid",n)}$A(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Uy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Uy(n.textContent,o,e),a=["children",""+o]):Kg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&xn("scroll",n)}switch(r){case"input":jy(n),t6(n,i,!0);break;case"textarea":jy(n),n6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=x2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=WF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[kl]=t,e[av]=n,m$(e,t,!1,!1),t.stateNode=e;e:{switch(s=BA(r,n),r){case"dialog":xn("cancel",e),xn("close",e),a=n;break;case"iframe":case"object":case"embed":xn("load",e),a=n;break;case"video":case"audio":for(a=0;a<tg.length;a++)xn(tg[a],e);a=n;break;case"source":xn("error",e),a=n;break;case"img":case"image":case"link":xn("error",e),xn("load",e),a=n;break;case"details":xn("toggle",e),a=n;break;case"input":e6(e,n),a=jA(e,n),xn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Mn({},n,{value:void 0}),xn("invalid",e);break;case"textarea":r6(e,n),a=RA(e,n),xn("invalid",e);break;default:a=n}$A(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?KF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yg(e,l):typeof l=="number"&&Yg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&xn("scroll",e):l!=null&&w3(e,i,l,s))}switch(r){case"input":jy(e),t6(e,n,!1);break;case"textarea":jy(e),n6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+pf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?S0(e,!!n.multiple,i,!1):n.defaultValue!=null&&S0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=x2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ci(t),null;case 6:if(e&&t.stateNode!=null)v$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(yt(166));if(r=xh(sv.current),xh(Ol.current),zy(t)){if(n=t.stateNode,r=t.memoizedProps,n[kl]=t,(i=n.nodeValue!==r)&&(e=Rs,e!==null))switch(e.tag){case 3:Uy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Uy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kl]=t,t.stateNode=n}return ci(t),null;case 13:if(An(Dn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(kn&&js!==null&&t.mode&1&&!(t.flags&128))L7(),H0(),t.flags|=98560,i=!1;else if(i=zy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(yt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(yt(317));i[kl]=t}else H0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ci(t),i=!1}else Go!==null&&(b4(Go),Go=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Dn.current&1?Sa===0&&(Sa=3):nk())),t.updateQueue!==null&&(t.flags|=4),ci(t),null);case 4:return K0(),h4(e,t),e===null&&rv(t.stateNode.containerInfo),ci(t),null;case 10:return B3(t.type._context),ci(t),null;case 17:return ms(t.type)&&b2(),ci(t),null;case 19:if(An(Dn),i=t.memoizedState,i===null)return ci(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Dm(i,!1);else{if(Sa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=k2(e),s!==null){for(t.flags|=128,Dm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pn(Dn,Dn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ea()>X0&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304)}else{if(!n)if(e=k2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!kn)return ci(t),null}else 2*ea()-i.renderingStartTime>X0&&r!==1073741824&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ea(),t.sibling=null,r=Dn.current,pn(Dn,n?r&1|2:r&1),t):(ci(t),null);case 22:case 23:return rk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Ns&1073741824&&(ci(t),t.subtreeFlags&6&&(t.flags|=8192)):ci(t),null;case 24:return null;case 25:return null}throw Error(yt(156,t.tag))}function TQ(e,t){switch(M3(t),t.tag){case 1:return ms(t.type)&&b2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return K0(),An(ps),An(Ci),W3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return q3(t),null;case 13:if(An(Dn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(yt(340));H0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return An(Dn),null;case 4:return K0(),null;case 10:return B3(t.type._context),null;case 22:case 23:return rk(),null;case 24:return null;default:return null}}var Hy=!1,bi=!1,EQ=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function f0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Hn(e,t,n)}else r.current=null}function d4(e,t,r){try{r()}catch(n){Hn(e,t,n)}}var H6=!1;function kQ(e,t){if(XA=g2,e=_7(),j3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(QA={focusedElem:e,selectionRange:r},g2=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Uo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(yt(163))}}catch(O){Hn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return g=H6,H6=!1,g}function yg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&d4(t,r,i)}a=a.next}while(a!==n)}}function Lw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function p4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function y$(e){var t=e.alternate;t!==null&&(e.alternate=null,y$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kl],delete t[av],delete t[e4],delete t[cQ],delete t[uQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function x$(e){return e.tag===5||e.tag===3||e.tag===4}function G6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function m4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=x2));else if(n!==4&&(e=e.child,e!==null))for(m4(e,t,r),e=e.sibling;e!==null;)m4(e,t,r),e=e.sibling}function g4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(g4(e,t,r),e=e.sibling;e!==null;)g4(e,t,r),e=e.sibling}var Ka=null,qo=!1;function Eu(e,t,r){for(r=r.child;r!==null;)b$(e,t,r),r=r.sibling}function b$(e,t,r){if(Pl&&typeof Pl.onCommitFiberUnmount=="function")try{Pl.onCommitFiberUnmount(kw,r)}catch{}switch(r.tag){case 5:bi||f0(r,t);case 6:var n=Ka,a=qo;Ka=null,Eu(e,t,r),Ka=n,qo=a,Ka!==null&&(qo?(e=Ka,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ka.removeChild(r.stateNode));break;case 18:Ka!==null&&(qo?(e=Ka,r=r.stateNode,e.nodeType===8?z_(e.parentNode,r):e.nodeType===1&&z_(e,r),Zg(e)):z_(Ka,r.stateNode));break;case 4:n=Ka,a=qo,Ka=r.stateNode.containerInfo,qo=!0,Eu(e,t,r),Ka=n,qo=a;break;case 0:case 11:case 14:case 15:if(!bi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&d4(r,t,s),a=a.next}while(a!==n)}Eu(e,t,r);break;case 1:if(!bi&&(f0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Hn(r,t,o)}Eu(e,t,r);break;case 21:Eu(e,t,r);break;case 22:r.mode&1?(bi=(n=bi)||r.memoizedState!==null,Eu(e,t,r),bi=n):Eu(e,t,r);break;default:Eu(e,t,r)}}function K6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new EQ),t.forEach(function(n){var a=MQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function jo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ka=o.stateNode,qo=!1;break e;case 3:Ka=o.stateNode.containerInfo,qo=!0;break e;case 4:Ka=o.stateNode.containerInfo,qo=!0;break e}o=o.return}if(Ka===null)throw Error(yt(160));b$(i,s,a),Ka=null,qo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Hn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)w$(t,e),t=t.sibling}function w$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jo(t,e),bl(e),n&4){try{yg(3,e,e.return),Lw(3,e)}catch(m){Hn(e,e.return,m)}try{yg(5,e,e.return)}catch(m){Hn(e,e.return,m)}}break;case 1:jo(t,e),bl(e),n&512&&r!==null&&f0(r,r.return);break;case 5:if(jo(t,e),bl(e),n&512&&r!==null&&f0(r,r.return),e.flags&32){var a=e.stateNode;try{Yg(a,"")}catch(m){Hn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&zF(a,i),BA(o,s);var c=BA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?KF(a,f):u==="dangerouslySetInnerHTML"?HF(a,f):u==="children"?Yg(a,f):w3(a,u,f,c)}switch(o){case"input":LA(a,i);break;case"textarea":qF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?S0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?S0(a,!!i.multiple,i.defaultValue,!0):S0(a,!!i.multiple,i.multiple?[]:"",!1))}a[av]=i}catch(m){Hn(e,e.return,m)}}break;case 6:if(jo(t,e),bl(e),n&4){if(e.stateNode===null)throw Error(yt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Hn(e,e.return,m)}}break;case 3:if(jo(t,e),bl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zg(t.containerInfo)}catch(m){Hn(e,e.return,m)}break;case 4:jo(t,e),bl(e);break;case 13:jo(t,e),bl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(ek=ea())),n&4&&K6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(bi=(c=bi)||u,jo(t,e),bi=c):jo(t,e),bl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Mt=e,u=e.child;u!==null;){for(f=Mt=u;Mt!==null;){switch(h=Mt,d=h.child,h.tag){case 0:case 11:case 14:case 15:yg(4,h,h.return);break;case 1:f0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Hn(n,r,m)}}break;case 5:f0(h,h.return);break;case 22:if(h.memoizedState!==null){X6(f);continue}}d!==null?(d.return=h,Mt=d):X6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=GF("display",s))}catch(m){Hn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Hn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:jo(t,e),bl(e),n&4&&K6(e);break;case 21:break;default:jo(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(x$(r)){var n=r;break e}r=r.return}throw Error(yt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yg(a,""),n.flags&=-33);var i=G6(e);g4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=G6(e);m4(e,o,s);break;default:throw Error(yt(161))}}catch(l){Hn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function CQ(e,t,r){Mt=e,_$(e)}function _$(e,t,r){for(var n=(e.mode&1)!==0;Mt!==null;){var a=Mt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Hy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||bi;o=Hy;var c=bi;if(Hy=s,(bi=l)&&!c)for(Mt=a;Mt!==null;)s=Mt,l=s.child,s.tag===22&&s.memoizedState!==null?Q6(a):l!==null?(l.return=s,Mt=l):Q6(a);for(;i!==null;)Mt=i,_$(i),i=i.sibling;Mt=a,Hy=o,bi=c}Y6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Mt=i):Y6(e)}}function Y6(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:bi||Lw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!bi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Uo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&D6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}D6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(yt(163))}bi||t.flags&512&&p4(t)}catch(h){Hn(t,t.return,h)}}if(t===e){Mt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function X6(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Mt=r;break}Mt=t.return}}function Q6(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Lw(4,t)}catch(l){Hn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Hn(t,a,l)}}var i=t.return;try{p4(t)}catch(l){Hn(t,i,l)}break;case 5:var s=t.return;try{p4(t)}catch(l){Hn(t,s,l)}}}catch(l){Hn(t,t.return,l)}if(t===e){Mt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Mt=o;break}Mt=t.return}}var NQ=Math.ceil,P2=qc.ReactCurrentDispatcher,J3=qc.ReactCurrentOwner,ho=qc.ReactCurrentBatchConfig,Lr=0,$a=null,da=null,ti=0,Ns=0,h0=Cf(0),Sa=0,uv=null,Vh=0,Mw=0,Z3=0,xg=null,ls=null,ek=0,X0=1/0,uc=null,O2=!1,v4=null,rf=null,Gy=!1,zu=null,I2=0,bg=0,y4=null,qx=-1,Wx=0;function qi(){return Lr&6?ea():qx!==-1?qx:qx=ea()}function nf(e){return e.mode&1?Lr&2&&ti!==0?ti&-ti:hQ.transition!==null?(Wx===0&&(Wx=s7()),Wx):(e=Jr,e!==0||(e=window.event,e=e===void 0?16:d7(e.type)),e):1}function tl(e,t,r,n){if(50<bg)throw bg=0,y4=null,Error(yt(185));T1(e,r,n),(!(Lr&2)||e!==$a)&&(e===$a&&(!(Lr&2)&&(Mw|=r),Sa===4&&Ru(e,ti)),gs(e,n),r===1&&Lr===0&&!(t.mode&1)&&(X0=ea()+500,Iw&&Nf()))}function gs(e,t){var r=e.callbackNode;hX(e,t);var n=m2(e,e===$a?ti:0);if(n===0)r!==null&&s6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&s6(r),t===1)e.tag===0?fQ(J6.bind(null,e)):I7(J6.bind(null,e)),oQ(function(){!(Lr&6)&&Nf()}),r=null;else{switch(o7(n)){case 1:r=E3;break;case 4:r=a7;break;case 16:r=p2;break;case 536870912:r=i7;break;default:r=p2}r=P$(r,S$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function S$(e,t){if(qx=-1,Wx=0,Lr&6)throw Error(yt(327));var r=e.callbackNode;if(C0()&&e.callbackNode!==r)return null;var n=m2(e,e===$a?ti:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=D2(e,n);else{t=n;var a=Lr;Lr|=2;var i=T$();($a!==e||ti!==t)&&(uc=null,X0=ea()+500,Nh(e,t));do try{IQ();break}catch(o){A$(e,o)}while(!0);$3(),P2.current=i,Lr=a,da!==null?t=0:($a=null,ti=0,t=Sa)}if(t!==0){if(t===2&&(a=WA(e),a!==0&&(n=a,t=x4(e,a))),t===1)throw r=uv,Nh(e,0),Ru(e,n),gs(e,ea()),r;if(t===6)Ru(e,n);else{if(a=e.current.alternate,!(n&30)&&!PQ(a)&&(t=D2(e,n),t===2&&(i=WA(e),i!==0&&(n=i,t=x4(e,i))),t===1))throw r=uv,Nh(e,0),Ru(e,n),gs(e,ea()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(yt(345));case 2:oh(e,ls,uc);break;case 3:if(Ru(e,n),(n&130023424)===n&&(t=ek+500-ea(),10<t)){if(m2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){qi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ZA(oh.bind(null,e,ls,uc),t);break}oh(e,ls,uc);break;case 4:if(Ru(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-el(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=ea()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*NQ(n/1960))-n,10<n){e.timeoutHandle=ZA(oh.bind(null,e,ls,uc),n);break}oh(e,ls,uc);break;case 5:oh(e,ls,uc);break;default:throw Error(yt(329))}}}return gs(e,ea()),e.callbackNode===r?S$.bind(null,e):null}function x4(e,t){var r=xg;return e.current.memoizedState.isDehydrated&&(Nh(e,t).flags|=256),e=D2(e,t),e!==2&&(t=ls,ls=r,t!==null&&b4(t)),e}function b4(e){ls===null?ls=e:ls.push.apply(ls,e)}function PQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!al(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t){for(t&=~Z3,t&=~Mw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-el(t),n=1<<r;e[r]=-1,t&=~n}}function J6(e){if(Lr&6)throw Error(yt(327));C0();var t=m2(e,0);if(!(t&1))return gs(e,ea()),null;var r=D2(e,t);if(e.tag!==0&&r===2){var n=WA(e);n!==0&&(t=n,r=x4(e,n))}if(r===1)throw r=uv,Nh(e,0),Ru(e,t),gs(e,ea()),r;if(r===6)throw Error(yt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oh(e,ls,uc),gs(e,ea()),null}function tk(e,t){var r=Lr;Lr|=1;try{return e(t)}finally{Lr=r,Lr===0&&(X0=ea()+500,Iw&&Nf())}}function Uh(e){zu!==null&&zu.tag===0&&!(Lr&6)&&C0();var t=Lr;Lr|=1;var r=ho.transition,n=Jr;try{if(ho.transition=null,Jr=1,e)return e()}finally{Jr=n,ho.transition=r,Lr=t,!(Lr&6)&&Nf()}}function rk(){Ns=h0.current,An(h0)}function Nh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sQ(r)),da!==null)for(r=da.return;r!==null;){var n=r;switch(M3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&b2();break;case 3:K0(),An(ps),An(Ci),W3();break;case 5:q3(n);break;case 4:K0();break;case 13:An(Dn);break;case 19:An(Dn);break;case 10:B3(n.type._context);break;case 22:case 23:rk()}r=r.return}if($a=e,da=e=af(e.current,null),ti=Ns=t,Sa=0,uv=null,Z3=Mw=Vh=0,ls=xg=null,yh!==null){for(t=0;t<yh.length;t++)if(r=yh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}yh=null}return e}function A$(e,t){do{var r=da;try{if($3(),Vx.current=N2,C2){for(var n=jn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}C2=!1}if(Bh=0,La=wa=jn=null,vg=!1,ov=0,J3.current=null,r===null||r.return===null){Sa=1,uv=t,da=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=ti,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=$6(s);if(d!==null){d.flags&=-257,B6(d,s,o,i,t),d.mode&1&&F6(i,c,t),t=d,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){F6(i,c,t),nk();break e}l=Error(yt(426))}}else if(kn&&o.mode&1){var v=$6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),B6(v,s,o,i,t),R3(Y0(l,o));break e}}i=l=Y0(l,o),Sa!==4&&(Sa=2),xg===null?xg=[i]:xg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=o$(i,l,t);I6(i,y);break e;case 1:o=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(rf===null||!rf.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=l$(i,o,t);I6(i,O);break e}}i=i.return}while(i!==null)}k$(r)}catch(P){t=P,da===r&&r!==null&&(da=r=r.return);continue}break}while(!0)}function T$(){var e=P2.current;return P2.current=N2,e===null?N2:e}function nk(){(Sa===0||Sa===3||Sa===2)&&(Sa=4),$a===null||!(Vh&268435455)&&!(Mw&268435455)||Ru($a,ti)}function D2(e,t){var r=Lr;Lr|=2;var n=T$();($a!==e||ti!==t)&&(uc=null,Nh(e,t));do try{OQ();break}catch(a){A$(e,a)}while(!0);if($3(),Lr=r,P2.current=n,da!==null)throw Error(yt(261));return $a=null,ti=0,Sa}function OQ(){for(;da!==null;)E$(da)}function IQ(){for(;da!==null&&!nX();)E$(da)}function E$(e){var t=N$(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,t===null?k$(e):da=t,J3.current=null}function k$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=TQ(r,t),r!==null){r.flags&=32767,da=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Sa=6,da=null;return}}else if(r=AQ(r,t,Ns),r!==null){da=r;return}if(t=t.sibling,t!==null){da=t;return}da=t=e}while(t!==null);Sa===0&&(Sa=5)}function oh(e,t,r){var n=Jr,a=ho.transition;try{ho.transition=null,Jr=1,DQ(e,t,r,n)}finally{ho.transition=a,Jr=n}return null}function DQ(e,t,r,n){do C0();while(zu!==null);if(Lr&6)throw Error(yt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(yt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(dX(e,i),e===$a&&(da=$a=null,ti=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gy||(Gy=!0,P$(p2,function(){return C0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ho.transition,ho.transition=null;var s=Jr;Jr=1;var o=Lr;Lr|=4,J3.current=null,kQ(e,r),w$(r,e),ZX(QA),g2=!!XA,QA=XA=null,e.current=r,CQ(r),aX(),Lr=o,Jr=s,ho.transition=i}else e.current=r;if(Gy&&(Gy=!1,zu=e,I2=a),i=e.pendingLanes,i===0&&(rf=null),oX(r.stateNode),gs(e,ea()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(O2)throw O2=!1,e=v4,v4=null,e;return I2&1&&e.tag!==0&&C0(),i=e.pendingLanes,i&1?e===y4?bg++:(bg=0,y4=e):bg=0,Nf(),null}function C0(){if(zu!==null){var e=o7(I2),t=ho.transition,r=Jr;try{if(ho.transition=null,Jr=16>e?16:e,zu===null)var n=!1;else{if(e=zu,zu=null,I2=0,Lr&6)throw Error(yt(331));var a=Lr;for(Lr|=4,Mt=e.current;Mt!==null;){var i=Mt,s=i.child;if(Mt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Mt=c;Mt!==null;){var u=Mt;switch(u.tag){case 0:case 11:case 15:yg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Mt=f;else for(;Mt!==null;){u=Mt;var h=u.sibling,d=u.return;if(y$(u),u===c){Mt=null;break}if(h!==null){h.return=d,Mt=h;break}Mt=d}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Mt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Mt=s;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Mt=y;break e}Mt=i.return}}var w=e.current;for(Mt=w;Mt!==null;){s=Mt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Mt=_;else e:for(s=w;Mt!==null;){if(o=Mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lw(9,o)}}catch(P){Hn(o,o.return,P)}if(o===s){Mt=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Mt=O;break e}Mt=o.return}}if(Lr=a,Nf(),Pl&&typeof Pl.onPostCommitFiberRoot=="function")try{Pl.onPostCommitFiberRoot(kw,e)}catch{}n=!0}return n}finally{Jr=r,ho.transition=t}}return!1}function Z6(e,t,r){t=Y0(r,t),t=o$(e,t,1),e=tf(e,t,1),t=qi(),e!==null&&(T1(e,1,t),gs(e,t))}function Hn(e,t,r){if(e.tag===3)Z6(e,e,r);else for(;t!==null;){if(t.tag===3){Z6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rf===null||!rf.has(n))){e=Y0(r,e),e=l$(t,e,1),t=tf(t,e,1),e=qi(),t!==null&&(T1(t,1,e),gs(t,e));break}}t=t.return}}function jQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=qi(),e.pingedLanes|=e.suspendedLanes&r,$a===e&&(ti&r)===r&&(Sa===4||Sa===3&&(ti&130023424)===ti&&500>ea()-ek?Nh(e,0):Z3|=r),gs(e,t)}function C$(e,t){t===0&&(e.mode&1?(t=Ry,Ry<<=1,!(Ry&130023424)&&(Ry=4194304)):t=1);var r=qi();e=Nc(e,t),e!==null&&(T1(e,t,r),gs(e,r))}function LQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),C$(e,r)}function MQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(yt(314))}n!==null&&n.delete(t),C$(e,r)}var N$;N$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ps.current)fs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fs=!1,SQ(e,t,r);fs=!!(e.flags&131072)}else fs=!1,kn&&t.flags&1048576&&D7(t,S2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;zx(e,t),e=t.pendingProps;var a=W0(t,Ci.current);k0(t,r),a=G3(null,t,n,e,a,r);var i=K3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ms(n)?(i=!0,w2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,U3(t),a.updater=jw,t.stateNode=a,a._reactInternals=t,s4(t,n,e,r),t=c4(null,t,n,!0,i,r)):(t.tag=0,kn&&i&&L3(t),Fi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(zx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=FQ(n),e=Uo(n,e),a){case 0:t=l4(null,t,n,e,r);break e;case 1:t=z6(null,t,n,e,r);break e;case 11:t=V6(null,t,n,e,r);break e;case 14:t=U6(null,t,n,Uo(n.type,e),r);break e}throw Error(yt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),l4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),z6(e,t,n,a,r);case 3:e:{if(h$(t),e===null)throw Error(yt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,$7(e,t),E2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Y0(Error(yt(423)),t),t=q6(e,t,n,r,a);break e}else if(n!==a){a=Y0(Error(yt(424)),t),t=q6(e,t,n,r,a);break e}else for(js=ef(t.stateNode.containerInfo.firstChild),Rs=t,kn=!0,Go=null,r=R7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(H0(),n===a){t=Pc(e,t,r);break e}Fi(e,t,n,r)}t=t.child}return t;case 5:return B7(t),e===null&&n4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,JA(n,a)?s=null:i!==null&&JA(n,i)&&(t.flags|=32),f$(e,t),Fi(e,t,s,r),t.child;case 6:return e===null&&n4(t),null;case 13:return d$(e,t,r);case 4:return z3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=G0(t,null,n,r):Fi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),V6(e,t,n,a,r);case 7:return Fi(e,t,t.pendingProps,r),t.child;case 8:return Fi(e,t,t.pendingProps.children,r),t.child;case 12:return Fi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,pn(A2,n._currentValue),n._currentValue=s,i!==null)if(al(i.value,s)){if(i.children===a.children&&!ps.current){t=Pc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),a4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(yt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),a4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Fi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,k0(t,r),a=vo(a),n=n(a),t.flags|=1,Fi(e,t,n,r),t.child;case 14:return n=t.type,a=Uo(n,t.pendingProps),a=Uo(n.type,a),U6(e,t,n,a,r);case 15:return c$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Uo(n,a),zx(e,t),t.tag=1,ms(n)?(e=!0,w2(t)):e=!1,k0(t,r),s$(t,n,a),s4(t,n,a,r),c4(null,t,n,!0,e,r);case 19:return p$(e,t,r);case 22:return u$(e,t,r)}throw Error(yt(156,t.tag))};function P$(e,t){return n7(e,t)}function RQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function uo(e,t,r,n){return new RQ(e,t,r,n)}function ak(e){return e=e.prototype,!(!e||!e.isReactComponent)}function FQ(e){if(typeof e=="function")return ak(e)?1:0;if(e!=null){if(e=e.$$typeof,e===S3)return 11;if(e===A3)return 14}return 2}function af(e,t){var r=e.alternate;return r===null?(r=uo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")ak(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case r0:return Ph(r.children,a,i,t);case _3:s=8,a|=8;break;case PA:return e=uo(12,r,t,a|2),e.elementType=PA,e.lanes=i,e;case OA:return e=uo(13,r,t,a),e.elementType=OA,e.lanes=i,e;case IA:return e=uo(19,r,t,a),e.elementType=IA,e.lanes=i,e;case BF:return Rw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FF:s=10;break e;case $F:s=9;break e;case S3:s=11;break e;case A3:s=14;break e;case Du:s=16,n=null;break e}throw Error(yt(130,e==null?e:typeof e,""))}return t=uo(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ph(e,t,r,n){return e=uo(7,e,n,t),e.lanes=r,e}function Rw(e,t,r,n){return e=uo(22,e,n,t),e.elementType=BF,e.lanes=r,e.stateNode={isHidden:!1},e}function Q_(e,t,r){return e=uo(6,e,null,t),e.lanes=r,e}function J_(e,t,r){return t=uo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $Q(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=I_(0),this.expirationTimes=I_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=I_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function ik(e,t,r,n,a,i,s,o,l){return e=new $Q(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=uo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},U3(i),e}function BQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:t0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function O$(e){if(!e)return mf;e=e._reactInternals;e:{if(ad(e)!==e||e.tag!==1)throw Error(yt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(yt(171))}if(e.tag===1){var r=e.type;if(ms(r))return O7(e,r,t)}return t}function I$(e,t,r,n,a,i,s,o,l){return e=ik(r,n,!0,e,a,i,s,o,l),e.context=O$(null),r=e.current,n=qi(),a=nf(r),i=xc(n,a),i.callback=t??null,tf(r,i,a),e.current.lanes=a,T1(e,a,n),gs(e,n),e}function Fw(e,t,r,n){var a=t.current,i=qi(),s=nf(a);return r=O$(r),t.context===null?t.context=r:t.pendingContext=r,t=xc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tf(a,t,s),e!==null&&(tl(e,a,s,i),Bx(e,a,s)),s}function j2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function sk(e,t){eO(e,t),(e=e.alternate)&&eO(e,t)}function VQ(){return null}var D$=typeof reportError=="function"?reportError:function(e){console.error(e)};function ok(e){this._internalRoot=e}$w.prototype.render=ok.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(yt(409));Fw(e,t,null,null)};$w.prototype.unmount=ok.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Uh(function(){Fw(null,e,null,null)}),t[Cc]=null}};function $w(e){this._internalRoot=e}$w.prototype.unstable_scheduleHydration=function(e){if(e){var t=u7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mu.length&&t!==0&&t<Mu[r].priority;r++);Mu.splice(r,0,e),r===0&&h7(e)}};function lk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tO(){}function UQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=j2(s);i.call(c)}}var s=I$(t,n,e,0,null,!1,!1,"",tO);return e._reactRootContainer=s,e[Cc]=s.current,rv(e.nodeType===8?e.parentNode:e),Uh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=j2(l);o.call(c)}}var l=ik(e,0,!1,null,null,!1,!1,"",tO);return e._reactRootContainer=l,e[Cc]=l.current,rv(e.nodeType===8?e.parentNode:e),Uh(function(){Fw(t,l,r,n)}),l}function Vw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=j2(s);o.call(l)}}Fw(t,s,e,a)}else s=UQ(r,t,e,a,n);return j2(s)}l7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eg(t.pendingLanes);r!==0&&(k3(t,r|1),gs(t,ea()),!(Lr&6)&&(X0=ea()+500,Nf()))}break;case 13:Uh(function(){var n=Nc(e,1);if(n!==null){var a=qi();tl(n,e,1,a)}}),sk(e,1)}};C3=function(e){if(e.tag===13){var t=Nc(e,134217728);if(t!==null){var r=qi();tl(t,e,134217728,r)}sk(e,134217728)}};c7=function(e){if(e.tag===13){var t=nf(e),r=Nc(e,t);if(r!==null){var n=qi();tl(r,e,t,n)}sk(e,t)}};u7=function(){return Jr};f7=function(e,t){var r=Jr;try{return Jr=e,t()}finally{Jr=r}};UA=function(e,t,r){switch(t){case"input":if(LA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ow(n);if(!a)throw Error(yt(90));UF(n),LA(n,a)}}}break;case"textarea":qF(e,r);break;case"select":t=r.value,t!=null&&S0(e,!!r.multiple,t,!1)}};QF=tk;JF=Uh;var zQ={usingClientEntryPoint:!1,Events:[k1,s0,Ow,YF,XF,tk]},jm={findFiberByHostInstance:vh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qQ={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t7(e),e===null?null:e.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||VQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ky=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ky.isDisabled&&Ky.supportsFiber)try{kw=Ky.inject(qQ),Pl=Ky}catch{}}zs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zQ;zs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lk(t))throw Error(yt(200));return BQ(e,t,null,r)};zs.createRoot=function(e,t){if(!lk(e))throw Error(yt(299));var r=!1,n="",a=D$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=ik(e,1,!1,null,null,r,!1,n,a),e[Cc]=t.current,rv(e.nodeType===8?e.parentNode:e),new ok(t)};zs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(yt(188)):(e=Object.keys(e).join(","),Error(yt(268,e)));return e=t7(t),e=e===null?null:e.stateNode,e};zs.flushSync=function(e){return Uh(e)};zs.hydrate=function(e,t,r){if(!Bw(t))throw Error(yt(200));return Vw(null,e,t,!0,r)};zs.hydrateRoot=function(e,t,r){if(!lk(e))throw Error(yt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=D$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=I$(t,null,e,1,r??null,a,!1,i,s),e[Cc]=t.current,rv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new $w(t)};zs.render=function(e,t,r){if(!Bw(t))throw Error(yt(200));return Vw(null,e,t,!1,r)};zs.unmountComponentAtNode=function(e){if(!Bw(e))throw Error(yt(40));return e._reactRootContainer?(Uh(function(){Vw(null,null,e,!1,function(){e._reactRootContainer=null,e[Cc]=null})}),!0):!1};zs.unstable_batchedUpdates=tk;zs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bw(r))throw Error(yt(200));if(e==null||e._reactInternals===void 0)throw Error(yt(38));return Vw(e,t,r,!1,n)};zs.version="18.3.1-next-f1338f8080-20240426";function j$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j$)}catch(e){console.error(e)}}j$(),jF.exports=zs;var WQ=jF.exports,L$,rO=WQ;L$=rO.createRoot,rO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(this,arguments)}var qu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qu||(qu={}));const nO="popstate";function HQ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return w4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:L2(a)}return KQ(t,r,null,e)}function Ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function GQ(){return Math.random().toString(36).substr(2,8)}function aO(e,t){return{usr:e.state,key:e.key,idx:t}}function w4(e,t,r,n){return r===void 0&&(r=null),fv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rp(t):t,{state:r,key:t&&t.key||n||GQ()})}function L2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function KQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=qu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(fv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=qu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=qu.Push;let w=w4(m.location,v,y);c=u()+1;let _=aO(w,c),O=m.createHref(w);try{s.pushState(_,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(O)}i&&l&&l({action:o,location:m.location,delta:1})}function d(v,y){o=qu.Replace;let w=w4(m.location,v,y);c=u();let _=aO(w,c),O=m.createHref(w);s.replaceState(_,"",O),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:L2(v);return w=w.replace(/ $/,"%20"),Ln(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(nO,f),l=v,()=>{a.removeEventListener(nO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return s.go(v)}};return m}var iO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iO||(iO={}));function YQ(e,t,r){return r===void 0&&(r="/"),XQ(e,t,r,!1)}function XQ(e,t,r,n){let a=typeof t=="string"?Rp(t):t,i=Q0(a.pathname||"/",r);if(i==null)return null;let s=R$(e);QQ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=lJ(i);o=sJ(s[l],c,n)}return o}function R$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Ln(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=sf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),R$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:aJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of F$(i.path))a(i,s,l)}),t}function F$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=F$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function QQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:iJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const JQ=/^:[\w-]+$/,ZQ=3,eJ=2,tJ=1,rJ=10,nJ=-2,sO=e=>e==="*";function aJ(e,t){let r=e.split("/"),n=r.length;return r.some(sO)&&(n+=nJ),t&&(n+=eJ),r.filter(a=>!sO(a)).reduce((a,i)=>a+(JQ.test(i)?ZQ:i===""?tJ:rJ),n)}function iJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function sJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=M2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=M2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:sf([i,f.pathname]),pathnameBase:hJ(sf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sf([i,f.pathnameBase]))}return s}function M2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=oJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function oJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),M$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function lJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return M$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Q0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function cJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Rp(e):e;return{pathname:r?r.startsWith("/")?r:uJ(r,t):t,search:dJ(n),hash:pJ(a)}}function uJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Z_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ck(e,t){let r=fJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Rp(e):(a=fv({},e),Ln(!a.pathname||!a.pathname.includes("?"),Z_("?","pathname","search",a)),Ln(!a.pathname||!a.pathname.includes("#"),Z_("#","pathname","hash",a)),Ln(!a.search||!a.search.includes("#"),Z_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=cJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const sf=e=>e.join("/").replace(/\/\/+/g,"/"),hJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),dJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,pJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function mJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $$=["post","put","patch","delete"];new Set($$);const gJ=["get",...$$];new Set(gJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}const Uw=Q.createContext(null),B$=Q.createContext(null),Wc=Q.createContext(null),zw=Q.createContext(null),Hc=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),V$=Q.createContext(null);function vJ(e,t){let{relative:r}=t===void 0?{}:t;Fp()||Ln(!1);let{basename:n,navigator:a}=Q.useContext(Wc),{hash:i,pathname:s,search:o}=qw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:sf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Fp(){return Q.useContext(zw)!=null}function $p(){return Fp()||Ln(!1),Q.useContext(zw).location}function U$(e){Q.useContext(Wc).static||Q.useLayoutEffect(e)}function N1(){let{isDataRoute:e}=Q.useContext(Hc);return e?IJ():yJ()}function yJ(){Fp()||Ln(!1);let e=Q.useContext(Uw),{basename:t,future:r,navigator:n}=Q.useContext(Wc),{matches:a}=Q.useContext(Hc),{pathname:i}=$p(),s=JSON.stringify(ck(a,r.v7_relativeSplatPath)),o=Q.useRef(!1);return U$(()=>{o.current=!0}),Q.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=uk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const xJ=Q.createContext(null);function bJ(e){let t=Q.useContext(Hc).outlet;return t&&Q.createElement(xJ.Provider,{value:e},t)}function qw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Q.useContext(Wc),{matches:a}=Q.useContext(Hc),{pathname:i}=$p(),s=JSON.stringify(ck(a,n.v7_relativeSplatPath));return Q.useMemo(()=>uk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function wJ(e,t){return _J(e,t)}function _J(e,t,r,n){Fp()||Ln(!1);let{navigator:a,static:i}=Q.useContext(Wc),{matches:s}=Q.useContext(Hc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$p(),f;if(t){var h;let y=typeof t=="string"?Rp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Ln(!1),f=y}else f=u;let d=f.pathname||"/",g=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:YQ(e,{pathname:g}),v=kJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:sf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:sf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?Q.createElement(zw.Provider,{value:{location:hv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qu.Pop}},v):v}function SJ(){let e=OJ(),t=mJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),r?Q.createElement("pre",{style:a},r):null,null)}const AJ=Q.createElement(SJ,null);class TJ extends Q.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Q.createElement(Hc.Provider,{value:this.props.routeContext},Q.createElement(V$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EJ(e){let{routeContext:t,match:r,children:n}=e,a=Q.useContext(Uw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),Q.createElement(Hc.Provider,{value:t},n)}function kJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Ln(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,g=!1,m=null,v=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||AJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let _;return d?_=m:g?_=v:f.route.Component?_=Q.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,Q.createElement(EJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Q.createElement(TJ,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var z$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(z$||{}),R2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(R2||{});function CJ(e){let t=Q.useContext(Uw);return t||Ln(!1),t}function NJ(e){let t=Q.useContext(B$);return t||Ln(!1),t}function PJ(e){let t=Q.useContext(Hc);return t||Ln(!1),t}function q$(e){let t=PJ(),r=t.matches[t.matches.length-1];return r.route.id||Ln(!1),r.route.id}function OJ(){var e;let t=Q.useContext(V$),r=NJ(R2.UseRouteError),n=q$(R2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function IJ(){let{router:e}=CJ(z$.UseNavigateStable),t=q$(R2.UseNavigateStable),r=Q.useRef(!1);return U$(()=>{r.current=!0}),Q.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,hv({fromRouteId:t},i)))},[e,t])}function DJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function _4(e){let{to:t,replace:r,state:n,relative:a}=e;Fp()||Ln(!1);let{future:i,static:s}=Q.useContext(Wc),{matches:o}=Q.useContext(Hc),{pathname:l}=$p(),c=N1(),u=uk(t,ck(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return Q.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function jJ(e){return bJ(e.context)}function is(e){Ln(!1)}function LJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=qu.Pop,navigator:i,static:s=!1,future:o}=e;Fp()&&Ln(!1);let l=t.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:i,static:s,future:hv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Rp(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:g="default"}=n,m=Q.useMemo(()=>{let v=Q0(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:d,key:g},navigationType:a}},[l,u,f,h,d,g,a]);return m==null?null:Q.createElement(Wc.Provider,{value:c},Q.createElement(zw.Provider,{children:r,value:m}))}function MJ(e){let{children:t,location:r}=e;return wJ(S4(t),r)}new Promise(()=>{});function S4(e,t){t===void 0&&(t=[]);let r=[];return Q.Children.forEach(e,(n,a)=>{if(!Q.isValidElement(n))return;let i=[...t,a];if(n.type===Q.Fragment){r.push.apply(r,S4(n.props.children,i));return}n.type!==is&&Ln(!1),!n.props.index||!n.props.children||Ln(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=S4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function F2(){return F2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F2.apply(this,arguments)}function W$(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function RJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function FJ(e,t){return e.button===0&&(!t||t==="_self")&&!RJ(e)}const $J=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],BJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VJ="6";try{window.__reactRouterVersion=VJ}catch{}const UJ=Q.createContext({isTransitioning:!1}),zJ="startTransition",oO=jY[zJ];function qJ(e){let{basename:t,children:r,future:n,window:a}=e,i=Q.useRef();i.current==null&&(i.current=HQ({window:a,v5Compat:!0}));let s=i.current,[o,l]=Q.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Q.useCallback(f=>{c&&oO?oO(()=>l(f)):l(f)},[l,c]);return Q.useLayoutEffect(()=>s.listen(u),[s,u]),Q.useEffect(()=>DJ(n),[n]),Q.createElement(LJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const WJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GJ=Q.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=W$(t,$J),{basename:d}=Q.useContext(Wc),g,m=!1;if(typeof c=="string"&&HJ.test(c)&&(g=c,WJ))try{let _=new URL(window.location.href),O=c.startsWith("//")?new URL(_.protocol+c):new URL(c),P=Q0(O.pathname,d);O.origin===_.origin&&P!=null?c=P+O.search+O.hash:m=!0}catch{}let v=vJ(c,{relative:a}),y=YJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return Q.createElement("a",F2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),eS=Q.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=W$(t,BJ),h=qw(l,{relative:f.relative}),d=$p(),g=Q.useContext(B$),{navigator:m,basename:v}=Q.useContext(Wc),y=g!=null&&XJ(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,_=d.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(_=_.toLowerCase(),O=O?O.toLowerCase():null,w=w.toLowerCase()),O&&v&&(O=Q0(O,v)||O);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=_===w||!s&&_.startsWith(w)&&_.charAt(P)==="/",T=O!=null&&(O===w||!s&&O.startsWith(w)&&O.charAt(w.length)==="/"),A={isActive:D,isPending:T,isTransitioning:y},b=D?n:void 0,I;typeof i=="function"?I=i(A):I=[i,D?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(A):o;return Q.createElement(GJ,F2({},f,{"aria-current":b,className:I,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(A):u)});var A4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(A4||(A4={}));var lO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lO||(lO={}));function KJ(e){let t=Q.useContext(Uw);return t||Ln(!1),t}function YJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=N1(),c=$p(),u=qw(e,{relative:s});return Q.useCallback(f=>{if(FJ(f,r)){f.preventDefault();let h=n!==void 0?n:L2(c)===L2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function XJ(e,t){t===void 0&&(t={});let r=Q.useContext(UJ);r==null&&Ln(!1);let{basename:n}=KJ(A4.useViewTransitionState),a=qw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Q0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Q0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return M2(a.pathname,s)!=null||M2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var QJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Zt=(e,t)=>{const r=Q.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Q.createElement("svg",{ref:u,...QJ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${JJ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>Q.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=Zt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=Zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=Zt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=Zt("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Zt("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=Zt("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=Zt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=Zt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=Zt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=Zt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=Zt("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=Zt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=Zt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=Zt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=Zt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=Zt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=Zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=Zt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=Zt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=Zt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=Zt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=Zt("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Zt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=Zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=Zt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=Zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Zt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=Zt("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=Zt("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=Zt("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=Zt("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Zt("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=Zt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wi=Zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=Zt("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=Zt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=Zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=Zt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=Zt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=Zt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Zt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=Zt("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Zt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Zt("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=Zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=Zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=Zt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=Zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),_Z=()=>{};var dO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},SZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},X$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Y$(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):SZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new AZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class AZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TZ=function(e){const t=Y$(e);return X$.encodeByteArray(t,!0)},V2=function(e){return TZ(e).replace(/\./g,"")},EZ=function(e){try{return X$.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CZ=()=>kZ().__FIREBASE_DEFAULTS__,NZ=()=>{if(typeof process>"u"||typeof dO>"u")return;const e=dO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},PZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&EZ(e[1]);return t&&JSON.parse(t)},fk=()=>{try{return _Z()||CZ()||NZ()||PZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},OZ=e=>{var t,r;return(r=(t=fk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},IZ=e=>{const t=OZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},Q$=()=>{var e;return(e=fk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(e){return e.endsWith(".cloudworkstations.dev")}async function jZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[V2(JSON.stringify(r)),V2(JSON.stringify(s)),""].join(".")}const wg={};function MZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(wg))wg[t]?e.emulator.push(t):e.prod.push(t);return e}function RZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let pO=!1;function J$(e,t){if(typeof window>"u"||typeof document>"u"||!hk(window.location.host)||wg[e]===t||wg[e]||pO)return;wg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=MZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{pO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=RZ(n),d=r("text"),g=document.getElementById(d)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;o(_),u(v,m);const O=c();l(w,y),_.append(w,g,v,O),document.body.appendChild(_)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $Z(){var e;const t=(e=fk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BZ(){return!$Z()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VZ(){try{return typeof indexedDB=="object"}catch{return!1}}function UZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="FirebaseError";class Bp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=zZ,Object.setPrototypeOf(this,Bp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Z$.prototype.create)}}class Z${constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?qZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bp(a,o,n)}}function qZ(e,t){return e.replace(WZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const WZ=/\{\$([^}]+)}/g;function U2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(mO(i)&&mO(s)){if(!U2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function mO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){return e&&e._delegate?e._delegate:e}class mv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new DZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(KZ(t))try{this.getOrInitializeService({instanceIdentifier:lh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=lh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=lh){return this.instances.has(t)}getOptions(t=lh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:GZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=lh){return this.component?this.component.multipleInstances?t:lh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GZ(e){return e===lh?void 0:e}function KZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YZ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new HZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Cr||(Cr={}));const XZ={debug:Cr.DEBUG,verbose:Cr.VERBOSE,info:Cr.INFO,warn:Cr.WARN,error:Cr.ERROR,silent:Cr.SILENT},QZ=Cr.INFO,JZ={[Cr.DEBUG]:"log",[Cr.VERBOSE]:"log",[Cr.INFO]:"info",[Cr.WARN]:"warn",[Cr.ERROR]:"error"},ZZ=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=JZ[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class e9{constructor(t){this.name=t,this._logLevel=QZ,this._logHandler=ZZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Cr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Cr.DEBUG,...t),this._logHandler(this,Cr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Cr.VERBOSE,...t),this._logHandler(this,Cr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Cr.INFO,...t),this._logHandler(this,Cr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Cr.WARN,...t),this._logHandler(this,Cr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Cr.ERROR,...t),this._logHandler(this,Cr.ERROR,...t)}}const eee=(e,t)=>t.some(r=>e instanceof r);let gO,vO;function tee(){return gO||(gO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ree(){return vO||(vO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t9=new WeakMap,C4=new WeakMap,r9=new WeakMap,tS=new WeakMap,dk=new WeakMap;function nee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(of(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&t9.set(r,e)}).catch(()=>{}),dk.set(t,e),t}function aee(e){if(C4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});C4.set(e,t)}let N4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return C4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||r9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return of(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function iee(e){N4=e(N4)}function see(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(rS(this),t,...r);return r9.set(n,t.sort?t.sort():[t]),of(n)}:ree().includes(e)?function(...t){return e.apply(rS(this),t),of(t9.get(this))}:function(...t){return of(e.apply(rS(this),t))}}function oee(e){return typeof e=="function"?see(e):(e instanceof IDBTransaction&&aee(e),eee(e,tee())?new Proxy(e,N4):e)}function of(e){if(e instanceof IDBRequest)return nee(e);if(tS.has(e))return tS.get(e);const t=oee(e);return t!==e&&(tS.set(e,t),dk.set(t,e)),t}const rS=e=>dk.get(e);function lee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=of(s);return n&&s.addEventListener("upgradeneeded",l=>{n(of(s.result),l.oldVersion,l.newVersion,of(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const cee=["get","getKey","getAll","getAllKeys","count"],uee=["put","add","delete","clear"],nS=new Map;function yO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(nS.get(t))return nS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=uee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||cee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return nS.set(t,i),i}iee(e=>({...e,get:(t,r,n)=>yO(t,r)||e.get(t,r,n),has:(t,r)=>!!yO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(hee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function hee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const P4="@firebase/app",xO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new e9("@firebase/app"),dee="@firebase/app-compat",pee="@firebase/analytics-compat",mee="@firebase/analytics",gee="@firebase/app-check-compat",vee="@firebase/app-check",yee="@firebase/auth",xee="@firebase/auth-compat",bee="@firebase/database",wee="@firebase/data-connect",_ee="@firebase/database-compat",See="@firebase/functions",Aee="@firebase/functions-compat",Tee="@firebase/installations",Eee="@firebase/installations-compat",kee="@firebase/messaging",Cee="@firebase/messaging-compat",Nee="@firebase/performance",Pee="@firebase/performance-compat",Oee="@firebase/remote-config",Iee="@firebase/remote-config-compat",Dee="@firebase/storage",jee="@firebase/storage-compat",Lee="@firebase/firestore",Mee="@firebase/vertexai",Ree="@firebase/firestore-compat",Fee="firebase",$ee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4="[DEFAULT]",Bee={[P4]:"fire-core",[dee]:"fire-core-compat",[mee]:"fire-analytics",[pee]:"fire-analytics-compat",[vee]:"fire-app-check",[gee]:"fire-app-check-compat",[yee]:"fire-auth",[xee]:"fire-auth-compat",[bee]:"fire-rtdb",[wee]:"fire-data-connect",[_ee]:"fire-rtdb-compat",[See]:"fire-fn",[Aee]:"fire-fn-compat",[Tee]:"fire-iid",[Eee]:"fire-iid-compat",[kee]:"fire-fcm",[Cee]:"fire-fcm-compat",[Nee]:"fire-perf",[Pee]:"fire-perf-compat",[Oee]:"fire-rc",[Iee]:"fire-rc-compat",[Dee]:"fire-gcs",[jee]:"fire-gcs-compat",[Lee]:"fire-fst",[Ree]:"fire-fst-compat",[Mee]:"fire-vertex","fire-js":"fire-js",[Fee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map,Vee=new Map,I4=new Map;function bO(e,t){try{e.container.addComponent(t)}catch(r){Ic.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function q2(e){const t=e.name;if(I4.has(t))return Ic.debug(`There were multiple attempts to register component ${t}.`),!1;I4.set(t,e);for(const r of z2.values())bO(r,e);for(const r of Vee.values())bO(r,e);return!0}function Uee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function zee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lf=new Z$("app","Firebase",qee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee=$ee;function n9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:O4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw lf.create("bad-app-name",{appName:String(a)});if(r||(r=Q$()),!r)throw lf.create("no-options");const i=z2.get(a);if(i){if(U2(r,i.options)&&U2(n,i.config))return i;throw lf.create("duplicate-app",{appName:a})}const s=new YZ(a);for(const l of I4.values())s.addComponent(l);const o=new Wee(r,n,s);return z2.set(a,o),o}function Gee(e=O4){const t=z2.get(e);if(!t&&e===O4&&Q$())return n9();if(!t)throw lf.create("no-app",{appName:e});return t}function N0(e,t,r){var n;let a=(n=Bee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ic.warn(o.join(" "));return}q2(new mv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee="firebase-heartbeat-database",Yee=1,gv="firebase-heartbeat-store";let aS=null;function a9(){return aS||(aS=lee(Kee,Yee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gv)}catch(r){console.warn(r)}}}}).catch(e=>{throw lf.create("idb-open",{originalErrorMessage:e.message})})),aS}async function Xee(e){try{const r=(await a9()).transaction(gv),n=await r.objectStore(gv).get(i9(e));return await r.done,n}catch(t){if(t instanceof Bp)Ic.warn(t.message);else{const r=lf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ic.warn(r.message)}}}async function wO(e,t){try{const n=(await a9()).transaction(gv,"readwrite");await n.objectStore(gv).put(t,i9(e)),await n.done}catch(r){if(r instanceof Bp)Ic.warn(r.message);else{const n=lf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ic.warn(n.message)}}}function i9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=1024,Jee=30;class Zee{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_O();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Jee){const s=rte(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ic.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=_O(),{heartbeatsToSend:n,unsentEntries:a}=ete(this._heartbeatsCache.heartbeats),i=V2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ic.warn(r),""}}}function _O(){return new Date().toISOString().substring(0,10)}function ete(e,t=Qee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),SO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),SO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VZ()?UZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Xee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function SO(e){return V2(JSON.stringify({version:2,heartbeats:e})).length}function rte(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nte(e){q2(new mv("platform-logger",t=>new fee(t),"PRIVATE")),q2(new mv("heartbeat",t=>new Zee(t),"PRIVATE")),N0(P4,xO,e),N0(P4,xO,"esm2017"),N0("fire-js","")}nte("");var ate="firebase",ite="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */N0(ate,ite,"app");var AO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cf,s9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,A){function b(){}b.prototype=A.prototype,T.D=A.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(I,E,C){for(var L=Array(arguments.length-2),H=2;H<arguments.length;H++)L[H-2]=arguments[H];return A.prototype[E].apply(I,L)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,A,b){b||(b=0);var I=Array(16);if(typeof A=="string")for(var E=0;16>E;++E)I[E]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(E=0;16>E;++E)I[E]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=T.g[0],b=T.g[1],E=T.g[2];var C=T.g[3],L=A+(C^b&(E^C))+I[0]+3614090360&4294967295;A=b+(L<<7&4294967295|L>>>25),L=C+(E^A&(b^E))+I[1]+3905402710&4294967295,C=A+(L<<12&4294967295|L>>>20),L=E+(b^C&(A^b))+I[2]+606105819&4294967295,E=C+(L<<17&4294967295|L>>>15),L=b+(A^E&(C^A))+I[3]+3250441966&4294967295,b=E+(L<<22&4294967295|L>>>10),L=A+(C^b&(E^C))+I[4]+4118548399&4294967295,A=b+(L<<7&4294967295|L>>>25),L=C+(E^A&(b^E))+I[5]+1200080426&4294967295,C=A+(L<<12&4294967295|L>>>20),L=E+(b^C&(A^b))+I[6]+2821735955&4294967295,E=C+(L<<17&4294967295|L>>>15),L=b+(A^E&(C^A))+I[7]+4249261313&4294967295,b=E+(L<<22&4294967295|L>>>10),L=A+(C^b&(E^C))+I[8]+1770035416&4294967295,A=b+(L<<7&4294967295|L>>>25),L=C+(E^A&(b^E))+I[9]+2336552879&4294967295,C=A+(L<<12&4294967295|L>>>20),L=E+(b^C&(A^b))+I[10]+4294925233&4294967295,E=C+(L<<17&4294967295|L>>>15),L=b+(A^E&(C^A))+I[11]+2304563134&4294967295,b=E+(L<<22&4294967295|L>>>10),L=A+(C^b&(E^C))+I[12]+1804603682&4294967295,A=b+(L<<7&4294967295|L>>>25),L=C+(E^A&(b^E))+I[13]+4254626195&4294967295,C=A+(L<<12&4294967295|L>>>20),L=E+(b^C&(A^b))+I[14]+2792965006&4294967295,E=C+(L<<17&4294967295|L>>>15),L=b+(A^E&(C^A))+I[15]+1236535329&4294967295,b=E+(L<<22&4294967295|L>>>10),L=A+(E^C&(b^E))+I[1]+4129170786&4294967295,A=b+(L<<5&4294967295|L>>>27),L=C+(b^E&(A^b))+I[6]+3225465664&4294967295,C=A+(L<<9&4294967295|L>>>23),L=E+(A^b&(C^A))+I[11]+643717713&4294967295,E=C+(L<<14&4294967295|L>>>18),L=b+(C^A&(E^C))+I[0]+3921069994&4294967295,b=E+(L<<20&4294967295|L>>>12),L=A+(E^C&(b^E))+I[5]+3593408605&4294967295,A=b+(L<<5&4294967295|L>>>27),L=C+(b^E&(A^b))+I[10]+38016083&4294967295,C=A+(L<<9&4294967295|L>>>23),L=E+(A^b&(C^A))+I[15]+3634488961&4294967295,E=C+(L<<14&4294967295|L>>>18),L=b+(C^A&(E^C))+I[4]+3889429448&4294967295,b=E+(L<<20&4294967295|L>>>12),L=A+(E^C&(b^E))+I[9]+568446438&4294967295,A=b+(L<<5&4294967295|L>>>27),L=C+(b^E&(A^b))+I[14]+3275163606&4294967295,C=A+(L<<9&4294967295|L>>>23),L=E+(A^b&(C^A))+I[3]+4107603335&4294967295,E=C+(L<<14&4294967295|L>>>18),L=b+(C^A&(E^C))+I[8]+1163531501&4294967295,b=E+(L<<20&4294967295|L>>>12),L=A+(E^C&(b^E))+I[13]+2850285829&4294967295,A=b+(L<<5&4294967295|L>>>27),L=C+(b^E&(A^b))+I[2]+4243563512&4294967295,C=A+(L<<9&4294967295|L>>>23),L=E+(A^b&(C^A))+I[7]+1735328473&4294967295,E=C+(L<<14&4294967295|L>>>18),L=b+(C^A&(E^C))+I[12]+2368359562&4294967295,b=E+(L<<20&4294967295|L>>>12),L=A+(b^E^C)+I[5]+4294588738&4294967295,A=b+(L<<4&4294967295|L>>>28),L=C+(A^b^E)+I[8]+2272392833&4294967295,C=A+(L<<11&4294967295|L>>>21),L=E+(C^A^b)+I[11]+1839030562&4294967295,E=C+(L<<16&4294967295|L>>>16),L=b+(E^C^A)+I[14]+4259657740&4294967295,b=E+(L<<23&4294967295|L>>>9),L=A+(b^E^C)+I[1]+2763975236&4294967295,A=b+(L<<4&4294967295|L>>>28),L=C+(A^b^E)+I[4]+1272893353&4294967295,C=A+(L<<11&4294967295|L>>>21),L=E+(C^A^b)+I[7]+4139469664&4294967295,E=C+(L<<16&4294967295|L>>>16),L=b+(E^C^A)+I[10]+3200236656&4294967295,b=E+(L<<23&4294967295|L>>>9),L=A+(b^E^C)+I[13]+681279174&4294967295,A=b+(L<<4&4294967295|L>>>28),L=C+(A^b^E)+I[0]+3936430074&4294967295,C=A+(L<<11&4294967295|L>>>21),L=E+(C^A^b)+I[3]+3572445317&4294967295,E=C+(L<<16&4294967295|L>>>16),L=b+(E^C^A)+I[6]+76029189&4294967295,b=E+(L<<23&4294967295|L>>>9),L=A+(b^E^C)+I[9]+3654602809&4294967295,A=b+(L<<4&4294967295|L>>>28),L=C+(A^b^E)+I[12]+3873151461&4294967295,C=A+(L<<11&4294967295|L>>>21),L=E+(C^A^b)+I[15]+530742520&4294967295,E=C+(L<<16&4294967295|L>>>16),L=b+(E^C^A)+I[2]+3299628645&4294967295,b=E+(L<<23&4294967295|L>>>9),L=A+(E^(b|~C))+I[0]+4096336452&4294967295,A=b+(L<<6&4294967295|L>>>26),L=C+(b^(A|~E))+I[7]+1126891415&4294967295,C=A+(L<<10&4294967295|L>>>22),L=E+(A^(C|~b))+I[14]+2878612391&4294967295,E=C+(L<<15&4294967295|L>>>17),L=b+(C^(E|~A))+I[5]+4237533241&4294967295,b=E+(L<<21&4294967295|L>>>11),L=A+(E^(b|~C))+I[12]+1700485571&4294967295,A=b+(L<<6&4294967295|L>>>26),L=C+(b^(A|~E))+I[3]+2399980690&4294967295,C=A+(L<<10&4294967295|L>>>22),L=E+(A^(C|~b))+I[10]+4293915773&4294967295,E=C+(L<<15&4294967295|L>>>17),L=b+(C^(E|~A))+I[1]+2240044497&4294967295,b=E+(L<<21&4294967295|L>>>11),L=A+(E^(b|~C))+I[8]+1873313359&4294967295,A=b+(L<<6&4294967295|L>>>26),L=C+(b^(A|~E))+I[15]+4264355552&4294967295,C=A+(L<<10&4294967295|L>>>22),L=E+(A^(C|~b))+I[6]+2734768916&4294967295,E=C+(L<<15&4294967295|L>>>17),L=b+(C^(E|~A))+I[13]+1309151649&4294967295,b=E+(L<<21&4294967295|L>>>11),L=A+(E^(b|~C))+I[4]+4149444226&4294967295,A=b+(L<<6&4294967295|L>>>26),L=C+(b^(A|~E))+I[11]+3174756917&4294967295,C=A+(L<<10&4294967295|L>>>22),L=E+(A^(C|~b))+I[2]+718787259&4294967295,E=C+(L<<15&4294967295|L>>>17),L=b+(C^(E|~A))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+A&4294967295,T.g[1]=T.g[1]+(E+(L<<21&4294967295|L>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+C&4294967295}n.prototype.u=function(T,A){A===void 0&&(A=T.length);for(var b=A-this.blockSize,I=this.B,E=this.h,C=0;C<A;){if(E==0)for(;C<=b;)a(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<A;)if(I[E++]=T.charCodeAt(C++),E==this.blockSize){a(this,I),E=0;break}}else for(;C<A;)if(I[E++]=T[C++],E==this.blockSize){a(this,I),E=0;break}}this.h=E,this.o+=A},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var A=1;A<T.length-8;++A)T[A]=0;var b=8*this.o;for(A=T.length-8;A<T.length;++A)T[A]=b&255,b/=256;for(this.u(T),T=Array(16),A=b=0;4>A;++A)for(var I=0;32>I;I+=8)T[b++]=this.g[A]>>>I&255;return T};function i(T,A){var b=o;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=A(T)}function s(T,A){this.h=A;for(var b=[],I=!0,E=T.length-1;0<=E;E--){var C=T[E]|0;I&&C==A||(b[E]=C,I=!1)}this.g=b}var o={};function l(T){return-128<=T&&128>T?i(T,function(A){return new s([A|0],0>A?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var A=[],b=1,I=0;T>=b;I++)A[I]=T/b|0,b*=4294967296;return new s(A,0)}function u(T,A){if(T.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(T.charAt(0)=="-")return v(u(T.substring(1),A));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(A,8)),I=f,E=0;E<T.length;E+=8){var C=Math.min(8,T.length-E),L=parseInt(T.substring(E,E+C),A);8>C?(C=c(Math.pow(A,C)),I=I.j(C).add(c(L))):(I=I.j(b),I=I.add(c(L)))}return I}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var T=0,A=1,b=0;b<this.g.length;b++){var I=this.i(b);T+=(0<=I?I:4294967296+I)*A,A*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(g(this))return"0";if(m(this))return"-"+v(this).toString(T);for(var A=c(Math.pow(T,6)),b=this,I="";;){var E=O(b,A).g;b=y(b,E.j(A));var C=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=E,g(b))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function g(T){if(T.h!=0)return!1;for(var A=0;A<T.g.length;A++)if(T.g[A]!=0)return!1;return!0}function m(T){return T.h==-1}e.l=function(T){return T=y(this,T),m(T)?-1:g(T)?0:1};function v(T){for(var A=T.g.length,b=[],I=0;I<A;I++)b[I]=~T.g[I];return new s(b,~T.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(T){for(var A=Math.max(this.g.length,T.g.length),b=[],I=0,E=0;E<=A;E++){var C=I+(this.i(E)&65535)+(T.i(E)&65535),L=(C>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);I=L>>>16,C&=65535,L&=65535,b[E]=L<<16|C}return new s(b,b[b.length-1]&-2147483648?-1:0)};function y(T,A){return T.add(v(A))}e.j=function(T){if(g(this)||g(T))return f;if(m(this))return m(T)?v(this).j(v(T)):v(v(this).j(T));if(m(T))return v(this.j(v(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var A=this.g.length+T.g.length,b=[],I=0;I<2*A;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var E=0;E<T.g.length;E++){var C=this.i(I)>>>16,L=this.i(I)&65535,H=T.i(E)>>>16,V=T.i(E)&65535;b[2*I+2*E]+=L*V,w(b,2*I+2*E),b[2*I+2*E+1]+=C*V,w(b,2*I+2*E+1),b[2*I+2*E+1]+=L*H,w(b,2*I+2*E+1),b[2*I+2*E+2]+=C*H,w(b,2*I+2*E+2)}for(I=0;I<A;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=A;I<2*A;I++)b[I]=0;return new s(b,0)};function w(T,A){for(;(T[A]&65535)!=T[A];)T[A+1]+=T[A]>>>16,T[A]&=65535,A++}function _(T,A){this.g=T,this.h=A}function O(T,A){if(g(A))throw Error("division by zero");if(g(T))return new _(f,f);if(m(T))return A=O(v(T),A),new _(v(A.g),v(A.h));if(m(A))return A=O(T,v(A)),new _(v(A.g),A.h);if(30<T.g.length){if(m(T)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var b=h,I=A;0>=I.l(T);)b=P(b),I=P(I);var E=D(b,1),C=D(I,1);for(I=D(I,2),b=D(b,2);!g(I);){var L=C.add(I);0>=L.l(T)&&(E=E.add(b),C=L),I=D(I,1),b=D(b,1)}return A=y(T,E.j(A)),new _(E,A)}for(E=f;0<=T.l(A);){for(b=Math.max(1,Math.floor(T.m()/A.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=c(b),L=C.j(A);m(L)||0<L.l(T);)b-=I,C=c(b),L=C.j(A);g(C)&&(C=h),E=E.add(C),T=y(T,L)}return new _(E,T)}e.A=function(T){return O(this,T).h},e.and=function(T){for(var A=Math.max(this.g.length,T.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)&T.i(I);return new s(b,this.h&T.h)},e.or=function(T){for(var A=Math.max(this.g.length,T.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)|T.i(I);return new s(b,this.h|T.h)},e.xor=function(T){for(var A=Math.max(this.g.length,T.g.length),b=[],I=0;I<A;I++)b[I]=this.i(I)^T.i(I);return new s(b,this.h^T.h)};function P(T){for(var A=T.g.length+1,b=[],I=0;I<A;I++)b[I]=T.i(I)<<1|T.i(I-1)>>>31;return new s(b,T.h)}function D(T,A){var b=A>>5;A%=32;for(var I=T.g.length-b,E=[],C=0;C<I;C++)E[C]=0<A?T.i(C+b)>>>A|T.i(C+b+1)<<32-A:T.i(C+b);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,s9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,cf=s}).apply(typeof AO<"u"?AO:typeof self<"u"?self:typeof window<"u"?window:{});var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o9,rg,l9,Kx,D4,c9,u9,f9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,F,X){return S==Array.prototype||S==Object.prototype||(S[F]=X.value),S};function r(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yy=="object"&&Yy];for(var F=0;F<S.length;++F){var X=S[F];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function a(S,F){if(F)e:{var X=n;S=S.split(".");for(var he=0;he<S.length-1;he++){var Le=S[he];if(!(Le in X))break e;X=X[Le]}S=S[S.length-1],he=X[S],F=F(he),F!=he&&F!=null&&t(X,S,{configurable:!0,writable:!0,value:F})}}function i(S,F){S instanceof String&&(S+="");var X=0,he=!1,Le={next:function(){if(!he&&X<S.length){var qe=X++;return{value:F(qe,S[qe]),done:!1}}return he=!0,{done:!0,value:void 0}}};return Le[Symbol.iterator]=function(){return Le},Le}a("Array.prototype.values",function(S){return S||function(){return i(this,function(F,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(S){var F=typeof S;return F=F!="object"?F:S?Array.isArray(S)?"array":F:"null",F=="array"||F=="object"&&typeof S.length=="number"}function c(S){var F=typeof S;return F=="object"&&S!=null||F=="function"}function u(S,F,X){return S.call.apply(S.bind,arguments)}function f(S,F,X){if(!S)throw Error();if(2<arguments.length){var he=Array.prototype.slice.call(arguments,2);return function(){var Le=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Le,he),S.apply(F,Le)}}return function(){return S.apply(F,arguments)}}function h(S,F,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(S,F){var X=Array.prototype.slice.call(arguments,1);return function(){var he=X.slice();return he.push.apply(he,arguments),S.apply(this,he)}}function g(S,F){function X(){}X.prototype=F.prototype,S.aa=F.prototype,S.prototype=new X,S.prototype.constructor=S,S.Qb=function(he,Le,qe){for(var ht=Array(arguments.length-2),rr=2;rr<arguments.length;rr++)ht[rr-2]=arguments[rr];return F.prototype[Le].apply(he,ht)}}function m(S){const F=S.length;if(0<F){const X=Array(F);for(let he=0;he<F;he++)X[he]=S[he];return X}return[]}function v(S,F){for(let X=1;X<arguments.length;X++){const he=arguments[X];if(l(he)){const Le=S.length||0,qe=he.length||0;S.length=Le+qe;for(let ht=0;ht<qe;ht++)S[Le+ht]=he[ht]}else S.push(he)}}class y{constructor(F,X){this.i=F,this.j=X,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(S){return/^[\s\xa0]*$/.test(S)}function _(){var S=o.navigator;return S&&(S=S.userAgent)?S:""}function O(S){return O[" "](S),S}O[" "]=function(){};var P=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function D(S,F,X){for(const he in S)F.call(X,S[he],he,S)}function T(S,F){for(const X in S)F.call(void 0,S[X],X,S)}function A(S){const F={};for(const X in S)F[X]=S[X];return F}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(S,F){let X,he;for(let Le=1;Le<arguments.length;Le++){he=arguments[Le];for(X in he)S[X]=he[X];for(let qe=0;qe<b.length;qe++)X=b[qe],Object.prototype.hasOwnProperty.call(he,X)&&(S[X]=he[X])}}function E(S){var F=1;S=S.split(":");const X=[];for(;0<F&&S.length;)X.push(S.shift()),F--;return S.length&&X.push(S.join(":")),X}function C(S){o.setTimeout(()=>{throw S},0)}function L(){var S=B;let F=null;return S.g&&(F=S.g,S.g=S.g.next,S.g||(S.h=null),F.next=null),F}class H{constructor(){this.h=this.g=null}add(F,X){const he=V.get();he.set(F,X),this.h?this.h.next=he:this.g=he,this.h=he}}var V=new y(()=>new Z,S=>S.reset());class Z{constructor(){this.next=this.g=this.h=null}set(F,X){this.h=F,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,W=!1,B=new H,ae=()=>{const S=o.Promise.resolve(void 0);ee=()=>{S.then(q)}};var q=()=>{for(var S;S=L();){try{S.h.call(S.g)}catch(X){C(X)}var F=V;F.j(S),100>F.h&&(F.h++,S.next=F.g,F.g=S)}W=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(S,F){this.type=S,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var U=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,F=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const X=()=>{};o.addEventListener("test",X,F),o.removeEventListener("test",X,F)}catch{}return S}();function K(S,F){if(R.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var X=this.type=S.type,he=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=F,F=S.relatedTarget){if(P){e:{try{O(F.nodeName);var Le=!0;break e}catch{}Le=!1}Le||(F=null)}}else X=="mouseover"?F=S.fromElement:X=="mouseout"&&(F=S.toElement);this.relatedTarget=F,he?(this.clientX=he.clientX!==void 0?he.clientX:he.pageX,this.clientY=he.clientY!==void 0?he.clientY:he.pageY,this.screenX=he.screenX||0,this.screenY=he.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:G[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&K.aa.h.call(this)}}g(K,R);var G={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var ie="closure_listenable_"+(1e6*Math.random()|0),ue=0;function J(S,F,X,he,Le){this.listener=S,this.proxy=null,this.src=F,this.type=X,this.capture=!!he,this.ha=Le,this.key=++ue,this.da=this.fa=!1}function ce(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function pe(S){this.src=S,this.g={},this.h=0}pe.prototype.add=function(S,F,X,he,Le){var qe=S.toString();S=this.g[qe],S||(S=this.g[qe]=[],this.h++);var ht=fe(S,F,he,Le);return-1<ht?(F=S[ht],X||(F.fa=!1)):(F=new J(F,this.src,qe,!!he,Le),F.fa=X,S.push(F)),F};function Y(S,F){var X=F.type;if(X in S.g){var he=S.g[X],Le=Array.prototype.indexOf.call(he,F,void 0),qe;(qe=0<=Le)&&Array.prototype.splice.call(he,Le,1),qe&&(ce(F),S.g[X].length==0&&(delete S.g[X],S.h--))}}function fe(S,F,X,he){for(var Le=0;Le<S.length;++Le){var qe=S[Le];if(!qe.da&&qe.listener==F&&qe.capture==!!X&&qe.ha==he)return Le}return-1}var Se="closure_lm_"+(1e6*Math.random()|0),ye={};function te(S,F,X,he,Le){if(Array.isArray(F)){for(var qe=0;qe<F.length;qe++)te(S,F[qe],X,he,Le);return null}return X=lt(X),S&&S[ie]?S.K(F,X,c(he)?!!he.capture:!!he,Le):Te(S,F,X,!1,he,Le)}function Te(S,F,X,he,Le,qe){if(!F)throw Error("Invalid event type");var ht=c(Le)?!!Le.capture:!!Le,rr=Fe(S);if(rr||(S[Se]=rr=new pe(S)),X=rr.add(F,X,he,ht,qe),X.proxy)return X;if(he=Ee(),X.proxy=he,he.src=S,he.listener=X,S.addEventListener)U||(Le=ht),Le===void 0&&(Le=!1),S.addEventListener(F.toString(),he,Le);else if(S.attachEvent)S.attachEvent(je(F.toString()),he);else if(S.addListener&&S.removeListener)S.addListener(he);else throw Error("addEventListener and attachEvent are unavailable.");return X}function Ee(){function S(X){return F.call(S.src,S.listener,X)}const F=Ge;return S}function Ce(S,F,X,he,Le){if(Array.isArray(F))for(var qe=0;qe<F.length;qe++)Ce(S,F[qe],X,he,Le);else he=c(he)?!!he.capture:!!he,X=lt(X),S&&S[ie]?(S=S.i,F=String(F).toString(),F in S.g&&(qe=S.g[F],X=fe(qe,X,he,Le),-1<X&&(ce(qe[X]),Array.prototype.splice.call(qe,X,1),qe.length==0&&(delete S.g[F],S.h--)))):S&&(S=Fe(S))&&(F=S.g[F.toString()],S=-1,F&&(S=fe(F,X,he,Le)),(X=-1<S?F[S]:null)&&He(X))}function He(S){if(typeof S!="number"&&S&&!S.da){var F=S.src;if(F&&F[ie])Y(F.i,S);else{var X=S.type,he=S.proxy;F.removeEventListener?F.removeEventListener(X,he,S.capture):F.detachEvent?F.detachEvent(je(X),he):F.addListener&&F.removeListener&&F.removeListener(he),(X=Fe(F))?(Y(X,S),X.h==0&&(X.src=null,F[Se]=null)):ce(S)}}}function je(S){return S in ye?ye[S]:ye[S]="on"+S}function Ge(S,F){if(S.da)S=!0;else{F=new K(F,this);var X=S.listener,he=S.ha||S.src;S.fa&&He(S),S=X.call(he,F)}return S}function Fe(S){return S=S[Se],S instanceof pe?S:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function lt(S){return typeof S=="function"?S:(S[Ye]||(S[Ye]=function(F){return S.handleEvent(F)}),S[Ye])}function nt(){N.call(this),this.i=new pe(this),this.M=this,this.F=null}g(nt,N),nt.prototype[ie]=!0,nt.prototype.removeEventListener=function(S,F,X,he){Ce(this,S,F,X,he)};function dt(S,F){var X,he=S.F;if(he)for(X=[];he;he=he.F)X.push(he);if(S=S.M,he=F.type||F,typeof F=="string")F=new R(F,S);else if(F instanceof R)F.target=F.target||S;else{var Le=F;F=new R(he,S),I(F,Le)}if(Le=!0,X)for(var qe=X.length-1;0<=qe;qe--){var ht=F.g=X[qe];Le=xt(ht,he,!0,F)&&Le}if(ht=F.g=S,Le=xt(ht,he,!0,F)&&Le,Le=xt(ht,he,!1,F)&&Le,X)for(qe=0;qe<X.length;qe++)ht=F.g=X[qe],Le=xt(ht,he,!1,F)&&Le}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var S=this.i,F;for(F in S.g){for(var X=S.g[F],he=0;he<X.length;he++)ce(X[he]);delete S.g[F],S.h--}}this.F=null},nt.prototype.K=function(S,F,X,he){return this.i.add(String(S),F,!1,X,he)},nt.prototype.L=function(S,F,X,he){return this.i.add(String(S),F,!0,X,he)};function xt(S,F,X,he){if(F=S.i.g[String(F)],!F)return!0;F=F.concat();for(var Le=!0,qe=0;qe<F.length;++qe){var ht=F[qe];if(ht&&!ht.da&&ht.capture==X){var rr=ht.listener,vr=ht.ha||ht.src;ht.fa&&Y(S.i,ht),Le=rr.call(vr,he)!==!1&&Le}}return Le&&!he.defaultPrevented}function wt(S,F,X){if(typeof S=="function")X&&(S=h(S,X));else if(S&&typeof S.handleEvent=="function")S=h(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(S,F||0)}function mt(S){S.g=wt(()=>{S.g=null,S.i&&(S.i=!1,mt(S))},S.l);const F=S.h;S.h=null,S.m.apply(null,F)}class et extends N{constructor(F,X){super(),this.m=F,this.l=X,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:mt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(S){N.call(this),this.h=S,this.g={}}g(Bt,N);var Lt=[];function Gr(S){D(S.g,function(F,X){this.g.hasOwnProperty(X)&&He(F)},S),S.g={}}Bt.prototype.N=function(){Bt.aa.N.call(this),Gr(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ne=o.JSON.stringify,Je=o.JSON.parse,St=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function Ct(){}Ct.prototype.h=null;function ur(S){return S.h||(S.h=S.i())}function hr(){}var Ir={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gn(){R.call(this,"d")}g(gn,R);function Dr(){R.call(this,"c")}g(Dr,R);var Vt={},wr=null;function Ji(){return wr=wr||new nt}Vt.La="serverreachability";function Fn(S){R.call(this,Vt.La,S)}g(Fn,R);function Na(S){const F=Ji();dt(F,new Fn(F))}Vt.STAT_EVENT="statevent";function Oi(S,F){R.call(this,Vt.STAT_EVENT,S),this.stat=F}g(Oi,R);function Dt(S){const F=Ji();dt(F,new Oi(F,S))}Vt.Ma="timingevent";function si(S,F){R.call(this,Vt.Ma,S),this.size=F}g(si,R);function ia(S,F){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},F)}function $n(){this.g=!0}$n.prototype.xa=function(){this.g=!1};function In(S,F,X,he,Le,qe){S.info(function(){if(S.g)if(qe)for(var ht="",rr=qe.split("&"),vr=0;vr<rr.length;vr++){var nr=rr[vr].split("=");if(1<nr.length){var Wr=nr[0];nr=nr[1];var on=Wr.split("_");ht=2<=on.length&&on[1]=="type"?ht+(Wr+"="+nr+"&"):ht+(Wr+"=redacted&")}}else ht=null;else ht=qe;return"XMLHTTP REQ ("+he+") [attempt "+Le+"]: "+F+`
`+X+`
`+ht})}function Tn(S,F,X,he,Le,qe,ht){S.info(function(){return"XMLHTTP RESP ("+he+") [ attempt "+Le+"]: "+F+`
`+X+`
`+qe+" "+ht})}function se(S,F,X,he){S.info(function(){return"XMLHTTP TEXT ("+F+"): "+ge(S,X)+(he?" "+he:"")})}function we(S,F){S.info(function(){return"TIMEOUT: "+F})}$n.prototype.info=function(){};function ge(S,F){if(!S.g)return F;if(!F)return null;try{var X=JSON.parse(F);if(X){for(S=0;S<X.length;S++)if(Array.isArray(X[S])){var he=X[S];if(!(2>he.length)){var Le=he[1];if(Array.isArray(Le)&&!(1>Le.length)){var qe=Le[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var ht=1;ht<Le.length;ht++)Le[ht]=""}}}}return Ne(X)}catch{return F}}var ve={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_e;function $e(){}g($e,Ct),$e.prototype.g=function(){return new XMLHttpRequest},$e.prototype.i=function(){return{}},_e=new $e;function Ke(S,F,X,he){this.j=S,this.i=F,this.l=X,this.R=he||1,this.U=new Bt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Be}function Be(){this.i=null,this.g="",this.h=!1}var Ve={},We={};function ut(S,F,X){S.L=1,S.v=Yl(Di(F)),S.m=X,S.P=!0,bt(S,null)}function bt(S,F){S.F=Date.now(),At(S),S.A=Di(S.v);var X=S.A,he=S.R;Array.isArray(he)||(he=[String(he)]),Xt(X.i,"t",he),S.C=0,X=S.j.J,S.h=new Be,S.g=re(S.j,X?F:null,!S.m),0<S.O&&(S.M=new et(h(S.Y,S,S.g),S.O)),F=S.U,X=S.g,he=S.ca;var Le="readystatechange";Array.isArray(Le)||(Le&&(Lt[0]=Le.toString()),Le=Lt);for(var qe=0;qe<Le.length;qe++){var ht=te(X,Le[qe],he||F.handleEvent,!1,F.h||F);if(!ht)break;F.g[ht.key]=ht}F=S.H?A(S.H):{},S.m?(S.u||(S.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,F)):(S.u="GET",S.g.ea(S.A,S.u,null,F)),Na(),In(S.i,S.u,S.A,S.l,S.R,S.m)}Ke.prototype.ca=function(S){S=S.target;const F=this.M;F&&va(S)==3?F.j():this.Y(S)},Ke.prototype.Y=function(S){try{if(S==this.g)e:{const on=va(this.g);var F=this.g.Ba();const Oo=this.g.Z();if(!(3>on)&&(on!=3||this.g&&(this.h.h||this.g.oa()||Td(this.g)))){this.J||on!=4||F==7||(F==8||0>=Oo?Na(3):Na(2)),Tr(this);var X=this.g.Z();this.X=X;t:if(Nt(this)){var he=Td(this.g);S="";var Le=he.length,qe=va(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),Er(this);var ht="";break t}this.h.i=new o.TextDecoder}for(F=0;F<Le;F++)this.h.h=!0,S+=this.h.i.decode(he[F],{stream:!(qe&&F==Le-1)});he.length=0,this.h.g+=S,this.C=0,ht=this.h.g}else ht=this.g.oa();if(this.o=X==200,Tn(this.i,this.u,this.A,this.l,this.R,on,X),this.o){if(this.T&&!this.K){t:{if(this.g){var rr,vr=this.g;if((rr=vr.g?vr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(rr)){var nr=rr;break t}}nr=null}if(X=nr)se(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ii(this,X);else{this.o=!1,this.s=3,Dt(12),tn(this),Er(this);break e}}if(this.P){X=!0;let qa;for(;!this.J&&this.C<ht.length;)if(qa=vt(this,ht),qa==We){on==4&&(this.s=4,Dt(14),X=!1),se(this.i,this.l,null,"[Incomplete Response]");break}else if(qa==Ve){this.s=4,Dt(15),se(this.i,this.l,ht,"[Invalid Chunk]"),X=!1;break}else se(this.i,this.l,qa,null),Ii(this,qa);if(Nt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),on!=4||ht.length!=0||this.h.h||(this.s=1,Dt(16),X=!1),this.o=this.o&&X,!X)se(this.i,this.l,ht,"[Invalid Chunked Response]"),tn(this),Er(this);else if(0<ht.length&&!this.W){this.W=!0;var Wr=this.j;Wr.g==this&&Wr.ba&&!Wr.M&&(Wr.j.info("Great, no buffering proxy detected. Bytes received: "+ht.length),hu(Wr),Wr.M=!0,Dt(11))}}else se(this.i,this.l,ht,null),Ii(this,ht);on==4&&tn(this),this.o&&!this.J&&(on==4?gl(this.j,this):(this.o=!1,At(this)))}else pl(this.g),X==400&&0<ht.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),tn(this),Er(this)}}}catch{}finally{}};function Nt(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function vt(S,F){var X=S.C,he=F.indexOf(`
`,X);return he==-1?We:(X=Number(F.substring(X,he)),isNaN(X)?Ve:(he+=1,he+X>F.length?We:(F=F.slice(he,he+X),S.C=he+X,F)))}Ke.prototype.cancel=function(){this.J=!0,tn(this)};function At(S){S.S=Date.now()+S.I,Wt(S,S.I)}function Wt(S,F){if(S.B!=null)throw Error("WatchDog timer not null");S.B=ia(h(S.ba,S),F)}function Tr(S){S.B&&(o.clearTimeout(S.B),S.B=null)}Ke.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(we(this.i,this.A),this.L!=2&&(Na(),Dt(17)),tn(this),this.s=2,Er(this)):Wt(this,this.S-S)};function Er(S){S.j.G==0||S.J||gl(S.j,S)}function tn(S){Tr(S);var F=S.M;F&&typeof F.ma=="function"&&F.ma(),S.M=null,Gr(S.U),S.g&&(F=S.g,S.g=null,F.abort(),F.ma())}function Ii(S,F){try{var X=S.j;if(X.G!=0&&(X.g==S||Ua(X.h,S))){if(!S.K&&Ua(X.h,S)&&X.G==3){try{var he=X.Da.g.parse(F)}catch{he=null}if(Array.isArray(he)&&he.length==3){var Le=he;if(Le[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<S.F)Po(X),lu(X);else break e;ec(X),Dt(18)}}else X.za=Le[1],0<X.za-X.T&&37500>Le[2]&&X.F&&X.v==0&&!X.C&&(X.C=ia(h(X.Za,X),6e3));if(1>=bs(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else oi(X,11)}else if((S.K||X.g==S)&&Po(X),!w(F))for(Le=X.Da.g.parse(F),F=0;F<Le.length;F++){let nr=Le[F];if(X.T=nr[0],nr=nr[1],X.G==2)if(nr[0]=="c"){X.K=nr[1],X.ia=nr[2];const Wr=nr[3];Wr!=null&&(X.la=Wr,X.j.info("VER="+X.la));const on=nr[4];on!=null&&(X.Aa=on,X.j.info("SVER="+X.Aa));const Oo=nr[5];Oo!=null&&typeof Oo=="number"&&0<Oo&&(he=1.5*Oo,X.L=he,X.j.info("backChannelRequestTimeoutMs_="+he)),he=X;const qa=S.g;if(qa){const vl=qa.g?qa.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var qe=he.h;qe.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(vn(qe,qe.h),qe.h=null))}if(he.D){const yl=qa.g?qa.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(he.ya=yl,Kr(he.I,he.D,yl))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-S.F,X.j.info("Handshake RTT: "+X.R+"ms")),he=X;var ht=S;if(he.qa=j(he,he.J?he.ia:null,he.W),ht.K){Bf(he.h,ht);var rr=ht,vr=he.L;vr&&(rr.I=vr),rr.B&&(Tr(rr),At(rr)),he.g=ht}else fu(he);0<X.i.length&&cu(X)}else nr[0]!="stop"&&nr[0]!="close"||oi(X,7);else X.G==3&&(nr[0]=="stop"||nr[0]=="close"?nr[0]=="stop"?oi(X,7):No(X):nr[0]!="noop"&&X.l&&X.l.ta(nr),X.v=0)}}Na(4)}catch{}}var Ao=class{constructor(S,F){this.g=S,this.map=F}};function xs(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function bs(S){return S.h?1:S.g?S.g.size:0}function Ua(S,F){return S.h?S.h==F:S.g?S.g.has(F):!1}function vn(S,F){S.g?S.g.add(F):S.h=F}function Bf(S,F){S.h&&S.h==F?S.h=null:S.g&&S.g.has(F)&&S.g.delete(F)}xs.prototype.cancel=function(){if(this.i=Vf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function Vf(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let F=S.i;for(const X of S.g.values())F=F.concat(X.D);return F}return m(S.i)}function xd(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var F=[],X=S.length,he=0;he<X;he++)F.push(S[he]);return F}F=[],X=0;for(he in S)F[X++]=S[he];return F}function Uf(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var F=[];S=S.length;for(var X=0;X<S;X++)F.push(X);return F}F=[],X=0;for(const he in S)F[X++]=he;return F}}}function bd(S,F){if(S.forEach&&typeof S.forEach=="function")S.forEach(F,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,F,void 0);else for(var X=Uf(S),he=xd(S),Le=he.length,qe=0;qe<Le;qe++)F.call(void 0,he[qe],X&&X[qe],S)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(S,F){if(S){S=S.split("&");for(var X=0;X<S.length;X++){var he=S[X].indexOf("="),Le=null;if(0<=he){var qe=S[X].substring(0,he);Le=S[X].substring(he+1)}else qe=S[X];F(qe,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function Bn(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof Bn){this.h=S.h,Kl(this,S.j),this.o=S.o,this.g=S.g,eu(this,S.s),this.l=S.l;var F=S.i,X=new hl;X.i=F.i,F.g&&(X.g=new Map(F.g),X.h=F.h),zf(this,X),this.m=S.m}else S&&(F=String(S).match(es))?(this.h=!1,Kl(this,F[1]||"",!0),this.o=Xl(F[2]||""),this.g=Xl(F[3]||"",!0),eu(this,F[4]),this.l=Xl(F[5]||"",!0),zf(this,F[6]||"",!0),this.m=Xl(F[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}Bn.prototype.toString=function(){var S=[],F=this.j;F&&S.push(To(F,wd,!0),":");var X=this.g;return(X||F=="file")&&(S.push("//"),(F=this.o)&&S.push(To(F,wd,!0),"@"),S.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&S.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&S.push("/"),S.push(To(X,X.charAt(0)=="/"?Eo:fm,!0))),(X=this.i.toString())&&S.push("?",X),(X=this.m)&&S.push("#",To(X,ru)),S.join("")};function Di(S){return new Bn(S)}function Kl(S,F,X){S.j=X?Xl(F,!0):F,S.j&&(S.j=S.j.replace(/:$/,""))}function eu(S,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);S.s=F}else S.s=null}function zf(S,F,X){F instanceof hl?(S.i=F,hm(S.i,S.h)):(X||(F=To(F,tu)),S.i=new hl(F,S.h))}function Kr(S,F,X){S.i.set(F,X)}function Yl(S){return Kr(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Xl(S,F){return S?F?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function To(S,F,X){return typeof S=="string"?(S=encodeURI(S).replace(F,um),X&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function um(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var wd=/[#\/\?@]/g,fm=/[#\?:]/g,Eo=/[#\?]/g,tu=/[#\?@]/g,ru=/#/g;function hl(S,F){this.h=this.g=null,this.i=S||null,this.j=!!F}function yn(S){S.g||(S.g=new Map,S.h=0,S.i&&Zc(S.i,function(F,X){S.add(decodeURIComponent(F.replace(/\+/g," ")),X)}))}e=hl.prototype,e.add=function(S,F){yn(this),this.i=null,S=dl(this,S);var X=this.g.get(S);return X||this.g.set(S,X=[]),X.push(F),this.h+=1,this};function _d(S,F){yn(S),F=dl(S,F),S.g.has(F)&&(S.i=null,S.h-=S.g.get(F).length,S.g.delete(F))}function qf(S,F){return yn(S),F=dl(S,F),S.g.has(F)}e.forEach=function(S,F){yn(this),this.g.forEach(function(X,he){X.forEach(function(Le){S.call(F,Le,he,this)},this)},this)},e.na=function(){yn(this);const S=Array.from(this.g.values()),F=Array.from(this.g.keys()),X=[];for(let he=0;he<F.length;he++){const Le=S[he];for(let qe=0;qe<Le.length;qe++)X.push(F[he])}return X},e.V=function(S){yn(this);let F=[];if(typeof S=="string")qf(this,S)&&(F=F.concat(this.g.get(dl(this,S))));else{S=Array.from(this.g.values());for(let X=0;X<S.length;X++)F=F.concat(S[X])}return F},e.set=function(S,F){return yn(this),this.i=null,S=dl(this,S),qf(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[F]),this.h+=1,this},e.get=function(S,F){return S?(S=this.V(S),0<S.length?String(S[0]):F):F};function Xt(S,F,X){_d(S,F),0<X.length&&(S.i=null,S.g.set(dl(S,F),m(X)),S.h+=X.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],F=Array.from(this.g.keys());for(var X=0;X<F.length;X++){var he=F[X];const qe=encodeURIComponent(String(he)),ht=this.V(he);for(he=0;he<ht.length;he++){var Le=qe;ht[he]!==""&&(Le+="="+encodeURIComponent(String(ht[he]))),S.push(Le)}}return this.i=S.join("&")};function dl(S,F){return F=String(F),S.j&&(F=F.toLowerCase()),F}function hm(S,F){F&&!S.j&&(yn(S),S.i=null,S.g.forEach(function(X,he){var Le=he.toLowerCase();he!=Le&&(_d(this,he),Xt(this,Le,X))},S)),S.j=F}function Ws(S,F){const X=new $n;if(o.Image){const he=new Image;he.onload=d(ws,X,"TestLoadImage: loaded",!0,F,he),he.onerror=d(ws,X,"TestLoadImage: error",!1,F,he),he.onabort=d(ws,X,"TestLoadImage: abort",!1,F,he),he.ontimeout=d(ws,X,"TestLoadImage: timeout",!1,F,he),o.setTimeout(function(){he.ontimeout&&he.ontimeout()},1e4),he.src=S}else F(!1)}function Sd(S,F){const X=new $n,he=new AbortController,Le=setTimeout(()=>{he.abort(),ws(X,"TestPingServer: timeout",!1,F)},1e4);fetch(S,{signal:he.signal}).then(qe=>{clearTimeout(Le),qe.ok?ws(X,"TestPingServer: ok",!0,F):ws(X,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Le),ws(X,"TestPingServer: error",!1,F)})}function ws(S,F,X,he,Le){try{Le&&(Le.onload=null,Le.onerror=null,Le.onabort=null,Le.ontimeout=null),he(X)}catch{}}function nu(){this.g=new St}function Wf(S,F,X){const he=X||"";try{bd(S,function(Le,qe){let ht=Le;c(Le)&&(ht=Ne(Le)),F.push(he+qe+"="+encodeURIComponent(ht))})}catch(Le){throw F.push(he+"type="+encodeURIComponent("_badmap")),Le}}function au(S){this.l=S.Ub||null,this.j=S.eb||!1}g(au,Ct),au.prototype.g=function(){return new iu(this.l,this.j)},au.prototype.i=function(S){return function(){return S}}({});function iu(S,F){nt.call(this),this.D=S,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(iu,nt),e=iu.prototype,e.open=function(S,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=F,this.readyState=1,_s(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(F.body=S),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ko(this)),this.readyState=0},e.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ad(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ad(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}e.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var F=S.value?S.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!S.done}))&&(this.response=this.responseText+=F)}S.done?ko(this):_s(this),this.readyState==3&&Ad(this)}},e.Ra=function(S){this.g&&(this.response=this.responseText=S,ko(this))},e.Qa=function(S){this.g&&(this.response=S,ko(this))},e.ga=function(){this.g&&ko(this)};function ko(S){S.readyState=4,S.l=null,S.j=null,S.v=null,_s(S)}e.setRequestHeader=function(S,F){this.u.append(S,F)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],F=this.h.entries();for(var X=F.next();!X.done;)X=X.value,S.push(X[0]+": "+X[1]),X=F.next();return S.join(`\r
`)};function _s(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Co(S){let F="";return D(S,function(X,he){F+=he,F+=":",F+=X,F+=`\r
`}),F}function Hf(S,F,X){e:{for(he in X){var he=!1;break e}he=!0}he||(X=Co(X),typeof S=="string"?X!=null&&encodeURIComponent(String(X)):Kr(S,F,X))}function qr(S){nt.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(qr,nt);var Gf=/^https?$/i,su=["POST","PUT"];e=qr.prototype,e.Ha=function(S){this.J=S},e.ea=function(S,F,X,he){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);F=F?F.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_e.g(),this.v=this.o?ur(this.o):ur(_e),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(S),!0),this.B=!1}catch(qe){Kf(this,qe);return}if(S=X||"",X=new Map(this.headers),he)if(Object.getPrototypeOf(he)===Object.prototype)for(var Le in he)X.set(Le,he[Le]);else if(typeof he.keys=="function"&&typeof he.get=="function")for(const qe of he.keys())X.set(qe,he.get(qe));else throw Error("Unknown input type for opt_headers: "+String(he));he=Array.from(X.keys()).find(qe=>qe.toLowerCase()=="content-type"),Le=o.FormData&&S instanceof o.FormData,!(0<=Array.prototype.indexOf.call(su,F,void 0))||he||Le||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,ht]of X)this.g.setRequestHeader(qe,ht);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(S),this.u=!1}catch(qe){Kf(this,qe)}};function Kf(S,F){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=F,S.m=5,Yf(S),Ql(S)}function Yf(S){S.A||(S.A=!0,dt(S,"complete"),dt(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,dt(this,"complete"),dt(this,"abort"),Ql(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),qr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Xf(this):this.bb())},e.bb=function(){Xf(this)};function Xf(S){if(S.h&&typeof s<"u"&&(!S.v[1]||va(S)!=4||S.Z()!=2)){if(S.u&&va(S)==4)wt(S.Ea,0,S);else if(dt(S,"readystatechange"),va(S)==4){S.h=!1;try{const ht=S.Z();e:switch(ht){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var X;if(!(X=F)){var he;if(he=ht===0){var Le=String(S.D).match(es)[1]||null;!Le&&o.self&&o.self.location&&(Le=o.self.location.protocol.slice(0,-1)),he=!Gf.test(Le?Le.toLowerCase():"")}X=he}if(X)dt(S,"complete"),dt(S,"success");else{S.m=6;try{var qe=2<va(S)?S.g.statusText:""}catch{qe=""}S.l=qe+" ["+S.Z()+"]",Yf(S)}}finally{Ql(S)}}}}function Ql(S,F){if(S.g){Ss(S);const X=S.g,he=S.v[0]?()=>{}:null;S.g=null,S.v=null,F||dt(S,"ready");try{X.onreadystatechange=he}catch{}}}function Ss(S){S.I&&(o.clearTimeout(S.I),S.I=null)}e.isActive=function(){return!!this.g};function va(S){return S.g?S.g.readyState:0}e.Z=function(){try{return 2<va(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(S){if(this.g){var F=this.g.responseText;return S&&F.indexOf(S)==0&&(F=F.substring(S.length)),Je(F)}};function Td(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(S){const F={};S=(S.g&&2<=va(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let he=0;he<S.length;he++){if(w(S[he]))continue;var X=E(S[he]);const Le=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const qe=F[Le]||[];F[Le]=qe,qe.push(X)}T(F,function(he){return he.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function za(S,F,X){return X&&X.internalChannelParams&&X.internalChannelParams[S]||F}function ou(S){this.Aa=0,this.i=[],this.j=new $n,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=za("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=za("baseRetryDelayMs",5e3,S),this.cb=za("retryDelaySeedMs",1e4,S),this.Wa=za("forwardChannelMaxRetries",2,S),this.wa=za("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(S&&S.concurrentRequestLimit),this.Da=new nu,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ou.prototype,e.la=8,e.G=1,e.connect=function(S,F,X,he){Dt(0),this.W=S,this.H=F||{},X&&he!==void 0&&(this.H.OSID=X,this.H.OAID=he),this.F=this.X,this.I=j(this,null,this.W),cu(this)};function No(S){if(Jl(S),S.G==3){var F=S.U++,X=Di(S.I);if(Kr(X,"SID",S.K),Kr(X,"RID",F),Kr(X,"TYPE","terminate"),ml(S,X),F=new Ke(S,S.j,F),F.L=2,F.v=Yl(Di(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=F.v,X=!0),X||(F.g=re(F.j,null),F.g.ea(F.v)),F.F=Date.now(),At(F)}pu(S)}function lu(S){S.g&&(hu(S),S.g.cancel(),S.g=null)}function Jl(S){lu(S),S.u&&(o.clearTimeout(S.u),S.u=null),Po(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&o.clearTimeout(S.s),S.s=null)}function cu(S){if(!Zi(S.h)&&!S.s){S.s=!0;var F=S.Ga;ee||ae(),W||(ee(),W=!0),B.add(F,S),S.B=0}}function Qf(S,F){return bs(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=F.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=ia(h(S.Ga,S,F),du(S,S.B)),S.B++,!0)}e.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const Le=new Ke(this,this.j,S);let qe=this.o;if(this.S&&(qe?(qe=A(qe),I(qe,this.S)):qe=this.S),this.m!==null||this.O||(Le.H=qe,qe=null),this.P)e:{for(var F=0,X=0;X<this.i.length;X++){t:{var he=this.i[X];if("__data__"in he.map&&(he=he.map.__data__,typeof he=="string")){he=he.length;break t}he=void 0}if(he===void 0)break;if(F+=he,4096<F){F=X;break e}if(F===4096||X===this.i.length-1){F=X+1;break e}}F=1e3}else F=1e3;F=Zl(this,Le,F),X=Di(this.I),Kr(X,"RID",S),Kr(X,"CVER",22),this.D&&Kr(X,"X-HTTP-Session-Id",this.D),ml(this,X),qe&&(this.O?F="headers="+encodeURIComponent(String(Co(qe)))+"&"+F:this.m&&Hf(X,this.m,qe)),vn(this.h,Le),this.Ua&&Kr(X,"TYPE","init"),this.P?(Kr(X,"$req",F),Kr(X,"SID","null"),Le.T=!0,ut(Le,X,null)):ut(Le,X,F),this.G=2}}else this.G==3&&(S?uu(this,S):this.i.length==0||Zi(this.h)||uu(this))};function uu(S,F){var X;F?X=F.l:X=S.U++;const he=Di(S.I);Kr(he,"SID",S.K),Kr(he,"RID",X),Kr(he,"AID",S.T),ml(S,he),S.m&&S.o&&Hf(he,S.m,S.o),X=new Ke(S,S.j,X,S.B+1),S.m===null&&(X.H=S.o),F&&(S.i=F.D.concat(S.i)),F=Zl(S,X,1e3),X.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),vn(S.h,X),ut(X,he,F)}function ml(S,F){S.H&&D(S.H,function(X,he){Kr(F,he,X)}),S.l&&bd({},function(X,he){Kr(F,he,X)})}function Zl(S,F,X){X=Math.min(S.i.length,X);var he=S.l?h(S.l.Na,S.l,S):null;e:{var Le=S.i;let qe=-1;for(;;){const ht=["count="+X];qe==-1?0<X?(qe=Le[0].g,ht.push("ofs="+qe)):qe=0:ht.push("ofs="+qe);let rr=!0;for(let vr=0;vr<X;vr++){let nr=Le[vr].g;const Wr=Le[vr].map;if(nr-=qe,0>nr)qe=Math.max(0,Le[vr].g-100),rr=!1;else try{Wf(Wr,ht,"req"+nr+"_")}catch{he&&he(Wr)}}if(rr){he=ht.join("&");break e}}}return S=S.i.splice(0,X),F.D=S,he}function fu(S){if(!S.g&&!S.u){S.Y=1;var F=S.Fa;ee||ae(),W||(ee(),W=!0),B.add(F,S),S.v=0}}function ec(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=ia(h(S.Fa,S),du(S,S.v)),S.v++,!0)}e.Fa=function(){if(this.u=null,Ed(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=ia(h(this.ab,this),S)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),lu(this),Ed(this))};function hu(S){S.A!=null&&(o.clearTimeout(S.A),S.A=null)}function Ed(S){S.g=new Ke(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var F=Di(S.qa);Kr(F,"RID","rpc"),Kr(F,"SID",S.K),Kr(F,"AID",S.T),Kr(F,"CI",S.F?"0":"1"),!S.F&&S.ja&&Kr(F,"TO",S.ja),Kr(F,"TYPE","xmlhttp"),ml(S,F),S.m&&S.o&&Hf(F,S.m,S.o),S.L&&(S.g.I=S.L);var X=S.g;S=S.ia,X.L=1,X.v=Yl(Di(F)),X.m=null,X.P=!0,bt(X,S)}e.Za=function(){this.C!=null&&(this.C=null,lu(this),ec(this),Dt(19))};function Po(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function gl(S,F){var X=null;if(S.g==F){Po(S),hu(S),S.g=null;var he=2}else if(Ua(S.h,F))X=F.D,Bf(S.h,F),he=1;else return;if(S.G!=0){if(F.o)if(he==1){X=F.m?F.m.length:0,F=Date.now()-F.F;var Le=S.B;he=Ji(),dt(he,new si(he,X)),cu(S)}else fu(S);else if(Le=F.s,Le==3||Le==0&&0<F.X||!(he==1&&Qf(S,F)||he==2&&ec(S)))switch(X&&0<X.length&&(F=S.h,F.i=F.i.concat(X)),Le){case 1:oi(S,5);break;case 4:oi(S,10);break;case 3:oi(S,6);break;default:oi(S,2)}}}function du(S,F){let X=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(X*=2),X*F}function oi(S,F){if(S.j.info("Error code "+F),F==2){var X=h(S.fb,S),he=S.Xa;const Le=!he;he=new Bn(he||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Kl(he,"https"),Yl(he),Le?Ws(he.toString(),X):Sd(he.toString(),X)}else Dt(2);S.G=0,S.l&&S.l.sa(F),pu(S),Jl(S)}e.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function pu(S){if(S.G=0,S.ka=[],S.l){const F=Vf(S.h);(F.length!=0||S.i.length!=0)&&(v(S.ka,F),v(S.ka,S.i),S.h.i.length=0,m(S.i),S.i.length=0),S.l.ra()}}function j(S,F,X){var he=X instanceof Bn?Di(X):new Bn(X);if(he.g!="")F&&(he.g=F+"."+he.g),eu(he,he.s);else{var Le=o.location;he=Le.protocol,F=F?F+"."+Le.hostname:Le.hostname,Le=+Le.port;var qe=new Bn(null);he&&Kl(qe,he),F&&(qe.g=F),Le&&eu(qe,Le),X&&(qe.l=X),he=qe}return X=S.D,F=S.ya,X&&F&&Kr(he,X,F),Kr(he,"VER",S.la),ml(S,he),he}function re(S,F,X){if(F&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=S.Ca&&!S.pa?new qr(new au({eb:X})):new qr(S.pa),F.Ha(S.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function ke(){}ke.prototype.g=function(S,F){return new Me(S,F)};function Me(S,F){nt.call(this),this.g=new ou(F),this.l=S,this.h=F&&F.messageUrlParams||null,S=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(S?S["X-WebChannel-Content-Type"]=F.messageContentType:S={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(S?S["X-WebChannel-Client-Profile"]=F.va:S={"X-WebChannel-Client-Profile":F.va}),this.g.S=S,(S=F&&F.Sb)&&!w(S)&&(this.g.m=S),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,S=this.h,S!==null&&F in S&&(S=this.h,F in S&&delete S[F])),this.j=new kt(this)}g(Me,nt),Me.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Me.prototype.close=function(){No(this.g)},Me.prototype.o=function(S){var F=this.g;if(typeof S=="string"){var X={};X.__data__=S,S=X}else this.u&&(X={},X.__data__=Ne(S),S=X);F.i.push(new Ao(F.Ya++,S)),F.G==3&&cu(F)},Me.prototype.N=function(){this.g.l=null,delete this.j,No(this.g),delete this.g,Me.aa.N.call(this)};function Qe(S){gn.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var F=S.__sm__;if(F){e:{for(const X in F){S=X;break e}S=void 0}(this.i=S)&&(S=this.i,F=F!==null&&S in F?F[S]:void 0),this.data=F}else this.data=S}g(Qe,gn);function ft(){Dr.call(this),this.status=1}g(ft,Dr);function kt(S){this.g=S}g(kt,Ae),kt.prototype.ua=function(){dt(this.g,"a")},kt.prototype.ta=function(S){dt(this.g,new Qe(S))},kt.prototype.sa=function(S){dt(this.g,new ft)},kt.prototype.ra=function(){dt(this.g,"b")},ke.prototype.createWebChannel=ke.prototype.g,Me.prototype.send=Me.prototype.o,Me.prototype.open=Me.prototype.m,Me.prototype.close=Me.prototype.close,f9=function(){return new ke},u9=function(){return Ji()},c9=Vt,D4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ve.NO_ERROR=0,ve.TIMEOUT=8,ve.HTTP_ERROR=6,Kx=ve,be.COMPLETE="complete",l9=be,hr.EventType=Ir,Ir.OPEN="a",Ir.CLOSE="b",Ir.ERROR="c",Ir.MESSAGE="d",nt.prototype.listen=nt.prototype.K,rg=hr,qr.prototype.listenOnce=qr.prototype.L,qr.prototype.getLastError=qr.prototype.Ka,qr.prototype.getLastErrorCode=qr.prototype.Ba,qr.prototype.getStatus=qr.prototype.Z,qr.prototype.getResponseJson=qr.prototype.Oa,qr.prototype.getResponseText=qr.prototype.oa,qr.prototype.send=qr.prototype.ea,qr.prototype.setWithCredentials=qr.prototype.Ha,o9=qr}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});const TO="@firebase/firestore",EO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}yi.UNAUTHENTICATED=new yi(null),yi.GOOGLE_CREDENTIALS=new yi("google-credentials-uid"),yi.FIRST_PARTY=new yi("first-party-uid"),yi.MOCK_USER=new yi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh=new e9("@firebase/firestore");function Yd(){return Hh.logLevel}function jt(e,...t){if(Hh.logLevel<=Cr.DEBUG){const r=t.map(pk);Hh.debug(`Firestore (${Vp}): ${e}`,...r)}}function Dc(e,...t){if(Hh.logLevel<=Cr.ERROR){const r=t.map(pk);Hh.error(`Firestore (${Vp}): ${e}`,...r)}}function Z0(e,...t){if(Hh.logLevel<=Cr.WARN){const r=t.map(pk);Hh.warn(`Firestore (${Vp}): ${e}`,...r)}}function pk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,h9(e,n,r)}function h9(e,t,r){let n=`FIRESTORE (${Vp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Dc(n),new Error(n)}function Ur(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||h9(t,a,n)}function er(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends Bp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ste{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(yi.UNAUTHENTICATED))}shutdown(){}}class ote{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class lte{constructor(t){this.t=t,this.currentUser=yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Ur(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Il;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Il,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{jt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(jt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Il)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(jt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ur(typeof n.accessToken=="string",31837,{l:n}),new d9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ur(t===null||typeof t=="string",2055,{h:t}),new yi(t)}}class cte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=yi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ute{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new cte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Ur(this.o===void 0,3512);const n=i=>{i.error!=null&&jt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,jt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{jt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):jt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Ur(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new kO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=hte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function mr(e,t){return e<t?-1:e>t?1:0}function j4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return mr(n,a);{const i=p9(),s=dte(i.encode(CO(e,r)),i.encode(CO(t,r)));return s!==0?s:mr(n,a)}}r+=n>65535?2:1}return mr(e.length,t.length)}function CO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function dte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return mr(e[r],t[r]);return mr(e.length,t.length)}function ep(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO=-62135596800,PO=1e6;class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(t){return qt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*PO);return new qt(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<NO)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ot(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/PO}_compareTo(t){return this.seconds===t.seconds?mr(this.nanoseconds,t.nanoseconds):mr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-NO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{static fromTimestamp(t){return new tr(t)}static min(){return new tr(new qt(0,0))}static max(){return new tr(new qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO="__name__";class Tl{constructor(t,r,n){r===void 0?r=0:r>t.length&&Yt(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Yt(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Tl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Tl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Tl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return mr(t.length,r.length)}static compareSegments(t,r){const n=Tl.isNumericId(t),a=Tl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Tl.extractNumericId(t).compare(Tl.extractNumericId(r)):j4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cf.fromString(t.substring(4,t.length-2))}}class _n extends Tl{construct(t,r,n){return new _n(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new _n(r)}static emptyPath(){return new _n([])}}const pte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Za extends Tl{construct(t,r,n){return new Za(t,r,n)}static isValidIdentifier(t){return pte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Za.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===OO}static keyField(){return new Za([OO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Ot(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ot(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Ot(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Za(r)}static emptyPath(){return new Za([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(t){this.path=t}static fromPath(t){return new Ut(_n.fromString(t))}static fromName(t){return new Ut(_n.fromString(t).popFirst(5))}static empty(){return new Ut(_n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&_n.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return _n.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Ut(new _n(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-1;function mte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=tr.fromTimestamp(n===1e9?new qt(r+1,0):new qt(r,n));return new gf(a,Ut.empty(),t)}function gte(e){return new gf(e.readTime,e.key,vv)}class gf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new gf(tr.min(),Ut.empty(),vv)}static max(){return new gf(tr.max(),Ut.empty(),vv)}}function vte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Ut.comparator(e.documentKey,t.documentKey),r!==0?r:mr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==yte)throw e;jt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ot((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ot?r:ot.resolve(r)}catch(r){return ot.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ot.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ot.reject(r)}static resolve(t){return new ot((r,n)=>{r(t)})}static reject(t){return new ot((r,n)=>{n(t)})}static waitFor(t){return new ot((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=ot.resolve(!1);for(const n of t)r=r.next(a=>a?ot.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new ot((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new ot((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function bte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Ww.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=-1;function Hw(e){return e==null}function W2(e){return e===0&&1/e==-1/0}function wte(e){return typeof e=="number"&&Number.isInteger(e)&&!W2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9="";function _te(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=IO(t)),t=Ste(e.get(r),t);return IO(t)}function Ste(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case g9:r+="";break;default:r+=i}}return r}function IO(e){return e+g9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Pf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ate(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function v9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(t,r){this.comparator=t,this.root=r||Qa.EMPTY}insert(t,r){return new Rn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Qa.BLACK,null,null))}remove(t){return new Rn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Xy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Xy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Xy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Xy(this.root,t,this.comparator,!0)}}class Xy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Qa.RED,this.left=a??Qa.EMPTY,this.right=i??Qa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Qa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Qa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Qa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Yt(27949);return t+(this.isRed()?0:1)}}Qa.EMPTY=null,Qa.RED=!0,Qa.BLACK=!1;Qa.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt(57766)}get value(){throw Yt(16141)}get color(){throw Yt(16727)}get left(){throw Yt(29726)}get right(){throw Yt(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Qa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(t){this.comparator=t,this.data=new Rn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new jO(this.data.getIterator())}getIteratorFrom(t){return new jO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Ea)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Ea(this.comparator);return r.data=t,r}}class jO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(t){this.fields=t,t.sort(Za.comparator)}static empty(){return new Ls([])}unionWith(t){let r=new Ea(Za.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ls(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return ep(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new y9("Invalid base64 string: "+i):i}}(t);return new ii(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new ii(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return mr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}ii.EMPTY_BYTE_STRING=new ii("");const Tte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vf(e){if(Ur(!!e,39018),typeof e=="string"){let t=0;const r=Tte.exec(e);if(Ur(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Zn(e.seconds),nanos:Zn(e.nanos)}}function Zn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function yf(e){return typeof e=="string"?ii.fromBase64String(e):ii.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="server_timestamp",b9="__type__",w9="__previous_value__",_9="__local_write_time__";function gk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[b9])===null||r===void 0?void 0:r.stringValue)===x9}function Gw(e){const t=e.mapValue.fields[w9];return gk(t)?Gw(t):t}function yv(e){const t=vf(e.mapValue.fields[_9].timestampValue);return new qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ete{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const H2="(default)";class xv{constructor(t,r){this.projectId=t,this.database=r||H2}static empty(){return new xv("","")}get isDefaultDatabase(){return this.database===H2}isEqual(t){return t instanceof xv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9="__type__",A9="__max__",Qy={mapValue:{fields:{__type__:{stringValue:A9}}}},T9="__vector__",G2="value";function xf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?gk(e)?4:Cte(e)?9007199254740991:kte(e)?10:11:Yt(28295,{value:e})}function Bl(e,t){if(e===t)return!0;const r=xf(e);if(r!==xf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yv(e).isEqual(yv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=vf(a.timestampValue),o=vf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return yf(a.bytesValue).isEqual(yf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Zn(a.geoPointValue.latitude)===Zn(i.geoPointValue.latitude)&&Zn(a.geoPointValue.longitude)===Zn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Zn(a.integerValue)===Zn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Zn(a.doubleValue),o=Zn(i.doubleValue);return s===o?W2(s)===W2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return ep(e.arrayValue.values||[],t.arrayValue.values||[],Bl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(DO(s)!==DO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Bl(s[l],o[l])))return!1;return!0}(e,t);default:return Yt(52216,{left:e})}}function bv(e,t){return(e.values||[]).find(r=>Bl(r,t))!==void 0}function tp(e,t){if(e===t)return 0;const r=xf(e),n=xf(t);if(r!==n)return mr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return mr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Zn(i.integerValue||i.doubleValue),l=Zn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return LO(e.timestampValue,t.timestampValue);case 4:return LO(yv(e),yv(t));case 5:return j4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=yf(i),l=yf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=mr(o[c],l[c]);if(u!==0)return u}return mr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=mr(Zn(i.latitude),Zn(s.latitude));return o!==0?o:mr(Zn(i.longitude),Zn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return MO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[G2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[G2])===null||l===void 0?void 0:l.arrayValue,m=mr(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:MO(d,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Qy.mapValue&&s===Qy.mapValue)return 0;if(i===Qy.mapValue)return 1;if(s===Qy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=j4(l[f],u[f]);if(h!==0)return h;const d=tp(o[l[f]],c[u[f]]);if(d!==0)return d}return mr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Yt(23264,{Pe:r})}}function LO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return mr(e,t);const r=vf(e),n=vf(t),a=mr(r.seconds,n.seconds);return a!==0?a:mr(r.nanos,n.nanos)}function MO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=tp(r[a],n[a]);if(i)return i}return mr(r.length,n.length)}function rp(e){return L4(e)}function L4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=vf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return yf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Ut.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=L4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${L4(r.fields[s])}`;return a+"}"}(e.mapValue):Yt(61005,{value:e})}function Yx(e){switch(xf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gw(e);return t?16+Yx(t):16;case 5:return 2*e.stringValue.length;case 6:return yf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Yx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Pf(n.fields,(i,s)=>{a+=i.length+Yx(s)}),a}(e.mapValue);default:throw Yt(13486,{value:e})}}function RO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function M4(e){return!!e&&"integerValue"in e}function vk(e){return!!e&&"arrayValue"in e}function FO(e){return!!e&&"nullValue"in e}function $O(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Xx(e){return!!e&&"mapValue"in e}function kte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[S9])===null||r===void 0?void 0:r.stringValue)===T9}function _g(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Pf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=_g(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=_g(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Cte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===A9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.value=t}static empty(){return new us({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Xx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=_g(r)}setAll(t){let r=Za.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=_g(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Xx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Xx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Pf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new us(_g(this.value))}}function E9(e){const t=[];return Pf(e.fields,(r,n)=>{const a=new Za([r]);if(Xx(n)){const i=E9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ls(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new wi(t,0,tr.min(),tr.min(),tr.min(),us.empty(),0)}static newFoundDocument(t,r,n,a){return new wi(t,1,r,tr.min(),n,a,0)}static newNoDocument(t,r){return new wi(t,2,r,tr.min(),tr.min(),us.empty(),0)}static newUnknownDocument(t,r){return new wi(t,3,r,tr.min(),tr.min(),us.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(tr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof wi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(t,r){this.position=t,this.inclusive=r}}function BO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Ut.comparator(Ut.fromName(s.referenceValue),r.key):n=tp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function VO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Bl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Nte(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k9{}class pa extends k9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Ote(t,r,n):r==="array-contains"?new jte(t,n):r==="in"?new Lte(t,n):r==="not-in"?new Mte(t,n):r==="array-contains-any"?new Rte(t,n):new pa(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Ite(t,n):new Dte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(tp(r,this.value)):r!==null&&xf(this.value)===xf(r)&&this.matchesComparison(tp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends k9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new ll(t,r)}matches(t){return C9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function C9(e){return e.op==="and"}function N9(e){return Pte(e)&&C9(e)}function Pte(e){for(const t of e.filters)if(t instanceof ll)return!1;return!0}function R4(e){if(e instanceof pa)return e.field.canonicalString()+e.op.toString()+rp(e.value);if(N9(e))return e.filters.map(t=>R4(t)).join(",");{const t=e.filters.map(r=>R4(r)).join(",");return`${e.op}(${t})`}}function P9(e,t){return e instanceof pa?function(n,a){return a instanceof pa&&n.op===a.op&&n.field.isEqual(a.field)&&Bl(n.value,a.value)}(e,t):e instanceof ll?function(n,a){return a instanceof ll&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&P9(s,a.filters[o]),!0):!1}(e,t):void Yt(19439)}function O9(e){return e instanceof pa?function(r){return`${r.field.canonicalString()} ${r.op} ${rp(r.value)}`}(e):e instanceof ll?function(r){return r.op.toString()+" {"+r.getFilters().map(O9).join(" ,")+"}"}(e):"Filter"}class Ote extends pa{constructor(t,r,n){super(t,r,n),this.key=Ut.fromName(n.referenceValue)}matches(t){const r=Ut.comparator(t.key,this.key);return this.matchesComparison(r)}}class Ite extends pa{constructor(t,r){super(t,"in",r),this.keys=I9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Dte extends pa{constructor(t,r){super(t,"not-in",r),this.keys=I9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function I9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ut.fromName(n.referenceValue))}class jte extends pa{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return vk(r)&&bv(r.arrayValue,this.value)}}class Lte extends pa{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&bv(this.value.arrayValue,r)}}class Mte extends pa{constructor(t,r){super(t,"not-in",r)}matches(t){if(bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!bv(this.value.arrayValue,r)}}class Rte extends pa{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!vk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>bv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function UO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Fte(e,t,r,n,a,i,s)}function yk(e){const t=er(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>R4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Hw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>rp(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>rp(n)).join(",")),t.Ie=r}return t.Ie}function xk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Nte(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!P9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!VO(e.startAt,t.startAt)&&VO(e.endAt,t.endAt)}function F4(e){return Ut.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $te(e,t,r,n,a,i,s,o){return new qp(e,t,r,n,a,i,s,o)}function bk(e){return new qp(e)}function zO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function D9(e){return e.collectionGroup!==null}function Sg(e){const t=er(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Ea(Za.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new wv(i,n))}),r.has(Za.keyField().canonicalString())||t.Ee.push(new wv(Za.keyField(),n))}return t.Ee}function Dl(e){const t=er(e);return t.de||(t.de=j9(t,Sg(e))),t.de}function Bte(e){const t=er(e);return t.Ae||(t.Ae=j9(t,e.explicitOrderBy)),t.Ae}function j9(e,t){if(e.limitType==="F")return UO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new wv(a.field,i)});const r=e.endAt?new K2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new K2(e.startAt.position,e.startAt.inclusive):null;return UO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function $4(e,t){const r=e.filters.concat([t]);return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function Y2(e,t,r){return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Kw(e,t){return xk(Dl(e),Dl(t))&&e.limitType===t.limitType}function L9(e){return`${yk(Dl(e))}|lt:${e.limitType}`}function Xd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>O9(a)).join(", ")}]`),Hw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>rp(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>rp(a)).join(",")),`Target(${n})`}(Dl(e))}; limitType=${e.limitType})`}function Yw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ut.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Sg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=BO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Sg(n),a)||n.endAt&&!function(s,o,l){const c=BO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Sg(n),a))}(e,t)}function Vte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function M9(e){return(t,r)=>{let n=!1;for(const a of Sg(e)){const i=Ute(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function Ute(e,t,r){const n=e.field.isKeyField()?Ut.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?tp(l,c):Yt(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Yt(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Pf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return v9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zte=new Rn(Ut.comparator);function jc(){return zte}const R9=new Rn(Ut.comparator);function ng(...e){let t=R9;for(const r of e)t=t.insert(r.key,r);return t}function F9(e){let t=R9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function bh(){return Ag()}function $9(){return Ag()}function Ag(){return new id(e=>e.toString(),(e,t)=>e.isEqual(t))}const qte=new Rn(Ut.comparator),Wte=new Ea(Ut.comparator);function xr(...e){let t=Wte;for(const r of e)t=t.add(r);return t}const Hte=new Ea(mr);function Gte(){return Hte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W2(t)?"-0":t}}function B9(e){return{integerValue:""+e}}function Kte(e,t){return wte(t)?B9(t):wk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(){this._=void 0}}function Yte(e,t,r){return e instanceof _v?function(a,i){const s={fields:{[b9]:{stringValue:x9},[_9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&gk(i)&&(i=Gw(i)),i&&(s.fields[w9]=i),{mapValue:s}}(r,t):e instanceof Sv?U9(e,t):e instanceof Av?z9(e,t):function(a,i){const s=V9(a,i),o=qO(s)+qO(a.Re);return M4(s)&&M4(a.Re)?B9(o):wk(a.serializer,o)}(e,t)}function Xte(e,t,r){return e instanceof Sv?U9(e,t):e instanceof Av?z9(e,t):r}function V9(e,t){return e instanceof X2?function(n){return M4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class _v extends Xw{}class Sv extends Xw{constructor(t){super(),this.elements=t}}function U9(e,t){const r=q9(t);for(const n of e.elements)r.some(a=>Bl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Av extends Xw{constructor(t){super(),this.elements=t}}function z9(e,t){let r=q9(t);for(const n of e.elements)r=r.filter(a=>!Bl(a,n));return{arrayValue:{values:r}}}class X2 extends Xw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function qO(e){return Zn(e.integerValue||e.doubleValue)}function q9(e){return vk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(t,r){this.field=t,this.transform=r}}function Jte(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Sv&&a instanceof Sv||n instanceof Av&&a instanceof Av?ep(n.elements,a.elements,Bl):n instanceof X2&&a instanceof X2?Bl(n.Re,a.Re):n instanceof _v&&a instanceof _v}(e.transform,t.transform)}class Zte{constructor(t,r){this.version=t,this.transformResults=r}}class Hi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Hi}static exists(t){return new Hi(void 0,t)}static updateTime(t){return new Hi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Qw{}function W9(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Jw(e.key,Hi.none()):new P1(e.key,e.data,Hi.none());{const r=e.data,n=us.empty();let a=new Ea(Za.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Of(e.key,n,new Ls(a.toArray()),Hi.none())}}function ere(e,t,r){e instanceof P1?function(a,i,s){const o=a.value.clone(),l=HO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Of?function(a,i,s){if(!Qx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=HO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(H9(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Tg(e,t,r,n){return e instanceof P1?function(i,s,o,l){if(!Qx(i.precondition,s))return o;const c=i.value.clone(),u=GO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Of?function(i,s,o,l){if(!Qx(i.precondition,s))return o;const c=GO(i.fieldTransforms,l,s),u=s.data;return u.setAll(H9(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return Qx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function tre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=V9(n.transform,a||null);i!=null&&(r===null&&(r=us.empty()),r.set(n.field,i))}return r||null}function WO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&ep(n,a,(i,s)=>Jte(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class P1 extends Qw{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Of extends Qw{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function H9(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function HO(e,t,r){const n=new Map;Ur(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Xte(s,o,r[a]))}return n}function GO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Yte(i,s,t))}return n}class Jw extends Qw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rre extends Qw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nre{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&ere(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=$9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=W9(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(tr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),xr())}isEqual(t){return this.batchId===t.batchId&&ep(this.mutations,t.mutations,(r,n)=>WO(r,n))&&ep(this.baseMutations,t.baseMutations,(r,n)=>WO(r,n))}}class _k{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Ur(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return qte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new _k(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ca,kr;function ore(e){switch(e){case rt.OK:return Yt(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Yt(15467,{code:e})}}function G9(e){if(e===void 0)return Dc("GRPC error has no .code"),rt.UNKNOWN;switch(e){case ca.OK:return rt.OK;case ca.CANCELLED:return rt.CANCELLED;case ca.UNKNOWN:return rt.UNKNOWN;case ca.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ca.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ca.INTERNAL:return rt.INTERNAL;case ca.UNAVAILABLE:return rt.UNAVAILABLE;case ca.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ca.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ca.NOT_FOUND:return rt.NOT_FOUND;case ca.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ca.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ca.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ca.ABORTED:return rt.ABORTED;case ca.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ca.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ca.DATA_LOSS:return rt.DATA_LOSS;default:return Yt(39323,{code:e})}}(kr=ca||(ca={}))[kr.OK=0]="OK",kr[kr.CANCELLED=1]="CANCELLED",kr[kr.UNKNOWN=2]="UNKNOWN",kr[kr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kr[kr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kr[kr.NOT_FOUND=5]="NOT_FOUND",kr[kr.ALREADY_EXISTS=6]="ALREADY_EXISTS",kr[kr.PERMISSION_DENIED=7]="PERMISSION_DENIED",kr[kr.UNAUTHENTICATED=16]="UNAUTHENTICATED",kr[kr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kr[kr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kr[kr.ABORTED=10]="ABORTED",kr[kr.OUT_OF_RANGE=11]="OUT_OF_RANGE",kr[kr.UNIMPLEMENTED=12]="UNIMPLEMENTED",kr[kr.INTERNAL=13]="INTERNAL",kr[kr.UNAVAILABLE=14]="UNAVAILABLE",kr[kr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=new cf([4294967295,4294967295],0);function KO(e){const t=p9().encode(e),r=new s9;return r.update(t),new Uint8Array(r.digest())}function YO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cf([r,n],0),new cf([a,i],0)]}class Sk{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ag(`Invalid padding: ${r}`);if(n<0)throw new ag(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ag(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=cf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(cf.fromNumber(n)));return a.compare(lre)===1&&(a=new cf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=KO(t),[n,a]=YO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Sk(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=KO(t),[n,a]=YO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,O1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Zw(tr.min(),a,new Rn(mr),jc(),xr())}}class O1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new O1(n,r,xr(),xr(),xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class K9{constructor(t,r){this.targetId=t,this.Ce=r}}class Y9{constructor(t,r,n=ii.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class XO{constructor(){this.Fe=0,this.Me=QO(),this.xe=ii.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=xr(),r=xr(),n=xr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Yt(38017,{changeType:i})}}),new O1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=QO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ur(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class cre{constructor(t){this.ze=t,this.je=new Map,this.He=jc(),this.Je=Jy(),this.Ye=Jy(),this.Ze=new Rn(mr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:Yt(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(F4(i))if(n===0){const s=new Ut(i.path);this.tt(r,s,wi.newNoDocument(s,tr.min()))}else Ur(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=yf(n).toUint8Array()}catch(l){if(l instanceof y9)return Z0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Sk(s,a,i)}catch(l){return Z0(l instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&F4(o.target)){const l=new Ut(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,wi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=xr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new Zw(t,r,this.Ze,this.He,n);return this.He=jc(),this.Je=Jy(),this.Ye=Jy(),this.Ze=new Rn(mr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new XO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Ea(mr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Ea(mr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||jt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new XO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Jy(){return new Rn(Ut.comparator)}function QO(){return new Rn(Ut.comparator)}const ure={asc:"ASCENDING",desc:"DESCENDING"},fre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hre={and:"AND",or:"OR"};class dre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function B4(e,t){return e.useProto3Json||Hw(t)?t:{value:t}}function Q2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function X9(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pre(e,t){return Q2(e,t.toTimestamp())}function jl(e){return Ur(!!e,49232),tr.fromTimestamp(function(r){const n=vf(r);return new qt(n.seconds,n.nanos)}(e))}function Ak(e,t){return V4(e,t).canonicalString()}function V4(e,t){const r=function(a){return new _n(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function Q9(e){const t=_n.fromString(e);return Ur(nB(t),10190,{key:t.toString()}),t}function U4(e,t){return Ak(e.databaseId,t.path)}function iS(e,t){const r=Q9(t);if(r.get(1)!==e.databaseId.projectId)throw new Ot(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ot(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Ut(Z9(r))}function J9(e,t){return Ak(e.databaseId,t)}function mre(e){const t=Q9(e);return t.length===4?_n.emptyPath():Z9(t)}function z4(e){return new _n(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Z9(e){return Ur(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function JO(e,t,r){return{name:U4(e,t),fields:r.value.mapValue.fields}}function gre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Yt(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ur(u===void 0||typeof u=="string",58123),ii.fromBase64String(u||"")):(Ur(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),ii.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?rt.UNKNOWN:G9(c.code);return new Ot(u,c.message||"")}(s);r=new Y9(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=iS(e,n.document.name),i=jl(n.document.updateTime),s=n.document.createTime?jl(n.document.createTime):tr.min(),o=new us({mapValue:{fields:n.document.fields}}),l=wi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Jx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=iS(e,n.document),i=n.readTime?jl(n.readTime):tr.min(),s=wi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Jx([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=iS(e,n.document),i=n.removedTargetIds||[];r=new Jx([],i,a,null)}else{if(!("filter"in t))return Yt(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new sre(a,i),o=n.targetId;r=new K9(o,s)}}return r}function vre(e,t){let r;if(t instanceof P1)r={update:JO(e,t.key,t.value)};else if(t instanceof Jw)r={delete:U4(e,t.key)};else if(t instanceof Of)r={update:JO(e,t.key,t.data),updateMask:Ere(t.fieldMask)};else{if(!(t instanceof rre))return Yt(16599,{ft:t.type});r={verify:U4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof _v)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Av)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof X2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw Yt(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:pre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Yt(27497)}(e,t.precondition)),r}function yre(e,t){return e&&e.length>0?(Ur(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?jl(a.updateTime):jl(i);return s.isEqual(tr.min())&&(s=jl(i)),new Zte(s,a.transformResults||[])}(r,t))):[]}function xre(e,t){return{documents:[J9(e,t.path)]}}function eB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=J9(e,a);const i=function(c){if(c.length!==0)return rB(ll.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Fu(h.field),direction:Sre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=B4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function bre(e,t,r,n){const{gt:a,parent:i}=eB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Fu(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Fu(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function wre(e){let t=mre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Ur(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=tB(f);return h instanceof ll&&N9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new wv(Qd(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Hw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new K2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new K2(d,h)}(r.endAt)),$te(t,a,s,i,o,"F",l,c)}function _re(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function tB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Qd(r.unaryFilter.field);return pa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Qd(r.unaryFilter.field);return pa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Qd(r.unaryFilter.field);return pa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Qd(r.unaryFilter.field);return pa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Yt(61313);default:return Yt(60726)}}(e):e.fieldFilter!==void 0?function(r){return pa.create(Qd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Yt(58110);default:return Yt(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ll.create(r.compositeFilter.filters.map(n=>tB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Yt(1026)}}(r.compositeFilter.op))}(e):Yt(30097,{filter:e})}function Sre(e){return ure[e]}function Are(e){return fre[e]}function Tre(e){return hre[e]}function Fu(e){return{fieldPath:e.canonicalString()}}function Qd(e){return Za.fromServerFormat(e.fieldPath)}function rB(e){return e instanceof pa?function(r){if(r.op==="=="){if($O(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NAN"}};if(FO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if($O(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NOT_NAN"}};if(FO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(r.field),op:Are(r.op),value:r.value}}}(e):e instanceof ll?function(r){const n=r.getFilters().map(a=>rB(a));return n.length===1?n[0]:{compositeFilter:{op:Tre(r.op),filters:n}}}(e):Yt(54877,{filter:e})}function Ere(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function nB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,r,n,a,i=tr.min(),s=tr.min(),o=ii.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Wu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kre{constructor(t){this.wt=t}}function Cre(e){const t=wre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Y2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(){this.yn=new Pre}addToCollectionParentIndex(t,r){return this.yn.add(r),ot.resolve()}getCollectionParents(t,r){return ot.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return ot.resolve()}deleteFieldIndex(t,r){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,r){return ot.resolve()}getDocumentsMatchingTarget(t,r){return ot.resolve(null)}getIndexType(t,r){return ot.resolve(0)}getFieldIndexes(t,r){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,r){return ot.resolve(gf.min())}getMinOffsetFromCollectionGroup(t,r){return ot.resolve(gf.min())}updateCollectionGroup(t,r,n){return ot.resolve()}updateIndexEntries(t,r){return ot.resolve()}}class Pre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Ea(_n.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Ea(_n.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aB=41943040;class os{static withCacheSize(t){return new os(t,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(aB,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new np(0)}static ir(){return new np(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="LruGarbageCollector",Ore=1048576;function tI([e,t],[r,n]){const a=mr(e,r);return a===0?mr(t,n):a}class Ire{constructor(t){this.cr=t,this.buffer=new Ea(tI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();tI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Dre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){jt(eI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zp(r)?jt(eI,"Ignoring IndexedDB error during garbage collection: ",r):await Up(r)}await this.Ir(3e5)})}}class jre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return ot.resolve(Ww.le);const n=new Ire(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(jt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(ZO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(jt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(jt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Yd()<=Cr.DEBUG&&jt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Lre(e,t){return new jre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(){this.changes=new id(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,wi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ot.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Tg(n.mutation,a,Ls.empty(),qt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,xr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=xr()){const a=bh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=ng();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=bh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,xr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=jc();const s=Ag(),o=function(){return Ag()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Of)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Tg(u.mutation,c,u.mutation.getFieldMask(),qt.now())):s.set(c.key,Ls.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Rre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Ag();let a=new Rn((s,o)=>s-o),i=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ls.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||xr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=$9();u.forEach(h=>{if(!i.has(h)){const d=W9(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return ot.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):D9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):ot.resolve(bh());let o=vv,l=i;return s.next(c=>ot.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?ot.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,xr())).next(u=>({batchId:o,changes:F9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Ut(r)).next(n=>{let a=ng();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=ng();return this.indexManager.getCollectionParents(t,i).next(o=>ot.forEach(o,l=>{const c=function(f,h){return new qp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,wi.newInvalidDocument(u)))});let o=ng();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Tg(u.mutation,c,Ls.empty(),qt.now()),Yw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return ot.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:jl(a.createTime)}}(r)),ot.resolve()}getNamedQuery(t,r){return ot.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Cre(a.bundledQuery),readTime:jl(a.readTime)}}(r)),ot.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(){this.overlays=new Rn(Ut.comparator),this.Or=new Map}getOverlay(t,r){return ot.resolve(this.overlays.get(r))}getOverlays(t,r){const n=bh();return ot.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),ot.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),ot.resolve()}getOverlaysForCollection(t,r,n){const a=bh(),i=r.length+1,s=new Ut(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return ot.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Rn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=bh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=bh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return ot.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new are(r,n));let i=this.Or.get(r);i===void 0&&(i=xr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(){this.sessionToken=ii.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ot.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(){this.Nr=new Ea(Ia.Br),this.Lr=new Ea(Ia.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Ia(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Ia(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Ut(new _n([])),n=new Ia(r,t),a=new Ia(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Ut(new _n([])),n=new Ia(r,t),a=new Ia(r,t+1);let i=xr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Ia(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Ia{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Ut.comparator(t.key,r.key)||mr(t.Gr,r.Gr)}static kr(t,r){return mr(t.Gr,r.Gr)||Ut.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Ea(Ia.Br)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new nre(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Ia(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ot.resolve(s)}lookupMutationBatch(t,r){return ot.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return ot.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?mk:this.Jn-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Ia(r,0),a=new Ia(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),ot.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Ea(mr);return r.forEach(a=>{const i=new Ia(a,0),s=new Ia(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),ot.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Ut.isDocumentKey(i)||(i=i.child(""));const s=new Ia(new Ut(i),0);let o=new Ea(mr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),ot.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Ur(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ot.forEach(r.mutations,a=>{const i=new Ia(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Ia(r,0),a=this.zr.firstAfterOrEqual(n);return ot.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(t){this.Zr=t,this.docs=function(){return new Rn(Ut.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return ot.resolve(n?n.document.mutableCopy():wi.newInvalidDocument(r))}getEntries(t,r){let n=jc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():wi.newInvalidDocument(a))}),ot.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=jc();const s=r.path,o=new Ut(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||vte(gte(u),n)<=0||(a.has(u.key)||Yw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return ot.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Yt(9500)}Xr(t,r){return ot.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new qre(this)}getSize(t){return ot.resolve(this.size)}}class qre extends Mre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),ot.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(t){this.persistence=t,this.ei=new id(r=>yk(r),xk),this.lastRemoteSnapshotVersion=tr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Tk,this.targetCount=0,this.ri=np.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),ot.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new np(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,ot.resolve()}updateTargetData(t,r){return this.ar(r),ot.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),ot.waitFor(i).next(()=>a)}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return ot.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),ot.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),ot.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),ot.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return ot.resolve(n)}containsKey(t,r){return ot.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(t,r){this.ii={},this.overlays={},this.si=new Ww(0),this.oi=!1,this.oi=!0,this._i=new Vre,this.referenceDelegate=t(this),this.ai=new Wre(this),this.indexManager=new Nre,this.remoteDocumentCache=function(a){return new zre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new kre(r),this.ci=new $re(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Bre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new Ure(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){jt("MemoryPersistence","Starting transaction:",t);const a=new Hre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return ot.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class Hre extends xte{constructor(t){super(),this.currentSequenceNumber=t}}class Ek{constructor(t){this.persistence=t,this.Ti=new Tk,this.Ii=null}static Ei(t){return new Ek(t)}get di(){if(this.Ii)return this.Ii;throw Yt(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),ot.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),ot.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),ot.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.di,n=>{const a=Ut.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,tr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return ot.or([()=>ot.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class J2{constructor(t,r){this.persistence=t,this.Ri=new id(n=>_te(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Lre(this,r)}static Ei(t,r){return new J2(t,r)}li(){}hi(t){return ot.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return ot.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?ot.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,tr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),ot.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ot.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),ot.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Yx(t.data.value)),r}gr(t,r,n){return ot.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return ot.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=xr(),a=xr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new kk(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return BZ()?8:bte(FZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Gre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Yd()<=Cr.DEBUG&&jt("QueryEngine","SDK will not create cache indexes for query:",Xd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ot.resolve()):(Yd()<=Cr.DEBUG&&jt("QueryEngine","Query:",Xd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Yd()<=Cr.DEBUG&&jt("QueryEngine","The SDK decides to create cache indexes for query:",Xd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dl(r))):ot.resolve())}Rs(t,r){if(zO(r))return ot.resolve(null);let n=Dl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=Y2(r,null,"F"),n=Dl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=xr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,Y2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return zO(r)||a.isEqual(tr.min())?ot.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?ot.resolve(null):(Yd()<=Cr.DEBUG&&jt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xd(r)),this.ws(t,s,r,mte(a,vv)).next(o=>o))})}ps(t,r){let n=new Ea(M9(t));return r.forEach((a,i)=>{Yw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Yd()<=Cr.DEBUG&&jt("QueryEngine","Using full collection scan to execute query:",Xd(r)),this.As.getDocumentsMatchingQuery(t,r,gf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="LocalStore",Yre=3e8;class Xre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new Rn(mr),this.Ds=new id(i=>yk(i),xk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Qre(e,t,r,n){return new Xre(e,t,r,n)}async function sB(e,t){const r=er(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=xr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Jre(e,t){const r=er(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=ot.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Ur(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=xr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function oB(e){const t=er(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Zre(e,t){const r=er(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(ii.EMPTY_BYTE_STRING,tr.min()).withLastLimboFreeSnapshotVersion(tr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Yre?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=jc(),c=xr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(ene(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(tr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return ot.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function ene(e,t,r){let n=xr(),a=xr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=jc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(tr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):jt(Ck,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function tne(e,t){const r=er(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=mk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function rne(e,t){const r=er(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,ot.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Wu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function q4(e,t,r){const n=er(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!zp(s))throw s;jt(Ck,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function rI(e,t,r){const n=er(e);let a=tr.min(),i=xr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=er(l),h=f.Ds.get(u);return h!==void 0?ot.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Dl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:tr.min(),r?i:xr())).next(o=>(nne(n,Vte(t),o),{documents:o,Ns:i})))}function nne(e,t,r){let n=e.vs.get(t)||tr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class nI{constructor(){this.activeTargetIds=Gte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class ane{constructor(){this.So=new nI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new nI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI="ConnectivityMonitor";class iI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){jt(aI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){jt(aI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy=null;function W4(){return Zy===null?Zy=function(){return 268435456+Math.round(2147483648*Math.random())}():Zy++,"0x"+Zy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS="RestConnection",sne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class one{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===H2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=W4(),o=this.$o(t,r.toUriEncodedString());jt(sS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=hk(c);return this.Ko(t,o,l,n,u).then(f=>(jt(sS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Z0(sS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=sne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="WebChannelConnection";class cne extends one{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=W4();return new Promise((o,l)=>{const c=new o9;c.setWithCredentials(!0),c.listenOnce(l9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Kx.NO_ERROR:const f=c.getResponseJson();jt(ui,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Kx.TIMEOUT:jt(ui,`RPC '${t}' ${s} timed out`),l(new Ot(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Kx.HTTP_ERROR:const h=c.getStatus();if(jt(ui,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(w)>=0?w:rt.UNKNOWN}(g.status);l(new Ot(m,g.message))}else l(new Ot(rt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ot(rt.UNAVAILABLE,"Connection failed."));break;default:Yt(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{jt(ui,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);jt(ui,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=W4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=f9(),o=u9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");jt(ui,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const g=new lne({Go:v=>{d?jt(ui,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(jt(ui,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),jt(ui,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,w)=>{v.listen(y,_=>{try{w(_)}catch(O){setTimeout(()=>{throw O},0)}})};return m(f,rg.EventType.OPEN,()=>{d||(jt(ui,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,rg.EventType.CLOSE,()=>{d||(d=!0,jt(ui,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,rg.EventType.ERROR,v=>{d||(d=!0,Z0(ui,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Ot(rt.UNAVAILABLE,"The operation could not be completed")))}),m(f,rg.EventType.MESSAGE,v=>{var y;if(!d){const w=v.data[0];Ur(!!w,16349);const _=w,O=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(O){jt(ui,`RPC '${t}' stream ${a} received error:`,O);const P=O.status;let D=function(b){const I=ca[b];if(I!==void 0)return G9(I)}(P),T=O.message;D===void 0&&(D=rt.INTERNAL,T="Unknown error status: "+P+" with message "+O.message),d=!0,g.r_(new Ot(D,T)),f.close()}else jt(ui,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,c9.STAT_EVENT,v=>{v.stat===D4.PROXY?jt(ui,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===D4.NOPROXY&&jt(ui,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function oS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(e){return new dre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&jt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="PersistentStream";class cB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new lB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Dc(r.toString()),Dc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Ot(rt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return jt(sI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(jt(sI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class une extends cB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=gre(this.serializer,t),n=function(i){if(!("targetChange"in i))return tr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?tr.min():s.readTime?jl(s.readTime):tr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=z4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=F4(l)?{documents:xre(i,l)}:{query:eB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=X9(i,s.resumeToken);const c=B4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(tr.min())>0){o.readTime=Q2(i,s.snapshotVersion.toTimestamp());const c=B4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=_re(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=z4(this.serializer),r.removeTarget=t,this.F_(r)}}class fne extends cB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Ur(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ur(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Ur(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=yre(t.writeResults,t.commitTime),n=jl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=z4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>vre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hne{}class dne extends hne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ot(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,V4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ot(rt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,V4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ot(rt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class pne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Dc(r),this.ea=!1):jt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="RemoteStore";class mne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{sd(this)&&(jt(Gh,"Restarting streams for network reachability change."),await async function(l){const c=er(l);c.aa.add(4),await I1(c),c.la.set("Unknown"),c.aa.delete(4),await t5(c)}(this))})}),this.la=new pne(n,a)}}async function t5(e){if(sd(e))for(const t of e.ua)await t(!0)}async function I1(e){for(const t of e.ua)await t(!1)}function uB(e,t){const r=er(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Ik(r)?Ok(r):Wp(r).b_()&&Pk(r,t))}function Nk(e,t){const r=er(e),n=Wp(r);r._a.delete(t),n.b_()&&fB(r,t),r._a.size===0&&(n.b_()?n.v_():sd(r)&&r.la.set("Unknown"))}function Pk(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Wp(e).U_(t)}function fB(e,t){e.ha.Ke(t),Wp(e).K_(t)}function Ok(e){e.ha=new cre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Wp(e).start(),e.la.ta()}function Ik(e){return sd(e)&&!Wp(e).w_()&&e._a.size>0}function sd(e){return er(e).aa.size===0}function hB(e){e.ha=void 0}async function gne(e){e.la.set("Online")}async function vne(e){e._a.forEach((t,r)=>{Pk(e,t)})}async function yne(e,t){hB(e),Ik(e)?(e.la.ia(t),Ok(e)):e.la.set("Unknown")}async function xne(e,t,r){if(e.la.set("Online"),t instanceof Y9&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){jt(Gh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Z2(e,n)}else if(t instanceof Jx?e.ha.Xe(t):t instanceof K9?e.ha.ot(t):e.ha.nt(t),!r.isEqual(tr.min()))try{const n=await oB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(ii.EMPTY_BYTE_STRING,u.snapshotVersion)),fB(i,l);const f=new Wu(u.target,l,c,u.sequenceNumber);Pk(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){jt(Gh,"Failed to raise snapshot:",n),await Z2(e,n)}}async function Z2(e,t,r){if(!zp(t))throw t;e.aa.add(1),await I1(e),e.la.set("Offline"),r||(r=()=>oB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{jt(Gh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await t5(e)})}function dB(e,t){return t().catch(r=>Z2(e,r,t))}async function r5(e){const t=er(e),r=bf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:mk;for(;bne(t);)try{const a=await tne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,wne(t,a)}catch(a){await Z2(t,a)}pB(t)&&mB(t)}function bne(e){return sd(e)&&e.oa.length<10}function wne(e,t){e.oa.push(t);const r=bf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function pB(e){return sd(e)&&!bf(e).w_()&&e.oa.length>0}function mB(e){bf(e).start()}async function _ne(e){bf(e).H_()}async function Sne(e){const t=bf(e);for(const r of e.oa)t.G_(r.mutations)}async function Ane(e,t,r){const n=e.oa.shift(),a=_k.from(n,t,r);await dB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await r5(e)}async function Tne(e,t){t&&bf(e).W_&&await async function(n,a){if(function(s){return ore(s)&&s!==rt.ABORTED}(a.code)){const i=n.oa.shift();bf(n).D_(),await dB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await r5(n)}}(e,t),pB(e)&&mB(e)}async function oI(e,t){const r=er(e);r.asyncQueue.verifyOperationInProgress(),jt(Gh,"RemoteStore received new credentials");const n=sd(r);r.aa.add(3),await I1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await t5(r)}async function Ene(e,t){const r=er(e);t?(r.aa.delete(2),await t5(r)):t||(r.aa.add(2),await I1(r),r.la.set("Unknown"))}function Wp(e){return e.Pa||(e.Pa=function(r,n,a){const i=er(r);return i.Y_(),new une(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:gne.bind(null,e),Jo:vne.bind(null,e),Zo:yne.bind(null,e),Q_:xne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Ik(e)?Ok(e):e.la.set("Unknown")):(await e.Pa.stop(),hB(e))})),e.Pa}function bf(e){return e.Ta||(e.Ta=function(r,n,a){const i=er(r);return i.Y_(),new fne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:_ne.bind(null,e),Zo:Tne.bind(null,e),z_:Sne.bind(null,e),j_:Ane.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await r5(e)):(await e.Ta.stop(),e.oa.length>0&&(jt(Gh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new Dk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ot(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jk(e,t){if(Dc("AsyncQueue",`${t}: ${e}`),zp(e))return new Ot(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{static emptySet(t){return new P0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Ut.comparator(r.key,n.key):(r,n)=>Ut.comparator(r.key,n.key),this.keyedMap=ng(),this.sortedSet=new Rn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof P0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new P0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.Ia=new Rn(Ut.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Yt(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class ap{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ap(t,r,P0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Kw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Cne{constructor(){this.queries=cI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=er(r),i=a.queries;a.queries=cI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Ot(rt.ABORTED,"Firestore shutting down"))}}function cI(){return new id(e=>L9(e),Kw)}async function gB(e,t){const r=er(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new kne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=jk(s,`Initialization of query '${Xd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Lk(r)}async function vB(e,t){const r=er(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Nne(e,t){const r=er(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Lk(r)}function Pne(e,t,r){const n=er(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Lk(e){e.fa.forEach(t=>{t.next()})}var H4,uI;(uI=H4||(H4={})).ya="default",uI.Cache="cache";class yB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new ap(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=ap.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==H4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t){this.key=t}}class bB{constructor(t){this.key=t}}class One{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=xr(),this.mutatedKeys=xr(),this.Ua=M9(t),this.Ka=new P0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new lI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=Yw(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;h&&d?h.data.isEqual(d.data)?g!==m&&(n.track({type:3,doc:d}),v=!0):this.ja(h,d)||(n.track({type:2,doc:d}),v=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),v=!0):h&&!d&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(d?(s=s.add(d),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt(20277,{Vt:v})}};return m(d)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new ap(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new lI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=xr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new bB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new xB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=xr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return ap.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Mk="SyncEngine";class Ine{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Dne{constructor(t){this.key=t,this.tu=!1}}class jne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new id(o=>L9(o),Kw),this.iu=new Map,this.su=new Set,this.ou=new Rn(Ut.comparator),this._u=new Map,this.au=new Tk,this.uu={},this.cu=new Map,this.lu=np.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Lne(e,t,r=!0){const n=EB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await wB(n,t,r,!0),a}async function Mne(e,t){const r=EB(e);await wB(r,t,!0,!1)}async function wB(e,t,r,n){const a=await rne(e.localStore,Dl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Rne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&uB(e.remoteStore,a),o}async function Rne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(m,v,y,w){let _=v.view.Ga(y);_.ys&&(_=await rI(m.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,_)));const O=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(_,m.isPrimaryClient,O,P);return hI(m,v.targetId,D.Ya),D.snapshot}(e,f,h,d);const i=await rI(e.localStore,t,!0),s=new One(t,i.Ns),o=s.Ga(i.documents),l=O1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);hI(e,r,c.Ya);const u=new Ine(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Fne(e,t,r){const n=er(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Kw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await q4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Nk(n.remoteStore,a.targetId),G4(n,a.targetId)}).catch(Up)):(G4(n,a.targetId),await q4(n.localStore,a.targetId,!0))}async function $ne(e,t){const r=er(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Nk(r.remoteStore,n.targetId))}async function Bne(e,t,r){const n=Gne(e);try{const a=await function(s,o){const l=er(s),c=qt.now(),u=o.reduce((d,g)=>d.add(g.key),xr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=jc(),m=xr();return l.Cs.getEntries(d,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(v=>{f=v;const y=[];for(const w of o){const _=tre(w,f.get(w.key).overlayedDocument);_!=null&&y.push(new Of(w.key,_,E9(_.value.mapValue),Hi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(d,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:F9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new Rn(mr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await D1(n,a.changes),await r5(n.remoteStore)}catch(a){const i=jk(a,"Failed to persist write");r.reject(i)}}async function _B(e,t){const r=er(e);try{const n=await Zre(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Ur(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Ur(s.tu,14607):a.removedDocuments.size>0&&(Ur(s.tu,42227),s.tu=!1))}),await D1(r,n,t)}catch(n){await Up(n)}}function fI(e,t,r){const n=er(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=er(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Lk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Vne(e,t,r){const n=er(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new Rn(Ut.comparator);s=s.insert(i,wi.newNoDocument(i,tr.min()));const o=xr().add(i),l=new Zw(tr.min(),new Map,new Rn(mr),s,o);await _B(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Rk(n)}else await q4(n.localStore,t,!1).then(()=>G4(n,t,r)).catch(Up)}async function Une(e,t){const r=er(e),n=t.batch.batchId;try{const a=await Jre(r.localStore,t);AB(r,n,null),SB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await D1(r,a)}catch(a){await Up(a)}}async function zne(e,t,r){const n=er(e);try{const a=await function(s,o){const l=er(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Ur(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);AB(n,t,r),SB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await D1(n,a)}catch(a){await Up(a)}}function SB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function AB(e,t,r){const n=er(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function G4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||TB(e,n)})}function TB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Nk(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Rk(e))}function hI(e,t,r){for(const n of r)n instanceof xB?(e.au.addReference(n.key,t),qne(e,n)):n instanceof bB?(jt(Mk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||TB(e,n.key)):Yt(19791,{Iu:n})}function qne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(jt(Mk,"New document in limbo: "+r),e.su.add(n),Rk(e))}function Rk(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Ut(_n.fromString(t)),n=e.lu.next();e._u.set(n,new Dne(r)),e.ou=e.ou.insert(r,n),uB(e.remoteStore,new Wu(Dl(bk(r.path)),n,"TargetPurposeLimboResolution",Ww.le))}}async function D1(e,t,r){const n=er(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=kk.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=er(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ot.forEach(c,h=>ot.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>ot.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!zp(f))throw f;jt(Ck,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),g=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function Wne(e,t){const r=er(e);if(!r.currentUser.isEqual(t)){jt(Mk,"User change. New user:",t.toKey());const n=await sB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Ot(rt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await D1(r,n.Ms)}}function Hne(e,t){const r=er(e),n=r._u.get(t);if(n&&n.tu)return xr().add(n.key);{let a=xr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function EB(e){const t=er(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=_B.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vne.bind(null,t),t.nu.Q_=Nne.bind(null,t.eventManager),t.nu.Tu=Pne.bind(null,t.eventManager),t}function Gne(e){const t=er(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Une.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=zne.bind(null,t),t}class eb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=e5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Qre(this.persistence,new Kre,t.initialUser,this.serializer)}Ru(t){return new iB(Ek.Ei,this.serializer)}Au(t){return new ane}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eb.provider={build:()=>new eb};class Kne extends eb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Ur(this.persistence.referenceDelegate instanceof J2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Dre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new iB(n=>J2.Ei(n,r),this.serializer)}}class K4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>fI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wne.bind(null,this.syncEngine),await Ene(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Cne}()}createDatastore(t){const r=e5(t.databaseInfo.databaseId),n=function(i){return new cne(i)}(t.databaseInfo);return function(i,s,o,l){return new dne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new mne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>fI(this.syncEngine,r,0),function(){return iI.C()?new iI:new ine}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new jne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=er(a);jt(Gh,"RemoteStore shutting down."),i.aa.add(5),await I1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}K4.provider={build:()=>new K4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Dc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="FirestoreClient";class Yne{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=yi.UNAUTHENTICATED,this.clientId=m9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{jt(wf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(jt(wf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=jk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function lS(e,t){e.asyncQueue.verifyOperationInProgress(),jt(wf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await sB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function dI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Xne(e);jt(wf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>oI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>oI(t.remoteStore,a)),e._onlineComponents=t}async function Xne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){jt(wf,"Using user provided OfflineComponentProvider");try{await lS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Z0("Error using user provided cache. Falling back to memory cache: "+r),await lS(e,new eb)}}else jt(wf,"Using default OfflineComponentProvider"),await lS(e,new Kne(void 0));return e._offlineComponents}async function Fk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(jt(wf,"Using user provided OnlineComponentProvider"),await dI(e,e._uninitializedComponentsProvider._online)):(jt(wf,"Using default OnlineComponentProvider"),await dI(e,new K4))),e._onlineComponents}function Qne(e){return Fk(e).then(t=>t.syncEngine)}function Jne(e){return Fk(e).then(t=>t.datastore)}async function CB(e){const t=await Fk(e),r=t.eventManager;return r.onListen=Lne.bind(null,t.syncEngine),r.onUnlisten=Fne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Mne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=$ne.bind(null,t.syncEngine),r}function Zne(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new kB({next:h=>{u.yu(),s.enqueueAndForget(()=>vB(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new Ot(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new Ot(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new yB(bk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return gB(i,f)}(await CB(e),e.asyncQueue,t,r,n)),n.promise}function eae(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new kB({next:h=>{u.yu(),s.enqueueAndForget(()=>vB(i,f)),h.fromCache&&l.source==="server"?c.reject(new Ot(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new yB(o,u,{includeMetadataChanges:!0,Fa:!0});return gB(i,f)}(await CB(e),e.asyncQueue,t,r,n)),n.promise}function tae(e,t,r){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Jne(e);n.resolve(async function(s,o,l){var c;const u=er(s),{request:f,yt:h,parent:d}=bre(u.serializer,Bte(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(v=>!!v.result);Ur(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PB(e,t,r){if(!r)throw new Ot(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rae(e,t,r,n){if(t===!0&&n===!0)throw new Ot(rt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function mI(e){if(!Ut.isDocumentKey(e))throw new Ot(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function gI(e){if(Ut.isDocumentKey(e))throw new Ot(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function n5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Yt(12329,{type:typeof e})}function Bs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ot(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=n5(e);throw new Ot(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function nae(e,t){if(t<=0)throw new Ot(rt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="firestore.googleapis.com",vI=!0;class yI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ot(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OB,this.ssl=vI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:vI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Ore)throw new Ot(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ot(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class a5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ot(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ot(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new ste;switch(n.type){case"firstParty":return new ute(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ot(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,J$("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=pI.get(r);n&&(jt("ComponentProvider","Removing Datastore"),pI.delete(r),n.terminate())}(this),Promise.resolve()}}function aae(e,t,r,n={}){var a;e=Bs(e,a5);const i=hk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==OB&&s.host!==l&&Z0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!U2(c,o)&&(e._setSettings(c),i&&(jZ(`https://${l}`),J$("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=yi.MOCK_USER;else{u=LZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ot(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new yi(h)}e._authCredentials=new ote(new d9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new If(this.firestore,t,this._query)}}class Gi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Gi(this.firestore,t,this._key)}}class uf extends If{constructor(t,r,n){super(t,r,bk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Gi(this.firestore,null,new Ut(t))}withConverter(t){return new uf(this.firestore,t,this._path)}}function _t(e,t,...r){if(e=ol(e),PB("collection","path",t),e instanceof a5){const n=_n.fromString(t,...r);return gI(n),new uf(e,null,n)}{if(!(e instanceof Gi||e instanceof uf))throw new Ot(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return gI(n),new uf(e.firestore,null,n)}}function Br(e,t,...r){if(e=ol(e),arguments.length===1&&(t=m9.newId()),PB("doc","path",t),e instanceof a5){const n=_n.fromString(t,...r);return mI(n),new Gi(e,null,new Ut(n))}{if(!(e instanceof Gi||e instanceof uf))throw new Ot(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_n.fromString(t,...r));return mI(n),new Gi(e.firestore,e instanceof uf?e.converter:null,new Ut(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="AsyncQueue";class bI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new lB(this,"async_queue_retry"),this.ju=()=>{const n=oS();n&&jt(xI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=oS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=oS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Il;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!zp(t))throw t;jt(xI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Dc("INTERNAL UNHANDLED ERROR: ",wI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=Dk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&Yt(47125,{ec:wI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function wI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Gc extends a5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new bI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bI(t),this._firestoreClient=void 0,await t}}}function iae(e,t){const r=typeof e=="object"?e:Gee(),n=typeof e=="string"?e:H2,a=Uee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=IZ("firestore");i&&aae(a,...i)}return a}function j1(e){if(e._terminated)throw new Ot(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||sae(e),e._firestoreClient}function sae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Ete(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,NB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Yne(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class lae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ip(ii.fromBase64String(t))}catch(r){throw new Ot(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new ip(ii.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ot(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Za(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ot(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ot(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return mr(this._lat,t._lat)||mr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cae=/^__.*__$/;class uae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Of(t,this.data,this.fieldMask,r,this.fieldTransforms):new P1(t,this.data,r,this.fieldTransforms)}}class IB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Of(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function DB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt(40011,{oc:e})}}class Vk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Vk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return tb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(DB(this.oc)&&cae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class fae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||e5(t)}dc(t,r,n,a=!1){return new Vk({oc:t,methodName:r,Ec:n,path:Za.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M1(e){const t=e._freezeSettings(),r=e5(e._databaseId);return new fae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Uk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);qk("Data must be an object, but it was:",s,n);const o=MB(n,s);let l,c;if(i.merge)l=new Ls(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=Y4(t,f,r);if(!s.contains(h))throw new Ot(rt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);FB(u,h)||u.push(h)}l=new Ls(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new uae(new us(o),l,c)}class R1 extends i5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof R1}}class zk extends i5{_toFieldTransform(t){return new Qte(t.path,new _v)}isEqual(t){return t instanceof zk}}function jB(e,t,r,n){const a=e.dc(1,t,r);qk("Data must be an object, but it was:",a,n);const i=[],s=us.empty();Pf(n,(l,c)=>{const u=Wk(t,l,r);c=ol(c);const f=a.hc(u);if(c instanceof R1)i.push(u);else{const h=F1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ls(i);return new IB(s,o,a.fieldTransforms)}function LB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[Y4(t,n,r)],l=[a];if(i.length%2!=0)throw new Ot(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(Y4(t,i[h])),l.push(i[h+1]);const c=[],u=us.empty();for(let h=o.length-1;h>=0;--h)if(!FB(c,o[h])){const d=o[h];let g=l[h];g=ol(g);const m=s.hc(d);if(g instanceof R1)c.push(d);else{const v=F1(g,m);v!=null&&(c.push(d),u.set(d,v))}}const f=new Ls(c);return new IB(u,f,s.fieldTransforms)}function hae(e,t,r,n=!1){return F1(r,e.dc(n?4:3,t))}function F1(e,t){if(RB(e=ol(e)))return qk("Unsupported field value:",t,e),MB(e,t);if(e instanceof i5)return function(n,a){if(!DB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=F1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ol(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Kte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=qt.fromDate(n);return{timestampValue:Q2(a.serializer,i)}}if(n instanceof qt){const i=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Q2(a.serializer,i)}}if(n instanceof $k)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof ip)return{bytesValue:X9(a.serializer,n._byteString)};if(n instanceof Gi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Ak(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Bk)return function(s,o){return{mapValue:{fields:{[S9]:{stringValue:T9},[G2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return wk(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${n5(n)}`)}(e,t)}function MB(e,t){const r={};return v9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Pf(e,(n,a)=>{const i=F1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function RB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof qt||e instanceof $k||e instanceof ip||e instanceof Gi||e instanceof i5||e instanceof Bk)}function qk(e,t,r){if(!RB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=n5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function Y4(e,t,r){if((t=ol(t))instanceof L1)return t._internalPath;if(typeof t=="string")return Wk(e,t);throw tb("Field path arguments must be of type string or ",e,!1,void 0,r)}const dae=new RegExp("[~\\*/\\[\\]]");function Wk(e,t,r){if(t.search(dae)>=0)throw tb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new L1(...t.split("."))._internalPath}catch{throw tb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function tb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Ot(rt.INVALID_ARGUMENT,o+e+l)}function FB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $B{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Gi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new pae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(s5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class pae extends $B{data(){return super.data()}}function s5(e,t){return typeof t=="string"?Wk(e,t):t instanceof L1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ot(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hk{}class Gk extends Hk{}function fr(e,t,...r){let n=[];t instanceof Hk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Kk).length,o=i.filter(l=>l instanceof o5).length;if(s>1||s>0&&o>0)throw new Ot(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class o5 extends Gk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new o5(t,r,n)}_apply(t){const r=this._parse(t);return BB(t._query,r),new If(t.firestore,t.converter,$4(t._query,r))}_parse(t){const r=M1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ot(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){SI(f,u);const g=[];for(const m of f)g.push(_I(l,i,m));h={arrayValue:{values:g}}}else h=_I(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||SI(f,u),h=hae(o,s,f,u==="in"||u==="not-in");return pa.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function dr(e,t,r){const n=t,a=s5("where",e);return o5._create(a,n,r)}class Kk extends Hk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Kk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ll.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)BB(s,l),s=$4(s,l)}(t._query,r),new If(t.firestore,t.converter,$4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Yk extends Gk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Yk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wv(i,s)}(t._query,this._field,this._direction);return new If(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new qp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function Ra(e,t="asc"){const r=t,n=s5("orderBy",e);return Yk._create(n,r)}class Xk extends Gk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new Xk(t,r,n)}_apply(t){return new If(t.firestore,t.converter,Y2(t._query,this._limit,this._limitType))}}function Zx(e){return nae("limit",e),Xk._create("limit",e,"F")}function _I(e,t,r){if(typeof(r=ol(r))=="string"){if(r==="")throw new Ot(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D9(t)&&r.indexOf("/")!==-1)throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(_n.fromString(r));if(!Ut.isDocumentKey(n))throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return RO(e,new Ut(n))}if(r instanceof Gi)return RO(e,r._key);throw new Ot(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${n5(r)}.`)}function SI(e,t){if(!Array.isArray(e)||e.length===0)throw new Ot(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function BB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ot(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ot(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class gae{convertValue(t,r="none"){switch(xf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(yf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Yt(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Pf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[G2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Zn(s.doubleValue));return new Bk(i)}convertGeoPoint(t){return new $k(Zn(t.latitude),Zn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Gw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(yv(t));default:return null}}convertTimestamp(t){const r=vf(t);return new qt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=_n.fromString(t);Ur(nB(n),9688,{name:t});const a=new xv(n.get(1),n.get(3)),i=new Ut(n.popFirst(5));return a.isEqual(r)||Dc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function vae(){return new oae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class VB extends $B{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new e2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(s5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class e2 extends VB{data(t={}){return super.data(t)}}class yae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ig(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new e2(this._firestore,this._userDataWriter,n.key,n,new ig(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ot(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new e2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ig(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new e2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ig(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:xae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function xae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(e){e=Bs(e,Gi);const t=Bs(e.firestore,Gc);return Zne(j1(t),e._key).then(r=>bae(t,e,r))}class Jk extends gae{constructor(t){super(),this.firestore=t}convertBytes(t){return new ip(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Gi(this.firestore,null,r)}}function cr(e){e=Bs(e,If);const t=Bs(e.firestore,Gc),r=j1(t),n=new Jk(t);return mae(e._query),eae(r,e._query).then(a=>new yae(t,n,e,a))}function ex(e,t,r){e=Bs(e,Gi);const n=Bs(e.firestore,Gc),a=Qk(e.converter,t,r);return $1(n,[Uk(M1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Hi.none())])}function _a(e,t,r,...n){e=Bs(e,Gi);const a=Bs(e.firestore,Gc),i=M1(a);let s;return s=typeof(t=ol(t))=="string"||t instanceof L1?LB(i,"updateDoc",e._key,t,r,n):jB(i,"updateDoc",e._key,t),$1(a,[s.toMutation(e._key,Hi.exists(!0))])}function op(e){return $1(Bs(e.firestore,Gc),[new Jw(e._key,Hi.none())])}function _r(e,t){const r=Bs(e.firestore,Gc),n=Br(e),a=Qk(e.converter,t);return $1(r,[Uk(M1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Hi.exists(!1))]).then(()=>n)}function $1(e,t){return function(n,a){const i=new Il;return n.asyncQueue.enqueueAndForget(async()=>Bne(await Qne(n),a,i)),i.promise}(j1(e),t)}function bae(e,t,r){const n=r.docs.get(t._key),a=new Jk(e);return new VB(e,a,t._key,n,new ig(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(e){return wae(e,{count:vae()})}function wae(e,t){const r=Bs(e.firestore,Gc),n=j1(r),a=Ate(t,(i,s)=>new ire(s,i.aggregateType,i._internalFieldPath));return tae(n,e._query,a).then(i=>function(o,l,c){const u=new Jk(o);return new lae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=M1(t)}set(t,r,n){this._verifyNotCommitted();const a=cS(t,this._firestore),i=Qk(a.converter,r,n),s=Uk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Hi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=cS(t,this._firestore);let s;return s=typeof(r=ol(r))=="string"||r instanceof L1?LB(this._dataReader,"WriteBatch.update",i._key,r,n,a):jB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Hi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=cS(t,this._firestore);return this._mutations=this._mutations.concat(new Jw(r._key,Hi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cS(e,t){if((e=ol(e)).firestore!==t)throw new Ot(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(){return new R1("deleteField")}function wh(){return new zk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sae(e){return j1(e=Bs(e,Gc)),new _ae(e,t=>$1(e,t))}(function(t,r=!0){(function(a){Vp=a})(Hee),q2(new mv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Gc(new lte(n.getProvider("auth-internal")),new fte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ot(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),N0(TO,EO,t),N0(TO,EO,"esm2017")})();const Aae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},Tae=n9(Aae),it=iae(Tae),UB=Q.createContext(void 0),ga=()=>{const e=Q.useContext(UB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Eae=({children:e})=>{const[t,r]=Q.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=Q.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await cr(_t(it,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await _r(_t(it,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),_r(_t(it,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return p.jsx(UB.Provider,{value:o,children:e})},zB=Q.createContext(void 0),kae=({children:e})=>{const[t,r]=Q.useState(!0),n=()=>{r(!t)};return p.jsx(zB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},zr=()=>{const e=Q.useContext(zB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},eC=Q.createContext({});function B1(e){const t=Q.useRef(null);return t.current===null&&(t.current=e()),t.current}const tC=typeof window<"u",rC=tC?Q.useLayoutEffect:Q.useEffect,l5=Q.createContext(null);function nC(e,t){e.indexOf(t)===-1&&e.push(t)}function c5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Lc=(e,t,r)=>r>t?t:r<e?e:r;let rb=()=>{};const Mc={},qB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function WB(e){return typeof e=="object"&&e!==null}const HB=e=>/^0[^.\s]+$/u.test(e);function aC(e){let t;return()=>(t===void 0&&(t=e()),t)}const po=e=>e,Cae=(e,t)=>r=>t(e(r)),V1=(...e)=>e.reduce(Cae),lp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class iC{constructor(){this.subscriptions=[]}add(t){return nC(this.subscriptions,t),()=>c5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const rl=e=>e*1e3,Ll=e=>e/1e3;function GB(e,t){return t?e*(1e3/t):0}const Nae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},KB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Pae=1e-7,Oae=12;function Iae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=KB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Pae&&++o<Oae);return s}function U1(e,t,r,n){if(e===t&&r===n)return po;const a=i=>Iae(i,0,1,e,r);return i=>i===0||i===1?i:KB(a(i),t,n)}const YB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,XB=e=>t=>1-e(1-t),QB=U1(.33,1.53,.69,.99),sC=XB(QB),JB=YB(sC),ZB=e=>(e*=2)<1?.5*sC(e):.5*(2-Math.pow(2,-10*(e-1))),oC=e=>1-Math.sin(Math.acos(e)),eV=XB(oC),tV=YB(oC),Dae=U1(.42,0,1,1),jae=U1(0,0,.58,1),rV=U1(.42,0,.58,1),nV=e=>Array.isArray(e)&&typeof e[0]!="number";function aV(e,t){return nV(e)?e[Nae(0,e.length,t)]:e}const iV=e=>Array.isArray(e)&&typeof e[0]=="number",TI={linear:po,easeIn:Dae,easeInOut:rV,easeOut:jae,circIn:oC,circInOut:tV,circOut:eV,backIn:sC,backInOut:JB,backOut:QB,anticipate:ZB},Lae=e=>typeof e=="string",EI=e=>{if(iV(e)){rb(e.length===4);const[t,r,n,a]=e;return U1(t,r,n,a)}else if(Lae(e))return rb(TI[e]!==void 0),TI[e];return e},tx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],kI={value:null,addProjectionMetrics:null};function Mae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const m=d&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&kI.value&&kI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Rae=40;function sV(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=tx.reduce((_,O)=>(_[O]=Mae(i,t?O:void 0),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:g}=s,m=()=>{const _=Mc.useManualTiming?a.timestamp:performance.now();r=!1,Mc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,Rae),1)),a.timestamp=_,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:tx.reduce((_,O)=>{const P=s[O];return _[O]=(D,T=!1,A=!1)=>(r||v(),P.schedule(D,T,A)),_},{}),cancel:_=>{for(let O=0;O<tx.length;O++)s[tx[O]].cancel(_)},state:a,steps:s}}const{schedule:On,cancel:Rc,state:Ya,steps:uS}=sV(typeof requestAnimationFrame<"u"?requestAnimationFrame:po,!0);let t2;function Fae(){t2=void 0}const hs={now:()=>(t2===void 0&&hs.set(Ya.isProcessing||Mc.useManualTiming?Ya.timestamp:performance.now()),t2),set:e=>{t2=e,queueMicrotask(Fae)}},oV=e=>t=>typeof t=="string"&&t.startsWith(e),lC=oV("--"),$ae=oV("var(--"),cC=e=>$ae(e)?Bae.test(e.split("/*")[0].trim()):!1,Bae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Tv={...Hp,transform:e=>Lc(0,1,e)},rx={...Hp,default:1},Eg=e=>Math.round(e*1e5)/1e5,uC=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Vae(e){return e==null}const Uae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,fC=(e,t)=>r=>!!(typeof r=="string"&&Uae.test(r)&&r.startsWith(e)||t&&!Vae(r)&&Object.prototype.hasOwnProperty.call(r,t)),lV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(uC);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},zae=e=>Lc(0,255,e),fS={...Hp,transform:e=>Math.round(zae(e))},_h={test:fC("rgb","red"),parse:lV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+fS.transform(e)+", "+fS.transform(t)+", "+fS.transform(r)+", "+Eg(Tv.transform(n))+")"};function qae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const X4={test:fC("#"),parse:qae,transform:_h.transform},z1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ou=z1("deg"),Ml=z1("%"),Qt=z1("px"),Wae=z1("vh"),Hae=z1("vw"),CI={...Ml,parse:e=>Ml.parse(e)/100,transform:e=>Ml.transform(e*100)},d0={test:fC("hsl","hue"),parse:lV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ml.transform(Eg(t))+", "+Ml.transform(Eg(r))+", "+Eg(Tv.transform(n))+")"},gi={test:e=>_h.test(e)||X4.test(e)||d0.test(e),parse:e=>_h.test(e)?_h.parse(e):d0.test(e)?d0.parse(e):X4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_h.transform(e):d0.transform(e)},Gae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(uC))==null?void 0:t.length)||0)+(((r=e.match(Gae))==null?void 0:r.length)||0)>0}const cV="number",uV="color",Yae="var",Xae="var(",NI="${}",Qae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ev(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Qae,l=>(gi.test(l)?(n.color.push(i),a.push(uV),r.push(gi.parse(l))):l.startsWith(Xae)?(n.var.push(i),a.push(Yae),r.push(l)):(n.number.push(i),a.push(cV),r.push(parseFloat(l))),++i,NI)).split(NI);return{values:r,split:o,indexes:n,types:a}}function fV(e){return Ev(e).values}function hV(e){const{split:t,types:r}=Ev(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===cV?i+=Eg(a[s]):o===uV?i+=gi.transform(a[s]):i+=a[s]}return i}}const Jae=e=>typeof e=="number"?0:e;function Zae(e){const t=fV(e);return hV(e)(t.map(Jae))}const _f={test:Kae,parse:fV,createTransformer:hV,getAnimatableNone:Zae};function hS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function eie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=hS(l,o,e+1/3),i=hS(l,o,e),s=hS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function nb(e,t){return r=>r>0?t:e}const Cn=(e,t,r)=>e+(t-e)*r,dS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},tie=[X4,_h,d0],rie=e=>tie.find(t=>t.test(e));function PI(e){const t=rie(e);if(!t)return!1;let r=t.parse(e);return t===d0&&(r=eie(r)),r}const OI=(e,t)=>{const r=PI(e),n=PI(t);if(!r||!n)return nb(e,t);const a={...r};return i=>(a.red=dS(r.red,n.red,i),a.green=dS(r.green,n.green,i),a.blue=dS(r.blue,n.blue,i),a.alpha=Cn(r.alpha,n.alpha,i),_h.transform(a))},Q4=new Set(["none","hidden"]);function nie(e,t){return Q4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function aie(e,t){return r=>Cn(e,t,r)}function hC(e){return typeof e=="number"?aie:typeof e=="string"?cC(e)?nb:gi.test(e)?OI:oie:Array.isArray(e)?dV:typeof e=="object"?gi.test(e)?OI:iie:nb}function dV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>hC(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function iie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=hC(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function sie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const oie=(e,t)=>{const r=_f.createTransformer(t),n=Ev(e),a=Ev(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?Q4.has(e)&&!a.values.length||Q4.has(t)&&!n.values.length?nie(e,t):V1(dV(sie(n,a),a.values),r):nb(e,t)};function pV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Cn(e,t,r):hC(e)(e,t)}const lie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>On.update(t,r),stop:()=>Rc(t),now:()=>Ya.isProcessing?Ya.timestamp:hs.now()}},mV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},ab=2e4;function dC(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ab;)t+=r,n=e.next(t);return t>=ab?1/0:t}function gV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(dC(n),ab);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ll(a)}}const cie=5;function vV(e,t,r){const n=Math.max(t-cie,0);return GB(r-e(n),t-n)}const Wn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},pS=.001;function uie({duration:e=Wn.duration,bounce:t=Wn.bounce,velocity:r=Wn.velocity,mass:n=Wn.mass}){let a,i,s=1-t;s=Lc(Wn.minDamping,Wn.maxDamping,s),e=Lc(Wn.minDuration,Wn.maxDuration,Ll(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=J4(c,s),g=Math.exp(-f);return pS-h/d*g},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=J4(Math.pow(c,2),s);return(-a(c)+pS>0?-1:1)*((h-d)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-pS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=hie(a,i,o);if(e=rl(e),isNaN(l))return{stiffness:Wn.stiffness,damping:Wn.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const fie=12;function hie(e,t,r){let n=r;for(let a=1;a<fie;a++)n=n-e(n)/t(n);return n}function J4(e,t){return e*Math.sqrt(1-t*t)}const die=["duration","bounce"],pie=["stiffness","damping","mass"];function II(e,t){return t.some(r=>e[r]!==void 0)}function mie(e){let t={velocity:Wn.velocity,stiffness:Wn.stiffness,damping:Wn.damping,mass:Wn.mass,isResolvedFromDuration:!1,...e};if(!II(e,pie)&&II(e,die))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Lc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Wn.mass,stiffness:a,damping:i}}else{const r=uie(e);t={...t,...r,mass:Wn.mass},t.isResolvedFromDuration=!0}return t}function kv(e=Wn.visualDuration,t=Wn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=mie({...r,velocity:-Ll(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Ll(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?Wn.restSpeed.granular:Wn.restSpeed.default),a||(a=w?Wn.restDelta.granular:Wn.restDelta.default);let _;if(m<1){const P=J4(y,m);_=D=>{const T=Math.exp(-m*y*D);return s-T*((g+m*y*v)/P*Math.sin(P*D)+v*Math.cos(P*D))}}else if(m===1)_=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);_=D=>{const T=Math.exp(-m*y*D),A=Math.min(P*D,300);return s-T*((g+m*y*v)*Math.sinh(A)+P*v*Math.cosh(A))/P}}const O={calculatedDuration:d&&f||null,next:P=>{const D=_(P);if(d)o.done=P>=f;else{let T=P===0?g:0;m<1&&(T=P===0?rl(g):vV(_,P,D));const A=Math.abs(T)<=n,b=Math.abs(s-D)<=a;o.done=A&&b}return o.value=o.done?s:D,o},toString:()=>{const P=Math.min(dC(O),ab),D=mV(T=>O.next(P*T).value,P,30);return P+"ms "+D},toTransition:()=>{}};return O}kv.applyToOptions=e=>{const t=gV(e,100,kv);return e.ease=t.ease,e.duration=rl(t.duration),e.type="keyframes",e};function Z4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=A=>o!==void 0&&A<o||l!==void 0&&A>l,g=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const w=A=>-m*Math.exp(-A/n),_=A=>y+w(A),O=A=>{const b=w(A),I=_(A);h.done=Math.abs(b)<=c,h.value=h.done?y:I};let P,D;const T=A=>{d(h.value)&&(P=A,D=kv({keyframes:[h.value,g(h.value)],velocity:vV(_,A,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:A=>{let b=!1;return!D&&P===void 0&&(b=!0,O(A),T(A)),P!==void 0&&A>=P?D.next(A-P):(!b&&O(A),h)}}}function gie(e,t,r){const n=[],a=r||Mc.mix||pV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||po:t;o=V1(l,o)}n.push(o)}return n}function yV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(rb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=gie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=lp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Lc(e[0],e[i-1],u)):c}function xV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=lp(0,t,n);e.push(Cn(r,1,a))}}function bV(e){const t=[0];return xV(t,e.length-1),t}function vie(e,t){return e.map(r=>r*t)}function yie(e,t){return e.map(()=>t||rV).splice(0,e.length-1)}function kg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=nV(n)?n.map(EI):EI(n),i={done:!1,value:t[0]},s=vie(r&&r.length===t.length?r:bV(t),e),o=yV(s,t,{ease:Array.isArray(a)?a:yie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const xie=e=>e!==null;function pC(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(xie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const bie={decay:Z4,inertia:Z4,tween:kg,keyframes:kg,spring:kv};function wV(e){typeof e.type=="string"&&(e.type=bie[e.type])}class mC{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const wie=e=>e/100;class gC extends mC{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==hs.now()&&this.tick(hs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;wV(t);const{type:r=kg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||kg;l!==kg&&typeof o[0]!="number"&&(this.mixKeyframes=V1(wie,pV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=dC(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,O=n;if(f){const A=Math.min(this.currentTime,a)/o;let b=Math.floor(A),I=A%1;!I&&A>=1&&(I=1),I===1&&b--,b=Math.min(b,f+1),!!(b%2)&&(h==="reverse"?(I=1-I,d&&(I-=d/o)):h==="mirror"&&(O=s)),_=Lc(0,1,I)*o}const P=w?{done:!1,value:u[0]}:O.next(_);i&&(P.value=i(P.value));let{done:D}=P;!w&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return T&&g!==Z4&&(P.value=pC(u,this.options,v,this.speed)),m&&m(P.value),T&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Ll(this.calculatedDuration)}get time(){return Ll(this.currentTime)}set time(t){var r;t=rl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ll(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=lie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function _ie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Sh=e=>e*180/Math.PI,eT=e=>{const t=Sh(Math.atan2(e[1],e[0]));return tT(t)},Sie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:eT,rotateZ:eT,skewX:e=>Sh(Math.atan(e[1])),skewY:e=>Sh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},tT=e=>(e=e%360,e<0&&(e+=360),e),DI=eT,jI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),LI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Aie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:jI,scaleY:LI,scale:e=>(jI(e)+LI(e))/2,rotateX:e=>tT(Sh(Math.atan2(e[6],e[5]))),rotateY:e=>tT(Sh(Math.atan2(-e[2],e[0]))),rotateZ:DI,rotate:DI,skewX:e=>Sh(Math.atan(e[4])),skewY:e=>Sh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function rT(e){return e.includes("scale")?1:0}function nT(e,t){if(!e||e==="none")return rT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Aie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Sie,a=o}if(!a)return rT(t);const i=n[t],s=a[1].split(",").map(Eie);return typeof i=="function"?i(s):s[i]}const Tie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return nT(r,t)};function Eie(e){return parseFloat(e.trim())}const Gp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kp=new Set(Gp),MI=e=>e===Hp||e===Qt,kie=new Set(["x","y","z"]),Cie=Gp.filter(e=>!kie.has(e));function Nie(e){const t=[];return Cie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Oh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>nT(t,"x"),y:(e,{transform:t})=>nT(t,"y")};Oh.translateX=Oh.x;Oh.translateY=Oh.y;const Ih=new Set;let aT=!1,iT=!1,sT=!1;function _V(){if(iT){const e=Array.from(Ih).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Nie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}iT=!1,aT=!1,Ih.forEach(e=>e.complete(sT)),Ih.clear()}function SV(){Ih.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(iT=!0)})}function Pie(){sT=!0,SV(),_V(),sT=!1}class vC{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Ih.add(this),aT||(aT=!0,On.read(SV),On.resolveKeyframes(_V))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}_ie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ih.delete(this)}cancel(){this.state==="scheduled"&&(Ih.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Oie=e=>e.startsWith("--");function Iie(e,t,r){Oie(t)?e.style.setProperty(t,r):e.style[t]=r}const Die=aC(()=>window.ScrollTimeline!==void 0),jie={};function Lie(e,t){const r=aC(e);return()=>jie[t]??r()}const AV=Lie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,RI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sg([0,.65,.55,1]),circOut:sg([.55,0,1,.45]),backIn:sg([.31,.01,.66,-.59]),backOut:sg([.33,1.53,.69,.99])};function TV(e,t){if(e)return typeof e=="function"?AV()?mV(e,t):"ease-out":iV(e)?sg(e):Array.isArray(e)?e.map(r=>TV(r,t)||RI.easeOut):RI[e]}function Mie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=TV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function yC(e){return typeof e=="function"&&"applyToOptions"in e}function Rie({type:e,...t}){return yC(e)&&AV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Fie extends mC{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,rb(typeof t.type!="string");const c=Rie(t);this.animation=Mie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=pC(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Iie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ll(Number(t))}get time(){return Ll(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=rl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Die()?(this.animation.timeline=t,po):r(this)}}const EV={anticipate:ZB,backInOut:JB,circInOut:tV};function $ie(e){return e in EV}function Bie(e){typeof e.ease=="string"&&$ie(e.ease)&&(e.ease=EV[e.ease])}const FI=10;class Vie extends Fie{constructor(t){Bie(t),wV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new gC({...s,autoplay:!1}),l=rl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-FI).value,o.sample(l).value,FI),o.stop()}}const $I=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_f.test(e)||e==="0")&&!e.startsWith("url("));function Uie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function zie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=$I(a,t),o=$I(i,t);return!s||!o?!1:Uie(e)||(r==="spring"||yC(r))&&n}function xC(e){return WB(e)&&"offsetHeight"in e}const qie=new Set(["opacity","clipPath","filter","transform"]),Wie=aC(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Hie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!xC((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Wie()&&r&&qie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Gie=40;class Kie extends mC{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=hs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||vC;this.keyframeResolver=new d(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=hs.now(),zie(t,i,s,o)||((Mc.instantAnimations||!l)&&(u==null||u(pC(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Gie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&Hie(h)?new Vie({...h,element:h.motionValue.owner.current}):new gC(h);d.finished.then(()=>this.notifyFinished()).catch(po),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Pie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Yie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Xie extends Yie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Qie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jie(e){const t=Qie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function kV(e,t,r=1){const[n,a]=Jie(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return qB(s)?parseFloat(s):s}return cC(a)?kV(a,t,r+1):a}function bC(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const CV=new Set(["width","height","top","left","right","bottom",...Gp]),Zie={test:e=>e==="auto",parse:e=>e},NV=e=>t=>t.test(e),PV=[Hp,Qt,Ml,Ou,Hae,Wae,Zie],BI=e=>PV.find(NV(e));function ese(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||HB(e):!0}const tse=new Set(["brightness","contrast","saturate","opacity"]);function rse(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(uC)||[];if(!n)return e;const a=r.replace(n,"");let i=tse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const nse=/\b([a-z-]*)\(.*?\)/gu,oT={..._f,getAnimatableNone:e=>{const t=e.match(nse);return t?t.map(rse).join(" "):e}},VI={...Hp,transform:Math.round},ase={rotate:Ou,rotateX:Ou,rotateY:Ou,rotateZ:Ou,scale:rx,scaleX:rx,scaleY:rx,scaleZ:rx,skew:Ou,skewX:Ou,skewY:Ou,distance:Qt,translateX:Qt,translateY:Qt,translateZ:Qt,x:Qt,y:Qt,z:Qt,perspective:Qt,transformPerspective:Qt,opacity:Tv,originX:CI,originY:CI,originZ:Qt},wC={borderWidth:Qt,borderTopWidth:Qt,borderRightWidth:Qt,borderBottomWidth:Qt,borderLeftWidth:Qt,borderRadius:Qt,radius:Qt,borderTopLeftRadius:Qt,borderTopRightRadius:Qt,borderBottomRightRadius:Qt,borderBottomLeftRadius:Qt,width:Qt,maxWidth:Qt,height:Qt,maxHeight:Qt,top:Qt,right:Qt,bottom:Qt,left:Qt,padding:Qt,paddingTop:Qt,paddingRight:Qt,paddingBottom:Qt,paddingLeft:Qt,margin:Qt,marginTop:Qt,marginRight:Qt,marginBottom:Qt,marginLeft:Qt,backgroundPositionX:Qt,backgroundPositionY:Qt,...ase,zIndex:VI,fillOpacity:Tv,strokeOpacity:Tv,numOctaves:VI},ise={...wC,color:gi,backgroundColor:gi,outlineColor:gi,fill:gi,stroke:gi,borderColor:gi,borderTopColor:gi,borderRightColor:gi,borderBottomColor:gi,borderLeftColor:gi,filter:oT,WebkitFilter:oT},OV=e=>ise[e];function IV(e,t){let r=OV(e);return r!==oT&&(r=_f),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const sse=new Set(["auto","none","0"]);function ose(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!sse.has(i)&&Ev(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=IV(r,a)}class lse extends vC{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),cC(c))){const u=kV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!CV.has(n)||t.length!==2)return;const[a,i]=t,s=BI(a),o=BI(i);if(s!==o)if(MI(s)&&MI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Oh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||ese(t[a]))&&n.push(a);n.length&&ose(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Oh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Oh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function DV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const UI=30,cse=e=>!isNaN(parseFloat(e)),Cg={current:void 0};class use{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=hs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new iC);const n=this.events[t].add(r);return t==="change"?()=>{n(),On.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cg.current&&Cg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>UI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,UI);return GB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Kh(e,t){return new use(e,t)}const jV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:_C,cancel:bBe}=sV(queueMicrotask,!1),Vo={x:!1,y:!1};function LV(){return Vo.x||Vo.y}function fse(e){return e==="x"||e==="y"?Vo[e]?null:(Vo[e]=!0,()=>{Vo[e]=!1}):Vo.x||Vo.y?null:(Vo.x=Vo.y=!0,()=>{Vo.x=Vo.y=!1})}function MV(e,t){const r=DV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function zI(e){return!(e.pointerType==="touch"||LV())}function hse(e,t,r={}){const[n,a,i]=MV(e,r),s=o=>{if(!zI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{zI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const RV=(e,t)=>t?e===t?!0:RV(e,t.parentElement):!1,SC=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,dse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function pse(e){return dse.has(e.tagName)||e.tabIndex!==-1}const r2=new WeakSet;function qI(e){return t=>{t.key==="Enter"&&e(t)}}function mS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const mse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=qI(()=>{if(r2.has(r))return;mS(r,"down");const a=qI(()=>{mS(r,"up")}),i=()=>mS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function WI(e){return SC(e)&&!LV()}function gse(e,t,r={}){const[n,a,i]=MV(e,r),s=o=>{const l=o.currentTarget;if(!WI(o))return;r2.add(l);const c=t(l,o),u=(d,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),r2.has(l)&&r2.delete(l),WI(d)&&typeof c=="function"&&c(d,{success:g})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||RV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),xC(o)&&(o.addEventListener("focus",c=>mse(c,a)),!pse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function AC(e){return WB(e)&&"ownerSVGElement"in e}function FV(e){return AC(e)&&e.tagName==="svg"}function vse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=yV(a,i,s);return t?o(n):o}const Fa=e=>!!(e&&e.getVelocity),yse=[...PV,gi,_f],xse=e=>yse.find(NV(e)),u5=Q.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class bse extends Q.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=xC(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function wse({children:e,isPresent:t,anchorX:r}){const n=Q.useId(),a=Q.useRef(null),i=Q.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=Q.useContext(u5);return Q.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),p.jsx(bse,{isPresent:t,childRef:a,sizeRef:i,children:Q.cloneElement(e,{ref:a})})}const _se=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=B1(Sse),c=Q.useId();let u=!0,f=Q.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),Q.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),Q.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=p.jsx(wse,{isPresent:r,anchorX:o,children:e})),p.jsx(l5.Provider,{value:f,children:e})};function Sse(){return new Map}function $V(e=!0){const t=Q.useContext(l5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=Q.useId();Q.useEffect(()=>{if(e)return a(i)},[e]);const s=Q.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const nx=e=>e.key||"";function HI(e){const t=[];return Q.Children.forEach(e,r=>{Q.isValidElement(r)&&t.push(r)}),t}const BV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=$V(s),u=Q.useMemo(()=>HI(e),[e]),f=s&&!l?[]:u.map(nx),h=Q.useRef(!0),d=Q.useRef(u),g=B1(()=>new Map),[m,v]=Q.useState(u),[y,w]=Q.useState(u);rC(()=>{h.current=!1,d.current=u;for(let P=0;P<y.length;P++){const D=nx(y[P]);f.includes(D)?g.delete(D):g.get(D)!==!0&&g.set(D,!1)}},[y,f.length,f.join("-")]);const _=[];if(u!==m){let P=[...u];for(let D=0;D<y.length;D++){const T=y[D],A=nx(T);f.includes(A)||(P.splice(D,0,T),_.push(T))}return i==="wait"&&_.length&&(P=_),w(HI(P)),v(u),null}const{forceRender:O}=Q.useContext(eC);return p.jsx(p.Fragment,{children:y.map(P=>{const D=nx(P),T=s&&!l?!1:u===y||f.includes(D),A=()=>{if(g.has(D))g.set(D,!0);else return;let b=!0;g.forEach(I=>{I||(b=!1)}),b&&(O==null||O(),w(d.current),s&&(c==null||c()),n&&n())};return p.jsx(_se,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:A,anchorX:o,children:P},D)})})},VV=Q.createContext({strict:!1}),GI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cp={};for(const e in GI)cp[e]={isEnabled:t=>GI[e].some(r=>!!t[r])};function Ase(e){for(const t in e)cp[t]={...cp[t],...e[t]}}const Tse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ib(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Tse.has(e)}let UV=e=>!ib(e);function Ese(e){e&&(UV=t=>t.startsWith("on")?!ib(t):e(t))}try{Ese(require("@emotion/is-prop-valid").default)}catch{}function kse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(UV(a)||r===!0&&ib(a)||!t&&!ib(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Cse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const f5=Q.createContext({});function h5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cv(e){return typeof e=="string"||Array.isArray(e)}const TC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],EC=["initial",...TC];function d5(e){return h5(e.animate)||EC.some(t=>Cv(e[t]))}function zV(e){return!!(d5(e)||e.variants)}function Nse(e,t){if(d5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Cv(r)?r:void 0,animate:Cv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Pse(e){const{initial:t,animate:r}=Nse(e,Q.useContext(f5));return Q.useMemo(()=>({initial:t,animate:r}),[KI(t),KI(r)])}function KI(e){return Array.isArray(e)?e.join(" "):e}const Ose=Symbol.for("motionComponentSymbol");function p0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ise(e,t,r){return Q.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):p0(r)&&(r.current=n))},[t])}const kC=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Dse="framerAppearId",qV="data-"+kC(Dse),WV=Q.createContext({});function jse(e,t,r,n,a){var m,v;const{visualElement:i}=Q.useContext(f5),s=Q.useContext(VV),o=Q.useContext(l5),l=Q.useContext(u5).reducedMotion,c=Q.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=Q.useContext(WV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Lse(c.current,r,a,f);const h=Q.useRef(!1);Q.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[qV],g=Q.useRef(!!d&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return rC(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),_C.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),Q.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,d)}),g.current=!1))}),u}function Lse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:HV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&p0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function HV(e){if(e)return e.options.allowProjection!==!1?e.projection:HV(e.parent)}function Mse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Ase(e);function i(o,l){let c;const u={...Q.useContext(u5),...o,layoutId:Rse(o)},{isStatic:f}=u,h=Pse(o),d=n(o,f);if(!f&&tC){Fse();const g=$se(u);c=g.MeasureLayout,h.visualElement=jse(a,d,u,t,g.ProjectionNode)}return p.jsxs(f5.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Ise(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=Q.forwardRef(i);return s[Ose]=a,s}function Rse({layoutId:e}){const t=Q.useContext(eC).id;return t&&e!==void 0?t+"-"+e:e}function Fse(e,t){Q.useContext(VV).strict}function $se(e){const{drag:t,layout:r}=cp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Nv={};function Bse(e){for(const t in e)Nv[t]=e[t],lC(t)&&(Nv[t].isCSSVariable=!0)}function GV(e,{layout:t,layoutId:r}){return Kp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Nv[e]||e==="opacity")}const Vse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Use=Gp.length;function zse(e,t,r){let n="",a=!0;for(let i=0;i<Use;i++){const s=Gp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=jV(o,wC[s]);if(!l){a=!1;const u=Vse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function CC(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Kp.has(l)){s=!0;continue}else if(lC(l)){a[l]=c;continue}else{const u=jV(c,wC[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=zse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const NC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function KV(e,t,r){for(const n in t)!Fa(t[n])&&!GV(n,r)&&(e[n]=t[n])}function qse({transformTemplate:e},t){return Q.useMemo(()=>{const r=NC();return CC(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Wse(e,t){const r=e.style||{},n={};return KV(n,r,e),Object.assign(n,qse(e,t)),n}function Hse(e,t){const r={},n=Wse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Gse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kse={offset:"strokeDashoffset",array:"strokeDasharray"};function Yse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Gse:Kse;e[i.offset]=Qt.transform(-n);const s=Qt.transform(t),o=Qt.transform(r);e[i.array]=`${s} ${o}`}function YV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(CC(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Yse(f,a,i,s,!1)}const XV=()=>({...NC(),attrs:{}}),QV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Xse(e,t,r,n){const a=Q.useMemo(()=>{const i=XV();return YV(i,t,QV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};KV(i,e.style,e),a.style={...i,...a.style}}return a}const Qse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function PC(e){return typeof e!="string"||e.includes("-")?!1:!!(Qse.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jse(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(PC(r)?Xse:Hse)(n,i,s,r),c=kse(n,typeof r=="string",e),u=r!==Q.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=Q.useMemo(()=>Fa(f)?f.get():f,[f]);return Q.createElement(r,{...u,children:h})}}function YI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function OC(e,t,r,n){if(typeof t=="function"){const[a,i]=YI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=YI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function n2(e){return Fa(e)?e.get():e}function Zse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:eoe(r,n,a,e),renderState:t()}}const JV=e=>(t,r)=>{const n=Q.useContext(f5),a=Q.useContext(l5),i=()=>Zse(e,t,n,a);return r?i():B1(i)};function eoe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=n2(i[h]);let{initial:s,animate:o}=e;const l=d5(e),c=zV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!h5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const g=OC(e,h[d]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let _=y[w];if(Array.isArray(_)){const O=u?_.length-1:0;_=_[O]}_!==null&&(a[w]=_)}for(const w in m)a[w]=m[w]}}}return a}function IC(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Fa(n[s])||t.style&&Fa(t.style[s])||GV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const toe={useVisualState:JV({scrapeMotionValuesFromProps:IC,createRenderState:NC})};function ZV(e,t,r){const n=IC(e,t,r);for(const a in e)if(Fa(e[a])||Fa(t[a])){const i=Gp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const roe={useVisualState:JV({scrapeMotionValuesFromProps:ZV,createRenderState:XV})};function noe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...PC(n)?roe:toe,preloadedFeatures:e,useRender:Jse(a),createVisualElement:t,Component:n};return Mse(s)}}function Pv(e,t,r){const n=e.getProps();return OC(n,t,r!==void 0?r:n.custom,e)}const lT=e=>Array.isArray(e);function aoe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Kh(r))}function ioe(e){return lT(e)?e[e.length-1]||0:e}function soe(e,t){const r=Pv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=ioe(i[s]);aoe(e,s,o)}}function ooe(e){return!!(Fa(e)&&e.add)}function cT(e,t){const r=e.getValue("willChange");if(ooe(r))return r.add(t);if(!r&&Mc.WillChange){const n=new Mc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function eU(e){return e.props[qV]}const loe=e=>e!==null;function coe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(loe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const uoe={type:"spring",stiffness:500,damping:25,restSpeed:10},foe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),hoe={type:"keyframes",duration:.8},doe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},poe=(e,{keyframes:t})=>t.length>2?hoe:Kp.has(e)?e.startsWith("scale")?foe(t[1]):uoe:doe;function moe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const DC=(e,t,r,n={},a,i)=>s=>{const o=bC(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-rl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};moe(o)||Object.assign(u,poe(e,u)),u.duration&&(u.duration=rl(u.duration)),u.repeatDelay&&(u.repeatDelay=rl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Mc.instantAnimations||Mc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=coe(u.keyframes,o);if(h!==void 0){On.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new gC(u):new Kie(u)};function goe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function jC(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&goe(c,u))continue;const d={delay:r,...bC(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=eU(e);if(y){const w=window.MotionHandoffAnimation(y,u,On);w!==null&&(d.startTime=w,m=!0)}}cT(e,u),f.start(DC(u,f,h,e.shouldReduceMotion&&CV.has(u)?{type:!1}:d,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{On.update(()=>{s&&soe(e,s)})}),l}function uT(e,t,r={}){var l;const n=Pv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(jC(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return voe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function voe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(yoe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(uT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function yoe(e,t){return e.sortNodePosition(t)}function xoe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>uT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=uT(e,t,r);else{const a=typeof t=="function"?Pv(e,t,r.custom):t;n=Promise.all(jC(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function tU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const boe=EC.length;function rU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?rU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<boe;r++){const n=EC[r],a=e.props[n];(Cv(a)||a===!1)&&(t[n]=a)}return t}const woe=[...TC].reverse(),_oe=TC.length;function Soe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>xoe(e,r,n)))}function Aoe(e){let t=Soe(e),r=XI(),n=!0;const a=l=>(c,u)=>{var h;const f=Pv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=rU(e.parent)||{},f=[],h=new Set;let d={},g=1/0;for(let v=0;v<_oe;v++){const y=woe[v],w=r[y],_=c[y]!==void 0?c[y]:u[y],O=Cv(_),P=y===l?w.isActive:null;P===!1&&(g=v);let D=_===u[y]&&_!==c[y]&&O;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...d},!w.isActive&&P===null||!_&&!w.prevProp||h5(_)||typeof _=="boolean")continue;const T=Toe(w.prevProp,_);let A=T||y===l&&w.isActive&&!D&&O||v>g&&O,b=!1;const I=Array.isArray(_)?_:[_];let E=I.reduce(a(y),{});P===!1&&(E={});const{prevResolvedValues:C={}}=w,L={...C,...E},H=ee=>{A=!0,h.has(ee)&&(b=!0,h.delete(ee)),w.needsAnimating[ee]=!0;const W=e.getValue(ee);W&&(W.liveStyle=!1)};for(const ee in L){const W=E[ee],B=C[ee];if(d.hasOwnProperty(ee))continue;let ae=!1;lT(W)&&lT(B)?ae=!tU(W,B):ae=W!==B,ae?W!=null?H(ee):h.add(ee):W!==void 0&&h.has(ee)?H(ee):w.protectedKeys[ee]=!0}w.prevProp=_,w.prevResolvedValues=E,w.isActive&&(d={...d,...E}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(D&&T)||b)&&f.push(...I.map(ee=>({animation:ee,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Pv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),v[y]=w??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=XI(),n=!0}}}function Toe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!tU(t,e):!1}function ah(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XI(){return{animate:ah(!0),whileInView:ah(),whileHover:ah(),whileTap:ah(),whileDrag:ah(),whileFocus:ah(),exit:ah()}}class Df{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Eoe extends Df{constructor(t){super(t),t.animationState||(t.animationState=Aoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();h5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let koe=0;class Coe extends Df{constructor(){super(...arguments),this.id=koe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Noe={animation:{Feature:Eoe},exit:{Feature:Coe}};function Ov(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function q1(e){return{point:{x:e.pageX,y:e.pageY}}}const Poe=e=>t=>SC(t)&&e(t,q1(t));function Ng(e,t,r,n){return Ov(e,t,Poe(r),n)}function nU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Ooe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Ioe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const aU=1e-4,Doe=1-aU,joe=1+aU,iU=.01,Loe=0-iU,Moe=0+iU;function Vi(e){return e.max-e.min}function Roe(e,t,r){return Math.abs(e-t)<=r}function QI(e,t,r,n=.5){e.origin=n,e.originPoint=Cn(t.min,t.max,e.origin),e.scale=Vi(r)/Vi(t),e.translate=Cn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Doe&&e.scale<=joe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Loe&&e.translate<=Moe||isNaN(e.translate))&&(e.translate=0)}function Pg(e,t,r,n){QI(e.x,t.x,r.x,n?n.originX:void 0),QI(e.y,t.y,r.y,n?n.originY:void 0)}function JI(e,t,r){e.min=r.min+t.min,e.max=e.min+Vi(t)}function Foe(e,t,r){JI(e.x,t.x,r.x),JI(e.y,t.y,r.y)}function ZI(e,t,r){e.min=t.min-r.min,e.max=e.min+Vi(t)}function Og(e,t,r){ZI(e.x,t.x,r.x),ZI(e.y,t.y,r.y)}const e8=()=>({translate:0,scale:1,origin:0,originPoint:0}),m0=()=>({x:e8(),y:e8()}),t8=()=>({min:0,max:0}),Un=()=>({x:t8(),y:t8()});function io(e){return[e("x"),e("y")]}function gS(e){return e===void 0||e===1}function fT({scale:e,scaleX:t,scaleY:r}){return!gS(e)||!gS(t)||!gS(r)}function ch(e){return fT(e)||sU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sU(e){return r8(e.x)||r8(e.y)}function r8(e){return e&&e!=="0%"}function sb(e,t,r){const n=e-r,a=t*n;return r+a}function n8(e,t,r,n,a){return a!==void 0&&(e=sb(e,a,n)),sb(e,r,n)+t}function hT(e,t=0,r=1,n,a){e.min=n8(e.min,t,r,n,a),e.max=n8(e.max,t,r,n,a)}function oU(e,{x:t,y:r}){hT(e.x,t.translate,t.scale,t.originPoint),hT(e.y,r.translate,r.scale,r.originPoint)}const a8=.999999999999,i8=1.0000000000001;function $oe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&v0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,oU(e,s)),n&&ch(i.latestValues)&&v0(e,i.latestValues))}t.x<i8&&t.x>a8&&(t.x=1),t.y<i8&&t.y>a8&&(t.y=1)}function g0(e,t){e.min=e.min+t,e.max=e.max+t}function s8(e,t,r,n,a=.5){const i=Cn(e.min,e.max,a);hT(e,t,r,i,n)}function v0(e,t){s8(e.x,t.x,t.scaleX,t.scale,t.originX),s8(e.y,t.y,t.scaleY,t.scale,t.originY)}function lU(e,t){return nU(Ioe(e.getBoundingClientRect(),t))}function Boe(e,t,r){const n=lU(e,r),{scroll:a}=t;return a&&(g0(n.x,a.offset.x),g0(n.y,a.offset.y)),n}const cU=({current:e})=>e?e.ownerDocument.defaultView:null,o8=(e,t)=>Math.abs(e-t);function Voe(e,t){const r=o8(e.x,t.x),n=o8(e.y,t.y);return Math.sqrt(r**2+n**2)}class uU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=yS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=Voe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:g}=f,{timestamp:m}=Ya;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=vS(h,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=yS(f.type==="pointercancel"?this.lastMoveEventInfo:vS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,v),g&&g(f,v)},!SC(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=q1(t),o=vS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ya;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,yS(o,this.history)),this.removeListeners=V1(Ng(this.contextWindow,"pointermove",this.handlePointerMove),Ng(this.contextWindow,"pointerup",this.handlePointerUp),Ng(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rc(this.updatePoint)}}function vS(e,t){return t?{point:t(e.point)}:e}function l8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yS({point:e},t){return{point:e,delta:l8(e,fU(t)),offset:l8(e,Uoe(t)),velocity:zoe(t,.1)}}function Uoe(e){return e[0]}function fU(e){return e[e.length-1]}function zoe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=fU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>rl(t)));)r--;if(!n)return{x:0,y:0};const i=Ll(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function qoe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Cn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Cn(r,e,n.max):Math.min(e,r)),e}function c8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Woe(e,{top:t,left:r,bottom:n,right:a}){return{x:c8(e.x,r,a),y:c8(e.y,t,n)}}function u8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Hoe(e,t){return{x:u8(e.x,t.x),y:u8(e.y,t.y)}}function Goe(e,t){let r=.5;const n=Vi(e),a=Vi(t);return a>n?r=lp(t.min,t.max-n,e.min):n>a&&(r=lp(e.min,e.max-a,t.min)),Lc(0,1,r)}function Koe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const dT=.35;function Yoe(e=dT){return e===!1?e=0:e===!0&&(e=dT),{x:f8(e,"left","right"),y:f8(e,"top","bottom")}}function f8(e,t,r){return{min:h8(e,t),max:h8(e,r)}}function h8(e,t){return typeof e=="number"?e:e[t]||0}const Xoe=new WeakMap;class Qoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Un(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(q1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:g}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),io(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ml.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[v];_&&(y=Vi(_)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&On.postRender(()=>g(u,f)),cT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(d&&this.currentDirection===null){this.currentDirection=Joe(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>io(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new uU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:cU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&On.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ax(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=qoe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&p0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Woe(n.layoutBox,t):this.constraints=!1,this.elastic=Yoe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&io(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Koe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!p0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Boe(n,a.root,this.visualElement.getTransformPagePoint());let s=Hoe(a.layout.layoutBox,i);if(r){const o=r(Ooe(s));this.hasMutatedConstraints=!!o,o&&(s=nU(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=io(u=>{if(!ax(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return cT(this.visualElement,t),n.start(DC(t,n,0,r,this.visualElement,!1))}stopAnimation(){io(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){io(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){io(r=>{const{drag:n}=this.getProps();if(!ax(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Cn(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!p0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};io(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Goe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),io(s=>{if(!ax(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Cn(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Xoe.set(this.visualElement,this);const t=this.visualElement.current,r=Ng(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();p0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),On.read(n);const s=Ov(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(io(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=dT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ax(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Joe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Zoe extends Df{constructor(t){super(t),this.removeGroupControls=po,this.removeListeners=po,this.controls=new Qoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||po}unmount(){this.removeGroupControls(),this.removeListeners()}}const d8=e=>(t,r)=>{e&&On.postRender(()=>e(t,r))};class ele extends Df{constructor(){super(...arguments),this.removePointerDownListener=po}onPointerDown(t){this.session=new uU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:d8(t),onStart:d8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&On.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Ng(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const a2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Qt.test(e))e=parseFloat(e);else return e;const r=p8(e,t.target.x),n=p8(e,t.target.y);return`${r}% ${n}%`}},tle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=_f.parse(e);if(a.length>5)return n;const i=_f.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Cn(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class rle extends Q.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Bse(nle),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),a2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||On.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),_C.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function hU(e){const[t,r]=$V(),n=Q.useContext(eC);return p.jsx(rle,{...e,layoutGroup:n,switchLayoutGroup:Q.useContext(WV),isPresent:t,safeToRemove:r})}const nle={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:tle};function dU(e,t,r){const n=Fa(e)?e:Kh(e);return n.start(DC("",n,t,r)),n.animation}const ale=(e,t)=>e.depth-t.depth;class ile{constructor(){this.children=[],this.isDirty=!1}add(t){nC(this.children,t),this.isDirty=!0}remove(t){c5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ale),this.isDirty=!1,this.children.forEach(t)}}function sle(e,t){const r=hs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Rc(n),e(i-t))};return On.setup(n,!0),()=>Rc(n)}const pU=["TopLeft","TopRight","BottomLeft","BottomRight"],ole=pU.length,m8=e=>typeof e=="string"?parseFloat(e):e,g8=e=>typeof e=="number"||Qt.test(e);function lle(e,t,r,n,a,i){a?(e.opacity=Cn(0,r.opacity??1,cle(n)),e.opacityExit=Cn(t.opacity??1,0,ule(n))):i&&(e.opacity=Cn(t.opacity??1,r.opacity??1,n));for(let s=0;s<ole;s++){const o=`border${pU[s]}Radius`;let l=v8(t,o),c=v8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||g8(l)===g8(c)?(e[o]=Math.max(Cn(m8(l),m8(c),n),0),(Ml.test(c)||Ml.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Cn(t.rotate||0,r.rotate||0,n))}function v8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const cle=mU(0,.5,eV),ule=mU(.5,.95,po);function mU(e,t,r){return n=>n<e?0:n>t?1:r(lp(e,t,n))}function y8(e,t){e.min=t.min,e.max=t.max}function Zs(e,t){y8(e.x,t.x),y8(e.y,t.y)}function x8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function b8(e,t,r,n,a){return e-=t,e=sb(e,1/r,n),a!==void 0&&(e=sb(e,1/a,n)),e}function fle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Ml.test(t)&&(t=parseFloat(t),t=Cn(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Cn(i.min,i.max,n);e===i&&(o-=t),e.min=b8(e.min,t,r,o,a),e.max=b8(e.max,t,r,o,a)}function w8(e,t,[r,n,a],i,s){fle(e,t[r],t[n],t[a],t.scale,i,s)}const hle=["x","scaleX","originX"],dle=["y","scaleY","originY"];function _8(e,t,r,n){w8(e.x,t,hle,r?r.x:void 0,n?n.x:void 0),w8(e.y,t,dle,r?r.y:void 0,n?n.y:void 0)}function S8(e){return e.translate===0&&e.scale===1}function gU(e){return S8(e.x)&&S8(e.y)}function A8(e,t){return e.min===t.min&&e.max===t.max}function ple(e,t){return A8(e.x,t.x)&&A8(e.y,t.y)}function T8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function vU(e,t){return T8(e.x,t.x)&&T8(e.y,t.y)}function E8(e){return Vi(e.x)/Vi(e.y)}function k8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class mle{constructor(){this.members=[]}add(t){nC(this.members,t),t.scheduleRender()}remove(t){if(c5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function gle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const xS=["","X","Y","Z"],vle={visibility:"hidden"},yle=1e3;let xle=0;function bS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function yU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=eU(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",On,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&yU(n)}function xU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=xle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_le),this.nodes.forEach(kle),this.nodes.forEach(Cle),this.nodes.forEach(Sle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ile)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new iC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=AC(s)&&!FV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=sle(f,250),a2.hasAnimatedSinceResize&&(a2.hasAnimatedSinceResize=!1,this.nodes.forEach(N8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Dle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!vU(this.targetLayout,d),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const _={...bC(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||N8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Nle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(C8);return}this.isUpdating||this.nodes.forEach(Tle),this.isUpdating=!1,this.nodes.forEach(Ele),this.nodes.forEach(ble),this.nodes.forEach(wle),this.clearAllSnapshots();const o=hs.now();Ya.delta=Lc(0,1e3/60,o-Ya.timestamp),Ya.timestamp=o,Ya.isProcessing=!0,uS.update.process(Ya),uS.preRender.process(Ya),uS.render.process(Ya),Ya.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_C.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ale),this.sharedNodes.forEach(Ple)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vi(this.snapshot.measuredBox.x)&&!Vi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!gU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||ch(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),jle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Un();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Lle))){const{scroll:u}=this.root;u&&(g0(o.x,u.offset.x),g0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Un();if(Zs(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Zs(o,s),g0(o.x,f.offset.x),g0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Un();Zs(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&v0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),ch(u.latestValues)&&v0(l,u.latestValues)}return ch(this.latestValues)&&v0(l,this.latestValues),l}removeTransform(s){const o=Un();Zs(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!ch(c.latestValues))continue;fT(c.latestValues)&&c.updateSnapshot();const u=Un(),f=c.measurePageBox();Zs(u,f),_8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return ch(this.latestValues)&&_8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ya.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ya.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Og(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Un(),this.targetWithTransforms=Un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Foe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),oU(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Un(),this.relativeTargetOrigin=Un(),Og(this.relativeTargetOrigin,this.target,d.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fT(this.parent.latestValues)||sU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ya.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Zs(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;$oe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Un());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(x8(this.prevProjectionDelta.x,this.projectionDelta.x),x8(this.prevProjectionDelta.y,this.projectionDelta.y)),Pg(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!k8(this.projectionDelta.x,this.prevProjectionDelta.x)||!k8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=m0(),this.projectionDelta=m0(),this.projectionDeltaWithTransform=m0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=m0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Un(),d=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=d!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(Ile));this.animationProgress=0;let _;this.mixTargetDelta=O=>{const P=O/1e3;P8(f.x,s.x,P),P8(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Og(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ole(this.relativeTarget,this.relativeTargetOrigin,h,P),_&&ple(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Un()),Zs(_,this.relativeTarget)),m&&(this.animationValues=u,lle(u,c,this.latestValues,P,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{a2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Kh(0)),this.currentAnimation=dU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(yle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&bU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Un();const f=Vi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Vi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Zs(o,l),v0(o,u),Pg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new mle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&bS("z",s,c,this.animationValues);for(let u=0;u<xS.length;u++)bS(`rotate${xS[u]}`,s,c,this.animationValues),bS(`skew${xS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return vle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=n2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=n2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!ch(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=gle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in Nv){if(u[d]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Nv[d],y=o.transform==="none"?u[d]:g(u[d],c);if(m){const w=m.length;for(let _=0;_<w;_++)o[m[_]]=y}else v?this.options.visualElement.renderState.vars[d]=y:o[d]=y}return this.options.layoutId&&(o.pointerEvents=c===this?n2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(C8),this.root.sharedNodes.clear()}}}function ble(e){e.updateLayout()}function wle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?io(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Vi(h);h.min=n[f].min,h.max=h.min+d}):bU(i,t.layoutBox,n)&&io(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Vi(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=m0();Pg(o,n,t.layoutBox);const l=m0();s?Pg(l,e.applyTransform(a,!0),t.measuredBox):Pg(l,n,t.layoutBox);const c=!gU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const g=Un();Og(g,t.layoutBox,h.layoutBox);const m=Un();Og(m,n,d.layoutBox),vU(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _le(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Sle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ale(e){e.clearSnapshot()}function C8(e){e.clearMeasurements()}function Tle(e){e.isLayoutDirty=!1}function Ele(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function N8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kle(e){e.resolveTargetDelta()}function Cle(e){e.calcProjection()}function Nle(e){e.resetSkewAndRotation()}function Ple(e){e.removeLeadSnapshot()}function P8(e,t,r){e.translate=Cn(t.translate,0,r),e.scale=Cn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function O8(e,t,r,n){e.min=Cn(t.min,r.min,n),e.max=Cn(t.max,r.max,n)}function Ole(e,t,r,n){O8(e.x,t.x,r.x,n),O8(e.y,t.y,r.y,n)}function Ile(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Dle={duration:.45,ease:[.4,0,.1,1]},I8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),D8=I8("applewebkit/")&&!I8("chrome/")?Math.round:po;function j8(e){e.min=D8(e.min),e.max=D8(e.max)}function jle(e){j8(e.x),j8(e.y)}function bU(e,t,r){return e==="position"||e==="preserve-aspect"&&!Roe(E8(t),E8(r),.2)}function Lle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Mle=xU({attachResizeListener:(e,t)=>Ov(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),wS={current:void 0},wU=xU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!wS.current){const e=new Mle({});e.mount(window),e.setOptions({layoutScroll:!0}),wS.current=e}return wS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Rle={pan:{Feature:ele},drag:{Feature:Zoe,ProjectionNode:wU,MeasureLayout:hU}};function L8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&On.postRender(()=>i(t,q1(t)))}class Fle extends Df{mount(){const{current:t}=this.node;t&&(this.unmount=hse(t,(r,n)=>(L8(this.node,n,"Start"),a=>L8(this.node,a,"End"))))}unmount(){}}class $le extends Df{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=V1(Ov(this.node.current,"focus",()=>this.onFocus()),Ov(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function M8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&On.postRender(()=>i(t,q1(t)))}class Ble extends Df{mount(){const{current:t}=this.node;t&&(this.unmount=gse(t,(r,n)=>(M8(this.node,n,"Start"),(a,{success:i})=>M8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pT=new WeakMap,_S=new WeakMap,Vle=e=>{const t=pT.get(e.target);t&&t(e)},Ule=e=>{e.forEach(Vle)};function zle({root:e,...t}){const r=e||document;_S.has(r)||_S.set(r,{});const n=_S.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(Ule,{root:e,...t})),n[a]}function qle(e,t,r){const n=zle(t);return pT.set(e,r),n.observe(e),()=>{pT.delete(e),n.unobserve(e)}}const Wle={some:0,all:1};class Hle extends Df{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Wle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return qle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Gle(t,r))&&this.startObserver()}unmount(){}}function Gle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Kle={inView:{Feature:Hle},tap:{Feature:Ble},focus:{Feature:$le},hover:{Feature:Fle}},Yle={layout:{ProjectionNode:wU,MeasureLayout:hU}},mT={current:null},_U={current:!1};function Xle(){if(_U.current=!0,!!tC)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>mT.current=e.matches;e.addListener(t),t()}else mT.current=!1}const Iv=new WeakMap;function Qle(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Fa(a))e.addValue(n,a);else if(Fa(i))e.addValue(n,Kh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Kh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const R8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class SU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=vC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,On.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=d5(r),this.isVariantNode=zV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Fa(d)&&d.set(l[h],!1)}}mount(t){this.current=t,Iv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),_U.current||Xle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rc(this.notifyUpdate),Rc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Kp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&On.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cp){const r=cp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<R8.length;n++){const a=R8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Qle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Kh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(qB(n)||HB(n))?n=parseFloat(n):!xse(n)&&_f.test(r)&&(n=IV(t,r)),this.setBaseTarget(t,Fa(n)?n.get():n)),Fa(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=OC(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Fa(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new iC),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class AU extends SU{constructor(){super(...arguments),this.KeyframeResolver=lse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Fa(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function TU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Jle(e){return window.getComputedStyle(e)}class EU extends AU{constructor(){super(...arguments),this.type="html",this.renderInstance=TU}readValueFromInstance(t,r){var n;if(Kp.has(r))return(n=this.projection)!=null&&n.isProjecting?rT(r):Tie(t,r);{const a=Jle(t),i=(lC(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return lU(t,r)}build(t,r,n){CC(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return IC(t,r,n)}}const kU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Zle(e,t,r,n){TU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(kU.has(a)?a:kC(a),t.attrs[a])}class CU extends AU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Un}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kp.has(r)){const n=OV(r);return n&&n.default||0}return r=kU.has(r)?r:kC(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return ZV(t,r,n)}build(t,r,n){YV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Zle(t,r,n,a)}mount(t){this.isSVGTag=QV(t.tagName),super.mount(t)}}const ece=(e,t)=>PC(e)?new CU(t):new EU(t,{allowProjection:e!==Q.Fragment}),tce=noe({...Noe,...Kle,...Rle,...Yle},ece),zn=Cse(tce);function gT(e){const t=B1(()=>Kh(e)),{isStatic:r}=Q.useContext(u5);if(r){const[,n]=Q.useState(e);Q.useEffect(()=>t.on("change",n),[])}return t}function NU(e,t){const r=gT(t()),n=()=>r.set(t());return n(),rC(()=>{const a=()=>On.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Rc(n)}}),r}function rce(e){Cg.current=[],e();const t=NU(Cg.current,e);return Cg.current=void 0,t}function F8(e,t,r,n){if(typeof e=="function")return rce(e);const a=typeof t=="function"?t:vse(t,r,n);return Array.isArray(e)?$8(e,a):$8([e],([i])=>a(i))}function $8(e,t){const r=B1(()=>[]);return NU(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function LC(e){return typeof e=="object"&&!Array.isArray(e)}function PU(e,t,r,n){return typeof e=="string"&&LC(t)?DV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function nce(e,t,r){return e*(t+1)}function B8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function ace(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(c5(e,a),n--)}}function ice(e,t,r,n,a,i){ace(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Cn(a,i,n[s]),easing:aV(r,s)})}function sce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function oce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const lce="easeInOut";function cce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,B8(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=B8(f,y.at,u,c));let w=0;const _=(O,P,D,T=0,A=0)=>{const b=uce(O),{delay:I=0,times:E=bV(b),type:C="keyframes",repeat:L,repeatType:H,repeatDelay:V=0,...Z}=P;let{ease:ee=t.ease||"easeOut",duration:W}=P;const B=typeof I=="function"?I(T,A):I,ae=b.length,q=yC(C)?C:a==null?void 0:a[C];if(ae<=2&&q){let K=100;if(ae===2&&dce(b)){const ue=b[1]-b[0];K=Math.abs(ue)}const G={...Z};W!==void 0&&(G.duration=rl(W));const ie=gV(G,K,q);ee=ie.ease,W=ie.duration}W??(W=i);const N=f+B;E.length===1&&E[0]===0&&(E[1]=1);const R=E.length-b.length;if(R>0&&xV(E,R),b.length===1&&b.unshift(null),L){W=nce(W,L);const K=[...b],G=[...E];ee=Array.isArray(ee)?[...ee]:[ee];const ie=[...ee];for(let ue=0;ue<L;ue++){b.push(...K);for(let J=0;J<K.length;J++)E.push(G[J]+(ue+1)),ee.push(J===0?"linear":aV(ie,J-1))}sce(E,L)}const U=N+W;ice(D,b,ee,E,N,U),w=Math.max(B+W,w),h=Math.max(U,h)};if(Fa(m)){const O=V8(m,o);_(v,y,U8("default",O))}else{const O=PU(m,v,n,l),P=O.length;for(let D=0;D<P;D++){v=v,y=y;const T=O[D],A=V8(T,o);for(const b in v)_(v[b],fce(y,b),U8(b,A),D,P)}}u=f,f+=w}return o.forEach((d,g)=>{for(const m in d){const v=d[m];v.sort(oce);const y=[],w=[],_=[];for(let P=0;P<v.length;P++){const{at:D,value:T,easing:A}=v[P];y.push(T),w.push(lp(0,h,D)),_.push(A||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),_.unshift(lce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const O=s.get(g);O.keyframes[m]=y,O.transition[m]={...t,duration:h,ease:_,times:w,...r}}}),s}function V8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function U8(e,t){return t[e]||(t[e]=[]),t[e]}function uce(e){return Array.isArray(e)?e:[e]}function fce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const hce=e=>typeof e=="number",dce=e=>e.every(hce);function pce(e,t){return e in t}class mce extends SU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(pce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Un()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function gce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=AC(e)&&!FV(e)?new CU(t):new EU(t);r.mount(e),Iv.set(e,r)}function vce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new mce(t);r.mount(e),Iv.set(e,r)}function yce(e,t){return Fa(e)||typeof e=="number"||typeof e=="string"&&!LC(t)}function OU(e,t,r,n){const a=[];if(yce(e,t))a.push(dU(e,LC(t)&&t.default||t,r&&(r.default||r)));else{const i=PU(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?gce:vce;Iv.has(l)||c(l);const u=Iv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...jC(u,{...t,transition:f},{}))}}return a}function xce(e,t,r){const n=[];return cce(e,t,r,{spring:kv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...OU(o,i,s))}),n}function bce(e){return Array.isArray(e)&&e.some(Array.isArray)}function wce(e){function t(r,n,a){let i=[];return bce(r)?i=xce(r,n,e):i=OU(r,n,a,e),new Xie(i)}return t}const z8=wce(),_ce=()=>{const{user:e,logout:t}=ga(),r=N1(),{isDarkMode:n}=zr(),[a,i]=Q.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:p.jsx(cZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:p.jsx(Wi,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:p.jsx(mZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:p.jsx(dZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:p.jsx(tZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:p.jsx(rZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:p.jsx(fZ,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:p.jsx(yZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:p.jsx(eZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:p.jsx(ZJ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:p.jsx(vZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return p.jsxs(zn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[p.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx(zn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:p.jsx(eS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:p.jsx(zn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),p.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>p.jsx(zn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:p.jsx("div",{className:"group relative",children:p.jsx(eS,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>p.jsxs(p.Fragment,{children:[p.jsx(zn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),p.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),p.jsxs("div",{className:"flex items-center gap-4",children:[e&&p.jsxs(zn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),p.jsx(zn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsx(zn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx(fO,{size:20})})]}),p.jsx(zn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?p.jsx(pv,{size:24}):p.jsx(hZ,{size:24})})]})]})}),p.jsx(BV,{children:a&&p.jsx(zn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:p.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>p.jsx(zn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:p.jsx(eS,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:p.jsxs(zn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,p.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),p.jsx(zn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(zn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),p.jsxs(zn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(fO,{size:18}),p.jsx("span",{children:"Logout"})]})]})})]})})})]})},Sce=()=>{const{isAuthenticated:e}=ga(),t=N1(),{isDarkMode:r}=zr();return Ie.useEffect(()=>{e||t("/login")},[e,t]),e?p.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[p.jsx(_ce,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:p.jsx(jJ,{})})]}):null},IU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=Q.useState(!1),[s,o]=Q.useState(!1);Q.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:p.jsx(T4,{className:"text-green-500",size:20}),error:p.jsx(hO,{className:"text-red-500",size:20}),warning:p.jsx(zh,{className:"text-yellow-500",size:20}),info:p.jsx(lZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return p.jsx("div",{className:"fixed top-4 right-4 z-50",children:p.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:p.jsx(hO,{size:18})})]})})},DU=Q.createContext(void 0),Kc=()=>{const e=Q.useContext(DU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ace=({children:e})=>{const[t,r]=Q.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return p.jsxs(DU.Provider,{value:{showToast:n},children:[e,t&&p.jsx(IU,{message:t.message,type:t.type,onClose:a})]})},gt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=zr(),l=i??o;return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsxs("div",{className:"relative",children:[r&&p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ie.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),p.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Iu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=Q.useState(!1),{isDarkMode:l}=zr(),c=a??l,u=()=>{o(!s)};return p.jsxs("div",{className:"relative",children:[p.jsx(gt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),p.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?p.jsx(oZ,{size:18}):p.jsx(E4,{size:18})})]})},pt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return p.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},Tce=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState(""),[a,i]=Q.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=ga(),{showToast:u}=Kc(),{isDarkMode:f,toggleDarkMode:h}=zr(),d=N1();Q.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return p.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[p.jsx(zn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"max-w-md p-8 text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),p.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),p.jsx(zn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[p.jsx(pZ,{size:48,className:"mx-auto text-blue-600"}),p.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),p.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),p.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),p.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?p.jsx(G$,{size:20}):p.jsx(H$,{size:20})})]}),a&&p.jsx(zn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),p.jsxs("form",{onSubmit:g,className:"space-y-6",children:[p.jsx(gt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:p.jsx(k4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),p.jsx(Iu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),p.jsx(pt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Xa=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=zr(),i=gT(0),s=gT(0),o=F8(i,Math.round),l=F8(s,Math.round);return Ie.useEffect(()=>{if(typeof t=="number"){const c=z8(i,t,{duration:1});if(n){const u=z8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),p.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),p.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?p.jsx(zn.span,{children:o}):t}),n&&p.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||p.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"":""}),p.jsx(zn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&p.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),p.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},Hu=()=>{const{isDarkMode:e}=zr();return p.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),p.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:p.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},SS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=zr();return p.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&p.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:p.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),p.jsx("div",{className:"p-6",children:t})]})};function Vr(e){"@babel/helpers - typeof";return Vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vr(e)}function Vl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Zr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function an(e){Zr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Vr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Ece(e,t){Zr(2,arguments);var r=an(e),n=Vl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function kce(e,t){Zr(2,arguments);var r=an(e).getTime(),n=Vl(t);return new Date(r+n)}var Cce={};function W1(){return Cce}function vT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function ob(e){Zr(1,arguments);var t=an(e);return t.setHours(0,0,0,0),t}function i2(e,t){Zr(2,arguments);var r=an(e),n=an(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var jU=6e4,LU=36e5;function Nce(e){return Zr(1,arguments),e instanceof Date||Vr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Pce(e){if(Zr(1,arguments),!Nce(e)&&typeof e!="number")return!1;var t=an(e);return!isNaN(Number(t))}function Oce(e,t){Zr(2,arguments);var r=an(e),n=an(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Ice(e,t){return Zr(2,arguments),an(e).getTime()-an(t).getTime()}var q8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Dce="trunc";function jce(e){return e?q8[e]:q8[Dce]}function Dv(e){Zr(1,arguments);var t=an(e);return t.setHours(23,59,59,999),t}function Lce(e){Zr(1,arguments);var t=an(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Mce(e){Zr(1,arguments);var t=an(e);return Dv(t).getTime()===Lce(t).getTime()}function Rce(e,t){Zr(2,arguments);var r=an(e),n=an(t),a=i2(r,n),i=Math.abs(Oce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=i2(r,n)===-a;Mce(an(e))&&i===1&&i2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Fce(e,t,r){Zr(2,arguments);var n=Ice(e,t)/1e3;return jce(void 0)(n)}function $ce(e,t){Zr(2,arguments);var r=Vl(t);return kce(e,-r)}var Bce=864e5;function Vce(e){Zr(1,arguments);var t=an(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Bce)+1}function lb(e){Zr(1,arguments);var t=1,r=an(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function MU(e){Zr(1,arguments);var t=an(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=lb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=lb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Uce(e){Zr(1,arguments);var t=MU(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=lb(r);return n}var zce=6048e5;function qce(e){Zr(1,arguments);var t=an(e),r=lb(t).getTime()-Uce(t).getTime();return Math.round(r/zce)+1}function cb(e,t){var r,n,a,i,s,o,l,c;Zr(1,arguments);var u=W1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=an(e),d=h.getUTCDay(),g=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function RU(e,t){var r,n,a,i,s,o,l,c;Zr(1,arguments);var u=an(e),f=u.getUTCFullYear(),h=W1(),d=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,d),g.setUTCHours(0,0,0,0);var m=cb(g,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var y=cb(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Wce(e,t){var r,n,a,i,s,o,l,c;Zr(1,arguments);var u=W1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=RU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var g=cb(d,t);return g}var Hce=6048e5;function Gce(e,t){Zr(1,arguments);var r=an(e),n=cb(r,t).getTime()-Wce(r,t).getTime();return Math.round(n/Hce)+1}function Qr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var ku={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Qr(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Qr(n+1,2)},d:function(t,r){return Qr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Qr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Qr(t.getUTCHours(),r.length)},m:function(t,r){return Qr(t.getUTCMinutes(),r.length)},s:function(t,r){return Qr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Qr(i,r.length)}},Vd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return ku.y(t,r)},Y:function(t,r,n,a){var i=RU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Qr(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Qr(s,r.length)},R:function(t,r){var n=MU(t);return Qr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Qr(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Qr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Qr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return ku.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Qr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Gce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Qr(i,r.length)},I:function(t,r,n){var a=qce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Qr(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ku.d(t,r)},D:function(t,r,n){var a=Vce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Qr(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Qr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Qr(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Qr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Vd.noon:a===0?i=Vd.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Vd.evening:a>=12?i=Vd.afternoon:a>=4?i=Vd.morning:i=Vd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ku.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ku.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Qr(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Qr(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ku.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ku.s(t,r)},S:function(t,r){return ku.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return H8(s);case"XXXX":case"XX":return uh(s);case"XXXXX":case"XXX":default:return uh(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return H8(s);case"xxxx":case"xx":return uh(s);case"xxxxx":case"xxx":default:return uh(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+W8(s,":");case"OOOO":default:return"GMT"+uh(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+W8(s,":");case"zzzz":default:return"GMT"+uh(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Qr(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Qr(s,r.length)}};function W8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Qr(i,2)}function H8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Qr(Math.abs(e)/60,2)}return uh(e,t)}function uh(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Qr(Math.floor(a/60),2),s=Qr(a%60,2);return n+i+r+s}var G8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},FU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Yce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return G8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",G8(a,r)).replace("{{time}}",FU(i,r))},Xce={p:FU,P:Yce},Qce=["D","DD"],Jce=["YY","YYYY"];function Zce(e){return Qce.indexOf(e)!==-1}function eue(e){return Jce.indexOf(e)!==-1}function K8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var tue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},rue=function(t,r,n){var a,i=tue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function AS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var nue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},aue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},iue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sue={date:AS({formats:nue,defaultWidth:"full"}),time:AS({formats:aue,defaultWidth:"full"}),dateTime:AS({formats:iue,defaultWidth:"full"})},oue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lue=function(t,r,n,a){return oue[t]};function Mm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var cue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},uue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},fue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},due={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},pue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},gue={ordinalNumber:mue,era:Mm({values:cue,defaultWidth:"wide"}),quarter:Mm({values:uue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Mm({values:fue,defaultWidth:"wide"}),day:Mm({values:hue,defaultWidth:"wide"}),dayPeriod:Mm({values:due,defaultWidth:"wide",formattingValues:pue,defaultFormattingWidth:"wide"})};function Rm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?yue(o,function(f){return f.test(s)}):vue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function vue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function yue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function xue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var bue=/^(\d+)(th|st|nd|rd)?/i,wue=/\d+/i,_ue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sue={any:[/^b/i,/^(a|c)/i]},Aue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Tue={any:[/1/i,/2/i,/3/i,/4/i]},Eue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Cue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Nue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Pue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Oue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Iue={ordinalNumber:xue({matchPattern:bue,parsePattern:wue,valueCallback:function(t){return parseInt(t,10)}}),era:Rm({matchPatterns:_ue,defaultMatchWidth:"wide",parsePatterns:Sue,defaultParseWidth:"any"}),quarter:Rm({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rm({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any"}),day:Rm({matchPatterns:Cue,defaultMatchWidth:"wide",parsePatterns:Nue,defaultParseWidth:"any"}),dayPeriod:Rm({matchPatterns:Pue,defaultMatchWidth:"any",parsePatterns:Oue,defaultParseWidth:"any"})},$U={code:"en-US",formatDistance:rue,formatLong:sue,formatRelative:lue,localize:gue,match:Iue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Due=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lue=/^'([^]*?)'?$/,Mue=/''/g,Rue=/[a-zA-Z]/;function $t(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v;Zr(2,arguments);var y=String(t),w=W1(),_=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:$U,O=Vl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Vl((f=(h=(d=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&d!==void 0?d:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var D=an(e);if(!Pce(D))throw new RangeError("Invalid time value");var T=vT(D),A=$ce(D,T),b={firstWeekContainsDate:O,weekStartsOn:P,locale:_,_originalDate:D},I=y.match(jue).map(function(E){var C=E[0];if(C==="p"||C==="P"){var L=Xce[C];return L(E,_.formatLong)}return E}).join("").match(Due).map(function(E){if(E==="''")return"'";var C=E[0];if(C==="'")return Fue(E);var L=Kce[C];if(L)return eue(E)&&K8(E,t,String(e)),Zce(E)&&K8(E,t,String(e)),L(A,E,_.localize,b);if(C.match(Rue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return E}).join("");return I}function Fue(e){var t=e.match(Lue);return t?t[1].replace(Mue,"'"):e}function BU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function $ue(e){return BU({},e)}var Y8=1440,Bue=2520,TS=43200,Vue=86400;function Uue(e,t,r){var n,a;Zr(2,arguments);var i=W1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:$U;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=i2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=BU($ue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=an(t),u=an(e)):(c=an(e),u=an(t));var f=Fce(u,c),h=(vT(u)-vT(c))/1e3,d=Math.round((f-h)/60),g;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<Y8){var m=Math.round(d/60);return s.formatDistance("aboutXHours",m,l)}else{if(d<Bue)return s.formatDistance("xDays",1,l);if(d<TS){var v=Math.round(d/Y8);return s.formatDistance("xDays",v,l)}else if(d<Vue)return g=Math.round(d/TS),s.formatDistance("aboutXMonths",g,l)}if(g=Rce(u,c),g<12){var y=Math.round(d/TS);return s.formatDistance("xMonths",y,l)}else{var w=g%12,_=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",_,l):w<9?s.formatDistance("overXYears",_,l):s.formatDistance("almostXYears",_+1,l)}}function zue(e,t){return Zr(1,arguments),Uue(e,Date.now(),t)}function or(e,t){Zr(2,arguments);var r=Vl(t);return Ece(e,-r)}function que(e,t){var r;Zr(1,arguments);var n=Vl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Kue(e),i;if(a.date){var s=Yue(a.date,n);i=Xue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Que(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Jue(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var ix={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Wue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Hue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Gue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Kue(e){var t={},r=e.split(ix.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ix.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ix.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=ix.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Yue(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Xue(e,t){if(t===null)return new Date(NaN);var r=e.match(Wue);if(!r)return new Date(NaN);var n=!!r[4],a=Fm(r[1]),i=Fm(r[2])-1,s=Fm(r[3]),o=Fm(r[4]),l=Fm(r[5])-1;if(n)return nfe(t,o,l)?Zue(t,o,l):new Date(NaN);var c=new Date(0);return!tfe(t,i,s)||!rfe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Fm(e){return e?parseInt(e):1}function Que(e){var t=e.match(Hue);if(!t)return NaN;var r=ES(t[1]),n=ES(t[2]),a=ES(t[3]);return afe(r,n,a)?r*LU+n*jU+a*1e3:NaN}function ES(e){return e&&parseFloat(e.replace(",","."))||0}function Jue(e){if(e==="Z")return 0;var t=e.match(Gue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ife(n,a)?r*(n*LU+a*jU):NaN}function Zue(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var efe=[31,null,31,30,31,30,31,31,30,31,30,31];function VU(e){return e%400===0||e%4===0&&e%100!==0}function tfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(efe[t]||(VU(e)?29:28))}function rfe(e,t){return t>=1&&t<=(VU(e)?366:365)}function nfe(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function afe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ife(e,t){return t>=0&&t<=59}const sfe=()=>{const[e,t]=Q.useState(!0),[r,n]=Q.useState([]),[a,i]=Q.useState([]),[s,o]=Q.useState([]),[l,c]=Q.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=zr(),f=async()=>{t(!0);try{const m=new Date,v=or(m,30),y=or(m,1),w=m,_=fr(_t(it,"orders"),dr("createdAt",">=",qt.fromDate(v)),dr("createdAt","<=",qt.fromDate(m))),O=fr(_t(it,"orders"),dr("createdAt",">=",qt.fromDate(y)),dr("createdAt","<=",qt.fromDate(w))),P=fr(_t(it,"inventory")),D=fr(_t(it,"inventory"),dr("lastUpdated",">=",qt.fromDate(y)),dr("lastUpdated","<=",qt.fromDate(w))),[T,A,b,I]=await Promise.all([cr(_),cr(O),cr(P),cr(D)]),E=T.docs.map(je=>({id:je.id,...je.data()})),C=A.docs.map(je=>({id:je.id,...je.data()})),L=A.docs.length,H=b.docs.reduce((je,Ge)=>{const Fe=Ge.data();return je+(Fe.quantity||0)},0),V=I.docs.reduce((je,Ge)=>{const Fe=Ge.data();return je+(Fe.quantityChange||0)},0),Z=b.docs.reduce((je,Ge)=>{const Fe=Ge.data();return je+(Fe.quantity||0)*(Fe.price||0)},0),ee=E.length,W=C.reduce((je,Ge)=>je+(Ge.totalAmount||0),0),B=fr(_t(it,"inventory")),q=(await cr(B)).docs.map(je=>({id:je.id,...je.data()})),N=q.filter(je=>je.quantity<=10),R=q.filter(je=>je.quantity>10&&je.quantity<=25);console.log("All stock items:",q),console.log("Critical items:",N),console.log("Low stock items:",R),i(N),o(R);const U=new Date,K=ob(U),G=Dv(U),ie=ob(or(U,1)),ue=Dv(or(U,1)),J=fr(_t(it,"activityLogs"),dr("time",">=",K.toISOString()),dr("time","<=",G.toISOString())),ce=fr(_t(it,"activityLogs"),dr("time",">=",ie.toISOString()),dr("time","<=",ue.toISOString())),[pe,Y]=await Promise.all([cr(J),cr(ce)]),fe=pe.docs.map(je=>je.data()),Se=Y.docs.map(je=>je.data()),ye=fe.reduce((je,Ge)=>{const Fe=Ge.detail.match(/(\d+) units deducted/);return je+(Fe?parseInt(Fe[1]):0)},0),te=Se.reduce((je,Ge)=>{const Fe=Ge.detail.match(/(\d+) units deducted/);return je+(Fe?parseInt(Fe[1]):0)},0),Te=fe.reduce((je,Ge)=>{const Fe=Ge.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return je+(Fe?parseInt(Fe[1]):0)},0),Ee=fe.reduce((je,Ge)=>{const Fe=Ge.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Fe){const[,Ye,lt]=Fe,nt=b.docs.find(dt=>dt.data().name===Ye);if(nt){const dt=nt.data().price||0;return je+parseInt(lt)*dt}}return je},0),Ce=fe.reduce((je,Ge)=>{const Fe=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Fe)||/damaged/i.test(Fe)||/damageditems/i.test(Fe)||/damaged items/i.test(Fe)){const Ye=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const lt of Ye){const nt=Fe.match(lt);if(nt)if(nt.length===3){const dt=parseInt(nt[1]),xt=parseInt(nt[2]);return je+Math.abs(dt-xt)}else return je+parseInt(nt[1])}return je+1}return je},0),He=Se.reduce((je,Ge)=>{const Fe=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Fe)||/damaged/i.test(Fe)||/damageditems/i.test(Fe)||/damaged items/i.test(Fe)){const Ye=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const lt of Ye){const nt=Fe.match(lt);if(nt)if(nt.length===3){const dt=parseInt(nt[1]),xt=parseInt(nt[2]);return je+Math.abs(dt-xt)}else return je+parseInt(nt[1])}return je+1}return je},0);c({totalOrders:ee,totalStock:H,totalInventoryValue:Z,todayDamagedProducts:Ce,yesterdayDamagedProducts:He,yesterdayOrders:L,yesterdayStockChange:V,yesterdayRevenue:W,totalDeductions:ye,yesterdayDeductions:te,todayStockAdditions:Te,todayInventoryValueAdditions:Ee})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=fr(_t(it,"activityLogs"),Ra("time","desc"),Zx(5)),y=(await cr(m)).docs.map(w=>({id:w.id,...w.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},d=async()=>{await Promise.all([f(),h()])};Q.useEffect(()=>{d()},[]);const g=()=>{const{isDarkMode:m}=zr();return p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>p.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return p.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),p.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),p.jsx(pt,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(sl,{size:16,className:e?"animate-spin":""})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?p.jsxs(p.Fragment,{children:[p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Xa,{title:"Total Stock",value:l.totalStock,icon:p.jsx(J0,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:p.jsx(Wi,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),p.jsx(Xa,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:p.jsx(K$,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),p.jsx(Xa,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:p.jsx(zh,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),p.jsx(Xa,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:p.jsx(B2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:p.jsx(Wi,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":" added today"}})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(SS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):r.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),p.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:zue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),p.jsx(SS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):s.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.jsx(SS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):a.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},Nn=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const{isDarkMode:i}=zr(),s=Q.useRef(null);if(Q.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return e&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[e,t]),Q.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&t()};return e&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t]),!e)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),p.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${o[a]} w-full ${i?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:`text-lg font-medium ${i?"text-white":"text-slate-900"}`,children:r}),p.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${i?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:p.jsx(pv,{size:20})})]}),p.jsx("div",{className:`${i?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},od=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=Q.useState(!1);return Q.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),p.jsx(Nn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(Oc,{size:32,className:"text-blue-500"})}),p.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&p.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var UU=1252,ofe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],MC={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},RC=function(e){ofe.indexOf(e)!=-1&&(UU=MC[0]=e)};function lfe(){RC(1252)}var Qo=function(e){RC(e)};function zU(){Qo(1200),lfe()}function X8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function cfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function qU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var og=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?cfe(e.slice(2)):t==254&&r==255?qU(e.slice(2)):t==65279?e.slice(1):e},sx=function(t){return String.fromCharCode(t)},Q8=function(t){return String.fromCharCode(t)},$u,Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function J8(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Gu.charAt(i)+Gu.charAt(s)+Gu.charAt(o)+Gu.charAt(l);return t}function Vs(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Gu.indexOf(e.charAt(c++)),s=Gu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Gu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Gu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Sr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ld=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Sf(e){return Sr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function Z8(e){return Sr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Yo=function(t){return Sr?ld(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function cd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function FC(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return FC(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Bu=Sr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ld(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function ufe(e){for(var t=[],r=0,n=e.length+250,a=Sf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Sf(65535),n=65530)}return t.push(a.slice(0,r)),Bu(t)}var Ki=/\u0000/g,lg=/[\u0001-\u0006]/g;function O0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Jo(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}function $C(e,t){var r=""+e;return r.length>=t?r:Gn(" ",t-r.length)+r}function ub(e,t){var r=""+e;return r.length>=t?r:r+Gn(" ",t-r.length)}function ffe(e,t){var r=""+Math.round(e);return r.length>=t?r:Gn("0",t-r.length)+r}function hfe(e,t){var r=""+e;return r.length>=t?r:Gn("0",t-r.length)+r}var eD=Math.pow(2,32);function Ud(e,t){if(e>eD||e<-eD)return ffe(e,t);var r=Math.round(e);return hfe(r,t)}function fb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var tD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],kS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function dfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var lr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},rD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},pfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function hb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function Ah(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=bfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var WU=new Date(1899,11,31,0,0,0),mfe=WU.getTime(),gfe=new Date(1900,2,1,0,0,0);function HU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=gfe&&(r+=24*60*60*1e3),(r-(mfe+(e.getTimezoneOffset()-WU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function BC(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function vfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function yfe(e){var t=e<0?12:11,r=BC(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function xfe(e){var t=BC(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function jv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=yfe(e):t===10?r=e.toFixed(10).substr(0,12):r=xfe(e),BC(vfe(r.toUpperCase()))}function Yh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):jv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return xo(14,HU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function bfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function wfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return kS[r.m-1][1];case 5:return kS[r.m-1][0];default:return kS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return tD[r.q][0];default:return tD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Jo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Jo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Jo(l,c):"";return u}function Ku(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var GU=/%/g;function _fe(e,t,r){var n=t.replace(GU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function Sfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function KU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+KU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var YU=/# (\?+)( ?)\/( ?)(\d+)/;function Afe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Gn(" ",e[1].length+1+e[4].length):$C(s,e[1].length)+e[2]+"/"+e[3]+Jo(o,e[4].length))}function Tfe(e,t,r){return r+(t===0?"":""+t)+Gn(" ",e[1].length+2+e[4].length)}var XU=/^#*0*\.([0#]+)/,QU=/\).*[0#]/,JU=/\(###\) ###\\?-####/;function $i(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function nD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function aD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Efe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function kfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ao(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ao("n",n,r):"("+ao("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Sfe(e,t,r);if(t.indexOf("%")!==-1)return _fe(e,t,r);if(t.indexOf("E")!==-1)return KU(t,r);if(t.charCodeAt(0)===36)return"$"+ao(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ud(l,t.length);if(t.match(/^[#?]+$/))return a=Ud(r,0),a==="0"&&(a=""),a.length>t.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(YU))return Afe(i,l,c);if(t.match(/^#+0+$/))return c+Ud(l,t.length-t.indexOf("0"));if(i=t.match(XU))return a=nD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+$i(i[1])).replace(/\.$/,"."+$i(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Gn("0",$i(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+nD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ku(Ud(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ao(e,t,-r):Ku(""+(Math.floor(r)+Efe(r,i[1].length)))+"."+Jo(aD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ao(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=O0(ao(e,t.replace(/[\\-]/g,""),r)),s=0,O0(O0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(JU))return a=ao(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=hb(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=ub(o[2],s),u.length<i[4].length&&(u=$i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=hb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$C(o[1],s)+i[2]+"/"+i[3]+ub(o[2],s):Gn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Ud(r,0),t.length<=a.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return $i(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=aD(r,i[1].length),r<0?"-"+ao(e,t,-r):Ku(kfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jo(0,3-g.length):"")+g})+"."+Jo(s,i[1].length);switch(t){case"###,##0.00":return ao(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Ku(Ud(l,0));return d!=="0"?c+d:"";case"###,###.00":return ao(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ao(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Cfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Nfe(e,t,r){var n=t.replace(GU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Gn("%",a)}function ZU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _l(e,t,r){if(e.charCodeAt(0)===40&&!t.match(QU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_l("n",n,r):"("+_l("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Cfe(e,t,r);if(t.indexOf("%")!==-1)return Nfe(e,t,r);if(t.indexOf("E")!==-1)return ZU(t,r);if(t.charCodeAt(0)===36)return"$"+_l(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Jo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(YU))return Tfe(i,l,c);if(t.match(/^#+0+$/))return c+Jo(l,t.length-t.indexOf("0"));if(i=t.match(XU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+$i(i[1])).replace(/\.$/,"."+$i(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Gn("0",$i(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ku(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Ku(""+r)+"."+Gn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return _l(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=O0(_l(e,t.replace(/[\\-]/g,""),r)),s=0,O0(O0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(JU))return a=_l(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=hb(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=ub(o[2],s),u.length<i[4].length&&(u=$i(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=hb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?$C(o[1],s)+i[2]+"/"+i[3]+ub(o[2],s):Gn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:$i(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return $i(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Ku(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Jo(0,3-g.length):"")+g})+"."+Jo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Ku(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return _l(e,t.slice(0,t.lastIndexOf(".")),r)+$i(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bc(e,t,r){return(r|0)===r?_l(e,t,r):ao(e,t,r)}function Pfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var ez=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":fb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(ez))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Ofe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!fb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),g=d==="("||d===")"?d:"t";a[a.length]={t:g,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=Ah(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=Ah(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"":var m={t:o,v:o};if(c==null&&(c=Ah(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="/"?(c!=null&&(m.v=c.H>=12?"":""),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(ez)){if(c==null&&(c=Ah(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=wfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;_+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=Yh(t,r);break}var P="",D,T;if(_.length>0){_.charCodeAt(0)==40?(D=t<0&&_.charCodeAt(0)===45?-t:t,T=bc("n",_,D)):(D=t<0&&n>1?-t:t,T=bc("n",_,D),D<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),O=T.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var b=a.length;if(A===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=T.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=T.substr(0,O+1),O=-1),a[s].t="t",b=s);O>=0&&b<a.length&&(a[b].v=T.substr(0,O+1)+a[b].v)}else if(A!==a.length&&T.indexOf("E")===-1){for(O=T.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=T.charAt(O--)+P);a[s].v=P,a[s].t="t",b=s}for(O>=0&&b<a.length&&(a[b].v=T.substr(0,O+1)+a[b].v),O=T.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)O<T.length&&(P+=T.charAt(O++));a[s].v=P,a[s].t="t",b=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(D=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=bc(a[s].t,a[s].v,D),a[s].t="t");var I="";for(s=0;s!==a.length;++s)a[s]!=null&&(I+=a[s].v);return I}var iD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Ife(e,t){var r=Pfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(iD),o=r[1].match(iD);return sD(t,s)?[n,r[0]]:sD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function xo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:lr)[e],n==null&&(n=r.table&&r.table[rD[e]]||lr[rD[e]]),n==null&&(n=pfe[e]||"General");break}if(fb(n,0))return Yh(t,r);t instanceof Date&&(t=HU(t,r.date1904));var a=Ife(n,t);if(fb(a[1]))return Yh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Ofe(a[1],t,r,a[0])}function Dh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(lr[r]==null){t<0&&(t=r);continue}if(lr[r]==e){t=r;break}}t<0&&(t=391)}return lr[t]=e,t}function tz(){lr=dfe()}var Dfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},rz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function jfe(e){var t=typeof e=="number"?lr[e]:e;return t=t.replace(rz,"(\\d+)"),new RegExp("^"+t+"$")}function Lfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(rz)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Mfe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,A=new Array(256),b=0;b!=256;++b)T=b,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,A[b]=T;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(T){var A=0,b=0,I=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(I=0;I!=256;++I)E[I]=T[I];for(I=0;I!=256;++I)for(b=T[I],A=256+I;A<4096;A+=256)b=E[A]=b>>>8^T[b&255];var C=[];for(I=1;I!=16;++I)C[I-1]=typeof Int32Array<"u"?E.subarray(I*256,I*256+256):E.slice(I*256,I*256+256);return C}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],_=a[14];function O(T,A){for(var b=A^-1,I=0,E=T.length;I<E;)b=b>>>8^r[(b^T.charCodeAt(I++))&255];return~b}function P(T,A){for(var b=A^-1,I=T.length-15,E=0;E<I;)b=_[T[E++]^b&255]^w[T[E++]^b>>8&255]^y[T[E++]^b>>16&255]^v[T[E++]^b>>>24]^m[T[E++]]^g[T[E++]]^d[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(I+=15;E<I;)b=b>>>8^r[(b^T[E++])&255];return~b}function D(T,A){for(var b=A^-1,I=0,E=T.length,C=0,L=0;I<E;)C=T.charCodeAt(I++),C<128?b=b>>>8^r[(b^C)&255]:C<2048?(b=b>>>8^r[(b^(192|C>>6&31))&255],b=b>>>8^r[(b^(128|C&63))&255]):C>=55296&&C<57344?(C=(C&1023)+64,L=T.charCodeAt(I++)&1023,b=b>>>8^r[(b^(240|C>>8&7))&255],b=b>>>8^r[(b^(128|C>>2&63))&255],b=b>>>8^r[(b^(128|L>>6&15|(C&3)<<4))&255],b=b>>>8^r[(b^(128|L&63))&255]):(b=b>>>8^r[(b^(224|C>>12&15))&255],b=b>>>8^r[(b^(128|C>>6&63))&255],b=b>>>8^r[(b^(128|C&63))&255]);return~b}return e.table=r,e.bstr=O,e.buf=P,e.str=D,e}(),Nr=function(){var t={};t.version="1.2.1";function r(se,we){for(var ge=se.split("/"),ve=we.split("/"),be=0,_e=0,$e=Math.min(ge.length,ve.length);be<$e;++be){if(_e=ge[be].length-ve[be].length)return _e;if(ge[be]!=ve[be])return ge[be]<ve[be]?-1:1}return ge.length-ve.length}function n(se){if(se.charAt(se.length-1)=="/")return se.slice(0,-1).indexOf("/")===-1?se:n(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(0,we+1)}function a(se){if(se.charAt(se.length-1)=="/")return a(se.slice(0,-1));var we=se.lastIndexOf("/");return we===-1?se:se.slice(we+1)}function i(se,we){typeof we=="string"&&(we=new Date(we));var ge=we.getHours();ge=ge<<6|we.getMinutes(),ge=ge<<5|we.getSeconds()>>>1,se.write_shift(2,ge);var ve=we.getFullYear()-1980;ve=ve<<4|we.getMonth()+1,ve=ve<<5|we.getDate(),se.write_shift(2,ve)}function s(se){var we=se.read_shift(2)&65535,ge=se.read_shift(2)&65535,ve=new Date,be=ge&31;ge>>>=5;var _e=ge&15;ge>>>=4,ve.setMilliseconds(0),ve.setFullYear(ge+1980),ve.setMonth(_e-1),ve.setDate(be);var $e=we&31;we>>>=5;var Ke=we&63;return we>>>=6,ve.setHours(we),ve.setMinutes(Ke),ve.setSeconds($e<<1),ve}function o(se){Ja(se,0);for(var we={},ge=0;se.l<=se.length-4;){var ve=se.read_shift(2),be=se.read_shift(2),_e=se.l+be,$e={};switch(ve){case 21589:ge=se.read_shift(1),ge&1&&($e.mtime=se.read_shift(4)),be>5&&(ge&2&&($e.atime=se.read_shift(4)),ge&4&&($e.ctime=se.read_shift(4))),$e.mtime&&($e.mt=new Date($e.mtime*1e3));break}se.l=_e,we[ve]=$e}return we}var l;function c(){return l||(l={})}function u(se,we){if(se[0]==80&&se[1]==75)return hr(se,we);if((se[0]|32)==109&&(se[1]|32)==105)return Oi(se,we);if(se.length<512)throw new Error("CFB file size "+se.length+" < 512");var ge=3,ve=512,be=0,_e=0,$e=0,Ke=0,Be=0,Ve=[],We=se.slice(0,512);Ja(We,0);var ut=f(We);switch(ge=ut[0],ge){case 3:ve=512;break;case 4:ve=4096;break;case 0:if(ut[1]==0)return hr(se,we);default:throw new Error("Major Version: Expected 3 or 4 saw "+ge)}ve!==512&&(We=se.slice(0,ve),Ja(We,28));var bt=se.slice(0,ve);h(We,ge);var Nt=We.read_shift(4,"i");if(ge===3&&Nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Nt);We.l+=4,$e=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),Ke=We.read_shift(4,"i"),be=We.read_shift(4,"i"),Be=We.read_shift(4,"i"),_e=We.read_shift(4,"i");for(var vt=-1,At=0;At<109&&(vt=We.read_shift(4,"i"),!(vt<0));++At)Ve[At]=vt;var Wt=d(se,ve);v(Be,_e,Wt,ve,Ve);var Tr=w(Wt,$e,Ve,ve);Tr[$e].name="!Directory",be>0&&Ke!==L&&(Tr[Ke].name="!MiniFAT"),Tr[Ve[0]].name="!FAT",Tr.fat_addrs=Ve,Tr.ssz=ve;var Er={},tn=[],Ii=[],Ao=[];_($e,Tr,Wt,tn,be,Er,Ii,Ke),g(Ii,Ao,tn),tn.shift();var xs={FileIndex:Ii,FullPaths:Ao};return we&&we.raw&&(xs.raw={header:bt,sectors:Wt}),xs}function f(se){if(se[se.l]==80&&se[se.l+1]==75)return[0,0];se.chk(H,"Header Signature: "),se.l+=16;var we=se.read_shift(2,"u");return[se.read_shift(2,"u"),we]}function h(se,we){var ge=9;switch(se.l+=2,ge=se.read_shift(2)){case 9:if(we!=3)throw new Error("Sector Shift: Expected 9 saw "+ge);break;case 12:if(we!=4)throw new Error("Sector Shift: Expected 12 saw "+ge);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ge)}se.chk("0600","Mini Sector Shift: "),se.chk("000000000000","Reserved: ")}function d(se,we){for(var ge=Math.ceil(se.length/we)-1,ve=[],be=1;be<ge;++be)ve[be-1]=se.slice(be*we,(be+1)*we);return ve[ge-1]=se.slice(ge*we),ve}function g(se,we,ge){for(var ve=0,be=0,_e=0,$e=0,Ke=0,Be=ge.length,Ve=[],We=[];ve<Be;++ve)Ve[ve]=We[ve]=ve,we[ve]=ge[ve];for(;Ke<We.length;++Ke)ve=We[Ke],be=se[ve].L,_e=se[ve].R,$e=se[ve].C,Ve[ve]===ve&&(be!==-1&&Ve[be]!==be&&(Ve[ve]=Ve[be]),_e!==-1&&Ve[_e]!==_e&&(Ve[ve]=Ve[_e])),$e!==-1&&(Ve[$e]=ve),be!==-1&&ve!=Ve[ve]&&(Ve[be]=Ve[ve],We.lastIndexOf(be)<Ke&&We.push(be)),_e!==-1&&ve!=Ve[ve]&&(Ve[_e]=Ve[ve],We.lastIndexOf(_e)<Ke&&We.push(_e));for(ve=1;ve<Be;++ve)Ve[ve]===ve&&(_e!==-1&&Ve[_e]!==_e?Ve[ve]=Ve[_e]:be!==-1&&Ve[be]!==be&&(Ve[ve]=Ve[be]));for(ve=1;ve<Be;++ve)if(se[ve].type!==0){if(Ke=ve,Ke!=Ve[Ke])do Ke=Ve[Ke],we[ve]=we[Ke]+"/"+we[ve];while(Ke!==0&&Ve[Ke]!==-1&&Ke!=Ve[Ke]);Ve[ve]=-1}for(we[0]+="/",ve=1;ve<Be;++ve)se[ve].type!==2&&(we[ve]+="/")}function m(se,we,ge){for(var ve=se.start,be=se.size,_e=[],$e=ve;ge&&be>0&&$e>=0;)_e.push(we.slice($e*C,$e*C+C)),be-=C,$e=mh(ge,$e*4);return _e.length===0?ba(0):Bu(_e).slice(0,se.size)}function v(se,we,ge,ve,be){var _e=L;if(se===L){if(we!==0)throw new Error("DIFAT chain shorter than expected")}else if(se!==-1){var $e=ge[se],Ke=(ve>>>2)-1;if(!$e)return;for(var Be=0;Be<Ke&&(_e=mh($e,Be*4))!==L;++Be)be.push(_e);v(mh($e,ve-4),we-1,ge,ve,be)}}function y(se,we,ge,ve,be){var _e=[],$e=[];be||(be=[]);var Ke=ve-1,Be=0,Ve=0;for(Be=we;Be>=0;){be[Be]=!0,_e[_e.length]=Be,$e.push(se[Be]);var We=ge[Math.floor(Be*4/ve)];if(Ve=Be*4&Ke,ve<4+Ve)throw new Error("FAT boundary crossed: "+Be+" 4 "+ve);if(!se[We])break;Be=mh(se[We],Ve)}return{nodes:_e,data:gD([$e])}}function w(se,we,ge,ve){var be=se.length,_e=[],$e=[],Ke=[],Be=[],Ve=ve-1,We=0,ut=0,bt=0,Nt=0;for(We=0;We<be;++We)if(Ke=[],bt=We+we,bt>=be&&(bt-=be),!$e[bt]){Be=[];var vt=[];for(ut=bt;ut>=0;){vt[ut]=!0,$e[ut]=!0,Ke[Ke.length]=ut,Be.push(se[ut]);var At=ge[Math.floor(ut*4/ve)];if(Nt=ut*4&Ve,ve<4+Nt)throw new Error("FAT boundary crossed: "+ut+" 4 "+ve);if(!se[At]||(ut=mh(se[At],Nt),vt[ut]))break}_e[bt]={nodes:Ke,data:gD([Be])}}return _e}function _(se,we,ge,ve,be,_e,$e,Ke){for(var Be=0,Ve=ve.length?2:0,We=we[se].data,ut=0,bt=0,Nt;ut<We.length;ut+=128){var vt=We.slice(ut,ut+128);Ja(vt,64),bt=vt.read_shift(2),Nt=WC(vt,0,bt-Ve),ve.push(Nt);var At={name:Nt,type:vt.read_shift(1),color:vt.read_shift(1),L:vt.read_shift(4,"i"),R:vt.read_shift(4,"i"),C:vt.read_shift(4,"i"),clsid:vt.read_shift(16),state:vt.read_shift(4,"i"),start:0,size:0},Wt=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Wt!==0&&(At.ct=O(vt,vt.l-8));var Tr=vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2)+vt.read_shift(2);Tr!==0&&(At.mt=O(vt,vt.l-8)),At.start=vt.read_shift(4,"i"),At.size=vt.read_shift(4,"i"),At.size<0&&At.start<0&&(At.size=At.type=0,At.start=L,At.name=""),At.type===5?(Be=At.start,be>0&&Be!==L&&(we[Be].name="!StreamData")):At.size>=4096?(At.storage="fat",we[At.start]===void 0&&(we[At.start]=y(ge,At.start,we.fat_addrs,we.ssz)),we[At.start].name=At.name,At.content=we[At.start].data.slice(0,At.size)):(At.storage="minifat",At.size<0?At.size=0:Be!==L&&At.start!==L&&we[Be]&&(At.content=m(At,we[Be].data,(we[Ke]||{}).data))),At.content&&Ja(At.content,0),_e[Nt]=At,$e.push(At)}}function O(se,we){return new Date((Os(se,we+4)/1e7*Math.pow(2,32)+Os(se,we)/1e7-11644473600)*1e3)}function P(se,we){return c(),u(l.readFileSync(se),we)}function D(se,we){var ge=we&&we.type;switch(ge||Sr&&Buffer.isBuffer(se)&&(ge="buffer"),ge||"base64"){case"file":return P(se,we);case"base64":return u(Yo(Vs(se)),we);case"binary":return u(Yo(se),we)}return u(se,we)}function T(se,we){var ge=we||{},ve=ge.root||"Root Entry";if(se.FullPaths||(se.FullPaths=[]),se.FileIndex||(se.FileIndex=[]),se.FullPaths.length!==se.FileIndex.length)throw new Error("inconsistent CFB structure");se.FullPaths.length===0&&(se.FullPaths[0]=ve+"/",se.FileIndex[0]={name:ve,type:5}),ge.CLSID&&(se.FileIndex[0].clsid=ge.CLSID),A(se)}function A(se){var we="Sh33tJ5";if(!Nr.find(se,"/"+we)){var ge=ba(4);ge[0]=55,ge[1]=ge[3]=50,ge[2]=54,se.FileIndex.push({name:we,type:2,content:ge,size:4,L:69,R:69,C:69}),se.FullPaths.push(se.FullPaths[0]+we),b(se)}}function b(se,we){T(se);for(var ge=!1,ve=!1,be=se.FullPaths.length-1;be>=0;--be){var _e=se.FileIndex[be];switch(_e.type){case 0:ve?ge=!0:(se.FileIndex.pop(),se.FullPaths.pop());break;case 1:case 2:case 5:ve=!0,isNaN(_e.R*_e.L*_e.C)&&(ge=!0),_e.R>-1&&_e.L>-1&&_e.R==_e.L&&(ge=!0);break;default:ge=!0;break}}if(!(!ge&&!we)){var $e=new Date(1987,1,19),Ke=0,Be=Object.create?Object.create(null):{},Ve=[];for(be=0;be<se.FullPaths.length;++be)Be[se.FullPaths[be]]=!0,se.FileIndex[be].type!==0&&Ve.push([se.FullPaths[be],se.FileIndex[be]]);for(be=0;be<Ve.length;++be){var We=n(Ve[be][0]);ve=Be[We],ve||(Ve.push([We,{name:a(We).replace("/",""),type:1,clsid:Z,ct:$e,mt:$e,content:null}]),Be[We]=!0)}for(Ve.sort(function(Nt,vt){return r(Nt[0],vt[0])}),se.FullPaths=[],se.FileIndex=[],be=0;be<Ve.length;++be)se.FullPaths[be]=Ve[be][0],se.FileIndex[be]=Ve[be][1];for(be=0;be<Ve.length;++be){var ut=se.FileIndex[be],bt=se.FullPaths[be];if(ut.name=a(bt).replace("/",""),ut.L=ut.R=ut.C=-(ut.color=1),ut.size=ut.content?ut.content.length:0,ut.start=0,ut.clsid=ut.clsid||Z,be===0)ut.C=Ve.length>1?1:-1,ut.size=0,ut.type=5;else if(bt.slice(-1)=="/"){for(Ke=be+1;Ke<Ve.length&&n(se.FullPaths[Ke])!=bt;++Ke);for(ut.C=Ke>=Ve.length?-1:Ke,Ke=be+1;Ke<Ve.length&&n(se.FullPaths[Ke])!=n(bt);++Ke);ut.R=Ke>=Ve.length?-1:Ke,ut.type=1}else n(se.FullPaths[be+1]||"")==n(bt)&&(ut.R=be+1),ut.type=2}}}function I(se,we){var ge=we||{};if(ge.fileType=="mad")return Dt(se,ge);switch(b(se),ge.fileType){case"zip":return gn(se,ge)}var ve=function(Nt){for(var vt=0,At=0,Wt=0;Wt<Nt.FileIndex.length;++Wt){var Tr=Nt.FileIndex[Wt];if(Tr.content){var Er=Tr.content.length;Er>0&&(Er<4096?vt+=Er+63>>6:At+=Er+511>>9)}}for(var tn=Nt.FullPaths.length+3>>2,Ii=vt+7>>3,Ao=vt+127>>7,xs=Ii+At+tn+Ao,Zi=xs+127>>7,bs=Zi<=109?0:Math.ceil((Zi-109)/127);xs+Zi+bs+127>>7>Zi;)bs=++Zi<=109?0:Math.ceil((Zi-109)/127);var Ua=[1,bs,Zi,Ao,tn,At,vt,0];return Nt.FileIndex[0].size=vt<<6,Ua[7]=(Nt.FileIndex[0].start=Ua[0]+Ua[1]+Ua[2]+Ua[3]+Ua[4]+Ua[5])+(Ua[6]+7>>3),Ua}(se),be=ba(ve[7]<<9),_e=0,$e=0;{for(_e=0;_e<8;++_e)be.write_shift(1,V[_e]);for(_e=0;_e<8;++_e)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),_e=0;_e<3;++_e)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,ve[2]),be.write_shift(4,ve[0]+ve[1]+ve[2]+ve[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,ve[3]?ve[0]+ve[1]+ve[2]-1:L),be.write_shift(4,ve[3]),be.write_shift(-4,ve[1]?ve[0]-1:L),be.write_shift(4,ve[1]),_e=0;_e<109;++_e)be.write_shift(-4,_e<ve[2]?ve[1]+_e:-1)}if(ve[1])for($e=0;$e<ve[1];++$e){for(;_e<236+$e*127;++_e)be.write_shift(-4,_e<ve[2]?ve[1]+_e:-1);be.write_shift(-4,$e===ve[1]-1?L:$e+1)}var Ke=function(Nt){for($e+=Nt;_e<$e-1;++_e)be.write_shift(-4,_e+1);Nt&&(++_e,be.write_shift(-4,L))};for($e=_e=0,$e+=ve[1];_e<$e;++_e)be.write_shift(-4,ee.DIFSECT);for($e+=ve[2];_e<$e;++_e)be.write_shift(-4,ee.FATSECT);Ke(ve[3]),Ke(ve[4]);for(var Be=0,Ve=0,We=se.FileIndex[0];Be<se.FileIndex.length;++Be)We=se.FileIndex[Be],We.content&&(Ve=We.content.length,!(Ve<4096)&&(We.start=$e,Ke(Ve+511>>9)));for(Ke(ve[6]+7>>3);be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for($e=_e=0,Be=0;Be<se.FileIndex.length;++Be)We=se.FileIndex[Be],We.content&&(Ve=We.content.length,!(!Ve||Ve>=4096)&&(We.start=$e,Ke(Ve+63>>6)));for(;be.l&511;)be.write_shift(-4,ee.ENDOFCHAIN);for(_e=0;_e<ve[4]<<2;++_e){var ut=se.FullPaths[_e];if(!ut||ut.length===0){for(Be=0;Be<17;++Be)be.write_shift(4,0);for(Be=0;Be<3;++Be)be.write_shift(4,-1);for(Be=0;Be<12;++Be)be.write_shift(4,0);continue}We=se.FileIndex[_e],_e===0&&(We.start=We.size?We.start-1:L);var bt=_e===0&&ge.root||We.name;if(Ve=2*(bt.length+1),be.write_shift(64,bt,"utf16le"),be.write_shift(2,Ve),be.write_shift(1,We.type),be.write_shift(1,We.color),be.write_shift(-4,We.L),be.write_shift(-4,We.R),be.write_shift(-4,We.C),We.clsid)be.write_shift(16,We.clsid,"hex");else for(Be=0;Be<4;++Be)be.write_shift(4,0);be.write_shift(4,We.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,We.start),be.write_shift(4,We.size),be.write_shift(4,0)}for(_e=1;_e<se.FileIndex.length;++_e)if(We=se.FileIndex[_e],We.size>=4096)if(be.l=We.start+1<<9,Sr&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+511&-512;else{for(Be=0;Be<We.size;++Be)be.write_shift(1,We.content[Be]);for(;Be&511;++Be)be.write_shift(1,0)}for(_e=1;_e<se.FileIndex.length;++_e)if(We=se.FileIndex[_e],We.size>0&&We.size<4096)if(Sr&&Buffer.isBuffer(We.content))We.content.copy(be,be.l,0,We.size),be.l+=We.size+63&-64;else{for(Be=0;Be<We.size;++Be)be.write_shift(1,We.content[Be]);for(;Be&63;++Be)be.write_shift(1,0)}if(Sr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function E(se,we){var ge=se.FullPaths.map(function(Be){return Be.toUpperCase()}),ve=ge.map(function(Be){var Ve=Be.split("/");return Ve[Ve.length-(Be.slice(-1)=="/"?2:1)]}),be=!1;we.charCodeAt(0)===47?(be=!0,we=ge[0].slice(0,-1)+we):be=we.indexOf("/")!==-1;var _e=we.toUpperCase(),$e=be===!0?ge.indexOf(_e):ve.indexOf(_e);if($e!==-1)return se.FileIndex[$e];var Ke=!_e.match(lg);for(_e=_e.replace(Ki,""),Ke&&(_e=_e.replace(lg,"!")),$e=0;$e<ge.length;++$e)if((Ke?ge[$e].replace(lg,"!"):ge[$e]).replace(Ki,"")==_e||(Ke?ve[$e].replace(lg,"!"):ve[$e]).replace(Ki,"")==_e)return se.FileIndex[$e];return null}var C=64,L=-2,H="d0cf11e0a1b11ae1",V=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",ee={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:L,FREESECT:-1,HEADER_SIGNATURE:H,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function W(se,we,ge){c();var ve=I(se,ge);l.writeFileSync(we,ve)}function B(se){for(var we=new Array(se.length),ge=0;ge<se.length;++ge)we[ge]=String.fromCharCode(se[ge]);return we.join("")}function ae(se,we){var ge=I(se,we);switch(we&&we.type||"buffer"){case"file":return c(),l.writeFileSync(we.filename,ge),ge;case"binary":return typeof ge=="string"?ge:B(ge);case"base64":return J8(typeof ge=="string"?ge:B(ge));case"buffer":if(Sr)return Buffer.isBuffer(ge)?ge:ld(ge);case"array":return typeof ge=="string"?Yo(ge):ge}return ge}var q;function N(se){try{var we=se.InflateRaw,ge=new we;if(ge._processChunk(new Uint8Array([3,0]),ge._finishFlushFlag),ge.bytesRead)q=se;else throw new Error("zlib does not expose bytesRead")}catch(ve){console.error("cannot use native zlib: "+(ve.message||ve))}}function R(se,we){if(!q)return Ct(se,we);var ge=q.InflateRaw,ve=new ge,be=ve._processChunk(se.slice(se.l),ve._finishFlushFlag);return se.l+=ve.bytesRead,be}function U(se){return q?q.deflateRawSync(se):mt(se)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],ie=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ue(se){var we=(se<<1|se<<11)&139536|(se<<5|se<<15)&558144;return(we>>16|we>>8|we)&255}for(var J=typeof Uint8Array<"u",ce=J?new Uint8Array(256):[],pe=0;pe<256;++pe)ce[pe]=ue(pe);function Y(se,we){var ge=ce[se&255];return we<=8?ge>>>8-we:(ge=ge<<8|ce[se>>8&255],we<=16?ge>>>16-we:(ge=ge<<8|ce[se>>16&255],ge>>>24-we))}function fe(se,we){var ge=we&7,ve=we>>>3;return(se[ve]|(ge<=6?0:se[ve+1]<<8))>>>ge&3}function Se(se,we){var ge=we&7,ve=we>>>3;return(se[ve]|(ge<=5?0:se[ve+1]<<8))>>>ge&7}function ye(se,we){var ge=we&7,ve=we>>>3;return(se[ve]|(ge<=4?0:se[ve+1]<<8))>>>ge&15}function te(se,we){var ge=we&7,ve=we>>>3;return(se[ve]|(ge<=3?0:se[ve+1]<<8))>>>ge&31}function Te(se,we){var ge=we&7,ve=we>>>3;return(se[ve]|(ge<=1?0:se[ve+1]<<8))>>>ge&127}function Ee(se,we,ge){var ve=we&7,be=we>>>3,_e=(1<<ge)-1,$e=se[be]>>>ve;return ge<8-ve||($e|=se[be+1]<<8-ve,ge<16-ve)||($e|=se[be+2]<<16-ve,ge<24-ve)||($e|=se[be+3]<<24-ve),$e&_e}function Ce(se,we,ge){var ve=we&7,be=we>>>3;return ve<=5?se[be]|=(ge&7)<<ve:(se[be]|=ge<<ve&255,se[be+1]=(ge&7)>>8-ve),we+3}function He(se,we,ge){var ve=we&7,be=we>>>3;return ge=(ge&1)<<ve,se[be]|=ge,we+1}function je(se,we,ge){var ve=we&7,be=we>>>3;return ge<<=ve,se[be]|=ge&255,ge>>>=8,se[be+1]=ge,we+8}function Ge(se,we,ge){var ve=we&7,be=we>>>3;return ge<<=ve,se[be]|=ge&255,ge>>>=8,se[be+1]=ge&255,se[be+2]=ge>>>8,we+16}function Fe(se,we){var ge=se.length,ve=2*ge>we?2*ge:we+5,be=0;if(ge>=we)return se;if(Sr){var _e=Z8(ve);if(se.copy)se.copy(_e);else for(;be<se.length;++be)_e[be]=se[be];return _e}else if(J){var $e=new Uint8Array(ve);if($e.set)$e.set(se);else for(;be<ge;++be)$e[be]=se[be];return $e}return se.length=ve,se}function Ye(se){for(var we=new Array(se),ge=0;ge<se;++ge)we[ge]=0;return we}function lt(se,we,ge){var ve=1,be=0,_e=0,$e=0,Ke=0,Be=se.length,Ve=J?new Uint16Array(32):Ye(32);for(_e=0;_e<32;++_e)Ve[_e]=0;for(_e=Be;_e<ge;++_e)se[_e]=0;Be=se.length;var We=J?new Uint16Array(Be):Ye(Be);for(_e=0;_e<Be;++_e)Ve[be=se[_e]]++,ve<be&&(ve=be),We[_e]=0;for(Ve[0]=0,_e=1;_e<=ve;++_e)Ve[_e+16]=Ke=Ke+Ve[_e-1]<<1;for(_e=0;_e<Be;++_e)Ke=se[_e],Ke!=0&&(We[_e]=Ve[Ke+16]++);var ut=0;for(_e=0;_e<Be;++_e)if(ut=se[_e],ut!=0)for(Ke=Y(We[_e],ve)>>ve-ut,$e=(1<<ve+4-ut)-1;$e>=0;--$e)we[Ke|$e<<ut]=ut&15|_e<<4;return ve}var nt=J?new Uint16Array(512):Ye(512),dt=J?new Uint16Array(32):Ye(32);if(!J){for(var xt=0;xt<512;++xt)nt[xt]=0;for(xt=0;xt<32;++xt)dt[xt]=0}(function(){for(var se=[],we=0;we<32;we++)se.push(5);lt(se,dt,32);var ge=[];for(we=0;we<=143;we++)ge.push(8);for(;we<=255;we++)ge.push(9);for(;we<=279;we++)ge.push(7);for(;we<=287;we++)ge.push(8);lt(ge,nt,288)})();var wt=function(){for(var we=J?new Uint8Array(32768):[],ge=0,ve=0;ge<ie.length-1;++ge)for(;ve<ie[ge+1];++ve)we[ve]=ge;for(;ve<32768;++ve)we[ve]=29;var be=J?new Uint8Array(259):[];for(ge=0,ve=0;ge<G.length-1;++ge)for(;ve<G[ge+1];++ve)be[ve]=ge;function _e(Ke,Be){for(var Ve=0;Ve<Ke.length;){var We=Math.min(65535,Ke.length-Ve),ut=Ve+We==Ke.length;for(Be.write_shift(1,+ut),Be.write_shift(2,We),Be.write_shift(2,~We&65535);We-- >0;)Be[Be.l++]=Ke[Ve++]}return Be.l}function $e(Ke,Be){for(var Ve=0,We=0,ut=J?new Uint16Array(32768):[];We<Ke.length;){var bt=Math.min(65535,Ke.length-We);if(bt<10){for(Ve=Ce(Be,Ve,+(We+bt==Ke.length)),Ve&7&&(Ve+=8-(Ve&7)),Be.l=Ve/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=Ke[We++];Ve=Be.l*8;continue}Ve=Ce(Be,Ve,+(We+bt==Ke.length)+2);for(var Nt=0;bt-- >0;){var vt=Ke[We];Nt=(Nt<<5^vt)&32767;var At=-1,Wt=0;if((At=ut[Nt])&&(At|=We&-32768,At>We&&(At-=32768),At<We))for(;Ke[At+Wt]==Ke[We+Wt]&&Wt<250;)++Wt;if(Wt>2){vt=be[Wt],vt<=22?Ve=je(Be,Ve,ce[vt+1]>>1)-1:(je(Be,Ve,3),Ve+=5,je(Be,Ve,ce[vt-23]>>5),Ve+=3);var Tr=vt<8?0:vt-4>>2;Tr>0&&(Ge(Be,Ve,Wt-G[vt]),Ve+=Tr),vt=we[We-At],Ve=je(Be,Ve,ce[vt]>>3),Ve-=3;var Er=vt<4?0:vt-2>>1;Er>0&&(Ge(Be,Ve,We-At-ie[vt]),Ve+=Er);for(var tn=0;tn<Wt;++tn)ut[Nt]=We&32767,Nt=(Nt<<5^Ke[We])&32767,++We;bt-=Wt-1}else vt<=143?vt=vt+48:Ve=He(Be,Ve,1),Ve=je(Be,Ve,ce[vt]),ut[Nt]=We&32767,++We}Ve=je(Be,Ve,0)-1}return Be.l=(Ve+7)/8|0,Be.l}return function(Be,Ve){return Be.length<8?_e(Be,Ve):$e(Be,Ve)}}();function mt(se){var we=ba(50+Math.floor(se.length*1.1)),ge=wt(se,we);return we.slice(0,ge)}var et=J?new Uint16Array(32768):Ye(32768),Bt=J?new Uint16Array(32768):Ye(32768),Lt=J?new Uint16Array(128):Ye(128),Gr=1,Ne=1;function Je(se,we){var ge=te(se,we)+257;we+=5;var ve=te(se,we)+1;we+=5;var be=ye(se,we)+4;we+=4;for(var _e=0,$e=J?new Uint8Array(19):Ye(19),Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,Ve=J?new Uint8Array(8):Ye(8),We=J?new Uint8Array(8):Ye(8),ut=$e.length,bt=0;bt<be;++bt)$e[K[bt]]=_e=Se(se,we),Be<_e&&(Be=_e),Ve[_e]++,we+=3;var Nt=0;for(Ve[0]=0,bt=1;bt<=Be;++bt)We[bt]=Nt=Nt+Ve[bt-1]<<1;for(bt=0;bt<ut;++bt)(Nt=$e[bt])!=0&&(Ke[bt]=We[Nt]++);var vt=0;for(bt=0;bt<ut;++bt)if(vt=$e[bt],vt!=0){Nt=ce[Ke[bt]]>>8-vt;for(var At=(1<<7-vt)-1;At>=0;--At)Lt[Nt|At<<vt]=vt&7|bt<<3}var Wt=[];for(Be=1;Wt.length<ge+ve;)switch(Nt=Lt[Te(se,we)],we+=Nt&7,Nt>>>=3){case 16:for(_e=3+fe(se,we),we+=2,Nt=Wt[Wt.length-1];_e-- >0;)Wt.push(Nt);break;case 17:for(_e=3+Se(se,we),we+=3;_e-- >0;)Wt.push(0);break;case 18:for(_e=11+Te(se,we),we+=7;_e-- >0;)Wt.push(0);break;default:Wt.push(Nt),Be<Nt&&(Be=Nt);break}var Tr=Wt.slice(0,ge),Er=Wt.slice(ge);for(bt=ge;bt<286;++bt)Tr[bt]=0;for(bt=ve;bt<30;++bt)Er[bt]=0;return Gr=lt(Tr,et,286),Ne=lt(Er,Bt,30),we}function St(se,we){if(se[0]==3&&!(se[1]&3))return[Sf(we),2];for(var ge=0,ve=0,be=Z8(we||1<<18),_e=0,$e=be.length>>>0,Ke=0,Be=0;!(ve&1);){if(ve=Se(se,ge),ge+=3,ve>>>1)ve>>1==1?(Ke=9,Be=5):(ge=Je(se,ge),Ke=Gr,Be=Ne);else{ge&7&&(ge+=8-(ge&7));var Ve=se[ge>>>3]|se[(ge>>>3)+1]<<8;if(ge+=32,Ve>0)for(!we&&$e<_e+Ve&&(be=Fe(be,_e+Ve),$e=be.length);Ve-- >0;)be[_e++]=se[ge>>>3],ge+=8;continue}for(;;){!we&&$e<_e+32767&&(be=Fe(be,_e+32767),$e=be.length);var We=Ee(se,ge,Ke),ut=ve>>>1==1?nt[We]:et[We];if(ge+=ut&15,ut>>>=4,!(ut>>>8&255))be[_e++]=ut;else{if(ut==256)break;ut-=257;var bt=ut<8?0:ut-4>>2;bt>5&&(bt=0);var Nt=_e+G[ut];bt>0&&(Nt+=Ee(se,ge,bt),ge+=bt),We=Ee(se,ge,Be),ut=ve>>>1==1?dt[We]:Bt[We],ge+=ut&15,ut>>>=4;var vt=ut<4?0:ut-2>>1,At=ie[ut];for(vt>0&&(At+=Ee(se,ge,vt),ge+=vt),!we&&$e<Nt&&(be=Fe(be,Nt+100),$e=be.length);_e<Nt;)be[_e]=be[_e-At],++_e}}}return we?[be,ge+7>>>3]:[be.slice(0,_e),ge+7>>>3]}function Ct(se,we){var ge=se.slice(se.l||0),ve=St(ge,we);return se.l+=ve[1],ve[0]}function ur(se,we){if(se)typeof console<"u"&&console.error(we);else throw new Error(we)}function hr(se,we){var ge=se;Ja(ge,0);var ve=[],be=[],_e={FileIndex:ve,FullPaths:be};T(_e,{root:we.root});for(var $e=ge.length-4;(ge[$e]!=80||ge[$e+1]!=75||ge[$e+2]!=5||ge[$e+3]!=6)&&$e>=0;)--$e;ge.l=$e+4,ge.l+=4;var Ke=ge.read_shift(2);ge.l+=6;var Be=ge.read_shift(4);for(ge.l=Be,$e=0;$e<Ke;++$e){ge.l+=20;var Ve=ge.read_shift(4),We=ge.read_shift(4),ut=ge.read_shift(2),bt=ge.read_shift(2),Nt=ge.read_shift(2);ge.l+=8;var vt=ge.read_shift(4),At=o(ge.slice(ge.l+ut,ge.l+ut+bt));ge.l+=ut+bt+Nt;var Wt=ge.l;ge.l=vt+4,Ir(ge,Ve,We,_e,At),ge.l=Wt}return _e}function Ir(se,we,ge,ve,be){se.l+=2;var _e=se.read_shift(2),$e=se.read_shift(2),Ke=s(se);if(_e&8257)throw new Error("Unsupported ZIP encryption");for(var Be=se.read_shift(4),Ve=se.read_shift(4),We=se.read_shift(4),ut=se.read_shift(2),bt=se.read_shift(2),Nt="",vt=0;vt<ut;++vt)Nt+=String.fromCharCode(se[se.l++]);if(bt){var At=o(se.slice(se.l,se.l+bt));(At[21589]||{}).mt&&(Ke=At[21589].mt),((be||{})[21589]||{}).mt&&(Ke=be[21589].mt)}se.l+=bt;var Wt=se.slice(se.l,se.l+Ve);switch($e){case 8:Wt=R(se,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+$e)}var Tr=!1;_e&8&&(Be=se.read_shift(4),Be==134695760&&(Be=se.read_shift(4),Tr=!0),Ve=se.read_shift(4),We=se.read_shift(4)),Ve!=we&&ur(Tr,"Bad compressed size: "+we+" != "+Ve),We!=ge&&ur(Tr,"Bad uncompressed size: "+ge+" != "+We),ia(ve,Nt,Wt,{unsafe:!0,mt:Ke})}function gn(se,we){var ge=we||{},ve=[],be=[],_e=ba(1),$e=ge.compression?8:0,Ke=0,Be=0,Ve=0,We=0,ut=0,bt=se.FullPaths[0],Nt=bt,vt=se.FileIndex[0],At=[],Wt=0;for(Be=1;Be<se.FullPaths.length;++Be)if(Nt=se.FullPaths[Be].slice(bt.length),vt=se.FileIndex[Be],!(!vt.size||!vt.content||Nt=="Sh33tJ5")){var Tr=We,Er=ba(Nt.length);for(Ve=0;Ve<Nt.length;++Ve)Er.write_shift(1,Nt.charCodeAt(Ve)&127);Er=Er.slice(0,Er.l),At[ut]=Mfe.buf(vt.content,0);var tn=vt.content;$e==8&&(tn=U(tn)),_e=ba(30),_e.write_shift(4,67324752),_e.write_shift(2,20),_e.write_shift(2,Ke),_e.write_shift(2,$e),vt.mt?i(_e,vt.mt):_e.write_shift(4,0),_e.write_shift(-4,At[ut]),_e.write_shift(4,tn.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,Er.length),_e.write_shift(2,0),We+=_e.length,ve.push(_e),We+=Er.length,ve.push(Er),We+=tn.length,ve.push(tn),_e=ba(46),_e.write_shift(4,33639248),_e.write_shift(2,0),_e.write_shift(2,20),_e.write_shift(2,Ke),_e.write_shift(2,$e),_e.write_shift(4,0),_e.write_shift(-4,At[ut]),_e.write_shift(4,tn.length),_e.write_shift(4,vt.content.length),_e.write_shift(2,Er.length),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(4,0),_e.write_shift(4,Tr),Wt+=_e.l,be.push(_e),Wt+=Er.length,be.push(Er),++ut}return _e=ba(22),_e.write_shift(4,101010256),_e.write_shift(2,0),_e.write_shift(2,0),_e.write_shift(2,ut),_e.write_shift(2,ut),_e.write_shift(4,Wt),_e.write_shift(4,We),_e.write_shift(2,0),Bu([Bu(ve),Bu(be),_e])}var Dr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Vt(se,we){if(se.ctype)return se.ctype;var ge=se.name||"",ve=ge.match(/\.([^\.]+)$/);return ve&&Dr[ve[1]]||we&&(ve=(ge=we).match(/[\.\\]([^\.\\])+$/),ve&&Dr[ve[1]])?Dr[ve[1]]:"application/octet-stream"}function wr(se){for(var we=J8(se),ge=[],ve=0;ve<we.length;ve+=76)ge.push(we.slice(ve,ve+76));return ge.join(`\r
`)+`\r
`}function Ji(se){var we=se.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var We=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});we=we.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),we.charAt(0)==`
`&&(we="=0D"+we.slice(1)),we=we.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ge=[],ve=we.split(`\r
`),be=0;be<ve.length;++be){var _e=ve[be];if(_e.length==0){ge.push("");continue}for(var $e=0;$e<_e.length;){var Ke=76,Be=_e.slice($e,$e+Ke);Be.charAt(Ke-1)=="="?Ke--:Be.charAt(Ke-2)=="="?Ke-=2:Be.charAt(Ke-3)=="="&&(Ke-=3),Be=_e.slice($e,$e+Ke),$e+=Ke,$e<_e.length&&(Be+="="),ge.push(Be)}}return ge.join(`\r
`)}function Fn(se){for(var we=[],ge=0;ge<se.length;++ge){for(var ve=se[ge];ge<=se.length&&ve.charAt(ve.length-1)=="=";)ve=ve.slice(0,ve.length-1)+se[++ge];we.push(ve)}for(var be=0;be<we.length;++be)we[be]=we[be].replace(/[=][0-9A-Fa-f]{2}/g,function(_e){return String.fromCharCode(parseInt(_e.slice(1),16))});return Yo(we.join(`\r
`))}function Na(se,we,ge){for(var ve="",be="",_e="",$e,Ke=0;Ke<10;++Ke){var Be=we[Ke];if(!Be||Be.match(/^\s*$/))break;var Ve=Be.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ve=Ve[2].trim();break;case"content-type":_e=Ve[2].trim();break;case"content-transfer-encoding":be=Ve[2].trim();break}}switch(++Ke,be.toLowerCase()){case"base64":$e=Yo(Vs(we.slice(Ke).join("")));break;case"quoted-printable":$e=Fn(we.slice(Ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var We=ia(se,ve.slice(ge.length),$e,{unsafe:!0});_e&&(We.ctype=_e)}function Oi(se,we){if(B(se.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ge=we&&we.root||"",ve=(Sr&&Buffer.isBuffer(se)?se.toString("binary"):B(se)).split(`\r
`),be=0,_e="";for(be=0;be<ve.length;++be)if(_e=ve[be],!!/^Content-Location:/i.test(_e)&&(_e=_e.slice(_e.indexOf("file")),ge||(ge=_e.slice(0,_e.lastIndexOf("/")+1)),_e.slice(0,ge.length)!=ge))for(;ge.length>0&&(ge=ge.slice(0,ge.length-1),ge=ge.slice(0,ge.lastIndexOf("/")+1),_e.slice(0,ge.length)!=ge););var $e=(ve[1]||"").match(/boundary="(.*?)"/);if(!$e)throw new Error("MAD cannot find boundary");var Ke="--"+($e[1]||""),Be=[],Ve=[],We={FileIndex:Be,FullPaths:Ve};T(We);var ut,bt=0;for(be=0;be<ve.length;++be){var Nt=ve[be];Nt!==Ke&&Nt!==Ke+"--"||(bt++&&Na(We,ve.slice(ut,be),ge),ut=be)}return We}function Dt(se,we){var ge=we||{},ve=ge.boundary||"SheetJS";ve="------="+ve;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ve.slice(2)+'"',"","",""],_e=se.FullPaths[0],$e=_e,Ke=se.FileIndex[0],Be=1;Be<se.FullPaths.length;++Be)if($e=se.FullPaths[Be].slice(_e.length),Ke=se.FileIndex[Be],!(!Ke.size||!Ke.content||$e=="Sh33tJ5")){$e=$e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Wt){return"_x"+Wt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Wt){return"_u"+Wt.charCodeAt(0).toString(16)+"_"});for(var Ve=Ke.content,We=Sr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):B(Ve),ut=0,bt=Math.min(1024,We.length),Nt=0,vt=0;vt<=bt;++vt)(Nt=We.charCodeAt(vt))>=32&&Nt<128&&++ut;var At=ut>=bt*4/5;be.push(ve),be.push("Content-Location: "+(ge.root||"file:///C:/SheetJS/")+$e),be.push("Content-Transfer-Encoding: "+(At?"quoted-printable":"base64")),be.push("Content-Type: "+Vt(Ke,$e)),be.push(""),be.push(At?Ji(We):wr(We))}return be.push(ve+`--\r
`),be.join(`\r
`)}function si(se){var we={};return T(we,se),we}function ia(se,we,ge,ve){var be=ve&&ve.unsafe;be||T(se);var _e=!be&&Nr.find(se,we);if(!_e){var $e=se.FullPaths[0];we.slice(0,$e.length)==$e?$e=we:($e.slice(-1)!="/"&&($e+="/"),$e=($e+we).replace("//","/")),_e={name:a(we),type:2},se.FileIndex.push(_e),se.FullPaths.push($e),be||Nr.utils.cfb_gc(se)}return _e.content=ge,_e.size=ge?ge.length:0,ve&&(ve.CLSID&&(_e.clsid=ve.CLSID),ve.mt&&(_e.mt=ve.mt),ve.ct&&(_e.ct=ve.ct)),_e}function $n(se,we){T(se);var ge=Nr.find(se,we);if(ge){for(var ve=0;ve<se.FileIndex.length;++ve)if(se.FileIndex[ve]==ge)return se.FileIndex.splice(ve,1),se.FullPaths.splice(ve,1),!0}return!1}function In(se,we,ge){T(se);var ve=Nr.find(se,we);if(ve){for(var be=0;be<se.FileIndex.length;++be)if(se.FileIndex[be]==ve)return se.FileIndex[be].name=a(ge),se.FullPaths[be]=ge,!0}return!1}function Tn(se){b(se,!0)}return t.find=E,t.read=D,t.parse=u,t.write=ae,t.writeFile=W,t.utils={cfb_new:si,cfb_add:ia,cfb_del:$n,cfb_mov:In,cfb_gc:Tn,ReadShift:Ig,CheckField:Az,prep_blob:Ja,bconcat:Bu,use_zlib:N,_deflateRaw:mt,_inflateRaw:Ct,consts:ee},t}();function Rfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ul(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function VC(e){for(var t=[],r=Ul(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var db=new Date(1899,11,30,0,0,0);function Yi(e,t){var r=e.getTime(),n=db.getTime()+(e.getTimezoneOffset()-db.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var nz=new Date,Ffe=db.getTime()+(nz.getTimezoneOffset()-db.getTimezoneOffset())*6e4,oD=nz.getTimezoneOffset();function p5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Ffe),t.getTimezoneOffset()!==oD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-oD)*6e4),t}function $fe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var lD=new Date("2017-02-19T19:06:09.000Z"),az=isNaN(lD.getFullYear())?new Date("2/19/17"):lD,Bfe=az.getFullYear()==2017;function Ba(e,t){var r=new Date(e);if(Bfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(az.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Xh(e,t){if(Sr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ug(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ug(qU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ug(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ug(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ri(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ri(e[r]));return t}function Gn(e,t){for(var r="";r.length<t;)r+=e;return r}function nl(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Vfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function up(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Vfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var Ufe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function iz(e){return e?e.content&&e.type?Xh(e.content,!0):e.data?og(e.data):e.asNodeBuffer&&Sr?og(e.asNodeBuffer().toString("binary")):e.asBinary?og(e.asBinary()):e._data&&e._data.getContent?og(Xh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function sz(e){if(!e)return null;if(e.data)return X8(e.data);if(e.asNodeBuffer&&Sr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?X8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function zfe(e){return e&&e.name.slice(-4)===".bin"?sz(e):iz(e)}function so(e,t){for(var r=e.FullPaths||Ul(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function UC(e,t){var r=so(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function ua(e,t,r){if(!r)return zfe(UC(e,t));if(!t)return null;try{return ua(e,t)}catch{return null}}function Is(e,t,r){if(!r)return iz(UC(e,t));if(!t)return null;try{return Is(e,t)}catch{return null}}function qfe(e,t,r){return sz(UC(e,t))}function cD(e){for(var t=e.FullPaths||Ul(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Wfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Sr?n=ld(r):n=ufe(r),Nr.utils.cfb_add(e,t,n)}Nr.utils.cfb_add(e,t,r)}else e.file(t,r)}function oz(e,t){switch(t.type){case"base64":return Nr.read(e,{type:"base64"});case"binary":return Nr.read(e,{type:"binary"});case"buffer":case"array":return Nr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function cg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var lz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Hfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,uD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Gfe=/<[^>]*>/g,Pi=lz.match(uD)?uD:Gfe,Kfe=/<\w*:/,Yfe=/<(\/?)\w+:/;function Jt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Hfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function ql(e){return e.replace(Yfe,"<$1")}var cz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Xfe=VC(cz),Mr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return cz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Qfe=/[&<>'"]/g,Jfe=/[\u0000-\u001f]/g;function zC(e){var t=e+"";return t.replace(Qfe,function(r){return Xfe[r]}).replace(/\n/g,"<br/>").replace(Jfe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var fD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function En(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function CS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function hD(e){var t=Sf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function dD(e){return ld(e,"binary").toString("utf8")}var ox="foo bar baz",mn=Sr&&(dD(ox)==CS(ox)&&dD||hD(ox)==CS(ox)&&hD)||CS,ug=Sr?function(e){return ld(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Lv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),uz=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Zfe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),ehe=/<\/?(?:vt:)?variant>/g,the=/<(?:vt:)([^>]*)>([\s\S]*)</;function pD(e,t){var r=Jt(e),n=e.match(Zfe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(ehe,"").match(the);s&&a.push({v:mn(s[2]),t:s[1]})}),a}var rhe=/(^\s|\s$|\n)/;function nhe(e){return Ul(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function ahe(e,t,r){return"<"+e+(r!=null?nhe(r):"")+(t!=null?(t.match(rhe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function qC(e){if(Sr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return mn(cd(FC(e)));throw new Error("Bad input format: expected Buffer or string")}var Mv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ihe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},she=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ohe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function lhe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var mD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},gD=Sr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ld(t)})):mD(e)}:mD,vD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(pc(e,a)));return n.join("").replace(Ki,"")},WC=Sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Ki,""):vD(e,t,r)}:vD,yD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},fz=Sr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):yD(e,t,r)}:yD,xD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Jd(e,a)));return n.join("")},H1=Sr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):xD(t,r,n)}:xD,hz=function(e,t){var r=Os(e,t);return r>0?H1(e,t+4,t+4+r-1):""},dz=hz,pz=function(e,t){var r=Os(e,t);return r>0?H1(e,t+4,t+4+r-1):""},mz=pz,gz=function(e,t){var r=2*Os(e,t);return r>0?H1(e,t+4,t+4+r-1):""},vz=gz,yz=function(t,r){var n=Os(t,r);return n>0?WC(t,r+4,r+4+n):""},xz=yz,bz=function(e,t){var r=Os(e,t);return r>0?H1(e,t+4,t+4+r):""},wz=bz,_z=function(e,t){return ohe(e,t)},pb=_z,Sz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Sr&&(dz=function(t,r){if(!Buffer.isBuffer(t))return hz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},mz=function(t,r){if(!Buffer.isBuffer(t))return pz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},vz=function(t,r){if(!Buffer.isBuffer(t))return gz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},xz=function(t,r){if(!Buffer.isBuffer(t))return yz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},wz=function(t,r){if(!Buffer.isBuffer(t))return bz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},pb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):_z(t,r)},Sz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Jd=function(e,t){return e[t]},pc=function(e,t){return e[t+1]*256+e[t]},che=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Os=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},mh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},uhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ig(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Sr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(pc(this,c)),c+=2;e*=2;break;case"utf8":r=H1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=WC(this,this.l,this.l+e);break;case"wstr":return Ig.call(this,e,"dbcs");case"lpstr-ansi":r=dz(this,this.l),e=4+Os(this,this.l);break;case"lpstr-cp":r=mz(this,this.l),e=4+Os(this,this.l);break;case"lpwstr":r=vz(this,this.l),e=4+2*Os(this,this.l);break;case"lpp4":e=4+Os(this,this.l),r=xz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Os(this,this.l),r=wz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Jd(this,this.l+e++))!==0;)i.push(sx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=pc(this,this.l+e))!==0;)i.push(sx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Jd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(sx(pc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Jd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(sx(Jd(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Jd(this,this.l),this.l++,n;case 2:return n=(t==="i"?che:pc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?mh:uhe)(this,this.l),this.l+=4,n):(a=Os(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=pb(this,this.l):a=pb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=fz(this,this.l,e);break}}return this.l+=e,r}var fhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},hhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},dhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function phe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)dhe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,fhe(this,t,this.l);break;case 8:if(n=8,r==="f"){lhe(this,t,this.l);break}case 16:break;case-4:n=4,hhe(this,t,this.l);break}return this.l+=n,this}function Az(e,t){var r=fz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ja(e,t){e.l=t,e.read_shift=Ig,e.chk=Az,e.write_shift=phe}function Ni(e,t){e.l+=t}function ba(e){var t=Sf(e);return Ja(t,0),t}function Yc(e,t,r){if(e){var n,a,i;Ja(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=bb[o]||bb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function yT(){var e=[],t=Sr?256:2048,r=function(c){var u=ba(c);return Ja(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Bu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Dg(e,t,r){var n=ri(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function bD(e,t,r){var n=ri(e);return n.s=Dg(n.s,t.s,r),n.e=Dg(n.e,t.s,r),n}function jg(e,t){if(e.cRel&&e.c<0)for(e=ri(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ri(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=ir(e);return!e.cRel&&e.cRel!=null&&(r=vhe(r)),!e.rRel&&e.rRel!=null&&(r=mhe(r)),r}function NS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Aa(e.s.c)+":"+(e.e.cRel?"":"$")+Aa(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+ni(e.s.r)+":"+(e.e.rRel?"":"$")+ni(e.e.r):jg(e.s,t.biff)+":"+jg(e.e,t.biff)}function HC(e){return parseInt(ghe(e),10)-1}function ni(e){return""+(e+1)}function mhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function ghe(e){return e.replace(/\$(\d+)$/,"$1")}function GC(e){for(var t=yhe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Aa(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function vhe(e){return e.replace(/^([A-Z])/,"$$$1")}function yhe(e){return e.replace(/^\$([A-Z])/,"$1")}function xhe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Ui(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function ir(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Xp(e){var t=e.indexOf(":");return t==-1?{s:Ui(e),e:Ui(e)}:{s:Ui(e.slice(0,t)),e:Ui(e.slice(t+1))}}function Or(e,t){return typeof t>"u"||typeof t=="number"?Or(e.s,e.e):(typeof e!="string"&&(e=ir(e)),typeof t!="string"&&(t=ir(t)),e==t?e:e+":"+t)}function Yn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function wD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=xo(e.z,r?Yi(t):t)}catch{}try{return e.w=xo((e.XF||{}).numFmtId||(r?14:0),r?Yi(t):t)}catch{return""+t}}function Fc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?hd[e.v]||e.v:t==null?wD(e,e.v):wD(e,t))}function jf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Tz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ui(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Yn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||lr[14],n.cellDates?(d.t="d",d.w=xo(d.z,Yi(d.v))):(d.t="n",d.v=Yi(d.v),d.w=xo(d.z,d.v))):d.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(d.z=i[g][m].z),i[g][m]=d;else{var v=ir({c:m,r:g});i[v]&&i[v].z&&(d.z=i[v].z),i[v]=d}}}return c.s.c<1e7&&(i["!ref"]=Or(c)),i}function Qp(e,t){return Tz(null,e,t)}function bhe(e){return e.read_shift(4,"i")}function ki(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function whe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function KC(e,t){var r=e.l,n=e.read_shift(1),a=ki(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(whe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var _he=KC;function wo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function ud(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var She=ki;function YC(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ahe=ki,xT=YC;function XC(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?pb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):mh(t,0)>>2;return r?a/100:a}function Ez(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var fd=Ez;function Ai(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function The(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=jh[a];c&&(t.rgb=Fv(c));break;case 2:t.rgb=Fv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Ehe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function kz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function khe(e){return kz(e,1)}function Che(e){return kz(e,2)}var QC=2,ss=3,lx=11,_D=12,mb=19,cx=64,Nhe=65,Phe=71,Ohe=4108,Ihe=4126,Da=80,Cz=81,Dhe=[Da,Cz],jhe={1:{n:"CodePage",t:QC},2:{n:"Category",t:Da},3:{n:"PresentationFormat",t:Da},4:{n:"ByteCount",t:ss},5:{n:"LineCount",t:ss},6:{n:"ParagraphCount",t:ss},7:{n:"SlideCount",t:ss},8:{n:"NoteCount",t:ss},9:{n:"HiddenCount",t:ss},10:{n:"MultimediaClipCount",t:ss},11:{n:"ScaleCrop",t:lx},12:{n:"HeadingPairs",t:Ohe},13:{n:"TitlesOfParts",t:Ihe},14:{n:"Manager",t:Da},15:{n:"Company",t:Da},16:{n:"LinksUpToDate",t:lx},17:{n:"CharacterCount",t:ss},19:{n:"SharedDoc",t:lx},22:{n:"HyperlinksChanged",t:lx},23:{n:"AppVersion",t:ss,p:"version"},24:{n:"DigSig",t:Nhe},26:{n:"ContentType",t:Da},27:{n:"ContentStatus",t:Da},28:{n:"Language",t:Da},29:{n:"Version",t:Da},255:{},2147483648:{n:"Locale",t:mb},2147483651:{n:"Behavior",t:mb},1919054434:{}},Lhe={1:{n:"CodePage",t:QC},2:{n:"Title",t:Da},3:{n:"Subject",t:Da},4:{n:"Author",t:Da},5:{n:"Keywords",t:Da},6:{n:"Comments",t:Da},7:{n:"Template",t:Da},8:{n:"LastAuthor",t:Da},9:{n:"RevNumber",t:Da},10:{n:"EditTime",t:cx},11:{n:"LastPrinted",t:cx},12:{n:"CreatedDate",t:cx},13:{n:"ModifiedDate",t:cx},14:{n:"PageCount",t:ss},15:{n:"WordCount",t:ss},16:{n:"CharCount",t:ss},17:{n:"Thumbnail",t:Phe},18:{n:"Application",t:Da},19:{n:"DocSecurity",t:ss},255:{},2147483648:{n:"Locale",t:mb},2147483651:{n:"Behavior",t:mb},1919054434:{}},SD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Mhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Rhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Fhe=Rhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),jh=ri(Fhe),hd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Nz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},AD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function $he(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Bhe(e){var t=$he();if(!e||!e.match)return t;var r={};if((e.match(Pi)||[]).forEach(function(n){var a=Jt(n);switch(a[0].replace(Kfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[AD[a.ContentType]]!==void 0&&t[AD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ihe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var y0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function bT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Pi)||[]).forEach(function(a){var i=Jt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:cg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Vhe="application/vnd.oasis.opendocument.spreadsheet";function Uhe(e,t){for(var r=qC(e),n,a;n=Mv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Jt(n[0],!1),a.path=="/"&&a.type!==Vhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Mg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],zhe=function(){for(var e=new Array(Mg.length),t=0;t<Mg.length;++t){var r=Mg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Pz(e){var t={};e=mn(e);for(var r=0;r<Mg.length;++r){var n=Mg[r],a=e.match(zhe[r]);a!=null&&a.length>0&&(t[n[1]]=Mr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ba(t[n[1]]))}return t}var qhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Oz(e,t,r,n){var a=[];if(typeof e=="string")a=pD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?pD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Whe(e,t,r){var n={};return t||(t={}),e=mn(e),qhe.forEach(function(a){var i=(e.match(Lv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Mr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Oz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Hhe=/<[^>]+>[^<]*/g;function Ghe(e,t){var r={},n="",a=e.match(Hhe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Jt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Mr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Mr(u);break;case"bool":r[n]=En(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ba(u);break;case"cy":case"error":r[n]=Mr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Khe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},PS;function Yhe(e,t,r){PS||(PS=VC(Khe)),t=PS[t]||t,e[t]=r}function JC(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Iz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Dz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function jz(e,t,r){return t===31?Dz(e):Iz(e,t,r)}function wT(e,t,r){return jz(e,t,r===!1?0:4)}function Xhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return jz(e,t,0)}function Qhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Ki,""),e.l-a&2&&(e.l+=2)}return r}function Jhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Ki,"");return r}function Zhe(e){var t=e.l,r=gb(e,Cz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=gb(e,ss);return[r,n]}function ede(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Zhe(e));return r}function TD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Ki,"").replace(lg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Lz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function tde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function gb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==_D&&n!==t&&Dhe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===_D?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Iz(e,n,4).replace(Ki,"");case 31:return Dz(e);case 64:return JC(e);case 65:return Lz(e);case 71:return tde(e);case 80:return wT(e,n,!i.raw).replace(Ki,"");case 81:return Xhe(e,n).replace(Ki,"");case 4108:return ede(e);case 4126:case 4127:return n==4127?Qhe(e):Jhe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function ED(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(w,_){return w[1]-_[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=gb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Qo(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=gb(e,QC),Qo(o),l!==-1){var m=e.l;e.l=i[l][1],c=TD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=TD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Lz(e);break;case 30:e.l+=4,y=wT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=wT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Jn(e,4);break;case 64:e.l+=4,y=Ba(JC(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function kD(e,t,r){var n=e.content;if(!n)return{};Ja(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Nr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=ED(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=ED(n,null)}catch{}for(d in g)h[d]=g[d];return h.FMTID=[i,s],h}function Cu(e,t){return e.read_shift(t),null}function rde(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Jn(e,t){return e.read_shift(t)===1}function fa(e){return e.read_shift(2,"u")}function Mz(e,t){return rde(e,t,fa)}function nde(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function G1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function ade(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Qh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function K1(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Qh(e,n,r)}function dd(e,t,r){if(r.biff>5)return K1(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ide(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function sde(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Ki,"");return n&&(e.l+=24),a}function ode(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Ki,"");return r+s}function lde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return sde(e);case"0303000000000000c000000000000046":return ode(e);default:throw new Error("Unsupported Moniker "+r)}}function ux(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Ki,""):"";return r}function cde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=ux(e,r-e.l)),a&128&&(s=ux(e,r-e.l)),(a&257)===257&&(o=ux(e,r-e.l)),(a&257)===1&&(l=lde(e,r-e.l)),a&8&&(c=ux(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=JC(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Rz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Fz(e,t){var r=Rz(e);return r[3]=0,r}function Wl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function ude(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function fde(e,t,r){return t===0?"":dd(e,t,r)}function hde(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function $z(e){var t=e.read_shift(2),r=XC(e);return[t,r]}function dde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=G1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function m5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Bz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var pde=Bz;function Vz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function mde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function gde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function fi(e){e.l+=2,e.l+=e.read_shift(2)}var vde={0:fi,4:fi,5:fi,6:fi,7:gde,8:fi,9:fi,10:fi,11:fi,12:fi,13:mde,14:fi,15:fi,16:fi,17:fi,18:fi,19:fi,20:fi,21:Vz};function yde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(vde[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function fx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function xde(e,t){return t===0||e.read_shift(2),1200}function bde(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=dd(e,0,r);return e.read_shift(t+n-e.l),a}function wde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function _de(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=G1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Sde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(ade(e));return i.Count=n,i.Unique=a,i}function Ade(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function Tde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Ede(e){var t=ude(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function kde(e){return e.read_shift(2),e.read_shift(4)}function CD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Cde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Nde(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Pde(){}function Ode(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=G1(e,0,r),n}function Ide(e){var t=Wl(e);return t.isst=e.read_shift(4),t}function Dde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Wl(e);r.biff==2&&e.l++;var i=K1(e,n-e.l,r);return a.val=i,a}function jde(e,t,r){var n=e.read_shift(2),a=dd(e,0,r);return[n,a]}var Lde=dd;function ND(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Mde(e){var t=e.read_shift(2),r=e.read_shift(2),n=$z(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Rde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push($z(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Fde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function $de(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Mhe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Bde(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=$de(e,t,n.fStyle,r),n}function Vde(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function PD(e,t,r){var n=Wl(e);(r.biff==2||t==9)&&++e.l;var a=nde(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function Ude(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Wl(e),a=Ai(e);return n.val=a,n}var OD=fde;function zde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Qh(e,i),o=[];n>e.l;)o.push(K1(e));return[i,a,s,o]}function ID(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=dde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var qde=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function DD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Qh(e,s,r);a&32&&(c=qde[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:Tge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Uz(e,t,r){if(r.biff<8)return Wde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(hde(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Wde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=G1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Hde(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Qh(e,n,r),s=Qh(e,a,r);return[i,s]}function Gde(e,t,r){var n=Bz(e);e.l++;var a=e.read_shift(1);return t-=8,[Ege(e,t,r),a,n]}function jD(e,t,r){var n=pde(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Sge(e,t,r)]}function Kde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Yde(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=dd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Xde(e,t,r){return Yde(e,t,r)}function Qde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(m5(e));return r}function Jde(e,t,r){if(r&&r.biff<8)return e0e(e,t,r);var n=Vz(e),a=yde(e,t-22,n[1]);return{cmo:n,ft:a}}var Zde={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function e0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Zde[n]||Ni)(e,t,r)),{cmo:[a,n,i],ft:s}}function t0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=ide(e,6,r);var o=e.read_shift(2);e.read_shift(2),fa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Qh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function r0e(e,t){var r=m5(e);e.l+=16;var n=cde(e,t-24);return[r,n]}function n0e(e,t){e.read_shift(2);var r=m5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Ki,""),[r,n]}function a0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=SD[r]||r,r=e.read_shift(2),t[1]=SD[r]||r,t}function i0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Fz(e));return r}function s0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Fz(e));return r}function o0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function zz(e,t,r){if(!r.cellStyles)return Ni(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function l0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ai(e),r.footer=Ai(e),e.l+=2),r}function c0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var u0e=Wl,f0e=Mz,h0e=K1;function d0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function p0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Wl(e);++e.l;var a=dd(e,t-7,r);return n.t="str",n.val=a,n}function m0e(e){var t=Wl(e);++e.l;var r=Ai(e);return t.t="n",t.val=r,t}function g0e(e){var t=Wl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function v0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function y0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function x0e(e,t,r){var n=e.l+t,a=Wl(e),i=e.read_shift(2),s=Qh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var b0e=[2,3,48,49,131,139,140,245],LD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=VC({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Sf(1);switch(l.type){case"base64":u=Yo(Vs(o));break;case"binary":u=Yo(o);break;case"buffer":case"array":u=o;break}Ja(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var _=[],O={},P=Math.min(u.length,f==2?521:v-10-(d?264:0)),D=g?32:11;u.l<P&&u[u.l]!=13;)switch(O={},O.name=$u.utils.decode(w,u.slice(u.l,u.l+D)).replace(/[\u0000\r\n].*$/g,""),u.l+=D,O.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),f==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&_.push(O),f!=2&&(u.l+=g?13:14),O.type){case"B":(!d||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,A=0;for(c[0]=[],A=0;A!=_.length;++A)c[0][A]=_[A].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],A=0,A=0;A!=_.length;++A){var b=u.slice(u.l,u.l+_[A].len);u.l+=_[A].len,Ja(b,0);var I=$u.utils.decode(w,b);switch(_[A].type){case"C":I.trim().length&&(c[T][A]=I.replace(/\s+$/,""));break;case"D":I.length===8?c[T][A]=new Date(+I.slice(0,4),+I.slice(4,6)-1,+I.slice(6,8)):c[T][A]=I;break;case"F":c[T][A]=parseFloat(I.trim());break;case"+":case"I":c[T][A]=g?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(I.trim().toUpperCase()){case"Y":case"T":c[T][A]=!0;break;case"N":case"F":c[T][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+I+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][A]="##MEMO##"+(g?parseInt(I.trim(),10):b.read_shift(4));break;case"N":I=I.replace(/\u0000/g,"").trim(),I&&I!="."&&(c[T][A]=+I||0);break;case"@":c[T][A]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":c[T][A]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":c[T][A]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][A]=-b.read_shift(-8,"f");break;case"B":if(d&&_[A].len==8){c[T][A]=b.read_shift(8,"f");break}case"G":case"P":b.l+=_[A].len;break;case"0":if(_[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Qp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return jf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Qo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=yT(),f=CT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var _=Yn(o["!ref"]),O=[],P=[],D=[];for(m=0;m<=_.e.c-_.s.c;++m){var T="",A="",b=0,I=[];for(v=0;v<d.length;++v)d[v][m]!=null&&I.push(d[v][m]);if(I.length==0||h[m]==null){O[m]="?";continue}for(v=0;v<I.length;++v){switch(typeof I[v]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=I[v]instanceof Date?"D":"C";break;default:A="C"}b=Math.max(b,String(I[v]).length),T=T&&T!=A?"C":A}b>250&&(b=250),A=((g[m]||{}).DBF||{}).type,A=="C"&&g[m].DBF.len>b&&(b=g[m].DBF.len),T=="B"&&A=="N"&&(T="N",D[m]=g[m].DBF.dec,b=g[m].DBF.len),P[m]=T=="C"||A=="N"?b:i[T]||0,w+=P[m],O[m]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,d.length),E.write_shift(2,296+32*y),E.write_shift(2,w),m=0;m<4;++m)E.write_shift(4,0);for(E.write_shift(4,0|(+t[UU]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var C=u.next(32),L=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);C.write_shift(1,L,"sbcs"),C.write_shift(1,O[m]=="?"?"C":O[m],"sbcs"),C.write_shift(4,v),C.write_shift(1,P[m]||i[O[m]]||0),C.write_shift(1,D[m]||0),C.write_shift(1,2),C.write_shift(4,0),C.write_shift(1,0),C.write_shift(4,0),C.write_shift(4,0),v+=P[m]||i[O[m]]||0}var H=u.next(264);for(H.write_shift(4,13),m=0;m<65;++m)H.write_shift(4,0);for(m=0;m<d.length;++m){var V=u.next(w);for(V.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":V.write_shift(1,d[m][v]==null?63:d[m][v]?84:70);break;case"B":V.write_shift(8,d[m][v]||0,"f");break;case"N":var Z="0";for(typeof d[m][v]=="number"&&(Z=d[m][v].toFixed(D[v]||0)),y=0;y<P[v]-Z.length;++y)V.write_shift(1,32);V.write_shift(1,Z,"sbcs");break;case"D":d[m][v]?(V.write_shift(4,("0000"+d[m][v].getFullYear()).slice(-4),"sbcs"),V.write_shift(2,("00"+(d[m][v].getMonth()+1)).slice(-2),"sbcs"),V.write_shift(2,("00"+d[m][v].getDate()).slice(-2),"sbcs")):V.write_shift(8,"00000000","sbcs");break;case"C":var ee=String(d[m][v]!=null?d[m][v]:"").slice(0,P[v]);for(V.write_shift(1,ee,"sbcs"),y=0;y<P[v]-ee.length;++y)V.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),w0e=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ul(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var g=e[d];return typeof g=="number"?Q8(g):g},n=function(h,d,g){var m=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:Q8(m)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i(Vs(h),d);case"binary":return i(h,d);case"buffer":return i(Sr&&Buffer.isBuffer(h)?h.toString("binary"):cd(h),d);case"array":return i(Xh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,_=[],O=[],P=null,D={},T=[],A=[],b=[],I=0,E;for(+d.codepage>=0&&Qo(+d.codepage);y!==g.length;++y){I=0;var C=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),L=C.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),H=L[0],V;if(C.length>0)switch(H){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":L[1].charAt(0)=="P"&&O.push(C.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,ee=!1,W=!1,B=!1,ae=-1,q=-1;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"A":break;case"X":v=parseInt(L[w].slice(1))-1,ee=!0;break;case"Y":for(m=parseInt(L[w].slice(1))-1,ee||(v=0),E=_.length;E<=m;++E)_[E]=[];break;case"K":V=L[w].slice(1),V.charAt(0)==='"'?V=V.slice(1,V.length-1):V==="TRUE"?V=!0:V==="FALSE"?V=!1:isNaN(nl(V))?isNaN(up(V).getDate())||(V=Ba(V)):(V=nl(V),P!==null&&Yp(P)&&(V=p5(V))),Z=!0;break;case"E":B=!0;var N=I0(L[w].slice(1),{r:m,c:v});_[m][v]=[_[m][v],N];break;case"S":W=!0,_[m][v]=[_[m][v],"S5S"];break;case"G":break;case"R":ae=parseInt(L[w].slice(1))-1;break;case"C":q=parseInt(L[w].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}if(Z&&(_[m][v]&&_[m][v].length==2?_[m][v][0]=V:_[m][v]=V,P=null),W){if(B)throw new Error("SYLK shared formula cannot have own formula");var R=ae>-1&&_[ae][q];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");_[m][v][1]=Zz(R[1],{r:m-ae,c:v-q})}break;case"F":var U=0;for(w=1;w<L.length;++w)switch(L[w].charAt(0)){case"X":v=parseInt(L[w].slice(1))-1,++U;break;case"Y":for(m=parseInt(L[w].slice(1))-1,E=_.length;E<=m;++E)_[E]=[];break;case"M":I=parseInt(L[w].slice(1))/20;break;case"F":break;case"G":break;case"P":P=O[parseInt(L[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=L[w].slice(1).split(" "),E=parseInt(b[0],10);E<=parseInt(b[1],10);++E)I=parseInt(b[2],10),A[E-1]=I===0?{hidden:!0}:{wch:I},fp(A[E-1]);break;case"C":v=parseInt(L[w].slice(1))-1,A[v]||(A[v]={});break;case"R":m=parseInt(L[w].slice(1))-1,T[m]||(T[m]={}),I>0?(T[m].hpt=I,T[m].hpx=$v(I)):I===0&&(T[m].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}U<1&&(P=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+C)}}return T.length>0&&(D["!rows"]=T),A.length>0&&(D["!cols"]=A),d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),[_,D]}function s(h,d){var g=a(h,d),m=g[0],v=g[1],y=Qp(m,d);return Ul(v).forEach(function(w){y[w]=v[w]}),y}function o(h,d){return jf(s(h,d),d)}function l(h,d,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+ome(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,d){d.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=yb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=xb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,d){d.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Xz(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,d){var g=["ID;PWXL;N;E"],m=[],v=Yn(h["!ref"]),y,w=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var P=v.s.c;P<=v.e.c;++P){var D=ir({r:O,c:P});y=w?(h[O]||[])[P]:h[D],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,O,P))}return g.join(_)+_+m.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),_0e=function(){function e(i,s){switch(s.type){case"base64":return t(Vs(i),s);case"binary":return t(i,s);case"buffer":return t(Sr&&Buffer.isBuffer(i)?i.toString("binary"):cd(i),s);case"array":return t(Xh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+d){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(nl(g))?isNaN(up(g).getDate())?f[l][c]=g:f[l][c]=Ba(g):f[l][c]=nl(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Qp(e(i,s),s)}function n(i,s){return jf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Yn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=ir({r:d,c:g});if(f=h?(l[d]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=xo(f.z||lr[14],Yi(Ba(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),S0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==d.length;++v){var w=d[v].trim().split(":");if(w[0]==="cell"){var _=Ui(w[1]);if(y.length<=_.r)for(g=y.length;g<=_.r;++g)y[g]||(y[g]=[]);switch(g=_.r,m=_.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var O=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Qp(r(f,h),h)}function a(f,h){return jf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,m="",v=Xp(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var _=v.s.c;_<=v.e.c;++_)if(m=ir({r:w,c:_}),g=y?(f[w]||[])[_]:f[m],!(!g||g.v==null||g.t==="z")){switch(d=["cell",m,"t"],g.t){case"s":case"str":d.push(t(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=t(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var O=Yi(Ba(g.v));d[2]="vtc",d[3]="nd",d[4]=""+O,d[5]=g.w||xo(g.z||lr[14],O);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Rv=function(){function e(u,f,h,d,g){g.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(nl(u))?isNaN(up(u).getDate())?f[h][d]=u:f[h][d]=Ba(u):f[h][d]=nl(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){d[w]=[];var _=0;for(e(g[w].slice(0,v).trim(),d,w,_,h),_=1;_<=(g[w].length-v)/10+1;++_)e(g[w].slice(v+(_-1)*10,v+_*10).trim(),d,w,_,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,g=0;d<u.length;++d)(g=u.charCodeAt(d))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},d="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var v=0,y=0,w=0,_=0,O=0,P=d.charCodeAt(0),D=!1,T=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var b=h.dateNF!=null?jfe(h.dateNF):null;function I(){var E=u.slice(_,O),C={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)C.t="z";else if(h.raw)C.t="s",C.v=E;else if(E.trim().length===0)C.t="s",C.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(C.t="s",C.v=E.slice(2,-1).replace(/""/g,'"')):cme(E)?(C.t="n",C.f=E.slice(1)):(C.t="s",C.v=E);else if(E=="TRUE")C.t="b",C.v=!0;else if(E=="FALSE")C.t="b",C.v=!1;else if(!isNaN(w=nl(E)))C.t="n",h.cellText!==!1&&(C.w=E),C.v=w;else if(!isNaN(up(E).getDate())||b&&E.match(b)){C.z=h.dateNF||lr[14];var L=0;b&&E.match(b)&&(E=Lfe(E,h.dateNF,E.match(b)||[]),L=1),h.cellDates?(C.t="d",C.v=Ba(E,L)):(C.t="n",C.v=Yi(Ba(E,L))),h.cellText!==!1&&(C.w=xo(C.z,C.v instanceof Date?Yi(C.v):C.v)),h.cellNF||delete C.z}else C.t="s",C.v=E;if(C.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=C):g[ir({c:y,r:v})]=C),_=O+1,A=u.charCodeAt(_),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),T==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(T=u.charCodeAt(O)){case 34:A===34&&(D=!D);break;case P:case 10:case 13:if(!D&&I())break e;break}return O-_>0&&I(),g["!ref"]=Or(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Qp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:sN(u,f);switch(f.type){case"base64":h=Vs(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof $u<"u"?h=$u.utils.decode(f.codepage,u):h=Sr&&Buffer.isBuffer(u)?u.toString("binary"):cd(u);break;case"array":h=Xh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=mn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=mn(h):f.type=="binary"&&typeof $u<"u"&&f.codepage&&(h=$u.utils.decode(f.codepage,$u.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?S0e.to_sheet(f.type=="string"?h:mn(h),f):s(h,f)}function l(u,f){return jf(o(u,f),f)}function c(u){for(var f=[],h=Yn(u["!ref"]),d,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=ir({r:m,c:y});if(d=g?(u[m]||[])[y]:u[w],!d||d.v==null){v.push("          ");continue}for(var _=(d.w||(Fc(d),d.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function A0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=w0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Rv.to_workbook(e,t)}}var Rg=function(){function e(N,R,U){if(N){Ja(N,N.l||0);for(var K=U.Enum||ae;N.l<N.length;){var G=N.read_shift(2),ie=K[G]||K[65535],ue=N.read_shift(2),J=N.l+ue,ce=ie.f&&ie.f(N,ue,U);if(N.l=J,R(ce,ie,G))return}}}function t(N,R){switch(R.type){case"base64":return r(Yo(Vs(N)),R);case"binary":return r(Yo(N),R);case"buffer":case"array":return r(N,R)}throw"Unsupported type "+R.type}function r(N,R){if(!N)return N;var U=R||{},K=U.dense?[]:{},G="Sheet1",ie="",ue=0,J={},ce=[],pe=[],Y={s:{r:0,c:0},e:{r:0,c:0}},fe=U.sheetRows||0;if(N[2]==0&&(N[3]==8||N[3]==9)&&N.length>=16&&N[14]==5&&N[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(N[2]==2)U.Enum=ae,e(N,function(Te,Ee,Ce){switch(Ce){case 0:U.vers=Te,Te>=4096&&(U.qpro=!0);break;case 6:Y=Te;break;case 204:Te&&(ie=Te);break;case 222:ie=Te;break;case 15:case 51:U.qpro||(Te[1].v=Te[1].v.slice(1));case 13:case 14:case 16:Ce==14&&(Te[2]&112)==112&&(Te[2]&15)>1&&(Te[2]&15)<15&&(Te[1].z=U.dateNF||lr[14],U.cellDates&&(Te[1].t="d",Te[1].v=p5(Te[1].v))),U.qpro&&Te[3]>ue&&(K["!ref"]=Or(Y),J[G]=K,ce.push(G),K=U.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Te[3],G=ie||"Sheet"+(ue+1),ie="");var He=U.dense?(K[Te[0].r]||[])[Te[0].c]:K[ir(Te[0])];if(He){He.t=Te[1].t,He.v=Te[1].v,Te[1].z!=null&&(He.z=Te[1].z),Te[1].f!=null&&(He.f=Te[1].f);break}U.dense?(K[Te[0].r]||(K[Te[0].r]=[]),K[Te[0].r][Te[0].c]=Te[1]):K[ir(Te[0])]=Te[1];break}},U);else if(N[2]==26||N[2]==14)U.Enum=q,N[2]==14&&(U.qpro=!0,N.l=0),e(N,function(Te,Ee,Ce){switch(Ce){case 204:G=Te;break;case 22:Te[1].v=Te[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Te[3]>ue&&(K["!ref"]=Or(Y),J[G]=K,ce.push(G),K=U.dense?[]:{},Y={s:{r:0,c:0},e:{r:0,c:0}},ue=Te[3],G="Sheet"+(ue+1)),fe>0&&Te[0].r>=fe)break;U.dense?(K[Te[0].r]||(K[Te[0].r]=[]),K[Te[0].r][Te[0].c]=Te[1]):K[ir(Te[0])]=Te[1],Y.e.c<Te[0].c&&(Y.e.c=Te[0].c),Y.e.r<Te[0].r&&(Y.e.r=Te[0].r);break;case 27:Te[14e3]&&(pe[Te[14e3][0]]=Te[14e3][1]);break;case 1537:pe[Te[0]]=Te[1],Te[0]==ue&&(G=Te[1]);break}},U);else throw new Error("Unrecognized LOTUS BOF "+N[2]);if(K["!ref"]=Or(Y),J[ie||G]=K,ce.push(ie||G),!pe.length)return{SheetNames:ce,Sheets:J};for(var Se={},ye=[],te=0;te<pe.length;++te)J[ce[te]]?(ye.push(pe[te]||ce[te]),Se[pe[te]]=J[pe[te]]||J[ce[te]]):(ye.push(pe[te]),Se[pe[te]]={"!ref":"A1"});return{SheetNames:ye,Sheets:Se}}function n(N,R){var U=R||{};if(+U.codepage>=0&&Qo(+U.codepage),U.type=="string")throw new Error("Cannot write WK1 to JS string");var K=yT(),G=Yn(N["!ref"]),ie=Array.isArray(N),ue=[];Mo(K,0,i(1030)),Mo(K,6,l(G));for(var J=Math.min(G.e.r,8191),ce=G.s.r;ce<=J;++ce)for(var pe=ni(ce),Y=G.s.c;Y<=G.e.c;++Y){ce===G.s.r&&(ue[Y]=Aa(Y));var fe=ue[Y]+pe,Se=ie?(N[ce]||[])[Y]:N[fe];if(!(!Se||Se.t=="z"))if(Se.t=="n")(Se.v|0)==Se.v&&Se.v>=-32768&&Se.v<=32767?Mo(K,13,d(ce,Y,Se.v)):Mo(K,14,m(ce,Y,Se.v));else{var ye=Fc(Se);Mo(K,15,f(ce,Y,ye.slice(0,239)))}}return Mo(K,1),K.end()}function a(N,R){var U=R||{};if(+U.codepage>=0&&Qo(+U.codepage),U.type=="string")throw new Error("Cannot write WK3 to JS string");var K=yT();Mo(K,0,s(N));for(var G=0,ie=0;G<N.SheetNames.length;++G)(N.Sheets[N.SheetNames[G]]||{})["!ref"]&&Mo(K,27,B(N.SheetNames[G],ie++));var ue=0;for(G=0;G<N.SheetNames.length;++G){var J=N.Sheets[N.SheetNames[G]];if(!(!J||!J["!ref"])){for(var ce=Yn(J["!ref"]),pe=Array.isArray(J),Y=[],fe=Math.min(ce.e.r,8191),Se=ce.s.r;Se<=fe;++Se)for(var ye=ni(Se),te=ce.s.c;te<=ce.e.c;++te){Se===ce.s.r&&(Y[te]=Aa(te));var Te=Y[te]+ye,Ee=pe?(J[Se]||[])[te]:J[Te];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")Mo(K,23,I(Se,te,ue,Ee.v));else{var Ce=Fc(Ee);Mo(K,22,T(Se,te,ue,Ce.slice(0,239)))}}++ue}}return Mo(K,1),K.end()}function i(N){var R=ba(2);return R.write_shift(2,N),R}function s(N){var R=ba(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var U=0,K=0,G=0,ie=0;ie<N.SheetNames.length;++ie){var ue=N.SheetNames[ie],J=N.Sheets[ue];if(!(!J||!J["!ref"])){++G;var ce=Xp(J["!ref"]);U<ce.e.r&&(U=ce.e.r),K<ce.e.c&&(K=ce.e.c)}}return U>8191&&(U=8191),R.write_shift(2,U),R.write_shift(1,G),R.write_shift(1,K),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(N,R,U){var K={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&U.qpro?(K.s.c=N.read_shift(1),N.l++,K.s.r=N.read_shift(2),K.e.c=N.read_shift(1),N.l++,K.e.r=N.read_shift(2),K):(K.s.c=N.read_shift(2),K.s.r=N.read_shift(2),R==12&&U.qpro&&(N.l+=2),K.e.c=N.read_shift(2),K.e.r=N.read_shift(2),R==12&&U.qpro&&(N.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(N){var R=ba(8);return R.write_shift(2,N.s.c),R.write_shift(2,N.s.r),R.write_shift(2,N.e.c),R.write_shift(2,N.e.r),R}function c(N,R,U){var K=[{c:0,r:0},{t:"n",v:0},0,0];return U.qpro&&U.vers!=20768?(K[0].c=N.read_shift(1),K[3]=N.read_shift(1),K[0].r=N.read_shift(2),N.l+=2):(K[2]=N.read_shift(1),K[0].c=N.read_shift(2),K[0].r=N.read_shift(2)),K}function u(N,R,U){var K=N.l+R,G=c(N,R,U);if(G[1].t="s",U.vers==20768){N.l++;var ie=N.read_shift(1);return G[1].v=N.read_shift(ie,"utf8"),G}return U.qpro&&N.l++,G[1].v=N.read_shift(K-N.l,"cstr"),G}function f(N,R,U){var K=ba(7+U.length);K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,N),K.write_shift(1,39);for(var G=0;G<K.length;++G){var ie=U.charCodeAt(G);K.write_shift(1,ie>=128?95:ie)}return K.write_shift(1,0),K}function h(N,R,U){var K=c(N,R,U);return K[1].v=N.read_shift(2,"i"),K}function d(N,R,U){var K=ba(7);return K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,N),K.write_shift(2,U,"i"),K}function g(N,R,U){var K=c(N,R,U);return K[1].v=N.read_shift(8,"f"),K}function m(N,R,U){var K=ba(13);return K.write_shift(1,255),K.write_shift(2,R),K.write_shift(2,N),K.write_shift(8,U,"f"),K}function v(N,R,U){var K=N.l+R,G=c(N,R,U);if(G[1].v=N.read_shift(8,"f"),U.qpro)N.l=K;else{var ie=N.read_shift(2);O(N.slice(N.l,N.l+ie),G),N.l+=ie}return G}function y(N,R,U){var K=R&32768;return R&=-32769,R=(K?N:0)+(R>=8192?R-16384:R),(K?"":"$")+(U?Aa(R):ni(R))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(N,R){Ja(N,0);for(var U=[],K=0,G="",ie="",ue="",J="";N.l<N.length;){var ce=N[N.l++];switch(ce){case 0:U.push(N.read_shift(8,"f"));break;case 1:ie=y(R[0].c,N.read_shift(2),!0),G=y(R[0].r,N.read_shift(2),!1),U.push(ie+G);break;case 2:{var pe=y(R[0].c,N.read_shift(2),!0),Y=y(R[0].r,N.read_shift(2),!1);ie=y(R[0].c,N.read_shift(2),!0),G=y(R[0].r,N.read_shift(2),!1),U.push(pe+Y+":"+ie+G)}break;case 3:if(N.l<N.length){console.error("WK1 premature formula end");return}break;case 4:U.push("("+U.pop()+")");break;case 5:U.push(N.read_shift(2));break;case 6:{for(var fe="";ce=N[N.l++];)fe+=String.fromCharCode(ce);U.push('"'+fe.replace(/"/g,'""')+'"')}break;case 8:U.push("-"+U.pop());break;case 23:U.push("+"+U.pop());break;case 22:U.push("NOT("+U.pop()+")");break;case 20:case 21:J=U.pop(),ue=U.pop(),U.push(["AND","OR"][ce-20]+"("+ue+","+J+")");break;default:if(ce<32&&_[ce])J=U.pop(),ue=U.pop(),U.push(ue+_[ce]+J);else if(w[ce]){if(K=w[ce][1],K==69&&(K=N[N.l++]),K>U.length){console.error("WK1 bad formula parse 0x"+ce.toString(16)+":|"+U.join("|")+"|");return}var Se=U.slice(-K);U.length-=K,U.push(w[ce][0]+"("+Se.join(",")+")")}else return ce<=7?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=24?console.error("WK1 unsupported op "+ce.toString(16)):ce<=30?console.error("WK1 invalid opcode "+ce.toString(16)):ce<=115?console.error("WK1 unsupported function opcode "+ce.toString(16)):console.error("WK1 unrecognized opcode "+ce.toString(16))}}U.length==1?R[1].f=""+U[0]:console.error("WK1 bad formula parse |"+U.join("|")+"|")}function P(N){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=N.read_shift(2),R[3]=N[N.l++],R[0].c=N[N.l++],R}function D(N,R){var U=P(N);return U[1].t="s",U[1].v=N.read_shift(R-4,"cstr"),U}function T(N,R,U,K){var G=ba(6+K.length);G.write_shift(2,N),G.write_shift(1,U),G.write_shift(1,R),G.write_shift(1,39);for(var ie=0;ie<K.length;++ie){var ue=K.charCodeAt(ie);G.write_shift(1,ue>=128?95:ue)}return G.write_shift(1,0),G}function A(N,R){var U=P(N);U[1].v=N.read_shift(2);var K=U[1].v>>1;if(U[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return U[1].v=K,U}function b(N,R){var U=P(N),K=N.read_shift(4),G=N.read_shift(4),ie=N.read_shift(2);if(ie==65535)return K===0&&G===3221225472?(U[1].t="e",U[1].v=15):K===0&&G===3489660928?(U[1].t="e",U[1].v=42):U[1].v=0,U;var ue=ie&32768;return ie=(ie&32767)-16446,U[1].v=(1-ue*2)*(G*Math.pow(2,ie+32)+K*Math.pow(2,ie)),U}function I(N,R,U,K){var G=ba(14);if(G.write_shift(2,N),G.write_shift(1,U),G.write_shift(1,R),K==0)return G.write_shift(4,0),G.write_shift(4,0),G.write_shift(2,65535),G;var ie=0,ue=0,J=0,ce=0;return K<0&&(ie=1,K=-K),ue=Math.log2(K)|0,K/=Math.pow(2,ue-31),ce=K>>>0,ce&2147483648||(K/=2,++ue,ce=K>>>0),K-=ce,ce|=2147483648,ce>>>=0,K*=Math.pow(2,32),J=K>>>0,G.write_shift(4,J),G.write_shift(4,ce),ue+=16383+(ie?32768:0),G.write_shift(2,ue),G}function E(N,R){var U=b(N);return N.l+=R-14,U}function C(N,R){var U=P(N),K=N.read_shift(4);return U[1].v=K>>6,U}function L(N,R){var U=P(N),K=N.read_shift(8,"f");return U[1].v=K,U}function H(N,R){var U=L(N);return N.l+=R-10,U}function V(N,R){return N[N.l+R-1]==0?N.read_shift(R,"cstr"):""}function Z(N,R){var U=N[N.l++];U>R-1&&(U=R-1);for(var K="";K.length<U;)K+=String.fromCharCode(N[N.l++]);return K}function ee(N,R,U){if(!(!U.qpro||R<21)){var K=N.read_shift(1);N.l+=17,N.l+=1,N.l+=2;var G=N.read_shift(R-21,"cstr");return[K,G]}}function W(N,R){for(var U={},K=N.l+R;N.l<K;){var G=N.read_shift(2);if(G==14e3){for(U[G]=[0,""],U[G][0]=N.read_shift(2);N[N.l];)U[G][1]+=String.fromCharCode(N[N.l]),N.l++;N.l++}}return U}function B(N,R){var U=ba(5+N.length);U.write_shift(2,14e3),U.write_shift(2,R);for(var K=0;K<N.length;++K){var G=N.charCodeAt(K);U[U.l++]=G>127?95:G}return U[U.l++]=0,U}var ae={0:{n:"BOF",f:fa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:V},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:W},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:C},38:{n:"??"},39:{n:"NUMBER27",f:L},40:{n:"FORMULA28",f:H},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:V},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ee},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function T0e(e){var t={},r=e.match(Pi),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Jt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=MC[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var E0e=function(){var e=Lv("t"),t=Lv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Mr(s[1])},l=i.match(t);return l&&(o.s=T0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),k0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),C0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,N0e=/<(?:\w+:)?r>/,P0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function ZC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Mr(mn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=mn(e),r&&(n.h=zC(n.t))):e.match(N0e)&&(n.r=mn(e),n.t=Mr(mn((e.replace(P0e,"").match(C0e)||[]).join("").replace(Pi,""))),r&&(n.h=k0e(E0e(n.r)))),n):{t:""}}var O0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,I0e=/<(?:\w+:)?(?:si|sstItem)>/g,D0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function j0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(O0e);if(a){n=a[2].replace(I0e,"").split(D0e);for(var i=0;i!=n.length;++i){var s=ZC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Jt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function L0e(e){return[e.read_shift(4),e.read_shift(4)]}function M0e(e,t){var r=[],n=!1;return Yc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function qz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function wc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function R0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function F0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function $0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(F0e(e));return t}function B0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function V0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function U0e(e){var t=V0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Wz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Hz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function z0e(e){var t=wc(e);switch(t.Minor){case 2:return[t.Minor,q0e(e)];case 3:return[t.Minor,W0e()];case 4:return[t.Minor,H0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function q0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Wz(e,r),a=Hz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function W0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function H0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Pi,function(i){var s=Jt(i);switch(ql(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function G0e(e,t){var r={},n=r.EncryptionVersionInfo=wc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Wz(e,a),t-=a,r.EncryptionVerifier=Hz(e,t),r}function K0e(e){var t={},r=t.EncryptionVersionInfo=wc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Y0e(e){var t=0,r,n=qz(e),a=n.length+1,i,s,o,l,c;for(r=Sf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Gz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=qz(s),l=i(o),c=o.length,u=Sf(16),f=0;f!=16;++f)u[f]=0;var h,d,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),X0e=function(e,t,r,n,a){a||(a=t),n||(n=Gz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Q0e=function(e){var t=0,r=Gz(e);return function(n){var a=X0e("",n,t,r);return t=a[1],a[0]}};function J0e(e,t,r,n){var a={key:fa(e),verificationBytes:fa(e)};return r.password&&(a.verifier=Y0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Q0e(r.password)),a}function Z0e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=K0e(e):n.Data=G0e(e,t),n}function epe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?Z0e(e,t-2,n):J0e(e,r.biff>=8?t:t-2,r,n),n}var tpe=function(){function e(a,i){switch(i.type){case"base64":return t(Vs(a),i);case"binary":return t(a,i);case"buffer":return t(Sr&&Buffer.isBuffer(a)?a.toString("binary"):cd(a),i);case"array":return t(Xh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(d,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[ir({r:f,c:m})]=y}break}d=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Or(c),o}function r(a,i){return jf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Yn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=ir({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Fc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function rpe(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Fv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function npe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function ape(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function vb(e,t){if(t===0)return e;var r=npe(rpe(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Fv(ape(r))}var Kz=6,ipe=15,spe=1,Bi=Kz;function yb(e){return Math.floor((e+Math.round(128/Bi)/256)*Bi)}function xb(e){return Math.floor((e-5)/Bi*100+.5)/100}function _T(e){return Math.round((e*Bi+5)/Bi*256)/256}function OS(e){return _T(xb(yb(e)))}function eN(e){var t=Math.abs(e-OS(e)),r=Bi;if(t>.005)for(Bi=spe;Bi<ipe;++Bi)Math.abs(e-OS(e))<=t&&(t=Math.abs(e-OS(e)),r=Bi);Bi=r}function fp(e){e.width?(e.wpx=yb(e.width),e.wch=xb(e.wpx),e.MDW=Bi):e.wpx?(e.wch=xb(e.wpx),e.width=_T(e.wch),e.MDW=Bi):typeof e.wch=="number"&&(e.width=_T(e.wch),e.wpx=yb(e.width),e.MDW=Bi),e.customWidth&&delete e.customWidth}var ope=96,Yz=ope;function Xz(e){return e*96/Yz}function $v(e){return e*Yz/96}var lpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function cpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Pi)||[]).forEach(function(s){var o=Jt(s);switch(ql(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=En(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=En(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function upe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Pi)||[]).forEach(function(s){var o=Jt(s);switch(ql(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function fpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Pi)||[]).forEach(function(s){var o=Jt(s);switch(ql(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=mn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?En(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?En(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?En(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?En(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?En(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?En(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?En(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=MC[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=En(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=jh[a.color.index];a.color.index==81&&(l=jh[1]),l||(l=jh[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=vb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function hpe(e,t,r){t.NumberFmt=[];for(var n=Ul(lr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=lr[n[a]];var i=e[0].match(Pi);if(i)for(a=0;a<i.length;++a){var s=Jt(i[a]);switch(ql(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Mr(mn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Dh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var hx=["numFmtId","fillId","fontId","borderId","xfId"],dx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function dpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Pi)||[]).forEach(function(i){var s=Jt(i),o=0;switch(ql(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<hx.length;++o)n[hx[o]]&&(n[hx[o]]=parseInt(n[hx[o]],10));for(o=0;o<dx.length;++o)n[dx[o]]&&(n[dx[o]]=En(n[dx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=En(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var ppe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&hpe(f,u,c),(f=o.match(a))&&fpe(f,u,l,c),(f=o.match(n))&&upe(f,u,l,c),(f=o.match(i))&&cpe(f,u,l,c),(f=o.match(r))&&dpe(f,u,c),u}}();function mpe(e,t){var r=e.read_shift(2),n=ki(e);return[r,n]}function gpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Ehe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=The(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=ki(e),n}var vpe=Ni;function ype(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var xpe=Ni;function bpe(e,t,r){var n={};n.NumberFmt=[];for(var a in lr)n.NumberFmt[a]=lr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Yc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Dh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=vb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var wpe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function _pe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Pi)||[]).forEach(function(a){var i=Jt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[wpe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Spe(){}function Ape(){}var Tpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Epe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,kpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Cpe(e,t,r){t.themeElements={};var n;[["clrScheme",Tpe,_pe],["fontScheme",Epe,Spe],["fmtScheme",kpe,Ape]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Npe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function Qz(e,t){(!e||e.length===0)&&(e=Ppe());var r,n={};if(!(r=e.match(Npe)))throw new Error("themeElements not found in theme");return Cpe(r[0],n,t),n.raw=e,n}function Ppe(e,t){var r=[lz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ope(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=oz(i,{type:"array"})}catch{return}var o=Is(s,"theme/theme/theme1.xml",!0);if(o)return Qz(o,r)}}function Ipe(e){return e.read_shift(4)}function Dpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=jpe(e,4);break;case 2:t.xclrValue=Rz(e);break;case 3:t.xclrValue=Ipe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function jpe(e,t){return Ni(e,t)}function Lpe(e,t){return Ni(e,t)}function Mpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Dpe(e);break;case 6:n[1]=Lpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Rpe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Mpe(e,r-e.l));return{ixfe:n,ext:i}}function Fpe(e,t){t.forEach(function(r){switch(r[0]){}})}function $pe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ki(e)}}function Bpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Vpe(e){return e.l+=4,e.read_shift(4)!=0}function Upe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Yc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function zpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Pi,function(o){var l=Jt(o);switch(ql(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function qpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Pi)||[]).forEach(function(n){var a=Jt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Wpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=ir(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Hpe(e,t,r){var n=[];return Yc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Gpe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Yc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Kpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function MD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Ui(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Yn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Or(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Ype(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Jt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Ui(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&ZC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Xpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Pi,function(o,l){var c=Jt(o);switch(ql(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Qpe(e,t){var r=[],n=!1;return e.replace(Pi,function(i){var s=Jt(i);switch(ql(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Jpe(e){var t={};t.iauthor=e.read_shift(4);var r=fd(e);return t.rfx=r.s,t.ref=ir(r.s),e.l+=16,t}var Zpe=ki;function eme(e,t){var r=[],n=[],a={},i=!1;return Yc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var tme="application/vnd.ms-office.vbaProject";function rme(e){var t=Nr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Nr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Nr.write(t)}function nme(){return{"!type":"dialog"}}function ame(){return{"!type":"dialog"}}function ime(){return{"!type":"macro"}}function sme(){return{"!type":"macro"}}var I0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Aa(u)+(l?"":"$")+ni(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Jz=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ome=function(){return function(t,r){return t.replace(Jz,function(n,a,i,s,o,l){var c=GC(s)-(i?0:r.c),u=HC(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Zz(e,t){return e.replace(Jz,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Aa(GC(i)+t.c))+(s=="$"?s+o:ni(HC(o)+t.r))})}function lme(e,t,r){var n=Xp(t),a=n.s,i=Ui(r),s={r:i.r-a.r,c:i.c-a.c};return Zz(e,s)}function cme(e){return e.length!=1}function RD(e){return e.replace(/_xlfn\./g,"")}function la(e){e.l+=1}function Af(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function eq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return tq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=Af(e),o=Af(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function tq(e){var t=Af(e),r=Af(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function ume(e,t,r){if(r.biff<8)return tq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Af(e),s=Af(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function rq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return fme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Af(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function fme(e){var t=Af(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function hme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function dme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return pme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function pme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function mme(e,t,r){var n=(e[e.l++]&96)>>5,a=eq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function gme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=eq(e,i,r);return[n,a,s]}function vme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function yme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function xme(e,t,r){var n=(e[e.l++]&96)>>5,a=ume(e,t-1,r);return[n,a]}function bme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function FD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function wme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function _me(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Sme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Ame(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function Tme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function nq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Eme(e){return e.read_shift(2),nq(e)}function kme(e){return e.read_shift(2),nq(e)}function Cme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=rq(e,0,r);return[n,a]}function Nme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=dme(e,0,r);return[n,a]}function Pme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=rq(e,0,r);return[n,a,i]}function Ome(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Ige[a],sq[a],n]}function Ime(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Dme(e);return[a,(i[0]===0?sq:Oge)[i[1]]]}function Dme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function jme(e,t,r){e.l+=r&&r.biff==2?3:4}function Lme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Mme(e){return e.l++,hd[e.read_shift(1)]}function Rme(e){return e.l++,e.read_shift(2)}function Fme(e){return e.l++,e.read_shift(1)!==0}function $me(e){return e.l++,Ai(e)}function Bme(e,t,r){return e.l++,G1(e,t-1,r)}function Vme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Jn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=hd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ai(e);break;case 2:r[1]=dd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function Ume(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?fd:m5)(e));return a}function zme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Vme(e,r.biff);return s}function qme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Wme(e,t,r){if(r.biff==5)return Hme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Hme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Gme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Kme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Yme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Xme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Qme=Ni,Jme=Ni,Zme=Ni;function Y1(e,t,r){return e.l+=2,[hme(e)]}function tN(e){return e.l+=6,[]}var ege=Y1,tge=tN,rge=tN,nge=Y1;function aq(e){return e.l+=2,[fa(e),e.read_shift(2)&1]}var age=Y1,ige=aq,sge=tN,oge=Y1,lge=Y1,cge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function uge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=cge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function fge(e){return e.l+=2,[e.read_shift(4)]}function hge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function dge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function pge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function mge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function gge(e){return e.l+=4,[0,0]}var $D={1:{n:"PtgExp",f:Lme},2:{n:"PtgTbl",f:Zme},3:{n:"PtgAdd",f:la},4:{n:"PtgSub",f:la},5:{n:"PtgMul",f:la},6:{n:"PtgDiv",f:la},7:{n:"PtgPower",f:la},8:{n:"PtgConcat",f:la},9:{n:"PtgLt",f:la},10:{n:"PtgLe",f:la},11:{n:"PtgEq",f:la},12:{n:"PtgGe",f:la},13:{n:"PtgGt",f:la},14:{n:"PtgNe",f:la},15:{n:"PtgIsect",f:la},16:{n:"PtgUnion",f:la},17:{n:"PtgRange",f:la},18:{n:"PtgUplus",f:la},19:{n:"PtgUminus",f:la},20:{n:"PtgPercent",f:la},21:{n:"PtgParen",f:la},22:{n:"PtgMissArg",f:la},23:{n:"PtgStr",f:Bme},26:{n:"PtgSheet",f:hge},27:{n:"PtgEndSheet",f:dge},28:{n:"PtgErr",f:Mme},29:{n:"PtgBool",f:Fme},30:{n:"PtgInt",f:Rme},31:{n:"PtgNum",f:$me},32:{n:"PtgArray",f:bme},33:{n:"PtgFunc",f:Ome},34:{n:"PtgFuncVar",f:Ime},35:{n:"PtgName",f:qme},36:{n:"PtgRef",f:Cme},37:{n:"PtgArea",f:mme},38:{n:"PtgMemArea",f:Gme},39:{n:"PtgMemErr",f:Qme},40:{n:"PtgMemNoMem",f:Jme},41:{n:"PtgMemFunc",f:Kme},42:{n:"PtgRefErr",f:Yme},43:{n:"PtgAreaErr",f:vme},44:{n:"PtgRefN",f:Nme},45:{n:"PtgAreaN",f:xme},46:{n:"PtgMemAreaN",f:pge},47:{n:"PtgMemNoMemN",f:mge},57:{n:"PtgNameX",f:Wme},58:{n:"PtgRef3d",f:Pme},59:{n:"PtgArea3d",f:gme},60:{n:"PtgRefErr3d",f:Xme},61:{n:"PtgAreaErr3d",f:yme},255:{}},vge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},yge={1:{n:"PtgElfLel",f:aq},2:{n:"PtgElfRw",f:oge},3:{n:"PtgElfCol",f:ege},6:{n:"PtgElfRwV",f:lge},7:{n:"PtgElfColV",f:nge},10:{n:"PtgElfRadical",f:age},11:{n:"PtgElfRadicalS",f:sge},13:{n:"PtgElfColS",f:tge},15:{n:"PtgElfColSV",f:rge},16:{n:"PtgElfRadicalLel",f:ige},25:{n:"PtgList",f:uge},29:{n:"PtgSxName",f:fge},255:{}},xge={0:{n:"PtgAttrNoop",f:gge},1:{n:"PtgAttrSemi",f:Tme},2:{n:"PtgAttrIf",f:Sme},4:{n:"PtgAttrChoose",f:wme},8:{n:"PtgAttrGoto",f:_me},16:{n:"PtgAttrSum",f:jme},32:{n:"PtgAttrBaxcel",f:FD},33:{n:"PtgAttrBaxcel",f:FD},64:{n:"PtgAttrSpace",f:Eme},65:{n:"PtgAttrSpaceSemi",f:kme},128:{n:"PtgAttrIfError",f:Ame},255:{}};function X1(e,t,r,n){if(n.biff<8)return Ni(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=zme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=Ume(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Ni(e,t)),i}function Q1(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=$D[i]||$D[vge[i]],(i===24||i===25)&&(a=(i===24?yge:xge)[e[e.l+1]]),!a||!a.f?Ni(e,t):s.push([a.n,a.f(e,t,r)]);return s}function bge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var wge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function _ge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function iq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function BD(e,t,r){var n=iq(e,t,r);return n=="#REF"?n:_ge(n,r)}function xi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Gn(" ",e[0][m][1][1]);break;case 1:v=Gn("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+wge[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Dg(_[1][1],s,a),o.push(jg(u,i));break;case"PtgRefN":u=r?Dg(_[1][1],r,a):_[1][1],o.push(jg(u,i));break;case"PtgRef3d":f=_[1][1],u=Dg(_[1][2],s,a),g=BD(n,f,a),o.push(g+"!"+jg(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=_[1][0],P=_[1][1];O||(O=0),O&=127;var D=O==0?[]:o.slice(-O);o.length-=O,P==="User"&&(P=D.shift()),o.push(P+"("+D.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":d=bD(_[1][1],r?{s:r}:s,a),o.push(NS(d,a));break;case"PtgArea":d=bD(_[1][1],s,a),o.push(NS(d,a));break;case"PtgArea3d":f=_[1][1],d=_[1][2],g=BD(n,f,a),o.push(g+"!"+NS(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],A=T?T.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var b=_[1][1];h=_[1][2];var I;if(a.biff<=5)b<0&&(b=-b),n[b]&&(I=n[b][h]);else{var E="";if(((n[b]||[])[0]||[])[0]==14849||(((n[b]||[])[0]||[])[0]==1025?n[b][h]&&n[b][h].itab>0&&(E=n.SheetNames[n[b][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[b]&&n[b][h])E+=n[b][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var C=(iq(n,b,a)||"").split(";;");C[h-1]?E=C[h-1]:E+="SH33TJSERRX"}o.push(E);break}I||(I={Name:"SH33TJSERRY"}),o.push(I.Name);break;case"PtgParen":var L="(",H=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:L=Gn(" ",e[0][m][1][1])+L;break;case 3:L=Gn("\r",e[0][m][1][1])+L;break;case 4:H=Gn(" ",e[0][m][1][1])+H;break;case 5:H=Gn("\r",e[0][m][1][1])+H;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(L+o.pop()+H);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var V={c:r.c,r:r.r};if(n.sharedf[ir(u)]){var Z=n.sharedf[ir(u)];o.push(xi(Z,s,V,n,a))}else{var ee=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(xi(c[1],s,V,n,a)),ee=!0;break}ee||o.push(_[1])}break;case"PtgArray":o.push("{"+bge(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var W=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&W.indexOf(e[0][y][0])==-1){_=e[0][m];var B=!0;switch(_[1][0]){case 4:B=!1;case 0:v=Gn(" ",_[1][1]);break;case 5:B=!1;case 1:v=Gn("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((B?v:"")+o.pop()+(B?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Sge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ni(e,t-2)];var o=Q1(e,s,r);return t!==s+a&&(i=X1(e,t-s-a,o,r)),e.l=n,[o,i]}function Age(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ni(e,t-2)];var o=Q1(e,s,r);return t!==s+a&&(i=X1(e,t-s-a,o,r)),e.l=n,[o,i]}function Tge(e,t,r,n){var a=e.l+t,i=Q1(e,n,r),s;return a!==e.l&&(s=X1(e,a-e.l,i,r)),[i,s]}function Ege(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Q1(e,i,r);return i==65535?[[],Ni(e,t-2)]:(t!==i+2&&(a=X1(e,n-i-2,s,r)),[s,a])}function kge(e){var t;if(pc(e,e.l+6)!==65535)return[Ai(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function IS(e,t,r){var n=e.l+t,a=Wl(e);r.biff==2&&++e.l;var i=kge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Age(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function g5(e,t,r){var n=e.read_shift(4),a=Q1(e,n,r),i=e.read_shift(4),s=i>0?X1(e,i,a,r):null;return[a,s]}var Cge=g5,v5=g5,Nge=g5,Pge=g5,Oge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},sq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Ige={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function VD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function DS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Fg={},D0={};function $g(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function oq(e,t,r,n,a,i){try{n.cellNF&&(e.z=lr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ba(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(lr[t]==null&&Dh(Dfe[t]||"General",t),e.t==="e")e.w=e.w||hd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jv(e.v);else if(e.t==="d"){var s=Yi(e.v);(s|0)===s?e.w=s.toString(10):e.w=jv(s)}else{if(e.v===void 0)return"";e.w=Yh(e.v,D0)}else e.t==="d"?e.w=xo(t,Yi(e.v),D0):e.w=xo(t,e.v,D0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=vb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=vb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Dge(e,t){var r=Yn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Or(r))}var jge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Lge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Mge=/<(?:\w:)?hyperlink [^>]*>/mg,Rge=/"(\w*:\w*)"/,Fge=/<(?:\w:)?col\b[^>]*[\/]?>/g,$ge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Bge=/<(?:\w:)?pageMargins[^>]*\/>/g,lq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Vge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,Uge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function zge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Lge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(lq);h?rN(h[0],o,a,r):(h=c.match(Vge))&&qge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var g=c.slice(d,d+50).match(Rge);g&&Dge(o,g[1])}var m=c.match(Uge);m&&m[1]&&Xge(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Fge);y&&Gge(v,y)}f&&Qge(f[1],o,t,l,i,s);var w=u.match($ge);w&&(o["!autofilter"]=Kge(w[0]));var _=[],O=u.match(jge);if(O)for(d=0;d!=O.length;++d)_[d]=Yn(O[d].slice(O[d].indexOf('"')+1));var P=u.match(Mge);P&&Wge(o,P,n);var D=u.match(Bge);if(D&&(o["!margins"]=Hge(Jt(D[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Or(l)),t.sheetRows>0&&o["!ref"]){var T=Yn(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Or(T))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function rN(e,t,r,n){var a=Jt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Mr(mn(a.codeName)))}function qge(e,t,r,n,a){rN(e.slice(0,e.indexOf(">")),r,n,a)}function Wge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Jt(mn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Mr(i.location))):(i.Target="#"+Mr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Yn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=ir({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Hge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Gge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Jt(t[n],!0);a.hidden&&(a.hidden=En(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,eN(a.width)),fp(a);i<=s;)e[i++]=ri(a)}}function Kge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Yge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Xge(e,t){t.Views||(t.Views=[{}]),(e.match(Yge)||[]).forEach(function(r,n){var a=Jt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),En(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Qge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Lv("v"),s=Lv("f");return function(l,c,u,f,h,d){for(var g=0,m="",v=[],y=[],w=0,_=0,O=0,P="",D,T,A=0,b=0,I,E,C=0,L=0,H=Array.isArray(d.CellXf),V,Z=[],ee=[],W=Array.isArray(c),B=[],ae={},q=!1,N=!!u.sheetStubs,R=l.split(t),U=0,K=R.length;U!=K;++U){m=R[U].trim();var G=m.length;if(G!==0){var ie=0;e:for(g=0;g<G;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(T=Jt(m.slice(ie,g),!0),A=T.r!=null?parseInt(T.r,10):A+1,b=-1,u.sheetRows&&u.sheetRows<A)continue;ae={},q=!1,T.ht&&(q=!0,ae.hpt=parseFloat(T.ht),ae.hpx=$v(ae.hpt)),T.hidden=="1"&&(q=!0,ae.hidden=!0),T.outlineLevel!=null&&(q=!0,ae.level=+T.outlineLevel),q&&(B[A-1]=ae)}break;case"<":ie=g;break}if(ie>=g)break;if(T=Jt(m.slice(ie,g),!0),A=T.r!=null?parseInt(T.r,10):A+1,b=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(ae={},q=!1,T.ht&&(q=!0,ae.hpt=parseFloat(T.ht),ae.hpx=$v(ae.hpt)),T.hidden=="1"&&(q=!0,ae.hidden=!0),T.outlineLevel!=null&&(q=!0,ae.level=+T.outlineLevel),q&&(B[A-1]=ae)),v=m.slice(g).split(e);for(var ue=0;ue!=v.length&&v[ue].trim().charAt(0)=="<";++ue);for(v=v.slice(ue),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,_=0,O=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,P=y[1],_=0;_!=P.length&&!((O=P.charCodeAt(_)-64)<1||O>26);++_)w=26*w+O;--w,b=w}else++b;for(_=0;_!=m.length&&m.charCodeAt(_)!==62;++_);if(++_,T=Jt(m.slice(0,_),!0),T.r||(T.r=ir({r:A-1,c:b})),P=m.slice(_),D={t:""},(y=P.match(i))!=null&&y[1]!==""&&(D.v=Mr(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(D.f=Mr(mn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(D.f=RD(D.f)),y[0].indexOf('t="array"')>-1)D.F=(P.match(a)||[])[1],D.F.indexOf(":")>-1&&Z.push([Yn(D.F),D.F]);else if(y[0].indexOf('t="shared"')>-1){E=Jt(y[0]);var J=Mr(mn(y[1]));u.xlfn||(J=RD(J)),ee[parseInt(E.si,10)]=[E,J,T.r]}}else(y=P.match(/<f[^>]*\/>/))&&(E=Jt(y[0]),ee[E.si]&&(D.f=lme(ee[E.si][1],ee[E.si][2],T.r)));var ce=Ui(T.r);for(_=0;_<Z.length;++_)ce.r>=Z[_][0].s.r&&ce.r<=Z[_][0].e.r&&ce.c>=Z[_][0].s.c&&ce.c<=Z[_][0].e.c&&(D.F=Z[_][1])}if(T.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(N)D.t="z";else continue;else D.t=T.t||"n";switch(f.s.c>b&&(f.s.c=b),f.e.c<b&&(f.e.c=b),D.t){case"n":if(D.v==""||D.v==null){if(!N)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!N)continue;D.t="z"}else I=Fg[parseInt(D.v,10)],D.v=I.t,D.r=I.r,u.cellHTML&&(D.h=I.h);break;case"str":D.t="s",D.v=D.v!=null?mn(D.v):"",u.cellHTML&&(D.h=zC(D.v));break;case"inlineStr":y=P.match(n),D.t="s",y!=null&&(I=ZC(y[1]))?(D.v=I.t,u.cellHTML&&(D.h=I.h)):D.v="";break;case"b":D.v=En(D.v);break;case"d":u.cellDates?D.v=Ba(D.v,1):(D.v=Yi(Ba(D.v,1)),D.t="n");break;case"e":(!u||u.cellText!==!1)&&(D.w=D.v),D.v=Nz[D.v];break}if(C=L=0,V=null,H&&T.s!==void 0&&(V=d.CellXf[T.s],V!=null&&(V.numFmtId!=null&&(C=V.numFmtId),u.cellStyles&&V.fillId!=null&&(L=V.fillId))),oq(D,C,L,u,h,d),u.cellDates&&H&&D.t=="n"&&Yp(lr[C])&&(D.t="d",D.v=p5(D.v)),T.cm&&u.xlmeta){var pe=(u.xlmeta.Cell||[])[+T.cm-1];pe&&pe.type=="XLDAPR"&&(D.D=!0)}if(W){var Y=Ui(T.r);c[Y.r]||(c[Y.r]=[]),c[Y.r][Y.c]=D}else c[T.r]=D}}}}B.length>0&&(c["!rows"]=B)}}();function Jge(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Zge=fd;function eve(){}function tve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=She(e),r}function rve(e){var t=wo(e);return[t]}function nve(e){var t=ud(e);return[t]}function ave(e){var t=wo(e),r=e.read_shift(1);return[t,r,"b"]}function ive(e){var t=ud(e),r=e.read_shift(1);return[t,r,"b"]}function sve(e){var t=wo(e),r=e.read_shift(1);return[t,r,"e"]}function ove(e){var t=ud(e),r=e.read_shift(1);return[t,r,"e"]}function lve(e){var t=wo(e),r=e.read_shift(4);return[t,r,"s"]}function cve(e){var t=ud(e),r=e.read_shift(4);return[t,r,"s"]}function uve(e){var t=wo(e),r=Ai(e);return[t,r,"n"]}function cq(e){var t=ud(e),r=Ai(e);return[t,r,"n"]}function fve(e){var t=wo(e),r=XC(e);return[t,r,"n"]}function hve(e){var t=ud(e),r=XC(e);return[t,r,"n"]}function dve(e){var t=wo(e),r=KC(e);return[t,r,"is"]}function pve(e){var t=wo(e),r=ki(e);return[t,r,"str"]}function mve(e){var t=ud(e),r=ki(e);return[t,r,"str"]}function gve(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=v5(e,n-e.l,r);s[3]=xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function vve(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=v5(e,n-e.l,r);s[3]=xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function yve(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=Ai(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=v5(e,n-e.l,r);s[3]=xi(o,null,a,r.supbooks,r)}else e.l=n;return s}function xve(e,t,r){var n=e.l+t,a=wo(e);a.r=r["!row"];var i=ki(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=v5(e,n-e.l,r);s[3]=xi(o,null,a,r.supbooks,r)}else e.l=n;return s}var bve=fd;function wve(e,t){var r=e.l+t,n=fd(e),a=YC(e),i=ki(e),s=ki(e),o=ki(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function _ve(){}function Sve(e,t,r){var n=e.l+t,a=Ez(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Cge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Ave(e,t,r){var n=e.l+t,a=fd(e),i=[a];if(r.cellFormula){var s=Pge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var Tve=["left","right","top","bottom","header","footer"];function Eve(e){var t={};return Tve.forEach(function(r){t[r]=Ai(e)}),t}function kve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Cve(){}function Nve(){}function Pve(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,g,m,v,y,w,_,O,P,D=[];o.biff=12,o["!row"]=0;var T=0,A=!1,b=[],I={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=I,E.arrayf=b,E.SheetNames=a.SheetNames||a.Sheets.map(function(W){return W.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var C=0;C<a.Names.length;++C)E[0][C+1]=a.Names[C];var L=[],H=[],V=!1;bb[16]={n:"BrtShortReal",f:cq};var Z;if(Yc(e,function(B,ae,q){if(!h)switch(q){case 148:c=B;break;case 0:d=B,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),O=ni(v=d.r),o["!row"]=d.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=$v(B.hpt)),H[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:B[2]},B[2]){case"n":g.v=B[1];break;case"s":_=Fg[B[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!B[1];break;case"e":g.v=B[1],o.cellText!==!1&&(g.w=hd[g.v]);break;case"str":g.t="s",g.v=B[1];break;case"is":g.t="s",g.v=B[1].t;break}if((m=s.CellXf[B[0].iStyleRef])&&oq(g,m.numFmtId,null,o,i,s),y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Aa(y)+O]=g,o.cellFormula){for(A=!1,T=0;T<b.length;++T){var N=b[T];d.r>=N[0].s.r&&d.r<=N[0].e.r&&y>=N[0].s.c&&y<=N[0].e.c&&(g.F=Or(N[0]),A=!0)}!A&&B.length>3&&(g.f=B[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Yp(lr[m.numFmtId])){var R=Ah(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}Z&&(Z.type=="XLDAPR"&&(g.D=!0),Z=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Aa(y)+O]=g,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),Z&&(Z.type=="XLDAPR"&&(g.D=!0),Z=void 0);break;case 176:D.push(B);break;case 49:Z=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var U=n["!id"][B.relId];for(U?(B.Target=U.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=U):B.relId==""&&(B.Target="#"+B.loc),v=B.rfx.s.r;v<=B.rfx.e.r;++v)for(y=B.rfx.s.c;y<=B.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=B):(w=ir({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=B);break;case 426:if(!o.cellFormula)break;b.push(B),P=o.dense?l[v][y]:l[Aa(y)+O],P.f=xi(B[1],u,{r:d.r,c:y},E,o),P.F=Or(B[0]);break;case 427:if(!o.cellFormula)break;I[ir(B[0].s)]=B[1],P=o.dense?l[v][y]:l[Aa(y)+O],P.f=xi(B[1],u,{r:d.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)L[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},V||(V=!0,eN(B.w/256)),fp(L[B.e+1]);break;case 161:l["!autofilter"]={ref:Or(B)};break;case 476:l["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(l["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ae.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Or(c||u)),o.sheetRows&&l["!ref"]){var ee=Yn(l["!ref"]);o.sheetRows<=+ee.e.r&&(ee.e.r=o.sheetRows-1,ee.e.r>u.e.r&&(ee.e.r=u.e.r),ee.e.r<ee.s.r&&(ee.s.r=ee.e.r),ee.e.c>u.e.c&&(ee.e.c=u.e.c),ee.e.c<ee.s.c&&(ee.s.c=ee.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Or(ee))}return D.length>0&&(l["!merges"]=D),L.length>0&&(l["!cols"]=L),H.length>0&&(l["!rows"]=H),l}function Ove(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Mr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function Ive(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Ove(f);u.s.r=u.s.c=0,u.e.c=o,c=Aa(o),h[0].forEach(function(d,g){s[c+ni(g)]={t:"n",v:d,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Or(u)),s}function Dve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(lq);return o&&rN(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function jve(e,t){e.l+=10;var r=ki(e);return{name:r}}function Lve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Yc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var uq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Mve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],Rve=[],Fve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function UD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=En(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function zD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=En(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function fq(e){zD(e.WBProps,uq),zD(e.CalcPr,Fve),UD(e.WBView,Mve),UD(e.Sheets,Rve),D0.date1904=En(e.WBProps.date1904)}var $ve="][*?/\\".split("");function Bve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return $ve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var Vve=/<\w+:workbook/;function Uve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Pi,function(l,c){var u=Jt(l);switch(ql(u[0])){case"<?xml":break;case"<workbook":l.match(Vve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":uq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=En(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=mn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Mr(mn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=mn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),En(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Mr(mn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),she.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return fq(r),r}function zve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=xT(e),r.name=ki(e),r}function qve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?ki(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Wve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Hve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ahe(e),s=Nge(e,0,r),o=YC(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Gve(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],bb[16]={n:"BrtFRTArchID$",f:Wve},Yc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=xi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),fq(r),r.Names=i,r.supbooks=s,r}function Kve(e,t,r){return t.slice(-4)===".bin"?Gve(e,r):Uve(e,r)}function Yve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Pve(e,n,r,a,i,s,o):zge(e,n,r,a,i,s,o)}function Xve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Lve(e,n,r,a,i):Dve(e,n,r,a,i)}function Qve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ime():sme()}function Jve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?nme():ame()}function Zve(e,t,r,n){return t.slice(-4)===".bin"?bpe(e,r,n):ppe(e,r,n)}function e1e(e,t,r){return Qz(e,r)}function t1e(e,t,r){return t.slice(-4)===".bin"?M0e(e,r):j0e(e,r)}function r1e(e,t,r){return t.slice(-4)===".bin"?eme(e,r):Ype(e,r)}function n1e(e,t,r){return t.slice(-4)===".bin"?Hpe(e):qpe(e)}function a1e(e,t,r,n){return r.slice(-4)===".bin"?Gpe(e,t,r,n):void 0}function i1e(e,t,r){return t.slice(-4)===".bin"?Upe(e,t,r):zpe(e,t,r)}var hq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,dq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Lo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(hq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(dq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function s1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(hq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(dq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Bg;function o1e(e,t){var r=Bg[e]||Mr(e);return r==="General"?Yh(t):xo(r,t)}function l1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=En(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ba(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Mr(t)]=a}function c1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||hd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jv(e.v):e.w=Yh(e.v):e.w=o1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Bg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Yp(n)){var a=Ah(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function u1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=lpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function f1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=En(e);break;case"String":n.t="s",n.r=fD(Mr(e)),n.v=e.indexOf("<")>-1?Mr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ba(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Mr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Nz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=fD(t||e));break}if(c1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Mr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=I0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=I0("RC:RC",a):n.ArrayRange&&(n.F=I0(n.ArrayRange,a),l.push([Yn(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(d.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function h1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function jS(e,t){var r=t||{};tz();var n=og(qC(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=mn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ri(r);return s.type="string",Rv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Ee){a.indexOf("<"+Ee)>=0&&(i=!0)}),i)return w1e(n,r);Bg={"General Number":"General","General Date":lr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":lr[15],"Short Date":lr[14],"Long Time":lr[19],"Medium Time":lr[18],"Short Time":lr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:lr[2],Standard:lr[4],Percent:lr[10],Scientific:lr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",g={},m={},v=Lo('<Data ss:Type="String">'),y=0,w=0,_=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},D={},T="",A=0,b=[],I={},E={},C=0,L=[],H=[],V={},Z=[],ee,W=!1,B=[],ae=[],q={},N=0,R=0,U={Sheets:[],WBProps:{date1904:!1}},K={};Mv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var G="";o=Mv.exec(n);)switch(o[3]=(G=o[3]).toLowerCase()){case"data":if(G=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?f1e(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?V:g,{c:w,r:_},P,Z[w],m,B,r):(T="",v=Lo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(H.length>0&&(g.c=H),(!r.sheetRows||r.sheetRows>_)&&g.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][w]=g):h[Aa(w)+ni(_)]=g),g.HRef&&(g.l={Target:Mr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(N=w+(parseInt(g.MergeAcross,10)|0),R=_+(parseInt(g.MergeDown,10)|0),b.push({s:{c:w,r:_},e:{c:N,r:R}})),!r.sheetStubs)g.MergeAcross?w=N+1:++w;else if(g.MergeAcross||g.MergeDown){for(var ie=w;ie<=N;++ie)for(var ue=_;ue<=R;++ue)(ie>w||ue>_)&&(r.dense?(h[ue]||(h[ue]=[]),h[ue][ie]={t:"z"}):h[Aa(ie)+ni(ue)]={t:"z"});w=N+1}else++w;else g=s1e(o[0]),g.Index&&(w=+g.Index-1),w<O.s.c&&(O.s.c=w),w>O.e.c&&(O.e.c=w),o[0].slice(-2)==="/>"&&++w,H=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<O.s.r&&(O.s.r=_),_>O.e.r&&(O.e.r=_),o[0].slice(-2)==="/>"&&(m=Lo(o[0]),m.Index&&(_=+m.Index-1)),w=0,++_):(m=Lo(o[0]),m.Index&&(_=+m.Index-1),q={},(m.AutoFitHeight=="0"||m.Height)&&(q.hpx=parseInt(m.Height,10),q.hpt=Xz(q.hpx),ae[_]=q),m.Hidden=="1"&&(q.hidden=!0,ae[_]=q));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=Or(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=Or(O))),b.length&&(h["!merges"]=b),Z.length>0&&(h["!cols"]=Z),ae.length>0&&(h["!rows"]=ae),u[d]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=w=0,l.push([o[3],!1]),c=Lo(o[0]),d=Mr(c.Name),h=r.dense?[]:{},b=[],B=[],ae=[],K={name:d,Hidden:0},U.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Z=[],W=!1}break;case"style":o[1]==="/"?u1e(P,D,r):D=Lo(o[0]);break;case"numberformat":D.nf=Mr(Lo(o[0]).Format||"General"),Bg[D.nf]&&(D.nf=Bg[D.nf]);for(var J=0;J!=392&&lr[J]!=D.nf;++J);if(J==392){for(J=57;J!=392;++J)if(lr[J]==null){Dh(D.nf,J);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(ee=Lo(o[0]),ee.Hidden&&(ee.hidden=!0,delete ee.Hidden),ee.Width&&(ee.wpx=parseInt(ee.Width,10)),!W&&ee.wpx>10){W=!0,Bi=Kz;for(var ce=0;ce<Z.length;++ce)Z[ce]&&fp(Z[ce])}W&&fp(ee),Z[ee.Index-1||Z.length]=ee;for(var pe=0;pe<+ee.Span;++pe)Z[Z.length]=ri(ee);break;case"namedrange":if(o[1]==="/")break;U.Names||(U.Names=[]);var Y=Jt(o[0]),fe={Name:Y.Name,Ref:I0(Y.RefersTo.slice(1),{r:0,c:0})};U.Sheets.length>0&&(fe.Sheet=U.Sheets.length-1),U.Names.push(fe);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=Lo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Yhe(I,G,n.slice(C,o.index)):C=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));h1e(V),H.push(V)}else l.push([o[3],!1]),c=Lo(o[0]),V={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Se=Lo(o[0]);h["!autofilter"]={ref:I0(Se.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return YD(n,r);var ye=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ye=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ye=!1}break;case"excelworkbook":switch(o[3]){case"date1904":U.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ye=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ye=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(C,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else C=o.index+o[0].length;break;case"header":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+Jt(o[0]).Margin)||(h["!margins"].header=+Jt(o[0]).Margin);break;case"footer":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+Jt(o[0]).Margin)||(h["!margins"].footer=+Jt(o[0]).Margin);break;case"pagemargins":var te=Jt(o[0]);h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+te.Top)||(h["!margins"].top=+te.Top),isNaN(+te.Left)||(h["!margins"].left=+te.Left),isNaN(+te.Right)||(h["!margins"].right=+te.Right),isNaN(+te.Bottom)||(h["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":U.Views||(U.Views=[]),U.Views[0]||(U.Views[0]={}),U.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ye=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ye=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ye=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ye=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ye=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ye=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ye=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ye=!1}break;case"smarttags":break;default:ye=!1;break}if(ye||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?l1e(E,G,L,n.slice(C,o.index)):(L=o,C=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Te={};return!r.bookSheets&&!r.bookProps&&(Te.Sheets=u),Te.SheetNames=f,Te.Workbook=U,Te.SSF=ri(lr),Te.Props=I,Te.Custprops=E,Te}function ST(e,t){switch(iN(t=t||{}),t.type||"base64"){case"base64":return jS(Vs(e),t);case"binary":case"buffer":case"file":return jS(e,t);case"array":return jS(cd(e),t)}}function d1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=khe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Che(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var p1e=[60,1084,2066,2165,2175];function m1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=pc(r,r.l),c=AT[l],u=0;c!=null&&p1e.indexOf(l)>-1;)i=pc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=AT[l=pc(r,r.l)];var f=Bu(s);Ja(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function wl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=lr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||hd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=jv(e.v):e.w=Yh(e.v):e.w=xo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Yp(lr[n]||String(n))){var a=Ah(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function px(e,t,r){return{v:e,ixfe:t,t:r}}function g1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,g,m,v,y={},w=[],_,O,P=[],D=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},b=function(mt){return mt<8?jh[mt]:mt<64&&D[mt-8]||jh[mt]},I=function(mt,et,Bt){var Lt=et.XF.data;if(!(!Lt||!Lt.patternType||!Bt||!Bt.cellStyles)){et.s={},et.s.patternType=Lt.patternType;var Gr;(Gr=Fv(b(Lt.icvFore)))&&(et.s.fgColor={rgb:Gr}),(Gr=Fv(b(Lt.icvBack)))&&(et.s.bgColor={rgb:Gr})}},E=function(mt,et,Bt){if(!(q>1)&&!(Bt.sheetRows&&mt.r>=Bt.sheetRows)){if(Bt.cellStyles&&et.XF&&et.XF.data&&I(mt,et,Bt),delete et.ixfe,delete et.XF,f=mt,h=ir(mt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),mt.r<s.s.r&&(s.s.r=mt.r),mt.c<s.s.c&&(s.s.c=mt.c),mt.r+1>s.e.r&&(s.e.r=mt.r+1),mt.c+1>s.e.c&&(s.e.c=mt.c+1),Bt.cellFormula&&et.f){for(var Lt=0;Lt<w.length;++Lt)if(!(w[Lt][0].s.c>mt.c||w[Lt][0].s.r>mt.r)&&!(w[Lt][0].e.c<mt.c||w[Lt][0].e.r<mt.r)){et.F=Or(w[Lt][0]),(w[Lt][0].s.c!=mt.c||w[Lt][0].s.r!=mt.r)&&delete et.f,et.f&&(et.f=""+xi(w[Lt][1],s,mt,B,C));break}}Bt.dense?(a[mt.r]||(a[mt.r]=[]),a[mt.r][mt.c]=et):a[h]=et}},C={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(C.password=t.password);var L,H=[],V=[],Z=[],ee=[],W=!1,B=[];B.SheetNames=C.snames,B.sharedf=C.sharedf,B.arrayf=C.arrayf,B.names=[],B.XTI=[];var ae=0,q=0,N=0,R=[],U=[],K;C.codepage=1200,Qo(1200);for(var G=!1;e.l<e.length-1;){var ie=e.l,ue=e.read_shift(2);if(ue===0&&ae===10)break;var J=e.l===e.length?0:e.read_shift(2),ce=AT[ue];if(ce&&ce.f){if(t.bookSheets&&ae===133&&ue!==133)break;if(ae=ue,ce.r===2||ce.r==12){var pe=e.read_shift(2);if(J-=2,!C.enc&&pe!==ue&&((pe&255)<<8|pe>>8)!==ue)throw new Error("rt mismatch: "+pe+"!="+ue);ce.r==12&&(e.l+=10,J-=10)}var Y={};if(ue===10?Y=ce.f(e,J,C):Y=m1e(ue,ce,e,J,C),q==0&&[9,521,1033,2057].indexOf(ae)===-1)continue;switch(ue){case 34:r.opts.Date1904=T.WBProps.date1904=Y;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(C.enc||(e.l=0),C.enc=Y,!t.password)throw new Error("File is password-protected");if(Y.valid==null)throw new Error("Encryption scheme unsupported");if(!Y.valid)throw new Error("Password is incorrect");break;case 92:C.lastuser=Y;break;case 66:var fe=Number(Y);switch(fe){case 21010:fe=1200;break;case 32768:fe=1e4;break;case 32769:fe=1252;break}Qo(C.codepage=fe),G=!0;break;case 317:C.rrtabid=Y;break;case 25:C.winlocked=Y;break;case 439:r.opts.RefreshAll=Y;break;case 12:r.opts.CalcCount=Y;break;case 16:r.opts.CalcDelta=Y;break;case 17:r.opts.CalcIter=Y;break;case 13:r.opts.CalcMode=Y;break;case 14:r.opts.CalcPrecision=Y;break;case 95:r.opts.CalcSaveRecalc=Y;break;case 15:C.CalcRefMode=Y;break;case 2211:r.opts.FullCalc=Y;break;case 129:Y.fDialog&&(a["!type"]="dialog"),Y.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),Y.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(Y);break;case 430:B.push([Y]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(Y);break;case 24:case 536:K={Name:Y.Name,Ref:xi(Y.rgce,s,null,B,C)},Y.itab>0&&(K.Sheet=Y.itab-1),B.names.push(K),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(Y),Y.Name=="_xlnm._FilterDatabase"&&Y.itab>0&&Y.rgce&&Y.rgce[0]&&Y.rgce[0][0]&&Y.rgce[0][0][0]=="PtgArea3d"&&(U[Y.itab-1]={ref:Or(Y.rgce[0][0][1][2])});break;case 22:C.ExternCount=Y;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(Y),B.XTI=B.XTI.concat(Y);break;case 2196:if(C.biff<8)break;K!=null&&(K.Comment=Y[1]);break;case 18:a["!protect"]=Y;break;case 19:Y!==0&&C.WTF&&console.error("Password verifier: "+Y);break;case 133:i[Y.pos]=Y,C.snames.push(Y.name);break;case 10:{if(--q)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Or(s),t.sheetRows&&t.sheetRows<=s.e.r){var Se=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Or(s),s.e.r=Se}s.e.r++,s.e.c++}H.length>0&&(a["!merges"]=H),V.length>0&&(a["!objects"]=V),Z.length>0&&(a["!cols"]=Z),ee.length>0&&(a["!rows"]=ee),T.Sheets.push(A)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(C.biff===8&&(C.biff={9:2,521:3,1033:4}[ue]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[Y.BIFFVer]||8),C.biffguess=Y.BIFFVer==0,Y.BIFFVer==0&&Y.dt==4096&&(C.biff=5,G=!0,Qo(C.codepage=28591)),C.biff==8&&Y.BIFFVer==0&&Y.dt==16&&(C.biff=2),q++)break;if(a=t.dense?[]:{},C.biff<8&&!G&&(G=!0,Qo(C.codepage=t.codepage||1252)),C.biff<5||Y.BIFFVer==0&&Y.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ye={pos:e.l-J,name:c};i[ye.pos]=ye,C.snames.push(c)}else c=(i[ie]||{name:""}).name;Y.dt==32&&(a["!type"]="chart"),Y.dt==64&&(a["!type"]="macro"),H=[],V=[],C.arrayf=w=[],Z=[],ee=[],W=!1,A={Hidden:(i[ie]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[Y.r]||[])[Y.c]:a[ir({c:Y.c,r:Y.r})])&&++Y.c,_={ixfe:Y.ixfe,XF:P[Y.ixfe]||{},v:Y.val,t:"n"},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t);break;case 5:case 517:_={ixfe:Y.ixfe,XF:P[Y.ixfe],v:Y.val,t:Y.t},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t);break;case 638:_={ixfe:Y.ixfe,XF:P[Y.ixfe],v:Y.rknum,t:"n"},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t);break;case 189:for(var te=Y.c;te<=Y.C;++te){var Te=Y.rkrec[te-Y.c][0];_={ixfe:Te,XF:P[Te],v:Y.rkrec[te-Y.c][1],t:"n"},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:te,r:Y.r},_,t)}break;case 6:case 518:case 1030:{if(Y.val=="String"){o=Y;break}if(_=px(Y.val,Y.cell.ixfe,Y.tt),_.XF=P[_.ixfe],t.cellFormula){var Ee=Y.formula;if(Ee&&Ee[0]&&Ee[0][0]&&Ee[0][0][0]=="PtgExp"){var Ce=Ee[0][0][1][0],He=Ee[0][0][1][1],je=ir({r:Ce,c:He});y[je]?_.f=""+xi(Y.formula,s,Y.cell,B,C):_.F=((t.dense?(a[Ce]||[])[He]:a[je])||{}).F}else _.f=""+xi(Y.formula,s,Y.cell,B,C)}N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E(Y.cell,_,t),o=Y}break;case 7:case 519:if(o)o.val=Y,_=px(Y,o.cell.ixfe,"s"),_.XF=P[_.ixfe],t.cellFormula&&(_.f=""+xi(o.formula,s,o.cell,B,C)),N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(Y);var Ge=ir(Y[0].s);if(d=t.dense?(a[Y[0].s.r]||[])[Y[0].s.c]:a[Ge],t.cellFormula&&d){if(!o||!Ge||!d)break;d.f=""+xi(Y[1],s,Y[0],B,C),d.F=Or(Y[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[ir(o.cell)]=Y[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[ir(o.cell)],(d||{}).f=""+xi(Y[0],s,f,B,C)}}break;case 253:_=px(l[Y.isst].t,Y.ixfe,"s"),l[Y.isst].h&&(_.h=l[Y.isst].h),_.XF=P[_.ixfe],N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:Y.ixfe,XF:P[Y.ixfe],t:"z"},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t));break;case 190:if(t.sheetStubs)for(var Fe=Y.c;Fe<=Y.C;++Fe){var Ye=Y.ixfe[Fe-Y.c];_={ixfe:Ye,XF:P[Ye],t:"z"},N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Fe,r:Y.r},_,t)}break;case 214:case 516:case 4:_=px(Y.val,Y.ixfe,"s"),_.XF=P[_.ixfe],N>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),E({c:Y.c,r:Y.r},_,t);break;case 0:case 512:q===1&&(s=Y);break;case 252:l=Y;break;case 1054:if(C.biff==4){R[N++]=Y[1];for(var lt=0;lt<N+163&&lr[lt]!=Y[1];++lt);lt>=163&&Dh(Y[1],N+163)}else Dh(Y[1],Y[0]);break;case 30:{R[N++]=Y;for(var nt=0;nt<N+163&&lr[nt]!=Y;++nt);nt>=163&&Dh(Y,N+163)}break;case 229:H=H.concat(Y);break;case 93:V[Y.cmo[0]]=C.lastobj=Y;break;case 438:C.lastobj.TxO=Y;break;case 127:C.lastobj.ImData=Y;break;case 440:for(v=Y[0].s.r;v<=Y[0].e.r;++v)for(m=Y[0].s.c;m<=Y[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[ir({c:m,r:v})],d&&(d.l=Y[1]);break;case 2048:for(v=Y[0].s.r;v<=Y[0].e.r;++v)for(m=Y[0].s.c;m<=Y[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[ir({c:m,r:v})],d&&d.l&&(d.l.Tooltip=Y[1]);break;case 28:{if(C.biff<=5&&C.biff>=2)break;d=t.dense?(a[Y[0].r]||[])[Y[0].c]:a[ir(Y[0])];var dt=V[Y[2]];d||(t.dense?(a[Y[0].r]||(a[Y[0].r]=[]),d=a[Y[0].r][Y[0].c]={t:"z"}):d=a[ir(Y[0])]={t:"z"},s.e.r=Math.max(s.e.r,Y[0].r),s.s.r=Math.min(s.s.r,Y[0].r),s.e.c=Math.max(s.e.c,Y[0].c),s.s.c=Math.min(s.s.c,Y[0].c)),d.c||(d.c=[]),g={a:Y[1],t:dt.TxO.t},d.c.push(g)}break;case 2173:Fpe(P[Y.ixfe],Y.ext);break;case 125:{if(!C.cellStyles)break;for(;Y.e>=Y.s;)Z[Y.e--]={width:Y.w/256,level:Y.level||0,hidden:!!(Y.flags&1)},W||(W=!0,eN(Y.w/256)),fp(Z[Y.e+1])}break;case 520:{var xt={};Y.level!=null&&(ee[Y.r]=xt,xt.level=Y.level),Y.hidden&&(ee[Y.r]=xt,xt.hidden=!0),Y.hpt&&(ee[Y.r]=xt,xt.hpt=Y.hpt,xt.hpx=$v(Y.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||$g(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ue]]=Y;break;case 161:a["!margins"]||$g(a["!margins"]={}),a["!margins"].header=Y.header,a["!margins"].footer=Y.footer;break;case 574:Y.RTL&&(T.Views[0].RTL=!0);break;case 146:D=Y;break;case 2198:L=Y;break;case 140:O=Y;break;case 442:c?A.CodeName=Y||A.name:T.WBProps.CodeName=Y||"ThisWorkbook";break}}else ce||console.error("Missing Info for XLS Record 0x"+ue.toString(16)),e.l+=J}return r.SheetNames=Ul(i).sort(function(wt,mt){return Number(wt)-Number(mt)}).map(function(wt){return i[wt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&U.forEach(function(wt,mt){r.Sheets[r.SheetNames[mt]]["!autofilter"]=wt}),r.Strings=l,r.SSF=ri(lr),C.enc&&(r.Encryption=C.enc),L&&(r.Themes=L),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),B.names.length>0&&(T.Names=B.names),r.Workbook=T,r}var qD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function v1e(e,t,r){var n=Nr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=kD(n,jhe,qD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Nr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=kD(s,Lhe,qD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Oz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function pq(e,t){t||(t={}),iN(t),zU(),t.codepage&&RC(t.codepage);var r,n;if(e.FullPaths){if(Nr.find(e,"/encryption"))throw new Error("File is password-protected");r=Nr.find(e,"!CompObj"),n=Nr.find(e,"/Workbook")||Nr.find(e,"/Book")}else{switch(t.type){case"base64":e=Yo(Vs(e));break;case"binary":e=Yo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ja(e,0),n={content:e}}var a,i;if(r&&d1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Sr?"buffer":"array";if(n&&n.content)a=g1e(n.content,t);else if((i=Nr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else if((i=Nr.find(e,"NativeContent_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else throw(i=Nr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Nr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=rme(e))}var o={};return e.FullPaths&&v1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var bb={0:{f:Jge},1:{f:rve},2:{f:fve},3:{f:sve},4:{f:ave},5:{f:uve},6:{f:pve},7:{f:lve},8:{f:xve},9:{f:yve},10:{f:gve},11:{f:vve},12:{f:nve},13:{f:hve},14:{f:ove},15:{f:ive},16:{f:cq},17:{f:mve},18:{f:cve},19:{f:KC},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Hve},40:{},42:{},43:{f:gpe},44:{f:mpe},45:{f:vpe},46:{f:xpe},47:{f:ype},48:{},49:{f:bhe},50:{},51:{f:Bpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:zz},62:{f:dve},63:{f:Wpe},64:{f:Cve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ni,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:kve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:tve},148:{f:Zge,p:16},151:{f:_ve},152:{},153:{f:qve},154:{},155:{},156:{f:zve},157:{},158:{},159:{T:1,f:L0e},160:{T:-1},161:{T:1,f:fd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:bve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:$pe},336:{T:-1},337:{f:Vpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:xT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Uz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Sve},427:{f:Ave},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Eve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:eve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:wve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:xT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Zpe},633:{T:1},634:{T:-1},635:{T:1,f:Jpe},636:{T:-1},637:{f:_he},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:jve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Nve},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},AT={6:{f:IS},10:{f:Cu},12:{f:fa},13:{f:fa},14:{f:Jn},15:{f:Jn},16:{f:Ai},17:{f:Jn},18:{f:Jn},19:{f:fa},20:{f:OD},21:{f:OD},23:{f:Uz},24:{f:DD},25:{f:Jn},26:{},27:{},28:{f:Xde},29:{},34:{f:Jn},35:{f:ID},38:{f:Ai},39:{f:Ai},40:{f:Ai},41:{f:Ai},42:{f:Jn},43:{f:Jn},47:{f:epe},49:{f:Ode},51:{f:fa},60:{},61:{f:Cde},64:{f:Jn},65:{f:Pde},66:{f:fa},77:{},80:{},81:{},82:{},85:{f:fa},89:{},90:{},91:{},92:{f:bde},93:{f:Jde},94:{},95:{f:Jn},96:{},97:{},99:{f:Jn},125:{f:zz},128:{f:Vde},129:{f:wde},130:{f:fa},131:{f:Jn},132:{f:Jn},133:{f:_de},134:{},140:{f:a0e},141:{f:fa},144:{},146:{f:s0e},151:{},152:{},153:{},154:{},155:{},156:{f:fa},157:{},158:{},160:{f:f0e},161:{f:l0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Rde},190:{f:Fde},193:{f:Cu},197:{},198:{},199:{},200:{},201:{},202:{f:Jn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:fa},220:{},221:{f:Jn},222:{},224:{f:Bde},225:{f:xde},226:{f:Cu},227:{},229:{f:Qde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Sde},253:{f:Ide},255:{f:Ade},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Mz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Jn},353:{f:Cu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:zde},431:{f:Jn},432:{},433:{},434:{},437:{},438:{f:t0e},439:{f:Jn},440:{f:r0e},441:{},442:{f:K1},443:{},444:{f:fa},445:{},446:{},448:{f:Cu},449:{f:kde,r:2},450:{f:Cu},512:{f:ND},513:{f:u0e},515:{f:Ude},516:{f:Dde},517:{f:PD},519:{f:h0e},520:{f:Tde},523:{},545:{f:jD},549:{f:CD},566:{},574:{f:Nde},638:{f:Mde},659:{},1048:{},1054:{f:jde},1084:{},1212:{f:Gde},2048:{f:n0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:fx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Cu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:o0e,r:12},2173:{f:Rpe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Jn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Hde,r:12},2197:{},2198:{f:Ope,r:12},2199:{},2200:{},2201:{},2202:{f:Kde,r:12},2203:{f:Cu},2204:{},2205:{},2206:{},2207:{},2211:{f:Ede},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:fa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:c0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:i0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ND},1:{},2:{f:g0e},3:{f:m0e},4:{f:p0e},5:{f:PD},7:{f:v0e},8:{},9:{f:fx},11:{},22:{f:fa},30:{f:Lde},31:{},32:{},33:{f:jD},36:{},37:{f:CD},50:{f:y0e},62:{},52:{},67:{},68:{f:fa},69:{},86:{},126:{},127:{f:d0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:x0e},223:{},234:{},354:{},421:{},518:{f:IS},521:{f:fx},536:{f:DD},547:{f:ID},561:{},579:{},1030:{f:IS},1033:{f:fx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Mo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Sz(r)&&e.push(r)}}function WD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=Ufe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var _=w,O=0;_.charAt(0)=="<"&&(O=_.indexOf(">"))>-1;)_=_.slice(O+1);for(var P=0;P<g.length;++P){var D=g[P];D.s.c==u&&D.s.r<c&&c<=D.e.r&&(u=D.e.c+1,P=-1)}var T=Jt(w.slice(0,w.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var A=T.t||T["data-t"]||"";if(!_.length){u+=h;continue}if(_=uz(_),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!_.length){u+=h;continue}var b={t:"s",v:_};r.raw||!_.trim().length||A=="s"||(_==="TRUE"?b={t:"b",v:!0}:_==="FALSE"?b={t:"b",v:!1}:isNaN(nl(_))?isNaN(up(_).getDate())||(b={t:"d",v:Ba(_)},r.cellDates||(b={t:"n",v:Yi(b.v)}),b.z=r.dateNF||lr[14]):b={t:"n",v:nl(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=b):n[ir({r:c,c:u})]=b,u+=h}}}}return n["!ref"]=Or(d),g.length&&(n["!merges"]=g),n}function y1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=ir({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||zC(f.w||(Fc(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(ahe("td",h,d))}}var g="<tr>";return g+i.join("")+"</tr>"}var x1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',b1e="</body></html>";function w1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return jf(WD(r[0],t),t);var n=oN();return r.forEach(function(a,i){lN(n,WD(a,t),"Sheet"+(i+1))}),n}function _1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function S1e(e,t){var r=t||{},n=r.header!=null?r.header:x1e,a=r.footer!=null?r.footer:b1e,i=[n],s=Xp(e["!ref"]);r.dense=Array.isArray(e),i.push(_1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(y1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function mq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Ui(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Xp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var O=o[g];if(HD(O)){if(n.display)continue;d[m]={hidden:!0}}var P=O.children;for(v=y=0;v<P.length;++v){var D=P[v];if(!(n.display&&HD(D))){var T=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):uz(D.innerHTML),A=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<f.length;++h){var b=f[h];b.s.c==y+i&&b.s.r<m+a&&m+a<=b.e.r&&(y=b.e.c+1-i,h=-1)}_=+D.getAttribute("colspan")||1,((w=+D.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(_||1)-1}});var I={t:"s",v:T},E=D.getAttribute("data-t")||D.getAttribute("t")||"";T!=null&&(T.length==0?I.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?I={t:"b",v:!0}:T==="FALSE"?I={t:"b",v:!1}:isNaN(nl(T))?isNaN(up(T).getDate())||(I={t:"d",v:Ba(T)},n.cellDates||(I={t:"n",v:Yi(I.v)}),I.z=n.dateNF||lr[14]):I={t:"n",v:nl(T)})),I.z===void 0&&A!=null&&(I.z=A);var C="",L=D.getElementsByTagName("A");if(L&&L.length)for(var H=0;H<L.length&&!(L[H].hasAttribute("href")&&(C=L[H].getAttribute("href"),C.charAt(0)!="#"));++H);C&&C.charAt(0)!="#"&&(I.l={Target:C}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=I):e[ir({c:y+i,r:m+a})]=I,c.e.c<y+i&&(c.e.c=y+i),y+=_}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Or(c),m>=l&&(e["!fullref"]=Or((c.e.r=o.length-g+m-1+a,c))),e}function gq(e,t){var r=t||{},n=r.dense?[]:{};return mq(n,e,t)}function A1e(e,t){return jf(gq(e,t),t)}function HD(e){var t="",r=T1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function T1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function E1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Mr(t.replace(/<[^>]*>/g,""));return[r]}var GD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function vq(e,t){var r=t||{},n=qC(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],g=r.dense?[]:{},m,v,y={value:""},w="",_=0,O=[],P=-1,D=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,b={},I=[],E={},C=0,L=0,H=[],V=1,Z=1,ee=[],W={Names:[]},B={},ae=["",""],q=[],N={},R="",U=0,K=!1,G=!1,ie=0;for(Mv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Mv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"":m[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?g["!ref"]=Or(T):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(g["!fullref"]=g["!ref"],T.e.r=r.sheetRows-1,g["!ref"]=Or(T)),I.length&&(g["!merges"]=I),H.length&&(g["!rows"]=H),u.name=u.||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=g,G=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=Jt(m[0],!1),P=D=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,g=r.dense?[]:{},I=[],H=[],G=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"":if(m[1]==="/"){P+=V,V=1;break}if(f=Jt(m[0],!1),f.?P=f.-1:P==-1&&(P=0),V=+f["number-rows-repeated"]||1,V<10)for(ie=0;ie<V;++ie)A>0&&(H[P+ie]={level:A});D=-1;break;case"covered-table-cell":m[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][D]={t:"z"}):g[ir({r:P,c:D})]={t:"z"}),w="",O=[];break;case"table-cell":case"":if(m[0].charAt(m[0].length-2)==="/")++D,y=Jt(m[0],!1),Z=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=VD(Mr(y.formula))),(y.||y["value-type"])=="string"&&(v.t="s",v.v=Mr(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][D]=v):g[ir({r:P,c:D})]=v),D+=Z-1;else if(m[1]!=="/"){++D,w="",_=0,O=[],Z=1;var ue=V?P+V-1:P;if(D>T.e.c&&(T.e.c=D),D<T.s.c&&(T.s.c=D),P<T.s.r&&(T.s.r=P),ue>T.e.r&&(T.e.r=ue),y=Jt(m[0],!1),q=[],N={},v={t:y.||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Mr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(C=parseInt(y["number-matrix-rows-spanned"],10)||0,L=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:P,c:D},e:{r:P+C-1,c:D+L-1}},v.F=Or(E),ee.push([E,v.F])),y.formula)v.f=VD(y.formula);else for(ie=0;ie<ee.length;++ie)P>=ee[ie][0].s.r&&P<=ee[ie][0].e.r&&D>=ee[ie][0].s.c&&D<=ee[ie][0].e.c&&(v.F=ee[ie][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(C=parseInt(y["number-rows-spanned"],10)||0,L=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:P,c:D},e:{r:P+C-1,c:D+L-1}},I.push(E)),y["number-columns-repeated"]&&(Z=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=En(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Ba(y["date-value"]),r.cellDates||(v.t="n",v.v=Yi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=$fe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=p5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=Mr(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=w||"",O.length&&(v.R=O),K=_==0),B.Target&&(v.l=B),q.length>0&&(v.c=q,q=[]),w&&r.cellText!==!1&&(v.w=w),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var J=0;J<V;++J){if(Z=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+J]||(g[P+J]=[]),g[P+J][D]=J==0?v:ri(v);--Z>0;)g[P+J][D+Z]=ri(v);else for(g[ir({r:P+J,c:D})]=v;--Z>0;)g[ir({r:P+J,c:D+Z})]=ri(v);T.e.c<=D&&(T.e.c=D)}Z=parseInt(y["number-columns-repeated"]||"1",10),D+=Z-1,Z=0,v={},w="",O=[]}B={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;N.t=w,O.length&&(N.R=O),N.a=R,q.push(N)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",U=0,w="",_=0,O=[];break;case"creator":m[1]==="/"?R=n.slice(U,m.index):U=m.index+m[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",_=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(b[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=Jt(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Jt(m[0],!1),l+=GD[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Jt(m[0],!1),l+=GD[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=Jt(m[0],!1),ae=DS(s["cell-range-address"]);var ce={Name:s.name,Ref:ae[0]+"!"+ae[1]};G&&(ce.Sheet=d.length),W.Names.push(ce);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var pe=E1e(n.slice(_,m.index));w=(w.length>0?w+`
`:"")+pe[0]}else Jt(m[0],!1),_=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{ae=DS(Jt(m[0])["target-range-address"]),h[ae[0]]["!autofilter"]={ref:ae[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(B=Jt(m[0],!1),!B.href)break;B.Target=Mr(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(ae=DS(B.Target.slice(1)),B.Target="#"+ae[0]+"!"+ae[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(m)}}var Y={Sheets:h,SheetNames:d,Workbook:W};return r.bookSheets&&delete Y.Sheets,Y}function KD(e,t){t=t||{},so(e,"META-INF/manifest.xml")&&Uhe(ua(e,"META-INF/manifest.xml"),t);var r=Is(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=vq(mn(r),t);return so(e,"meta.xml")&&(n.Props=Pz(ua(e,"meta.xml"))),n}function YD(e,t){return vq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function nN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function TT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):mn(cd(e))}function ET(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function XD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function k1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Bv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function ka(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ei(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Bv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Bv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function aN(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function C1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Bv(e,n),i=Ei(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:ka(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Ei(o.data),c=ka(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=ka(i[3][0].data)>>>0>0),r.push(s)}return r}function N1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Bv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[ET(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=ET(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function P1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(N1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return ET(t)}function O1e(e,t,r,n){var a=nN(e),i=a.getUint32(4,!0),s=(n>1?12:8)+XD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=XD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function I1e(e,t,r){var n=nN(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=k1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function D1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return O1e(e,t,r,e[0]);case 5:return I1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ff(e){var t=Ei(e);return Bv(t[1][0].data)}function QD(e,t){var r=Ei(t.data),n=ka(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ei(s.data),l=ka(o[1][0].data)>>>0;switch(n){case 1:i[l]=TT(o[3][0].data);break;case 8:{var c=e[ff(o[9][0].data)][0],u=Ei(c.data),f=e[ff(u[1][0].data)][0],h=ka(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=Ei(f.data);i[l]=d[3].map(function(g){return TT(g.data)}).join("")}break}}),i}function j1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g,m,v=Ei(e),y=ka(v[1][0].data)>>>0,w=ka(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&ka(v[8][0].data)>0||!1,O,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)O=(d=(h=v[4])==null?void 0:h[0])==null?void 0:d.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=_?4:1,T=nN(O),A=[],b=0;b<O.length/2;++b){var I=T.getUint16(b*2,!0);I<65535&&A.push([b,I])}if(A.length!=w)throw"Expected ".concat(w," cells, found ").concat(A.length);var E=[];for(b=0;b<A.length-1;++b)E[A[b][0]]=P.subarray(A[b][1]*D,A[b+1][1]*D);return A.length>=1&&(E[A[A.length-1][0]]=P.subarray(A[A.length-1][1]*D)),{R:y,cells:E}}function L1e(e,t){var r,n=Ei(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?ka(n[7][0].data)>>>0>0?1:0:-1,i=aN(n[5],function(s){return j1e(s,a)});return{nrows:ka(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function M1e(e,t,r){var n,a=Ei(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(ka(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(ka(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Or(i);var s=Ei(a[4][0].data),o=QD(e,e[ff(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?QD(e,e[ff(s[17][0].data)][0]):[],c=Ei(s[3][0].data),u=0;c[1].forEach(function(f){var h=Ei(f.data),d=e[ff(h[2][0].data)][0],g=ka(d.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=L1e(e,d);m.data.forEach(function(v,y){v.forEach(function(w,_){var O=ir({r:u+y,c:_}),P=D1e(w,o,l);P&&(r[O]=P)})}),u+=m.nrows})}function R1e(e,t){var r=Ei(t.data),n={"!ref":"A1"},a=e[ff(r[2][0].data)],i=ka(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return M1e(e,a[0],n),n}function F1e(e,t){var r,n=Ei(t.data),a={name:(r=n[1])!=null&&r[0]?TT(n[1][0].data):"",sheets:[]},i=aN(n[2],ff);return i.forEach(function(s){e[s].forEach(function(o){var l=ka(o.meta[1][0].data);l==6e3&&a.sheets.push(R1e(e,o))})}),a}function $1e(e,t){var r=oN(),n=Ei(t.data),a=aN(n[1],ff);if(a.forEach(function(i){e[i].forEach(function(s){var o=ka(s.meta[1][0].data);if(o==2){var l=F1e(e,s);l.sheets.forEach(function(c,u){lN(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function LS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=P1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=C1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&ka(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=ka(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return $1e(i,o)}function B1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function iN(e){B1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function V1e(e){return y0.WS.indexOf(e)>-1?"sheet":e==y0.CS?"chart":e==y0.DS?"dialog":e==y0.MS?"macro":e&&e.length?e:"sheet"}function U1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,V1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function z1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Lg(Is(e,r,!0),t);var h=ua(e,t),d;switch(o){case"sheet":d=Yve(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=Xve(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var g=cg(d["!drawel"].Target,t),m=bT(g),v=Kpe(Is(e,g,!0),Lg(Is(e,m,!0),g)),y=cg(v,g),w=bT(y);d=Ive(Is(e,y,!0),y,l,Lg(Is(e,w,!0),y),c,d);break;case"macro":d=Qve(h,t,a,l,i[n],c,u,f);break;case"dialog":d=Jve(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var _=[];i&&i[n]&&Ul(i[n]).forEach(function(O){var P="";if(i[n][O].Type==y0.CMNT){P=cg(i[n][O].Target,t);var D=r1e(ua(e,P,!0),P,l);if(!D||!D.length)return;MD(d,D,!1)}i[n][O].Type==y0.TCMNT&&(P=cg(i[n][O].Target,t),_=_.concat(Xpe(ua(e,P,!0),l)))}),_&&_.length&&MD(d,_,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function eo(e){return e.charAt(0)=="/"?e.slice(1):e}function q1e(e,t){if(tz(),t=t||{},iN(t),so(e,"META-INF/manifest.xml")||so(e,"objectdata.xml"))return KD(e,t);if(so(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof LS<"u"){if(e.FileIndex)return LS(e);var r=Nr.utils.cfb_new();return cD(e).forEach(function(H){Wfe(r,H,qfe(e,H))}),LS(r)}throw new Error("Unsupported NUMBERS file")}if(!so(e,"[Content_Types].xml"))throw so(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):so(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=cD(e),a=Bhe(Is(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",ua(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!ua(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Fg=[],a.sst)try{Fg=t1e(ua(e,eo(a.sst)),a.sst,t)}catch(H){if(t.WTF)throw H}t.cellStyles&&a.themes.length&&(l=e1e(Is(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=Zve(ua(e,eo(a.style)),a.style,l,t))}a.links.map(function(H){try{var V=Lg(Is(e,bT(eo(H))),H);return a1e(ua(e,eo(H)),V,H,t)}catch{}});var u=Kve(ua(e,eo(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=ua(e,eo(a.coreprops[0]),!0),h&&(f=Pz(h)),a.extprops.length!==0&&(h=ua(e,eo(a.extprops[0]),!0),h&&Whe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Is(e,eo(a.custprops[0]),!0),h&&(d=Ghe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(V){return V.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=d),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=n1e(ua(e,eo(a.calcchain)),a.calcchain));var v=0,y={},w,_;{var O=u.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var P=0;P!=O.length;++P)f.SheetNames[P]=O[P].name}var D=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");so(e,A)||(A="xl/_rels/workbook."+D+".rels");var b=Lg(Is(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=i1e(ua(e,eo(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Qpe(ua(e,eo(a.people[0])),t)),b&&(b=U1e(b,u.Sheets));var I=ua(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(b&&b[v]?(w="xl/"+b[v][1].replace(/[\/]?xl\//,""),so(e,w)||(w=b[v][1]),so(e,w)||(w=A.replace(/_rels\/.*$/,"")+b[v][1]),E=b[v][2]):(w="xl/worksheets/sheet"+(v+1-I)+"."+D,w=w.replace(/sheet0\./,"sheet.")),_=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var C=!1,L=0;L!=t.sheets.length;++L)typeof t.sheets[L]=="number"&&t.sheets[L]==v&&(C=1),typeof t.sheets[L]=="string"&&t.sheets[L].toLowerCase()==f.SheetNames[v].toLowerCase()&&(C=1);if(!C)continue e}}z1e(e,w,_,f.SheetNames[v],v,y,s,E,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Fg,Styles:c,Themes:l,SSF:ri(lr)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(H,V){H=H.replace(/^Root Entry[\/]/,""),g.keys.push(H),g.files[H]=e.FileIndex[V]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=ua(e,eo(a.vba[0]),!0):a.defaults&&a.defaults.bin===tme&&(g.vbaraw=ua(e,"xl/vbaProject.bin",!0))),g}function W1e(e,t){var r=t||{},n="Workbook",a=Nr.find(e,n);try{if(n="/!DataSpaces/Version",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(R0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=$0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=B0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);U0e(a.content)}catch{}if(n="/EncryptionInfo",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=z0e(a.content);if(n="/EncryptedPackage",a=Nr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function sN(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Vs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function H1e(e,t){return Nr.find(e,"EncryptedPackage")?W1e(e,t):pq(e,t)}function G1e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Sr&&Buffer.isBuffer(e)?"buffer":"base64"),r=oz(n,a),q1e(r,a)}function yq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return ST(e.slice(r),t);default:break e}return Rv.to_workbook(e,t)}function K1e(e,t){var r="",n=sN(e,t);switch(t.type){case"base64":r=Vs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Xh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=mn(r)),t.type="binary",yq(r,t)}function Y1e(e,t){var r=e;return t.type=="base64"&&(r=Vs(r)),r=$u.utils.decode(1200,r.slice(2),"str"),t.type="binary",yq(r,t)}function X1e(e){return e.match(/[^\x00-\x7F]/)?ug(e):e}function MS(e,t,r,n){return n?(r.type="string",Rv.to_workbook(e,r)):Rv.to_workbook(t,r)}function kT(e,t){zU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return kT(new Uint8Array(e),(r=ri(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),D0={},r.dateNF&&(D0.dateNF=r.dateNF),r.type||(r.type=Sr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Sr?"buffer":"binary",n=Rfe(e),typeof Uint8Array<"u"&&!Sr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=X1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ri(r),r.type="array",kT(FC(n),r)}switch((a=sN(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return H1e(Nr.read(n,r),r);break;case 9:if(a[1]<=8)return pq(n,r);break;case 60:return ST(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return A0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return _0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?G1e(n,r):MS(e,n,r,i);case 239:return a[3]===60?ST(n,r):MS(e,n,r,i);case 255:if(a[1]===254)return Y1e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Rg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Rg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return LD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return tpe.to_workbook(n,r);break;case 10:case 13:case 32:return K1e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return b0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?LD.to_workbook(n,r):MS(e,n,r,i)}function Q1e(e,t,r,n,a,i,s,o){var l=ni(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var g=s?e[r][d]:e[n[d]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[d]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&m===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Fc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function CT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Yn(u);break;case"number":l=Yn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=ni(l.s.r),h=[],d=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,_={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(O[w]||{}).hidden)switch(h[w]=Aa(w),r=v?e[y][w]:e[h[w]+f],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Fc(r,null,c),m=_[s]||0,!m)_[s]=1;else{do o=s+"_"+m++;while(_[o]);_[s]=m,_[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var D=Q1e(e,l,y,h,n,i,v,c);(D.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[g++]=D.row)}return d.length=g,d}var JD=/"/g;function J1e(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=ni(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:Fc(d,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(JD,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(JD,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function xq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Yn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Aa(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(d[v]||{}).hidden||(u=J1e(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function Z1e(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=xq(e,t);return r}function eye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Yn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Aa(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=ni(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function bq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Ui(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Yn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(m,v){Ul(m).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var w=m[y],_="z",O="",P=ir({c:o+d,r:s+v+a});c=Vv(i,P),w&&typeof w=="object"&&!(w instanceof Date)?i[P]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",n.cellDates||(_="n",w=Yi(w)),O=n.dateNF||lr[14]):w===null&&n.nullError&&(_="e",w=0),c?(c.t=_,c.v=w,delete c.w,delete c.R,O&&(c.z=O)):i[P]=c={t:_,v:w},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=ni(s);if(a)for(d=0;d<h.length;++d)i[Aa(d+o)+g]={t:"s",v:h[d]};return i["!ref"]=Or(u),i}function tye(e,t){return bq(null,e,t)}function Vv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Ui(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Vv(e,ir(t)):Vv(e,ir({r:t,c:r||0}))}function rye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function oN(){return{SheetNames:[],Sheets:{}}}function lN(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Bve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function nye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=rye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function aye(e,t){return e.z=t,e}function wq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function iye(e,t,r){return wq(e,"#"+t,r)}function sye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function oye(e,t,r,n){for(var a=typeof t!="string"?t:Yn(t),i=typeof t=="string"?t:Or(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Vv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var lye={encode_col:Aa,encode_row:ni,encode_cell:ir,encode_range:Or,decode_col:GC,decode_row:HC,split_cell:xhe,decode_cell:Ui,decode_range:Xp,format_cell:Fc,sheet_add_aoa:Tz,sheet_add_json:bq,sheet_add_dom:mq,aoa_to_sheet:Qp,json_to_sheet:tye,table_to_sheet:gq,table_to_book:A1e,sheet_to_csv:xq,sheet_to_txt:Z1e,sheet_to_json:CT,sheet_to_html:S1e,sheet_to_formulae:eye,sheet_to_row_object_array:CT,sheet_get_cell:Vv,book_new:oN,book_append_sheet:lN,book_set_sheet_visibility:nye,cell_set_number_format:aye,cell_set_hyperlink:wq,cell_set_internal_link:iye,cell_add_comment:sye,sheet_set_array_formula:oye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},_q={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Qm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var I=P(b);I.chunkSize=parseInt(I.chunkSize),b.step||b.chunk||(I.chunkSize=null),this._handle=new m(I),(this._handle.streamer=this)._config=I}).call(this,A),this.parseChunk=function(b,I){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let L=this._config.newline;L||(C=this._config.quoteChar||'"',L=this._handle.guessLineEndings(b,C)),b=[...b.split(L).slice(E)].join(L)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(b))!==void 0&&(b=C),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+b,C=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=C.meta.cursor,E=(this._finished||(this._partialLine=E.substring(b-this._baseIndex),this._baseIndex=b),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:C,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!I){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!E||!T(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(b){T(this._config.error)?this._config.error(b):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:b,finished:!1})}}function f(A){var b;(A=A||{}).chunkSize||(A.chunkSize=c.RemoteChunkSize),u.call(this,A),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(I){this._input=I,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),i||(b.onload=D(this._chunkLoaded,this),b.onerror=D(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var I,E=this._config.downloadRequestHeaders;for(I in E)b.setRequestHeader(I,E[I])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+C));try{b.send(this._config.downloadRequestBody)}catch(L){this._chunkError(L.message)}i&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(I=>(I=I.getResponseHeader("Content-Range"))!==null?parseInt(I.substring(I.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(I){I=b.statusText||I,this._sendError(new Error(I))}}function h(A){(A=A||{}).chunkSize||(A.chunkSize=c.LocalChunkSize),u.call(this,A);var b,I,E=typeof FileReader<"u";this.stream=function(C){this._input=C,I=C.slice||C.webkitSlice||C.mozSlice,E?((b=new FileReader).onload=D(this._chunkLoaded,this),b.onerror=D(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,L=(this._config.chunkSize&&(L=Math.min(this._start+this._config.chunkSize,this._input.size),C=I.call(C,this._start,L)),b.readAsText(C,this._config.encoding));E||this._chunkLoaded({target:{result:L}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(b.error)}}function d(A){var b;u.call(this,A=A||{}),this.stream=function(I){return b=I,this._nextChunk()},this._nextChunk=function(){var I,E;if(!this._finished)return I=this._config.chunkSize,b=I?(E=b.substring(0,I),b.substring(I)):(E=b,""),this._finished=!b,this.parseChunk(E)}}function g(A){u.call(this,A=A||{});var b=[],I=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):I=!0},this._streamData=D(function(C){try{b.push(typeof C=="string"?C:C.toString(this._config.encoding)),I&&(I=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(L){this._streamError(L)}},this),this._streamError=D(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=D(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(A){var b,I,E,C,L=Math.pow(2,53),H=-L,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Z=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ee=this,W=0,B=0,ae=!1,q=!1,N=[],R={data:[],errors:[],meta:{}};function U(ue){return A.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function K(){if(R&&E&&(ie("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),A.skipEmptyLines&&(R.data=R.data.filter(function(pe){return!U(pe)})),G()){let pe=function(Y,fe){T(A.transformHeader)&&(Y=A.transformHeader(Y,fe)),N.push(Y)};if(R)if(Array.isArray(R.data[0])){for(var ue=0;G()&&ue<R.data.length;ue++)R.data[ue].forEach(pe);R.data.splice(0,1)}else R.data.forEach(pe)}function J(pe,Y){for(var fe=A.header?{}:[],Se=0;Se<pe.length;Se++){var ye=Se,te=pe[Se],te=((Te,Ee)=>(Ce=>(A.dynamicTypingFunction&&A.dynamicTyping[Ce]===void 0&&(A.dynamicTyping[Ce]=A.dynamicTypingFunction(Ce)),(A.dynamicTyping[Ce]||A.dynamicTyping)===!0))(Te)?Ee==="true"||Ee==="TRUE"||Ee!=="false"&&Ee!=="FALSE"&&((Ce=>{if(V.test(Ce)&&(Ce=parseFloat(Ce),H<Ce&&Ce<L))return 1})(Ee)?parseFloat(Ee):Z.test(Ee)?new Date(Ee):Ee===""?null:Ee):Ee)(ye=A.header?Se>=N.length?"__parsed_extra":N[Se]:ye,te=A.transform?A.transform(te,ye):te);ye==="__parsed_extra"?(fe[ye]=fe[ye]||[],fe[ye].push(te)):fe[ye]=te}return A.header&&(Se>N.length?ie("FieldMismatch","TooManyFields","Too many fields: expected "+N.length+" fields but parsed "+Se,B+Y):Se<N.length&&ie("FieldMismatch","TooFewFields","Too few fields: expected "+N.length+" fields but parsed "+Se,B+Y)),fe}var ce;R&&(A.header||A.dynamicTyping||A.transform)&&(ce=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(J),ce=R.data.length):R.data=J(R.data,0),A.header&&R.meta&&(R.meta.fields=N),B+=ce)}function G(){return A.header&&N.length===0}function ie(ue,J,ce,pe){ue={type:ue,code:J,message:ce},pe!==void 0&&(ue.row=pe),R.errors.push(ue)}T(A.step)&&(C=A.step,A.step=function(ue){R=ue,G()?K():(K(),R.data.length!==0&&(W+=ue.data.length,A.preview&&W>A.preview?I.abort():(R.data=R.data[0],C(R,ee))))}),this.parse=function(ue,J,ce){var pe=A.quoteChar||'"',pe=(A.newline||(A.newline=this.guessLineEndings(ue,pe)),E=!1,A.delimiter?T(A.delimiter)&&(A.delimiter=A.delimiter(ue),R.meta.delimiter=A.delimiter):((pe=((Y,fe,Se,ye,te)=>{var Te,Ee,Ce,He;te=te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var je=0;je<te.length;je++){for(var Ge,Fe=te[je],Ye=0,lt=0,nt=0,dt=(Ce=void 0,new y({comments:ye,delimiter:Fe,newline:fe,preview:10}).parse(Y)),xt=0;xt<dt.data.length;xt++)Se&&U(dt.data[xt])?nt++:(Ge=dt.data[xt].length,lt+=Ge,Ce===void 0?Ce=Ge:0<Ge&&(Ye+=Math.abs(Ge-Ce),Ce=Ge));0<dt.data.length&&(lt/=dt.data.length-nt),(Ee===void 0||Ye<=Ee)&&(He===void 0||He<lt)&&1.99<lt&&(Ee=Ye,Te=Fe,He=lt)}return{successful:!!(A.delimiter=Te),bestDelimiter:Te}})(ue,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=pe.bestDelimiter:(E=!0,A.delimiter=c.DefaultDelimiter),R.meta.delimiter=A.delimiter),P(A));return A.preview&&A.header&&pe.preview++,b=ue,I=new y(pe),R=I.parse(b,J,ce),K(),ae?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return ae},this.pause=function(){ae=!0,I.abort(),b=T(A.chunk)?"":b.substring(I.getCharIndex())},this.resume=function(){ee.streamer._halted?(ae=!1,ee.streamer.parseChunk(b,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return q},this.abort=function(){q=!0,I.abort(),R.meta.aborted=!0,T(A.complete)&&A.complete(R),b=""},this.guessLineEndings=function(Y,pe){Y=Y.substring(0,1048576);var pe=new RegExp(v(pe)+"([^]*?)"+v(pe),"gm"),ce=(Y=Y.replace(pe,"")).split("\r"),pe=Y.split(`
`),Y=1<pe.length&&pe[0].length<ce[0].length;if(ce.length===1||Y)return`
`;for(var fe=0,Se=0;Se<ce.length;Se++)ce[Se][0]===`
`&&fe++;return fe>=ce.length/2?`\r
`:"\r"}}function v(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(A){var b=(A=A||{}).delimiter,I=A.newline,E=A.comments,C=A.step,L=A.preview,H=A.fastMode,V=null,Z=!1,ee=A.quoteChar==null?'"':A.quoteChar,W=ee;if(A.escapeChar!==void 0&&(W=A.escapeChar),(typeof b!="string"||-1<c.BAD_DELIMITERS.indexOf(b))&&(b=","),E===b)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),I!==`
`&&I!=="\r"&&I!==`\r
`&&(I=`
`);var B=0,ae=!1;this.parse=function(q,N,R){if(typeof q!="string")throw new Error("Input must be a string");var U=q.length,K=b.length,G=I.length,ie=E.length,ue=T(C),J=[],ce=[],pe=[],Y=B=0;if(!q)return Ye();if(H||H!==!1&&q.indexOf(ee)===-1){for(var fe=q.split(I),Se=0;Se<fe.length;Se++){if(pe=fe[Se],B+=pe.length,Se!==fe.length-1)B+=I.length;else if(R)return Ye();if(!E||pe.substring(0,ie)!==E){if(ue){if(J=[],He(pe.split(b)),lt(),ae)return Ye()}else He(pe.split(b));if(L&&L<=Se)return J=J.slice(0,L),Ye(!0)}}return Ye()}for(var ye=q.indexOf(b,B),te=q.indexOf(I,B),Te=new RegExp(v(W)+v(ee),"g"),Ee=q.indexOf(ee,B);;)if(q[B]===ee)for(Ee=B,B++;;){if((Ee=q.indexOf(ee,Ee+1))===-1)return R||ce.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:B}),Ge();if(Ee===U-1)return Ge(q.substring(B,Ee).replace(Te,ee));if(ee===W&&q[Ee+1]===W)Ee++;else if(ee===W||Ee===0||q[Ee-1]!==W){ye!==-1&&ye<Ee+1&&(ye=q.indexOf(b,Ee+1));var Ce=je((te=te!==-1&&te<Ee+1?q.indexOf(I,Ee+1):te)===-1?ye:Math.min(ye,te));if(q.substr(Ee+1+Ce,K)===b){pe.push(q.substring(B,Ee).replace(Te,ee)),q[B=Ee+1+Ce+K]!==ee&&(Ee=q.indexOf(ee,B)),ye=q.indexOf(b,B),te=q.indexOf(I,B);break}if(Ce=je(te),q.substring(Ee+1+Ce,Ee+1+Ce+G)===I){if(pe.push(q.substring(B,Ee).replace(Te,ee)),Fe(Ee+1+Ce+G),ye=q.indexOf(b,B),Ee=q.indexOf(ee,B),ue&&(lt(),ae))return Ye();if(L&&J.length>=L)return Ye(!0);break}ce.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:B}),Ee++}}else if(E&&pe.length===0&&q.substring(B,B+ie)===E){if(te===-1)return Ye();B=te+G,te=q.indexOf(I,B),ye=q.indexOf(b,B)}else if(ye!==-1&&(ye<te||te===-1))pe.push(q.substring(B,ye)),B=ye+K,ye=q.indexOf(b,B);else{if(te===-1)break;if(pe.push(q.substring(B,te)),Fe(te+G),ue&&(lt(),ae))return Ye();if(L&&J.length>=L)return Ye(!0)}return Ge();function He(nt){J.push(nt),Y=B}function je(nt){var dt=0;return dt=nt!==-1&&(nt=q.substring(Ee+1,nt))&&nt.trim()===""?nt.length:dt}function Ge(nt){return R||(nt===void 0&&(nt=q.substring(B)),pe.push(nt),B=U,He(pe),ue&&lt()),Ye()}function Fe(nt){B=nt,He(pe),pe=[],te=q.indexOf(I,B)}function Ye(nt){if(A.header&&!N&&J.length&&!Z){var dt=J[0],xt=Object.create(null),wt=new Set(dt);let mt=!1;for(let et=0;et<dt.length;et++){let Bt=dt[et];if(xt[Bt=T(A.transformHeader)?A.transformHeader(Bt,et):Bt]){let Lt,Gr=xt[Bt];for(;Lt=Bt+"_"+Gr,Gr++,wt.has(Lt););wt.add(Lt),dt[et]=Lt,xt[Bt]++,mt=!0,(V=V===null?{}:V)[Lt]=Bt}else xt[Bt]=1,dt[et]=Bt;wt.add(Bt)}mt&&console.warn("Duplicate headers found and renamed."),Z=!0}return{data:J,errors:ce,meta:{delimiter:b,linebreak:I,aborted:ae,truncated:!!nt,cursor:Y+(N||0),renamedHeaders:V}}}function lt(){C(Ye()),J=[],ce=[]}},this.abort=function(){ae=!0},this.getCharIndex=function(){return B}}function w(A){var b=A.data,I=o[b.workerId],E=!1;if(b.error)I.userError(b.error,b.file);else if(b.results&&b.results.data){var C={abort:function(){E=!0,_(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(T(I.userStep)){for(var L=0;L<b.results.data.length&&(I.userStep({data:b.results.data[L],errors:b.results.errors,meta:b.results.meta},C),!E);L++);delete b.results}else T(I.userChunk)&&(I.userChunk(b.results,C,b.file),delete b.results)}b.finished&&!E&&_(b.workerId,b.results)}function _(A,b){var I=o[A];T(I.userComplete)&&I.userComplete(b),I.terminate(),delete o[A]}function O(){throw new Error("Not implemented.")}function P(A){if(typeof A!="object"||A===null)return A;var b,I=Array.isArray(A)?[]:{};for(b in A)I[b]=P(A[b]);return I}function D(A,b){return function(){A.apply(b,arguments)}}function T(A){return typeof A=="function"}return c.parse=function(A,b){var I=(b=b||{}).dynamicTyping||!1;if(T(I)&&(b.dynamicTypingFunction=I,I={}),b.dynamicTyping=I,b.transform=!!T(b.transform)&&b.transform,!b.worker||!c.WORKERS_SUPPORTED)return I=null,c.NODE_STREAM_INPUT,typeof A=="string"?(A=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(A),I=new(b.download?f:d)(b)):A.readable===!0&&T(A.read)&&T(A.on)?I=new g(b):(n.File&&A instanceof File||A instanceof Object)&&(I=new h(b)),I.stream(A);(I=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var C=n.URL||n.webkitURL||null,L=r.toString();return c.BLOB_URL||(c.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",L,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=w,E.id=l++,o[E.id]=E)})()).userStep=b.step,I.userChunk=b.chunk,I.userComplete=b.complete,I.userError=b.error,b.step=T(b.step),b.chunk=T(b.chunk),b.complete=T(b.complete),b.error=T(b.error),delete b.worker,I.postMessage({input:A,config:b,workerId:I.id})},c.unparse=function(A,b){var I=!1,E=!0,C=",",L=`\r
`,H='"',V=H+H,Z=!1,ee=null,W=!1,B=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||c.BAD_DELIMITERS.filter(function(N){return b.delimiter.indexOf(N)!==-1}).length||(C=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(I=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(Z=b.skipEmptyLines),typeof b.newline=="string"&&(L=b.newline),typeof b.quoteChar=="string"&&(H=b.quoteChar),typeof b.header=="boolean"&&(E=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");ee=b.columns}b.escapeChar!==void 0&&(V=b.escapeChar+H),b.escapeFormulae instanceof RegExp?W=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(W=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(H),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ae(null,A,Z);if(typeof A[0]=="object")return ae(ee||Object.keys(A[0]),A,Z)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||ee),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ae(A.fields||[],A.data||[],Z);throw new Error("Unable to serialize unrecognized input");function ae(N,R,U){var K="",G=(typeof N=="string"&&(N=JSON.parse(N)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(N)&&0<N.length),ie=!Array.isArray(R[0]);if(G&&E){for(var ue=0;ue<N.length;ue++)0<ue&&(K+=C),K+=q(N[ue],ue);0<R.length&&(K+=L)}for(var J=0;J<R.length;J++){var ce=(G?N:R[J]).length,pe=!1,Y=G?Object.keys(R[J]).length===0:R[J].length===0;if(U&&!G&&(pe=U==="greedy"?R[J].join("").trim()==="":R[J].length===1&&R[J][0].length===0),U==="greedy"&&G){for(var fe=[],Se=0;Se<ce;Se++){var ye=ie?N[Se]:Se;fe.push(R[J][ye])}pe=fe.join("").trim()===""}if(!pe){for(var te=0;te<ce;te++){0<te&&!Y&&(K+=C);var Te=G&&ie?N[te]:te;K+=q(R[J][Te],te)}J<R.length-1&&(!U||0<ce&&!Y)&&(K+=L)}}return K}function q(N,R){var U,K;return N==null?"":N.constructor===Date?JSON.stringify(N).slice(1,25):(K=!1,W&&typeof N=="string"&&W.test(N)&&(N="'"+N,K=!0),U=N.toString().replace(B,V),(K=K||I===!0||typeof I=="function"&&I(N,R)||Array.isArray(I)&&I[R]||((G,ie)=>{for(var ue=0;ue<ie.length;ue++)if(-1<G.indexOf(ie[ue]))return!0;return!1})(U,c.BAD_DELIMITERS)||-1<U.indexOf(C)||U.charAt(0)===" "||U.charAt(U.length-1)===" ")?H+U+H:U)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(A){var b=A.config||{},I=[];return this.each(function(L){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)I.push({file:this.files[H],inputElem:this,instanceConfig:a.extend({},b)})}),E(),this;function E(){if(I.length===0)T(A.complete)&&A.complete();else{var L,H,V,Z,ee=I[0];if(T(A.before)){var W=A.before(ee.file,ee.inputElem);if(typeof W=="object"){if(W.action==="abort")return L="AbortError",H=ee.file,V=ee.inputElem,Z=W.reason,void(T(A.error)&&A.error({name:L},H,V,Z));if(W.action==="skip")return void C();typeof W.config=="object"&&(ee.instanceConfig=a.extend(ee.instanceConfig,W.config))}else if(W==="skip")return void C()}var B=ee.instanceConfig.complete;ee.instanceConfig.complete=function(ae){T(B)&&B(ae,ee.file,ee.inputElem),C()},c.parse(ee.file,ee.instanceConfig)}}function C(){I.splice(0,1),E()}}),s&&(n.onmessage=function(A){A=A.data,c.WORKER_ID===void 0&&A&&(c.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=c.parse(A.input,A.config))&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(_q);var cye=_q.exports;const uye=sn(cye),Sq=()=>{const{user:e}=ga(),{isDarkMode:t}=zr(),[r,n]=Q.useState(!1),[a,i]=Q.useState([]),[s,o]=Q.useState(!1),[l,c]=Q.useState({name:"",unit:"",barcode:""}),[u,f]=Q.useState(null),[h,d]=Q.useState(null),[g,m]=Q.useState(!1),[v,y]=Q.useState(!1),[w,_]=Q.useState(null),[O,P]=Q.useState(null),[D,T]=Q.useState(!1),[A,b]=Q.useState(""),[I,E]=Q.useState(null),[C,L]=Q.useState(null),H=Ie.useRef(null),[V,Z]=Q.useState(null);Q.useEffect(()=>{ee(),W()},[]);const ee=async G=>{o(!0);try{let ie;if(G&&G.trim()!==""){const ue=fr(_t(it,"scannedProducts"),dr("name",">=",G),dr("name","<=",G+""),Ra("name"),Zx(100)),J=fr(_t(it,"scannedProducts"),dr("barcode",">=",G),dr("barcode","<=",G+""),Ra("barcode"),Zx(100)),[ce,pe]=await Promise.all([cr(ue),cr(J)]),Y=[...ce.docs,...pe.docs].reduce((fe,Se)=>(fe.some(ye=>ye.id===Se.id)||fe.push(Se),fe),[]);i(Y.map(fe=>{const Se=fe.data();return{id:fe.id,name:Se.name,unit:Se.unit,barcode:Se.barcode,createdAt:Se.createdAt instanceof qt?Se.createdAt.toDate():new Date(Se.createdAt)}}))}else{ie=fr(_t(it,"scannedProducts"),Ra("createdAt","desc"),Zx(100));const J=(await cr(ie)).docs.map(ce=>{const pe=ce.data();return{id:ce.id,name:pe.name,unit:pe.unit,barcode:pe.barcode,createdAt:pe.createdAt instanceof qt?pe.createdAt.toDate():new Date(pe.createdAt)}});i(J)}}catch{f("Failed to fetch products")}finally{o(!1)}},W=async()=>{try{const G=_t(it,"scannedProducts"),ie=await Zk(G);Z(ie.data().count)}catch{Z(null)}},B=G=>{G?(c({name:G.name||"",unit:G.unit||"",barcode:G.barcode||""}),d(G)):(c({name:"",unit:"",barcode:""}),d(null)),n(!0),f(null)},ae=()=>{n(!1),f(null)},q=G=>{c({...l,[G.target.name]:G.target.value})},N=async G=>{c(ie=>({...ie,barcode:G})),m(!1),_(null),y(!0);try{const ue=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${G}`,ce=await(await fetch(ue)).json();if(ce&&ce.items&&ce.items.length>0){const pe=ce.items[0];c(Y=>({...Y,name:pe.title||Y.name}))}else _("No product info found for this barcode.")}catch{_("Failed to fetch product info.")}finally{y(!1)}},R=async G=>{if(G.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("All fields are required");return}o(!0);try{const ie=l.name.toUpperCase();if(h){const ue=Br(it,"scannedProducts",h.id);if(await _a(ue,{name:ie,unit:l.unit,barcode:l.barcode}),e&&h){const J=[];h.name!==ie&&J.push(`name from "${h.name}" to "${ie}"`),h.unit!==l.unit&&J.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&J.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),J.length>0&&await _r(_t(it,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${ie}": ${J.join(", ")}`,time:new Date().toISOString()})}}else await _r(_t(it,"scannedProducts"),{name:ie,unit:l.unit,barcode:l.barcode,createdAt:qt.fromDate(new Date)}),e&&await _r(_t(it,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${ie}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),ee()}catch{f("Failed to save product")}finally{o(!1)}},U=async()=>{if(O){T(!0);try{const G=a.find(ie=>ie.id===O);await op(Br(it,"scannedProducts",O)),e&&G&&await _r(_t(it,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${G.name}" with barcode ${G.barcode}`,time:new Date().toISOString()}),P(null),ee()}catch{}finally{T(!1)}}},K=async G=>{var J;const ie=(J=G.target.files)==null?void 0:J[0];if(!ie)return;let ue=[];try{if(ie.name.endsWith(".csv")){const ce=await ie.text(),Y=uye.parse(ce,{header:!0}).data;ue=Y.map(Se=>{var ye,te,Te;return{name:((ye=Se.Description)==null?void 0:ye.toString().trim())||"",unit:((te=Se.Unit)==null?void 0:te.toString().trim())||"",barcode:((Te=Se.EAN)==null?void 0:Te.toString().trim())||""}}).filter(Se=>Se.name||Se.unit||Se.barcode);const fe=Y.length-ue.length;fe>0&&(console.log(`${fe} rows skipped (all columns empty).`),L({type:"error",message:`${fe} rows skipped (all columns empty).`}))}else if(ie.name.endsWith(".xlsx")){const ce=await ie.arrayBuffer(),pe=kT(ce,{type:"array"}),Y=pe.Sheets[pe.SheetNames[0]],fe=lye.sheet_to_json(Y);ue=fe.map(ye=>{var te,Te,Ee;return{name:((te=ye.Description)==null?void 0:te.toString().trim())||"",unit:((Te=ye.Unit)==null?void 0:Te.toString().trim())||"",barcode:((Ee=ye.EAN)==null?void 0:Ee.toString().trim())||""}}).filter(ye=>ye.name||ye.unit||ye.barcode);const Se=fe.length-ue.length;Se>0&&(console.log(`${Se} rows skipped (all columns empty).`),L({type:"error",message:`${Se} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),L({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ue.length===0){console.log("No valid products found in file."),L({type:"error",message:"No valid products found in file."});return}for(const ce of ue)await _r(_t(it,"scannedProducts"),{name:ce.name.toUpperCase(),unit:ce.unit,barcode:ce.barcode,createdAt:qt.fromDate(new Date)});e&&await _r(_t(it,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ue.length} products from file "${ie.name}"`,time:new Date().toISOString()}),L({type:"success",message:`Uploaded ${ue.length} products successfully!`}),console.log(`Uploaded ${ue.length} products successfully!`),ee()}catch{console.log("Failed to upload products."),L({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?p.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):p.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",V!==null?V:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),p.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[p.jsx(pt,{variant:"secondary",onClick:()=>ee(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:p.jsx(sl,{size:18,className:s?"animate-spin":""})}),p.jsx(pt,{icon:p.jsx(wZ,{size:18}),onClick:()=>{var G;return(G=H.current)==null?void 0:G.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),p.jsx("input",{type:"file",accept:".csv,.xlsx",ref:H,onChange:K,style:{display:"none"}}),p.jsx(pt,{icon:p.jsx(Wi,{size:18}),onClick:()=>B(),className:"w-full md:w-auto",children:"Add Product"})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(gt,{type:"text",placeholder:"Search by name or barcode",value:A,onChange:G=>{const ie=G.target.value;b(ie),ee(ie.toUpperCase())},className:"pl-10",fullWidth:!0}),p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:p.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[p.jsx("circle",{cx:"7",cy:"7",r:"6"}),p.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),p.jsx(Nn,{isOpen:r,onClose:ae,title:h?"Edit Product":"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsx(gt,{label:"Product Name",name:"name",value:l.name,onChange:q,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(gt,{label:"Unit",name:"unit",value:l.unit,onChange:q,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(gt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:q,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){_(null),y(!0);try{await N(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?p.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),u&&p.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&p.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),p.jsx(pt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),p.jsx(od,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:N}),p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:p.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[p.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?p.jsx("tr",{children:p.jsx("td",{colSpan:5,style:{border:0,padding:0},children:p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((G,ie)=>p.jsxs(zn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:ie*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(G),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:G.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:G.unit}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:G.barcode}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:$t(G.createdAt,"MMM d, yyyy, h:mm a")}),p.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[p.jsx("button",{onClick:ue=>{ue.stopPropagation(),B(G)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:p.jsx(il,{size:16})}),p.jsx("button",{onClick:ue=>{ue.stopPropagation(),P(G.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:D&&O===G.id,children:p.jsx(Fs,{size:16})})]})]},G.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):a.length===0?p.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(G=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(G),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:G.name}),p.jsx("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:G.unit})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pt,{variant:"ghost",size:"sm",onClick:ie=>{ie.stopPropagation(),B(G)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(il,{size:16})}),p.jsx(pt,{variant:"ghost",size:"sm",onClick:ie=>{ie.stopPropagation(),P(G.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:D&&O===G.id,children:p.jsx(Fs,{size:16})})]})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:G.barcode})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:$t(G.createdAt,"MMM d, yyyy, h:mm a")})]})]},G.id))}),p.jsx(Nn,{isOpen:!!O,onClose:()=>P(null),title:"Delete Product",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{children:"Are you sure you want to delete this product?"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(pt,{variant:"secondary",onClick:()=>P(null),disabled:D,children:"Cancel"}),p.jsxs(pt,{variant:"danger",onClick:U,isLoading:D,className:"flex items-center justify-center",children:[D&&p.jsx(cs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),p.jsx(Nn,{isOpen:!!I,onClose:()=>E(null),title:I?I.name:"Product Details",size:"xl",children:I&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:I.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:$t(I.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),C&&p.jsx(IU,{type:C.type,message:C.message,onClose:()=>L(null)})]})]})},fye=()=>{const{user:e}=ga();if(!e)return null;switch(e.role){case"admin":return p.jsx(sfe,{});case"staff":return p.jsx(Sq,{});default:return null}},Pr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=zr();return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>p.jsx("option",{value:o.value,children:o.label},o.value))}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},hye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=ga(),[a,i]=Q.useState({name:"",unit:"",barcode:""}),[s,o]=Q.useState(null),[l,c]=Q.useState(!1),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(P=>({...P,barcode:O})),f(!1),m(null),d(!0);try{const D=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,A=await(await fetch(D)).json();if(A&&A.items&&A.items.length>0){const b=A.items[0];i(I=>({...I,name:b.title||I.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{d(!1)}},w=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await _r(_t(it,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:qt.fromDate(new Date)}),n&&await _r(_t(it,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},_=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return p.jsxs(p.Fragment,{children:[p.jsx(Nn,{isOpen:e,onClose:_,title:"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsx(gt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(gt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(gt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),d(!0);try{await y(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?p.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),s&&p.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&p.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),p.jsx(pt,{type:"submit",isLoading:l,children:"Add"})]})]})}),p.jsx(od,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},dye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=zr();return p.jsx(Nn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(dv,{size:24}),p.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(pt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),p.jsx(pt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},pye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],mye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),RS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],gye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=ga(),[a,i]=Q.useState({name:"",price:"",unit:"",supplier:RS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"fba",storeName:"supply & serve"}),[s,o]=Q.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=Q.useState({}),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(""),{isDarkMode:v}=zr(),[y,w]=Q.useState(null),[_,O]=Q.useState(!1),[P,D]=Q.useState(null),[T,A]=Q.useState(!1),[b,I]=Q.useState(""),[E,C]=Q.useState(!1),[L,H]=Q.useState(null),[V,Z]=Q.useState(null),[ee,W]=Q.useState(!1),[B,ae]=Q.useState(""),[q,N]=Q.useState(!1),R=Q.useRef(null),U=te=>{const{name:Te,value:Ee}=te.target;i(Ce=>({...Ce,[Te]:Ee})),Te==="supplier"&&(A(Ee==="other"),Ee!=="other"&&I("")),l[Te]&&c(Ce=>{const He={...Ce};return delete He[Te],He}),Te==="barcode"&&Ee.length===13&&!_?(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Ee.length===13&&J(Ee)},500)):Te==="barcode"&&Ee.length!==13&&R.current&&(clearTimeout(R.current),R.current=null)},K=(te,Te,Ee)=>{o(Ce=>{const He=[...Ce];return He[te]={...He[te],[Te]:Ee},He})},G=()=>{o(te=>[...te,{locationCode:"A1",shelfNumber:"0",quantity:""}])},ie=te=>{o(Te=>Te.filter((Ee,Ce)=>Ce!==te))},ue=async te=>{i(Ee=>({...Ee,barcode:te})),w(null),D(null),O(!0);let Te=!1;try{const Ee=fr(_t(it,"scannedProducts"),dr("barcode","==",te)),Ce=await cr(Ee);if(Ce.empty){const je=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${te}`,Fe=await(await fetch(je)).json();if(Fe&&Fe.items&&Fe.items.length>0){const Ye=Fe.items[0];i(lt=>({...lt,name:Ye.title||lt.name})),w("Product name auto-filled from external database."),Te=!0}else w("No product found for this barcode. Please enter details manually.")}else{const He=Ce.docs[0].data();i(je=>({...je,name:He.name||je.name,unit:He.unit||je.unit})),w("Product name and unit auto-filled from scanned products."),Te=!0}}catch{D("Failed to fetch product info."),w("Failed to search for product. Please enter details manually.")}finally{O(!1),!Te&&te.length===13&&setTimeout(()=>{J(te)},100)}},J=async te=>{const Te=te||a.barcode;if(!(!Te||_)){D(null),O(!0);try{const Ee=fr(_t(it,"scannedProducts"),dr("barcode","==",Te)),Ce=await cr(Ee);if(!Ce.empty){const Ye=Ce.docs[0].data();i(lt=>({...lt,name:Ye.name||lt.name,unit:Ye.unit||lt.unit})),w("Product name and unit auto-filled from scanned products."),O(!1);return}const je=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Te}`,Fe=await(await fetch(je)).json();if(Fe&&Fe.items&&Fe.items.length>0){const Ye=Fe.items[0];i(lt=>({...lt,name:Ye.title||lt.name})),w("Product name auto-filled from UPC database.")}else D("No product info found for this barcode.")}catch{D("Failed to fetch product info.")}finally{O(!1)}}},ce=()=>{const te={};return a.name.trim()||(te.name="Product name is required"),s.forEach((Te,Ee)=>{Te.quantity?(isNaN(Number(Te.quantity))||Number(Te.quantity)<0)&&(te[`location_${Ee}_quantity`]="Quantity must be a positive number"):te[`location_${Ee}_quantity`]="Quantity is required"}),c(te),Object.keys(te).length===0},pe=async te=>{if(te.preventDefault(),ce()){const Te=a.supplier||RS[0].value,Ee=a.storeName||"supply & serve",Ce=s.map(je=>({name:a.name,quantity:parseInt(je.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:Te==="other"?b:Te,locationCode:je.locationCode,shelfNumber:je.shelfNumber,asin:a.asin||null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Ee==="other"?g:Ee})),He=Ce.find(je=>r.some(Ge=>Ge.name.trim().toLowerCase()===je.name.trim().toLowerCase()&&(Ge.barcode||"")===(je.barcode||"")&&Ge.locationCode===je.locationCode&&Ge.shelfNumber===je.shelfNumber));if(He){Z({name:He.name,location:`${He.locationCode}-${He.shelfNumber}`}),H(Ce),C(!0);return}try{await e(Ce)}catch(je){console.error("Error adding stock:",je)}}},Y=async()=>{if(L){try{await e(L)}catch(te){console.error("Error adding stock:",te)}C(!1),H(null),Z(null)}},fe=()=>{C(!1),H(null),Z(null)},Se=()=>{N(!0)},ye=()=>{ae("Product has been successfully added to the database!"),W(!0)};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Product Name",name:"name",value:a.name,onChange:U,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx("div",{children:p.jsx(Pr,{label:"Supplier",name:"supplier",value:a.supplier,onChange:U,options:RS,required:!0,fullWidth:!0})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&p.jsx(gt,{label:"Price",name:"price",type:"number",value:a.price,onChange:U,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!T&&p.jsx(gt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:U,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),T&&p.jsx(gt,{label:"Other Supplier",value:b,onChange:te=>I(te.target.value),placeholder:"Enter supplier name",required:T,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T&&p.jsx(gt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:U,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),p.jsx(pt,{type:"button",onClick:G,variant:"primary",icon:p.jsx(Wi,{size:18}),children:"Add Location"})]}),s.map((te,Te)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[p.jsx(Pr,{label:"Location Code",value:te.locationCode,onChange:Ee=>K(Te,"locationCode",Ee.target.value),options:pye,required:!0,fullWidth:!0}),p.jsx(Pr,{label:"Shelf Number",value:te.shelfNumber,onChange:Ee=>K(Te,"shelfNumber",Ee.target.value),options:mye,required:!0,fullWidth:!0}),p.jsx(gt,{label:"Quantity",type:"number",value:te.quantity,onChange:Ee=>K(Te,"quantity",Ee.target.value),error:l[`location_${Te}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&p.jsx(pt,{type:"button",onClick:()=>ie(Te),variant:"danger",icon:p.jsx(Fs,{size:18}),children:"Remove"})]},Te))]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Pr,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:U,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?p.jsx(Pr,{label:"Status",name:"status",value:a.status,onChange:U,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(gt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(gt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:U,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:()=>J(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:_,children:_?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(gt,{label:"ASIN (seperated by commas, if multiple)",name:"asin",value:a.asin,onChange:U,placeholder:"Enter Amazon ASIN",fullWidth:!0}),P&&p.jsxs("div",{className:"text-red-500 text-sm",children:[P," Please enter details manually."]}),y&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx("div",{children:p.jsx(Pr,{label:"Store Name",value:a.storeName,onChange:te=>{const Te=te.target.value;i(Ee=>({...Ee,storeName:Te})),d(Te==="other"),Te!=="other"&&m("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(gt,{type:"text",value:g,onChange:te=>m(te.target.value),placeholder:"Enter store name",required:h})]})}),p.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(pt,{type:"button",onClick:Se,variant:"primary",icon:p.jsx(Wi,{size:18}),children:"Add New Product"}),p.jsx(pt,{type:"submit",isLoading:t,variant:"success",icon:p.jsx(Wi,{size:18}),children:"Confirm"})]})})]}),p.jsx(od,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:ue}),p.jsx(hye,{isOpen:q,onClose:()=>N(!1),onSuccess:ye}),p.jsx(dye,{isOpen:E,onClose:fe,onConfirm:Y,title:"Duplicate Stock Detected",message:V?`A product with the same name and barcode already exists at location ${V.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),p.jsx(Nn,{isOpen:ee,onClose:()=>W(!1),title:"Success!",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[p.jsx(aZ,{size:24}),p.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:B})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx(pt,{variant:"primary",onClick:()=>W(!1),children:"OK"})})]})})]})},vye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],yye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),xye=["supply & serve","APHY","AZTEC","ZK"],ZD=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],bye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=zr(),{user:i}=ga(),[s,o]=Q.useState(null),l=e.storeName,c=l&&!xye.includes(l),u=ZD.some(L=>L.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,g]=Q.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=Q.useState(c),[y,w]=Q.useState(c?l:""),[_,O]=Q.useState(f==="other"),[P,D]=Q.useState(h),[T,A]=Q.useState(!1),b=L=>{const{name:H,value:V}=L.target;if(H==="damagedItems"){const Z=Number(V),ee=Number(d.quantity);if(Z<0){o("Damaged items cannot be negative");return}o(null),g(W=>({...W,damagedItems:V,quantity:(ee-(Z-Number(W.damagedItems))).toString()}));return}H==="supplier"&&(O(V==="other"),V!=="other"&&D("")),g(Z=>({...Z,[H]:V}))},I=L=>{g(H=>({...H,barcode:L})),A(!1)},E=async L=>{if(L.preventDefault(),C())try{const H={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?P:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?y:d.storeName,barcode:d.barcode||null};await t(H,e)}catch(H){console.error("Error updating stock:",H),o("Failed to update stock. Please try again.")}},C=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Product Name",name:"name",value:d.name,onChange:b,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?p.jsx(Pr,{label:"Status",name:"status",value:d.status,onChange:b,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(gt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:b,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&p.jsx(gt,{label:"Price",name:"price",type:"number",value:d.price,onChange:b,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),p.jsx(gt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:b,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),p.jsx(Pr,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:b,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Pr,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:b,options:vye,required:!0,fullWidth:!0}),p.jsx(Pr,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:b,options:yye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(gt,{label:"Barcode",name:"barcode",value:d.barcode||"",onChange:b,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44},disabled:(i==null?void 0:i.role)!=="admin"}),(i==null?void 0:i.role)==="admin"&&p.jsx("button",{type:"button",onClick:()=>A(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(gt,{label:"ASIN",name:"asin",value:d.asin,onChange:b,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx(Pr,{label:"Supplier",name:"supplier",value:d.supplier,onChange:b,options:ZD,required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),p.jsx(Pr,{value:d.storeName,onChange:L=>{const H=L.target.value;g(V=>({...V,storeName:H})),v(H==="other"),H!=="other"&&w("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_&&p.jsx(gt,{label:"Other Supplier",value:P,onChange:L=>D(L.target.value),placeholder:"Enter supplier name",required:_,fullWidth:!0}),m&&!_&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(gt,{type:"text",value:y,onChange:L=>w(L.target.value),placeholder:"Enter store name",required:m})]}),m&&_&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(gt,{type:"text",value:y,onChange:L=>w(L.target.value),placeholder:"Enter store name",required:m})]}),p.jsxs("div",{children:[p.jsx(gt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:b,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(pt,{type:"submit",isLoading:n,icon:p.jsx(Wi,{size:18}),children:"Update Product"})}),p.jsx(od,{isOpen:T,onClose:()=>A(!1),onBarcodeScanned:I})]})},wye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],_ye=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],Sye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=Q.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[i,s]=Q.useState({}),[o,l]=Q.useState(!1),[c,u]=Q.useState(null),[f,h]=Q.useState(!1),[d,g]=Q.useState(null),m=Q.useRef(null),v=D=>{const{name:T,value:A}=D.target;a(b=>({...b,[T]:A})),i[T]&&s(b=>{const I={...b};return delete I[T],I}),T==="barcode"&&A.length===13&&!f?(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{A.length===13&&_(A)},500)):T==="barcode"&&A.length!==13&&m.current&&(clearTimeout(m.current),m.current=null)},y=()=>{l(!0)},w=async D=>{a(A=>({...A,barcode:D})),u(null),g(null),h(!0);let T=!1;try{const A=fr(_t(it,"scannedProducts"),dr("barcode","==",D)),b=await cr(A);if(b.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${D}`,L=await(await fetch(E)).json();if(L&&L.items&&L.items.length>0){const H=L.items[0];a(V=>({...V,name:H.title||V.name})),u("Product name auto-filled from external database."),T=!0}else u("No product found for this barcode. Please enter details manually.")}else{const I=b.docs[0].data();a(E=>({...E,name:I.name||E.name})),u("Product name auto-filled from scanned products."),T=!0}}catch{g("Failed to fetch product info."),u("Failed to search for product. Please enter details manually.")}finally{h(!1),!T&&D.length===13&&setTimeout(()=>{_(D)},100)}},_=async D=>{const T=D||n.barcode;if(!(!T||f)){g(null),h(!0);try{const A=fr(_t(it,"scannedProducts"),dr("barcode","==",T)),b=await cr(A);if(b.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${T}`,L=await(await fetch(E)).json();if(L&&L.items&&L.items.length>0){const H=L.items[0];a(V=>({...V,name:H.title||V.name})),u("Product name auto-filled from external database.")}else g("No product info found for this barcode.")}else{const I=b.docs[0].data();a(E=>({...E,name:I.name||E.name})),u("Product name auto-filled from scanned products.")}}catch{g("Failed to fetch product info.")}finally{h(!1)}}},O=()=>{const D={};return n.name.trim()||(D.name="Product name is required"),n.locationCode||(D.locationCode="Location is required"),n.shelfNumber||(D.shelfNumber="Shelf number is required"),(!n.quantity||parseInt(n.quantity)<=0)&&(D.quantity="Quantity must be greater than 0"),s(D),Object.keys(D).length===0},P=async D=>{if(D.preventDefault(),!O())return;const T={name:n.name.toUpperCase(),quantity:parseInt(n.quantity),price:0,supplier:"not set",lastUpdated:new Date,locationCode:n.locationCode,shelfNumber:n.shelfNumber,barcode:n.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([T]),t()}catch(A){console.error("Error adding stock:",A)}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:P,className:"space-y-4",children:[p.jsx(gt,{label:"Product Name",name:"name",value:n.name,onChange:v,placeholder:"Enter product name",error:i.name,required:!0,fullWidth:!0}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Pr,{label:"Location Code",name:"locationCode",value:n.locationCode,onChange:v,options:wye,error:i.locationCode,required:!0,fullWidth:!0}),p.jsx(Pr,{label:"Shelf Number",name:"shelfNumber",value:n.shelfNumber,onChange:v,options:_ye,error:i.shelfNumber,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(gt,{label:"Barcode",name:"barcode",value:n.barcode,onChange:v,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(n.barcode.trim()&&!f){g(null),h(!0);try{await _()}finally{h(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:f,children:f?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),d&&p.jsxs("div",{className:"text-red-500 text-sm",children:[d," Please enter details manually."]}),c&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:c}),f&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),p.jsx(gt,{label:"Quantity",name:"quantity",type:"number",value:n.quantity,onChange:v,placeholder:"Enter quantity",error:i.quantity,min:"1",required:!0,fullWidth:!0}),p.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(pt,{type:"submit",isLoading:r,icon:p.jsx(Wi,{size:18}),children:"Quick Add"}),p.jsx(pt,{type:"button",onClick:y,variant:"primary",icon:p.jsx(Oc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),p.jsx(od,{isOpen:o,onClose:()=>l(!1),onBarcodeScanned:w})]})},cN=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=zr(),{user:a}=ga();return r?p.jsx(Nn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"mb-4 flex items-center justify-between",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),p.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`${Number(r.price).toFixed(2)}`:"Not set yet"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),p.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>p.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:$t(r.lastUpdated,"MMM d, yyyy")})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),p.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),p.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),p.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[p.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),p.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[p.jsx("span",{children:"0"}),p.jsx("span",{children:"Critical: <10"}),p.jsx("span",{children:"Low: 10-25"}),p.jsx("span",{children:"25+"})]})]})]})}):null},wb=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=zr();return p.jsx(Nn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(dv,{size:24}),p.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(pt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),p.jsx(pt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Aye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,locationCode:a,shelfNumber:i,existingProducts:s,newProductName:o})=>{const l=s.length,c=s.reduce((u,f)=>u+f.quantity,0);return p.jsx(Nn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(dv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",p.jsxs("strong",{children:[a,"-",i]})," already contains products."]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),p.jsx("ul",{className:"mt-2 space-y-1",children:s.map((u,f)=>p.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:[" ",u.name," (",u.quantity," units)"]},f))}),p.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",l," product",l!==1?"s":""," (",c," units)"]})]}),p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",p.jsx("strong",{children:o})," to this location?"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(pt,{variant:"secondary",onClick:n,children:"Cancel"}),p.jsx(pt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Tye=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState(""),[a,i]=Q.useState("name"),[s,o]=Q.useState(!1),[l,c]=Q.useState(!1),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState(!1),[v,y]=Q.useState(null),[w,_]=Q.useState([]),[O,P]=Q.useState(new Set),[D,T]=Q.useState(!1),{showToast:A}=Kc(),{isDarkMode:b}=zr(),{user:I}=ga(),[E,C]=Q.useState(!1),[L,H]=Q.useState(null),[V,Z]=Q.useState(!1),[ee,W]=Q.useState(!1),[B,ae]=Q.useState(null),[q,N]=Q.useState(null),[R,U]=Q.useState(null),[K,G]=Q.useState(!1),[ie,ue]=Q.useState("all"),[J,ce]=Q.useState(!1),[pe,Y]=Q.useState(null);Q.useEffect(()=>{const Ne=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ne)}},[e]);const fe=Q.useCallback(async()=>{m(!0);try{const Ne=fr(_t(it,"inventory"),Ra("name")),St=(await cr(Ne)).docs.map(Ct=>{const ur=Ct.data();return{id:Ct.id,...ur,lastUpdated:ur.lastUpdated instanceof qt?ur.lastUpdated.toDate():new Date(ur.lastUpdated)}});_(St)}catch(Ne){console.error("Error fetching stock items:",Ne),A("Failed to fetch stock items","error")}finally{m(!1)}},[A]),Se=Q.useCallback(async()=>{try{const Ne=_t(it,"inventory"),Je=await Zk(Ne);Y(Je.data().count)}catch{Y(null)}},[]);Q.useEffect(()=>{fe(),Se()},[fe,Se]),Q.useEffect(()=>{const Ne=Je=>{const St=Je.target;St.closest(".store-filter-dropdown")||G(!1),St.closest(".status-filter-dropdown")||ce(!1)};return(K||J)&&document.addEventListener("mousedown",Ne),()=>{document.removeEventListener("mousedown",Ne)}},[K,J]);const ye=Q.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),te=Q.useMemo(()=>["supply & serve","APHY","AZTEC","ZK"],[]),Te=Q.useMemo(()=>{const Ne=r.toLowerCase();return w.filter(Je=>{const St=Je.name.toLowerCase().includes(Ne),Ct=`${Je.locationCode} - ${Je.shelfNumber}`.toLowerCase().includes(Ne),ur=Je.asin?Je.asin.split(",").some(Dr=>Dr.trim().toLowerCase().includes(Ne)):!1,hr=Je.barcode?Je.barcode.toLowerCase().includes(Ne):!1,Ir=R?R.storeName==="other"?!te.includes(Je.storeName)&&Je.fulfillmentType===R.fulfillmentType:Je.storeName===R.storeName&&Je.fulfillmentType===R.fulfillmentType:!0,gn=ie==="all"||Je.status===ie;return(St||Ct||ur||hr)&&Ir&&gn}).sort((Je,St)=>a==="name"?Je.name.localeCompare(St.name):a==="quantity"?St.quantity-Je.quantity:a==="price"?St.price-Je.price:a==="date"?new Date(St.lastUpdated).getTime()-new Date(Je.lastUpdated).getTime():0)},[w,r,R,ie,a,te]),Ee=Q.useCallback((Ne,Je)=>w.filter(St=>St.locationCode===Ne&&St.shelfNumber===Je),[w]),Ce=Q.useCallback(async Ne=>{const Je=[];for(const St of Ne){const Ct=Ee(St.locationCode,St.shelfNumber);Ct.length>0&&Je.push({locationCode:St.locationCode,shelfNumber:St.shelfNumber,products:Ct})}if(Je.length>0){const St=Je[0];N({locationCode:St.locationCode,shelfNumber:St.shelfNumber,existingProducts:St.products,newProductName:Ne[0].name}),ae(Ne),W(!0);return}await He(Ne)},[Ee]),He=Q.useCallback(async Ne=>{m(!0);try{const Je=[];for(const St of Ne){const Ct=await _r(_t(it,"inventory"),{...St,lastUpdated:qt.fromDate(new Date)});Je.push({...St,id:Ct.id,lastUpdated:new Date})}if(I){const St=Ne.reduce((ur,hr)=>ur+hr.quantity,0),Ct=Ne.map(ur=>`${ur.quantity} at ${ur.locationCode}-${ur.shelfNumber}`).join(", ");await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`added new product "${Ne[0].name}" with total quantity ${St} (${Ct})`,time:new Date().toISOString()})}_(St=>[...St,...Je]),o(!1),Z(!1),A("Stock items added successfully","success")}catch(Je){console.error("Error adding stock:",Je),A("Failed to add stock items","error")}finally{m(!1)}},[I,A]),je=Q.useCallback(async()=>{B&&(await He(B),W(!1),ae(null),N(null))},[B,He]),Ge=Q.useCallback(()=>{W(!1),ae(null),N(null)},[]),Fe=Q.useCallback(async(Ne,Je)=>{m(!0);try{const St=new Date,Ct={},ur=[];if(Ne.name!==Je.name&&(Ct.name=Ne.name,ur.push(`name from "${Je.name}" to "${Ne.name}"`)),Ne.price!==Je.price){Ct.price=Ne.price;const hr=Number(Je.price||0).toFixed(2),Ir=Number(Ne.price||0).toFixed(2);ur.push(`price from ${hr} to ${Ir}`)}if((Ne.locationCode!==Je.locationCode||Ne.shelfNumber!==Je.shelfNumber)&&(Ct.locationCode=Ne.locationCode,Ct.shelfNumber=Ne.shelfNumber,ur.push(`location from ${Je.locationCode}-${Je.shelfNumber} to ${Ne.locationCode}-${Ne.shelfNumber}`)),Ne.supplier!==Je.supplier&&(Ct.supplier=Ne.supplier,ur.push(`supplier from "${Je.supplier||"none"}" to "${Ne.supplier||"none"}"`)),Ne.asin!==Je.asin&&(Ct.asin=Ne.asin,ur.push(`ASIN from "${Je.asin||"none"}" to "${Ne.asin||"none"}"`)),Ne.status!==Je.status&&(Ct.status=Ne.status,ur.push(`status from "${Je.status}" to "${Ne.status}"`)),Ne.damagedItems!==Je.damagedItems&&(Ct.damagedItems=Ne.damagedItems,ur.push(`damaged items from ${Je.damagedItems} to ${Ne.damagedItems}`)),Ne.fulfillmentType!==Je.fulfillmentType&&(Ct.fulfillmentType=Ne.fulfillmentType,ur.push(`fulfillment type from "${Je.fulfillmentType.toUpperCase()}" to "${Ne.fulfillmentType.toUpperCase()}"`)),Ne.storeName!==Je.storeName&&(Ct.storeName=Ne.storeName,ur.push(`store name from "${Je.storeName}" to "${Ne.storeName}"`)),Ne.unit!==Je.unit&&(Ct.unit=Ne.unit,ur.push(`unit from "${Je.unit||"none"}" to "${Ne.unit||"none"}"`)),Object.keys(Ct).length>0){const hr=Br(it,"inventory",Ne.id);await _a(hr,{...Ct,lastUpdated:qt.fromDate(St)}),I&&ur.length>0&&await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${Ne.name}": ${ur.join(", ")}`,time:St.toISOString()});const Ir=w.map(gn=>gn.id===Ne.id?{...gn,...Ct,lastUpdated:St}:gn);_(Ir),A("Stock details updated successfully","success"),c(!1),y(null)}if(Ne.quantity>Je.quantity)H({itemId:Ne.id,newQuantity:Ne.quantity}),C(!0),c(!1);else if(Ne.quantity!==Je.quantity){const hr=Br(it,"inventory",Ne.id);await _a(hr,{quantity:Ne.quantity,lastUpdated:qt.fromDate(St)}),I&&await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${Ne.name}": quantity from ${Je.quantity} to ${Ne.quantity}`,time:St.toISOString()});const Ir=w.map(gn=>gn.id===Ne.id?{...gn,quantity:Ne.quantity,lastUpdated:St}:gn);_(Ir),A("Stock quantity updated","success"),c(!1),y(null)}else c(!1),y(null)}catch(St){console.error("Error updating stock:",St),A("Failed to update stock item","error")}finally{m(!1)}},[w,I,A]),Ye=Q.useCallback(async()=>{if(L){m(!0);try{const{itemId:Ne,newQuantity:Je}=L,St=new Date,Ct=w.find(Ir=>Ir.id===Ne),ur=Br(it,"inventory",Ne);await _a(ur,{quantity:Je,lastUpdated:qt.fromDate(St)}),I&&Ct&&await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`edited product "${Ct.name}": quantity from ${Ct.quantity} to ${Je}`,time:St.toISOString()});const hr=w.map(Ir=>Ir.id===Ne?{...Ir,quantity:Je,lastUpdated:St}:Ir);_(hr),A("Stock quantity updated successfully","success"),y(null)}catch(Ne){console.error("Error updating quantity:",Ne),A("Failed to update quantity","error")}finally{m(!1),C(!1),H(null)}}},[L,w,I,A]),lt=Q.useCallback(async Ne=>{m(!0);try{const Je=w.find(St=>St.id===Ne);await op(Br(it,"inventory",Ne)),I&&Je&&await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`deleted product "${Je.name}" (${Je.quantity} units) from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()}),_(w.filter(St=>St.id!==Ne)),f(!1),y(null),A("Stock item deleted successfully","success")}catch(Je){console.error("Error deleting stock:",Je),A("Failed to delete stock item","error")}finally{m(!1)}},[w,I,A]),nt=Q.useCallback(Ne=>{y(Ne)},[]),dt=Q.useCallback((Ne,Je)=>{Ne.stopPropagation(),y(Je),c(!0)},[]),xt=Q.useCallback((Ne,Je)=>{Ne.stopPropagation(),y(Je),f(!0)},[]),wt=Q.useCallback(()=>{O.size===Te.length?P(new Set):P(new Set(Te.map(Ne=>Ne.id)))},[Te,O.size]),mt=Q.useCallback(Ne=>{const Je=new Set(O);Je.has(Ne)?Je.delete(Ne):Je.add(Ne),P(Je)},[O]),et=Q.useCallback(async()=>{if(O.size!==0){m(!0);try{const Ne=w.filter(St=>O.has(St.id)),Je=Array.from(O).map(St=>op(Br(it,"inventory",St)));if(await Promise.all(Je),I){const St=Ne.map(Ct=>`"${Ct.name}" (${Ct.quantity} units) from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`Bulk deleted ${O.size} products: ${St}`,time:new Date().toISOString()})}_(w.filter(St=>!O.has(St.id))),P(new Set),T(!1),d(!1),A(`Successfully deleted ${O.size} items`,"success")}catch(Ne){console.error("Error deleting items:",Ne),A("Failed to delete selected items","error")}finally{m(!1)}}},[v,w,I,A]),Bt=Q.useCallback(async()=>{if(O.size!==0){m(!0);try{const Ne=w.filter(St=>O.has(St.id)&&St.status==="pending");if(Ne.length===0){A("No pending items selected to activate","error");return}const Je=Ne.map(St=>_a(Br(it,"inventory",St.id),{status:"active",lastUpdated:qt.fromDate(new Date)}));if(await Promise.all(Je),I){const St=Ne.map(Ct=>`"${Ct.name}" from ${Ct.locationCode}-${Ct.shelfNumber}`).join(", ");await _r(_t(it,"activityLogs"),{user:I.name,role:I.role,detail:`Bulk activated ${Ne.length} pending products: ${St}`,time:new Date().toISOString()})}_(w.map(St=>O.has(St.id)&&St.status==="pending"?{...St,status:"active",lastUpdated:new Date}:St)),P(new Set),T(!1),A(`Successfully activated ${Ne.length} items`,"success")}catch(Ne){console.error("Error activating items:",Ne),A("Failed to activate selected items","error")}finally{m(!1)}}},[v,w,I,A]),Lt=Q.useCallback(()=>{T(!D),D||P(new Set)},[D]),Gr=Q.useCallback(({item:Ne})=>p.jsxs("tr",{className:`hover:${b?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>nt(Ne),children:[D&&p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,onClick:Je=>Je.stopPropagation(),children:p.jsx("input",{type:"checkbox",checked:O.has(Ne.id),onChange:()=>mt(Ne.id),className:`h-4 w-4 text-blue-600 rounded ${b?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-blue-400":"text-blue-700"} font-medium`,children:Ne.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ne.fulfillmentType.toUpperCase()})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:[Ne.locationCode," - ",Ne.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Ne.asin?Ne.asin.split(",").length>3?Ne.asin.split(",").slice(0,3).map(Je=>Je.trim()).join(", ")+"...":Ne.asin.split(",").map(Je=>Je.trim()).join(", "):"-"}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ne.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ne.quantity>10&&Ne.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),p.jsx("span",{children:Ne.quantity})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:$t(new Date(Ne.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:Je=>dt(Je,Ne),className:`p-1 ${b?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(il,{size:16})}),p.jsx("button",{onClick:Je=>xt(Je,Ne),className:`p-1 ${b?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(Fs,{size:16})})]})})]},Ne.id),[D,O,b,I,nt,mt,dt,xt]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:`text-2xl font-bold ${b?"text-white":"text-gray-900"}`,children:"Inbound"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${b?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",pe!==null?pe:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?p.jsxs(p.Fragment,{children:[ie==="pending"&&p.jsxs(pt,{onClick:Bt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||O.size===0,children:[p.jsx(gZ,{size:16}),"Go Live (",O.size,")"]}),p.jsxs(pt,{onClick:()=>d(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||O.size===0,children:[p.jsx(Fs,{size:16}),"Delete Selected (",O.size,")"]}),p.jsx(pt,{onClick:Lt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(pt,{onClick:Lt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Gx,{size:16}),"Select Items"]}),p.jsxs(pt,{variant:"secondary",onClick:()=>Z(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Wi,{size:16}),"Quick Add"]}),p.jsxs(pt,{variant:"primary",onClick:()=>o(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Wi,{size:16}),"Add New Stock"]})]})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(Wh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(gt,{type:"text",placeholder:"Search by name, location, ASIN or barcode",value:e,onChange:Ne=>t(Ne.target.value),className:"pl-10"})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Pr,{value:a,onChange:Ne=>i(Ne.target.value),options:ye})}),p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>ce(!J),className:`flex items-center gap-2 ${ie!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ie==="all"?"Status Filter":ie==="active"?"Active":"Pending",p.jsx(qh,{size:16})]}),J&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ie==="all"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue("all"),ce(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ie==="active"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue("active"),ce(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${ie==="pending"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ue("pending"),ce(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ue("all"),ce(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>G(!K),className:`flex items-center gap-2 ${R?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[R?`${R.storeName==="other"?"Other":R.storeName} - ${R.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(qh,{size:16})]}),K&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(Ne=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ne?b?"bg-slate-700":"bg-slate-100":""}`,children:Ne}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ne&&(R==null?void 0:R.fulfillmentType)==="fba"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{U({storeName:Ne,fulfillmentType:"fba"}),G(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===Ne&&(R==null?void 0:R.fulfillmentType)==="mf"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{U({storeName:Ne,fulfillmentType:"mf"}),G(!1)},children:"MF"})]})]},Ne)),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{U(null),G(!1)},children:"Clear Filter"})})]})})]}),p.jsx(pt,{variant:"secondary",onClick:fe,className:`flex items-center gap-2 ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(sl,{size:16,className:g?"animate-spin":""})})]}),g?p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(cs,{className:`w-8 h-8 ${b?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:b?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Te.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${b?"divide-slate-700":"divide-slate-200"} ${b?"bg-slate-800":"bg-white"} rounded-lg border ${b?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:b?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[D&&p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:O.size===Te.length,onChange:wt,className:`h-4 w-4 text-blue-600 rounded ${b?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),p.jsx("span",{children:"Select"})]})}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:Te.map((Ne,Je)=>p.jsx(Gr,{item:Ne,index:Je},Ne.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-4",children:Te.map(Ne=>p.jsxs("div",{className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>nt(Ne),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${b?"text-blue-400":"text-blue-700"}`,children:Ne.name}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ne.status==="active"?"Active":"Pending"}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ne.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ne.fulfillmentType.toUpperCase()})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[Ne.locationCode," - ",Ne.shelfNumber]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:Ne.quantity})]}),Ne.asin&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:Ne.asin})]}),(I==null?void 0:I.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(Ne.price)>0?`${Number(Ne.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Total: ",p.jsx("span",{className:"font-medium",children:Number(Ne.quantity*Ne.price)>0?`${Number(Ne.quantity*Ne.price).toFixed(2)}`:"(Not set)"})]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:$t(new Date(Ne.lastUpdated),"MMM d, yyyy")})]})]}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsxs(pt,{size:"sm",variant:"secondary",onClick:Je=>{Je.stopPropagation(),dt(Je,Ne)},children:[p.jsx(il,{size:14})," Edit"]}),p.jsxs(pt,{size:"sm",variant:"danger",onClick:Je=>{Je.stopPropagation(),xt(Je,Ne)},children:[p.jsx(Fs,{size:14})," Delete"]})]})]},Ne.id))})]}):p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:b?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Nn,{isOpen:s,onClose:()=>o(!1),title:"Add New Stock Item",size:"xl",children:p.jsx(gye,{onSubmit:Ce,isLoading:g,existingStockItems:w})}),p.jsx(Nn,{isOpen:V,onClose:()=>Z(!1),title:"Quick Add Stock",size:"md",children:p.jsx(Sye,{onSubmit:Ce,onClose:()=>Z(!1),isLoading:g})}),p.jsx(Nn,{isOpen:l,onClose:()=>c(!1),title:"Edit Stock",size:"xl",children:v&&p.jsx(bye,{item:v,onSubmit:Fe,onCancel:()=>c(!1),isLoading:g})}),v&&p.jsx(wb,{isOpen:u,onClose:()=>{f(!1),y(null)},onConfirm:()=>lt(v.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${v.name}"? This action cannot be undone.`,isLoading:g}),v&&!l&&!u&&!E&&p.jsx(cN,{isOpen:!!v,onClose:()=>y(null),item:v}),p.jsx(wb,{isOpen:h,onClose:()=>{d(!1),P(new Set)},onConfirm:et,title:"Delete Selected Items",message:`Are you sure you want to delete ${O.size} selected item${O.size>1?"s":""}? This action cannot be undone.`,isLoading:g}),p.jsx(Nn,{isOpen:E,onClose:()=>{C(!1),H(null)},title:"Confirm Quantity Update",children:p.jsxs("div",{children:[p.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),p.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[p.jsx(pt,{variant:"secondary",onClick:()=>{C(!1),H(null)},children:"No"}),p.jsx(pt,{onClick:Ye,isLoading:g,children:"Yes"})]})]})}),q&&p.jsx(Aye,{isOpen:ee,onClose:Ge,onConfirm:je,onCancel:Ge,locationCode:q.locationCode,shelfNumber:q.shelfNumber,existingProducts:q.existingProducts,newProductName:q.newProductName})]})},Eye=()=>{const{isDarkMode:e}=zr(),{showToast:t}=Kc(),{user:r}=ga();ga();const[n,a]=Q.useState(!1),[i,s]=Q.useState([]),[o,l]=Q.useState(""),[c,u]=Q.useState(null),[f,h]=Q.useState(""),[d,g]=Q.useState(null),[m,v]=Q.useState("all"),[y,w]=Q.useState("all"),[_,O]=Q.useState(!1),[P,D]=Q.useState(!1),[T,A]=Q.useState(null),b=async q=>{if(r)try{await _r(_t(it,"activityLogs"),{user:r.name,role:r.role,detail:q,time:new Date().toISOString()})}catch(N){console.error("Failed to log activity:",N)}},I=Q.useCallback(async()=>{a(!0);try{const q=fr(_t(it,"inventory"),Ra("name")),R=(await cr(q)).docs.map(U=>{const K=U.data();return{id:U.id,...K,lastUpdated:K.lastUpdated instanceof qt?K.lastUpdated.toDate():new Date(K.lastUpdated)}});s(R)}catch(q){console.error("Failed to fetch inventory",q),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),E=Q.useCallback(async()=>{try{const q=_t(it,"inventory"),N=await Zk(q);g(N.data().count)}catch{g(null)}},[]);Q.useEffect(()=>{I(),E()},[I,E]),Q.useEffect(()=>{const q=N=>{const R=N.target;R.closest(".damage-filter-dropdown")||O(!1),R.closest(".duplicate-filter-dropdown")||D(!1)};return(_||P)&&document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[_,P]);const C=Q.useMemo(()=>{const q={};for(const N of i){const R=(N.name||"").trim().toLowerCase();if(!R)continue;const U=`${N.locationCode||""}-${N.shelfNumber||""}`.trim().toLowerCase();q[R]||(q[R]=new Set),q[R].add(U)}return q},[i]),H=((q,N)=>{const[R,U]=Q.useState(q);return Q.useEffect(()=>{const K=setTimeout(()=>U(q),N);return()=>clearTimeout(K)},[q,N]),R})(o,300),V=Q.useMemo(()=>{const q=H.trim().toLowerCase();return i.filter(N=>{var Y,fe;const R=((Y=N.name)==null?void 0:Y.toLowerCase())||"",U=(N.asin||"").toLowerCase(),K=(N.barcode||"").toLowerCase(),G=q?R.includes(q)||U.includes(q)||K.includes(q):!0,ie=m==="all"?!0:m==="damaged"?(N.damagedItems||0)>0:(N.damagedItems||0)<=0,ue=(N.name||"").trim().toLowerCase(),ce=(ue&&((fe=C[ue])==null?void 0:fe.size)||0)>1;return G&&ie&&(y==="all"?!0:y==="duplicates"?ce:!ce)})},[i,H,m,y,C]),Z=Q.useMemo(()=>H.trim()?V.reduce((q,N)=>q+(N.quantity||0),0):0,[V,H]),ee=Q.useMemo(()=>{var J;const q=V.length;let N=0,R=0,U=0,K=0,G=0;for(const ce of V){(ce.damagedItems||0)>0&&N++,ce.status==="active"&&R++,ce.status==="pending"&&U++,Number(ce.price)>0&&K++;const pe=(ce.name||"").trim().toLowerCase();(pe&&((J=C[pe])==null?void 0:J.size)||0)>1&&G++}const ie=q-G,ue=q-K;return{total:q,damaged:N,duplicates:G,unique:ie,active:R,pending:U,priceSet:K,noPrice:ue}},[V,C]),W=q=>{u(q.id),h(q.price!=null?String(q.price):"")},B=()=>{u(null),h("")},ae=async q=>{const N=Number(f);if(Number.isNaN(N)||N<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,U=Br(it,"inventory",q.id);await _a(U,{price:N,lastUpdated:qt.fromDate(R)}),await b(`updated price for ${q.name} (barcode: ${q.barcode}) from ${q.price||0} to ${N.toFixed(2)}`),s(K=>K.map(G=>G.id===q.id?{...G,price:N,lastUpdated:R}:G)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return p.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[p.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[p.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",d!==null?d:p.jsx("span",{className:"animate-pulse",children:"..."})]}),p.jsxs(pt,{variant:"secondary",onClick:()=>{I(),E()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[p.jsx(sl,{size:14,className:n?"animate-spin":""}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[H.trim()?p.jsx(Xa,{title:"Total Quantity",value:Z,icon:p.jsx(J0,{size:20,className:"text-blue-600"})}):p.jsx(Xa,{title:"Products",value:ee.total,icon:p.jsx(J0,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"Damaged",value:ee.damaged,icon:p.jsx(zh,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"Duplicates",value:ee.duplicates,icon:p.jsx(sZ,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"Unique",value:ee.unique,icon:p.jsx(T4,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[p.jsx(Xa,{title:"Active",value:ee.active,icon:p.jsx(T4,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"Pending",value:ee.pending,icon:p.jsx(zh,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"With Price",value:ee.priceSet,icon:p.jsx(B2,{size:20,className:"text-blue-600"})}),p.jsx(Xa,{title:"No Price",value:ee.noPrice,icon:p.jsx(B2,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Wh,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(gt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:q=>l(q.target.value),className:"pl-10 text-sm sm:text-base"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>O(!_),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),p.jsx(qh,{size:16})]}),_&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),O(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),O(!1)},children:"Damaged"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),O(!1)},children:"Not Damaged"})]})})]}),p.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>D(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),p.jsx(qh,{size:16})]}),P&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),D(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),D(!1)},children:"Duplicates Only"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),D(!1)},children:"Unique Only"})]})})]})]})]}),n?p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[p.jsx(cs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):V.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),p.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:V.map(q=>p.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:q.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:q.asin?q.asin.split(",").length>3?q.asin.split(",").slice(0,3).map(N=>N.trim()).join(", ")+"...":q.asin.split(",").map(N=>N.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===q.id?p.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:N=>N.stopPropagation(),children:[p.jsx(gt,{type:"number",step:"0.01",value:f,onChange:N=>h(N.target.value),className:"w-28 text-right"}),p.jsx(pt,{size:"sm",onClick:()=>ae(q),isLoading:n,children:p.jsx(cO,{size:14})}),p.jsx(pt,{size:"sm",variant:"secondary",onClick:B,disabled:n,children:p.jsx(pv,{size:14})})]}):p.jsx("button",{onClick:N=>{N.stopPropagation(),W(q)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(q.price)>0?`${Number(q.price).toFixed(2)}`:"(Not set)"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:q.quantity}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:q.barcode||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:p.jsx("button",{onClick:()=>A(q),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:p.jsx(E4,{size:16})})})]},q.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-3",children:V.map(q=>{var N;return p.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:q.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:((N=q.asin)==null?void 0:N.split(",")[0])||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",p.jsx("span",{className:"font-medium",children:q.barcode||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",p.jsx("span",{className:"font-medium",children:q.quantity})]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(q.price)>0?`${Number(q.price).toFixed(2)}`:"No price"}),p.jsxs("div",{className:"flex gap-1",children:[c===q.id?p.jsxs(p.Fragment,{children:[p.jsx(pt,{size:"sm",onClick:()=>ae(q),isLoading:n,children:p.jsx(cO,{size:12})}),p.jsx(pt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),B()},disabled:n,children:p.jsx(pv,{size:12})})]}):p.jsx(pt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),W(q)},children:p.jsx(il,{size:12})}),p.jsx(pt,{size:"sm",variant:"secondary",onClick:()=>A(q),children:p.jsx(E4,{size:12})})]})]})]}),c===q.id&&p.jsx("div",{className:"mt-1",children:p.jsx(gt,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},q.id)})})]}):p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),T&&p.jsx(cN,{isOpen:!!T,onClose:()=>A(null),item:T})]})},mx=["supply & serve","APHY","AZTEC","ZK"],kye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=Q.useState(""),[s,o]=Q.useState("stock sold"),[l,c]=Q.useState(""),[u,f]=Q.useState(e.storeName||mx[0]||""),[h,d]=Q.useState(""),[g,m]=Q.useState([]),[v,y]=Q.useState(""),[w,_]=Q.useState(!1),{isDarkMode:O}=zr(),D=[...mx.includes(e.storeName)?mx:[e.storeName,...mx],"other"];Q.useEffect(()=>{(async()=>{_(!0);try{const C=fr(_t(it,"inventory"),dr("barcode","==",e.barcode)),L=await cr(C),H=[];L.docs.forEach(Z=>{const ee=Z.data();ee.locationCode&&ee.shelfNumber&&ee.quantity>0&&H.push({locationCode:ee.locationCode,shelfNumber:ee.shelfNumber,quantity:ee.quantity})});const V=H.filter((Z,ee,W)=>ee===W.findIndex(B=>B.locationCode===Z.locationCode&&B.shelfNumber===Z.shelfNumber)).sort((Z,ee)=>Z.locationCode.localeCompare(ee.locationCode));m(V),V.length>0&&y(`${V[0].locationCode}-${V[0].shelfNumber}`)}catch(C){console.error("Error fetching locations:",C)}finally{_(!1)}})()},[e.barcode]);const T=async E=>{E.preventDefault();const C=Number(a);if(!a||C<=0||C>e.quantity||!v)return;const L=s==="other"?l:s,H=u==="other"?h.trim():u.trim(),[V,Z]=v.split("-");await t({id:e.id,quantity:e.quantity-C,reason:L,storeName:H,locationCode:V,shelfNumber:Z})},b=(()=>{const E=Number(a);return!a||E<=0?"Quantity to deduct must be greater than 0":E>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":!u.trim()||u==="other"&&!h.trim()?"Please select or enter the store name":v?null:"Please select a location":"Please select a reason"})(),I=()=>{if(!v)return e.quantity;const[E,C]=v.split("-"),L=g.find(H=>H.locationCode===E&&H.shelfNumber===C);return L?L.quantity:e.quantity};return p.jsxs("form",{onSubmit:T,className:`space-y-6 ${O?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${O?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:e.name}),p.jsxs("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",v?I():e.quantity," units",v&&p.jsx("span",{className:`ml-2 ${O?"text-slate-300":"text-slate-600"}`,children:"(at selected location)"})]}),p.jsxs("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),w?p.jsxs("div",{className:`flex items-center gap-2 text-sm ${O?"text-slate-400":"text-slate-500"}`,children:[p.jsx(cs,{size:16,className:"animate-spin"}),"Loading locations..."]}):g.length>0?p.jsx(Pr,{id:"location",value:v,onChange:E=>y(E.target.value),required:!0,options:[{value:"",label:"Select a location"},...g.map(E=>({value:`${E.locationCode}-${E.shelfNumber}`,label:`${E.locationCode} - Shelf ${E.shelfNumber} (${E.quantity} units)`}))],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}):p.jsx("div",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(gt,{id:"deductQuantity",type:"number",min:"1",max:I(),value:a,onChange:E=>i(E.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),v&&p.jsxs("p",{className:`text-xs ${O?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",I()," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx(Pr,{id:"reason",value:s,onChange:E=>o(E.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(gt,{id:"otherReason",type:"text",value:l,onChange:E=>c(E.target.value),placeholder:"Enter the reason",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx(Pr,{id:"storeName",value:u,onChange:E=>f(E.target.value),options:D.map(E=>({value:E,label:E==="other"?"Other":E})),required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),u==="other"&&p.jsx(gt,{id:"otherStoreName",type:"text",value:h,onChange:E=>d(E.target.value),placeholder:"Enter store name",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${O?"text-red-400":"text-red-600"}`,children:[p.jsx(zh,{size:16}),p.jsx("span",{children:b})]}):p.jsx("p",{className:`text-xs ${O?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),p.jsx(pt,{type:"submit",disabled:n||!!b,className:"min-w-[100px]",children:n?p.jsxs(p.Fragment,{children:[p.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Cye=()=>{const{isDarkMode:e}=zr(),{showToast:t}=Kc(),{user:r}=ga(),[n,a]=Q.useState(!1),[i,s]=Q.useState([]),[o,l]=Q.useState(!1),[c,u]=Q.useState([]),[f,h]=Q.useState([]),[d,g]=Q.useState(null),[m,v]=Q.useState(null),[y,w]=Q.useState(null),[_,O]=Q.useState(!1),[P,D]=Q.useState(""),[T,A]=Q.useState(!1),[b,I]=Q.useState(null),[E,C]=Q.useState(null),[L,H]=Q.useState(0),V=i.filter(fe=>_?fe.status==="completed":fe.status!=="completed"),Z=async fe=>{if(r)try{await _r(_t(it,"activityLogs"),{user:r.name,role:r.role,detail:fe,time:new Date().toISOString()})}catch(Se){console.error("Failed to log activity:",Se)}},ee=fe=>{if(fe<60)return`${fe}s`;if(fe<3600){const Se=Math.floor(fe/60),ye=fe%60;return`${Se}m ${ye}s`}else{const Se=Math.floor(fe/3600),ye=Math.floor(fe%3600/60),te=fe%60;return`${Se}h ${ye}m ${te}s`}},W=Q.useCallback(async()=>{a(!0);try{const fe=fr(_t(it,"jobs"),Ra("createdAt","desc")),ye=(await cr(fe)).docs.map(Te=>{const Ee=Te.data();return{id:Te.id,jobId:Ee.jobId||"",createdAt:Ee.createdAt instanceof qt?Ee.createdAt.toDate():new Date,createdBy:Ee.createdBy||"Unknown",status:Ee.status||"picking",picker:Ee.picker??null,packer:Ee.packer??null,items:Array.isArray(Ee.items)?Ee.items.map(Ce=>({barcode:String(Ce.barcode||""),name:Ce.name??null,asin:Ce.asin??null,quantity:Number(Ce.quantity||1),verified:!!Ce.verified,locationCode:Ce.locationCode,shelfNumber:Ce.shelfNumber,reason:Ce.reason||"Unknown",storeName:Ce.storeName||"Unknown"})):[],pickingTime:Ee.pickingTime||0}}),te=await Promise.all(ye.map(async Te=>{const Ee=await Promise.all(Te.items.map(async Ce=>{if(Ce.name)return Ce;try{const He=fr(_t(it,"inventory"),dr("barcode","==",Ce.barcode)),je=await cr(He);if(!je.empty){const Ge=je.docs[0].data();return{...Ce,name:Ge.name||null}}}catch(He){console.error("Error fetching product name for barcode:",Ce.barcode,He)}return Ce}));return{...Te,items:Ee}}));s(te)}catch(fe){console.error(fe),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);Q.useEffect(()=>{W()},[W]),Q.useEffect(()=>{let fe;return E&&(fe=setInterval(()=>{const ye=Math.floor((new Date().getTime()-E.getTime())/1e3);H(ye)},1e3)),()=>{fe&&clearInterval(fe)}},[E]);const B=()=>{D(""),u([]),h([]),C(new Date),H(0),l(!0)},ae=async fe=>{try{const Se=fr(_t(it,"inventory"),dr("barcode","==",fe));return!(await cr(Se)).empty}catch(Se){return console.error("Error checking barcode:",Se),!1}},q=async fe=>{fe.preventDefault();const Se=P.trim();if(!Se)return;if(!await ae(Se)){t(`Product with barcode ${Se} does not exist`,"error");return}try{const te=fr(_t(it,"inventory"),dr("barcode","==",Se)),Te=await cr(te);if(!Te.empty){const Ee=Te.docs[0].data(),Ce={...Ee,id:Te.docs[0].id,lastUpdated:Ee.lastUpdated instanceof qt?Ee.lastUpdated.toDate():new Date(Ee.lastUpdated)};I(Ce),A(!0),l(!1)}}catch(te){console.error("Error fetching stock item:",te),t("Error fetching stock item details","error")}},N=async fe=>{if(!b)return;const Se=b.quantity-fe.quantity,ye=fr(_t(it,"inventory"),dr("barcode","==",b.barcode),dr("locationCode","==",fe.locationCode),dr("shelfNumber","==",fe.shelfNumber)),te=await cr(ye);if(te.empty){t("Stock item not found for this location","error");return}const Te={...b,id:te.docs[0].id,quantity:te.docs[0].data().quantity||0};h(Ee=>[...Ee,{stockItem:Te,deductedQuantity:Se,reason:fe.reason,storeName:fe.storeName,locationCode:fe.locationCode,shelfNumber:fe.shelfNumber}]),b.barcode&&u(Ee=>{const Ce=b.barcode,He=Ee.findIndex(je=>je.barcode===Ce&&je.locationCode===fe.locationCode&&je.shelfNumber===fe.shelfNumber);if(He>=0){const je=[...Ee];return je[He]={...je[He],quantity:je[He].quantity+Se},je}else return[...Ee,{barcode:Ce,name:b.name,quantity:Se,verified:!1,locationCode:fe.locationCode,shelfNumber:fe.shelfNumber,reason:fe.reason,storeName:fe.storeName}]}),t("Item added to job","success"),A(!1),I(null),l(!0),D("")},R=()=>{A(!1),I(null),l(!0)},U=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}a(!0);try{for(const ye of f){const te=Br(it,"inventory",ye.stockItem.id);await _a(te,{quantity:ye.stockItem.quantity-ye.deductedQuantity,lastUpdated:wh()}),await _r(_t(it,"activityLogs"),{detail:`${ye.deductedQuantity} units deducted from stock "${ye.stockItem.name}" (Reason: ${ye.reason}, Store: ${ye.storeName}) by ${r==null?void 0:r.role}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const ye of c)if(!f.some(Te=>Te.stockItem.barcode===ye.barcode&&Te.locationCode===ye.locationCode&&Te.shelfNumber===ye.shelfNumber)){const Te=fr(_t(it,"inventory"),dr("barcode","==",ye.barcode),dr("locationCode","==",ye.locationCode),dr("shelfNumber","==",ye.shelfNumber)),Ee=await cr(Te);if(!Ee.empty){const Ce=Ee.docs[0],je=Ce.data().quantity||0;await _a(Br(it,"inventory",Ce.id),{quantity:je-ye.quantity,lastUpdated:wh()})}}const fe=Date.now().toString(),Se=await _r(_t(it,"jobs"),{jobId:fe,createdAt:wh(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:L});await _a(Se,{docId:Se.id}),await Z(`created new job ${fe} with ${c.length} items (${c.reduce((ye,te)=>ye+te.quantity,0)} total units)`),t(`Job ${fe} created and awaiting pack`,"success"),l(!1),u([]),h([]),D(""),C(null),H(0),W()}catch(fe){console.error(fe),t("Failed to create job","error")}finally{a(!1)}},K=async fe=>{try{await _a(Br(it,"jobs",fe.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||fe.picker||null}),await Z(`completed picking for job ${fe.jobId} with ${fe.items.length} items (${fe.items.reduce((Se,ye)=>Se+ye.quantity,0)} total units)`),t(`Job ${fe.jobId} completed and awaiting pack`,"success"),W()}catch{t("Failed to update job","error")}},G=async(fe,Se,ye,te)=>{te==null||te.preventDefault(),te==null||te.stopPropagation();try{const Te=Br(it,"jobs",fe.id),Ee=await sp(Te);if(!Ee.exists())return;const Ce=Ee.data(),He=Array.isArray(Ce.items)?Ce.items.map(Ge=>({barcode:String(Ge.barcode||""),name:Ge.name??null,asin:Ge.asin??null,quantity:Number(Ge.quantity||1),verified:!!Ge.verified,locationCode:Ge.locationCode,shelfNumber:Ge.shelfNumber,reason:Ge.reason||"Unknown",storeName:Ge.storeName||"Unknown"})):[],je=He.findIndex(Ge=>Ge.barcode===Se);je>=0&&(He[je]={...He[je],verified:ye},await _a(Te,{items:He}),s(Ge=>Ge.map(Fe=>Fe.id===fe.id?{...Fe,items:He}:Fe)))}catch{t("Failed to verify item","error")}},ie=async fe=>{try{await _a(Br(it,"jobs",fe.id),{status:"completed",packer:(r==null?void 0:r.name)||fe.packer||null}),await Z(`completed packing for job ${fe.jobId} with ${fe.items.length} items (${fe.items.reduce((Se,ye)=>Se+ye.quantity,0)} total units)`),t(`Job ${fe.jobId} completed and awaiting pack`,"success"),W()}catch{t("Failed to complete job","error")}},ue=fe=>{w(fe)},J=async()=>{if(y)try{await Z(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((fe,Se)=>fe+Se.quantity,0)} total units))`),await op(Br(it,"jobs",y.id)),t("Job deleted","success"),w(null),W()}catch{t("Failed to delete job","error")}},ce=async(fe,Se,ye,te)=>{try{const Te=[...fe.items];Te[Se]={...Te[Se],barcode:ye,quantity:te},await _a(Br(it,"jobs",fe.id),{items:Te}),await Z(`updated job item in job ${fe.jobId}: barcode ${fe.items[Se].barcode}  ${ye}, quantity ${fe.items[Se].quantity}  ${te}`),t("Job item updated successfully","success"),v(null),W()}catch{t("Failed to update job item","error")}},pe=async(fe,Se)=>{try{const ye=fe.items.filter((te,Te)=>Te!==Se);await _a(Br(it,"jobs",fe.id),{items:ye}),await Z(`removed item ${fe.items[Se].barcode} (qty: ${fe.items[Se].quantity}) from job ${fe.jobId}`),t("Job item removed successfully","success"),W()}catch{t("Failed to remove job item","error")}},Y=({job:fe})=>{const Se=fe.status==="awaiting_pack",ye=fe.status==="picking",te=fe.status==="completed";return p.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[p.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-1 sm:p-2 rounded-lg`,children:p.jsx(uO,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),p.jsxs("div",{children:[p.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"}`,children:["Job ",fe.jobId]}),p.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs`,children:["Created by ",fe.createdBy,"  ",fe.createdAt.toLocaleString(),fe.pickingTime&&fe.pickingTime>0&&p.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:[" Picking: ",ee(fe.pickingTime)]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${te?"bg-green-100 text-green-700":Se?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:te?"Completed":Se?"Awaiting Pack":"Picking"}),p.jsx(pt,{variant:"secondary",onClick:W,size:"sm",children:p.jsx(sl,{size:14})}),p.jsx(pt,{variant:"danger",onClick:()=>ue(fe),size:"sm",children:p.jsx(Fs,{size:14})})]})]})}),p.jsxs("div",{className:"p-3 sm:p-4 space-y-3",children:[p.jsx("div",{className:"flex items-center gap-2",children:ye&&p.jsxs(pt,{onClick:()=>A(!0),className:"flex items-center gap-1",size:"sm",children:[p.jsx(uO,{size:14})," Scan"]})}),p.jsxs("div",{className:"space-y-2",children:[fe.items.map((Te,Ee)=>p.jsxs("div",{className:`flex items-center justify-between p-2 rounded ${e?"bg-slate-700":"bg-slate-100"}`,children:[p.jsx("div",{className:"flex-1 min-w-0",children:(m==null?void 0:m.jobId)===fe.id&&(m==null?void 0:m.itemIndex)===Ee?p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(gt,{value:m.barcode,onChange:Ce=>v({...m,barcode:Ce.target.value}),className:"w-24 text-sm"}),p.jsx(gt,{type:"number",value:m.quantity.toString(),onChange:Ce=>v({...m,quantity:Number(Ce.target.value)||1}),className:"w-16 text-sm",min:"1"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(pt,{size:"sm",onClick:()=>ce(fe,Ee,m.barcode,m.quantity),className:"h-6 px-2",children:""}),p.jsx(pt,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-6 px-2",children:""})]})]}):p.jsxs(p.Fragment,{children:[p.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium truncate`,children:Te.name||Te.barcode}),Te.name&&p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs`,children:["Barcode: ",Te.barcode]}),p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs`,children:["Qty: ",Te.quantity,Te.locationCode&&Te.shelfNumber&&p.jsxs("span",{className:"ml-2",children:[" Location: ",Te.locationCode,"-",Te.shelfNumber]}),Te.reason&&p.jsxs("span",{className:"ml-2",children:[" Reason: ",Te.reason]}),Te.storeName&&p.jsxs("span",{className:"ml-2",children:[" Store: ",Te.storeName]})]})]})}),p.jsxs("div",{className:"flex items-center gap-2",children:[Se&&p.jsxs("label",{className:`flex items-center gap-2 text-sm cursor-pointer ${e?"text-white":"text-slate-700"}`,children:[p.jsx("input",{type:"checkbox",checked:Te.verified,onChange:Ce=>G(fe,Te.barcode,Ce.target.checked,Ce),onClick:Ce=>Ce.stopPropagation(),className:"w-4 h-4"}),p.jsx("span",{className:"sm:inline hidden",children:"Verify"})]}),Se&&!m&&p.jsxs(p.Fragment,{children:[p.jsx(pt,{variant:"secondary",size:"sm",onClick:()=>v({jobId:fe.id,itemIndex:Ee,barcode:Te.barcode,quantity:Te.quantity,locationCode:Te.locationCode,shelfNumber:Te.shelfNumber,reason:Te.reason,storeName:Te.storeName}),className:"h-6 px-2",children:p.jsx(xZ,{size:14})}),p.jsx(pt,{variant:"danger",size:"sm",onClick:()=>pe(fe,Ee),className:"h-6 px-2",children:p.jsx(Fs,{size:14})})]})]})]},`${Te.barcode}-${Ee}-${fe.id}`)),fe.items.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm`,children:"No items scanned yet."})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[ye&&p.jsxs(pt,{onClick:()=>K(fe),size:"sm",className:"flex items-center gap-1",children:[p.jsx(Gx,{size:14})," Finish Picking"]}),Se&&p.jsxs(pt,{onClick:()=>ie(fe),size:"sm",className:"flex items-center gap-1",children:[p.jsx(Gx,{size:14})," Complete Job"]})]})]})]})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[_?"Completed":"Active"," Jobs"]}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(pt,{variant:"secondary",onClick:W,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:p.jsx(sl,{size:16,className:n?"animate-spin":""})}),p.jsxs(pt,{onClick:B,className:"flex items-center gap-1",size:"sm",children:[p.jsx(Wi,{size:16})," ",p.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),p.jsx(pt,{variant:_?"primary":"secondary",onClick:()=>O(!_),size:"sm",children:_?"Show Active Jobs":"Show Completed Jobs"})]})]}),p.jsxs("div",{className:"space-y-4",children:[V.map(fe=>p.jsx(Y,{job:fe},fe.id)),i.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"}`,children:_?"No completed jobs.":"No active jobs."})]}),p.jsx(Nn,{isOpen:o,onClose:()=>{l(!1),C(null),H(0)},title:"Add Barcode to Job",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),p.jsxs("form",{onSubmit:q,className:"flex gap-2",children:[p.jsx(gt,{name:"manualBarcode",value:P,onChange:fe=>D(fe.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),p.jsxs(pt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[p.jsx(Wi,{size:16})," Add"]})]})]}),p.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"}),c.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),p.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((fe,Se)=>p.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(d==null?void 0:d.index)===Se?p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx(gt,{value:d.barcode,onChange:ye=>g({...d,barcode:ye.target.value}),className:"w-24 text-sm"}),p.jsx(gt,{type:"number",value:d.quantity,onChange:ye=>g({...d,quantity:Number(ye.target.value)||1}),className:"w-16 text-sm",min:"1"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(pt,{size:"sm",onClick:()=>{const ye=c[Se].quantity,te=Number(d.quantity),Te=te-ye;u(Ee=>{const Ce=[...Ee];return Ce[Se]={...Ce[Se],barcode:d.barcode,quantity:te,reason:d.reason||"Unknown",storeName:d.storeName||"Unknown",name:d.name||null},Ce}),h(Ee=>{const Ce=[...Ee],He=Ce.findIndex(je=>je.stockItem.barcode===d.barcode&&je.locationCode===c[Se].locationCode&&je.shelfNumber===c[Se].shelfNumber);return He>=0&&(Ce[He]={...Ce[He],deductedQuantity:Ce[He].deductedQuantity+Te}),Ce}),g(null)},className:"h-6 px-2",children:""}),p.jsx(pt,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:""})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"truncate block font-medium",children:fe.name||fe.barcode}),fe.name&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",fe.barcode]}),fe.locationCode&&fe.shelfNumber&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",fe.locationCode," - Shelf ",fe.shelfNumber]}),fe.reason&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",fe.reason]}),fe.storeName&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",fe.storeName]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",fe.quantity]}),p.jsx(pt,{variant:"secondary",size:"sm",onClick:()=>g({index:Se,barcode:fe.barcode,quantity:fe.quantity,reason:fe.reason,storeName:fe.storeName,name:fe.name}),className:"h-6 px-2",children:"Edit"}),p.jsx("button",{type:"button",onClick:()=>{u(ye=>ye.filter((te,Te)=>Te!==Se)),h(ye=>{const te=c[Se];return ye.filter(Te=>!(Te.stockItem.barcode===te.barcode&&Te.locationCode===te.locationCode&&Te.shelfNumber===te.shelfNumber))})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:""})]})]})},`${fe.barcode}-${fe.locationCode}-${fe.shelfNumber}-${Se}`))}),p.jsx("div",{className:"pt-2",children:p.jsxs(pt,{onClick:U,disabled:c.length===0,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[p.jsx(Gx,{size:16})," Finish Picking"]})})]})]})}),p.jsx(wb,{isOpen:!!y,onClose:()=>w(null),onConfirm:J,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),p.jsx(Nn,{isOpen:T,onClose:()=>A(!1),title:"Update Stock for Job",size:"lg",children:b&&p.jsx(kye,{item:b,onSubmit:N,onCancel:R,isLoading:!1})})]})},Nye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return p.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},Aq=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return p.jsx(Nye,{variant:t(),children:r()})},Pye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=zr();return p.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),p.jsxs("div",{className:"flex items-center gap-2",children:[r,p.jsx(Aq,{status:e.status})]})]}),p.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),p.jsx("div",{className:"space-y-1 mb-3",children:p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),p.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),p.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[p.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:$t(e.createdAt,"MMM d, yyyy")}),p.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},Oye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),p.jsx(Nn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),p.jsx("div",{className:"mt-1",children:p.jsx(Aq,{status:r.status})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),p.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),p.jsx("p",{className:"text-slate-800",children:r.createdAt?$t(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),p.jsx("p",{className:"text-slate-800",children:r.updatedAt?$t(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),p.jsx("p",{className:"text-slate-800",children:r.shippedTime?$t(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),p.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),p.jsx("tfoot",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),p.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),p.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),p.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,_b=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:or(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:or(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:or(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:or(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:or(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:or(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:or(new Date,6),locationCode:"D2",shelfNumber:4}],Iye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:or(new Date,1),updatedAt:or(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:or(new Date,2),updatedAt:or(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:or(new Date,5),updatedAt:or(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:or(new Date,10),updatedAt:or(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:or(new Date,15),updatedAt:or(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];Iye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:$t(or(new Date,29-t),"MMM dd"),amount:r}});or(new Date,1),or(new Date,1),or(new Date,3),or(new Date,4),or(new Date,5);const Dye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],jye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],FS={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},ej={street:"",city:"",state:"",zipCode:"",country:""};function Lye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Mye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,tj=e=>Mye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},Rye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=Q.useState(""),[s,o]=Q.useState(""),[l,c]=Q.useState("pending"),[u,f]=Q.useState(""),[h,d]=Q.useState([{...FS}]),[g,m]=Q.useState({...ej}),[v,y]=Q.useState({...ej}),[w,_]=Q.useState("Credit Card"),[O,P]=Q.useState(""),[D,T]=Q.useState([]),[A,b]=Q.useState(!1);Q.useEffect(()=>{e&&(i(Lye()),f($t(new Date,"yyyy-MM-dd")),d([{...FS}]),c("pending"))},[e]),Q.useEffect(()=>{e&&(async()=>{b(!0);try{const Z=fr(_t(it,"inventory"),Ra("name")),W=(await cr(Z)).docs.map(B=>({id:B.id,...B.data()}));T(W.length>0?W:_b)}catch{T(_b)}finally{b(!1)}})()},[e]);const I=(V,Z,ee)=>{d(W=>W.map((B,ae)=>{if(ae!==V)return B;if(Z==="productName"){const q=D.find(N=>N.name===ee);return q?{...B,productId:q.id,productName:q.name,unitPrice:q.price,quantity:1,totalPrice:q.price*1}:B}if(Z==="quantity"){const q=Number(ee);return{...B,quantity:q,totalPrice:B.unitPrice*q}}return{...B,[Z]:ee}}))},E=()=>{d([...h,{...FS}])},C=V=>{d(Z=>Z.filter((ee,W)=>W!==V))},L=(V,Z,ee)=>{V==="shipping"?m(W=>({...tj(W),[Z]:ee})):y(W=>({...tj(W),[Z]:ee}))},H=V=>{if(V.preventDefault(),h.some(W=>!W.productId||!W.productName)){alert("Please select a product for each order item.");return}const Z=new Date,ee={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):Z,updatedAt:Z,items:h.map((W,B)=>({...W,id:`item${B+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((W,B)=>W+(B.totalPrice||0),0)};O&&(ee.notes=O),r(ee),t()};return p.jsx(Nn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:p.jsxs("form",{onSubmit:H,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(gt,{label:"Customer Name",value:s,onChange:V=>o(V.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Pr,{label:"Status",value:l,onChange:V=>c(V.target.value),options:Dye,required:!0,fullWidth:!0,disabled:!0}),p.jsx(Pr,{label:"Payment Method",value:w,onChange:V=>_(V.target.value),options:jye,required:!0,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx(gt,{label:"Order Date",type:"date",value:u,onChange:V=>f(V.target.value),required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((V,Z)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Pr,{label:"Product Name",value:V.productName,onChange:ee=>I(Z,"productName",ee.target.value),options:[{value:"",label:"Select product..."},...D.map(ee=>({value:ee.name,label:ee.name}))],required:!0,fullWidth:!0,disabled:A}),p.jsx(gt,{label:"Quantity",type:"number",value:V.quantity,onChange:ee=>I(Z,"quantity",Number(ee.target.value)),min:1,required:!0,fullWidth:!0,disabled:!V.productName}),p.jsx(gt,{label:"Unit Price",type:"number",value:V.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(gt,{label:"Total Price",type:"number",value:V.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(pt,{type:"button",variant:"danger",size:"sm",icon:p.jsx(Fs,{size:16}),onClick:()=>C(Z),children:"Remove"})]},Z)),p.jsx(pt,{type:"button",variant:"primary",icon:p.jsx(Wi,{size:16}),onClick:E,disabled:A,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(gt,{label:"Street",value:g.street,onChange:V=>L("shipping","street",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"City",value:g.city,onChange:V=>L("shipping","city",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"State",value:g.state,onChange:V=>L("shipping","state",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Zip Code",value:g.zipCode,onChange:V=>L("shipping","zipCode",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Country",value:g.country,onChange:V=>L("shipping","country",V.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(gt,{label:"Street",value:v.street,onChange:V=>L("billing","street",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"City",value:v.city,onChange:V=>L("billing","city",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"State",value:v.state,onChange:V=>L("billing","state",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Zip Code",value:v.zipCode,onChange:V=>L("billing","zipCode",V.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Country",value:v.country,onChange:V=>L("billing","country",V.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(gt,{label:"Notes (optional)",value:O,onChange:V=>P(V.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(pt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Fye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],$ye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],rj={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},nj={street:"",city:"",state:"",zipCode:"",country:""},Bye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=Q.useState(""),[o,l]=Q.useState(""),[c,u]=Q.useState("pending"),[f,h]=Q.useState(""),[d,g]=Q.useState(""),[m,v]=Q.useState([{...rj}]),[y,w]=Q.useState({...nj}),[_,O]=Q.useState({...nj}),[P,D]=Q.useState("Credit Card"),[T,A]=Q.useState(""),[b,I]=Q.useState([]),[E,C]=Q.useState(!1);Q.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h($t(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ae=>({...ae}))),w(a.shippingAddress),O(a.billingAddress),D(a.paymentMethod),A(a.notes||""),a.status==="shipped"&&a.shippedTime?g($t(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),Q.useEffect(()=>{e&&(async()=>{C(!0);try{const q=fr(_t(it,"inventory"),Ra("name")),R=(await cr(q)).docs.map(U=>({id:U.id,...U.data()}));I(R.length>0?R:_b)}catch{I(_b)}finally{C(!1)}})()},[e]);const L=(ae,q,N)=>{v(R=>R.map((U,K)=>{if(K!==ae)return U;if(q==="productName"){const G=b.find(ie=>ie.name===N);return G?{...U,productId:G.id,productName:G.name,unitPrice:G.price,quantity:1,totalPrice:G.price*1}:U}if(q==="quantity"){const G=Number(N);return{...U,quantity:G,totalPrice:U.unitPrice*G}}return{...U,[q]:N}}))},H=()=>{v([...m,{...rj}])},V=ae=>{v(q=>q.filter((N,R)=>R!==ae))},Z=(ae,q,N)=>{ae==="shipping"?w(R=>({...B(R),[q]:N})):O(R=>({...B(R),[q]:N}))},ee=ae=>{if(ae.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const q={orderNumber:i,customerName:o,status:c,items:m.map((R,U)=>{let K;return typeof R.id=="string"&&R.id?K=R.id:K=`item${U+1}`,{...R,id:K}}),shippingAddress:y,billingAddress:_,paymentMethod:P,totalAmount:m.reduce((R,U)=>R+(U.totalPrice||0),0)};T&&(q.notes=T),c==="shipped"&&d?q.shippedTime=que(d):a!=null&&a.shippedTime&&c!=="shipped"&&(q.shippedTime=null);const N={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...q};r(N),t()},W=ae=>typeof ae=="object"&&ae!==null&&!Array.isArray(ae)&&"street"in ae&&"city"in ae&&"state"in ae&&"zipCode"in ae&&"country"in ae,B=ae=>W(ae)?ae:{street:"",city:"",state:"",zipCode:"",country:""};return p.jsx(Nn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:p.jsxs("form",{onSubmit:ee,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(gt,{label:"Customer Name",value:o,onChange:ae=>l(ae.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Pr,{label:"Status",value:c,onChange:ae=>u(ae.target.value),options:Fye,required:!0,fullWidth:!0}),p.jsx(Pr,{label:"Payment Method",value:P,onChange:ae=>D(ae.target.value),options:$ye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Order Date",type:"date",value:f,onChange:ae=>h(ae.target.value),required:!0,fullWidth:!0}),c==="shipped"&&p.jsx(gt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:ae=>g(ae.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((ae,q)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Pr,{label:"Product Name",value:ae.productName,onChange:N=>L(q,"productName",N.target.value),options:[{value:"",label:"Select product..."},...b.map(N=>({value:N.name,label:N.name}))],required:!0,fullWidth:!0,disabled:E}),p.jsx(gt,{label:"Quantity",type:"number",value:ae.quantity,onChange:N=>L(q,"quantity",Number(N.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ae.productName}),p.jsx(gt,{label:"Unit Price",type:"number",value:ae.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(gt,{label:"Total Price",type:"number",value:ae.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(pt,{type:"button",variant:"danger",size:"sm",icon:p.jsx(Fs,{size:16}),onClick:()=>V(q),children:"Remove"})]},q)),p.jsx(pt,{type:"button",variant:"primary",icon:p.jsx(Wi,{size:16}),onClick:H,disabled:E,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(gt,{label:"Street",value:y.street,onChange:ae=>Z("shipping","street",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"City",value:y.city,onChange:ae=>Z("shipping","city",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"State",value:y.state,onChange:ae=>Z("shipping","state",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Zip Code",value:y.zipCode,onChange:ae=>Z("shipping","zipCode",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Country",value:y.country,onChange:ae=>Z("shipping","country",ae.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(gt,{label:"Street",value:_.street,onChange:ae=>Z("billing","street",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"City",value:_.city,onChange:ae=>Z("billing","city",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"State",value:_.state,onChange:ae=>Z("billing","state",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Zip Code",value:_.zipCode,onChange:ae=>Z("billing","zipCode",ae.target.value),required:!0,fullWidth:!0}),p.jsx(gt,{label:"Country",value:_.country,onChange:ae=>Z("billing","country",ae.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(gt,{label:"Notes (optional)",value:T,onChange:ae=>A(ae.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(pt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(pt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Vye=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState("all"),[a,i]=Q.useState("date"),[s,o]=Q.useState(null),[l,c]=Q.useState("grid"),[u,f]=Q.useState(!1),[h,d]=Q.useState(!1),[g,m]=Q.useState([]),[v,y]=Q.useState(null),[w,_]=Q.useState(!1),{showToast:O}=Kc(),{user:P}=ga(),{isDarkMode:D}=zr(),T=async()=>{d(!0);try{const W=fr(_t(it,"orders"),Ra("createdAt","desc")),ae=(await cr(W)).docs.map(q=>{const N=q.data();return{id:q.id,orderNumber:N.orderNumber||"",customerName:N.customerName||"",items:N.items||[],status:N.status||"pending",createdAt:N.createdAt instanceof qt?N.createdAt.toDate():new Date(N.createdAt),updatedAt:N.updatedAt instanceof qt?N.updatedAt.toDate():new Date(N.updatedAt),shippingAddress:N.shippingAddress||{},billingAddress:N.billingAddress||{},paymentMethod:N.paymentMethod||"",totalAmount:N.totalAmount||0,notes:N.notes||"",shippedTime:N.shippedTime instanceof qt?N.shippedTime.toDate():N.shippedTime?new Date(N.shippedTime):void 0}});m(ae)}catch(W){console.error("Error fetching orders:",W),O("Failed to fetch orders","error")}finally{d(!1)}};Q.useEffect(()=>{T()},[]);const A=g.filter(W=>{const B=W.orderNumber.toLowerCase().includes(e.toLowerCase())||W.customerName.toLowerCase().includes(e.toLowerCase()),ae=r==="all"||W.status===r;return B&&ae}).sort((W,B)=>a==="date"?new Date(B.createdAt).getTime()-new Date(W.createdAt).getTime():a==="amount"?B.totalAmount-W.totalAmount:0),b=W=>{o(W)},I=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],C=async W=>{d(!0);try{console.log("Adding new order with status:",W.status),await _r(_t(it,"orders"),{...W,createdAt:wh(),updatedAt:wh()}),await _r(_t(it,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${W.orderNumber} for '${W.customerName}' with ${W.items.length} items (${W.items.map(B=>`${B.quantity} ${B.productName}`).join(", ")}) - Total: $${W.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),W.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await gx(W.items,!0)),await T(),f(!1),O("Order added successfully!","success")}catch(B){console.error("Error in handleAddOrder:",B),alert("Error adding order: "+((B==null?void 0:B.message)||B))}finally{d(!1)}},L=async W=>{d(!0);try{const B=Br(it,"orders",W.id),q=(await sp(B)).data();console.log("Previous order status:",q==null?void 0:q.status),console.log("New order status:",W.status);const N={status:W.status,updatedAt:wh()},R=[];if((q==null?void 0:q.status)!==W.status&&R.push(`status from "${q==null?void 0:q.status}" to "${W.status}"`),(q==null?void 0:q.customerName)!==W.customerName&&R.push(`customer from "${q==null?void 0:q.customerName}" to "${W.customerName}"`),JSON.stringify(q==null?void 0:q.items)!==JSON.stringify(W.items)){const K=[];W.items.forEach(G=>{const ie=q==null?void 0:q.items.find(ue=>ue.id===G.id);ie?ie.quantity!==G.quantity&&K.push(`changed ${G.productName} quantity from ${ie.quantity} to ${G.quantity}`):K.push(`added ${G.quantity} ${G.productName}`)}),q==null||q.items.forEach(G=>{W.items.find(ie=>ie.id===G.id)||K.push(`removed ${G.quantity} ${G.productName}`)}),K.length>0&&R.push(`items: ${K.join(", ")}`)}(q==null?void 0:q.totalAmount)!==W.totalAmount&&R.push(`total amount from $${q==null?void 0:q.totalAmount.toFixed(2)} to $${W.totalAmount.toFixed(2)}`),W.status==="shipped"&&(q==null?void 0:q.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await gx(W.items,!0),W.shippedTime?N.shippedTime=qt.fromDate(W.shippedTime):N.shippedTime=wh()):(q==null?void 0:q.status)==="shipped"&&W.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await gx(W.items,!1),N.shippedTime=AI()):(W.status==="cancelled"||W.status==="returned")&&(q==null?void 0:q.status)!=="cancelled"&&(q==null?void 0:q.status)!=="returned"?(console.log(`Status changed to ${W.status}, restoring inventory...`),await gx(W.items,!1),N.shippedTime=AI()):q!=null&&q.shippedTime&&(N.shippedTime=qt.fromDate(q.shippedTime));const{...U}=W;Object.assign(N,U),await _a(B,N),R.length>0&&await _r(_t(it,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${W.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),O("Order updated successfully!","success")}catch(B){console.error("Error updating order:",B),O("Failed to update order","error")}finally{d(!1)}},H=()=>{y(null)},V=async W=>{d(!0);try{const B=Br(it,"orders",W),q=(await sp(B)).data();q&&(await _r(_t(it,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(N=>`${N.quantity} ${N.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await op(B),await T(),_(!1),o(null),O("Order deleted successfully!","success"))}catch(B){console.error("Error deleting order:",B),O("Failed to delete order","error")}finally{d(!1)}},Z=(W,B)=>{W.stopPropagation(),o(B),_(!0)},ee=(W,B)=>{W.stopPropagation(),y(B)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${D?"text-white":"text-slate-800"}`,children:"Current Orders"}),p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),p.jsx(pt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:p.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsx("div",{className:"md:flex-1",children:p.jsx(gt,{placeholder:"Search by order number or customer...",value:e,onChange:W=>t(W.target.value),icon:p.jsx(Wh,{size:18}),fullWidth:!0})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Pr,{options:I,value:r,onChange:W=>n(W.target.value)}),p.jsx(Pr,{options:E,value:a,onChange:W=>i(W.target.value)})]})]}),p.jsx("div",{className:"flex justify-end mb-4",children:p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":D?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[p.jsx(uZ,{size:18,className:"inline mr-1"})," Grid"]}),p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":D?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[p.jsx(bZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${D?"text-blue-400":"text-blue-500"} animate-spin`}),p.jsx("p",{className:`mt-2 ${D?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?A.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(W=>p.jsx("div",{className:"flex flex-col",children:p.jsx(Pye,{order:W,onClick:()=>b(W),editButton:p.jsx("button",{onClick:B=>ee(B,W),className:`p-2 ${D?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:p.jsx(il,{className:`w-4 h-4 ${D?"text-blue-400":"text-blue-500"}`})})})},W.id))}):p.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):A.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${D?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[p.jsx("thead",{className:D?"bg-slate-900":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`${D?"divide-slate-700":"divide-slate-200"}`,children:A.map(W=>p.jsxs("tr",{className:`${D?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>b(W),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-blue-400":"text-blue-700"} font-medium`,children:W.orderNumber}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"}`,children:W.customerName}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"} capitalize`,children:W.status}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"}`,children:new Date(W.createdAt).toLocaleDateString()}),p.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${D?"text-slate-200":"text-slate-900"} text-right`,children:["$",W.totalAmount.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:B=>{B.stopPropagation(),y(W)},className:`p-1 ${D?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(il,{size:16})}),p.jsx("button",{onClick:B=>Z(B,W),className:`p-1 ${D?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(Fs,{size:16})})]})})]},W.id))})]})}):p.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&p.jsx(Oye,{isOpen:!!s,onClose:()=>o(null),order:s}),p.jsx(Rye,{isOpen:u,onClose:()=>f(!1),onAdd:C,isLoading:h}),p.jsx(Bye,{isOpen:!!v,onClose:H,onEdit:L,isLoading:h,order:v}),s&&p.jsx(wb,{isOpen:w,onClose:()=>{_(!1),o(null)},onConfirm:()=>V(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},gx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Sae(it),n=[];for(const a of e){const i=Br(it,"inventory",a.productId),s=await sp(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await _r(_t(it,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Tq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=zr(),[o,l]=Q.useState(!1),c=d=>{const g=d.target.value?new Date(d.target.value):null;r(g)},u=d=>{const g=d.target.value?new Date(d.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${$t(e,"MMM d, yyyy")} - ${$t(t,"MMM d, yyyy")}`:e?`From ${$t(e,"MMM d, yyyy")}`:t?`To ${$t(t,"MMM d, yyyy")}`:"Select date range";return p.jsxs("div",{className:`relative ${i}`,children:[p.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p.jsx(nZ,{className:"h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&p.jsx("button",{onClick:d=>{d.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",children:p.jsx(pv,{className:"h-3 w-3"})})]}),o&&p.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),p.jsx("input",{type:"date",value:e?$t(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),p.jsx("input",{type:"date",value:t?$t(t,"yyyy-MM-dd"):"",onChange:u,min:e?$t(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[p.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),p.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Uye="modulepreload",zye=function(e){return"/"+e},aj={},NT=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=zye(l),l in aj)return;aj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Uye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var Ti=Uint8Array,Ms=Uint16Array,uN=Int32Array,y5=new Ti([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),x5=new Ti([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),PT=new Ti([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Eq=function(e,t){for(var r=new Ms(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new uN(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},kq=Eq(y5,2),Cq=kq.b,OT=kq.r;Cq[28]=258,OT[258]=28;var Nq=Eq(x5,0),qye=Nq.b,ij=Nq.r,IT=new Ms(32768);for(var Sn=0;Sn<32768;++Sn){var Nu=(Sn&43690)>>1|(Sn&21845)<<1;Nu=(Nu&52428)>>2|(Nu&13107)<<2,Nu=(Nu&61680)>>4|(Nu&3855)<<4,IT[Sn]=((Nu&65280)>>8|(Nu&255)<<8)>>1}var Rl=function(e,t,r){for(var n=e.length,a=0,i=new Ms(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Ms(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Ms(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[IT[f]>>l]=c}else for(o=new Ms(n),a=0;a<n;++a)e[a]&&(o[a]=IT[s[e[a]-1]++]>>15-e[a]);return o},Tf=new Ti(288);for(var Sn=0;Sn<144;++Sn)Tf[Sn]=8;for(var Sn=144;Sn<256;++Sn)Tf[Sn]=9;for(var Sn=256;Sn<280;++Sn)Tf[Sn]=7;for(var Sn=280;Sn<288;++Sn)Tf[Sn]=8;var Uv=new Ti(32);for(var Sn=0;Sn<32;++Sn)Uv[Sn]=5;var Wye=Rl(Tf,9,0),Hye=Rl(Tf,9,1),Gye=Rl(Uv,5,0),Kye=Rl(Uv,5,1),$S=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Ro=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},BS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},fN=function(e){return(e+7)/8|0},Pq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new Ti(e.subarray(t,r))},Yye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],zo=function(e,t,r){var n=new Error(t||Yye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,zo),!r)throw n;return n},Xye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new Ti(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new Ti(a*3));var c=function(pe){var Y=r.length;if(pe>Y){var fe=new Ti(Math.max(Y*2,pe));fe.set(r),r=fe}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!d){u=Ro(e,f,1);var w=Ro(e,f+1,3);if(f+=3,w)if(w==1)d=Hye,g=Kye,m=9,v=5;else if(w==2){var D=Ro(e,f,31)+257,T=Ro(e,f+10,15)+4,A=D+Ro(e,f+5,31)+1;f+=14;for(var b=new Ti(A),I=new Ti(19),E=0;E<T;++E)I[PT[E]]=Ro(e,f+E*3,7);f+=T*3;for(var C=$S(I),L=(1<<C)-1,H=Rl(I,C,1),E=0;E<A;){var V=H[Ro(e,f,L)];f+=V&15;var _=V>>4;if(_<16)b[E++]=_;else{var Z=0,ee=0;for(_==16?(ee=3+Ro(e,f,3),f+=2,Z=b[E-1]):_==17?(ee=3+Ro(e,f,7),f+=3):_==18&&(ee=11+Ro(e,f,127),f+=7);ee--;)b[E++]=Z}}var W=b.subarray(0,D),B=b.subarray(D);m=$S(W),v=$S(B),d=Rl(W,m,1),g=Rl(B,v,1)}else zo(1);else{var _=fN(f)+4,O=e[_-4]|e[_-3]<<8,P=_+O;if(P>a){l&&zo(0);break}o&&c(h+O),r.set(e.subarray(_,P),h),t.b=h+=O,t.p=f=P*8,t.f=u;continue}if(f>y){l&&zo(0);break}}o&&c(h+131072);for(var ae=(1<<m)-1,q=(1<<v)-1,N=f;;N=f){var Z=d[BS(e,f)&ae],R=Z>>4;if(f+=Z&15,f>y){l&&zo(0);break}if(Z||zo(2),R<256)r[h++]=R;else if(R==256){N=f,d=null;break}else{var U=R-254;if(R>264){var E=R-257,K=y5[E];U=Ro(e,f,(1<<K)-1)+Cq[E],f+=K}var G=g[BS(e,f)&q],ie=G>>4;G||zo(3),f+=G&15;var B=qye[ie];if(ie>3){var K=x5[ie];B+=BS(e,f)&(1<<K)-1,f+=K}if(f>y){l&&zo(0);break}o&&c(h+131072);var ue=h+U;if(h<B){var J=i-B,ce=Math.min(B,ue);for(J+h<0&&zo(3);h<ce;++h)r[h]=n[J+h]}for(;h<ue;++h)r[h]=r[h-B]}}t.l=d,t.p=N,t.b=h,t.f=u,d&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?Pq(r,0,h):r.subarray(0,h)},lc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$m=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},VS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Iq,l:0};if(a==1){var s=new Ti(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,D){return P.f-D.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new Ms(h+1),g=DT(r[u-1],d,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(D,T){return d[T.s]-d[D.s]||D.f-T.f});n<a;++n){var w=i[n].s;if(d[w]>t)m+=y-(1<<g-d[w]),d[w]=t;else break}for(m>>=v;m>0;){var _=i[n].s;d[_]<t?m-=1<<t-d[_]++-1:++n}for(;n>=0&&m;--n){var O=i[n].s;d[O]==t&&(--d[O],++m)}g=t}return{t:new Ti(d),l:g}},DT=function(e,t,r){return e.s==-1?Math.max(DT(e.l,t,r+1),DT(e.r,t,r+1)):t[e.s]=r},sj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Ms(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Bm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Oq=function(e,t,r){var n=r.length,a=fN(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},oj=function(e,t,r,n,a,i,s,o,l,c,u){lc(t,u++,r),++a[256];for(var f=VS(a,15),h=f.t,d=f.l,g=VS(i,15),m=g.t,v=g.l,y=sj(h),w=y.c,_=y.n,O=sj(m),P=O.c,D=O.n,T=new Ms(19),A=0;A<w.length;++A)++T[w[A]&31];for(var A=0;A<P.length;++A)++T[P[A]&31];for(var b=VS(T,7),I=b.t,E=b.l,C=19;C>4&&!I[PT[C-1]];--C);var L=c+5<<3,H=Bm(a,Tf)+Bm(i,Uv)+s,V=Bm(a,h)+Bm(i,m)+s+14+3*C+Bm(T,I)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&L<=H&&L<=V)return Oq(t,u,e.subarray(l,l+c));var Z,ee,W,B;if(lc(t,u,1+(V<H)),u+=2,V<H){Z=Rl(h,d,0),ee=h,W=Rl(m,v,0),B=m;var ae=Rl(I,E,0);lc(t,u,_-257),lc(t,u+5,D-1),lc(t,u+10,C-4),u+=14;for(var A=0;A<C;++A)lc(t,u+3*A,I[PT[A]]);u+=3*C;for(var q=[w,P],N=0;N<2;++N)for(var R=q[N],A=0;A<R.length;++A){var U=R[A]&31;lc(t,u,ae[U]),u+=I[U],U>15&&(lc(t,u,R[A]>>5&127),u+=R[A]>>12)}}else Z=Wye,ee=Tf,W=Gye,B=Uv;for(var A=0;A<o;++A){var K=n[A];if(K>255){var U=K>>18&31;$m(t,u,Z[U+257]),u+=ee[U+257],U>7&&(lc(t,u,K>>23&31),u+=y5[U]);var G=K&31;$m(t,u,W[G]),u+=B[G],G>3&&($m(t,u,K>>5&8191),u+=x5[G])}else $m(t,u,Z[K]),u+=ee[K]}return $m(t,u,Z[256]),u+ee[256]},Qye=new uN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Iq=new Ti(0),Jye=function(e,t,r,n,a,i){var s=i.z||e.length,o=new Ti(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=Qye[t-1],h=f>>13,d=f&8191,g=(1<<r)-1,m=i.p||new Ms(32768),v=i.h||new Ms(g+1),y=Math.ceil(r/3),w=2*y,_=function(Se){return(e[Se]^e[Se+1]<<y^e[Se+2]<<w)&g},O=new uN(25e3),P=new Ms(288),D=new Ms(32),T=0,A=0,b=i.i||0,I=0,E=i.w||0,C=0;b+2<s;++b){var L=_(b),H=b&32767,V=v[L];if(m[H]=V,v[L]=H,E<=b){var Z=s-b;if((T>7e3||I>24576)&&(Z>423||!c)){u=oj(e,l,0,O,P,D,A,I,C,b-C,u),I=T=A=0,C=b;for(var ee=0;ee<286;++ee)P[ee]=0;for(var ee=0;ee<30;++ee)D[ee]=0}var W=2,B=0,ae=d,q=H-V&32767;if(Z>2&&L==_(b-q))for(var N=Math.min(h,Z)-1,R=Math.min(32767,b),U=Math.min(258,Z);q<=R&&--ae&&H!=V;){if(e[b+W]==e[b+W-q]){for(var K=0;K<U&&e[b+K]==e[b+K-q];++K);if(K>W){if(W=K,B=q,K>N)break;for(var G=Math.min(q,K-2),ie=0,ee=0;ee<G;++ee){var ue=b-q+ee&32767,J=m[ue],ce=ue-J&32767;ce>ie&&(ie=ce,V=ue)}}}H=V,V=m[H],q+=H-V&32767}if(B){O[I++]=268435456|OT[W]<<18|ij[B];var pe=OT[W]&31,Y=ij[B]&31;A+=y5[pe]+x5[Y],++P[257+pe],++D[Y],E=b+W,++T}else O[I++]=e[b],++P[e[b]]}}for(b=Math.max(b,E);b<s;++b)O[I++]=e[b],++P[e[b]];u=oj(e,l,c,O,P,D,A,I,C,b-C,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=b,i.w=E)}else{for(var b=i.w||0;b<s+c;b+=65535){var fe=b+65535;fe>=s&&(l[u/8|0]=c,fe=s),u=Oq(l,u+1,e.subarray(b,fe))}i.i=s}return Pq(o,0,n+fN(u)+a)},Dq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},Zye=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new Ti(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Jye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},jq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},exe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Dq();a.p(t.dictionary),jq(e,2,a.d())}},txe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&zo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&zo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function jT(e,t){t||(t={});var r=Dq();r.p(e);var n=Zye(e,t,t.dictionary?6:2,4);return exe(n,t),jq(n,n.length-4,r.d()),n}function rxe(e,t){return Xye(e.subarray(txe(e,t),-4),{i:2},t,t)}var nxe=typeof TextDecoder<"u"&&new TextDecoder,axe=0;try{nxe.decode(Iq,{stream:!0}),axe=1}catch{}var Kt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function US(){Kt.console&&typeof Kt.console.log=="function"&&Kt.console.log.apply(Kt.console,arguments)}var cn={log:US,warn:function(e){Kt.console&&(typeof Kt.console.warn=="function"?Kt.console.warn.apply(Kt.console,arguments):US.call(null,arguments))},error:function(e){Kt.console&&(typeof Kt.console.error=="function"?Kt.console.error.apply(Kt.console,arguments):US(e))}};function zS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){fh(n.response,t,r)},n.onerror=function(){cn.error("could not download file")},n.send()}function lj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function vx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Vg,LT,fh=Kt.saveAs||((typeof window>"u"?"undefined":Vr(window))!=="object"||window!==Kt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Kt.URL||Kt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?lj(a.href)?zS(e,t,r):vx(a,a.target="_blank"):vx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){vx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(lj(e))zS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){vx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Vr(i)!=="object"&&(cn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return zS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Kt.HTMLElement)||Kt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Kt.URL||Kt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Lq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function qS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=hi(r,n,a,i,t[0],7,-680876936),i=hi(i,r,n,a,t[1],12,-389564586),a=hi(a,i,r,n,t[2],17,606105819),n=hi(n,a,i,r,t[3],22,-1044525330),r=hi(r,n,a,i,t[4],7,-176418897),i=hi(i,r,n,a,t[5],12,1200080426),a=hi(a,i,r,n,t[6],17,-1473231341),n=hi(n,a,i,r,t[7],22,-45705983),r=hi(r,n,a,i,t[8],7,1770035416),i=hi(i,r,n,a,t[9],12,-1958414417),a=hi(a,i,r,n,t[10],17,-42063),n=hi(n,a,i,r,t[11],22,-1990404162),r=hi(r,n,a,i,t[12],7,1804603682),i=hi(i,r,n,a,t[13],12,-40341101),a=hi(a,i,r,n,t[14],17,-1502002290),r=di(r,n=hi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=di(i,r,n,a,t[6],9,-1069501632),a=di(a,i,r,n,t[11],14,643717713),n=di(n,a,i,r,t[0],20,-373897302),r=di(r,n,a,i,t[5],5,-701558691),i=di(i,r,n,a,t[10],9,38016083),a=di(a,i,r,n,t[15],14,-660478335),n=di(n,a,i,r,t[4],20,-405537848),r=di(r,n,a,i,t[9],5,568446438),i=di(i,r,n,a,t[14],9,-1019803690),a=di(a,i,r,n,t[3],14,-187363961),n=di(n,a,i,r,t[8],20,1163531501),r=di(r,n,a,i,t[13],5,-1444681467),i=di(i,r,n,a,t[2],9,-51403784),a=di(a,i,r,n,t[7],14,1735328473),r=pi(r,n=di(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=pi(i,r,n,a,t[8],11,-2022574463),a=pi(a,i,r,n,t[11],16,1839030562),n=pi(n,a,i,r,t[14],23,-35309556),r=pi(r,n,a,i,t[1],4,-1530992060),i=pi(i,r,n,a,t[4],11,1272893353),a=pi(a,i,r,n,t[7],16,-155497632),n=pi(n,a,i,r,t[10],23,-1094730640),r=pi(r,n,a,i,t[13],4,681279174),i=pi(i,r,n,a,t[0],11,-358537222),a=pi(a,i,r,n,t[3],16,-722521979),n=pi(n,a,i,r,t[6],23,76029189),r=pi(r,n,a,i,t[9],4,-640364487),i=pi(i,r,n,a,t[12],11,-421815835),a=pi(a,i,r,n,t[15],16,530742520),r=mi(r,n=pi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=mi(i,r,n,a,t[7],10,1126891415),a=mi(a,i,r,n,t[14],15,-1416354905),n=mi(n,a,i,r,t[5],21,-57434055),r=mi(r,n,a,i,t[12],6,1700485571),i=mi(i,r,n,a,t[3],10,-1894986606),a=mi(a,i,r,n,t[10],15,-1051523),n=mi(n,a,i,r,t[1],21,-2054922799),r=mi(r,n,a,i,t[8],6,1873313359),i=mi(i,r,n,a,t[15],10,-30611744),a=mi(a,i,r,n,t[6],15,-1560198380),n=mi(n,a,i,r,t[13],21,1309151649),r=mi(r,n,a,i,t[4],6,-145523070),i=mi(i,r,n,a,t[11],10,-1120210379),a=mi(a,i,r,n,t[2],15,718787259),n=mi(n,a,i,r,t[9],21,-343485551),e[0]=Yu(r,e[0]),e[1]=Yu(n,e[1]),e[2]=Yu(a,e[2]),e[3]=Yu(i,e[3])}function b5(e,t,r,n,a,i){return t=Yu(Yu(t,e),Yu(n,i)),Yu(t<<a|t>>>32-a,r)}function hi(e,t,r,n,a,i,s){return b5(t&r|~t&n,e,t,a,i,s)}function di(e,t,r,n,a,i,s){return b5(t&n|r&~n,e,t,a,i,s)}function pi(e,t,r,n,a,i,s){return b5(t^r^n,e,t,a,i,s)}function mi(e,t,r,n,a,i,s){return b5(r^(t|~n),e,t,a,i,s)}function Mq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)qS(n,ixe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(qS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,qS(n,a),n}function ixe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Vg=Kt.atob.bind(Kt),LT=Kt.btoa.bind(Kt);var cj="0123456789abcdef".split("");function sxe(e){for(var t="",r=0;r<4;r++)t+=cj[e>>8*r+4&15]+cj[e>>8*r&15];return t}function oxe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function MT(e){return Mq(e).map(oxe).join("")}var lxe=function(e){for(var t=0;t<e.length;t++)e[t]=sxe(e[t]);return e.join("")}(Mq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yu(e,t){if(lxe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function RT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,g="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var uj={print:4,modify:8,copy:16,"annot-forms":32};function Zd(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(uj.perm!==void 0)throw new Error("Invalid permission: "+o);a+=uj[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=MT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=RT(this.encryptionKey,this.padding)}function e0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function fj(e){if(Vr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Kt.console&&cn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Sb(e){if(!(this instanceof Sb))return new Sb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Rq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function gh(e,t,r,n,a){if(!(this instanceof gh))return new gh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Rq.call(this,n,a)}function x0(e,t,r,n,a){if(!(this instanceof x0))return new x0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Rq.call(this,n,a)}function Gt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Vr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=fj;var g="1.3",m=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(j){g=j};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var y=d.__private__.getPageFormat=function(j){return v[j]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function O(){this.saveGraphicsState(),te(new Dt(et,0,0,-et,0,oi()*et).toString()+" cm"),this.setFontSize(this.getFontSize()/et),c="n",_=w.ADVANCED}function P(){this.restoreGraphicsState(),c="S",_=w.COMPAT}var D=d.__private__.combineFontStyleAndFontWeight=function(j,re){if(j=="bold"&&re=="normal"||j=="bold"&&re==400||j=="normal"&&re=="italic"||j=="bold"&&re=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return re&&(j=re==400||re==="normal"?j==="italic"?"italic":"normal":re!=700&&re!=="bold"||j!=="normal"?(re==700?"bold":re)+""+j:"bold"),j};d.advancedAPI=function(j){var re=_===w.COMPAT;return re&&O.call(this),typeof j!="function"||(j(this),re&&P.call(this)),this},d.compatAPI=function(j){var re=_===w.ADVANCED;return re&&P.call(this),typeof j!="function"||(j(this),re&&O.call(this)),this},d.isAdvancedAPI=function(){return _===w.ADVANCED};var T,A=function(j){if(_!==w.ADVANCED)throw new Error(j+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},b=d.roundToPrecision=d.__private__.roundToPrecision=function(j,re){var Ae=t||re;if(isNaN(j)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return j.toFixed(Ae).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof l=="number"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return b(j,l)}:l==="smart"?function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return b(j,j>-1&&j<1?16:5)}:function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.hpf");return b(j,16)};var I=d.f2=d.__private__.f2=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f2");return b(j,2)},E=d.__private__.f3=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.f3");return b(j,3)},C=d.scale=d.__private__.scale=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?j*et:_===w.ADVANCED?j:void 0},L=function(j){return _===w.COMPAT?oi()-j:_===w.ADVANCED?j:void 0},H=function(j){return C(L(j))};d.__private__.setPrecision=d.setPrecision=function(j){typeof parseInt(j,10)=="number"&&(t=parseInt(j,10))};var V,Z="00000000000000000000000000000000",ee=d.__private__.getFileId=function(){return Z},W=d.__private__.setFileId=function(j){return Z=j!==void 0&&/^[a-fA-F0-9]{32}$/.test(j)?j.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(yn=new Zd(u.userPermissions,u.userPassword,u.ownerPassword,Z)),Z};d.setFileId=function(j){return W(j),this},d.getFileId=function(){return ee()};var B=d.__private__.convertDateToPDFDate=function(j){var re=j.getTimezoneOffset(),Ae=re<0?"+":"-",ke=Math.floor(Math.abs(re/60)),Me=Math.abs(re%60),Qe=[Ae,U(ke),"'",U(Me),"'"].join("");return["D:",j.getFullYear(),U(j.getMonth()+1),U(j.getDate()),U(j.getHours()),U(j.getMinutes()),U(j.getSeconds()),Qe].join("")},ae=d.__private__.convertPDFDateToDate=function(j){var re=parseInt(j.substr(2,4),10),Ae=parseInt(j.substr(6,2),10)-1,ke=parseInt(j.substr(8,2),10),Me=parseInt(j.substr(10,2),10),Qe=parseInt(j.substr(12,2),10),ft=parseInt(j.substr(14,2),10);return new Date(re,Ae,ke,Me,Qe,ft,0)},q=d.__private__.setCreationDate=function(j){var re;if(j===void 0&&(j=new Date),j instanceof Date)re=B(j);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(j))throw new Error("Invalid argument passed to jsPDF.setCreationDate");re=j}return V=re},N=d.__private__.getCreationDate=function(j){var re=V;return j==="jsDate"&&(re=ae(V)),re};d.setCreationDate=function(j){return q(j),this},d.getCreationDate=function(j){return N(j)};var R,U=d.__private__.padd2=function(j){return("0"+parseInt(j)).slice(-2)},K=d.__private__.padd2Hex=function(j){return("00"+(j=j.toString())).substr(j.length)},G=0,ie=[],ue=[],J=0,ce=[],pe=[],Y=!1,fe=ue,Se=function(){G=0,J=0,ue=[],ie=[],ce=[],ge=Tn(),ve=Tn()};d.__private__.setCustomOutputDestination=function(j){Y=!0,fe=j};var ye=function(j){Y||(fe=j)};d.__private__.resetCustomOutputDestination=function(){Y=!1,fe=ue};var te=d.__private__.out=function(j){return j=j.toString(),J+=j.length+1,fe.push(j),fe},Te=d.__private__.write=function(j){return te(arguments.length===1?j.toString():Array.prototype.join.call(arguments," "))},Ee=d.__private__.getArrayBuffer=function(j){for(var re=j.length,Ae=new ArrayBuffer(re),ke=new Uint8Array(Ae);re--;)ke[re]=j.charCodeAt(re);return Ae},Ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ce};var He=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(j){return He=_===w.ADVANCED?j/et:j,this};var je,Ge=d.__private__.getFontSize=d.getFontSize=function(){return _===w.COMPAT?He:He*et},Fe=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(j){return Fe=j,this},d.__private__.getR2L=d.getR2L=function(){return Fe};var Ye,lt=d.__private__.setZoomMode=function(j){var re=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(j))je=j;else if(isNaN(j)){if(re.indexOf(j)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+j+'" is not recognized.');je=j}else je=parseInt(j,10)};d.__private__.getZoomMode=function(){return je};var nt,dt=d.__private__.setPageMode=function(j){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(j)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+j+'" is not recognized.');Ye=j};d.__private__.getPageMode=function(){return Ye};var xt=d.__private__.setLayoutMode=function(j){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(j)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+j+'" is not recognized.');nt=j};d.__private__.getLayoutMode=function(){return nt},d.__private__.setDisplayMode=d.setDisplayMode=function(j,re,Ae){return lt(j),xt(re),dt(Ae),this};var wt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(j){if(Object.keys(wt).indexOf(j)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wt[j]},d.__private__.getDocumentProperties=function(){return wt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(j){for(var re in wt)wt.hasOwnProperty(re)&&j[re]&&(wt[re]=j[re]);return this},d.__private__.setDocumentProperty=function(j,re){if(Object.keys(wt).indexOf(j)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wt[j]=re};var mt,et,Bt,Lt,Gr,Ne={},Je={},St=[],Ct={},ur={},hr={},Ir={},gn=null,Dr=0,Vt=[],wr=new fj(d),Ji=e.hotfixes||[],Fn={},Na={},Oi=[],Dt=function j(re,Ae,ke,Me,Qe,ft){if(!(this instanceof j))return new j(re,Ae,ke,Me,Qe,ft);isNaN(re)&&(re=1),isNaN(Ae)&&(Ae=0),isNaN(ke)&&(ke=0),isNaN(Me)&&(Me=1),isNaN(Qe)&&(Qe=0),isNaN(ft)&&(ft=0),this._matrix=[re,Ae,ke,Me,Qe,ft]};Object.defineProperty(Dt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Dt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Dt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Dt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Dt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Dt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Dt.prototype,"a",{get:function(){return this._matrix[0]},set:function(j){this._matrix[0]=j}}),Object.defineProperty(Dt.prototype,"b",{get:function(){return this._matrix[1]},set:function(j){this._matrix[1]=j}}),Object.defineProperty(Dt.prototype,"c",{get:function(){return this._matrix[2]},set:function(j){this._matrix[2]=j}}),Object.defineProperty(Dt.prototype,"d",{get:function(){return this._matrix[3]},set:function(j){this._matrix[3]=j}}),Object.defineProperty(Dt.prototype,"e",{get:function(){return this._matrix[4]},set:function(j){this._matrix[4]=j}}),Object.defineProperty(Dt.prototype,"f",{get:function(){return this._matrix[5]},set:function(j){this._matrix[5]=j}}),Object.defineProperty(Dt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Dt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Dt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Dt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Dt.prototype.join=function(j){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(j)},Dt.prototype.multiply=function(j){var re=j.sx*this.sx+j.shy*this.shx,Ae=j.sx*this.shy+j.shy*this.sy,ke=j.shx*this.sx+j.sy*this.shx,Me=j.shx*this.shy+j.sy*this.sy,Qe=j.tx*this.sx+j.ty*this.shx+this.tx,ft=j.tx*this.shy+j.ty*this.sy+this.ty;return new Dt(re,Ae,ke,Me,Qe,ft)},Dt.prototype.decompose=function(){var j=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Me=this.tx,Qe=this.ty,ft=Math.sqrt(j*j+re*re),kt=(j/=ft)*Ae+(re/=ft)*ke;Ae-=j*kt,ke-=re*kt;var S=Math.sqrt(Ae*Ae+ke*ke);return kt/=S,j*(ke/=S)<re*(Ae/=S)&&(j=-j,re=-re,kt=-kt,ft=-ft),{scale:new Dt(ft,0,0,S,0,0),translate:new Dt(1,0,0,1,Me,Qe),rotate:new Dt(j,re,-re,j,0,0),skew:new Dt(1,0,kt,1,0,0)}},Dt.prototype.toString=function(j){return this.join(" ")},Dt.prototype.inversed=function(){var j=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Me=this.tx,Qe=this.ty,ft=1/(j*ke-re*Ae),kt=ke*ft,S=-re*ft,F=-Ae*ft,X=j*ft;return new Dt(kt,S,F,X,-kt*Me-F*Qe,-S*Me-X*Qe)},Dt.prototype.applyToPoint=function(j){var re=j.x*this.sx+j.y*this.shx+this.tx,Ae=j.x*this.shy+j.y*this.sy+this.ty;return new Zl(re,Ae)},Dt.prototype.applyToRectangle=function(j){var re=this.applyToPoint(j),Ae=this.applyToPoint(new Zl(j.x+j.w,j.y+j.h));return new fu(re.x,re.y,Ae.x-re.x,Ae.y-re.y)},Dt.prototype.clone=function(){var j=this.sx,re=this.shy,Ae=this.shx,ke=this.sy,Me=this.tx,Qe=this.ty;return new Dt(j,re,Ae,ke,Me,Qe)},d.Matrix=Dt;var si=d.matrixMult=function(j,re){return re.multiply(j)},ia=new Dt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ia;var $n=function(j,re){if(!ur[j]){var Ae=(re instanceof gh?"Sh":"P")+(Object.keys(Ct).length+1).toString(10);re.id=Ae,ur[j]=Ae,Ct[Ae]=re,wr.publish("addPattern",re)}};d.ShadingPattern=gh,d.TilingPattern=x0,d.addShadingPattern=function(j,re){return A("addShadingPattern()"),$n(j,re),this},d.beginTilingPattern=function(j){A("beginTilingPattern()"),hu(j.boundingBox[0],j.boundingBox[1],j.boundingBox[2]-j.boundingBox[0],j.boundingBox[3]-j.boundingBox[1],j.matrix)},d.endTilingPattern=function(j,re){A("endTilingPattern()"),re.stream=pe[R].join(`
`),$n(j,re),wr.publish("endTilingPattern",re),Oi.pop().restore()};var In=d.__private__.newObject=function(){var j=Tn();return se(j,!0),j},Tn=d.__private__.newObjectDeferred=function(){return G++,ie[G]=function(){return J},G},se=function(j,re){return re=typeof re=="boolean"&&re,ie[j]=J,re&&te(j+" 0 obj"),j},we=d.__private__.newAdditionalObject=function(){var j={objId:Tn(),content:""};return ce.push(j),j},ge=Tn(),ve=Tn(),be=d.__private__.decodeColorString=function(j){var re=j.split(" ");if(re.length!==2||re[1]!=="g"&&re[1]!=="G")re.length===5&&(re[4]==="k"||re[4]==="K")&&(re=[(1-re[0])*(1-re[3]),(1-re[1])*(1-re[3]),(1-re[2])*(1-re[3]),"r"]);else{var Ae=parseFloat(re[0]);re=[Ae,Ae,Ae,"r"]}for(var ke="#",Me=0;Me<3;Me++)ke+=("0"+Math.floor(255*parseFloat(re[Me])).toString(16)).slice(-2);return ke},_e=d.__private__.encodeColorString=function(j){var re;typeof j=="string"&&(j={ch1:j});var Ae=j.ch1,ke=j.ch2,Me=j.ch3,Qe=j.ch4,ft=j.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var kt=new Lq(Ae);if(kt.ok)Ae=kt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var S=parseInt(Ae.substr(1),16);Ae=S>>16&255,ke=S>>8&255,Me=255&S}if(ke===void 0||Qe===void 0&&Ae===ke&&ke===Me)if(typeof Ae=="string")re=Ae+" "+ft[0];else switch(j.precision){case 2:re=I(Ae/255)+" "+ft[0];break;case 3:default:re=E(Ae/255)+" "+ft[0]}else if(Qe===void 0||Vr(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return re=["1.","1.","1.",ft[1]].join(" ");if(typeof Ae=="string")re=[Ae,ke,Me,ft[1]].join(" ");else switch(j.precision){case 2:re=[I(Ae/255),I(ke/255),I(Me/255),ft[1]].join(" ");break;default:case 3:re=[E(Ae/255),E(ke/255),E(Me/255),ft[1]].join(" ")}}else if(typeof Ae=="string")re=[Ae,ke,Me,Qe,ft[2]].join(" ");else switch(j.precision){case 2:re=[I(Ae),I(ke),I(Me),I(Qe),ft[2]].join(" ");break;case 3:default:re=[E(Ae),E(ke),E(Me),E(Qe),ft[2]].join(" ")}return re},$e=d.__private__.getFilters=function(){return s},Ke=d.__private__.putStream=function(j){var re=(j=j||{}).data||"",Ae=j.filters||$e(),ke=j.alreadyAppliedFilters||[],Me=j.addLength1||!1,Qe=re.length,ft=j.objectId,kt=function(rr){return rr};if(u!==null&&ft===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(kt=yn.encryptor(ft,0));var S={};Ae===!0&&(Ae=["FlateEncode"]);var F=j.additionalKeyValues||[],X=(S=Gt.API.processDataByFilters!==void 0?Gt.API.processDataByFilters(re,Ae):{data:re,reverseChain:[]}).reverseChain+(Array.isArray(ke)?ke.join(" "):ke.toString());if(S.data.length!==0&&(F.push({key:"Length",value:S.data.length}),Me===!0&&F.push({key:"Length1",value:Qe})),X.length!=0)if(X.split("/").length-1==1)F.push({key:"Filter",value:X});else{F.push({key:"Filter",value:"["+X+"]"});for(var he=0;he<F.length;he+=1)if(F[he].key==="DecodeParms"){for(var Le=[],qe=0;qe<S.reverseChain.split("/").length-1;qe+=1)Le.push("null");Le.push(F[he].value),F[he].value="["+Le.join(" ")+"]"}}te("<<");for(var ht=0;ht<F.length;ht++)te("/"+F[ht].key+" "+F[ht].value);te(">>"),S.data.length!==0&&(te("stream"),te(kt(S.data)),te("endstream"))},Be=d.__private__.putPage=function(j){var re=j.number,Ae=j.data,ke=j.objId,Me=j.contentsObjId;se(ke,!0),te("<</Type /Page"),te("/Parent "+j.rootDictionaryObjId+" 0 R"),te("/Resources "+j.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(T(j.mediaBox.bottomLeftX))+" "+parseFloat(T(j.mediaBox.bottomLeftY))+" "+T(j.mediaBox.topRightX)+" "+T(j.mediaBox.topRightY)+"]"),j.cropBox!==null&&te("/CropBox ["+T(j.cropBox.bottomLeftX)+" "+T(j.cropBox.bottomLeftY)+" "+T(j.cropBox.topRightX)+" "+T(j.cropBox.topRightY)+"]"),j.bleedBox!==null&&te("/BleedBox ["+T(j.bleedBox.bottomLeftX)+" "+T(j.bleedBox.bottomLeftY)+" "+T(j.bleedBox.topRightX)+" "+T(j.bleedBox.topRightY)+"]"),j.trimBox!==null&&te("/TrimBox ["+T(j.trimBox.bottomLeftX)+" "+T(j.trimBox.bottomLeftY)+" "+T(j.trimBox.topRightX)+" "+T(j.trimBox.topRightY)+"]"),j.artBox!==null&&te("/ArtBox ["+T(j.artBox.bottomLeftX)+" "+T(j.artBox.bottomLeftY)+" "+T(j.artBox.topRightX)+" "+T(j.artBox.topRightY)+"]"),typeof j.userUnit=="number"&&j.userUnit!==1&&te("/UserUnit "+j.userUnit),wr.publish("putPage",{objId:ke,pageContext:Vt[re],pageNumber:re,page:Ae}),te("/Contents "+Me+" 0 R"),te(">>"),te("endobj");var Qe=Ae.join(`
`);return _===w.ADVANCED&&(Qe+=`
Q`),se(Me,!0),Ke({data:Qe,filters:$e(),objectId:Me}),te("endobj"),ke},Ve=d.__private__.putPages=function(){var j,re,Ae=[];for(j=1;j<=Dr;j++)Vt[j].objId=Tn(),Vt[j].contentsObjId=Tn();for(j=1;j<=Dr;j++)Ae.push(Be({number:j,data:pe[j],objId:Vt[j].objId,contentsObjId:Vt[j].contentsObjId,mediaBox:Vt[j].mediaBox,cropBox:Vt[j].cropBox,bleedBox:Vt[j].bleedBox,trimBox:Vt[j].trimBox,artBox:Vt[j].artBox,userUnit:Vt[j].userUnit,rootDictionaryObjId:ge,resourceDictionaryObjId:ve}));se(ge,!0),te("<</Type /Pages");var ke="/Kids [";for(re=0;re<Dr;re++)ke+=Ae[re]+" 0 R ";te(ke+"]"),te("/Count "+Dr),te(">>"),te("endobj"),wr.publish("postPutPages")},We=function(j){wr.publish("putFont",{font:j,out:te,newObject:In,putStream:Ke}),j.isAlreadyPutted!==!0&&(j.objectNumber=In(),te("<<"),te("/Type /Font"),te("/BaseFont /"+e0(j.postScriptName)),te("/Subtype /Type1"),typeof j.encoding=="string"&&te("/Encoding /"+j.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},ut=function(){for(var j in Ne)Ne.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&We(Ne[j])},bt=function(j){j.objectNumber=In();var re=[];re.push({key:"Type",value:"/XObject"}),re.push({key:"Subtype",value:"/Form"}),re.push({key:"BBox",value:"["+[T(j.x),T(j.y),T(j.x+j.width),T(j.y+j.height)].join(" ")+"]"}),re.push({key:"Matrix",value:"["+j.matrix.toString()+"]"});var Ae=j.pages[1].join(`
`);Ke({data:Ae,additionalKeyValues:re,objectId:j.objectNumber}),te("endobj")},Nt=function(){for(var j in Fn)Fn.hasOwnProperty(j)&&bt(Fn[j])},vt=function(j,re){var Ae,ke=[],Me=1/(re-1);for(Ae=0;Ae<1;Ae+=Me)ke.push(Ae);if(ke.push(1),j[0].offset!=0){var Qe={offset:0,color:j[0].color};j.unshift(Qe)}if(j[j.length-1].offset!=1){var ft={offset:1,color:j[j.length-1].color};j.push(ft)}for(var kt="",S=0,F=0;F<ke.length;F++){for(Ae=ke[F];Ae>j[S+1].offset;)S++;var X=j[S].offset,he=(Ae-X)/(j[S+1].offset-X),Le=j[S].color,qe=j[S+1].color;kt+=K(Math.round((1-he)*Le[0]+he*qe[0]).toString(16))+K(Math.round((1-he)*Le[1]+he*qe[1]).toString(16))+K(Math.round((1-he)*Le[2]+he*qe[2]).toString(16))}return kt.trim()},At=function(j,re){re||(re=21);var Ae=In(),ke=vt(j.colors,re),Me=[];Me.push({key:"FunctionType",value:"0"}),Me.push({key:"Domain",value:"[0.0 1.0]"}),Me.push({key:"Size",value:"["+re+"]"}),Me.push({key:"BitsPerSample",value:"8"}),Me.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Me.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:ke,additionalKeyValues:Me,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),te("endobj"),j.objectNumber=In(),te("<< /ShadingType "+j.type),te("/ColorSpace /DeviceRGB");var Qe="/Coords ["+T(parseFloat(j.coords[0]))+" "+T(parseFloat(j.coords[1]))+" ";j.type===2?Qe+=T(parseFloat(j.coords[2]))+" "+T(parseFloat(j.coords[3])):Qe+=T(parseFloat(j.coords[2]))+" "+T(parseFloat(j.coords[3]))+" "+T(parseFloat(j.coords[4]))+" "+T(parseFloat(j.coords[5])),te(Qe+="]"),j.matrix&&te("/Matrix ["+j.matrix.toString()+"]"),te("/Function "+Ae+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},Wt=function(j,re){var Ae=Tn(),ke=In();re.push({resourcesOid:Ae,objectOid:ke}),j.objectNumber=ke;var Me=[];Me.push({key:"Type",value:"/Pattern"}),Me.push({key:"PatternType",value:"1"}),Me.push({key:"PaintType",value:"1"}),Me.push({key:"TilingType",value:"1"}),Me.push({key:"BBox",value:"["+j.boundingBox.map(T).join(" ")+"]"}),Me.push({key:"XStep",value:T(j.xStep)}),Me.push({key:"YStep",value:T(j.yStep)}),Me.push({key:"Resources",value:Ae+" 0 R"}),j.matrix&&Me.push({key:"Matrix",value:"["+j.matrix.toString()+"]"}),Ke({data:j.stream,additionalKeyValues:Me,objectId:j.objectNumber}),te("endobj")},Tr=function(j){var re;for(re in Ct)Ct.hasOwnProperty(re)&&(Ct[re]instanceof gh?At(Ct[re]):Ct[re]instanceof x0&&Wt(Ct[re],j))},Er=function(j){for(var re in j.objectNumber=In(),te("<<"),j)switch(re){case"opacity":te("/ca "+I(j[re]));break;case"stroke-opacity":te("/CA "+I(j[re]))}te(">>"),te("endobj")},tn=function(){var j;for(j in hr)hr.hasOwnProperty(j)&&Er(hr[j])},Ii=function(){for(var j in te("/XObject <<"),Fn)Fn.hasOwnProperty(j)&&Fn[j].objectNumber>=0&&te("/"+j+" "+Fn[j].objectNumber+" 0 R");wr.publish("putXobjectDict"),te(">>")},Ao=function(){yn.oid=In(),te("<<"),te("/Filter /Standard"),te("/V "+yn.v),te("/R "+yn.r),te("/U <"+yn.toHexString(yn.U)+">"),te("/O <"+yn.toHexString(yn.O)+">"),te("/P "+yn.P),te(">>"),te("endobj")},xs=function(){for(var j in te("/Font <<"),Ne)Ne.hasOwnProperty(j)&&(f===!1||f===!0&&h.hasOwnProperty(j))&&te("/"+j+" "+Ne[j].objectNumber+" 0 R");te(">>")},Zi=function(){if(Object.keys(Ct).length>0){for(var j in te("/Shading <<"),Ct)Ct.hasOwnProperty(j)&&Ct[j]instanceof gh&&Ct[j].objectNumber>=0&&te("/"+j+" "+Ct[j].objectNumber+" 0 R");wr.publish("putShadingPatternDict"),te(">>")}},bs=function(j){if(Object.keys(Ct).length>0){for(var re in te("/Pattern <<"),Ct)Ct.hasOwnProperty(re)&&Ct[re]instanceof d.TilingPattern&&Ct[re].objectNumber>=0&&Ct[re].objectNumber<j&&te("/"+re+" "+Ct[re].objectNumber+" 0 R");wr.publish("putTilingPatternDict"),te(">>")}},Ua=function(){if(Object.keys(hr).length>0){var j;for(j in te("/ExtGState <<"),hr)hr.hasOwnProperty(j)&&hr[j].objectNumber>=0&&te("/"+j+" "+hr[j].objectNumber+" 0 R");wr.publish("putGStateDict"),te(">>")}},vn=function(j){se(j.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xs(),Zi(),bs(j.objectOid),Ua(),Ii(),te(">>"),te("endobj")},Bf=function(){var j=[];ut(),tn(),Nt(),Tr(j),wr.publish("putResources"),j.forEach(vn),vn({resourcesOid:ve,objectOid:Number.MAX_SAFE_INTEGER}),wr.publish("postPutResources")},Vf=function(){wr.publish("putAdditionalObjects");for(var j=0;j<ce.length;j++){var re=ce[j];se(re.objId,!0),te(re.content),te("endobj")}wr.publish("postPutAdditionalObjects")},xd=function(j){Je[j.fontName]=Je[j.fontName]||{},Je[j.fontName][j.fontStyle]=j.id},Uf=function(j,re,Ae,ke,Me){var Qe={id:"F"+(Object.keys(Ne).length+1).toString(10),postScriptName:j,fontName:re,fontStyle:Ae,encoding:ke,isStandardFont:Me||!1,metadata:{}};return wr.publish("addFont",{font:Qe,instance:this}),Ne[Qe.id]=Qe,xd(Qe),Qe.id},bd=function(j){for(var re=0,Ae=Ce.length;re<Ae;re++){var ke=Uf.call(this,j[re][0],j[re][1],j[re][2],Ce[re][3],!0);f===!1&&(h[ke]=!0);var Me=j[re][0].split("-");xd({id:ke,fontName:Me[0],fontStyle:Me[1]||""})}wr.publish("addFonts",{fonts:Ne,dictionary:Je})},es=function(j){return j.foo=function(){try{return j.apply(this,arguments)}catch(ke){var re=ke.stack||"";~re.indexOf(" at ")&&(re=re.split(" at ")[1]);var Ae="Error in function "+re.split(`
`)[0].split("<")[0]+": "+ke.message;if(!Kt.console)throw new Error(Ae);Kt.console.error(Ae,ke),Kt.alert&&alert(Ae)}},j.foo.bar=j,j.foo},Zc=function(j,re){var Ae,ke,Me,Qe,ft,kt,S,F,X;if(Me=(re=re||{}).sourceEncoding||"Unicode",ft=re.outputEncoding,(re.autoencode||ft)&&Ne[mt].metadata&&Ne[mt].metadata[Me]&&Ne[mt].metadata[Me].encoding&&(Qe=Ne[mt].metadata[Me].encoding,!ft&&Ne[mt].encoding&&(ft=Ne[mt].encoding),!ft&&Qe.codePages&&(ft=Qe.codePages[0]),typeof ft=="string"&&(ft=Qe[ft]),ft)){for(S=!1,kt=[],Ae=0,ke=j.length;Ae<ke;Ae++)(F=ft[j.charCodeAt(Ae)])?kt.push(String.fromCharCode(F)):kt.push(j[Ae]),kt[Ae].charCodeAt(0)>>8&&(S=!0);j=kt.join("")}for(Ae=j.length;S===void 0&&Ae!==0;)j.charCodeAt(Ae-1)>>8&&(S=!0),Ae--;if(!S)return j;for(kt=re.noBOM?[]:[254,255],Ae=0,ke=j.length;Ae<ke;Ae++){if((X=(F=j.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+j+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");kt.push(X),kt.push(F-(X<<8))}return String.fromCharCode.apply(void 0,kt)},Bn=d.__private__.pdfEscape=d.pdfEscape=function(j,re){return Zc(j,re).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Di=d.__private__.beginPage=function(j){pe[++Dr]=[],Vt[Dr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(j[0]),topRightY:Number(j[1])}},zf(Dr),ye(pe[R])},Kl=function(j,re){var Ae,ke,Me;switch(r=re||r,typeof j=="string"&&(Ae=y(j.toLowerCase()),Array.isArray(Ae)&&(ke=Ae[0],Me=Ae[1])),Array.isArray(j)&&(ke=j[0]*et,Me=j[1]*et),isNaN(ke)&&(ke=a[0],Me=a[1]),(ke>14400||Me>14400)&&(cn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ke=Math.min(14400,ke),Me=Math.min(14400,Me)),a=[ke,Me],r.substr(0,1)){case"l":Me>ke&&(a=[Me,ke]);break;case"p":ke>Me&&(a=[Me,ke])}Di(a),Kf(Gf),te(za),Qf!==0&&te(Qf+" J"),uu!==0&&te(uu+" j"),wr.publish("addPage",{pageNumber:Dr})},eu=function(j){j>0&&j<=Dr&&(pe.splice(j,1),Vt.splice(j,1),Dr--,R>Dr&&(R=Dr),this.setPage(R))},zf=function(j){j>0&&j<=Dr&&(R=j)},Kr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return pe.length-1},Yl=function(j,re,Ae){var ke,Me=void 0;return Ae=Ae||{},j=j!==void 0?j:Ne[mt].fontName,re=re!==void 0?re:Ne[mt].fontStyle,ke=j.toLowerCase(),Je[ke]!==void 0&&Je[ke][re]!==void 0?Me=Je[ke][re]:Je[j]!==void 0&&Je[j][re]!==void 0?Me=Je[j][re]:Ae.disableWarning===!1&&cn.warn("Unable to look up font label for font '"+j+"', '"+re+"'. Refer to getFontList() for available fonts."),Me||Ae.noFallback||(Me=Je.times[re])==null&&(Me=Je.times.normal),Me},Xl=d.__private__.putInfo=function(){var j=In(),re=function(ke){return ke};for(var Ae in u!==null&&(re=yn.encryptor(j,0)),te("<<"),te("/Producer ("+Bn(re("jsPDF "+Gt.version))+")"),wt)wt.hasOwnProperty(Ae)&&wt[Ae]&&te("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+Bn(re(wt[Ae]))+")");te("/CreationDate ("+Bn(re(V))+")"),te(">>"),te("endobj")},To=d.__private__.putCatalog=function(j){var re=(j=j||{}).rootDictionaryObjId||ge;switch(In(),te("<<"),te("/Type /Catalog"),te("/Pages "+re+" 0 R"),je||(je="fullwidth"),je){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+je;Ae.substr(Ae.length-1)==="%"&&(je=parseInt(je)/100),typeof je=="number"&&te("/OpenAction [3 0 R /XYZ null null "+I(je)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ye&&te("/PageMode /"+Ye),wr.publish("putCatalog"),te(">>"),te("endobj")},um=d.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(G+1)),te("/Root "+G+" 0 R"),te("/Info "+(G-1)+" 0 R"),u!==null&&te("/Encrypt "+yn.oid+" 0 R"),te("/ID [ <"+Z+"> <"+Z+"> ]"),te(">>")},wd=d.__private__.putHeader=function(){te("%PDF-"+g),te("%")},fm=d.__private__.putXRef=function(){var j="0000000000";te("xref"),te("0 "+(G+1)),te("0000000000 65535 f ");for(var re=1;re<=G;re++)typeof ie[re]=="function"?te((j+ie[re]()).slice(-10)+" 00000 n "):ie[re]!==void 0?te((j+ie[re]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},Eo=d.__private__.buildDocument=function(){Se(),ye(ue),wr.publish("buildDocument"),wd(),Ve(),Vf(),Bf(),u!==null&&Ao(),Xl(),To();var j=J;return fm(),um(),te("startxref"),te(""+j),te("%%EOF"),ye(pe[R]),ue.join(`
`)},tu=d.__private__.getBlob=function(j){return new Blob([Ee(j)],{type:"application/pdf"})},ru=d.output=d.__private__.output=es(function(j,re){switch(typeof(re=re||{})=="string"?re={filename:re}:re.filename=re.filename||"generated.pdf",j){case void 0:return Eo();case"save":d.save(re.filename);break;case"arraybuffer":return Ee(Eo());case"blob":return tu(Eo());case"bloburi":case"bloburl":if(Kt.URL!==void 0&&typeof Kt.URL.createObjectURL=="function")return Kt.URL&&Kt.URL.createObjectURL(tu(Eo()))||void 0;cn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",ke=Eo();try{Ae=LT(ke)}catch{Ae=LT(unescape(encodeURIComponent(ke)))}return"data:application/pdf;filename="+re.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var Me="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';re.pdfObjectUrl&&(Me=re.pdfObjectUrl,Qe="");var ft='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Me+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(re)+");<\/script></body></html>",kt=Kt.open();return kt!==null&&kt.document.write(ft),kt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Kt)==="[object Window]"){var S='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(re.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+re.filename+'" width="500px" height="400px" /></body></html>',F=Kt.open();if(F!==null){F.document.write(S);var X=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=re.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Kt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var he='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",re)+'"></iframe></body></html>',Le=Kt.open();if(Le!==null&&(Le.document.write(he),Le.document.title=re.filename),Le||typeof safari>"u")return Le;break;case"datauri":case"dataurl":return Kt.document.location.href=this.output("datauristring",re);default:return null}}),hl=function(j){return Array.isArray(Ji)===!0&&Ji.indexOf(j)>-1};switch(n){case"pt":et=1;break;case"mm":et=72/25.4;break;case"cm":et=72/2.54;break;case"in":et=72;break;case"px":et=hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":et=12;break;case"ex":et=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);et=n}var yn=null;q(),W();var _d=function(j){return u!==null?yn.encryptor(j,0):function(re){return re}},qf=d.__private__.getPageInfo=d.getPageInfo=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Vt[j].objId,pageNumber:j,pageContext:Vt[j]}},Xt=d.__private__.getPageInfoByObjId=function(j){if(isNaN(j)||j%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var re in Vt)if(Vt[re].objId===j)break;return qf(re)},dl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Vt[R].objId,pageNumber:R,pageContext:Vt[R]}};d.addPage=function(){return Kl.apply(this,arguments),this},d.setPage=function(){return zf.apply(this,arguments),ye.call(this,pe[R]),this},d.insertPage=function(j){return this.addPage(),this.movePage(R,j),this},d.movePage=function(j,re){var Ae,ke;if(j>re){Ae=pe[j],ke=Vt[j];for(var Me=j;Me>re;Me--)pe[Me]=pe[Me-1],Vt[Me]=Vt[Me-1];pe[re]=Ae,Vt[re]=ke,this.setPage(re)}else if(j<re){Ae=pe[j],ke=Vt[j];for(var Qe=j;Qe<re;Qe++)pe[Qe]=pe[Qe+1],Vt[Qe]=Vt[Qe+1];pe[re]=Ae,Vt[re]=ke,this.setPage(re)}return this},d.deletePage=function(){return eu.apply(this,arguments),this},d.__private__.text=d.text=function(j,re,Ae,ke,Me){var Qe,ft,kt,S,F,X,he,Le,qe,ht=(ke=ke||{}).scope||this;if(typeof j=="number"&&typeof re=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var rr=Ae;Ae=re,re=j,j=rr}if(arguments[3]instanceof Dt?(A("The transform parameter of text() with a Matrix value"),qe=Me):(kt=arguments[4],S=arguments[5],Vr(he=arguments[3])==="object"&&he!==null||(typeof kt=="string"&&(S=kt,kt=null),typeof he=="string"&&(S=he,he=null),typeof he=="number"&&(kt=he,he=null),ke={flags:he,angle:kt,align:S})),isNaN(re)||isNaN(Ae)||j==null)throw new Error("Invalid arguments passed to jsPDF.text");if(j.length===0)return ht;var vr="",nr=!1,Wr=typeof ke.lineHeightFactor=="number"?ke.lineHeightFactor:qr,on=ht.internal.scaleFactor;function Oo(fn){return fn=fn.split("	").join(Array(ke.TabLen||9).join(" ")),Bn(fn,he)}function qa(fn){for(var hn,Qn=fn.concat(),ya=[],ac=Qn.length;ac--;)typeof(hn=Qn.shift())=="string"?ya.push(hn):Array.isArray(fn)&&(hn.length===1||hn[1]===void 0&&hn[2]===void 0)?ya.push(hn[0]):ya.push([hn[0],hn[1],hn[2]]);return ya}function vl(fn,hn){var Qn;if(typeof fn=="string")Qn=hn(fn)[0];else if(Array.isArray(fn)){for(var ya,ac,bm=fn.concat(),Ld=[],hy=bm.length;hy--;)typeof(ya=bm.shift())=="string"?Ld.push(hn(ya)[0]):Array.isArray(ya)&&typeof ya[0]=="string"&&(ac=hn(ya[0],ya[1],ya[2]),Ld.push([ac[0],ac[1],ac[2]]));Qn=Ld}return Qn}var yl=!1,dm=!0;if(typeof j=="string")yl=!0;else if(Array.isArray(j)){var pm=j.concat();ft=[];for(var kd,Wa=pm.length;Wa--;)(typeof(kd=pm.shift())!="string"||Array.isArray(kd)&&typeof kd[0]!="string")&&(dm=!1);yl=dm}if(yl===!1)throw new Error('Type of text must be string or Array. "'+j+'" is not recognized.');typeof j=="string"&&(j=j.match(/[\r?\n]/)?j.split(/\r\n|\r|\n/g):[j]);var Cd=He/ht.internal.scaleFactor,Nd=Cd*(Wr-1);switch(ke.baseline){case"bottom":Ae-=Nd;break;case"top":Ae+=Cd-Nd;break;case"hanging":Ae+=Cd-2*Nd;break;case"middle":Ae+=Cd/2-Nd}if((X=ke.maxWidth||0)>0&&(typeof j=="string"?j=ht.splitTextToSize(j,X):Object.prototype.toString.call(j)==="[object Array]"&&(j=j.reduce(function(fn,hn){return fn.concat(ht.splitTextToSize(hn,X))},[]))),Qe={text:j,x:re,y:Ae,options:ke,mutex:{pdfEscape:Bn,activeFontKey:mt,fonts:Ne,activeFontSize:He}},wr.publish("preProcessText",Qe),j=Qe.text,kt=(ke=Qe.options).angle,!(qe instanceof Dt)&&kt&&typeof kt=="number"){kt*=Math.PI/180,ke.rotationDirection===0&&(kt=-kt),_===w.ADVANCED&&(kt=-kt);var Pd=Math.cos(kt),mm=Math.sin(kt);qe=new Dt(Pd,mm,-mm,Pd,0,0)}else kt&&kt instanceof Dt&&(qe=kt);_!==w.ADVANCED||qe||(qe=ia),(F=ke.charSpace||Jl)!==void 0&&(vr+=T(C(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Le=ke.horizontalScale)!==void 0&&(vr+=T(100*Le)+` Tz
`),ke.lang;var ts=-1,c_=ke.renderingMode!==void 0?ke.renderingMode:ke.stroke,gm=ht.internal.getCurrentPageInfo().pageContext;switch(c_){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var ly=gm.usedRenderingMode!==void 0?gm.usedRenderingMode:-1;ts!==-1?vr+=ts+` Tr
`:ly!==-1&&(vr+=`0 Tr
`),ts!==-1&&(gm.usedRenderingMode=ts),S=ke.align||"left";var Hs,Od=He*Wr,cy=ht.internal.pageSize.getWidth(),uy=Ne[mt];F=ke.charSpace||Jl,X=ke.maxWidth||0,he=Object.assign({autoencode:!0,noBOM:!0},ke.flags);var mu=[],Jf=function(fn){return ht.getStringUnitWidth(fn,{font:uy,charSpace:F,fontSize:He,doKerning:!1})*He/on};if(Object.prototype.toString.call(j)==="[object Array]"){var rs;ft=qa(j),S!=="left"&&(Hs=ft.map(Jf));var ji,gu=0;if(S==="right"){re-=Hs[0],j=[],Wa=ft.length;for(var tc=0;tc<Wa;tc++)tc===0?(ji=Ss(re),rs=va(Ae)):(ji=C(gu-Hs[tc]),rs=-Od),j.push([ft[tc],ji,rs]),gu=Hs[tc]}else if(S==="center"){re-=Hs[0]/2,j=[],Wa=ft.length;for(var rc=0;rc<Wa;rc++)rc===0?(ji=Ss(re),rs=va(Ae)):(ji=C((gu-Hs[rc])/2),rs=-Od),j.push([ft[rc],ji,rs]),gu=Hs[rc]}else if(S==="left"){j=[],Wa=ft.length;for(var Id=0;Id<Wa;Id++)j.push(ft[Id])}else if(S==="justify"&&uy.encoding==="Identity-H"){j=[],Wa=ft.length,X=X!==0?X:cy;for(var nc=0,Xn=0;Xn<Wa;Xn++)if(rs=Xn===0?va(Ae):-Od,ji=Xn===0?Ss(re):nc,Xn<Wa-1){var vm=C((X-Hs[Xn])/(ft[Xn].split(" ").length-1)),Li=ft[Xn].split(" ");j.push([Li[0]+" ",ji,rs]),nc=0;for(var Gs=1;Gs<Li.length;Gs++){var Dd=(Jf(Li[Gs-1]+" "+Li[Gs])-Jf(Li[Gs]))*on+vm;Gs==Li.length-1?j.push([Li[Gs],Dd,0]):j.push([Li[Gs]+" ",Dd,0]),nc-=Dd}}else j.push([ft[Xn],ji,rs]);j.push(["",nc,0])}else{if(S!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(j=[],Wa=ft.length,X=X!==0?X:cy,Xn=0;Xn<Wa;Xn++)rs=Xn===0?va(Ae):-Od,ji=Xn===0?Ss(re):0,Xn<Wa-1?mu.push(T(C((X-Hs[Xn])/(ft[Xn].split(" ").length-1)))):mu.push(0),j.push([ft[Xn],ji,rs])}}var fy=typeof ke.R2L=="boolean"?ke.R2L:Fe;fy===!0&&(j=vl(j,function(fn,hn,Qn){return[fn.split("").reverse().join(""),hn,Qn]})),Qe={text:j,x:re,y:Ae,options:ke,mutex:{pdfEscape:Bn,activeFontKey:mt,fonts:Ne,activeFontSize:He}},wr.publish("postProcessText",Qe),j=Qe.text,nr=Qe.mutex.isHex||!1;var ym=Ne[mt].encoding;ym!=="WinAnsiEncoding"&&ym!=="StandardEncoding"||(j=vl(j,function(fn,hn,Qn){return[Oo(fn),hn,Qn]})),ft=qa(j),j=[];for(var Zf,eh,vu,th=0,jd=1,rh=Array.isArray(ft[0])?jd:th,yu="",xm=function(fn,hn,Qn){var ya="";return Qn instanceof Dt?(Qn=typeof ke.angle=="number"?si(Qn,new Dt(1,0,0,1,fn,hn)):si(new Dt(1,0,0,1,fn,hn),Qn),_===w.ADVANCED&&(Qn=si(new Dt(1,0,0,-1,0,0),Qn)),ya=Qn.join(" ")+` Tm
`):ya=T(fn)+" "+T(hn)+` Td
`,ya},Ks=0;Ks<ft.length;Ks++){switch(yu="",rh){case jd:vu=(nr?"<":"(")+ft[Ks][0]+(nr?">":")"),Zf=parseFloat(ft[Ks][1]),eh=parseFloat(ft[Ks][2]);break;case th:vu=(nr?"<":"(")+ft[Ks]+(nr?">":")"),Zf=Ss(re),eh=va(Ae)}mu!==void 0&&mu[Ks]!==void 0&&(yu=mu[Ks]+` Tw
`),Ks===0?j.push(yu+xm(Zf,eh,qe)+vu):rh===th?j.push(yu+vu):rh===jd&&j.push(yu+xm(Zf,eh,qe)+vu)}j=rh===th?j.join(` Tj
T* `):j.join(` Tj
`),j+=` Tj
`;var Ys=`BT
/`;return Ys+=mt+" "+He+` Tf
`,Ys+=T(He*Wr)+` TL
`,Ys+=No+`
`,Ys+=vr,Ys+=j,te(Ys+="ET"),h[mt]=!0,ht};var hm=d.__private__.clip=d.clip=function(j){return te(j==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return hm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return te("n"),this};var Ws=d.__private__.isValidStyle=function(j){var re=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(j)!==-1&&(re=!0),re};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(j){return Ws(j)&&(c=j),this};var Sd=d.__private__.getStyle=d.getStyle=function(j){var re=c;switch(j){case"D":case"S":re="S";break;case"F":re="f";break;case"FD":case"DF":re="B";break;case"f":case"f*":case"B":case"B*":re=j}return re},ws=d.close=function(){return te("h"),this};d.stroke=function(){return te("S"),this},d.fill=function(j){return nu("f",j),this},d.fillEvenOdd=function(j){return nu("f*",j),this},d.fillStroke=function(j){return nu("B",j),this},d.fillStrokeEvenOdd=function(j){return nu("B*",j),this};var nu=function(j,re){Vr(re)==="object"?iu(re,j):te(j)},Wf=function(j){j===null||_===w.ADVANCED&&j===void 0||(j=Sd(j),te(j))};function au(j,re,Ae,ke,Me){var Qe=new x0(re||this.boundingBox,Ae||this.xStep,ke||this.yStep,this.gState,Me||this.matrix);Qe.stream=this.stream;var ft=j+"$$"+this.cloneIndex+++"$$";return $n(ft,Qe),Qe}var iu=function(j,re){var Ae=ur[j.key],ke=Ct[Ae];if(ke instanceof gh)te("q"),te(Ad(re)),ke.gState&&d.setGState(ke.gState),te(j.matrix.toString()+" cm"),te("/"+Ae+" sh"),te("Q");else if(ke instanceof x0){var Me=new Dt(1,0,0,-1,0,oi());j.matrix&&(Me=Me.multiply(j.matrix||ia),Ae=au.call(ke,j.key,j.boundingBox,j.xStep,j.yStep,Me).id),te("q"),te("/Pattern cs"),te("/"+Ae+" scn"),ke.gState&&d.setGState(ke.gState),te(re),te("Q")}},Ad=function(j){switch(j){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ko=d.moveTo=function(j,re){return te(T(C(j))+" "+T(H(re))+" m"),this},_s=d.lineTo=function(j,re){return te(T(C(j))+" "+T(H(re))+" l"),this},Co=d.curveTo=function(j,re,Ae,ke,Me,Qe){return te([T(C(j)),T(H(re)),T(C(Ae)),T(H(ke)),T(C(Me)),T(H(Qe)),"c"].join(" ")),this};d.__private__.line=d.line=function(j,re,Ae,ke,Me){if(isNaN(j)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Ws(Me))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[Ae-j,ke-re]],j,re,[1,1],Me||"S"):this.lines([[Ae-j,ke-re]],j,re,[1,1]).stroke()},d.__private__.lines=d.lines=function(j,re,Ae,ke,Me,Qe){var ft,kt,S,F,X,he,Le,qe,ht,rr,vr,nr;if(typeof j=="number"&&(nr=Ae,Ae=re,re=j,j=nr),ke=ke||[1,1],Qe=Qe||!1,isNaN(re)||isNaN(Ae)||!Array.isArray(j)||!Array.isArray(ke)||!Ws(Me)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ko(re,Ae),ft=ke[0],kt=ke[1],F=j.length,rr=re,vr=Ae,S=0;S<F;S++)(X=j[S]).length===2?(rr=X[0]*ft+rr,vr=X[1]*kt+vr,_s(rr,vr)):(he=X[0]*ft+rr,Le=X[1]*kt+vr,qe=X[2]*ft+rr,ht=X[3]*kt+vr,rr=X[4]*ft+rr,vr=X[5]*kt+vr,Co(he,Le,qe,ht,rr,vr));return Qe&&ws(),Wf(Me),this},d.path=function(j){for(var re=0;re<j.length;re++){var Ae=j[re],ke=Ae.c;switch(Ae.op){case"m":ko(ke[0],ke[1]);break;case"l":_s(ke[0],ke[1]);break;case"c":Co.apply(this,ke);break;case"h":ws()}}return this},d.__private__.rect=d.rect=function(j,re,Ae,ke,Me){if(isNaN(j)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Ws(Me))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(ke=-ke),te([T(C(j)),T(H(re)),T(C(Ae)),T(C(ke)),"re"].join(" ")),Wf(Me),this},d.__private__.triangle=d.triangle=function(j,re,Ae,ke,Me,Qe,ft){if(isNaN(j)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Me)||isNaN(Qe)||!Ws(ft))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-j,ke-re],[Me-Ae,Qe-ke],[j-Me,re-Qe]],j,re,[1,1],ft,!0),this},d.__private__.roundedRect=d.roundedRect=function(j,re,Ae,ke,Me,Qe,ft){if(isNaN(j)||isNaN(re)||isNaN(Ae)||isNaN(ke)||isNaN(Me)||isNaN(Qe)||!Ws(ft))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var kt=4/3*(Math.SQRT2-1);return Me=Math.min(Me,.5*Ae),Qe=Math.min(Qe,.5*ke),this.lines([[Ae-2*Me,0],[Me*kt,0,Me,Qe-Qe*kt,Me,Qe],[0,ke-2*Qe],[0,Qe*kt,-Me*kt,Qe,-Me,Qe],[2*Me-Ae,0],[-Me*kt,0,-Me,-Qe*kt,-Me,-Qe],[0,2*Qe-ke],[0,-Qe*kt,Me*kt,-Qe,Me,-Qe]],j+Me,re,[1,1],ft,!0),this},d.__private__.ellipse=d.ellipse=function(j,re,Ae,ke,Me){if(isNaN(j)||isNaN(re)||isNaN(Ae)||isNaN(ke)||!Ws(Me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*Ae,ft=4/3*(Math.SQRT2-1)*ke;return ko(j+Ae,re),Co(j+Ae,re-ft,j+Qe,re-ke,j,re-ke),Co(j-Qe,re-ke,j-Ae,re-ft,j-Ae,re),Co(j-Ae,re+ft,j-Qe,re+ke,j,re+ke),Co(j+Qe,re+ke,j+Ae,re+ft,j+Ae,re),Wf(Me),this},d.__private__.circle=d.circle=function(j,re,Ae,ke){if(isNaN(j)||isNaN(re)||isNaN(Ae)||!Ws(ke))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(j,re,Ae,Ae,ke)},d.setFont=function(j,re,Ae){return Ae&&(re=D(re,Ae)),mt=Yl(j,re,{disableWarning:!1}),this};var Hf=d.__private__.getFont=d.getFont=function(){return Ne[Yl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var j,re,Ae={};for(j in Je)if(Je.hasOwnProperty(j))for(re in Ae[j]=[],Je[j])Je[j].hasOwnProperty(re)&&Ae[j].push(re);return Ae},d.addFont=function(j,re,Ae,ke,Me){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Me=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(Ae=D(Ae,ke)),Me=Me||"Identity-H",Uf.call(this,j,re,Ae,Me)};var qr,Gf=e.lineWidth||.200025,su=d.__private__.getLineWidth=d.getLineWidth=function(){return Gf},Kf=d.__private__.setLineWidth=d.setLineWidth=function(j){return Gf=j,te(T(C(j))+" w"),this};d.__private__.setLineDash=Gt.API.setLineDash=Gt.API.setLineDashPattern=function(j,re){if(j=j||[],re=re||0,isNaN(re)||!Array.isArray(j))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return j=j.map(function(Ae){return T(C(Ae))}).join(" "),re=T(C(re)),te("["+j+"] "+re+" d"),this};var Yf=d.__private__.getLineHeight=d.getLineHeight=function(){return He*qr};d.__private__.getLineHeight=d.getLineHeight=function(){return He*qr};var Xf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(j){return typeof(j=j||1.15)=="number"&&(qr=j),this},Ql=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return qr};Xf(e.lineHeight);var Ss=d.__private__.getHorizontalCoordinate=function(j){return C(j)},va=d.__private__.getVerticalCoordinate=function(j){return _===w.ADVANCED?j:Vt[R].mediaBox.topRightY-Vt[R].mediaBox.bottomLeftY-C(j)},Td=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(j){return T(Ss(j))},pl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(j){return T(va(j))},za=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return be(za)},d.__private__.setStrokeColor=d.setDrawColor=function(j,re,Ae,ke){return za=_e({ch1:j,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"draw",precision:2}),te(za),this};var ou=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return be(ou)},d.__private__.setFillColor=d.setFillColor=function(j,re,Ae,ke){return ou=_e({ch1:j,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"fill",precision:2}),te(ou),this};var No=e.textColor||"0 g",lu=d.__private__.getTextColor=d.getTextColor=function(){return be(No)};d.__private__.setTextColor=d.setTextColor=function(j,re,Ae,ke){return No=_e({ch1:j,ch2:re,ch3:Ae,ch4:ke,pdfColorType:"text",precision:3}),this};var Jl=e.charSpace,cu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Jl||0)};d.__private__.setCharSpace=d.setCharSpace=function(j){if(isNaN(j))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jl=j,this};var Qf=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(j){var re=d.CapJoinStyles[j];if(re===void 0)throw new Error("Line cap style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qf=re,te(re+" J"),this};var uu=0;d.__private__.setLineJoin=d.setLineJoin=function(j){var re=d.CapJoinStyles[j];if(re===void 0)throw new Error("Line join style of '"+j+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=re,te(re+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(j){if(j=j||0,isNaN(j))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(T(C(j))+" M"),this},d.GState=Sb,d.setGState=function(j){(j=typeof j=="string"?hr[Ir[j]]:ml(null,j)).equals(gn)||(te("/"+j.id+" gs"),gn=j)};var ml=function(j,re){if(!j||!Ir[j]){var Ae=!1;for(var ke in hr)if(hr.hasOwnProperty(ke)&&hr[ke].equals(re)){Ae=!0;break}if(Ae)re=hr[ke];else{var Me="GS"+(Object.keys(hr).length+1).toString(10);hr[Me]=re,re.id=Me}return j&&(Ir[j]=re.id),wr.publish("addGState",re),re}};d.addGState=function(j,re){return ml(j,re),this},d.saveGraphicsState=function(){return te("q"),St.push({key:mt,size:He,color:No}),this},d.restoreGraphicsState=function(){te("Q");var j=St.pop();return mt=j.key,He=j.size,No=j.color,gn=null,this},d.setCurrentTransformationMatrix=function(j){return te(j.toString()+" cm"),this},d.comment=function(j){return te("#"+j),this};var Zl=function(j,re){var Ae=j||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(Qe){isNaN(Qe)||(Ae=parseFloat(Qe))}});var ke=re||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ke},set:function(Qe){isNaN(Qe)||(ke=parseFloat(Qe))}});var Me="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Me},set:function(Qe){Me=Qe.toString()}}),this},fu=function(j,re,Ae,ke){Zl.call(this,j,re),this.type="rect";var Me=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Me},set:function(ft){isNaN(ft)||(Me=parseFloat(ft))}});var Qe=ke||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(ft){isNaN(ft)||(Qe=parseFloat(ft))}}),this},ec=function(){this.page=Dr,this.currentPage=R,this.pages=pe.slice(0),this.pagesContext=Vt.slice(0),this.x=Bt,this.y=Lt,this.matrix=Gr,this.width=gl(R),this.height=oi(R),this.outputDestination=fe,this.id="",this.objectNumber=-1};ec.prototype.restore=function(){Dr=this.page,R=this.currentPage,Vt=this.pagesContext,pe=this.pages,Bt=this.x,Lt=this.y,Gr=this.matrix,du(R,this.width),pu(R,this.height),fe=this.outputDestination};var hu=function(j,re,Ae,ke,Me){Oi.push(new ec),Dr=R=0,pe=[],Bt=j,Lt=re,Gr=Me,Di([Ae,ke])},Ed=function(j){if(Na[j])Oi.pop().restore();else{var re=new ec,Ae="Xo"+(Object.keys(Fn).length+1).toString(10);re.id=Ae,Na[j]=Ae,Fn[Ae]=re,wr.publish("addFormObject",re),Oi.pop().restore()}};for(var Po in d.beginFormObject=function(j,re,Ae,ke,Me){return hu(j,re,Ae,ke,Me),this},d.endFormObject=function(j){return Ed(j),this},d.doFormObject=function(j,re){var Ae=Fn[Na[j]];return te("q"),te(re.toString()+" cm"),te("/"+Ae.id+" Do"),te("Q"),this},d.getFormObject=function(j){var re=Fn[Na[j]];return{x:re.x,y:re.y,width:re.width,height:re.height,matrix:re.matrix}},d.save=function(j,re){return j=j||"generated.pdf",(re=re||{}).returnPromise=re.returnPromise||!1,re.returnPromise===!1?(fh(tu(Eo()),j),typeof fh.unload=="function"&&Kt.setTimeout&&setTimeout(fh.unload,911),this):new Promise(function(Ae,ke){try{var Me=fh(tu(Eo()),j);typeof fh.unload=="function"&&Kt.setTimeout&&setTimeout(fh.unload,911),Ae(Me)}catch(Qe){ke(Qe.message)}})},Gt.API)Gt.API.hasOwnProperty(Po)&&(Po==="events"&&Gt.API.events.length?function(j,re){var Ae,ke,Me;for(Me=re.length-1;Me!==-1;Me--)Ae=re[Me][0],ke=re[Me][1],j.subscribe.apply(j,[Ae].concat(typeof ke=="function"?[ke]:ke))}(wr,Gt.API.events):d[Po]=Gt.API[Po]);var gl=d.getPageWidth=function(j){return(Vt[j=j||R].mediaBox.topRightX-Vt[j].mediaBox.bottomLeftX)/et},du=d.setPageWidth=function(j,re){Vt[j].mediaBox.topRightX=re*et+Vt[j].mediaBox.bottomLeftX},oi=d.getPageHeight=function(j){return(Vt[j=j||R].mediaBox.topRightY-Vt[j].mediaBox.bottomLeftY)/et},pu=d.setPageHeight=function(j,re){Vt[j].mediaBox.topRightY=re*et+Vt[j].mediaBox.bottomLeftY};return d.internal={pdfEscape:Bn,getStyle:Sd,getFont:Hf,getFontSize:Ge,getCharSpace:cu,getTextColor:lu,getLineHeight:Yf,getLineHeightFactor:Ql,getLineWidth:su,write:Te,getHorizontalCoordinate:Ss,getVerticalCoordinate:va,getCoordinateString:Td,getVerticalCoordinateString:pl,collections:{},newObject:In,newAdditionalObject:we,newObjectDeferred:Tn,newObjectDeferredBegin:se,getFilters:$e,putStream:Ke,events:wr,scaleFactor:et,pageSize:{getWidth:function(){return gl(R)},setWidth:function(j){du(R,j)},getHeight:function(){return oi(R)},setHeight:function(j){pu(R,j)}},encryptionOptions:u,encryption:yn,getEncryptor:_d,output:ru,getNumberOfPages:Kr,pages:pe,out:te,f2:I,f3:E,getPageInfo:qf,getPageInfoByObjId:Xt,getCurrentPageInfo:dl,getPDFVersion:m,Point:Zl,Rectangle:fu,Matrix:Dt,hasHotfix:hl},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return gl(R)},set:function(j){du(R,j)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return oi(R)},set:function(j){pu(R,j)},enumerable:!0,configurable:!0}),bd.call(d,Ce),mt="F1",Kl(a,r),wr.publish("initialized"),d}Zd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Zd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Zd.prototype.processOwnerPassword=function(e,t){return RT(MT(t).substr(0,5),e)},Zd.prototype.encryptor=function(e,t){var r=MT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return RT(r,n)}},Sb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Vr(e)!==Vr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Gt.API={events:[]},Gt.version="3.0.1";var qn=Gt.API,hN=1,pd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},zd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ar=function(e){return e.toFixed(2)},Pu=function(e){return e.toFixed(5)};qn.__acroform__={};var vs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},hj=function(e){return e*hN},Sl=function(e){var t=new $q,r=Ft.internal.getHeight(e)||0,n=Ft.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ar(n)),Number(ar(r))],t},cxe=qn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},uxe=qn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},fxe=qn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ta=qn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return fxe(e,t-1)},ra=qn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return cxe(e,t-1)},na=qn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return uxe(e,t-1)},hxe=qn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(ar(l.lowerLeft_X)),Number(ar(l.lowerLeft_Y)),Number(ar(l.upperRight_X)),Number(ar(l.upperRight_Y))]},dxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=FT(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+ar(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Sl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},FT=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=Ft.internal.getHeight(e)||0;s=s<0?-s:s;var o=Ft.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,C,L){if(E+1<a.length){var H=C+" "+a[E+1][0];return yx(H,e,L).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=yx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+yx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var O=!1;if(a[_].length!==1&&v!==a[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=a[_][v],O=!0,m=_,_--}else{y=(y+=a[_][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(_),D=l(P,y,i),T=_>=a.length-1;if(D&&!T){y+=" ",v=0;continue}if(D||T){if(T)m=P;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;m=P}}for(var A="",b=g;b<=m;b++){var I=a[b];if(e.multiline){if(b===m){A+=I[v]+" ",v=(v+1)%I.length;continue}if(b===g){A+=I[I.length-1]+" ";continue}}A+=I[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=yx(A,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=ar(c)+" "+ar(d)+` Td
`,t+="("+pd(A)+`) Tj
`,t+=-ar(c)+` 0 Td
`,d=-(i+2),u=0,g=O?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},yx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},pxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mxe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},gxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Vr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},vxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(pxe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");hN=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Bq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&mxe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=hxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ft.createDefaultAppearanceStream(o),Vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=dxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&gxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Fq=qn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Vr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+pd(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},WS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+pd(n(e))+")"},Cl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Cl.prototype.toString=function(){return this.objId+" 0 R"},Cl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Cl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Fq(a,this.objId,this.scope)}):a instanceof Cl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var $q=function(){Cl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};vs($q,Cl);var Bq=function(){Cl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+pd(r(e))+")"}},set:function(r){e=r}})};vs(Bq,Cl);var cl=function e(){Cl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ta(t,3)},set:function(y){y?this.F=ra(t,3):this.F=na(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Ab)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+pd(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/hN:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Ab||this instanceof Lh))return WS(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ma?h:WS(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ma?y:y.substr(0,1)==="("?zd(y.substr(1,y.length-2)):zd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ma?zd(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ma?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ma?d:WS(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof Ma?y:y.substr(0,1)==="("?zd(y.substr(1,y.length-2)):zd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ma?zd(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Ma?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,1)},set:function(y){y?this.Ff=ra(this.Ff,1):this.Ff=na(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,2)},set:function(y){y?this.Ff=ra(this.Ff,2):this.Ff=na(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,3)},set:function(y){y?this.Ff=ra(this.Ff,3):this.Ff=na(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};vs(cl,Cl);var j0=function(){cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Fq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,18)},set:function(r){r?this.Ff=ra(this.Ff,18):this.Ff=na(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ra(this.Ff,19):this.Ff=na(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,20)},set:function(r){r?(this.Ff=ra(this.Ff,20),t.sort()):this.Ff=na(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,22)},set:function(r){r?this.Ff=ra(this.Ff,22):this.Ff=na(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(r){r?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,27)},set:function(r){r?this.Ff=ra(this.Ff,27):this.Ff=na(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(j0,cl);var L0=function(){j0.call(this),this.fontName="helvetica",this.combo=!1};vs(L0,j0);var M0=function(){L0.call(this),this.combo=!0};vs(M0,L0);var s2=function(){M0.call(this),this.edit=!0};vs(s2,M0);var Ma=function(){cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,15)},set:function(r){r?this.Ff=ra(this.Ff,15):this.Ff=na(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,16)},set:function(r){r?this.Ff=ra(this.Ff,16):this.Ff=na(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,17)},set:function(r){r?this.Ff=ra(this.Ff,17):this.Ff=na(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(r){r?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+pd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Vr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};vs(Ma,cl);var o2=function(){Ma.call(this),this.pushButton=!0};vs(o2,Ma);var R0=function(){Ma.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};vs(R0,Ma);var Ab=function(){var e,t;cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+pd(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Vr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ft.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(Ab,cl),R0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},R0.prototype.createOption=function(e){var t=new Ab;return t.Parent=this,t.optionName=e,this.Kids.push(t),yxe.call(this.scope,t),t};var l2=function(){Ma.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ft.CheckBox.createAppearanceStream()};vs(l2,Ma);var Lh=function(){cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,13)},set:function(t){t?this.Ff=ra(this.Ff,13):this.Ff=na(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,21)},set:function(t){t?this.Ff=ra(this.Ff,21):this.Ff=na(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,23)},set:function(t){t?this.Ff=ra(this.Ff,23):this.Ff=na(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,24)},set:function(t){t?this.Ff=ra(this.Ff,24):this.Ff=na(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,25)},set:function(t){t?this.Ff=ra(this.Ff,25):this.Ff=na(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,26)},set:function(t){t?this.Ff=ra(this.Ff,26):this.Ff=na(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(Lh,cl);var c2=function(){Lh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ta(this.Ff,14)},set:function(e){e?this.Ff=ra(this.Ff,14):this.Ff=na(this.Ff,14)}}),this.password=!0};vs(c2,Lh);var Ft={CheckBox:{createAppearanceStream:function(){return{N:{On:Ft.CheckBox.YesNormal},D:{On:Ft.CheckBox.YesPushDown,Off:Ft.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=FT(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ar(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ft.internal.getHeight(e),s=Ft.internal.getWidth(e),o=FT(e,e.caption);return a.push("1 g"),a.push("0 0 "+ar(s)+" "+ar(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+ar(s-1)+" "+ar(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+ar(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Circle.YesNormal,t.D[e]=Ft.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ft.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pu(Ft.internal.getWidth(e)/2)+" "+Pu(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5)),s=Number((n*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pu(Ft.internal.getWidth(e)/2)+" "+Pu(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pu(Ft.internal.getWidth(e)/2)+" "+Pu(Ft.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Ft.internal.getWidth(e)<=Ft.internal.getHeight(e)?Ft.internal.getWidth(e)/4:Ft.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ft.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pu(Ft.internal.getWidth(e)/2)+" "+Pu(Ft.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ft.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ft.RadioButton.Cross.YesNormal,t.D[e]=Ft.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Ft.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+ar(Ft.internal.getWidth(e)-2)+" "+ar(Ft.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ar(n.x1.x)+" "+ar(n.x1.y)+" m"),r.push(ar(n.x2.x)+" "+ar(n.x2.y)+" l"),r.push(ar(n.x4.x)+" "+ar(n.x4.y)+" m"),r.push(ar(n.x3.x)+" "+ar(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=Ft.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ar(Ft.internal.getWidth(e)-2)+" "+ar(Ft.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ar(r.x1.x)+" "+ar(r.x1.y)+" m"),n.push(ar(r.x2.x)+" "+ar(r.x2.y)+" l"),n.push(ar(r.x4.x)+" "+ar(r.x4.y)+" m"),n.push(ar(r.x3.x)+" "+ar(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ar(Ft.internal.getWidth(e))+" "+ar(Ft.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ft.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ft.internal.getWidth(e),r=Ft.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ft.internal.getWidth=function(e){var t=0;return Vr(e)==="object"&&(t=hj(e.Rect[2])),t},Ft.internal.getHeight=function(e){var t=0;return Vr(e)==="object"&&(t=hj(e.Rect[3])),t};var yxe=qn.addField=function(e){if(vxe(this,e),!(e instanceof cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};qn.AcroFormChoiceField=j0,qn.AcroFormListBox=L0,qn.AcroFormComboBox=M0,qn.AcroFormEditBox=s2,qn.AcroFormButton=Ma,qn.AcroFormPushButton=o2,qn.AcroFormRadioButton=R0,qn.AcroFormCheckBox=l2,qn.AcroFormTextField=Lh,qn.AcroFormPasswordField=c2,qn.AcroFormAppearance=Ft,qn.AcroForm={ChoiceField:j0,ListBox:L0,ComboBox:M0,EditBox:s2,Button:Ma,PushButton:o2,RadioButton:R0,CheckBox:l2,TextField:Lh,PasswordField:c2,Appearance:Ft},Gt.AcroForm={ChoiceField:j0,ListBox:L0,ComboBox:M0,EditBox:s2,Button:Ma,PushButton:o2,RadioButton:R0,CheckBox:l2,TextField:Lh,PasswordField:c2,Appearance:Ft};function Vq(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,C){var L,H,V,Z,ee,W=t;if((C=C||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(D(E))for(ee in r)for(V=r[ee],L=0;L<V.length;L+=1){for(Z=!0,H=0;H<V[L].length;H+=1)if(V[L][H]!==void 0&&V[L][H]!==E[H]){Z=!1;break}if(Z===!0){W=ee;break}}else for(ee in r)for(V=r[ee],L=0;L<V.length;L+=1){for(Z=!0,H=0;H<V[L].length;H+=1)if(V[L][H]!==void 0&&V[L][H]!==E.charCodeAt(H)){Z=!1;break}if(Z===!0){W=ee;break}}return W===t&&C!==t&&(W=C),W},a=function E(C){for(var L=this.internal.write,H=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:C.width}),Z.push({key:"Height",value:C.height}),C.colorSpace===v.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===v.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ee="",W=0,B=C.transparency.length;W<B;W++)ee+=C.transparency[W]+" "+C.transparency[W]+" ";Z.push({key:"Mask",value:"["+ee+"]"})}C.sMask!==void 0&&Z.push({key:"SMask",value:C.objectId+1+" 0 R"});var ae=C.filter!==void 0?["/"+C.filter]:void 0;if(H({data:C.data,additionalKeyValues:Z,alreadyAppliedFilters:ae,objectId:C.objectId}),L("endobj"),"sMask"in C&&C.sMask!==void 0){var q="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,N={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:q,data:C.sMask};"filter"in C&&(N.filter=C.filter),E.call(this,N)}if(C.colorSpace===v.INDEXED){var R=this.internal.newObject();H({data:A(new Uint8Array(C.palette)),objectId:R}),L("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var C in E)a.call(this,E[C])},s=function(){var E,C=this.internal.collections.addImage_images,L=this.internal.write;for(var H in C)L("/I"+(E=C[H]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return Vr(E)==="object"&&E.nodeType===1},h=function(E,C){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var L=""+E.getAttribute("src");if(L.indexOf("data:image/")===0)return Vg(unescape(L).split("base64,").pop());var H=e.loadFile(L,!0);if(H!==void 0)return H}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var V;switch(C){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return Vg(E.toDataURL(V,1).split("base64,").pop())}},d=function(E){var C=this.internal.collections.addImage_images;if(C){for(var L in C)if(E===C[L].alias)return C[L]}},g=function(E,C,L){return E||C||(E=-96,C=-96),E<0&&(E=-1*L.width*72/E/this.internal.scaleFactor),C<0&&(C=-1*L.height*72/C/this.internal.scaleFactor),E===0&&(E=C*L.width/L.height),C===0&&(C=E*L.height/L.width),[E,C]},m=function(E,C,L,H,V,Z){var ee=g.call(this,L,H,V),W=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,ae=l.call(this);if(L=ee[0],H=ee[1],ae[V.index]=V,Z){Z*=Math.PI/180;var q=Math.cos(Z),N=Math.sin(Z),R=function(K){return K.toFixed(4)},U=[R(q),R(N),R(-1*N),R(q),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,W(E),B(C+H),"cm"].join(" ")),this.internal.write(U.join(" ")),this.internal.write([W(L),"0","0",W(H),"0","0","cm"].join(" "))):this.internal.write([W(L),"0","0",W(H),W(E),B(C+H),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(E){var C,L,H=0;if(typeof E=="string")for(L=E.length,C=0;C<L;C++)H=(H<<5)-H+E.charCodeAt(C),H|=0;else if(D(E))for(L=E.byteLength/2,C=0;C<L;C++)H=(H<<5)-H+E[C],H|=0;return H},_=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var C=!0;return E.length===0&&(C=!1),E.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(C=!1),C},O=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var C=E.indexOf(",");return C<0?null:E.substring(0,C).trim().endsWith("base64")?E.substring(C+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return P()&&E instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(E){return P()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var C=E.length,L=new Uint8Array(C),H=0;H<C;H++)L[H]=E.charCodeAt(H);return L},A=e.__addimage__.arrayBufferToBinaryString=function(E){for(var C="",L=D(E)?E:new Uint8Array(E),H=0;H<L.length;H+=8192)C+=String.fromCharCode.apply(null,L.subarray(H,H+8192));return C};e.addImage=function(){var E,C,L,H,V,Z,ee,W,B;if(typeof arguments[1]=="number"?(C=t,L=arguments[1],H=arguments[2],V=arguments[3],Z=arguments[4],ee=arguments[5],W=arguments[6],B=arguments[7]):(C=arguments[1],L=arguments[2],H=arguments[3],V=arguments[4],Z=arguments[5],ee=arguments[6],W=arguments[7],B=arguments[8]),Vr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ae=E;E=ae.imageData,C=ae.format||C||t,L=ae.x||L||0,H=ae.y||H||0,V=ae.w||ae.width||V,Z=ae.h||ae.height||Z,ee=ae.alias||ee,W=ae.compression||W,B=ae.rotation||ae.angle||B}var q=this.internal.getFilters();if(W===void 0&&q.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(L)||isNaN(H))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var N=b.call(this,E,C,ee,W);return m.call(this,L,H,V,Z,N,B),this};var b=function(E,C,L,H){var V,Z,ee;if(typeof E=="string"&&n(E)===t){E=unescape(E);var W=I(E,!1);(W!==""||(W=e.loadFile(E,!0))!==void 0)&&(E=W)}if(f(E)&&(E=h(E,C)),C=n(E,C),!u(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ee=L)==null||ee.length===0)&&(L=function(B){return typeof B=="string"||D(B)?w(B):D(B.data)?w(B.data):null}(E)),(V=d.call(this,L))||(P()&&(E instanceof Uint8Array||C==="RGBA"||(Z=E,E=T(E))),V=this["process"+C.toUpperCase()](E,c.call(this),L,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:y.NONE}(H),Z)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},I=e.__addimage__.convertBase64ToBinaryString=function(E,C){C=typeof C!="boolean"||C;var L,H="";if(typeof E=="string"){var V;L=(V=O(E))!==null&&V!==void 0?V:E;try{H=Vg(L)}catch(Z){if(C)throw _(L)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return H};e.getImageProperties=function(E){var C,L,H="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((H=I(E,!1))===""&&(H=e.loadFile(E)||""),E=H),L=n(E),!u(L))throw new Error("addImage does not support files of type '"+L+"', please ensure that a plugin for '"+L+"' support is added.");if(!P()||E instanceof Uint8Array||(E=T(E)),!(C=this["process"+L.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=L,C}})(Gt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Gt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(y(w))+") >>",m.content=i;var _=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Gt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",_=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(_++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),v===m.length-1&&(y=r,w+=m.charAt(v-(_-1)),v-=_-1,_=0)):(y=r,w+=m.charAt(v-_),v-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},d=function(m){var v=0,y=0,w=0,_="",O="",P="",D=(m=m||"").split("\\s+"),T=[];for(v=0;v<D.length;v+=1){for(T.push(""),y=0;y<D[v].length;y+=1)_=D[v][y],O=D[v][y-1],P=D[v][y+1],s(_)?(w=h(_,O,P),T[v]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):T[v]+=_;T[v]=f(T[v])}return T.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([d(v[w][0]),v[w][1],v[w][2]]):y.push([d(v[w])]);m=y}else m=d(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Gt.API),Gt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Gt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,O){return _.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)d<(m=this.getStringUnitWidth(l[w],{font:f})*u)&&(d=m);return d!==0&&(g=l.length),{w:d/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,g,m,v,y=[],w=[],_=[],O={},P={},D=[],T=[],A=(h=h||{}).autoSize||!1,b=h.printHeaders!==!1,I=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),C=typeof h.padding=="number"?h.padding:3,L=h.headerBackgroundColor||"#c8c8c8",H=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=I,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=L,this.internal.__cell__.headerTextColor=H,this.setFontSize(I),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Vr(f[0])==="object")for(y=f.map(function(ae){return ae.name}),w=f.map(function(ae){return ae.prompt||ae.name||""}),_=f.map(function(ae){return ae.align||"left"}),d=0;d<f.length;d+=1)P[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(O[v=y[d]]=u.map(function(ae){return ae[v]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=O[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)D.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,D)+C+C,D=[]}if(b){var V={};for(d=0;d<y.length;d+=1)V[y[d]]={},V[y[d]].text=w[d],V[y[d]].align=_[d];var Z=o.call(this,V,P);T=y.map(function(ae){return new i(l,c,P[ae],Z,V[ae].text,void 0,V[ae].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var ee=f.reduce(function(ae,q){return ae[q.name]=q.align,ae},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var W=o.call(this,u[d],P);for(m=0;m<y.length;m+=1){var B=u[d][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:m,data:B},this),s.call(this,new i(l,c,P[y[m]],W,B,d+2,ee[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,g){return Math.max(d,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Gt.API);var Uq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},zq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],$T=Vq(zq),qq=[100,200,300,400,500,600,700,800,900],xxe=Vq(qq);function BT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Uq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof $T[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function dj(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var bxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},pj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function mj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function wxe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},bxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=BT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+mj(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=$T[l],f=u<=$T.normal?-1:1,h=dj(c,zq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=Uq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=xxe[l],f=dj(c,qq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+mj(i)+"'.");return s}function gj(e){return e.trimLeft()}function _xe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Sxe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var xx,vj,yj,HS=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=N;Object.defineProperty(this,"pdf",{get:function(){return R}});var U=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return U},set:function(ye){U=!!ye}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ye){K=!!ye}});var G=0;Object.defineProperty(this,"posX",{get:function(){return G},set:function(ye){isNaN(ye)||(G=ye)}});var ie=0;Object.defineProperty(this,"posY",{get:function(){return ie},set:function(ye){isNaN(ye)||(ie=ye)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ye){var te;typeof ye=="number"?te=[ye,ye,ye,ye]:((te=new Array(4))[0]=ye[0],te[1]=ye.length>=2?ye[1]:te[0],te[2]=ye.length>=3?ye[2]:te[0],te[3]=ye.length>=4?ye[3]:te[1]),c.margin=te}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(ye){ue=ye}});var J=0;Object.defineProperty(this,"lastBreak",{get:function(){return J},set:function(ye){J=ye}});var ce=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ce},set:function(ye){ce=ye}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ye){ye instanceof u&&(c=ye)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ye){c.path=ye}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(ye){pe=ye}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ye){var te;te=h(ye),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ye){var te=h(ye);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ye){["butt","round","square"].indexOf(ye)!==-1&&(this.ctx.lineCap=ye,this.pdf.setLineCap(ye))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ye){isNaN(ye)||(this.ctx.lineWidth=ye,this.pdf.setLineWidth(ye))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ye){["bevel","round","miter"].indexOf(ye)!==-1&&(this.ctx.lineJoin=ye,this.pdf.setLineJoin(ye))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ye){isNaN(ye)||(this.ctx.miterLimit=ye,this.pdf.setMiterLimit(ye))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ye){this.ctx.textBaseline=ye}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ye){["right","end","center","left","start"].indexOf(ye)!==-1&&(this.ctx.textAlign=ye)}});var Y=null;function fe(ye,te){if(Y===null){var Te=function(Ee){var Ce=[];return Object.keys(Ee).forEach(function(He){Ee[He].forEach(function(je){var Ge=null;switch(je){case"bold":Ge={family:He,weight:"bold"};break;case"italic":Ge={family:He,style:"italic"};break;case"bolditalic":Ge={family:He,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:He}}Ge!==null&&(Ge.ref={name:He,style:je},Ce.push(Ge))})}),Ce}(ye.getFontList());Y=function(Ee){for(var Ce={},He=0;He<Ee.length;++He){var je=BT(Ee[He]),Ge=je.family,Fe=je.stretch,Ye=je.style,lt=je.weight;Ce[Ge]=Ce[Ge]||{},Ce[Ge][Fe]=Ce[Ge][Fe]||{},Ce[Ge][Fe][Ye]=Ce[Ge][Fe][Ye]||{},Ce[Ge][Fe][Ye][lt]=je}return Ce}(Te.concat(te))}return Y}var Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(ye){Y=null,Se=ye}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ye){var te;if(this.ctx.font=ye,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ye))!==null){var Te=te[1];te[2];var Ee=te[3],Ce=te[4];te[5];var He=te[6],je=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ce)[2];Ce=Math.floor(je==="px"?parseFloat(Ce)*this.pdf.internal.scaleFactor:je==="em"?parseFloat(Ce)*this.pdf.getFontSize():parseFloat(Ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ce);var Ge=function(wt){var mt,et,Bt=[],Lt=wt.trim();if(Lt==="")return HS;if(Lt in pj)return[pj[Lt]];for(;Lt!=="";){switch(et=null,mt=(Lt=gj(Lt)).charAt(0)){case'"':case"'":et=_xe(Lt.substring(1),mt);break;default:et=Sxe(Lt)}if(et===null||(Bt.push(et[0]),(Lt=gj(et[1]))!==""&&Lt.charAt(0)!==","))return HS;Lt=Lt.replace(/^,/,"")}return Bt}(He);if(this.fontFaces){var Fe=wxe(fe(this.pdf,this.fontFaces),Ge.map(function(wt){return{family:wt,stretch:"normal",weight:Ee,style:Te}}));this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var Ye="";(Ee==="bold"||parseInt(Ee,10)>=700||Te==="bold")&&(Ye="bold"),Te==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var lt="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Ge.length;dt++){if(this.pdf.internal.getFont(Ge[dt],Ye,{noFallback:!0,disableWarning:!0})!==void 0){lt=Ge[dt];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Ge[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)lt=Ge[dt],Ye="bold";else if(this.pdf.internal.getFont(Ge[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){lt=Ge[dt],Ye="normal";break}}if(lt===""){for(var xt=0;xt<Ge.length;xt++)if(nt[Ge[xt]]){lt=nt[Ge[xt]];break}}lt=lt===""?"Times":lt,this.pdf.setFont(lt,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ye){this.ctx.globalCompositeOperation=ye}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ye){this.ctx.globalAlpha=ye}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ye){this.ctx.lineDashOffset=ye,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ye){this.ctx.lineDash=ye,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ye){this.ctx.ignoreClearRect=!!ye}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var U=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"mt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(N,R)},f.prototype.closePath=function(){var N=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Vr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){N=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},f.prototype.lineTo=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var U=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"lt",x:U.x,y:U.y}),this.ctx.lastPoint=new s(U.x,U.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,R,U,K){if(isNaN(U)||isNaN(K)||isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var G=this.ctx.transform.applyToPoint(new s(U,K)),ie=this.ctx.transform.applyToPoint(new s(N,R));this.path.push({type:"qct",x1:ie.x,y1:ie.y,x:G.x,y:G.y}),this.ctx.lastPoint=new s(G.x,G.y)},f.prototype.bezierCurveTo=function(N,R,U,K,G,ie){if(isNaN(G)||isNaN(ie)||isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K))throw cn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new s(G,ie)),J=this.ctx.transform.applyToPoint(new s(N,R)),ce=this.ctx.transform.applyToPoint(new s(U,K));this.path.push({type:"bct",x1:J.x,y1:J.y,x2:ce.x,y2:ce.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new s(ue.x,ue.y)},f.prototype.arc=function(N,R,U,K,G,ie){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K)||isNaN(G))throw cn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ie=!!ie,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new s(N,R));N=ue.x,R=ue.y;var J=this.ctx.transform.applyToPoint(new s(0,U)),ce=this.ctx.transform.applyToPoint(new s(0,0));U=Math.sqrt(Math.pow(J.x-ce.x,2)+Math.pow(J.y-ce.y,2))}Math.abs(G-K)>=2*Math.PI&&(K=0,G=2*Math.PI),this.path.push({type:"arc",x:N,y:R,radius:U,startAngle:K,endAngle:G,counterclockwise:ie})},f.prototype.arcTo=function(N,R,U,K,G){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,R,U,K){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K))throw cn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,R),this.lineTo(N+U,R),this.lineTo(N+U,R+K),this.lineTo(N,R+K),this.lineTo(N,R),this.lineTo(N+U,R),this.lineTo(N,R)},f.prototype.fillRect=function(N,R,U,K){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K))throw cn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var G={};this.lineCap!=="butt"&&(G.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(G.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,R,U,K),this.fill(),G.hasOwnProperty("lineCap")&&(this.lineCap=G.lineCap),G.hasOwnProperty("lineJoin")&&(this.lineJoin=G.lineJoin)}},f.prototype.strokeRect=function(N,R,U,K){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K))throw cn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(N,R,U,K),this.stroke())},f.prototype.clearRect=function(N,R,U,K){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K))throw cn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,R,U,K))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,U=0;U<this.pdf.internal.getNumberOfPages();U++)this.pdf.setPage(U+1),this.pdf.internal.out("Q");this.pdf.setPage(R),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(N){var R,U,K,G;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))R=0,U=0,K=0,G=0;else{var ie=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ie!==null)R=parseInt(ie[1]),U=parseInt(ie[2]),K=parseInt(ie[3]),G=1;else if((ie=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)R=parseInt(ie[1]),U=parseInt(ie[2]),K=parseInt(ie[3]),G=parseFloat(ie[4]);else{if(G=1,typeof N=="string"&&N.charAt(0)!=="#"){var ue=new Lq(N);N=ue.ok?ue.toHex():"#000000"}N.length===4?(R=N.substring(1,2),R+=R,U=N.substring(2,3),U+=U,K=N.substring(3,4),K+=K):(R=N.substring(1,3),U=N.substring(3,5),K=N.substring(5,7)),R=parseInt(R,16),U=parseInt(U,16),K=parseInt(K,16)}}return{r:R,g:U,b:K,a:G,style:N}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,R,U,K){if(isNaN(R)||isNaN(U)||typeof N!="string")throw cn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!d.call(this)){var G=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:N,x:R,y:U,scale:ie,angle:G,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(N,R,U,K){if(isNaN(R)||isNaN(U)||typeof N!="string")throw cn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var G=W(this.ctx.transform.rotation),ie=this.ctx.transform.scaleX;C.call(this,{text:N,x:R,y:U,scale:ie,renderingMode:"stroke",angle:G,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(N){if(typeof N!="string")throw cn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,U=this.pdf.internal.scaleFactor,K=R.internal.getFontSize(),G=R.getStringUnitWidth(N)*K/R.internal.scaleFactor,ie=function(ue){var J=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return J}}),this};return new ie({width:G*=Math.round(96*U/72*1e4)/1e4})},f.prototype.scale=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var U=new l(N,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.rotate=function(N){if(isNaN(N))throw cn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(N,R){if(isNaN(N)||isNaN(R))throw cn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var U=new l(1,0,0,1,N,R);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.transform=function(N,R,U,K,G,ie){if(isNaN(N)||isNaN(R)||isNaN(U)||isNaN(K)||isNaN(G)||isNaN(ie))throw cn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new l(N,R,U,K,G,ie);this.ctx.transform=this.ctx.transform.multiply(ue)},f.prototype.setTransform=function(N,R,U,K,G,ie){N=isNaN(N)?1:N,R=isNaN(R)?0:R,U=isNaN(U)?0:U,K=isNaN(K)?1:K,G=isNaN(G)?0:G,ie=isNaN(ie)?0:ie,this.ctx.transform=new l(N,R,U,K,G,ie)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,R,U,K,G,ie,ue,J,ce){var pe=this.pdf.getImageProperties(N),Y=1,fe=1,Se=1,ye=1;K!==void 0&&J!==void 0&&(Se=J/K,ye=ce/G,Y=pe.width/K*J/K,fe=pe.height/G*ce/G),ie===void 0&&(ie=R,ue=U,R=0,U=0),K!==void 0&&J===void 0&&(J=K,ce=G),K===void 0&&J===void 0&&(J=pe.width,ce=pe.height);for(var te,Te=this.ctx.transform.decompose(),Ee=W(Te.rotate.shx),Ce=new l,He=(Ce=(Ce=(Ce=Ce.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new o(ie-R*Se,ue-U*ye,K*Y,G*fe)),je=v.call(this,He),Ge=[],Fe=0;Fe<je.length;Fe+=1)Ge.indexOf(je[Fe])===-1&&Ge.push(je[Fe]);if(_(Ge),this.autoPaging)for(var Ye=Ge[0],lt=Ge[Ge.length-1],nt=Ye;nt<lt+1;nt++){this.pdf.setPage(nt);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=nt===1?this.posY+this.margin[0]:this.margin[0],wt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],et=nt===1?0:wt+(nt-2)*mt;if(this.ctx.clip_path.length!==0){var Bt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(te,this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Bt}var Lt=JSON.parse(JSON.stringify(He));Lt=w([Lt],this.posX+this.margin[3],-et+xt+this.ctx.prevPageLastElemOffset)[0];var Gr=(nt>Ye||nt<lt)&&m.call(this);Gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,mt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,Ee),Gr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",He.x,He.y,He.w,He.h,null,null,Ee)};var v=function(N,R,U){var K=[];R=R||this.pdf.internal.pageSize.width,U=U||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var G=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":K.push(Math.floor((N.y+G)/U)+1);break;case"arc":K.push(Math.floor((N.y+G-N.radius)/U)+1),K.push(Math.floor((N.y+G+N.radius)/U)+1);break;case"qct":var ie=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);K.push(Math.floor((ie.y+G)/U)+1),K.push(Math.floor((ie.y+ie.h+G)/U)+1);break;case"bct":var ue=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);K.push(Math.floor((ue.y+G)/U)+1),K.push(Math.floor((ue.y+ue.h+G)/U)+1);break;case"rect":K.push(Math.floor((N.y+G)/U)+1),K.push(Math.floor((N.y+N.h+G)/U)+1)}for(var J=0;J<K.length;J+=1)for(;this.pdf.internal.getNumberOfPages()<K[J];)y.call(this);return K},y=function(){var N=this.fillStyle,R=this.strokeStyle,U=this.font,K=this.lineCap,G=this.lineWidth,ie=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=R,this.font=U,this.lineCap=K,this.lineWidth=G,this.lineJoin=ie},w=function(N,R,U){for(var K=0;K<N.length;K++)switch(N[K].type){case"bct":N[K].x2+=R,N[K].y2+=U;case"qct":N[K].x1+=R,N[K].y1+=U;case"mt":case"lt":case"arc":default:N[K].x+=R,N[K].y+=U}return N},_=function(N){return N.sort(function(R,U){return R-U})},O=function(N,R){for(var U,K,G=this.fillStyle,ie=this.strokeStyle,ue=this.lineCap,J=this.lineWidth,ce=Math.abs(J*this.ctx.transform.scaleX),pe=this.lineJoin,Y=JSON.parse(JSON.stringify(this.path)),fe=JSON.parse(JSON.stringify(this.path)),Se=[],ye=0;ye<fe.length;ye++)if(fe[ye].x!==void 0)for(var te=v.call(this,fe[ye]),Te=0;Te<te.length;Te+=1)Se.indexOf(te[Te])===-1&&Se.push(te[Te]);for(var Ee=0;Ee<Se.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<Se[Ee];)y.call(this);if(_(Se),this.autoPaging)for(var Ce=Se[0],He=Se[Se.length-1],je=Ce;je<He+1;je++){this.pdf.setPage(je),this.fillStyle=G,this.strokeStyle=ie,this.lineCap=ue,this.lineWidth=ce,this.lineJoin=pe;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=je===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=je===1?0:Ye+(je-2)*lt;if(this.ctx.clip_path.length!==0){var dt=this.path;U=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(U,this.posX+this.margin[3],-nt+Fe+this.ctx.prevPageLastElemOffset),P.call(this,N,!0),this.path=dt}if(K=JSON.parse(JSON.stringify(Y)),this.path=w(K,this.posX+this.margin[3],-nt+Fe+this.ctx.prevPageLastElemOffset),R===!1||je===0){var xt=(je>Ce||je<He)&&m.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,lt,null).clip().discardPath()),P.call(this,N,R),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=J}else this.lineWidth=ce,P.call(this,N,R),this.lineWidth=J;this.path=Y},P=function(N,R){if((N!=="stroke"||R||!g.call(this))&&(N==="stroke"||R||!d.call(this))){for(var U,K,G=[],ie=this.path,ue=0;ue<ie.length;ue++){var J=ie[ue];switch(J.type){case"begin":G.push({begin:!0});break;case"close":G.push({close:!0});break;case"mt":G.push({start:J,deltas:[],abs:[]});break;case"lt":var ce=G.length;if(ie[ue-1]&&!isNaN(ie[ue-1].x)&&(U=[J.x-ie[ue-1].x,J.y-ie[ue-1].y],ce>0)){for(;ce>=0;ce--)if(G[ce-1].close!==!0&&G[ce-1].begin!==!0){G[ce-1].deltas.push(U),G[ce-1].abs.push(J);break}}break;case"bct":U=[J.x1-ie[ue-1].x,J.y1-ie[ue-1].y,J.x2-ie[ue-1].x,J.y2-ie[ue-1].y,J.x-ie[ue-1].x,J.y-ie[ue-1].y],G[G.length-1].deltas.push(U);break;case"qct":var pe=ie[ue-1].x+2/3*(J.x1-ie[ue-1].x),Y=ie[ue-1].y+2/3*(J.y1-ie[ue-1].y),fe=J.x+2/3*(J.x1-J.x),Se=J.y+2/3*(J.y1-J.y),ye=J.x,te=J.y;U=[pe-ie[ue-1].x,Y-ie[ue-1].y,fe-ie[ue-1].x,Se-ie[ue-1].y,ye-ie[ue-1].x,te-ie[ue-1].y],G[G.length-1].deltas.push(U);break;case"arc":G.push({deltas:[],abs:[],arc:!0}),Array.isArray(G[G.length-1].abs)&&G[G.length-1].abs.push(J)}}K=R?null:N==="stroke"?"stroke":"fill";for(var Te=!1,Ee=0;Ee<G.length;Ee++)if(G[Ee].arc)for(var Ce=G[Ee].abs,He=0;He<Ce.length;He++){var je=Ce[He];je.type==="arc"?A.call(this,je.x,je.y,je.radius,je.startAngle,je.endAngle,je.counterclockwise,void 0,R,!Te):L.call(this,je.x,je.y),Te=!0}else if(G[Ee].close===!0)this.pdf.internal.out("h"),Te=!1;else if(G[Ee].begin!==!0){var Ge=G[Ee].start.x,Fe=G[Ee].start.y;H.call(this,G[Ee].deltas,Ge,Fe),Te=!0}K&&b.call(this,K),R&&I.call(this)}},D=function(N){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,U=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-U;case"top":return N+R-U;case"hanging":return N+R-2*U;case"middle":return N+R/2-U;case"ideographic":return N;case"alphabetic":default:return N}},T=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(R,U){this.colorStops.push([R,U])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(N,R,U,K,G,ie,ue,J,ce){for(var pe=Z.call(this,U,K,G,ie),Y=0;Y<pe.length;Y++){var fe=pe[Y];Y===0&&(ce?E.call(this,fe.x1+N,fe.y1+R):L.call(this,fe.x1+N,fe.y1+R)),V.call(this,N,R,fe.x2,fe.y2,fe.x3,fe.y3,fe.x4,fe.y4)}J?I.call(this):b.call(this,ue)},b=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},I=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(N,R){this.pdf.internal.out(r(N)+" "+n(R)+" m")},C=function(N){var R;switch(N.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var U=this.pdf.getTextDimensions(N.text),K=D.call(this,N.y),G=T.call(this,K)-U.h,ie=this.ctx.transform.applyToPoint(new s(N.x,K)),ue=this.ctx.transform.decompose(),J=new l;J=(J=(J=J.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var ce,pe,Y,fe=this.ctx.transform.applyToRectangle(new o(N.x,K,U.w,U.h)),Se=J.applyToRectangle(new o(N.x,G,U.w,U.h)),ye=v.call(this,Se),te=[],Te=0;Te<ye.length;Te+=1)te.indexOf(ye[Te])===-1&&te.push(ye[Te]);if(_(te),this.autoPaging)for(var Ee=te[0],Ce=te[te.length-1],He=Ee;He<Ce+1;He++){this.pdf.setPage(He);var je=He===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],Ye=Fe-this.margin[0],lt=this.pdf.internal.pageSize.width-this.margin[1],nt=lt-this.margin[3],dt=He===1?0:Ge+(He-2)*Ye;if(this.ctx.clip_path.length!==0){var xt=this.path;ce=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ce,this.posX+this.margin[3],-1*dt+je),P.call(this,"fill",!0),this.path=xt}var wt=w([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*N.scale),Y=this.lineWidth,this.lineWidth=Y*N.scale);var mt=this.autoPaging!=="text";if(mt||wt.y+wt.h<=Fe){if(mt||wt.y>=je&&wt.x<=lt){var et=mt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||lt-wt.x)[0],Bt=w([JSON.parse(JSON.stringify(fe))],this.posX+this.margin[3],-dt+je+this.ctx.prevPageLastElemOffset)[0],Lt=mt&&(He>Ee||He<Ce)&&m.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Ye,null).clip().discardPath()),this.pdf.text(et,Bt.x,Bt.y,{angle:N.angle,align:R,renderingMode:N.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else wt.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-wt.y);N.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Y)}else N.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*N.scale),Y=this.lineWidth,this.lineWidth=Y*N.scale),this.pdf.text(N.text,ie.x+this.posX,ie.y+this.posY,{angle:N.angle,align:R,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=Y)},L=function(N,R,U,K){U=U||0,K=K||0,this.pdf.internal.out(r(N+U)+" "+n(R+K)+" l")},H=function(N,R,U){return this.pdf.lines(N,R,U,null,null)},V=function(N,R,U,K,G,ie,ue,J){this.pdf.internal.out([t(a(U+N)),t(i(K+R)),t(a(G+N)),t(i(ie+R)),t(a(ue+N)),t(i(J+R)),"c"].join(" "))},Z=function(N,R,U,K){for(var G=2*Math.PI,ie=Math.PI/2;R>U;)R-=G;var ue=Math.abs(U-R);ue<G&&K&&(ue=G-ue);for(var J=[],ce=K?-1:1,pe=R;ue>1e-5;){var Y=pe+ce*Math.min(ue,ie);J.push(ee.call(this,N,pe,Y)),ue-=Math.abs(Y-pe),pe=Y}return J},ee=function(N,R,U){var K=(U-R)/2,G=N*Math.cos(K),ie=N*Math.sin(K),ue=G,J=-ie,ce=ue*ue+J*J,pe=ce+ue*G+J*ie,Y=4/3*(Math.sqrt(2*ce*pe)-pe)/(ue*ie-J*G),fe=ue-Y*J,Se=J+Y*ue,ye=fe,te=-Se,Te=K+R,Ee=Math.cos(Te),Ce=Math.sin(Te);return{x1:N*Math.cos(R),y1:N*Math.sin(R),x2:fe*Ee-Se*Ce,y2:fe*Ce+Se*Ee,x3:ye*Ee-te*Ce,y3:ye*Ce+te*Ee,x4:N*Math.cos(U),y4:N*Math.sin(U)}},W=function(N){return 180*N/Math.PI},B=function(N,R,U,K,G,ie){var ue=N+.5*(U-N),J=R+.5*(K-R),ce=G+.5*(U-G),pe=ie+.5*(K-ie),Y=Math.min(N,G,ue,ce),fe=Math.max(N,G,ue,ce),Se=Math.min(R,ie,J,pe),ye=Math.max(R,ie,J,pe);return new o(Y,Se,fe-Y,ye-Se)},ae=function(N,R,U,K,G,ie,ue,J){var ce,pe,Y,fe,Se,ye,te,Te,Ee,Ce,He,je,Ge,Fe,Ye=U-N,lt=K-R,nt=G-U,dt=ie-K,xt=ue-G,wt=J-ie;for(pe=0;pe<41;pe++)Ee=(te=(Y=N+(ce=pe/40)*Ye)+ce*((Se=U+ce*nt)-Y))+ce*(Se+ce*(G+ce*xt-Se)-te),Ce=(Te=(fe=R+ce*lt)+ce*((ye=K+ce*dt)-fe))+ce*(ye+ce*(ie+ce*wt-ye)-Te),pe==0?(He=Ee,je=Ce,Ge=Ee,Fe=Ce):(He=Math.min(He,Ee),je=Math.min(je,Ce),Ge=Math.max(Ge,Ee),Fe=Math.max(Fe,Ce));return new o(Math.round(He),Math.round(je),Math.round(Ge-He),Math.round(Fe-je))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,R,U=(N=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:R}));this.prevLineDash!==U&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=U)}}})(Gt.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=jT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Gt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Gt.API),function(e){function t(){return(Kt.html2canvas?Promise.resolve(Kt.html2canvas):NT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Kt.DOMPurify?Promise.resolve(Kt.DOMPurify):NT(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Vr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],g=d.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Gt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Gt.getPageSize=function(s,o,l){if(Vr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(d=m,m=g,g=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(d=m,m=g,g=d)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(BT):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Gt.API),Gt.API.addJS=function(e){return yj=e,this.internal.events.subscribe("postPutResources",function(){xx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(xx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+yj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){xx!==void 0&&vj!==void 0&&this.internal.out("/Names <</JavaScript "+xx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Gt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=d,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}d=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Gt.API);var qd,bx,xj,bj,wj,Axe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,g,m,v,y,w,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var O,P;for(P=[],O=0;O<4;++O)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,v.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,g){var m,v,y,w,_,O,P,D,T,A,b,I,E,C,L,H,V,Z,ee,W,B,ae=Math.ceil((c.width-f)/d),q=Math.ceil((c.height-h)/g),N=c.width==ae&&c.height==q;for(C=s*ae,I=N?o:new Uint8Array(C*q),O=i.length,E=0,v=0;E<q&&l<O;){switch(i[l++]){case 0:for(w=V=0;V<C;w=V+=1)I[v++]=i[l++];break;case 1:for(w=Z=0;Z<C;w=Z+=1)m=i[l++],_=w<s?0:I[v-s],I[v++]=(m+_)%256;break;case 2:for(w=ee=0;ee<C;w=ee+=1)m=i[l++],y=(w-w%s)/s,L=E&&I[(E-1)*C+y*s+w%s],I[v++]=(L+m)%256;break;case 3:for(w=W=0;W<C;w=W+=1)m=i[l++],y=(w-w%s)/s,_=w<s?0:I[v-s],L=E&&I[(E-1)*C+y*s+w%s],I[v++]=(m+Math.floor((_+L)/2))%256;break;case 4:for(w=B=0;B<C;w=B+=1)m=i[l++],y=(w-w%s)/s,_=w<s?0:I[v-s],E===0?L=H=0:(L=I[(E-1)*C+y*s+w%s],H=y&&I[(E-1)*C+(y-1)*s+w%s]),P=_+L-H,D=Math.abs(P-_),A=Math.abs(P-L),b=Math.abs(P-H),T=D<=A&&D<=b?_:A<=b?L:H,I[v++]=(m+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!N){var R=((h+E*g)*c.width+f)*s,U=E*C;for(w=0;w<ae;w+=1){for(var K=0;K<s;K+=1)o[R++]=I[U++];R+=(d-1)*s}}E++}}return i=rxe(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)d=m?4*s[u/4]:h,v=f[d++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[d++]:255,h=d;else for(;u<g;)d=m?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Kt)==="[object Window]"){try{t=Kt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,g;if(d=o++%c,g=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Txe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),d=m>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,O=e[t++],P=O>>6&1,D=1<<(7&O)+1,T=o,A=l,b=!1;O>>7&&(b=!0,T=t,A=D,t+=3*D);var I=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:w,height:_,has_local_palette:b,palette_offset:T,palette_size:A,data_offset:I,data_length:t-I,transparent_index:h,interlaced:!!P,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(C){if(C<0||C>=u.length)throw new Error("Frame index out of range.");return u[C]},this.decodeAndBlitFrameBGRA=function(C,L){var H=this.frameInfo(C),V=H.width*H.height,Z=new Uint8Array(V);_j(e,H.data_offset,Z,V);var ee=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var B=H.width,ae=r-B,q=B,N=4*(H.y*r+H.x),R=4*((H.y+H.height)*r+H.x),U=N,K=4*ae;H.interlaced===!0&&(K+=4*r*7);for(var G=8,ie=0,ue=Z.length;ie<ue;++ie){var J=Z[ie];if(q===0&&(q=B,(U+=K)>=R&&(K=4*ae+4*r*(G-1),U=N+(B+ae)*(G<<1),G>>=1)),J===W)U+=4;else{var ce=e[ee+3*J],pe=e[ee+3*J+1],Y=e[ee+3*J+2];L[U++]=Y,L[U++]=pe,L[U++]=ce,L[U++]=255}--q}},this.decodeAndBlitFrameRGBA=function(C,L){var H=this.frameInfo(C),V=H.width*H.height,Z=new Uint8Array(V);_j(e,H.data_offset,Z,V);var ee=H.palette_offset,W=H.transparent_index;W===null&&(W=256);var B=H.width,ae=r-B,q=B,N=4*(H.y*r+H.x),R=4*((H.y+H.height)*r+H.x),U=N,K=4*ae;H.interlaced===!0&&(K+=4*r*7);for(var G=8,ie=0,ue=Z.length;ie<ue;++ie){var J=Z[ie];if(q===0&&(q=B,(U+=K)>=R&&(K=4*ae+4*r*(G-1),U=N+(B+ae)*(G<<1),G>>=1)),J===W)U+=4;else{var ce=e[ee+3*J],pe=e[ee+3*J+1],Y=e[ee+3*J+2];L[U++]=ce,L[U++]=pe,L[U++]=Y,L[U++]=255}--q}}}function _j(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,_=y;_>i;)_=g[_]>>8,++w;var O=_;if(h+w+(y!==v?1:0)>n)return void cn.log("Warning, gif stream longer than expected.");r[h++]=O;var P=h+=w;for(y!==v&&(r[h++]=O),_=y;w--;)_=g[_],r[--P]=255&_,_>>=8;m!==null&&o<4096&&(g[o++]=m<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&cn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),_=new Array(64),O=new Array(64),P=new Array(256),D=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],I=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(N,R){for(var U=0,K=0,G=new Array,ie=1;ie<=16;ie++){for(var ue=1;ue<=N[ie];ue++)G[R[K]]=[],G[R[K]][0]=U,G[R[K]][1]=ie,K++,U++;U*=2}return G}function ee(N){for(var R=N[0],U=N[1]-1;U>=0;)R&1<<U&&(v|=1<<y),U--,--y<0&&(v==255?(W(255),W(0)):W(v),y=7,v=0)}function W(N){m.push(N)}function B(N){W(N>>8&255),W(255&N)}function ae(N,R,U,K,G){for(var ie,ue=G[0],J=G[240],ce=function(Ce,He){var je,Ge,Fe,Ye,lt,nt,dt,xt,wt,mt,et=0;for(wt=0;wt<8;++wt){je=Ce[et],Ge=Ce[et+1],Fe=Ce[et+2],Ye=Ce[et+3],lt=Ce[et+4],nt=Ce[et+5],dt=Ce[et+6];var Bt=je+(xt=Ce[et+7]),Lt=je-xt,Gr=Ge+dt,Ne=Ge-dt,Je=Fe+nt,St=Fe-nt,Ct=Ye+lt,ur=Ye-lt,hr=Bt+Ct,Ir=Bt-Ct,gn=Gr+Je,Dr=Gr-Je;Ce[et]=hr+gn,Ce[et+4]=hr-gn;var Vt=.707106781*(Dr+Ir);Ce[et+2]=Ir+Vt,Ce[et+6]=Ir-Vt;var wr=.382683433*((hr=ur+St)-(Dr=Ne+Lt)),Ji=.5411961*hr+wr,Fn=1.306562965*Dr+wr,Na=.707106781*(gn=St+Ne),Oi=Lt+Na,Dt=Lt-Na;Ce[et+5]=Dt+Ji,Ce[et+3]=Dt-Ji,Ce[et+1]=Oi+Fn,Ce[et+7]=Oi-Fn,et+=8}for(et=0,wt=0;wt<8;++wt){je=Ce[et],Ge=Ce[et+8],Fe=Ce[et+16],Ye=Ce[et+24],lt=Ce[et+32],nt=Ce[et+40],dt=Ce[et+48];var si=je+(xt=Ce[et+56]),ia=je-xt,$n=Ge+dt,In=Ge-dt,Tn=Fe+nt,se=Fe-nt,we=Ye+lt,ge=Ye-lt,ve=si+we,be=si-we,_e=$n+Tn,$e=$n-Tn;Ce[et]=ve+_e,Ce[et+32]=ve-_e;var Ke=.707106781*($e+be);Ce[et+16]=be+Ke,Ce[et+48]=be-Ke;var Be=.382683433*((ve=ge+se)-($e=In+ia)),Ve=.5411961*ve+Be,We=1.306562965*$e+Be,ut=.707106781*(_e=se+In),bt=ia+ut,Nt=ia-ut;Ce[et+40]=Nt+Ve,Ce[et+24]=Nt-Ve,Ce[et+8]=bt+We,Ce[et+56]=bt-We,et++}for(wt=0;wt<64;++wt)mt=Ce[wt]*He[wt],d[wt]=mt>0?mt+.5|0:mt-.5|0;return d}(N,R),pe=0;pe<64;++pe)g[T[pe]]=ce[pe];var Y=g[0]-U;U=g[0],Y==0?ee(K[0]):(ee(K[h[ie=32767+Y]]),ee(f[ie]));for(var fe=63;fe>0&&g[fe]==0;)fe--;if(fe==0)return ee(ue),U;for(var Se,ye=1;ye<=fe;){for(var te=ye;g[ye]==0&&ye<=fe;)++ye;var Te=ye-te;if(Te>=16){Se=Te>>4;for(var Ee=1;Ee<=Se;++Ee)ee(J);Te&=15}ie=32767+g[ye],ee(G[(Te<<4)+h[ie]]),ee(f[ie]),ye++}return fe!=63&&ee(ue),U}function q(N){N=Math.min(Math.max(N,1),100),i!=N&&(function(R){for(var U=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var G=s((U[K]*R+50)/100);G=Math.min(Math.max(G,1),255),o[T[K]]=G}for(var ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var J=s((ie[ue]*R+50)/100);J=Math.min(Math.max(J,1),255),l[T[ue]]=J}for(var ce=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,Y=0;Y<8;Y++)for(var fe=0;fe<8;fe++)c[pe]=1/(o[T[pe]]*ce[Y]*ce[fe]*8),u[pe]=1/(l[T[pe]]*ce[Y]*ce[fe]*8),pe++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,R){R&&q(R),m=new Array,v=0,y=7,B(65496),B(65504),B(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),B(1),B(1),W(0),W(0),function(){B(65499),B(132),W(0);for(var Ge=0;Ge<64;Ge++)W(o[Ge]);W(1);for(var Fe=0;Fe<64;Fe++)W(l[Fe])}(),function(Ge,Fe){B(65472),B(17),W(8),B(Fe),B(Ge),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(N.width,N.height),function(){B(65476),B(418),W(0);for(var Ge=0;Ge<16;Ge++)W(A[Ge+1]);for(var Fe=0;Fe<=11;Fe++)W(b[Fe]);W(16);for(var Ye=0;Ye<16;Ye++)W(I[Ye+1]);for(var lt=0;lt<=161;lt++)W(E[lt]);W(1);for(var nt=0;nt<16;nt++)W(C[nt+1]);for(var dt=0;dt<=11;dt++)W(L[dt]);W(17);for(var xt=0;xt<16;xt++)W(H[xt+1]);for(var wt=0;wt<=161;wt++)W(V[wt])}(),B(65498),B(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var U=0,K=0,G=0;v=0,y=7,this.encode.displayName="_encode_";for(var ie,ue,J,ce,pe,Y,fe,Se,ye,te=N.data,Te=N.width,Ee=N.height,Ce=4*Te,He=0;He<Ee;){for(ie=0;ie<Ce;){for(pe=Ce*He+ie,fe=-1,Se=0,ye=0;ye<64;ye++)Y=pe+(Se=ye>>3)*Ce+(fe=4*(7&ye)),He+Se>=Ee&&(Y-=Ce*(He+1+Se-Ee)),ie+fe>=Ce&&(Y-=ie+fe-Ce+4),ue=te[Y++],J=te[Y++],ce=te[Y++],w[ye]=(D[ue]+D[J+256>>0]+D[ce+512>>0]>>16)-128,_[ye]=(D[ue+768>>0]+D[J+1024>>0]+D[ce+1280>>0]>>16)-128,O[ye]=(D[ue+1280>>0]+D[J+1536>>0]+D[ce+1792>>0]>>16)-128;U=ae(w,c,U,t,n),K=ae(_,u,K,r,a),G=ae(O,u,G,r,a),ie+=32}He+=8}if(y>=0){var je=[];je[1]=y+1,je[0]=(1<<y+1)-1,ee(je)}return B(65497),new Uint8Array(m)},e=e||50,function(){for(var N=String.fromCharCode,R=0;R<256;R++)P[R]=N(R)}(),t=Z(A,b),r=Z(C,L),n=Z(I,E),a=Z(H,V),function(){for(var N=1,R=2,U=1;U<=15;U++){for(var K=N;K<R;K++)h[32767+K]=U,f[32767+K]=[],f[32767+K][1]=U,f[32767+K][0]=K;for(var G=-(R-1);G<=-N;G++)h[32767+G]=U,f[32767+G]=[],f[32767+G][1]=U,f[32767+G][0]=R-1+G;N<<=1,R<<=1}}(),function(){for(var N=0;N<256;N++)D[N]=19595*N,D[N+256>>0]=38470*N,D[N+512>>0]=7471*N+32768,D[N+768>>0]=-11059*N,D[N+1024>>0]=-21709*N,D[N+1280>>0]=32768*N+8421375,D[N+1536>>0]=-27439*N,D[N+1792>>0]=-5329*N}(),q(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Sj(e){function t(A){if(!A)throw Error("assert :P")}function r(A,b,I){for(var E=0;4>E;E++)if(A[b+E]!=I.charCodeAt(E))return!0;return!1}function n(A,b,I,E,C){for(var L=0;L<C;L++)A[b+L]=I[E+L]}function a(A,b,I,E){for(var C=0;C<E;C++)A[b+C]=I}function i(A){return new Int32Array(A)}function s(A,b){for(var I=[],E=0;E<A;E++)I.push(new b);return I}function o(A,b){var I=[];return function E(C,L,H){for(var V=H[L],Z=0;Z<V&&(C.push(H.length>L+1?[]:new b),!(H.length<L+1));Z++)E(C[Z],L+1,H)}(I,0,A),I}var l=function(){var A=this;function b(x,k){for(var M=1<<k-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function I(x,k,M,z,ne){t(!(z%M));do x[k+(z-=M)]=ne;while(0<z)}function E(x,k,M,z,ne){if(t(2328>=ne),512>=ne)var oe=i(512);else if((oe=i(ne))==null)return 0;return function(le,de,me,xe,Pe,Ue){var ze,Re,st=de,Xe=1<<me,Oe=i(16),De=i(16);for(t(Pe!=0),t(xe!=null),t(le!=null),t(0<me),Re=0;Re<Pe;++Re){if(15<xe[Re])return 0;++Oe[xe[Re]]}if(Oe[0]==Pe)return 0;for(De[1]=0,ze=1;15>ze;++ze){if(Oe[ze]>1<<ze)return 0;De[ze+1]=De[ze]+Oe[ze]}for(Re=0;Re<Pe;++Re)ze=xe[Re],0<xe[Re]&&(Ue[De[ze]++]=Re);if(De[15]==1)return(xe=new C).g=0,xe.value=Ue[0],I(le,st,1,Xe,xe),Xe;var tt,ct=-1,at=Xe-1,It=0,Et=1,zt=1,Pt=1<<me;for(Re=0,ze=1,Pe=2;ze<=me;++ze,Pe<<=1){if(Et+=zt<<=1,0>(zt-=Oe[ze]))return 0;for(;0<Oe[ze];--Oe[ze])(xe=new C).g=ze,xe.value=Ue[Re++],I(le,st+It,Pe,Pt,xe),It=b(It,ze)}for(ze=me+1,Pe=2;15>=ze;++ze,Pe<<=1){if(Et+=zt<<=1,0>(zt-=Oe[ze]))return 0;for(;0<Oe[ze];--Oe[ze]){if(xe=new C,(It&at)!=ct){for(st+=Pt,tt=1<<(ct=ze)-me;15>ct&&!(0>=(tt-=Oe[ct]));)++ct,tt<<=1;Xe+=Pt=1<<(tt=ct-me),le[de+(ct=It&at)].g=tt+me,le[de+ct].value=st-de-ct}xe.g=ze-me,xe.value=Ue[Re++],I(le,st+(It>>me),Pe,Pt,xe),It=b(It,ze)}}return Et!=2*De[15]-1?0:Xe}(x,k,M,z,ne,oe)}function C(){this.value=this.g=0}function L(){this.value=this.g=0}function H(){this.G=s(5,C),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Wa,L)}function V(x,k,M,z){t(x!=null),t(k!=null),t(2147483648>z),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=M,x.Jd=k,x.Yc=M+z,x.Zc=4<=z?M+z-4+1:M,ie(x)}function Z(x,k){for(var M=0;0<k--;)M|=J(x,128)<<k;return M}function ee(x,k){var M=Z(x,k);return ue(x)?-M:M}function W(x,k,M,z){var ne,oe=0;for(t(x!=null),t(k!=null),t(4294967288>z),x.Sb=z,x.Ra=0,x.u=0,x.h=0,4<z&&(z=4),ne=0;ne<z;++ne)oe+=k[M+ne]<<8*ne;x.Ra=oe,x.bb=z,x.oa=k,x.pa=M}function B(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Pd-8>>>0,++x.bb,x.u-=8;U(x)&&(x.h=1,x.u=0)}function ae(x,k){if(t(0<=k),!x.h&&k<=Nd){var M=R(x)&Cd[k];return x.u+=k,B(x),M}return x.h=1,x.u=0}function q(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Pd-1)>>>0}function U(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Pd}function K(x,k){x.u=k,x.h=U(x)}function G(x){x.u>=mm&&(t(x.u>=mm),B(x))}function ie(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ue(x){return Z(x,1)}function J(x,k){var M=x.Ca;0>x.b&&ie(x);var z=x.b,ne=M*k>>>8,oe=(x.I>>>z>ne)+0;for(oe?(M-=ne,x.I-=ne+1<<z>>>0):M=ne+1,z=M,ne=0;256<=z;)ne+=8,z>>=8;return z=7^ne+ts[z],x.b-=z,x.Ca=(M<<z)-1,oe}function ce(x,k,M){x[k+0]=M>>24&255,x[k+1]=M>>16&255,x[k+2]=M>>8&255,x[k+3]=M>>0&255}function pe(x,k){return x[k+0]<<0|x[k+1]<<8}function Y(x,k){return pe(x,k)|x[k+2]<<16}function fe(x,k){return pe(x,k)|pe(x,k+2)<<16}function Se(x,k){var M=1<<k;return t(x!=null),t(0<k),x.X=i(M),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function ye(x,k){t(x!=null),t(k!=null),t(x.Xa==k.Xa),n(k.X,0,x.X,0,1<<k.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function Te(x,k,M,z){t(M!=null),t(z!=null);var ne=M[0],oe=z[0];return ne==0&&(ne=(x*oe+k/2)/k),oe==0&&(oe=(k*ne+x/2)/x),0>=ne||0>=oe?0:(M[0]=ne,z[0]=oe,1)}function Ee(x,k){return x+(1<<k)-1>>>k}function Ce(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function He(x,k){A[k]=function(M,z,ne,oe,le,de,me){var xe;for(xe=0;xe<le;++xe){var Pe=A[x](de[me+xe-1],ne,oe+xe);de[me+xe]=Ce(M[z+xe],Pe)}}}function je(){this.ud=this.hd=this.jd=0}function Ge(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function Fe(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ye(x,k){return Fe(x+(x-k+.5>>1))}function lt(x,k,M){return Math.abs(k-M)-Math.abs(x-M)}function nt(x,k,M,z,ne,oe,le){for(z=oe[le-1],M=0;M<ne;++M)oe[le+M]=z=Ce(x[k+M],z)}function dt(x,k,M,z,ne){var oe;for(oe=0;oe<M;++oe){var le=x[k+oe],de=le>>8&255,me=16711935&(me=(me=16711935&le)+((de<<16)+de));z[ne+oe]=(4278255360&le)+me>>>0}}function xt(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function wt(x,k,M,z,ne,oe){var le;for(le=0;le<z;++le){var de=k[M+le],me=de>>>8,xe=de,Pe=255&(Pe=(Pe=de>>>16)+((x.jd<<24>>24)*(me<<24>>24)>>>5));xe=255&(xe=(xe=xe+((x.hd<<24>>24)*(me<<24>>24)>>>5))+((x.ud<<24>>24)*(Pe<<24>>24)>>>5)),ne[oe+le]=(4278255360&de)+(Pe<<16)+xe}}function mt(x,k,M,z,ne){A[k]=function(oe,le,de,me,xe,Pe,Ue,ze,Re){for(me=Ue;me<ze;++me)for(Ue=0;Ue<Re;++Ue)xe[Pe++]=ne(de[z(oe[le++])])},A[x]=function(oe,le,de,me,xe,Pe,Ue){var ze=8>>oe.b,Re=oe.Ea,st=oe.K[0],Xe=oe.w;if(8>ze)for(oe=(1<<oe.b)-1,Xe=(1<<ze)-1;le<de;++le){var Oe,De=0;for(Oe=0;Oe<Re;++Oe)Oe&oe||(De=z(me[xe++])),Pe[Ue++]=ne(st[De&Xe]),De>>=ze}else A["VP8LMapColor"+M](me,xe,st,Xe,Pe,Ue,le,de,Re)}}function et(x,k,M,z,ne){for(M=k+M;k<M;){var oe=x[k++];z[ne++]=oe>>16&255,z[ne++]=oe>>8&255,z[ne++]=oe>>0&255}}function Bt(x,k,M,z,ne){for(M=k+M;k<M;){var oe=x[k++];z[ne++]=oe>>16&255,z[ne++]=oe>>8&255,z[ne++]=oe>>0&255,z[ne++]=oe>>24&255}}function Lt(x,k,M,z,ne){for(M=k+M;k<M;){var oe=(le=x[k++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;z[ne++]=oe,z[ne++]=le}}function Gr(x,k,M,z,ne){for(M=k+M;k<M;){var oe=(le=x[k++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;z[ne++]=oe,z[ne++]=le}}function Ne(x,k,M,z,ne){for(M=k+M;k<M;){var oe=x[k++];z[ne++]=oe>>0&255,z[ne++]=oe>>8&255,z[ne++]=oe>>16&255}}function Je(x,k,M,z,ne,oe){if(oe==0)for(M=k+M;k<M;)ce(z,((oe=x[k++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ne+=32;else n(z,ne,x,k,M)}function St(x,k){A[k][0]=A[x+"0"],A[k][1]=A[x+"1"],A[k][2]=A[x+"2"],A[k][3]=A[x+"3"],A[k][4]=A[x+"4"],A[k][5]=A[x+"5"],A[k][6]=A[x+"6"],A[k][7]=A[x+"7"],A[k][8]=A[x+"8"],A[k][9]=A[x+"9"],A[k][10]=A[x+"10"],A[k][11]=A[x+"11"],A[k][12]=A[x+"12"],A[k][13]=A[x+"13"],A[k][14]=A[x+"0"],A[k][15]=A[x+"0"]}function Ct(x){return x==h_||x==d_||x==yy||x==p_}function ur(){this.eb=[],this.size=this.A=this.fb=0}function hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ir(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ur,this.f.kb=new hr,this.sd=null}function gn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Vt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function wr(x,k){var M=x.T,z=k.ba.f.RGBA,ne=z.eb,oe=z.fb+x.ka*z.A,le=Qs[k.ba.S],de=x.y,me=x.O,xe=x.f,Pe=x.N,Ue=x.ea,ze=x.W,Re=k.cc,st=k.dc,Xe=k.Mc,Oe=k.Nc,De=x.ka,tt=x.ka+x.T,ct=x.U,at=ct+1>>1;for(De==0?le(de,me,null,null,xe,Pe,Ue,ze,xe,Pe,Ue,ze,ne,oe,null,null,ct):(le(k.ec,k.fc,de,me,Re,st,Xe,Oe,xe,Pe,Ue,ze,ne,oe-z.A,ne,oe,ct),++M);De+2<tt;De+=2)Re=xe,st=Pe,Xe=Ue,Oe=ze,Pe+=x.Rc,ze+=x.Rc,oe+=2*z.A,le(de,(me+=2*x.fa)-x.fa,de,me,Re,st,Xe,Oe,xe,Pe,Ue,ze,ne,oe-z.A,ne,oe,ct);return me+=x.fa,x.j+tt<x.o?(n(k.ec,k.fc,de,me,ct),n(k.cc,k.dc,xe,Pe,at),n(k.Mc,k.Nc,Ue,ze,at),M--):1&tt||le(de,me,null,null,xe,Pe,Ue,ze,xe,Pe,Ue,ze,ne,oe+z.A,null,null,ct),M}function Ji(x,k,M){var z=x.F,ne=[x.J];if(z!=null){var oe=x.U,le=k.ba.S,de=le==vy||le==yy;k=k.ba.f.RGBA;var me=[0],xe=x.ka;me[0]=x.T,x.Kb&&(xe==0?--me[0]:(--xe,ne[0]-=x.width),x.j+x.ka+x.T==x.o&&(me[0]=x.o-x.j-xe));var Pe=k.eb;xe=k.fb+xe*k.A,x=hn(z,ne[0],x.width,oe,me,Pe,xe+(de?0:3),k.A),t(M==me),x&&Ct(le)&&Ys(Pe,xe,de,oe,me,k.A)}return 0}function Fn(x){var k=x.ma,M=k.ba.S,z=11>M,ne=M==my||M==gy||M==vy||M==f_||M==12||Ct(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!dm(k.Oa,x,ne?11:12))return 0;if(ne&&Ct(M)&&ft(),x.da)alert("todo:use_scaling");else{if(z){if(k.Ib=Vt,x.Kb){if(M=x.U+1>>1,k.memory=i(x.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=wr,ft()}}else alert("todo:EmitYUV");ne&&(k.Jb=Ji,z&&Me())}if(z&&!PP){for(x=0;256>x;++x)ZK[x]=89858*(x-128)+by>>xy,rY[x]=-22014*(x-128)+by,tY[x]=-45773*(x-128),eY[x]=113618*(x-128)+by>>xy;for(x=_m;x<v_;++x)k=76283*(x-16)+by>>xy,nY[x-_m]=Wr(k,255),aY[x-_m]=Wr(k+8>>4,15);PP=1}return 1}function Na(x){var k=x.ma,M=x.U,z=x.T;return t(!(1&x.ka)),0>=M||0>=z?0:(M=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,M),k.Dc+=M,1)}function Oi(x){x.ma.memory=null}function Dt(x,k,M,z){return ae(x,8)!=47?0:(k[0]=ae(x,14)+1,M[0]=ae(x,14)+1,z[0]=ae(x,1),ae(x,3)!=0?0:!x.h)}function si(x,k){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ae(k,M)+1}function ia(x,k){return 120<k?k-120:1<=(M=((M=$K[k-1])>>4)*x+(8-(15&M)))?M:1;var M}function $n(x,k,M){var z=R(M),ne=x[k+=255&z].g-8;return 0<ne&&(K(M,M.u+8),z=R(M),k+=x[k].value,k+=z&(1<<ne)-1),K(M,M.u+x[k].g),x[k].value}function In(x,k,M){return M.g+=x.g,M.value+=x.value<<k>>>0,t(8>=M.g),x.g}function Tn(x,k,M){var z=x.xc;return t((k=z==0?0:x.vc[x.md*(M>>z)+(k>>z)])<x.Wb),x.Ya[k]}function se(x,k,M,z){var ne=x.ab,oe=x.c*k,le=x.C;k=le+k;var de=M,me=z;for(z=x.Ta,M=x.Ua;0<ne--;){var xe=x.gc[ne],Pe=le,Ue=k,ze=de,Re=me,st=(me=z,de=M,xe.Ea);switch(t(Pe<Ue),t(Ue<=xe.nc),xe.hc){case 2:ly(ze,Re,(Ue-Pe)*st,me,de);break;case 0:var Xe=Pe,Oe=Ue,De=me,tt=de,ct=(Pt=xe).Ea;Xe==0&&(c_(ze,Re,null,null,1,De,tt),nt(ze,Re+1,0,0,ct-1,De,tt+1),Re+=ct,tt+=ct,++Xe);for(var at=1<<Pt.b,It=at-1,Et=Ee(ct,Pt.b),zt=Pt.K,Pt=Pt.w+(Xe>>Pt.b)*Et;Xe<Oe;){var $r=zt,Yr=Pt,jr=1;for(gm(ze,Re,De,tt-ct,1,De,tt);jr<ct;){var yr=(jr&~It)+at;yr>ct&&(yr=ct),(0,mu[$r[Yr++]>>8&15])(ze,Re+ +jr,De,tt+jr-ct,yr-jr,De,tt+jr),jr=yr}Re+=ct,tt+=ct,++Xe&It||(Pt+=Et)}Ue!=xe.nc&&n(me,de-st,me,de+(Ue-Pe-1)*st,st);break;case 1:for(st=ze,Oe=Re,ct=(ze=xe.Ea)-(tt=ze&~(De=(Re=1<<xe.b)-1)),Xe=Ee(ze,xe.b),at=xe.K,xe=xe.w+(Pe>>xe.b)*Xe;Pe<Ue;){for(It=at,Et=xe,zt=new je,Pt=Oe+tt,$r=Oe+ze;Oe<Pt;)xt(It[Et++],zt),Jf(zt,st,Oe,Re,me,de),Oe+=Re,de+=Re;Oe<$r&&(xt(It[Et++],zt),Jf(zt,st,Oe,ct,me,de),Oe+=ct,de+=ct),++Pe&De||(xe+=Xe)}break;case 3:if(ze==me&&Re==de&&0<xe.b){for(Oe=me,ze=st=de+(Ue-Pe)*st-(tt=(Ue-Pe)*Ee(xe.Ea,xe.b)),Re=me,De=de,Xe=[],tt=(ct=tt)-1;0<=tt;--tt)Xe[tt]=Re[De+tt];for(tt=ct-1;0<=tt;--tt)Oe[ze+tt]=Xe[tt];Hs(xe,Pe,Ue,me,st,me,de)}else Hs(xe,Pe,Ue,ze,Re,me,de)}de=z,me=M}me!=M&&n(z,M,de,me,oe)}function we(x,k){var M=x.V,z=x.Ba+x.c*x.C,ne=k-x.C;if(t(k<=x.l.o),t(16>=ne),0<ne){var oe=x.l,le=x.Ta,de=x.Ua,me=oe.width;if(se(x,ne,M,z),ne=de=[de],t((M=x.C)<(z=k)),t(oe.v<oe.va),z>oe.o&&(z=oe.o),M<oe.j){var xe=oe.j-M;M=oe.j,ne[0]+=xe*me}if(M>=z?M=0:(ne[0]+=4*oe.v,oe.ka=M-oe.j,oe.U=oe.va-oe.v,oe.T=z-M,M=1),M){if(de=de[0],11>(M=x.ca).S){var Pe=M.f.RGBA,Ue=(z=M.S,ne=oe.U,oe=oe.T,xe=Pe.eb,Pe.A),ze=oe;for(Pe=Pe.fb+x.Ma*Pe.A;0<ze--;){var Re=le,st=de,Xe=ne,Oe=xe,De=Pe;switch(z){case py:rs(Re,st,Xe,Oe,De);break;case my:ji(Re,st,Xe,Oe,De);break;case h_:ji(Re,st,Xe,Oe,De),Ys(Oe,De,0,Xe,1,0);break;case bP:rc(Re,st,Xe,Oe,De);break;case gy:Je(Re,st,Xe,Oe,De,1);break;case d_:Je(Re,st,Xe,Oe,De,1),Ys(Oe,De,0,Xe,1,0);break;case vy:Je(Re,st,Xe,Oe,De,0);break;case yy:Je(Re,st,Xe,Oe,De,0),Ys(Oe,De,1,Xe,1,0);break;case f_:gu(Re,st,Xe,Oe,De);break;case p_:gu(Re,st,Xe,Oe,De),fn(Oe,De,Xe,1,0);break;case wP:tc(Re,st,Xe,Oe,De);break;default:t(0)}de+=me,Pe+=Ue}x.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=k,t(x.C<=x.i)}function ge(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var M=x.Ya[k].G,z=x.Ya[k].H;if(0<M[1][z[1]+0].g||0<M[2][z[2]+0].g||0<M[3][z[3]+0].g)return 0}return 1}function ve(x,k,M,z,ne,oe){if(x.Z!=0){var le=x.qd,de=x.rd;for(t(bu[x.Z]!=null);k<M;++k)bu[x.Z](le,de,z,ne,z,ne,oe),le=z,de=ne,ne+=oe;x.qd=le,x.rd=de}}function be(x,k){var M=x.l.ma,z=M.Z==0||M.Z==1?x.l.j:x.C;if(z=x.C<z?z:x.C,t(k<=x.l.o),k>z){var ne=x.l.width,oe=M.ca,le=M.tb+ne*z,de=x.V,me=x.Ba+x.c*z,xe=x.gc;t(x.ab==1),t(xe[0].hc==3),cy(xe[0],z,k,de,me,oe,le),ve(M,z,k,oe,le,ne)}x.C=x.Ma=k}function _e(x,k,M,z,ne,oe,le){var de=x.$/z,me=x.$%z,xe=x.m,Pe=x.s,Ue=M+x.$,ze=Ue;ne=M+z*ne;var Re=M+z*oe,st=280+Pe.ua,Xe=x.Pb?de:16777216,Oe=0<Pe.ua?Pe.Wa:null,De=Pe.wc,tt=Ue<Re?Tn(Pe,me,de):null;t(x.C<oe),t(Re<=ne);var ct=!1;e:for(;;){for(;ct||Ue<Re;){var at=0;if(de>=Xe){var It=Ue-M;t((Xe=x).Pb),Xe.wd=Xe.m,Xe.xd=It,0<Xe.s.ua&&ye(Xe.s.Wa,Xe.s.vb),Xe=de+VK}if(me&De||(tt=Tn(Pe,me,de)),t(tt!=null),tt.Qb&&(k[Ue]=tt.qb,ct=!0),!ct)if(G(xe),tt.jc){at=xe,It=k;var Et=Ue,zt=tt.pd[R(at)&Wa-1];t(tt.jc),256>zt.g?(K(at,at.u+zt.g),It[Et]=zt.value,at=0):(K(at,at.u+zt.g-256),t(256<=zt.value),at=zt.value),at==0&&(ct=!0)}else at=$n(tt.G[0],tt.H[0],xe);if(xe.h)break;if(ct||256>at){if(!ct)if(tt.nd)k[Ue]=(tt.qb|at<<8)>>>0;else{if(G(xe),ct=$n(tt.G[1],tt.H[1],xe),G(xe),It=$n(tt.G[2],tt.H[2],xe),Et=$n(tt.G[3],tt.H[3],xe),xe.h)break;k[Ue]=(Et<<24|ct<<16|at<<8|It)>>>0}if(ct=!1,++Ue,++me>=z&&(me=0,++de,le!=null&&de<=oe&&!(de%16)&&le(x,de),Oe!=null))for(;ze<Ue;)at=k[ze++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at}else if(280>at){if(at=si(at-256,xe),It=$n(tt.G[4],tt.H[4],xe),G(xe),It=ia(z,It=si(It,xe)),xe.h)break;if(Ue-M<It||ne-Ue<at)break e;for(Et=0;Et<at;++Et)k[Ue+Et]=k[Ue+Et-It];for(Ue+=at,me+=at;me>=z;)me-=z,++de,le!=null&&de<=oe&&!(de%16)&&le(x,de);if(t(Ue<=ne),me&De&&(tt=Tn(Pe,me,de)),Oe!=null)for(;ze<Ue;)at=k[ze++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at}else{if(!(at<st))break e;for(ct=at-280,t(Oe!=null);ze<Ue;)at=k[ze++],Oe.X[(506832829*at&4294967295)>>>Oe.Mb]=at;at=Ue,t(!(ct>>>(It=Oe).Xa)),k[at]=It.X[ct],ct=!0}ct||t(xe.h==U(xe))}if(x.Pb&&xe.h&&Ue<ne)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ye(x.s.vb,x.s.Wa);else{if(xe.h)break e;le!=null&&le(x,de>oe?oe:de),x.a=0,x.$=Ue-M}return 1}return x.a=3,0}function $e(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,t(x!=null)}function Ke(){var x=new Ed;return x==null?null:(x.a=0,x.xb=AP,St("Predictor","VP8LPredictors"),St("Predictor","VP8LPredictors_C"),St("PredictorAdd","VP8LPredictorsAdd"),St("PredictorAdd","VP8LPredictorsAdd_C"),ly=dt,Jf=wt,rs=et,ji=Bt,gu=Lt,tc=Gr,rc=Ne,A.VP8LMapColor32b=Od,A.VP8LMapColor8b=uy,x)}function Be(x,k,M,z,ne){var oe=1,le=[x],de=[k],me=z.m,xe=z.s,Pe=null,Ue=0;e:for(;;){if(M)for(;oe&&ae(me,1);){var ze=le,Re=de,st=z,Xe=1,Oe=st.m,De=st.gc[st.ab],tt=ae(Oe,2);if(st.Oc&1<<tt)oe=0;else{switch(st.Oc|=1<<tt,De.hc=tt,De.Ea=ze[0],De.nc=Re[0],De.K=[null],++st.ab,t(4>=st.ab),tt){case 0:case 1:De.b=ae(Oe,3)+2,Xe=Be(Ee(De.Ea,De.b),Ee(De.nc,De.b),0,st,De.K),De.K=De.K[0];break;case 3:var ct,at=ae(Oe,8)+1,It=16<at?0:4<at?1:2<at?2:3;if(ze[0]=Ee(De.Ea,It),De.b=It,ct=Xe=Be(at,1,0,st,De.K)){var Et,zt=at,Pt=De,$r=1<<(8>>Pt.b),Yr=i($r);if(Yr==null)ct=0;else{var jr=Pt.K[0],yr=Pt.w;for(Yr[0]=Pt.K[0][0],Et=1;Et<1*zt;++Et)Yr[Et]=Ce(jr[yr+Et],Yr[Et-1]);for(;Et<4*$r;++Et)Yr[Et]=0;Pt.K[0]=null,Pt.K[0]=Yr,ct=1}}Xe=ct;break;case 2:break;default:t(0)}oe=Xe}}if(le=le[0],de=de[0],oe&&ae(me,1)&&!(oe=1<=(Ue=ae(me,4))&&11>=Ue)){z.a=3;break e}var ln;if(ln=oe)t:{var rn,sr,sa,ns=z,oa=le,as=de,Xr=Ue,Ts=M,Es=ns.m,Pa=ns.s,Ha=[null],Mi=1,Js=0,xl=BK[Xr];r:for(;;){if(Ts&&ae(Es,1)){var Oa=ae(Es,3)+2,sc=Ee(oa,Oa),nh=Ee(as,Oa),Md=sc*nh;if(!Be(sc,nh,0,ns,Ha))break r;for(Ha=Ha[0],Pa.xc=Oa,rn=0;rn<Md;++rn){var wu=Ha[rn]>>8&65535;Ha[rn]=wu,wu>=Mi&&(Mi=wu+1)}}if(Es.h)break r;for(sr=0;5>sr;++sr){var Vn=_P[sr];!sr&&0<Xr&&(Vn+=1<<Xr),Js<Vn&&(Js=Vn)}var y_=s(Mi*xl,C),DP=Mi,jP=s(DP,H);if(jP==null)var _y=null;else t(65536>=DP),_y=jP;var Sm=i(Js);if(_y==null||Sm==null||y_==null){ns.a=1;break r}var Sy=y_;for(rn=sa=0;rn<Mi;++rn){var Do=_y[rn],Rd=Do.G,Fd=Do.H,LP=0,Ay=1,MP=0;for(sr=0;5>sr;++sr){Vn=_P[sr],Rd[sr]=Sy,Fd[sr]=sa,!sr&&0<Xr&&(Vn+=1<<Xr);a:{var Ty,x_=Vn,Ey=ns,Am=Sm,oY=Sy,lY=sa,b_=0,_u=Ey.m,cY=ae(_u,1);if(a(Am,0,0,x_),cY){var uY=ae(_u,1)+1,fY=ae(_u,1),RP=ae(_u,fY==0?1:8);Am[RP]=1,uY==2&&(Am[RP=ae(_u,8)]=1);var ky=1}else{var FP=i(19),$P=ae(_u,4)+4;if(19<$P){Ey.a=3;var Cy=0;break a}for(Ty=0;Ty<$P;++Ty)FP[FK[Ty]]=ae(_u,3);var w_=void 0,Tm=void 0,BP=Ey,hY=FP,Ny=x_,VP=Am,__=0,Su=BP.m,UP=8,zP=s(128,C);n:for(;E(zP,0,7,hY,19);){if(ae(Su,1)){var dY=2+2*ae(Su,3);if((w_=2+ae(Su,dY))>Ny)break n}else w_=Ny;for(Tm=0;Tm<Ny&&w_--;){G(Su);var qP=zP[0+(127&R(Su))];K(Su,Su.u+qP.g);var $d=qP.value;if(16>$d)VP[Tm++]=$d,$d!=0&&(UP=$d);else{var pY=$d==16,WP=$d-16,mY=MK[WP],HP=ae(Su,LK[WP])+mY;if(Tm+HP>Ny)break n;for(var gY=pY?UP:0;0<HP--;)VP[Tm++]=gY}}__=1;break n}__||(BP.a=3),ky=__}(ky=ky&&!_u.h)&&(b_=E(oY,lY,8,Am,x_)),ky&&b_!=0?Cy=b_:(Ey.a=3,Cy=0)}if(Cy==0)break r;if(Ay&&RK[sr]==1&&(Ay=Sy[sa].g==0),LP+=Sy[sa].g,sa+=Cy,3>=sr){var Em,S_=Sm[0];for(Em=1;Em<Vn;++Em)Sm[Em]>S_&&(S_=Sm[Em]);MP+=S_}}if(Do.nd=Ay,Do.Qb=0,Ay&&(Do.qb=(Rd[3][Fd[3]+0].value<<24|Rd[1][Fd[1]+0].value<<16|Rd[2][Fd[2]+0].value)>>>0,LP==0&&256>Rd[0][Fd[0]+0].value&&(Do.Qb=1,Do.qb+=Rd[0][Fd[0]+0].value<<8)),Do.jc=!Do.Qb&&6>MP,Do.jc){var Py,oc=Do;for(Py=0;Py<Wa;++Py){var Au=Py,Tu=oc.pd[Au],Oy=oc.G[0][oc.H[0]+Au];256<=Oy.value?(Tu.g=Oy.g+256,Tu.value=Oy.value):(Tu.g=0,Tu.value=0,Au>>=In(Oy,8,Tu),Au>>=In(oc.G[1][oc.H[1]+Au],16,Tu),Au>>=In(oc.G[2][oc.H[2]+Au],0,Tu),In(oc.G[3][oc.H[3]+Au],24,Tu))}}}Pa.vc=Ha,Pa.Wb=Mi,Pa.Ya=_y,Pa.yc=y_,ln=1;break t}ln=0}if(!(oe=ln)){z.a=3;break e}if(0<Ue){if(xe.ua=1<<Ue,!Se(xe.Wa,Ue)){z.a=1,oe=0;break e}}else xe.ua=0;var A_=z,GP=le,vY=de,T_=A_.s,E_=T_.xc;if(A_.c=GP,A_.i=vY,T_.md=Ee(GP,E_),T_.wc=E_==0?-1:(1<<E_)-1,M){z.xb=KK;break e}if((Pe=i(le*de))==null){z.a=1,oe=0;break e}oe=(oe=_e(z,Pe,0,le,de,de,null))&&!me.h;break e}return oe?(ne!=null?ne[0]=Pe:(t(Pe==null),t(M)),z.$=0,M||$e(xe)):$e(xe),oe}function Ve(x,k){var M=x.c*x.i,z=M+k+16*k;return t(x.c<=k),x.V=i(z),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+k,1)}function We(x,k){var M=x.C,z=k-M,ne=x.V,oe=x.Ba+x.c*M;for(t(k<=x.l.o);0<z;){var le=16<z?16:z,de=x.l.ma,me=x.l.width,xe=me*le,Pe=de.ca,Ue=de.tb+me*M,ze=x.Ta,Re=x.Ua;se(x,le,ne,oe),Qn(ze,Re,Pe,Ue,xe),ve(de,M,M+le,Pe,Ue,me),z-=le,ne+=le*x.c,M+=le}t(M==k),x.C=x.Ma=k}function ut(){this.ub=this.yd=this.td=this.Rb=0}function bt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Nt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function vt(){this.Yb=function(){var x=[];return function k(M,z,ne){for(var oe=ne[z],le=0;le<oe&&(M.push(ne.length>z+1?[]:0),!(ne.length<z+1));le++)k(M[le],z+1,ne)}(x,0,[3,11]),x}()}function At(){this.jb=i(3),this.Wc=o([4,8],vt),this.Xc=o([4,17],vt)}function Wt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Tr(){this.ld=this.La=this.dd=this.tc=0}function Er(){this.Na=this.la=0}function tn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ii(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ao(){this.uc=this.M=this.Nb=0,this.wa=Array(new Tr),this.Y=0,this.ya=Array(new Ii),this.aa=0,this.l=new bs}function xs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zi(){this.cb=this.a=0,this.sc="",this.m=new q,this.Od=new ut,this.Kc=new bt,this.ed=new Wt,this.Qa=new Nt,this.Ic=this.$c=this.Aa=0,this.D=new Ao,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,q),this.ia=0,this.pb=s(4,tn),this.Pa=new At,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xs),this.Hd=0,this.rb=Array(new Er),this.sb=0,this.wa=Array(new Tr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ii),this.L=this.aa=0,this.gd=o([4,2],Tr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ua(){var x=new Zi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,wm||(wm=xd)),x}function vn(x,k,M){return x.a==0&&(x.a=k,x.sc=M,x.cb=0),0}function Bf(x,k,M){return 3<=M&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function Vf(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return vn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,z=k.w,ne=k.ha;if(4>ne)return vn(x,7,"Truncated header.");var oe=M[z+0]|M[z+1]<<8|M[z+2]<<16,le=x.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return vn(x,3,"Incorrect keyframe parameters.");if(!le.yd)return vn(x,4,"Frame not displayable.");z+=3,ne-=3;var de=x.Kc;if(le.Rb){if(7>ne)return vn(x,7,"cannot parse picture header");if(!Bf(M,z,ne))return vn(x,3,"Bad code word");de.c=16383&(M[z+4]<<8|M[z+3]),de.Td=M[z+4]>>6,de.i=16383&(M[z+6]<<8|M[z+5]),de.Ud=M[z+6]>>6,z+=7,ne-=7,x.za=de.c+15>>4,x.Ub=de.i+15>>4,k.width=de.c,k.height=de.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((oe=x.Pa).jb,0,255,oe.jb.length),t((oe=x.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(le.ub>ne)return vn(x,7,"bad partition length");V(oe=x.m,M,z,le.ub),z+=le.ub,ne-=le.ub,le.Rb&&(de.Ld=ue(oe),de.Kd=ue(oe)),de=x.Qa;var me,xe=x.Pa;if(t(oe!=null),t(de!=null),de.Cb=ue(oe),de.Cb){if(de.Bb=ue(oe),ue(oe)){for(de.Fb=ue(oe),me=0;4>me;++me)de.Zb[me]=ue(oe)?ee(oe,7):0;for(me=0;4>me;++me)de.Lb[me]=ue(oe)?ee(oe,6):0}if(de.Bb)for(me=0;3>me;++me)xe.jb[me]=ue(oe)?Z(oe,8):255}else de.Bb=0;if(oe.Ka)return vn(x,3,"cannot parse segment header");if((de=x.ed).zd=ue(oe),de.Tb=Z(oe,6),de.wb=Z(oe,3),de.Pc=ue(oe),de.Pc&&ue(oe)){for(xe=0;4>xe;++xe)ue(oe)&&(de.vd[xe]=ee(oe,6));for(xe=0;4>xe;++xe)ue(oe)&&(de.od[xe]=ee(oe,6))}if(x.L=de.Tb==0?0:de.zd?1:2,oe.Ka)return vn(x,3,"cannot parse filter header");var Pe=ne;if(ne=me=z,z=me+Pe,de=Pe,x.Xb=(1<<Z(x.m,2))-1,Pe<3*(xe=x.Xb))M=7;else{for(me+=3*xe,de-=3*xe,Pe=0;Pe<xe;++Pe){var Ue=M[ne+0]|M[ne+1]<<8|M[ne+2]<<16;Ue>de&&(Ue=de),V(x.Jc[+Pe],M,me,Ue),me+=Ue,de-=Ue,ne+=3}V(x.Jc[+xe],M,me,de),M=me<z?0:5}if(M!=0)return vn(x,M,"cannot parse partitions");for(M=Z(me=x.m,7),ne=ue(me)?ee(me,4):0,z=ue(me)?ee(me,4):0,de=ue(me)?ee(me,4):0,xe=ue(me)?ee(me,4):0,me=ue(me)?ee(me,4):0,Pe=x.Qa,Ue=0;4>Ue;++Ue){if(Pe.Cb){var ze=Pe.Zb[Ue];Pe.Fb||(ze+=M)}else{if(0<Ue){x.pb[Ue]=x.pb[0];continue}ze=M}var Re=x.pb[Ue];Re.Sc[0]=m_[Wr(ze+ne,127)],Re.Sc[1]=g_[Wr(ze+0,127)],Re.Eb[0]=2*m_[Wr(ze+z,127)],Re.Eb[1]=101581*g_[Wr(ze+de,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=m_[Wr(ze+xe,117)],Re.Qc[1]=g_[Wr(ze+me,127)],Re.lc=ze+me}if(!le.Rb)return vn(x,4,"Not a key frame.");for(ue(oe),le=x.Pa,M=0;4>M;++M){for(ne=0;8>ne;++ne)for(z=0;3>z;++z)for(de=0;11>de;++de)xe=J(oe,HK[M][ne][z][de])?Z(oe,8):qK[M][ne][z][de],le.Wc[M][ne].Yb[z][de]=xe;for(ne=0;17>ne;++ne)le.Xc[M][ne]=le.Wc[M][GK[ne]]}return x.kc=ue(oe),x.kc&&(x.Bd=Z(oe,8)),x.cb=1}function xd(x,k,M,z,ne,oe,le){var de=k[ne].Yb[M];for(M=0;16>ne;++ne){if(!J(x,de[M+0]))return ne;for(;!J(x,de[M+1]);)if(de=k[++ne].Yb[0],M=0,ne==16)return 16;var me=k[ne+1].Yb;if(J(x,de[M+2])){var xe=x,Pe=0;if(J(xe,(ze=de)[(Ue=M)+3]))if(J(xe,ze[Ue+6])){for(de=0,Ue=2*(Pe=J(xe,ze[Ue+8]))+(ze=J(xe,ze[Ue+9+Pe])),Pe=0,ze=UK[Ue];ze[de];++de)Pe+=Pe+J(xe,ze[de]);Pe+=3+(8<<Ue)}else J(xe,ze[Ue+7])?(Pe=7+2*J(xe,165),Pe+=J(xe,145)):Pe=5+J(xe,159);else Pe=J(xe,ze[Ue+4])?3+J(xe,ze[Ue+5]):2;de=me[2]}else Pe=1,de=me[1];me=le+zK[ne],0>(xe=x).b&&ie(xe);var Ue,ze=xe.b,Re=(Ue=xe.Ca>>1)-(xe.I>>ze)>>31;--xe.b,xe.Ca+=Re,xe.Ca|=1,xe.I-=(Ue+1&Re)<<ze,oe[me]=((Pe^Re)-Re)*z[(0<ne)+0]}return 16}function Uf(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function bd(x,k){if(x==null)return 0;if(k==null)return vn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Vf(x,k))return 0;if(t(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var M=wy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-M>>4,x.zb=k.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+M>>4,x.Hb=k.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var z=x.ed;for(M=0;4>M;++M){var ne;if(x.Qa.Cb){var oe=x.Qa.Lb[M];x.Qa.Fb||(oe+=z.Tb)}else oe=z.Tb;for(ne=0;1>=ne;++ne){var le=x.gd[M][ne],de=oe;if(z.Pc&&(de+=z.vd[0],ne&&(de+=z.od[0])),0<(de=0>de?0:63<de?63:de)){var me=de;0<z.wb&&(me=4<z.wb?me>>2:me>>1)>9-z.wb&&(me=9-z.wb),1>me&&(me=1),le.dd=me,le.tc=2*de+me,le.ld=40<=de?2:15<=de?1:0}else le.tc=0;le.La=ne}}}M=0}else vn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=sY);e:{M=x.Ic,z=4*(me=x.za);var xe=32*me,Pe=me+1,Ue=0<x.L?me*(0<x.Aa?2:1):0,ze=(x.Aa==2?2:1)*me;if((le=z+832+(ne=3*(16*M+wy[x.L])/2*xe)+(oe=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=vn(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,de=x.Fc,x.Ac=le,x.Bc=de,de+=z,x.Gd=s(xe,xs),x.Hd=0,x.rb=s(Pe+1,Er),x.sb=1,x.wa=Ue?s(Ue,Tr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=me),t(!0),x.oc=le,x.pc=de,de+=832,x.ya=s(ze,Ii),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=me),x.R=16*me,x.B=8*me,me=(xe=wy[x.L])*x.R,xe=xe/2*x.B,x.sa=le,x.ta=de+me,x.qa=x.sa,x.ra=x.ta+16*M*x.R+xe,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+xe,x.$c=0,de+=ne,x.mb=oe?le:null,x.nb=oe?de:null,t(de+oe<=x.Fc+x.Vb),Uf(x),a(x.Ac,x.Bc,0,z),M=1}}if(M){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!hy){for(M=-255;255>=M;++M)ya[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ac[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)bm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Ld[255+M]=0>M?0:255<M?255:M;hy=1}Id=Xl,nc=eu,vm=zf,Li=Kr,Gs=Yl,Xn=Kl,Dd=ou,fy=No,ym=cu,Zf=Qf,eh=lu,vu=Jl,th=uu,jd=ml,rh=Ql,yu=Ss,xm=va,Ks=Td,Io[0]=Ws,Io[1]=um,Io[2]=dl,Io[3]=hm,Io[4]=Sd,Io[5]=nu,Io[6]=ws,Io[7]=Wf,Io[8]=iu,Io[9]=au,xu[0]=hl,xu[1]=fm,xu[2]=Eo,xu[3]=tu,xu[4]=yn,xu[5]=_d,xu[6]=qf,ic[0]=Co,ic[1]=wd,ic[2]=Ad,ic[3]=ko,ic[4]=qr,ic[5]=Hf,ic[6]=Gf,M=1}else M=0}M&&(M=function(Re,st){for(Re.M=0;Re.M<Re.Va;++Re.M){var Xe,Oe=Re.Jc[Re.M&Re.Xb],De=Re.m,tt=Re;for(Xe=0;Xe<tt.za;++Xe){var ct=De,at=tt,It=at.Ac,Et=at.Bc+4*Xe,zt=at.zc,Pt=at.ya[at.aa+Xe];if(at.Qa.Bb?Pt.$b=J(ct,at.Pa.jb[0])?2+J(ct,at.Pa.jb[2]):J(ct,at.Pa.jb[1]):Pt.$b=0,at.kc&&(Pt.Ad=J(ct,at.Bd)),Pt.Za=!J(ct,145)+0,Pt.Za){var $r=Pt.Ob,Yr=0;for(at=0;4>at;++at){var jr,yr=zt[0+at];for(jr=0;4>jr;++jr){yr=WK[It[Et+jr]][yr];for(var ln=SP[J(ct,yr[0])];0<ln;)ln=SP[2*ln+J(ct,yr[ln])];yr=-ln,It[Et+jr]=yr}n($r,Yr,It,Et,4),Yr+=4,zt[0+at]=yr}}else yr=J(ct,156)?J(ct,128)?1:3:J(ct,163)?2:0,Pt.Ob[0]=yr,a(It,Et,yr,4),a(zt,0,yr,4);Pt.Dd=J(ct,142)?J(ct,114)?J(ct,183)?1:3:2:0}if(tt.m.Ka)return vn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(tt=Oe,ct=(De=Re).rb[De.sb-1],It=De.rb[De.sb+De.ja],Xe=De.ya[De.aa+De.ja],Et=De.kc?Xe.Ad:0)ct.la=It.la=0,Xe.Za||(ct.Na=It.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var rn,sr;if(ct=It,It=tt,Et=De.Pa.Xc,zt=De.ya[De.aa+De.ja],Pt=De.pb[zt.$b],at=zt.ad,$r=0,Yr=De.rb[De.sb-1],yr=jr=0,a(at,$r,0,384),zt.Za)var sa=0,ns=Et[3];else{ln=i(16);var oa=ct.Na+Yr.Na;if(oa=wm(It,Et[1],oa,Pt.Eb,0,ln,0),ct.Na=Yr.Na=(0<oa)+0,1<oa)Id(ln,0,at,$r);else{var as=ln[0]+3>>3;for(ln=0;256>ln;ln+=16)at[$r+ln]=as}sa=1,ns=Et[0]}var Xr=15&ct.la,Ts=15&Yr.la;for(ln=0;4>ln;++ln){var Es=1&Ts;for(as=sr=0;4>as;++as)Xr=Xr>>1|(Es=(oa=wm(It,ns,oa=Es+(1&Xr),Pt.Sc,sa,at,$r))>sa)<<7,sr=sr<<2|(3<oa?3:1<oa?2:at[$r+0]!=0),$r+=16;Xr>>=4,Ts=Ts>>1|Es<<7,jr=(jr<<8|sr)>>>0}for(ns=Xr,sa=Ts>>4,rn=0;4>rn;rn+=2){for(sr=0,Xr=ct.la>>4+rn,Ts=Yr.la>>4+rn,ln=0;2>ln;++ln){for(Es=1&Ts,as=0;2>as;++as)oa=Es+(1&Xr),Xr=Xr>>1|(Es=0<(oa=wm(It,Et[2],oa,Pt.Qc,0,at,$r)))<<3,sr=sr<<2|(3<oa?3:1<oa?2:at[$r+0]!=0),$r+=16;Xr>>=2,Ts=Ts>>1|Es<<5}yr|=sr<<4*rn,ns|=Xr<<4<<rn,sa|=(240&Ts)<<rn}ct.la=ns,Yr.la=sa,zt.Hc=jr,zt.Gc=yr,zt.ia=43690&yr?0:Pt.ia,Et=!(jr|yr)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Xe.$b][Xe.Za],De.wa[De.Y+De.ja].La|=!Et),tt.Ka)return vn(Re,7,"Premature end-of-file encountered.")}if(Uf(Re),De=st,tt=1,Xe=(Oe=Re).D,ct=0<Oe.L&&Oe.M>=Oe.zb&&Oe.M<=Oe.Va,Oe.Aa==0)e:{if(Xe.M=Oe.M,Xe.uc=ct,vl(Oe,Xe),tt=1,Xe=(sr=Oe.D).Nb,ct=(yr=wy[Oe.L])*Oe.R,It=yr/2*Oe.B,ln=16*Xe*Oe.R,as=8*Xe*Oe.B,Et=Oe.sa,zt=Oe.ta-ct+ln,Pt=Oe.qa,at=Oe.ra-It+as,$r=Oe.Ha,Yr=Oe.Ia-It+as,Ts=(Xr=sr.M)==0,jr=Xr>=Oe.Va-1,Oe.Aa==2&&vl(Oe,sr),sr.uc)for(Es=(oa=Oe).D.M,t(oa.D.uc),sr=oa.yb;sr<oa.Hb;++sr){sa=sr,ns=Es;var Pa=(Ha=(Vn=oa).D).Nb;rn=Vn.R;var Ha=Ha.wa[Ha.Y+sa],Mi=Vn.sa,Js=Vn.ta+16*Pa*rn+16*sa,xl=Ha.dd,Oa=Ha.tc;if(Oa!=0)if(t(3<=Oa),Vn.L==1)0<sa&&yu(Mi,Js,rn,Oa+4),Ha.La&&Ks(Mi,Js,rn,Oa),0<ns&&rh(Mi,Js,rn,Oa+4),Ha.La&&xm(Mi,Js,rn,Oa);else{var sc=Vn.B,nh=Vn.qa,Md=Vn.ra+8*Pa*sc+8*sa,wu=Vn.Ha,Vn=Vn.Ia+8*Pa*sc+8*sa;Pa=Ha.ld,0<sa&&(fy(Mi,Js,rn,Oa+4,xl,Pa),Zf(nh,Md,wu,Vn,sc,Oa+4,xl,Pa)),Ha.La&&(vu(Mi,Js,rn,Oa,xl,Pa),jd(nh,Md,wu,Vn,sc,Oa,xl,Pa)),0<ns&&(Dd(Mi,Js,rn,Oa+4,xl,Pa),ym(nh,Md,wu,Vn,sc,Oa+4,xl,Pa)),Ha.La&&(eh(Mi,Js,rn,Oa,xl,Pa),th(nh,Md,wu,Vn,sc,Oa,xl,Pa))}}if(Oe.ia&&alert("todo:DitherRow"),De.put!=null){if(sr=16*Xr,Xr=16*(Xr+1),Ts?(De.y=Oe.sa,De.O=Oe.ta+ln,De.f=Oe.qa,De.N=Oe.ra+as,De.ea=Oe.Ha,De.W=Oe.Ia+as):(sr-=yr,De.y=Et,De.O=zt,De.f=Pt,De.N=at,De.ea=$r,De.W=Yr),jr||(Xr-=yr),Xr>De.o&&(Xr=De.o),De.F=null,De.J=null,Oe.Fa!=null&&0<Oe.Fa.length&&sr<Xr&&(De.J=pu(Oe,De,sr,Xr-sr),De.F=Oe.mb,De.F==null&&De.F.length==0)){tt=vn(Oe,3,"Could not decode alpha data.");break e}sr<De.j&&(yr=De.j-sr,sr=De.j,t(!(1&yr)),De.O+=Oe.R*yr,De.N+=Oe.B*(yr>>1),De.W+=Oe.B*(yr>>1),De.F!=null&&(De.J+=De.width*yr)),sr<Xr&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=sr-De.j,De.U=De.va-De.v,De.T=Xr-sr,tt=De.put(De))}Xe+1!=Oe.Ic||jr||(n(Oe.sa,Oe.ta-ct,Et,zt+16*Oe.R,ct),n(Oe.qa,Oe.ra-It,Pt,at+8*Oe.B,It),n(Oe.Ha,Oe.Ia-It,$r,Yr+8*Oe.B,It))}if(!tt)return vn(Re,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),M&=1}return M?(x.cb=0,M):0}function es(x,k,M,z,ne){ne=x[k+M+32*z]+(ne>>3),x[k+M+32*z]=-256&ne?0>ne?0:255:ne}function Zc(x,k,M,z,ne,oe){es(x,k,0,M,z+ne),es(x,k,1,M,z+oe),es(x,k,2,M,z-oe),es(x,k,3,M,z-ne)}function Bn(x){return(20091*x>>16)+x}function Di(x,k,M,z){var ne,oe=0,le=i(16);for(ne=0;4>ne;++ne){var de=x[k+0]+x[k+8],me=x[k+0]-x[k+8],xe=(35468*x[k+4]>>16)-Bn(x[k+12]),Pe=Bn(x[k+4])+(35468*x[k+12]>>16);le[oe+0]=de+Pe,le[oe+1]=me+xe,le[oe+2]=me-xe,le[oe+3]=de-Pe,oe+=4,k++}for(ne=oe=0;4>ne;++ne)de=(x=le[oe+0]+4)+le[oe+8],me=x-le[oe+8],xe=(35468*le[oe+4]>>16)-Bn(le[oe+12]),es(M,z,0,0,de+(Pe=Bn(le[oe+4])+(35468*le[oe+12]>>16))),es(M,z,1,0,me+xe),es(M,z,2,0,me-xe),es(M,z,3,0,de-Pe),oe++,z+=32}function Kl(x,k,M,z){var ne=x[k+0]+4,oe=35468*x[k+4]>>16,le=Bn(x[k+4]),de=35468*x[k+1]>>16;Zc(M,z,0,ne+le,x=Bn(x[k+1]),de),Zc(M,z,1,ne+oe,x,de),Zc(M,z,2,ne-oe,x,de),Zc(M,z,3,ne-le,x,de)}function eu(x,k,M,z,ne){Di(x,k,M,z),ne&&Di(x,k+16,M,z+4)}function zf(x,k,M,z){nc(x,k+0,M,z,1),nc(x,k+32,M,z+128,1)}function Kr(x,k,M,z){var ne;for(x=x[k+0]+4,ne=0;4>ne;++ne)for(k=0;4>k;++k)es(M,z,k,ne,x)}function Yl(x,k,M,z){x[k+0]&&Li(x,k+0,M,z),x[k+16]&&Li(x,k+16,M,z+4),x[k+32]&&Li(x,k+32,M,z+128),x[k+48]&&Li(x,k+48,M,z+128+4)}function Xl(x,k,M,z){var ne,oe=i(16);for(ne=0;4>ne;++ne){var le=x[k+0+ne]+x[k+12+ne],de=x[k+4+ne]+x[k+8+ne],me=x[k+4+ne]-x[k+8+ne],xe=x[k+0+ne]-x[k+12+ne];oe[0+ne]=le+de,oe[8+ne]=le-de,oe[4+ne]=xe+me,oe[12+ne]=xe-me}for(ne=0;4>ne;++ne)le=(x=oe[0+4*ne]+3)+oe[3+4*ne],de=oe[1+4*ne]+oe[2+4*ne],me=oe[1+4*ne]-oe[2+4*ne],xe=x-oe[3+4*ne],M[z+0]=le+de>>3,M[z+16]=xe+me>>3,M[z+32]=le-de>>3,M[z+48]=xe-me>>3,z+=64}function To(x,k,M){var z,ne=k-32,oe=As,le=255-x[ne-1];for(z=0;z<M;++z){var de,me=oe,xe=le+x[k-1];for(de=0;de<M;++de)x[k+de]=me[xe+x[ne+de]];k+=32}}function um(x,k){To(x,k,4)}function wd(x,k){To(x,k,8)}function fm(x,k){To(x,k,16)}function Eo(x,k){var M;for(M=0;16>M;++M)n(x,k+32*M,x,k-32,16)}function tu(x,k){var M;for(M=16;0<M;--M)a(x,k,x[k-1],16),k+=32}function ru(x,k,M){var z;for(z=0;16>z;++z)a(k,M+32*z,x,16)}function hl(x,k){var M,z=16;for(M=0;16>M;++M)z+=x[k-1+32*M]+x[k+M-32];ru(z>>5,x,k)}function yn(x,k){var M,z=8;for(M=0;16>M;++M)z+=x[k-1+32*M];ru(z>>4,x,k)}function _d(x,k){var M,z=8;for(M=0;16>M;++M)z+=x[k+M-32];ru(z>>4,x,k)}function qf(x,k){ru(128,x,k)}function Xt(x,k,M){return x+2*k+M+2>>2}function dl(x,k){var M,z=k-32;for(z=new Uint8Array([Xt(x[z-1],x[z+0],x[z+1]),Xt(x[z+0],x[z+1],x[z+2]),Xt(x[z+1],x[z+2],x[z+3]),Xt(x[z+2],x[z+3],x[z+4])]),M=0;4>M;++M)n(x,k+32*M,z,0,z.length)}function hm(x,k){var M=x[k-1],z=x[k-1+32],ne=x[k-1+64],oe=x[k-1+96];ce(x,k+0,16843009*Xt(x[k-1-32],M,z)),ce(x,k+32,16843009*Xt(M,z,ne)),ce(x,k+64,16843009*Xt(z,ne,oe)),ce(x,k+96,16843009*Xt(ne,oe,oe))}function Ws(x,k){var M,z=4;for(M=0;4>M;++M)z+=x[k+M-32]+x[k-1+32*M];for(z>>=3,M=0;4>M;++M)a(x,k+32*M,z,4)}function Sd(x,k){var M=x[k-1+0],z=x[k-1+32],ne=x[k-1+64],oe=x[k-1-32],le=x[k+0-32],de=x[k+1-32],me=x[k+2-32],xe=x[k+3-32];x[k+0+96]=Xt(z,ne,x[k-1+96]),x[k+1+96]=x[k+0+64]=Xt(M,z,ne),x[k+2+96]=x[k+1+64]=x[k+0+32]=Xt(oe,M,z),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=Xt(le,oe,M),x[k+3+64]=x[k+2+32]=x[k+1+0]=Xt(de,le,oe),x[k+3+32]=x[k+2+0]=Xt(me,de,le),x[k+3+0]=Xt(xe,me,de)}function ws(x,k){var M=x[k+1-32],z=x[k+2-32],ne=x[k+3-32],oe=x[k+4-32],le=x[k+5-32],de=x[k+6-32],me=x[k+7-32];x[k+0+0]=Xt(x[k+0-32],M,z),x[k+1+0]=x[k+0+32]=Xt(M,z,ne),x[k+2+0]=x[k+1+32]=x[k+0+64]=Xt(z,ne,oe),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=Xt(ne,oe,le),x[k+3+32]=x[k+2+64]=x[k+1+96]=Xt(oe,le,de),x[k+3+64]=x[k+2+96]=Xt(le,de,me),x[k+3+96]=Xt(de,me,me)}function nu(x,k){var M=x[k-1+0],z=x[k-1+32],ne=x[k-1+64],oe=x[k-1-32],le=x[k+0-32],de=x[k+1-32],me=x[k+2-32],xe=x[k+3-32];x[k+0+0]=x[k+1+64]=oe+le+1>>1,x[k+1+0]=x[k+2+64]=le+de+1>>1,x[k+2+0]=x[k+3+64]=de+me+1>>1,x[k+3+0]=me+xe+1>>1,x[k+0+96]=Xt(ne,z,M),x[k+0+64]=Xt(z,M,oe),x[k+0+32]=x[k+1+96]=Xt(M,oe,le),x[k+1+32]=x[k+2+96]=Xt(oe,le,de),x[k+2+32]=x[k+3+96]=Xt(le,de,me),x[k+3+32]=Xt(de,me,xe)}function Wf(x,k){var M=x[k+0-32],z=x[k+1-32],ne=x[k+2-32],oe=x[k+3-32],le=x[k+4-32],de=x[k+5-32],me=x[k+6-32],xe=x[k+7-32];x[k+0+0]=M+z+1>>1,x[k+1+0]=x[k+0+64]=z+ne+1>>1,x[k+2+0]=x[k+1+64]=ne+oe+1>>1,x[k+3+0]=x[k+2+64]=oe+le+1>>1,x[k+0+32]=Xt(M,z,ne),x[k+1+32]=x[k+0+96]=Xt(z,ne,oe),x[k+2+32]=x[k+1+96]=Xt(ne,oe,le),x[k+3+32]=x[k+2+96]=Xt(oe,le,de),x[k+3+64]=Xt(le,de,me),x[k+3+96]=Xt(de,me,xe)}function au(x,k){var M=x[k-1+0],z=x[k-1+32],ne=x[k-1+64],oe=x[k-1+96];x[k+0+0]=M+z+1>>1,x[k+2+0]=x[k+0+32]=z+ne+1>>1,x[k+2+32]=x[k+0+64]=ne+oe+1>>1,x[k+1+0]=Xt(M,z,ne),x[k+3+0]=x[k+1+32]=Xt(z,ne,oe),x[k+3+32]=x[k+1+64]=Xt(ne,oe,oe),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=oe}function iu(x,k){var M=x[k-1+0],z=x[k-1+32],ne=x[k-1+64],oe=x[k-1+96],le=x[k-1-32],de=x[k+0-32],me=x[k+1-32],xe=x[k+2-32];x[k+0+0]=x[k+2+32]=M+le+1>>1,x[k+0+32]=x[k+2+64]=z+M+1>>1,x[k+0+64]=x[k+2+96]=ne+z+1>>1,x[k+0+96]=oe+ne+1>>1,x[k+3+0]=Xt(de,me,xe),x[k+2+0]=Xt(le,de,me),x[k+1+0]=x[k+3+32]=Xt(M,le,de),x[k+1+32]=x[k+3+64]=Xt(z,M,le),x[k+1+64]=x[k+3+96]=Xt(ne,z,M),x[k+1+96]=Xt(oe,ne,z)}function Ad(x,k){var M;for(M=0;8>M;++M)n(x,k+32*M,x,k-32,8)}function ko(x,k){var M;for(M=0;8>M;++M)a(x,k,x[k-1],8),k+=32}function _s(x,k,M){var z;for(z=0;8>z;++z)a(k,M+32*z,x,8)}function Co(x,k){var M,z=8;for(M=0;8>M;++M)z+=x[k+M-32]+x[k-1+32*M];_s(z>>4,x,k)}function Hf(x,k){var M,z=4;for(M=0;8>M;++M)z+=x[k+M-32];_s(z>>3,x,k)}function qr(x,k){var M,z=4;for(M=0;8>M;++M)z+=x[k-1+32*M];_s(z>>3,x,k)}function Gf(x,k){_s(128,x,k)}function su(x,k,M){var z=x[k-M],ne=x[k+0],oe=3*(ne-z)+u_[1020+x[k-2*M]-x[k+M]],le=dy[112+(oe+4>>3)];x[k-M]=As[255+z+dy[112+(oe+3>>3)]],x[k+0]=As[255+ne-le]}function Kf(x,k,M,z){var ne=x[k+0],oe=x[k+M];return Xs[255+x[k-2*M]-x[k-M]]>z||Xs[255+oe-ne]>z}function Yf(x,k,M,z){return 4*Xs[255+x[k-M]-x[k+0]]+Xs[255+x[k-2*M]-x[k+M]]<=z}function Xf(x,k,M,z,ne){var oe=x[k-3*M],le=x[k-2*M],de=x[k-M],me=x[k+0],xe=x[k+M],Pe=x[k+2*M],Ue=x[k+3*M];return 4*Xs[255+de-me]+Xs[255+le-xe]>z?0:Xs[255+x[k-4*M]-oe]<=ne&&Xs[255+oe-le]<=ne&&Xs[255+le-de]<=ne&&Xs[255+Ue-Pe]<=ne&&Xs[255+Pe-xe]<=ne&&Xs[255+xe-me]<=ne}function Ql(x,k,M,z){var ne=2*z+1;for(z=0;16>z;++z)Yf(x,k+z,M,ne)&&su(x,k+z,M)}function Ss(x,k,M,z){var ne=2*z+1;for(z=0;16>z;++z)Yf(x,k+z*M,1,ne)&&su(x,k+z*M,1)}function va(x,k,M,z){var ne;for(ne=3;0<ne;--ne)Ql(x,k+=4*M,M,z)}function Td(x,k,M,z){var ne;for(ne=3;0<ne;--ne)Ss(x,k+=4,M,z)}function pl(x,k,M,z,ne,oe,le,de){for(oe=2*oe+1;0<ne--;){if(Xf(x,k,M,oe,le))if(Kf(x,k,M,de))su(x,k,M);else{var me=x,xe=k,Pe=M,Ue=me[xe-2*Pe],ze=me[xe-Pe],Re=me[xe+0],st=me[xe+Pe],Xe=me[xe+2*Pe],Oe=27*(tt=u_[1020+3*(Re-ze)+u_[1020+Ue-st]])+63>>7,De=18*tt+63>>7,tt=9*tt+63>>7;me[xe-3*Pe]=As[255+me[xe-3*Pe]+tt],me[xe-2*Pe]=As[255+Ue+De],me[xe-Pe]=As[255+ze+Oe],me[xe+0]=As[255+Re-Oe],me[xe+Pe]=As[255+st-De],me[xe+2*Pe]=As[255+Xe-tt]}k+=z}}function za(x,k,M,z,ne,oe,le,de){for(oe=2*oe+1;0<ne--;){if(Xf(x,k,M,oe,le))if(Kf(x,k,M,de))su(x,k,M);else{var me=x,xe=k,Pe=M,Ue=me[xe-Pe],ze=me[xe+0],Re=me[xe+Pe],st=dy[112+((Xe=3*(ze-Ue))+4>>3)],Xe=dy[112+(Xe+3>>3)],Oe=st+1>>1;me[xe-2*Pe]=As[255+me[xe-2*Pe]+Oe],me[xe-Pe]=As[255+Ue+Xe],me[xe+0]=As[255+ze-st],me[xe+Pe]=As[255+Re-Oe]}k+=z}}function ou(x,k,M,z,ne,oe){pl(x,k,M,1,16,z,ne,oe)}function No(x,k,M,z,ne,oe){pl(x,k,1,M,16,z,ne,oe)}function lu(x,k,M,z,ne,oe){var le;for(le=3;0<le;--le)za(x,k+=4*M,M,1,16,z,ne,oe)}function Jl(x,k,M,z,ne,oe){var le;for(le=3;0<le;--le)za(x,k+=4,1,M,16,z,ne,oe)}function cu(x,k,M,z,ne,oe,le,de){pl(x,k,ne,1,8,oe,le,de),pl(M,z,ne,1,8,oe,le,de)}function Qf(x,k,M,z,ne,oe,le,de){pl(x,k,1,ne,8,oe,le,de),pl(M,z,1,ne,8,oe,le,de)}function uu(x,k,M,z,ne,oe,le,de){za(x,k+4*ne,ne,1,8,oe,le,de),za(M,z+4*ne,ne,1,8,oe,le,de)}function ml(x,k,M,z,ne,oe,le,de){za(x,k+4,1,ne,8,oe,le,de),za(M,z+4,1,ne,8,oe,le,de)}function Zl(){this.ba=new Ir,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function fu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ec(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hu(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new H,this.yc=new C}function Ed(){this.xb=this.a=0,this.l=new bs,this.ca=new Ir,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hu,this.ab=0,this.gc=s(4,ec),this.Oc=0}function Po(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gl(x,k,M,z,ne,oe,le){for(x=x==null?0:x[k+0],k=0;k<le;++k)ne[oe+k]=x+M[z+k]&255,x=ne[oe+k]}function du(x,k,M,z,ne,oe,le){var de;if(x==null)gl(null,null,M,z,ne,oe,le);else for(de=0;de<le;++de)ne[oe+de]=x[k+de]+M[z+de]&255}function oi(x,k,M,z,ne,oe,le){if(x==null)gl(null,null,M,z,ne,oe,le);else{var de,me=x[k+0],xe=me,Pe=me;for(de=0;de<le;++de)xe=Pe+(me=x[k+de])-xe,Pe=M[z+de]+(-256&xe?0>xe?0:255:xe)&255,xe=me,ne[oe+de]=Pe}}function pu(x,k,M,z){var ne=k.width,oe=k.o;if(t(x!=null&&k!=null),0>M||0>=z||M+z>oe)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new Po,(le=x.ga==null)||(le=k.width*k.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var de=x.Fa,me=x.P,xe=x.qc,Pe=x.mb,Ue=x.nb,ze=me+1,Re=xe-1,st=le.l;if(t(de!=null&&Pe!=null&&k!=null),bu[0]=null,bu[1]=gl,bu[2]=du,bu[3]=oi,le.ca=Pe,le.tb=Ue,le.c=k.width,le.i=k.height,t(0<le.c&&0<le.i),1>=xe)k=0;else if(le.$a=de[me+0]>>0&3,le.Z=de[me+0]>>2&3,le.Lc=de[me+0]>>4&3,me=de[me+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||me)k=0;else if(st.put=Na,st.ac=Fn,st.bc=Oi,st.ma=le,st.width=k.width,st.height=k.height,st.Da=k.Da,st.v=k.v,st.va=k.va,st.j=k.j,st.o=k.o,le.$a)e:{t(le.$a==1),k=Ke();t:for(;;){if(k==null){k=0;break e}if(t(le!=null),le.mc=k,k.c=le.c,k.i=le.i,k.l=le.l,k.l.ma=le,k.l.width=le.c,k.l.height=le.i,k.a=0,W(k.m,de,ze,Re),!Be(le.c,le.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&ge(k.s)?(le.ic=1,de=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(de),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(le.ic=0,k=Ve(k,le.c)),!k))break t;k=1;break e}le.mc=null,k=0}else k=Re>=le.c*le.i;le=!k}if(le)return null;x.ga.Lc!=1?x.Ga=0:z=oe-M}t(x.ga!=null),t(M+z<=oe);e:{if(k=(de=x.ga).c,oe=de.l.o,de.$a==0){if(ze=x.rc,Re=x.Vc,st=x.Fa,me=x.P+1+M*k,xe=x.mb,Pe=x.nb+M*k,t(me<=x.P+x.qc),de.Z!=0)for(t(bu[de.Z]!=null),le=0;le<z;++le)bu[de.Z](ze,Re,st,me,xe,Pe,k),ze=xe,Re=Pe,Pe+=k,me+=k;else for(le=0;le<z;++le)n(xe,Pe,st,me,k),ze=xe,Re=Pe,Pe+=k,me+=k;x.rc=ze,x.Vc=Re}else{if(t(de.mc!=null),k=M+z,t((le=de.mc)!=null),t(k<=le.i),le.C>=k)k=1;else if(de.ic||Me(),de.ic){de=le.V,ze=le.Ba,Re=le.c;var Xe=le.i,Oe=(st=1,me=le.$/Re,xe=le.$%Re,Pe=le.m,Ue=le.s,le.$),De=Re*Xe,tt=Re*k,ct=Ue.wc,at=Oe<tt?Tn(Ue,xe,me):null;t(Oe<=De),t(k<=Xe),t(ge(Ue));t:for(;;){for(;!Pe.h&&Oe<tt;){if(xe&ct||(at=Tn(Ue,xe,me)),t(at!=null),G(Pe),256>(Xe=$n(at.G[0],at.H[0],Pe)))de[ze+Oe]=Xe,++Oe,++xe>=Re&&(xe=0,++me<=k&&!(me%16)&&be(le,me));else{if(!(280>Xe)){st=0;break t}Xe=si(Xe-256,Pe);var It,Et=$n(at.G[4],at.H[4],Pe);if(G(Pe),!(Oe>=(Et=ia(Re,Et=si(Et,Pe)))&&De-Oe>=Xe)){st=0;break t}for(It=0;It<Xe;++It)de[ze+Oe+It]=de[ze+Oe+It-Et];for(Oe+=Xe,xe+=Xe;xe>=Re;)xe-=Re,++me<=k&&!(me%16)&&be(le,me);Oe<tt&&xe&ct&&(at=Tn(Ue,xe,me))}t(Pe.h==U(Pe))}be(le,me>k?k:me);break t}!st||Pe.h&&Oe<De?(st=0,le.a=Pe.h?5:3):le.$=Oe,k=st}else k=_e(le,le.V,le.Ba,le.c,le.i,k,We);if(!k){z=0;break e}}M+z>=oe&&(x.Cc=1),z=1}if(!z)return null;if(x.Cc&&((z=x.ga)!=null&&(z.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ne}function j(x,k,M,z,ne,oe){for(;0<ne--;){var le,de=x,me=k+(M?1:0),xe=x,Pe=k+(M?0:3);for(le=0;le<z;++le){var Ue=xe[Pe+4*le];Ue!=255&&(Ue*=32897,de[me+4*le+0]=de[me+4*le+0]*Ue>>23,de[me+4*le+1]=de[me+4*le+1]*Ue>>23,de[me+4*le+2]=de[me+4*le+2]*Ue>>23)}k+=oe}}function re(x,k,M,z,ne){for(;0<z--;){var oe;for(oe=0;oe<M;++oe){var le=x[k+2*oe+0],de=15&(xe=x[k+2*oe+1]),me=4369*de,xe=(240&xe|xe>>4)*me>>16;x[k+2*oe+0]=(240&le|le>>4)*me>>16&240|(15&le|le<<4)*me>>16>>4&15,x[k+2*oe+1]=240&xe|de}k+=ne}}function Ae(x,k,M,z,ne,oe,le,de){var me,xe,Pe=255;for(xe=0;xe<ne;++xe){for(me=0;me<z;++me){var Ue=x[k+me];oe[le+4*me]=Ue,Pe&=Ue}k+=M,le+=de}return Pe!=255}function ke(x,k,M,z,ne){var oe;for(oe=0;oe<ne;++oe)M[z+oe]=x[k+oe]>>8}function Me(){Ys=j,fn=re,hn=Ae,Qn=ke}function Qe(x,k,M){A[x]=function(z,ne,oe,le,de,me,xe,Pe,Ue,ze,Re,st,Xe,Oe,De,tt,ct){var at,It=ct-1>>1,Et=de[me+0]|xe[Pe+0]<<16,zt=Ue[ze+0]|Re[st+0]<<16;t(z!=null);var Pt=3*Et+zt+131074>>2;for(k(z[ne+0],255&Pt,Pt>>16,Xe,Oe),oe!=null&&(Pt=3*zt+Et+131074>>2,k(oe[le+0],255&Pt,Pt>>16,De,tt)),at=1;at<=It;++at){var $r=de[me+at]|xe[Pe+at]<<16,Yr=Ue[ze+at]|Re[st+at]<<16,jr=Et+$r+zt+Yr+524296,yr=jr+2*($r+zt)>>3;Pt=yr+Et>>1,Et=(jr=jr+2*(Et+Yr)>>3)+$r>>1,k(z[ne+2*at-1],255&Pt,Pt>>16,Xe,Oe+(2*at-1)*M),k(z[ne+2*at-0],255&Et,Et>>16,Xe,Oe+(2*at-0)*M),oe!=null&&(Pt=jr+zt>>1,Et=yr+Yr>>1,k(oe[le+2*at-1],255&Pt,Pt>>16,De,tt+(2*at-1)*M),k(oe[le+2*at+0],255&Et,Et>>16,De,tt+(2*at+0)*M)),Et=$r,zt=Yr}1&ct||(Pt=3*Et+zt+131074>>2,k(z[ne+ct-1],255&Pt,Pt>>16,Xe,Oe+(ct-1)*M),oe!=null&&(Pt=3*zt+Et+131074>>2,k(oe[le+ct-1],255&Pt,Pt>>16,De,tt+(ct-1)*M)))}}function ft(){Qs[py]=YK,Qs[my]=TP,Qs[bP]=XK,Qs[gy]=EP,Qs[vy]=kP,Qs[f_]=CP,Qs[wP]=QK,Qs[h_]=TP,Qs[d_]=EP,Qs[yy]=kP,Qs[p_]=CP}function kt(x){return x&~JK?0>x?0:255:x>>NP}function S(x,k){return kt((19077*x>>8)+(26149*k>>8)-14234)}function F(x,k,M){return kt((19077*x>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function X(x,k){return kt((19077*x>>8)+(33050*k>>8)-17685)}function he(x,k,M,z,ne){z[ne+0]=S(x,M),z[ne+1]=F(x,k,M),z[ne+2]=X(x,k)}function Le(x,k,M,z,ne){z[ne+0]=X(x,k),z[ne+1]=F(x,k,M),z[ne+2]=S(x,M)}function qe(x,k,M,z,ne){var oe=F(x,k,M);k=oe<<3&224|X(x,k)>>3,z[ne+0]=248&S(x,M)|oe>>5,z[ne+1]=k}function ht(x,k,M,z,ne){var oe=240&X(x,k)|15;z[ne+0]=240&S(x,M)|F(x,k,M)>>4,z[ne+1]=oe}function rr(x,k,M,z,ne){z[ne+0]=255,he(x,k,M,z,ne+1)}function vr(x,k,M,z,ne){Le(x,k,M,z,ne),z[ne+3]=255}function nr(x,k,M,z,ne){he(x,k,M,z,ne),z[ne+3]=255}function Wr(x,k){return 0>x?0:x>k?k:x}function on(x,k,M){A[x]=function(z,ne,oe,le,de,me,xe,Pe,Ue){for(var ze=Pe+(-2&Ue)*M;Pe!=ze;)k(z[ne+0],oe[le+0],de[me+0],xe,Pe),k(z[ne+1],oe[le+0],de[me+0],xe,Pe+M),ne+=2,++le,++me,Pe+=2*M;1&Ue&&k(z[ne+0],oe[le+0],de[me+0],xe,Pe)}}function Oo(x,k,M){return M==0?x==0?k==0?6:5:k==0?4:0:M}function qa(x,k,M,z,ne){switch(x>>>30){case 3:nc(k,M,z,ne,0);break;case 2:Xn(k,M,z,ne);break;case 1:Li(k,M,z,ne)}}function vl(x,k){var M,z,ne=k.M,oe=k.Nb,le=x.oc,de=x.pc+40,me=x.oc,xe=x.pc+584,Pe=x.oc,Ue=x.pc+600;for(M=0;16>M;++M)le[de+32*M-1]=129;for(M=0;8>M;++M)me[xe+32*M-1]=129,Pe[Ue+32*M-1]=129;for(0<ne?le[de-1-32]=me[xe-1-32]=Pe[Ue-1-32]=129:(a(le,de-32-1,127,21),a(me,xe-32-1,127,9),a(Pe,Ue-32-1,127,9)),z=0;z<x.za;++z){var ze=k.ya[k.aa+z];if(0<z){for(M=-1;16>M;++M)n(le,de+32*M-4,le,de+32*M+12,4);for(M=-1;8>M;++M)n(me,xe+32*M-4,me,xe+32*M+4,4),n(Pe,Ue+32*M-4,Pe,Ue+32*M+4,4)}var Re=x.Gd,st=x.Hd+z,Xe=ze.ad,Oe=ze.Hc;if(0<ne&&(n(le,de-32,Re[st].y,0,16),n(me,xe-32,Re[st].f,0,8),n(Pe,Ue-32,Re[st].ea,0,8)),ze.Za){var De=le,tt=de-32+16;for(0<ne&&(z>=x.za-1?a(De,tt,Re[st].y[15],4):n(De,tt,Re[st+1].y,0,4)),M=0;4>M;M++)De[tt+128+M]=De[tt+256+M]=De[tt+384+M]=De[tt+0+M];for(M=0;16>M;++M,Oe<<=2)De=le,tt=de+OP[M],Io[ze.Ob[M]](De,tt),qa(Oe,Xe,16*+M,De,tt)}else if(De=Oo(z,ne,ze.Ob[0]),xu[De](le,de),Oe!=0)for(M=0;16>M;++M,Oe<<=2)qa(Oe,Xe,16*+M,le,de+OP[M]);for(M=ze.Gc,De=Oo(z,ne,ze.Dd),ic[De](me,xe),ic[De](Pe,Ue),Oe=Xe,De=me,tt=xe,255&(ze=M>>0)&&(170&ze?vm(Oe,256,De,tt):Gs(Oe,256,De,tt)),ze=Pe,Oe=Ue,255&(M>>=8)&&(170&M?vm(Xe,320,ze,Oe):Gs(Xe,320,ze,Oe)),ne<x.Ub-1&&(n(Re[st].y,0,le,de+480,16),n(Re[st].f,0,me,xe+224,8),n(Re[st].ea,0,Pe,Ue+224,8)),M=8*oe*x.B,Re=x.sa,st=x.ta+16*z+16*oe*x.R,Xe=x.qa,ze=x.ra+8*z+M,Oe=x.Ha,De=x.Ia+8*z+M,M=0;16>M;++M)n(Re,st+M*x.R,le,de+32*M,16);for(M=0;8>M;++M)n(Xe,ze+M*x.B,me,xe+32*M,8),n(Oe,De+M*x.B,Pe,Ue+32*M,8)}}function yl(x,k,M,z,ne,oe,le,de,me){var xe=[0],Pe=[0],Ue=0,ze=me!=null?me.kd:0,Re=me??new fu;if(x==null||12>M)return 7;Re.data=x,Re.w=k,Re.ha=M,k=[k],M=[M],Re.gb=[Re.gb];e:{var st=k,Xe=M,Oe=Re.gb;if(t(x!=null),t(Xe!=null),t(Oe!=null),Oe[0]=0,12<=Xe[0]&&!r(x,st[0],"RIFF")){if(r(x,st[0]+8,"WEBP")){Oe=3;break e}var De=fe(x,st[0]+4);if(12>De||4294967286<De){Oe=3;break e}if(ze&&De>Xe[0]-8){Oe=7;break e}Oe[0]=De,st[0]+=12,Xe[0]-=12}Oe=0}if(Oe!=0)return Oe;for(De=0<Re.gb[0],M=M[0];;){e:{var tt=x;Xe=k,Oe=M;var ct=xe,at=Pe,It=st=[0];if((Pt=Ue=[Ue])[0]=0,8>Oe[0])Oe=7;else{if(!r(tt,Xe[0],"VP8X")){if(fe(tt,Xe[0]+4)!=10){Oe=3;break e}if(18>Oe[0]){Oe=7;break e}var Et=fe(tt,Xe[0]+8),zt=1+Y(tt,Xe[0]+12);if(2147483648<=zt*(tt=1+Y(tt,Xe[0]+15))){Oe=3;break e}It!=null&&(It[0]=Et),ct!=null&&(ct[0]=zt),at!=null&&(at[0]=tt),Xe[0]+=18,Oe[0]-=18,Pt[0]=1}Oe=0}}if(Ue=Ue[0],st=st[0],Oe!=0)return Oe;if(Xe=!!(2&st),!De&&Ue)return 3;if(oe!=null&&(oe[0]=!!(16&st)),le!=null&&(le[0]=Xe),de!=null&&(de[0]=0),le=xe[0],st=Pe[0],Ue&&Xe&&me==null){Oe=0;break}if(4>M){Oe=7;break}if(De&&Ue||!De&&!Ue&&!r(x,k[0],"ALPH")){M=[M],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Et=x,Oe=k,De=M;var Pt=Re.gb;ct=Re.na,at=Re.P,It=Re.Sa,zt=22,t(Et!=null),t(De!=null),tt=Oe[0];var $r=De[0];for(t(ct!=null),t(It!=null),ct[0]=null,at[0]=null,It[0]=0;;){if(Oe[0]=tt,De[0]=$r,8>$r){Oe=7;break e}var Yr=fe(Et,tt+4);if(4294967286<Yr){Oe=3;break e}var jr=8+Yr+1&-2;if(zt+=jr,0<Pt&&zt>Pt){Oe=3;break e}if(!r(Et,tt,"VP8 ")||!r(Et,tt,"VP8L")){Oe=0;break e}if($r[0]<jr){Oe=7;break e}r(Et,tt,"ALPH")||(ct[0]=Et,at[0]=tt+8,It[0]=Yr),tt+=jr,$r-=jr}}if(M=M[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Oe!=0)break}M=[M],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Pt=x,Oe=k,De=M,ct=Re.gb[0],at=Re.Ja,It=Re.xa,Et=Oe[0],tt=!r(Pt,Et,"VP8 "),zt=!r(Pt,Et,"VP8L"),t(Pt!=null),t(De!=null),t(at!=null),t(It!=null),8>De[0])Oe=7;else{if(tt||zt){if(Pt=fe(Pt,Et+4),12<=ct&&Pt>ct-12){Oe=3;break e}if(ze&&Pt>De[0]-8){Oe=7;break e}at[0]=Pt,Oe[0]+=8,De[0]-=8,It[0]=zt}else It[0]=5<=De[0]&&Pt[Et+0]==47&&!(Pt[Et+4]>>5),at[0]=De[0];Oe=0}if(M=M[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],k=k[0],Oe!=0)break;if(4294967286<Re.Ja)return 3;if(de==null||Xe||(de[0]=Re.xa?2:1),le=[le],st=[st],Re.xa){if(5>M){Oe=7;break}de=le,ze=st,Xe=oe,x==null||5>M?x=0:5<=M&&x[k+0]==47&&!(x[k+4]>>5)?(De=[0],Pt=[0],ct=[0],W(at=new N,x,k,M),Dt(at,De,Pt,ct)?(de!=null&&(de[0]=De[0]),ze!=null&&(ze[0]=Pt[0]),Xe!=null&&(Xe[0]=ct[0]),x=1):x=0):x=0}else{if(10>M){Oe=7;break}de=st,x==null||10>M||!Bf(x,k+3,M-3)?x=0:(ze=x[k+0]|x[k+1]<<8|x[k+2]<<16,Xe=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Re.Ja||!Xe||!x?x=0:(le&&(le[0]=Xe),de&&(de[0]=x),x=1))}if(!x||(le=le[0],st=st[0],Ue&&(xe[0]!=le||Pe[0]!=st)))return 3;me!=null&&(me[0]=Re,me.offset=k-me.w,t(4294967286>k-me.w),t(me.offset==me.ha-M));break}return Oe==0||Oe==7&&Ue&&me==null?(oe!=null&&(oe[0]|=Re.na!=null&&0<Re.na.length),z!=null&&(z[0]=le),ne!=null&&(ne[0]=st),0):Oe}function dm(x,k,M){var z=k.width,ne=k.height,oe=0,le=0,de=z,me=ne;if(k.Da=x!=null&&0<x.Da,k.Da&&(de=x.cd,me=x.bd,oe=x.v,le=x.j,11>M||(oe&=-2,le&=-2),0>oe||0>le||0>=de||0>=me||oe+de>z||le+me>ne))return 0;if(k.v=oe,k.j=le,k.va=oe+de,k.o=le+me,k.U=de,k.T=me,k.da=x!=null&&0<x.da,k.da){if(!Te(de,me,M=[x.ib],oe=[x.hb]))return 0;k.ib=M[0],k.hb=oe[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*z/4&&k.hb<3*ne/4,k.Kb=0),1}function pm(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function kd(x,k,M,z){if(z==null||0>=x||0>=k)return 2;if(M!=null){if(M.Da){var ne=M.cd,oe=M.bd,le=-2&M.v,de=-2&M.j;if(0>le||0>de||0>=ne||0>=oe||le+ne>x||de+oe>k)return 2;x=ne,k=oe}if(M.da){if(!Te(x,k,ne=[M.ib],oe=[M.hb]))return 2;x=ne[0],k=oe[0]}}z.width=x,z.height=k;e:{var me=z.width,xe=z.height;if(x=z.S,0>=me||0>=xe||!(x>=py&&13>x))x=2;else{if(0>=z.Rd&&z.sd==null){le=oe=ne=k=0;var Pe=(de=me*IP[x])*xe;if(11>x||(oe=(xe+1)/2*(k=(me+1)/2),x==12&&(le=(ne=me)*xe)),(xe=i(Pe+2*oe+le))==null){x=1;break e}z.sd=xe,11>x?((me=z.f.RGBA).eb=xe,me.fb=0,me.A=de,me.size=Pe):((me=z.f.kb).y=xe,me.O=0,me.fa=de,me.Fd=Pe,me.f=xe,me.N=0+Pe,me.Ab=k,me.Cd=oe,me.ea=xe,me.W=0+Pe+oe,me.Db=k,me.Ed=oe,x==12&&(me.F=xe,me.J=0+Pe+2*oe),me.Tc=le,me.lb=ne)}if(k=1,ne=z.S,oe=z.width,le=z.height,ne>=py&&13>ne)if(11>ne)x=z.f.RGBA,k&=(de=Math.abs(x.A))*(le-1)+oe<=x.size,k&=de>=oe*IP[ne],k&=x.eb!=null;else{x=z.f.kb,de=(oe+1)/2,Pe=(le+1)/2,me=Math.abs(x.fa),xe=Math.abs(x.Ab);var Ue=Math.abs(x.Db),ze=Math.abs(x.lb),Re=ze*(le-1)+oe;k&=me*(le-1)+oe<=x.Fd,k&=xe*(Pe-1)+de<=x.Cd,k=(k&=Ue*(Pe-1)+de<=x.Ed)&me>=oe&xe>=de&Ue>=de,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,ne==12&&(k&=ze>=oe,k&=Re<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||M!=null&&M.fd&&(x=pm(z)),x}var Wa=64,Cd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Nd=24,Pd=32,mm=8,ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];He("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(x){return x},A.Predictor2=function(x,k,M){return k[M+0]},A.Predictor3=function(x,k,M){return k[M+1]},A.Predictor4=function(x,k,M){return k[M-1]},A.Predictor5=function(x,k,M){return Ge(Ge(x,k[M+1]),k[M+0])},A.Predictor6=function(x,k,M){return Ge(x,k[M-1])},A.Predictor7=function(x,k,M){return Ge(x,k[M+0])},A.Predictor8=function(x,k,M){return Ge(k[M-1],k[M+0])},A.Predictor9=function(x,k,M){return Ge(k[M+0],k[M+1])},A.Predictor10=function(x,k,M){return Ge(Ge(x,k[M-1]),Ge(k[M+0],k[M+1]))},A.Predictor11=function(x,k,M){var z=k[M+0];return 0>=lt(z>>24&255,x>>24&255,(k=k[M-1])>>24&255)+lt(z>>16&255,x>>16&255,k>>16&255)+lt(z>>8&255,x>>8&255,k>>8&255)+lt(255&z,255&x,255&k)?z:x},A.Predictor12=function(x,k,M){var z=k[M+0];return(Fe((x>>24&255)+(z>>24&255)-((k=k[M-1])>>24&255))<<24|Fe((x>>16&255)+(z>>16&255)-(k>>16&255))<<16|Fe((x>>8&255)+(z>>8&255)-(k>>8&255))<<8|Fe((255&x)+(255&z)-(255&k)))>>>0},A.Predictor13=function(x,k,M){var z=k[M-1];return(Ye((x=Ge(x,k[M+0]))>>24&255,z>>24&255)<<24|Ye(x>>16&255,z>>16&255)<<16|Ye(x>>8&255,z>>8&255)<<8|Ye(x>>0&255,z>>0&255))>>>0};var c_=A.PredictorAdd0;A.PredictorAdd1=nt,He("Predictor2","PredictorAdd2"),He("Predictor3","PredictorAdd3"),He("Predictor4","PredictorAdd4"),He("Predictor5","PredictorAdd5"),He("Predictor6","PredictorAdd6"),He("Predictor7","PredictorAdd7"),He("Predictor8","PredictorAdd8"),He("Predictor9","PredictorAdd9"),He("Predictor10","PredictorAdd10"),He("Predictor11","PredictorAdd11"),He("Predictor12","PredictorAdd12"),He("Predictor13","PredictorAdd13");var gm=A.PredictorAdd2;mt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ly,Hs=A.ColorIndexInverseTransform,Od=A.MapARGB,cy=A.VP8LColorIndexInverseTransformAlpha,uy=A.MapAlpha,mu=A.VP8LPredictorsAdd=[];mu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var Jf,rs,ji,gu,tc,rc,Id,nc,Xn,vm,Li,Gs,Dd,fy,ym,Zf,eh,vu,th,jd,rh,yu,xm,Ks,Ys,fn,hn,Qn,ya=i(511),ac=i(2041),bm=i(225),Ld=i(767),hy=0,u_=ac,dy=bm,As=Ld,Xs=ya,py=0,my=1,bP=2,gy=3,vy=4,f_=5,wP=6,h_=7,d_=8,yy=9,p_=10,LK=[2,3,7],MK=[3,3,11],_P=[280,256,256,256,40],RK=[0,1,1,1,0],FK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$K=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],BK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],VK=8,m_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],g_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wm=null,UK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],SP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],qK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],WK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],GK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xu=[],Io=[],ic=[],KK=1,AP=2,bu=[],Qs=[];Qe("UpsampleRgbLinePair",he,3),Qe("UpsampleBgrLinePair",Le,3),Qe("UpsampleRgbaLinePair",nr,4),Qe("UpsampleBgraLinePair",vr,4),Qe("UpsampleArgbLinePair",rr,4),Qe("UpsampleRgba4444LinePair",ht,2),Qe("UpsampleRgb565LinePair",qe,2);var YK=A.UpsampleRgbLinePair,XK=A.UpsampleBgrLinePair,TP=A.UpsampleRgbaLinePair,EP=A.UpsampleBgraLinePair,kP=A.UpsampleArgbLinePair,CP=A.UpsampleRgba4444LinePair,QK=A.UpsampleRgb565LinePair,xy=16,by=1<<xy-1,_m=-227,v_=482,NP=6,JK=(256<<NP)-1,PP=0,ZK=i(256),eY=i(256),tY=i(256),rY=i(256),nY=i(v_-_m),aY=i(v_-_m);on("YuvToRgbRow",he,3),on("YuvToBgrRow",Le,3),on("YuvToRgbaRow",nr,4),on("YuvToBgraRow",vr,4),on("YuvToArgbRow",rr,4),on("YuvToRgba4444Row",ht,2),on("YuvToRgb565Row",qe,2);var OP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],wy=[0,2,8],iY=[8,7,6,4,4,2,2,2,1,1,1,1],sY=1;this.WebPDecodeRGBA=function(x,k,M,z,ne){var oe=my,le=new Zl,de=new Ir;le.ba=de,de.S=oe,de.width=[de.width],de.height=[de.height];var me=de.width,xe=de.height,Pe=new gn;if(Pe==null||x==null)var Ue=2;else t(Pe!=null),Ue=yl(x,k,M,Pe.width,Pe.height,Pe.Pd,Pe.Qd,Pe.format,null);if(Ue!=0?me=0:(me!=null&&(me[0]=Pe.width[0]),xe!=null&&(xe[0]=Pe.height[0]),me=1),me){de.width=de.width[0],de.height=de.height[0],z!=null&&(z[0]=de.width),ne!=null&&(ne[0]=de.height);e:{if(z=new bs,(ne=new fu).data=x,ne.w=k,ne.ha=M,ne.kd=1,k=[0],t(ne!=null),((x=yl(ne.data,ne.w,ne.ha,null,null,null,k,null,ne))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(t(le!=null),z.data=ne.data,z.w=ne.w+ne.offset,z.ha=ne.ha-ne.offset,z.put=Na,z.ac=Fn,z.bc=Oi,z.ma=le,ne.xa){if((x=Ke())==null){le=1;break e}if(function(ze,Re){var st=[0],Xe=[0],Oe=[0];t:for(;;){if(ze==null)return 0;if(Re==null)return ze.a=2,0;if(ze.l=Re,ze.a=0,W(ze.m,Re.data,Re.w,Re.ha),!Dt(ze.m,st,Xe,Oe)){ze.a=3;break t}if(ze.xb=AP,Re.width=st[0],Re.height=Xe[0],!Be(st[0],Xe[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(x,z)){if(z=(k=kd(z.width,z.height,le.Oa,le.ba))==0){t:{z=x;r:for(;;){if(z==null){z=0;break t}if(t(z.s.yc!=null),t(z.s.Ya!=null),t(0<z.s.Wb),t((M=z.l)!=null),t((ne=M.ma)!=null),z.xb!=0){if(z.ca=ne.ba,z.tb=ne.tb,t(z.ca!=null),!dm(ne.Oa,M,gy)){z.a=2;break r}if(!Ve(z,M.width)||M.da)break r;if((M.da||Ct(z.ca.S))&&Me(),11>z.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),z.ca.f.kb.F!=null&&Me()),z.Pb&&0<z.s.ua&&z.s.vb.X==null&&!Se(z.s.vb,z.s.Wa.Xa)){z.a=1;break r}z.xb=0}if(!_e(z,z.V,z.Ba,z.c,z.i,M.o,we))break r;ne.Dc=z.Ma,z=1;break t}t(z.a!=0),z=0}z=!z}z&&(k=x.a)}else k=x.a}else{if((x=new Ua)==null){le=1;break e}if(x.Fa=ne.na,x.P=ne.P,x.qc=ne.Sa,Vf(x,z)){if((k=kd(z.width,z.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((ne=x)!=null),M!=null){if(0<(me=0>(me=M.Md)?0:100<me?255:255*me/100)){for(xe=Pe=0;4>xe;++xe)12>(Ue=ne.pb[xe]).lc&&(Ue.ia=me*iY[0>Ue.lc?0:Ue.lc]>>3),Pe|=Ue.ia;Pe&&(alert("todo:VP8InitRandom"),ne.ia=1)}ne.Ga=M.Id,100<ne.Ga?ne.Ga=100:0>ne.Ga&&(ne.Ga=0)}bd(x,z)||(k=x.a)}}else k=x.a}k==0&&le.Oa!=null&&le.Oa.fd&&(k=pm(le.ba))}le=k}oe=le!=0?null:11>oe?de.f.RGBA.eb:de.f.kb.y}else oe=null;return oe};var IP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,b){for(var I="",E=0;E<4;E++)I+=String.fromCharCode(A[b++]);return I}function u(A,b){return(A[b+0]<<0|A[b+1]<<8|A[b+2]<<16)>>>0}function f(A,b){return(A[b+0]<<0|A[b+1]<<8|A[b+2]<<16|A[b+3]<<24)>>>0}new l;var h=[0],d=[0],g=[],m=new l,v=e,y=function(A,b){var I={},E=0,C=!1,L=0,H=0;if(I.frames=[],!function(R,U,K,G){for(var ie=0;ie<G;ie++)if(R[U+ie]!=K.charCodeAt(ie))return!0;return!1}(A,b,"RIFF",4)){for(f(A,b+=4),b+=8;b<A.length;){var V=c(A,b),Z=f(A,b+=4);b+=4;var ee=Z+(1&Z);switch(V){case"VP8 ":case"VP8L":I.frames[E]===void 0&&(I.frames[E]={}),(ae=I.frames[E]).src_off=C?H:b-8,ae.src_size=L+Z+8,E++,C&&(C=!1,L=0,H=0);break;case"VP8X":(ae=I.header={}).feature_flags=A[b];var W=b+4;ae.canvas_width=1+u(A,W),W+=3,ae.canvas_height=1+u(A,W),W+=3;break;case"ALPH":C=!0,L=ee+8,H=b-8;break;case"ANIM":(ae=I.header).bgcolor=f(A,b),W=b+4,ae.loop_count=(q=A)[(N=W)+0]<<0|q[N+1]<<8,W+=2;break;case"ANMF":var B,ae;(ae=I.frames[E]={}).offset_x=2*u(A,b),b+=3,ae.offset_y=2*u(A,b),b+=3,ae.width=1+u(A,b),b+=3,ae.height=1+u(A,b),b+=3,ae.duration=u(A,b),b+=3,B=A[b++],ae.dispose=1&B,ae.blend=B>>1&1}V!="ANMF"&&(b+=ee)}var q,N;return I}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,_=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],d=[w.canvas_width];for(var O=0;O<_.length&&_[O].blend!=0;O++);}var P=_[0],D=m.WebPDecodeRGBA(v,P.src_off,P.src_size,d,h);P.rgba=D,P.imgwidth=d[0],P.imgheight=h[0];for(var T=0;T<d[0]*h[0]*4;T++)g[T]=D[T];return this.width=d,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof jT=="function"},r=function(h,d,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,d,g,y);var w=jT(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,d,g,m){for(var v,y,w,_=h.length/d,O=new Uint8Array(h.length+_),P=u(),D=0;D<_;D+=1){if(w=D*d,v=h.subarray(w,w+d),m)O.set(m(v,g,y),w+D);else{for(var T,A=P.length,b=[];T<A;T+=1)b[T]=P[T](v,g,y);var I=f(b.concat());O.set(b[I],w+D)}y=v}return O},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-d]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,d,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,d,g){var m,v,y=[],w=h.length;y[0]=3;for(var _=0;_<w;_+=1)m=h[_-d]||0,v=g&&g[_]||0,y[_+1]=h[_]+256-(m+v>>>1)&255;return y},l=function(h,d,g){var m,v,y,w,_=[],O=h.length;_[0]=4;for(var P=0;P<O;P+=1)m=h[P-d]||0,v=g&&g[P]||0,y=g&&g[P-d]||0,w=c(m,v,y),_[P+1]=h[P]-w+256&255;return _},c=function(h,d,g){if(h===d&&d===g)return h;var m=Math.abs(d-g),v=Math.abs(h-g),y=Math.abs(h+d-g-g);return m<=v&&m<=y?h:v<=y?d:g},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,g,m){var v,y,w,_,O,P,D,T,A,b,I,E,C,L,H,V=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new Axe(h)).imgData,y=w.bits,v=w.colorSpace,O=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){A=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,I=new Uint8Array(A*w.colors),b=new Uint8Array(A);var ee,W=w.pixelBitlength-w.bits;for(L=0,H=0;L<A;L++){for(C=T[L],ee=0;ee<W;)I[H++]=C>>>ee&255,ee+=w.bits;b[L]=C>>>ee&255}}if(w.bits===16){A=(T=new Uint32Array(w.decodePixels().buffer)).length,I=new Uint8Array(A*(32/w.pixelBitlength)*w.colors),b=new Uint8Array(A*(32/w.pixelBitlength)),E=w.colors>1,L=0,H=0;for(var B=0;L<A;)C=T[L++],I[H++]=C>>>0&255,E&&(I[H++]=C>>>16&255,C=T[L++],I[H++]=C>>>0&255),b[B++]=C>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(I,w.width*w.colors,w.colors,m),D=r(b,w.width,1,m)):(h=I,D=b,V=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var ae=w.transparency.indexed,q=0;for(L=0,A=ae.length;L<A;++L)q+=ae[L];if((q/=255)===A-1&&ae.indexOf(0)!==-1)_=[ae.indexOf(0)];else if(q!==A){for(T=w.decodePixels(),b=new Uint8Array(T.length),L=0,A=T.length;L<A;L++)b[L]=ae[T[L]];D=r(b,w.width,1)}}var N=function(R){var U;switch(R){case e.image_compression.FAST:U=11;break;case e.image_compression.MEDIUM:U=13;break;case e.image_compression.SLOW:U=14;break;default:U=12}return U}(m);return V===this.decode.FLATE_DECODE&&(Z="/Predictor "+N+" "),Z+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:g,data:h,index:d,filter:V,decodeParameters:Z,transparency:_,palette:P,sMask:D,predictor:N,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(Gt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new Txe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new GS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Gt.API),Fo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){cn.log("bit decode error:"+r)}},Fo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Fo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Fo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Fo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Fo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Fo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Fo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Fo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Fo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new GS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Gt.API),Sj.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Sj(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new GS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Gt.API),Gt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Gt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},qd=Gt.API,bx=qd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Vr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},xj=qd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return qd.processArabic&&(e=qd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:bx.apply(this,arguments).reduce(function(i,s){return i+s},0)},bj=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},wj=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,g=0,m=e.split(" "),v=bx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(O){(O=O.split(/\s*\n/)).length>1?w=w.concat(O.map(function(P,D){return(D&&P.length?`
`:"")+P})):w.push(O[0])}),m=w,l=xj.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var _=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),h+d+(g=(a=bx.apply(this,[n,r])).reduce(function(O,P){return O+P},0))>t||_){if(g>t){for(o=bj.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,P){return O+P},0)}else u=[n];f.push(u),h=g+l,d=v}else u.push(n),h+=d+g,d=v}return c=l?function(O,P){return(P?y:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},qd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(wj.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=i(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Vr(h)!=="object")throw new Error("Don't know what to do with value type "+Vr(h)+".");g=s(h)}v.push(d+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,g,m,v={},y=1,w=v,_=[],O="",P="",D=f.length-1,T=1;T<D;T+=1)(m=f[T])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(_.push([w,g]),w={},g=void 0):m=="}"?((d=_.pop())[0][d[1]]=w,g=void 0,w=d[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(O+=r[m],g=parseInt(O,16)*y,y=1,O=""):O+=m:r.hasOwnProperty(m)?(P+=r[m],w[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Gt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Vg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Gt),function(e){function t(){return(Kt.canvg?Promise.resolve(Kt.canvg):NT(()=>import("./index.es-BDRFN9Qa.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Gt.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw cn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw cn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),Gt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Gt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Vr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Gt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,g){return d-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<h.length;g++)d+=String.fromCharCode(h[g]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+e0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+e0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+e0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+e0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+e0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,g=f.fonts,m=d,v="",y=0,w="",_=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,m=d,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var O="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?O=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(O=r(v,g[m])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Gt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Gt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var O=function(E){var C=E.charCodeAt(),L=C>>8,H=m[L];return H!==void 0?f[256*H+(255&C)]:L===252||L===253?"AL":y.test(L)?"L":L===8?"R":"N"},P=function(E){for(var C,L=0;L<E.length;L++){if((C=O(E.charAt(L)))==="L")return!1;if(C==="R")return!0}return!1},D=function(E,C,L,H){var V,Z,ee,W,B=C[H];switch(B){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(B="AN");break;case"AL":w=!0,B="R";break;case"WS":B="N";break;case"CS":H<1||H+1>=C.length||(V=L[H-1])!=="EN"&&V!=="AN"||(Z=C[H+1])!=="EN"&&Z!=="AN"?B="N":w&&(Z="AN"),B=Z===V?Z:"N";break;case"ES":B=(V=H>0?L[H-1]:"B")==="EN"&&H+1<C.length&&C[H+1]==="EN"?"EN":"N";break;case"ET":if(H>0&&L[H-1]==="EN"){B="EN";break}if(w){B="N";break}for(ee=H+1,W=C.length;ee<W&&C[ee]==="ET";)ee++;B=ee<W&&C[ee]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(W=C.length,ee=H+1;ee<W&&C[ee]==="NSM";)ee++;if(ee<W){var ae=E[H],q=ae>=1425&&ae<=2303||ae===64286;if(V=C[ee],q&&(V==="R"||V==="AL")){B="R";break}}}B=H<1||(V=C[H-1])==="B"?"N":L[H-1];break;case"B":w=!1,a=!0,B=_;break;case"S":i=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":B="N"}return B},T=function(E,C,L){var H=E.split("");return L&&A(H,L,{hiLevel:_}),H.reverse(),C&&C.reverse(),H.join("")},A=function(E,C,L){var H,V,Z,ee,W,B=-1,ae=E.length,q=0,N=[],R=_?d:h,U=[];for(w=!1,a=!1,i=!1,V=0;V<ae;V++)U[V]=O(E[V]);for(Z=0;Z<ae;Z++){if(W=q,N[Z]=D(E,U,N,Z),H=240&(q=R[W][g[N[Z]]]),q&=15,C[Z]=ee=R[q][5],H>0)if(H===16){for(V=B;V<Z;V++)C[V]=1;B=-1}else B=-1;if(R[q][6])B===-1&&(B=Z);else if(B>-1){for(V=B;V<Z;V++)C[V]=ee;B=-1}U[Z]==="B"&&(C[Z]=0),L.hiLevel|=ee}i&&function(K,G,ie){for(var ue=0;ue<ie;ue++)if(K[ue]==="S"){G[ue]=_;for(var J=ue-1;J>=0&&K[J]==="WS";J--)G[J]=_}}(U,C,ae)},b=function(E,C,L,H,V){if(!(V.hiLevel<E)){if(E===1&&_===1&&!a)return C.reverse(),void(L&&L.reverse());for(var Z,ee,W,B,ae=C.length,q=0;q<ae;){if(H[q]>=E){for(W=q+1;W<ae&&H[W]>=E;)W++;for(B=q,ee=W-1;B<ee;B++,ee--)Z=C[B],C[B]=C[ee],C[ee]=Z,L&&(Z=L[B],L[B]=L[ee],L[ee]=Z);q=W}q++}}},I=function(E,C,L){var H=E.split(""),V={hiLevel:_};return L||(L=[]),A(H,L,V),function(Z,ee,W){if(W.hiLevel!==0&&u)for(var B,ae=0;ae<Z.length;ae++)ee[ae]===1&&(B=v.indexOf(Z[ae]))>=0&&(Z[ae]=v[B+1])}(H,L,V),b(2,H,C,L,V),b(1,H,C,L,V),H.join("")};return this.__bidiEngine__.doBidiReorder=function(E,C,L){if(function(V,Z){if(Z)for(var ee=0;ee<V.length;ee++)Z[ee]=ee;o===void 0&&(o=P(V)),c===void 0&&(c=P(V))}(E,C),s||!l||c)if(s&&l&&o^c)_=o?1:0,E=T(E,C,L);else if(!s&&l&&c)_=o?1:0,E=I(E,C,L),E=T(E,C);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,C),o?(_=0,E=I(E,C,L)):(_=1,E=I(E,C,L),E=T(E,C));else if(s&&o&&!l&&c)_=1,E=I(E,C,L),E=T(E,C);else if(!s&&!l&&o^c){var H=u;o?(_=1,E=I(E,C,L),_=0,u=!1,E=I(E,C,L),u=H):(_=0,E=I(E,C,L),E=T(E,C),_=1,u=!1,E=I(E,C,L),u=H,E=T(E,C))}}else _=0,E=I(E,C,L);else _=o?1:0,E=I(E,C,L);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Gt),Gt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Ef(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Bxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Exe(this.contents),this.head=new Cxe(this),this.name=new Dxe(this),this.cmap=new Wq(this),this.toUnicode={},this.hhea=new Nxe(this),this.maxp=new jxe(this),this.hmtx=new Lxe(this),this.post=new Oxe(this),this.os2=new Pxe(this),this.loca=new $xe(this),this.glyf=new Mxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ul,Ef=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Exe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,g,m;for(m in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new Ef).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Hq.call(r);r.length%4;)r.push(0);for(i=new Ef(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),kxe={}.hasOwnProperty,Hl=function(e,t){for(var r in t)kxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ul=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Cxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Ef).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Aj=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),c=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),u=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,P;for(P=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)P.push(t.readUInt16());return P}(),l=y=0,_=i.length;y<_;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,w,_,O,P,D,T,A,b,I,E,C,L,H,V,Z,ee,W,B,ae,q,N,R,U,K,G,ie,ue,J,ce,pe,Y;switch(H=new Ef,s=Object.keys(t).sort(function(fe,Se){return fe-Se}),r){case"macroman":for(m=0,v=function(){var fe=[];for(g=0;g<256;++g)fe.push(0);return fe}(),w={0:0},i={},V=0,B=s.length;V<B;V++)w[J=t[a=s[V]]]==null&&(w[J]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return H.writeUInt16(1),H.writeUInt16(0),H.writeUInt32(12),H.writeUInt16(0),H.writeUInt16(262),H.writeUInt16(0),H.write(v),{charMap:i,subtable:H.data,maxGlyphID:m+1};case"unicode":for(C=[],f=[],_=0,w={},n={},y=c=null,Z=0,ae=s.length;Z<ae;Z++)w[P=t[a=s[Z]]]==null&&(w[P]=++_),n[a]={old:P,new:w[P]},o=w[P]-a,y!=null&&o===c||(y&&f.push(y),C.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),C.push(65535),I=2*(b=C.length),A=2*Math.pow(Math.log(b)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,T=2*b-A,l=[],D=[],d=[],g=ee=0,q=C.length;ee<q;g=++ee){if(E=C[g],u=f[g],E===65535){l.push(0),D.push(0);break}if(E-(L=n[E].new)>=32768)for(l.push(0),D.push(2*(d.length+b-g)),a=W=E;E<=u?W<=u:W>=u;a=E<=u?++W:--W)d.push(n[a].new);else l.push(L-E),D.push(0)}for(H.writeUInt16(3),H.writeUInt16(1),H.writeUInt32(12),H.writeUInt16(4),H.writeUInt16(16+8*b+2*d.length),H.writeUInt16(0),H.writeUInt16(I),H.writeUInt16(A),H.writeUInt16(h),H.writeUInt16(T),ie=0,N=f.length;ie<N;ie++)a=f[ie],H.writeUInt16(a);for(H.writeUInt16(0),ue=0,R=C.length;ue<R;ue++)a=C[ue],H.writeUInt16(a);for(ce=0,U=l.length;ce<U;ce++)o=l[ce],H.writeUInt16(o);for(pe=0,K=D.length;pe<K;pe++)O=D[pe],H.writeUInt16(O);for(Y=0,G=d.length;Y<G;Y++)m=d[Y],H.writeUInt16(m);return{charMap:n,subtable:H.data,maxGlyphID:_+1}}},e}(),Wq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Aj(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Aj.encode(r,n),(i=new Ef).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Nxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Pxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Oxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),Ixe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Dxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new Ixe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),jxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Lxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Hq=[].slice,Mxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Ef(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Fxe(l,u,h,c,f):new Rxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),Rxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Fxe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Ef(Hq.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),$xe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Bxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y;for(a in n=Wq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=n.charMap)d[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in d||(d[g]=h++);return u=function(w){var _,O;for(_ in O={},w)O[w[_]]=_;return O}(d),f=Object.keys(u).sort(function(w,_){return w-_}),m=function(){var w,_,O;for(O=[],w=0,_=f.length;w<_;w++)o=f[w],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,m,d),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Gt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Gq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Tj={},F0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Tj=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Tj||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),VT=function(e,t){return VT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},VT(e,t)};function Kq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");VT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Yq=function(e){Kq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Vxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Uxe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Tb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function Xq(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Qq(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Qq(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function w5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Jq(e,t){var r=w5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function zxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=KS(t,function(_){return a.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var l=KS(t,function(_){return a.getComputedStyle(_).color});l!=null&&(i.textColor=l);var c=Wxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=KS(t,function(_){return a.getComputedStyle(_)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=qxe(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function qxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function KS(e,t){var r=Zq(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Zq(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Zq(e.parentElement,t):r}function Wxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=w5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function eW(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var g=o.rows[d],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Hxe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Hxe(e,t,r,n,a,i){for(var s=new Yq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=zxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Gxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Gxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Kxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function mc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function tW(e,t){var r=new F0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Kxe(a,n,t);var i=mc({},a,n,t),s;typeof window<"u"&&(s=window);var o=Yxe(a,n,t),l=Xxe(a,n,t),c=Qxe(r,i),u=Zxe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function Yxe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=mc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(g){return g[l]||{}});n[l]=mc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Xxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Qxe(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g=w5(t.margin,40/e.scaleFactor()),m=(r=Jxe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(w?"plain":"striped"),O=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:_,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function Jxe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Zxe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=eW(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||e2e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function e2e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var UT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),t2e=function(e){Kq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(UT),r2e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new t2e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new UT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new UT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),rW=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Yq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),nW=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=w5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),n2e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function a2e(e,t){i2e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=zT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=zT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),o2e(t),l2e(t,e),s2e(t)}function i2e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Jq(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Tb(c.text,c.styles,e)+f;var h=Tb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function zT(e,t,r){for(var n=t,a=e.reduce(function(d,g){return d+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=zT(h,t,r))}return t}function s2e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function o2e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function l2e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Ej(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Ej(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function Ej(e,t,r,n,a){return e.map(function(i){return c2e(i,t,r,n,a)})}function c2e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Tb(e,r,n))return e;for(;t<Tb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function aW(e,t){var r=new F0(e),n=u2e(t,r.scaleFactor()),a=new r2e(t,n);return a2e(r,a),r.applyStyles(r.userStyles),a}function u2e(e,t){var r=e.content,n=h2e(r.columns);if(r.head.length===0){var a=kj(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=kj(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:YS("head",r.head,n,s,i,t),body:YS("body",r.body,n,s,i,t),foot:YS("foot",r.foot,n,s,i,t)}}function YS(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(d===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var _=d2e(e,v,c,a,n,i,w),O=new nW(y,_,e);f[v.dataKey]=O,f[v.index]=O,d=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:d}}else d--,h++;else s[v.index].left--,d=s[v.index].times,u++}return new rW(l,c,e,f)});return o}function kj(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=f2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function f2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function h2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new n2e(a,t,r)})}function d2e(e,t,r,n,a,i,s){var o=Uxe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=mc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?mc({},o.alternateRow,a.alternateRowStyles):{},d=Vxe(i),g=mc({},d,c,h,f);return mc(g,s)}function p2e(e,t,r){var n;r===void 0&&(r={});var a=Jq(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(g){return g.dataKey===h||g.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function m2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=p2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function iW(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new F0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(oW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=mc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?g2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return $c(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var g=d===t.body.length-1;Eb(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return $c(u,t,h,i,t.columns)})),Xq(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function g2e(e,t,r,n){var a=m2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Ug(e,t,r,n,c.columns,!0):Cj(e,t,n,c.columns),v2e(e,t,r,n,c.columns),XS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Ug(e,t,r,n,u,!0):Cj(e,t,n,u),c=Nj(e,t,s+1,n,u),XS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Ug(e,t,r,n,h.columns,!0),Nj(e,t,s+1,n,h.columns,f),XS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function Cj(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return $c(e,t,i,r,n)})}function v2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;Eb(e,t,i,o,r,n,a)})}function Nj(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=sW(e,t,u,n);l.canEntireRowFit(f,a)&&($c(e,t,l,n,a),o=r+c)}),o}function XS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return $c(e,t,i,r,n)})}function y2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function x2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new nW(c.raw,c.styles,c.section);u=mc(u,c),u.text=[];var f=y2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new rW(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function b2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function Eb(e,t,r,n,a,i,s){var o=sW(e,t,n,i);if(r.canEntireRowFit(o,s))$c(e,t,r,i,s);else if(b2e(e,r,o,t)){var l=x2e(r,o,t,e);$c(e,t,r,i,s),Ug(e,t,a,i,s),Eb(e,t,l,n,a,i,s)}else Ug(e,t,a,i,s),Eb(e,t,r,n,a,i,s)}function $c(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}w2e(e,l,n);var u=l.getTextPos();Gq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function w2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Qq(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),_2e(e,t,r,n.lineWidth))}function _2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function sW(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ug(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return $c(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;Xq(e,t,r,n),oW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return $c(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function oW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function S2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=tW(this,n),i=aW(this,a);return iW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Gq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return F0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){F0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new F0(this),i=eW(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var QS;function A2e(e,t){var r=tW(e,t),n=aW(e,r);iW(e,n)}try{if(typeof window<"u"&&window){var Pj=window,Oj=Pj.jsPDF||((QS=Pj.jspdf)===null||QS===void 0?void 0:QS.jsPDF);Oj&&S2e(Oj)}}catch(e){console.error("Could not apply autoTable plugin",e)}const T2e=()=>{const[e,t]=Q.useState([]),[r,n]=Q.useState(!0),[a,i]=Q.useState(new Date),[s,o]=Q.useState(new Date),[l,c]=Q.useState("all"),[u,f]=Q.useState("all"),[h,d]=Q.useState(""),[g,m]=Q.useState([]),{showToast:v}=Kc(),{isDarkMode:y}=zr(),{user:w}=ga(),_=async()=>{try{const E=(await cr(_t(it,"users"))).docs.map(C=>({id:C.id,...C.data()}));m(E)}catch(I){console.error("Error fetching users:",I),v("Failed to fetch users","error")}},O=async()=>{n(!0);try{let I=fr(_t(it,"activityLogs"),Ra("time","desc"));a&&s?I=fr(_t(it,"activityLogs"),dr("time",">=",ob(a).toISOString()),dr("time","<=",Dv(s).toISOString()),Ra("time","desc")):a?I=fr(_t(it,"activityLogs"),dr("time",">=",ob(a).toISOString()),Ra("time","desc")):s&&(I=fr(_t(it,"activityLogs"),dr("time","<=",Dv(s).toISOString()),Ra("time","desc")));let C=(await cr(I)).docs.map(L=>({id:L.id,user:L.data().user,role:L.data().role,detail:L.data().detail,time:L.data().time}));if(w&&w.role==="staff"&&(C=C.filter(L=>L.role!=="admin")),l!=="all"&&(C=C.filter(L=>L.user===l)),u!=="all"&&(C=C.filter(L=>{const H=L.detail.toLowerCase();return u==="inbound"?H.includes("added new product")||H.includes("edited product")||H.includes("quantity from")||H.includes("quantity to"):u==="outbound"?H.includes("units deducted from stock")||H.includes("deducted from stock"):!0})),h.trim()){const L=h.toLowerCase();C=C.filter(H=>{const V=H.detail.toLowerCase(),Z=H.user.toLowerCase(),ee=H.role.toLowerCase(),W=V.match(/"([^"]+)"/),B=W?W[1].toLowerCase():"";return V.includes(L)||Z.includes(L)||ee.includes(L)||B.includes(L)})}t(C)}catch(I){console.error("Error fetching activity logs:",I),v("Failed to fetch activity logs","error")}finally{n(!1)}};Q.useEffect(()=>{_()},[]),Q.useEffect(()=>{O()},[a,s,l,u,h,w]);const P=()=>{let I=g;return w&&w.role==="staff"&&(I=g.filter(E=>E.role!=="admin")),[{value:"all",label:"All Users"},...I.map(E=>({value:E.name,label:E.name}))]},D=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],T=()=>{i(null),o(null)},A=()=>{try{const E=[["User","Role","Activity","Time"].join(","),...e.map(V=>[V.user,V.role,`"${V.detail.replace(/"/g,'""')}"`,$t(new Date(V.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),C=new Blob([E],{type:"text/csv;charset=utf-8;"}),L=document.createElement("a"),H=URL.createObjectURL(C);L.setAttribute("href",H),L.setAttribute("download",`activity_logs_${$t(new Date,"yyyy-MM-dd")}.csv`),L.style.visibility="hidden",document.body.appendChild(L),L.click(),document.body.removeChild(L)}catch(I){console.error("Error exporting to CSV:",I),v("Failed to export to CSV","error")}},b=()=>{var I,E;try{const C=new Gt;C.setFontSize(16),C.text("Activity Logs Report",14,15),C.setFontSize(10);const L=a&&s?`${$t(a,"MMM d, yyyy")} - ${$t(s,"MMM d, yyyy")}`:a?`From ${$t(a,"MMM d, yyyy")}`:s?`To ${$t(s,"MMM d, yyyy")}`:"All Time";C.text(`Date Range: ${L}`,14,25),C.text(`User Filter: ${(I=P().find(H=>H.value===l))==null?void 0:I.label}`,14,30),C.text(`Activity Filter: ${(E=D.find(H=>H.value===u))==null?void 0:E.label}`,14,35),A2e(C,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(H=>[H.user,H.role,H.detail,$t(new Date(H.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),C.save(`activity_logs_${$t(new Date,"yyyy-MM-dd")}.pdf`)}catch(C){console.error("Error exporting to PDF:",C),v("Failed to export to PDF","error")}};return p.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:p.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx($2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),p.jsxs("button",{onClick:b,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx($2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:p.jsx(gt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:I=>d(I.target.value),className:"w-full sm:w-96",icon:p.jsx(Wh,{size:16})})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[p.jsx(Pr,{value:l,onChange:I=>c(I.target.value),options:P(),className:"w-full sm:w-40"}),p.jsx(Pr,{value:u,onChange:I=>f(I.target.value),options:D,className:"w-full sm:w-40"}),p.jsx(Tq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:T,className:"w-full sm:w-80"}),p.jsx(pt,{variant:"secondary",onClick:O,className:"flex items-center gap-2 w-full sm:w-auto",children:p.jsx(sl,{size:16})})]})]}),r?p.jsx("div",{className:"flex justify-center items-center h-32",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:p.jsx(BV,{children:e.map(I=>p.jsxs(zn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.user}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.role}),p.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:I.detail}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:$t(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]},I.id))})})]})}),p.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(I=>p.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:I.user}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:I.role})]}),p.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[p.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),p.jsx("span",{className:"text-sm",children:I.detail})]}),p.jsx("div",{className:"text-xs mt-1",children:p.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",p.jsx("span",{className:"font-medium",children:$t(new Date(I.time),"MMM d, yyyy h:mm:ss a")})]})})]},I.id))})]}):p.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function lW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=lW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Rr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=lW(e))&&(n&&(n+=" "),n+=t);return n}var E2e=Array.isArray,ys=E2e,k2e=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,cW=k2e,C2e=cW,N2e=typeof self=="object"&&self&&self.Object===Object&&self,P2e=C2e||N2e||Function("return this")(),Gl=P2e,O2e=Gl,I2e=O2e.Symbol,J1=I2e,Ij=J1,uW=Object.prototype,D2e=uW.hasOwnProperty,j2e=uW.toString,Vm=Ij?Ij.toStringTag:void 0;function L2e(e){var t=D2e.call(e,Vm),r=e[Vm];try{e[Vm]=void 0;var n=!0}catch{}var a=j2e.call(e);return n&&(t?e[Vm]=r:delete e[Vm]),a}var M2e=L2e,R2e=Object.prototype,F2e=R2e.toString;function $2e(e){return F2e.call(e)}var B2e=$2e,Dj=J1,V2e=M2e,U2e=B2e,z2e="[object Null]",q2e="[object Undefined]",jj=Dj?Dj.toStringTag:void 0;function W2e(e){return e==null?e===void 0?q2e:z2e:jj&&jj in Object(e)?V2e(e):U2e(e)}var Xc=W2e;function H2e(e){return e!=null&&typeof e=="object"}var Qc=H2e,G2e=Xc,K2e=Qc,Y2e="[object Symbol]";function X2e(e){return typeof e=="symbol"||K2e(e)&&G2e(e)==Y2e}var Jp=X2e,Q2e=ys,J2e=Jp,Z2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ebe=/^\w*$/;function tbe(e,t){if(Q2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||J2e(e)?!0:ebe.test(e)||!Z2e.test(e)||t!=null&&e in Object(t)}var dN=tbe;function rbe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lf=rbe;const Zp=sn(Lf);var nbe=Xc,abe=Lf,ibe="[object AsyncFunction]",sbe="[object Function]",obe="[object GeneratorFunction]",lbe="[object Proxy]";function cbe(e){if(!abe(e))return!1;var t=nbe(e);return t==sbe||t==obe||t==ibe||t==lbe}var pN=cbe;const pr=sn(pN);var ube=Gl,fbe=ube["__core-js_shared__"],hbe=fbe,JS=hbe,Lj=function(){var e=/[^.]+$/.exec(JS&&JS.keys&&JS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function dbe(e){return!!Lj&&Lj in e}var pbe=dbe,mbe=Function.prototype,gbe=mbe.toString;function vbe(e){if(e!=null){try{return gbe.call(e)}catch{}try{return e+""}catch{}}return""}var fW=vbe,ybe=pN,xbe=pbe,bbe=Lf,wbe=fW,_be=/[\\^$.*+?()[\]{}|]/g,Sbe=/^\[object .+?Constructor\]$/,Abe=Function.prototype,Tbe=Object.prototype,Ebe=Abe.toString,kbe=Tbe.hasOwnProperty,Cbe=RegExp("^"+Ebe.call(kbe).replace(_be,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Nbe(e){if(!bbe(e)||xbe(e))return!1;var t=ybe(e)?Cbe:Sbe;return t.test(wbe(e))}var Pbe=Nbe;function Obe(e,t){return e==null?void 0:e[t]}var Ibe=Obe,Dbe=Pbe,jbe=Ibe;function Lbe(e,t){var r=jbe(e,t);return Dbe(r)?r:void 0}var md=Lbe,Mbe=md,Rbe=Mbe(Object,"create"),_5=Rbe,Mj=_5;function Fbe(){this.__data__=Mj?Mj(null):{},this.size=0}var $be=Fbe;function Bbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Vbe=Bbe,Ube=_5,zbe="__lodash_hash_undefined__",qbe=Object.prototype,Wbe=qbe.hasOwnProperty;function Hbe(e){var t=this.__data__;if(Ube){var r=t[e];return r===zbe?void 0:r}return Wbe.call(t,e)?t[e]:void 0}var Gbe=Hbe,Kbe=_5,Ybe=Object.prototype,Xbe=Ybe.hasOwnProperty;function Qbe(e){var t=this.__data__;return Kbe?t[e]!==void 0:Xbe.call(t,e)}var Jbe=Qbe,Zbe=_5,ewe="__lodash_hash_undefined__";function twe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Zbe&&t===void 0?ewe:t,this}var rwe=twe,nwe=$be,awe=Vbe,iwe=Gbe,swe=Jbe,owe=rwe;function em(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}em.prototype.clear=nwe;em.prototype.delete=awe;em.prototype.get=iwe;em.prototype.has=swe;em.prototype.set=owe;var lwe=em;function cwe(){this.__data__=[],this.size=0}var uwe=cwe;function fwe(e,t){return e===t||e!==e&&t!==t}var mN=fwe,hwe=mN;function dwe(e,t){for(var r=e.length;r--;)if(hwe(e[r][0],t))return r;return-1}var S5=dwe,pwe=S5,mwe=Array.prototype,gwe=mwe.splice;function vwe(e){var t=this.__data__,r=pwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():gwe.call(t,r,1),--this.size,!0}var ywe=vwe,xwe=S5;function bwe(e){var t=this.__data__,r=xwe(t,e);return r<0?void 0:t[r][1]}var wwe=bwe,_we=S5;function Swe(e){return _we(this.__data__,e)>-1}var Awe=Swe,Twe=S5;function Ewe(e,t){var r=this.__data__,n=Twe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var kwe=Ewe,Cwe=uwe,Nwe=ywe,Pwe=wwe,Owe=Awe,Iwe=kwe;function tm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tm.prototype.clear=Cwe;tm.prototype.delete=Nwe;tm.prototype.get=Pwe;tm.prototype.has=Owe;tm.prototype.set=Iwe;var A5=tm,Dwe=md,jwe=Gl,Lwe=Dwe(jwe,"Map"),gN=Lwe,Rj=lwe,Mwe=A5,Rwe=gN;function Fwe(){this.size=0,this.__data__={hash:new Rj,map:new(Rwe||Mwe),string:new Rj}}var $we=Fwe;function Bwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Vwe=Bwe,Uwe=Vwe;function zwe(e,t){var r=e.__data__;return Uwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var T5=zwe,qwe=T5;function Wwe(e){var t=qwe(this,e).delete(e);return this.size-=t?1:0,t}var Hwe=Wwe,Gwe=T5;function Kwe(e){return Gwe(this,e).get(e)}var Ywe=Kwe,Xwe=T5;function Qwe(e){return Xwe(this,e).has(e)}var Jwe=Qwe,Zwe=T5;function e5e(e,t){var r=Zwe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var t5e=e5e,r5e=$we,n5e=Hwe,a5e=Ywe,i5e=Jwe,s5e=t5e;function rm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rm.prototype.clear=r5e;rm.prototype.delete=n5e;rm.prototype.get=a5e;rm.prototype.has=i5e;rm.prototype.set=s5e;var vN=rm,hW=vN,o5e="Expected a function";function yN(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(o5e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(yN.Cache||hW),r}yN.Cache=hW;var dW=yN;const l5e=sn(dW);var c5e=dW,u5e=500;function f5e(e){var t=c5e(e,function(n){return r.size===u5e&&r.clear(),n}),r=t.cache;return t}var h5e=f5e,d5e=h5e,p5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,m5e=/\\(\\)?/g,g5e=d5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(p5e,function(r,n,a,i){t.push(a?i.replace(m5e,"$1"):n||r)}),t}),v5e=g5e;function y5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var xN=y5e,Fj=J1,x5e=xN,b5e=ys,w5e=Jp,_5e=1/0,$j=Fj?Fj.prototype:void 0,Bj=$j?$j.toString:void 0;function pW(e){if(typeof e=="string")return e;if(b5e(e))return x5e(e,pW)+"";if(w5e(e))return Bj?Bj.call(e):"";var t=e+"";return t=="0"&&1/e==-_5e?"-0":t}var S5e=pW,A5e=S5e;function T5e(e){return e==null?"":A5e(e)}var mW=T5e,E5e=ys,k5e=dN,C5e=v5e,N5e=mW;function P5e(e,t){return E5e(e)?e:k5e(e,t)?[e]:C5e(N5e(e))}var gW=P5e,O5e=Jp,I5e=1/0;function D5e(e){if(typeof e=="string"||O5e(e))return e;var t=e+"";return t=="0"&&1/e==-I5e?"-0":t}var E5=D5e,j5e=gW,L5e=E5;function M5e(e,t){t=j5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[L5e(t[r++])];return r&&r==n?e:void 0}var bN=M5e,R5e=bN;function F5e(e,t,r){var n=e==null?void 0:R5e(e,t);return n===void 0?r:n}var vW=F5e;const mo=sn(vW);function $5e(e){return e==null}var B5e=$5e;const br=sn(B5e);var V5e=Xc,U5e=ys,z5e=Qc,q5e="[object String]";function W5e(e){return typeof e=="string"||!U5e(e)&&z5e(e)&&V5e(e)==q5e}var H5e=W5e;const Jh=sn(H5e);var yW={exports:{}},en={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN=Symbol.for("react.element"),_N=Symbol.for("react.portal"),k5=Symbol.for("react.fragment"),C5=Symbol.for("react.strict_mode"),N5=Symbol.for("react.profiler"),P5=Symbol.for("react.provider"),O5=Symbol.for("react.context"),G5e=Symbol.for("react.server_context"),I5=Symbol.for("react.forward_ref"),D5=Symbol.for("react.suspense"),j5=Symbol.for("react.suspense_list"),L5=Symbol.for("react.memo"),M5=Symbol.for("react.lazy"),K5e=Symbol.for("react.offscreen"),xW;xW=Symbol.for("react.module.reference");function _o(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case wN:switch(e=e.type,e){case k5:case N5:case C5:case D5:case j5:return e;default:switch(e=e&&e.$$typeof,e){case G5e:case O5:case I5:case M5:case L5:case P5:return e;default:return t}}case _N:return t}}}en.ContextConsumer=O5;en.ContextProvider=P5;en.Element=wN;en.ForwardRef=I5;en.Fragment=k5;en.Lazy=M5;en.Memo=L5;en.Portal=_N;en.Profiler=N5;en.StrictMode=C5;en.Suspense=D5;en.SuspenseList=j5;en.isAsyncMode=function(){return!1};en.isConcurrentMode=function(){return!1};en.isContextConsumer=function(e){return _o(e)===O5};en.isContextProvider=function(e){return _o(e)===P5};en.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===wN};en.isForwardRef=function(e){return _o(e)===I5};en.isFragment=function(e){return _o(e)===k5};en.isLazy=function(e){return _o(e)===M5};en.isMemo=function(e){return _o(e)===L5};en.isPortal=function(e){return _o(e)===_N};en.isProfiler=function(e){return _o(e)===N5};en.isStrictMode=function(e){return _o(e)===C5};en.isSuspense=function(e){return _o(e)===D5};en.isSuspenseList=function(e){return _o(e)===j5};en.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===k5||e===N5||e===C5||e===D5||e===j5||e===K5e||typeof e=="object"&&e!==null&&(e.$$typeof===M5||e.$$typeof===L5||e.$$typeof===P5||e.$$typeof===O5||e.$$typeof===I5||e.$$typeof===xW||e.getModuleId!==void 0)};en.typeOf=_o;yW.exports=en;var Y5e=yW.exports,X5e=Xc,Q5e=Qc,J5e="[object Number]";function Z5e(e){return typeof e=="number"||Q5e(e)&&X5e(e)==J5e}var bW=Z5e;const e_e=sn(bW);var t_e=bW;function r_e(e){return t_e(e)&&e!=+e}var n_e=r_e;const Z1=sn(n_e);var Zo=function(t){return t===0?0:t>0?1:-1},Th=function(t){return Jh(t)&&t.indexOf("%")===t.length-1},Tt=function(t){return e_e(t)&&!Z1(t)},Ta=function(t){return Tt(t)||Jh(t)},a_e=0,ey=function(t){var r=++a_e;return"".concat(t||"").concat(r)},Zh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Tt(t)&&!Jh(t))return n;var i;if(Th(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Z1(i)&&(i=n),a&&i>r&&(i=r),i},Vu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},i_e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Ko=function(t,r){return Tt(t)&&Tt(r)?function(n){return t+n*(r-t)}:function(){return r}};function kb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):mo(n,t))===r})}var s_e=function(t,r){return Tt(t)&&Tt(r)?t-r:Jh(t)&&Jh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function $0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function qT(e){"@babel/helpers - typeof";return qT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qT(e)}var o_e=["viewBox","children"],l_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Vj=["points","pathLength"],ZS={svg:o_e,polygon:Vj,polyline:Vj},SN=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(Q.isValidElement(t)&&(n=t.props),!Zp(n))return null;var a={};return Object.keys(n).forEach(function(i){SN.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},c_e=function(t,r,n){return function(a){return t(r,n,a),null}},Nb=function(t,r,n){if(!Zp(t)||qT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];SN.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=c_e(s,r,n))}),a},u_e=["children"],f_e=["children"];function Uj(e,t){if(e==null)return{};var r=h_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function h_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function WT(e){"@babel/helpers - typeof";return WT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WT(e)}var zj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_c=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},qj=null,eA=null,AN=function e(t){if(t===qj&&Array.isArray(eA))return eA;var r=[];return Q.Children.forEach(t,function(n){br(n)||(Y5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),eA=r,qj=t,r};function go(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return _c(a)}):n=[_c(t)],AN(e).forEach(function(a){var i=mo(a,"type.displayName")||mo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ps(e,t){var r=go(e,t);return r&&r[0]}var Wj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!Tt(n)||n<=0||!Tt(a)||a<=0)},d_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p_e=function(t){return t&&t.type&&Jh(t.type)&&d_e.indexOf(t.type)>=0},m_e=function(t){return t&&WT(t)==="object"&&"clipDot"in t},g_e=function(t,r,n,a){var i,s=(i=ZS==null?void 0:ZS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!pr(t)&&(a&&s.includes(r)||l_e.includes(r))||n&&SN.includes(r)},Ar=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(Q.isValidElement(t)&&(a=t.props),!Zp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;g_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},HT=function e(t,r){if(t===r)return!0;var n=Q.Children.count(t);if(n!==Q.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Hj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Hj(i,s))return!1}return!0},Hj=function(t,r){if(br(t)&&br(r))return!0;if(!br(t)&&!br(r)){var n=t.props||{},a=n.children,i=Uj(n,u_e),s=r.props||{},o=s.children,l=Uj(s,f_e);return a&&o?$0(i,l)&&HT(a,o):!a&&!o?$0(i,l):!1}return!1},Gj=function(t,r){var n=[],a={};return AN(t).forEach(function(i,s){if(p_e(i))n.push(i);else if(i){var o=_c(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},v_e=function(t){var r=t&&t.type;return r&&zj[r]?zj[r]:null},y_e=function(t,r){return AN(r).indexOf(t)},x_e=["children","width","height","viewBox","className","style","title","desc"];function GT(){return GT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GT.apply(this,arguments)}function b_e(e,t){if(e==null)return{};var r=w_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function KT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=b_e(e,x_e),u=a||{width:r,height:n,x:0,y:0},f=Rr("recharts-surface",i);return Ie.createElement("svg",GT({},Ar(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ie.createElement("title",null,o),Ie.createElement("desc",null,l),t)}var __e=["children","className"];function YT(){return YT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YT.apply(this,arguments)}function S_e(e,t){if(e==null)return{};var r=A_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var aa=Ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=S_e(e,__e),i=Rr("recharts-layer",n);return Ie.createElement("g",YT({className:i},Ar(a,!0),{ref:t}),r)}),Sc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function T_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var E_e=T_e,k_e=E_e;function C_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:k_e(e,t,r)}var N_e=C_e,P_e="\\ud800-\\udfff",O_e="\\u0300-\\u036f",I_e="\\ufe20-\\ufe2f",D_e="\\u20d0-\\u20ff",j_e=O_e+I_e+D_e,L_e="\\ufe0e\\ufe0f",M_e="\\u200d",R_e=RegExp("["+M_e+P_e+j_e+L_e+"]");function F_e(e){return R_e.test(e)}var wW=F_e;function $_e(e){return e.split("")}var B_e=$_e,_W="\\ud800-\\udfff",V_e="\\u0300-\\u036f",U_e="\\ufe20-\\ufe2f",z_e="\\u20d0-\\u20ff",q_e=V_e+U_e+z_e,W_e="\\ufe0e\\ufe0f",H_e="["+_W+"]",XT="["+q_e+"]",QT="\\ud83c[\\udffb-\\udfff]",G_e="(?:"+XT+"|"+QT+")",SW="[^"+_W+"]",AW="(?:\\ud83c[\\udde6-\\uddff]){2}",TW="[\\ud800-\\udbff][\\udc00-\\udfff]",K_e="\\u200d",EW=G_e+"?",kW="["+W_e+"]?",Y_e="(?:"+K_e+"(?:"+[SW,AW,TW].join("|")+")"+kW+EW+")*",X_e=kW+EW+Y_e,Q_e="(?:"+[SW+XT+"?",XT,AW,TW,H_e].join("|")+")",J_e=RegExp(QT+"(?="+QT+")|"+Q_e+X_e,"g");function Z_e(e){return e.match(J_e)||[]}var eSe=Z_e,tSe=B_e,rSe=wW,nSe=eSe;function aSe(e){return rSe(e)?nSe(e):tSe(e)}var iSe=aSe,sSe=N_e,oSe=wW,lSe=iSe,cSe=mW;function uSe(e){return function(t){t=cSe(t);var r=oSe(t)?lSe(t):void 0,n=r?r[0]:t.charAt(0),a=r?sSe(r,1).join(""):t.slice(1);return n[e]()+a}}var fSe=uSe,hSe=fSe,dSe=hSe("toUpperCase"),pSe=dSe;const R5=sn(pSe);function dn(e){return function(){return e}}const CW=Math.cos,Pb=Math.sin,fl=Math.sqrt,Ob=Math.PI,F5=2*Ob,JT=Math.PI,ZT=2*JT,hh=1e-6,mSe=ZT-hh;function NW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function gSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class vSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NW:gSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>hh)if(!(Math.abs(f*l-c*u)>hh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,g=a-o,m=l*l+c*c,v=d*d+g*g,y=Math.sqrt(m),w=Math.sqrt(h),_=i*Math.tan((JT-Math.acos((m+h-v)/(2*y*w)))/2),O=_/w,P=_/y;Math.abs(O-1)>hh&&this._append`L${t+O*u},${r+O*f}`,this._append`A${i},${i},0,0,${+(f*d>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>hh||Math.abs(this._y1-u)>hh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%ZT+ZT),h>mSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>hh&&this._append`A${n},${n},0,${+(h>=JT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function TN(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vSe(t)}function EN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PW(e){this._context=e}PW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function $5(e){return new PW(e)}function OW(e){return e[0]}function IW(e){return e[1]}function DW(e,t){var r=dn(!0),n=null,a=$5,i=null,s=TN(o);e=typeof e=="function"?e:e===void 0?OW:dn(e),t=typeof t=="function"?t:t===void 0?IW:dn(t);function o(l){var c,u=(l=EN(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:dn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:dn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:dn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function wx(e,t,r){var n=null,a=dn(!0),i=null,s=$5,o=null,l=TN(c);e=typeof e=="function"?e:e===void 0?OW:dn(+e),t=typeof t=="function"?t:dn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?IW:dn(+r);function c(f){var h,d,g,m=(f=EN(f)).length,v,y=!1,w,_=new Array(m),O=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(_[g],O[g]);o.lineEnd(),o.areaEnd()}y&&(_[h]=+e(v,h,f),O[h]=+t(v,h,f),o.point(n?+n(v,h,f):_[h],r?+r(v,h,f):O[h]))}if(w)return o=null,w+""||null}function u(){return DW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:dn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class jW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ySe(e){return new jW(e,!0)}function xSe(e){return new jW(e,!1)}const kN={draw(e,t){const r=fl(t/Ob);e.moveTo(r,0),e.arc(0,0,r,0,F5)}},bSe={draw(e,t){const r=fl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LW=fl(1/3),wSe=LW*2,_Se={draw(e,t){const r=fl(t/wSe),n=r*LW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},SSe={draw(e,t){const r=fl(t),n=-r/2;e.rect(n,n,r,r)}},ASe=.8908130915292852,MW=Pb(Ob/10)/Pb(7*Ob/10),TSe=Pb(F5/10)*MW,ESe=-CW(F5/10)*MW,kSe={draw(e,t){const r=fl(t*ASe),n=TSe*r,a=ESe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=F5*i/5,o=CW(s),l=Pb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},tA=fl(3),CSe={draw(e,t){const r=-fl(t/(tA*3));e.moveTo(0,r*2),e.lineTo(-tA*r,-r),e.lineTo(tA*r,-r),e.closePath()}},to=-.5,ro=fl(3)/2,eE=1/fl(12),NSe=(eE/2+1)*3,PSe={draw(e,t){const r=fl(t/NSe),n=r/2,a=r*eE,i=n,s=r*eE+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(to*n-ro*a,ro*n+to*a),e.lineTo(to*i-ro*s,ro*i+to*s),e.lineTo(to*o-ro*l,ro*o+to*l),e.lineTo(to*n+ro*a,to*a-ro*n),e.lineTo(to*i+ro*s,to*s-ro*i),e.lineTo(to*o+ro*l,to*l-ro*o),e.closePath()}};function OSe(e,t){let r=null,n=TN(a);e=typeof e=="function"?e:dn(e||kN),t=typeof t=="function"?t:dn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:dn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:dn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Ib(){}function Db(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RW(e){this._context=e}RW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Db(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ISe(e){return new RW(e)}function FW(e){this._context=e}FW.prototype={areaStart:Ib,areaEnd:Ib,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DSe(e){return new FW(e)}function $W(e){this._context=e}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Db(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jSe(e){return new $W(e)}function BW(e){this._context=e}BW.prototype={areaStart:Ib,areaEnd:Ib,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function LSe(e){return new BW(e)}function Kj(e){return e<0?-1:1}function Yj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Kj(i)+Kj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Xj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rA(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function jb(e){this._context=e}jb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rA(this,this._t0,Xj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rA(this,Xj(this,r=Yj(this,e,t)),r);break;default:rA(this,this._t0,r=Yj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function VW(e){this._context=new UW(e)}(VW.prototype=Object.create(jb.prototype)).point=function(e,t){jb.prototype.point.call(this,t,e)};function UW(e){this._context=e}UW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function MSe(e){return new jb(e)}function RSe(e){return new VW(e)}function zW(e){this._context=e}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Qj(e),a=Qj(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Qj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function FSe(e){return new zW(e)}function B5(e,t){this._context=e,this._t=t}B5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function $Se(e){return new B5(e,.5)}function BSe(e){return new B5(e,0)}function VSe(e){return new B5(e,1)}function hp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function tE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function USe(e,t){return e[t]}function zSe(e){const t=[];return t.key=e,t}function qSe(){var e=dn([]),t=tE,r=hp,n=USe;function a(i){var s=Array.from(e.apply(this,arguments),zSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=EN(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:dn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:dn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?tE:typeof i=="function"?i:dn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??hp,a):r},a}function WSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}hp(e,t)}}function HSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hp(e,t)}}function GSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;d+=v-y}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,hp(e,t)}}function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}var KSe=["type","size","sizeType"];function rE(){return rE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rE.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){YSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t,r){return t=XSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XSe(e){var t=QSe(e,"string");return zv(t)=="symbol"?t:t+""}function QSe(e,t){if(zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JSe(e,t){if(e==null)return{};var r=ZSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qW={symbolCircle:kN,symbolCross:bSe,symbolDiamond:_Se,symbolSquare:SSe,symbolStar:kSe,symbolTriangle:CSe,symbolWye:PSe},eAe=Math.PI/180,tAe=function(t){var r="symbol".concat(R5(t));return qW[r]||kN},rAe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*eAe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},nAe=function(t,r){qW["symbol".concat(R5(t))]=r},CN=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=JSe(t,KSe),c=Zj(Zj({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=tAe(n),y=OSe().type(v).size(rAe(i,o,n));return y()},f=c.className,h=c.cx,d=c.cy,g=Ar(c,!0);return h===+h&&d===+d&&i===+i?Ie.createElement("path",rE({},g,{className:Rr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};CN.registerSymbol=nAe;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){qv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HW(n.key),n)}}function oAe(e,t,r){return t&&sAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function lAe(e,t,r){return t=Lb(t),cAe(e,WW()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function cAe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uAe(e)}function uAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WW=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function fAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aE(e,t)}function qv(e,t,r){return t=HW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=hAe(e,"string");return dp(t)=="symbol"?t:t+""}function hAe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var no=32,NN=function(e){function t(){return iAe(this,t),lAe(this,t,arguments)}return fAe(t,e),oAe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=no/2,s=no/6,o=no/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ie.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:no,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ie.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(no,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ie.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(no/8,"h").concat(no,"v").concat(no*3/4,"h").concat(-no,"z"),className:"recharts-legend-icon"});if(Ie.isValidElement(n.legendIcon)){var c=aAe({},n);return delete c.legendIcon,Ie.cloneElement(n.legendIcon,c)}return Ie.createElement(CN,{fill:l,cx:i,cy:i,size:no,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:no,height:no},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,g){var m=d.formatter||l,v=Rr(qv(qv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=pr(d.value)?null:d.value;Sc(!pr(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=d.inactive?c:d.color;return Ie.createElement("li",nE({className:v,style:f,key:"legend-item-".concat(g)},Nb(n.props,d,g)),Ie.createElement(KT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Ie.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,d,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ie.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Q.PureComponent);qv(NN,"displayName","Legend");qv(NN,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dAe=A5;function pAe(){this.__data__=new dAe,this.size=0}var mAe=pAe;function gAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var vAe=gAe;function yAe(e){return this.__data__.get(e)}var xAe=yAe;function bAe(e){return this.__data__.has(e)}var wAe=bAe,_Ae=A5,SAe=gN,AAe=vN,TAe=200;function EAe(e,t){var r=this.__data__;if(r instanceof _Ae){var n=r.__data__;if(!SAe||n.length<TAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new AAe(n)}return r.set(e,t),this.size=r.size,this}var kAe=EAe,CAe=A5,NAe=mAe,PAe=vAe,OAe=xAe,IAe=wAe,DAe=kAe;function nm(e){var t=this.__data__=new CAe(e);this.size=t.size}nm.prototype.clear=NAe;nm.prototype.delete=PAe;nm.prototype.get=OAe;nm.prototype.has=IAe;nm.prototype.set=DAe;var GW=nm,jAe="__lodash_hash_undefined__";function LAe(e){return this.__data__.set(e,jAe),this}var MAe=LAe;function RAe(e){return this.__data__.has(e)}var FAe=RAe,$Ae=vN,BAe=MAe,VAe=FAe;function Mb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $Ae;++t<r;)this.add(e[t])}Mb.prototype.add=Mb.prototype.push=BAe;Mb.prototype.has=VAe;var KW=Mb;function UAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var YW=UAe;function zAe(e,t){return e.has(t)}var XW=zAe,qAe=KW,WAe=YW,HAe=XW,GAe=1,KAe=2;function YAe(e,t,r,n,a,i){var s=r&GAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&KAe?new qAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!WAe(t,function(y,w){if(!HAe(d,w)&&(g===y||a(g,y,r,n,i)))return d.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var QW=YAe,XAe=Gl,QAe=XAe.Uint8Array,JAe=QAe;function ZAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var e4e=ZAe;function t4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var PN=t4e,tL=J1,rL=JAe,r4e=mN,n4e=QW,a4e=e4e,i4e=PN,s4e=1,o4e=2,l4e="[object Boolean]",c4e="[object Date]",u4e="[object Error]",f4e="[object Map]",h4e="[object Number]",d4e="[object RegExp]",p4e="[object Set]",m4e="[object String]",g4e="[object Symbol]",v4e="[object ArrayBuffer]",y4e="[object DataView]",nL=tL?tL.prototype:void 0,nA=nL?nL.valueOf:void 0;function x4e(e,t,r,n,a,i,s){switch(r){case y4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case v4e:return!(e.byteLength!=t.byteLength||!i(new rL(e),new rL(t)));case l4e:case c4e:case h4e:return r4e(+e,+t);case u4e:return e.name==t.name&&e.message==t.message;case d4e:case m4e:return e==t+"";case f4e:var o=a4e;case p4e:var l=n&s4e;if(o||(o=i4e),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=o4e,s.set(e,t);var u=n4e(o(e),o(t),n,a,i,s);return s.delete(e),u;case g4e:if(nA)return nA.call(e)==nA.call(t)}return!1}var b4e=x4e;function w4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var JW=w4e,_4e=JW,S4e=ys;function A4e(e,t,r){var n=t(e);return S4e(e)?n:_4e(n,r(e))}var T4e=A4e;function E4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var k4e=E4e;function C4e(){return[]}var N4e=C4e,P4e=k4e,O4e=N4e,I4e=Object.prototype,D4e=I4e.propertyIsEnumerable,aL=Object.getOwnPropertySymbols,j4e=aL?function(e){return e==null?[]:(e=Object(e),P4e(aL(e),function(t){return D4e.call(e,t)}))}:O4e,L4e=j4e;function M4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var R4e=M4e,F4e=Xc,$4e=Qc,B4e="[object Arguments]";function V4e(e){return $4e(e)&&F4e(e)==B4e}var U4e=V4e,iL=U4e,z4e=Qc,ZW=Object.prototype,q4e=ZW.hasOwnProperty,W4e=ZW.propertyIsEnumerable,H4e=iL(function(){return arguments}())?iL:function(e){return z4e(e)&&q4e.call(e,"callee")&&!W4e.call(e,"callee")},ON=H4e,Rb={exports:{}};function G4e(){return!1}var K4e=G4e;Rb.exports;(function(e,t){var r=Gl,n=K4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Rb,Rb.exports);var eH=Rb.exports,Y4e=9007199254740991,X4e=/^(?:0|[1-9]\d*)$/;function Q4e(e,t){var r=typeof e;return t=t??Y4e,!!t&&(r=="number"||r!="symbol"&&X4e.test(e))&&e>-1&&e%1==0&&e<t}var IN=Q4e,J4e=9007199254740991;function Z4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=J4e}var DN=Z4e,eTe=Xc,tTe=DN,rTe=Qc,nTe="[object Arguments]",aTe="[object Array]",iTe="[object Boolean]",sTe="[object Date]",oTe="[object Error]",lTe="[object Function]",cTe="[object Map]",uTe="[object Number]",fTe="[object Object]",hTe="[object RegExp]",dTe="[object Set]",pTe="[object String]",mTe="[object WeakMap]",gTe="[object ArrayBuffer]",vTe="[object DataView]",yTe="[object Float32Array]",xTe="[object Float64Array]",bTe="[object Int8Array]",wTe="[object Int16Array]",_Te="[object Int32Array]",STe="[object Uint8Array]",ATe="[object Uint8ClampedArray]",TTe="[object Uint16Array]",ETe="[object Uint32Array]",bn={};bn[yTe]=bn[xTe]=bn[bTe]=bn[wTe]=bn[_Te]=bn[STe]=bn[ATe]=bn[TTe]=bn[ETe]=!0;bn[nTe]=bn[aTe]=bn[gTe]=bn[iTe]=bn[vTe]=bn[sTe]=bn[oTe]=bn[lTe]=bn[cTe]=bn[uTe]=bn[fTe]=bn[hTe]=bn[dTe]=bn[pTe]=bn[mTe]=!1;function kTe(e){return rTe(e)&&tTe(e.length)&&!!bn[eTe(e)]}var CTe=kTe;function NTe(e){return function(t){return e(t)}}var tH=NTe,Fb={exports:{}};Fb.exports;(function(e,t){var r=cW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Fb,Fb.exports);var PTe=Fb.exports,OTe=CTe,ITe=tH,sL=PTe,oL=sL&&sL.isTypedArray,DTe=oL?ITe(oL):OTe,rH=DTe,jTe=R4e,LTe=ON,MTe=ys,RTe=eH,FTe=IN,$Te=rH,BTe=Object.prototype,VTe=BTe.hasOwnProperty;function UTe(e,t){var r=MTe(e),n=!r&&LTe(e),a=!r&&!n&&RTe(e),i=!r&&!n&&!a&&$Te(e),s=r||n||a||i,o=s?jTe(e.length,String):[],l=o.length;for(var c in e)(t||VTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||FTe(c,l)))&&o.push(c);return o}var zTe=UTe,qTe=Object.prototype;function WTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qTe;return e===r}var HTe=WTe;function GTe(e,t){return function(r){return e(t(r))}}var nH=GTe,KTe=nH,YTe=KTe(Object.keys,Object),XTe=YTe,QTe=HTe,JTe=XTe,ZTe=Object.prototype,eEe=ZTe.hasOwnProperty;function tEe(e){if(!QTe(e))return JTe(e);var t=[];for(var r in Object(e))eEe.call(e,r)&&r!="constructor"&&t.push(r);return t}var rEe=tEe,nEe=pN,aEe=DN;function iEe(e){return e!=null&&aEe(e.length)&&!nEe(e)}var ty=iEe,sEe=zTe,oEe=rEe,lEe=ty;function cEe(e){return lEe(e)?sEe(e):oEe(e)}var V5=cEe,uEe=T4e,fEe=L4e,hEe=V5;function dEe(e){return uEe(e,hEe,fEe)}var pEe=dEe,lL=pEe,mEe=1,gEe=Object.prototype,vEe=gEe.hasOwnProperty;function yEe(e,t,r,n,a,i){var s=r&mEe,o=lL(e),l=o.length,c=lL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:vEe.call(t,h)))return!1}var d=i.get(e),g=i.get(t);if(d&&g)return d==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],w=t[h];if(n)var _=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(_===void 0?y===w||a(y,w,r,n,i):_)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var O=e.constructor,P=t.constructor;O!=P&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var xEe=yEe,bEe=md,wEe=Gl,_Ee=bEe(wEe,"DataView"),SEe=_Ee,AEe=md,TEe=Gl,EEe=AEe(TEe,"Promise"),kEe=EEe,CEe=md,NEe=Gl,PEe=CEe(NEe,"Set"),aH=PEe,OEe=md,IEe=Gl,DEe=OEe(IEe,"WeakMap"),jEe=DEe,iE=SEe,sE=gN,oE=kEe,lE=aH,cE=jEe,iH=Xc,am=fW,cL="[object Map]",LEe="[object Object]",uL="[object Promise]",fL="[object Set]",hL="[object WeakMap]",dL="[object DataView]",MEe=am(iE),REe=am(sE),FEe=am(oE),$Ee=am(lE),BEe=am(cE),dh=iH;(iE&&dh(new iE(new ArrayBuffer(1)))!=dL||sE&&dh(new sE)!=cL||oE&&dh(oE.resolve())!=uL||lE&&dh(new lE)!=fL||cE&&dh(new cE)!=hL)&&(dh=function(e){var t=iH(e),r=t==LEe?e.constructor:void 0,n=r?am(r):"";if(n)switch(n){case MEe:return dL;case REe:return cL;case FEe:return uL;case $Ee:return fL;case BEe:return hL}return t});var VEe=dh,aA=GW,UEe=QW,zEe=b4e,qEe=xEe,pL=VEe,mL=ys,gL=eH,WEe=rH,HEe=1,vL="[object Arguments]",yL="[object Array]",_x="[object Object]",GEe=Object.prototype,xL=GEe.hasOwnProperty;function KEe(e,t,r,n,a,i){var s=mL(e),o=mL(t),l=s?yL:pL(e),c=o?yL:pL(t);l=l==vL?_x:l,c=c==vL?_x:c;var u=l==_x,f=c==_x,h=l==c;if(h&&gL(e)){if(!gL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new aA),s||WEe(e)?UEe(e,t,r,n,a,i):zEe(e,t,l,r,n,a,i);if(!(r&HEe)){var d=u&&xL.call(e,"__wrapped__"),g=f&&xL.call(t,"__wrapped__");if(d||g){var m=d?e.value():e,v=g?t.value():t;return i||(i=new aA),a(m,v,r,n,i)}}return h?(i||(i=new aA),qEe(e,t,r,n,a,i)):!1}var YEe=KEe,XEe=YEe,bL=Qc;function sH(e,t,r,n,a){return e===t?!0:e==null||t==null||!bL(e)&&!bL(t)?e!==e&&t!==t:XEe(e,t,r,n,sH,a)}var jN=sH,QEe=GW,JEe=jN,ZEe=1,e3e=2;function t3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new QEe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?JEe(u,c,ZEe|e3e,n,f):h))return!1}}return!0}var r3e=t3e,n3e=Lf;function a3e(e){return e===e&&!n3e(e)}var oH=a3e,i3e=oH,s3e=V5;function o3e(e){for(var t=s3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,i3e(a)]}return t}var l3e=o3e;function c3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var lH=c3e,u3e=r3e,f3e=l3e,h3e=lH;function d3e(e){var t=f3e(e);return t.length==1&&t[0][2]?h3e(t[0][0],t[0][1]):function(r){return r===e||u3e(r,e,t)}}var p3e=d3e;function m3e(e,t){return e!=null&&t in Object(e)}var g3e=m3e,v3e=gW,y3e=ON,x3e=ys,b3e=IN,w3e=DN,_3e=E5;function S3e(e,t,r){t=v3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=_3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&w3e(a)&&b3e(s,a)&&(x3e(e)||y3e(e)))}var A3e=S3e,T3e=g3e,E3e=A3e;function k3e(e,t){return e!=null&&E3e(e,t,T3e)}var C3e=k3e,N3e=jN,P3e=vW,O3e=C3e,I3e=dN,D3e=oH,j3e=lH,L3e=E5,M3e=1,R3e=2;function F3e(e,t){return I3e(e)&&D3e(t)?j3e(L3e(e),t):function(r){var n=P3e(r,e);return n===void 0&&n===t?O3e(r,e):N3e(t,n,M3e|R3e)}}var $3e=F3e;function B3e(e){return e}var im=B3e;function V3e(e){return function(t){return t==null?void 0:t[e]}}var U3e=V3e,z3e=bN;function q3e(e){return function(t){return z3e(t,e)}}var W3e=q3e,H3e=U3e,G3e=W3e,K3e=dN,Y3e=E5;function X3e(e){return K3e(e)?H3e(Y3e(e)):G3e(e)}var Q3e=X3e,J3e=p3e,Z3e=$3e,eke=im,tke=ys,rke=Q3e;function nke(e){return typeof e=="function"?e:e==null?eke:typeof e=="object"?tke(e)?Z3e(e[0],e[1]):J3e(e):rke(e)}var Mf=nke;function ake(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var cH=ake;function ike(e){return e!==e}var ske=ike;function oke(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var lke=oke,cke=cH,uke=ske,fke=lke;function hke(e,t,r){return t===t?fke(e,t,r):cke(e,uke,r)}var dke=hke,pke=dke;function mke(e,t){var r=e==null?0:e.length;return!!r&&pke(e,t,0)>-1}var gke=mke;function vke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var yke=vke;function xke(){}var bke=xke,iA=aH,wke=bke,_ke=PN,Ske=1/0,Ake=iA&&1/_ke(new iA([,-0]))[1]==Ske?function(e){return new iA(e)}:wke,Tke=Ake,Eke=KW,kke=gke,Cke=yke,Nke=XW,Pke=Tke,Oke=PN,Ike=200;function Dke(e,t,r){var n=-1,a=kke,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Cke;else if(i>=Ike){var c=t?null:Pke(e);if(c)return Oke(c);s=!1,a=Nke,l=new Eke}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var jke=Dke,Lke=Mf,Mke=jke;function Rke(e,t){return e&&e.length?Mke(e,Lke(t)):[]}var Fke=Rke;const wL=sn(Fke);function uH(e,t,r){return t===!0?wL(e,r):pr(t)?wL(e,t):e}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var $ke=["ref"];function _L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_L(Object(r),!0).forEach(function(n){U5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hH(n.key),n)}}function Vke(e,t,r){return t&&SL(e.prototype,t),r&&SL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uke(e,t,r){return t=$b(t),zke(e,fH()?Reflect.construct(t,r||[],$b(e).constructor):t.apply(e,r))}function zke(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qke(e)}function qke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fH=function(){return!!e})()}function $b(e){return $b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$b(e)}function Wke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uE(e,t)}function uE(e,t){return uE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},uE(e,t)}function U5(e,t,r){return t=hH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=Hke(e,"string");return pp(t)=="symbol"?t:t+""}function Hke(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gke(e,t){if(e==null)return{};var r=Kke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Kke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yke(e){return e.value}function Xke(e,t){if(Ie.isValidElement(e))return Ie.cloneElement(e,t);if(typeof e=="function")return Ie.createElement(e,t);t.ref;var r=Gke(t,$ke);return Ie.createElement(NN,r)}var AL=1,Ac=function(e){function t(){var r;Bke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Uke(this,t,[].concat(a)),U5(r,"lastBoundingBox",{width:-1,height:-1}),r}return Wke(t,e),Vke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>AL||Math.abs(a.height-this.lastBoundingBox.height)>AL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cc(cc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=cc(cc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Xke(i,cc(cc({},this.props),{},{payload:uH(u,c,Yke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=cc(cc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&Tt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(Q.PureComponent);U5(Ac,"displayName","Legend");U5(Ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var TL=J1,Qke=ON,Jke=ys,EL=TL?TL.isConcatSpreadable:void 0;function Zke(e){return Jke(e)||Qke(e)||!!(EL&&e&&e[EL])}var eCe=Zke,tCe=JW,rCe=eCe;function dH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=rCe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?dH(o,t-1,r,n,a):tCe(a,o):n||(a[a.length]=o)}return a}var pH=dH;function nCe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var aCe=nCe,iCe=aCe,sCe=iCe(),oCe=sCe,lCe=oCe,cCe=V5;function uCe(e,t){return e&&lCe(e,t,cCe)}var mH=uCe,fCe=ty;function hCe(e,t){return function(r,n){if(r==null)return r;if(!fCe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var dCe=hCe,pCe=mH,mCe=dCe,gCe=mCe(pCe),LN=gCe,vCe=LN,yCe=ty;function xCe(e,t){var r=-1,n=yCe(e)?Array(e.length):[];return vCe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var gH=xCe;function bCe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var wCe=bCe,kL=Jp;function _Ce(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=kL(e),s=t!==void 0,o=t===null,l=t===t,c=kL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var SCe=_Ce,ACe=SCe;function TCe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=ACe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var ECe=TCe,sA=xN,kCe=bN,CCe=Mf,NCe=gH,PCe=wCe,OCe=tH,ICe=ECe,DCe=im,jCe=ys;function LCe(e,t,r){t.length?t=sA(t,function(i){return jCe(i)?function(s){return kCe(s,i.length===1?i[0]:i)}:i}):t=[DCe];var n=-1;t=sA(t,OCe(CCe));var a=NCe(e,function(i,s,o){var l=sA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return PCe(a,function(i,s){return ICe(i,s,r)})}var MCe=LCe;function RCe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var FCe=RCe,$Ce=FCe,CL=Math.max;function BCe(e,t,r){return t=CL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=CL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),$Ce(e,this,o)}}var VCe=BCe;function UCe(e){return function(){return e}}var zCe=UCe,qCe=md,WCe=function(){try{var e=qCe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),vH=WCe,HCe=zCe,NL=vH,GCe=im,KCe=NL?function(e,t){return NL(e,"toString",{configurable:!0,enumerable:!1,value:HCe(t),writable:!0})}:GCe,YCe=KCe,XCe=800,QCe=16,JCe=Date.now;function ZCe(e){var t=0,r=0;return function(){var n=JCe(),a=QCe-(n-r);if(r=n,a>0){if(++t>=XCe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var eNe=ZCe,tNe=YCe,rNe=eNe,nNe=rNe(tNe),aNe=nNe,iNe=im,sNe=VCe,oNe=aNe;function lNe(e,t){return oNe(sNe(e,t,iNe),e+"")}var cNe=lNe,uNe=mN,fNe=ty,hNe=IN,dNe=Lf;function pNe(e,t,r){if(!dNe(r))return!1;var n=typeof t;return(n=="number"?fNe(r)&&hNe(t,r.length):n=="string"&&t in r)?uNe(r[t],e):!1}var z5=pNe,mNe=pH,gNe=MCe,vNe=cNe,PL=z5,yNe=vNe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&PL(e,t[0],t[1])?t=[]:r>2&&PL(t[0],t[1],t[2])&&(t=[t[0]]),gNe(e,mNe(t,1),[])}),xNe=yNe;const MN=sn(xNe);function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function fE(){return fE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fE.apply(this,arguments)}function bNe(e,t){return ANe(e)||SNe(e,t)||_Ne(e,t)||wNe()}function wNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ne(e,t){if(e){if(typeof e=="string")return OL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OL(e,t)}}function OL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ANe(e){if(Array.isArray(e))return e}function IL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IL(Object(r),!0).forEach(function(n){TNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TNe(e,t,r){return t=ENe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ENe(e){var t=kNe(e,"string");return Wv(t)=="symbol"?t:t+""}function kNe(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CNe(e){return Array.isArray(e)&&Ta(e[0])&&Ta(e[1])?e.join(" ~ "):e}var NNe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var C={padding:0,margin:0},L=(h?MN(u,h):u).map(function(H,V){if(H.type==="none")return null;var Z=oA({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},o),ee=H.formatter||f||CNe,W=H.value,B=H.name,ae=W,q=B;if(ee&&ae!=null&&q!=null){var N=ee(W,B,H,V,u);if(Array.isArray(N)){var R=bNe(N,2);ae=R[0],q=R[1]}else ae=N}return Ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:Z},Ta(q)?Ie.createElement("span",{className:"recharts-tooltip-item-name"},q):null,Ta(q)?Ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ie.createElement("span",{className:"recharts-tooltip-item-value"},ae),Ie.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Ie.createElement("ul",{className:"recharts-tooltip-item-list",style:C},L)}return null},O=oA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=oA({margin:0},c),D=!br(m),T=D?m:"",A=Rr("recharts-default-tooltip",d),b=Rr("recharts-tooltip-label",g);D&&v&&u!==void 0&&u!==null&&(T=v(m,u));var I=w?{role:"status","aria-live":"assertive"}:{};return Ie.createElement("div",fE({className:A,style:O},I),Ie.createElement("p",{className:b,style:P},Ie.isValidElement(T)?T:"".concat(T)),_())};function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function Sx(e,t,r){return t=PNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PNe(e){var t=ONe(e,"string");return Hv(t)=="symbol"?t:t+""}function ONe(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um="recharts-tooltip-wrapper",INe={visibility:"hidden"};function DNe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Rr(Um,Sx(Sx(Sx(Sx({},"".concat(Um,"-right"),Tt(r)&&t&&Tt(t.x)&&r>=t.x),"".concat(Um,"-left"),Tt(r)&&t&&Tt(t.x)&&r<t.x),"".concat(Um,"-bottom"),Tt(n)&&t&&Tt(t.y)&&n>=t.y),"".concat(Um,"-top"),Tt(n)&&t&&Tt(t.y)&&n<t.y))}function DL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&Tt(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function jNe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function LNe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=DL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=DL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=jNe({translateX:u,translateY:f,useTranslate3d:o})):c=INe,{cssProperties:c,cssClasses:DNe({translateX:u,translateY:f,coordinate:r})}}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function LL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){dE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xH(n.key),n)}}function FNe(e,t,r){return t&&RNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ne(e,t,r){return t=Bb(t),BNe(e,yH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function BNe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VNe(e)}function VNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function UNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hE(e,t)}function hE(e,t){return hE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},hE(e,t)}function dE(e,t,r){return t=xH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xH(e){var t=zNe(e,"string");return mp(t)=="symbol"?t:t+""}function zNe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ML=1,qNe=function(e){function t(){var r;MNe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=$Ne(this,t,[].concat(a)),dE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return UNe(t,e),FNe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>ML||Math.abs(n.height-this.state.lastBoundingBox.height)>ML)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,_=LNe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=_.cssClasses,P=_.cssProperties,D=LL(LL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ie.createElement("div",{tabIndex:-1,className:O,style:D,ref:function(A){n.wrapperNode=A}},c)}}])}(Q.PureComponent),WNe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tc={isSsr:WNe(),get:function(t){return Tc[t]},set:function(t,r){if(typeof t=="string")Tc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Tc[a]=t[a]})}}};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){RN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HNe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GNe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wH(n.key),n)}}function KNe(e,t,r){return t&&GNe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function YNe(e,t,r){return t=Vb(t),XNe(e,bH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function XNe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QNe(e)}function QNe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function JNe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pE(e,t)}function pE(e,t){return pE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},pE(e,t)}function RN(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=ZNe(e,"string");return gp(t)=="symbol"?t:t+""}function ZNe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ePe(e){return e.dataKey}function tPe(e,t){return Ie.isValidElement(e)?Ie.cloneElement(e,t):typeof e=="function"?Ie.createElement(e,t):Ie.createElement(NNe,t)}var oo=function(e){function t(){return HNe(this,t),YNe(this,t,arguments)}return JNe(t,e),KNe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,_=a.viewBox,O=a.wrapperStyle,P=g??[];f&&P.length&&(P=uH(g.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),m,ePe));var D=P.length>0;return Ie.createElement(qNe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:D,offset:d,position:v,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:O},tPe(c,FL(FL({},this.props),{},{payload:P})))}}])}(Q.PureComponent);RN(oo,"displayName","Tooltip");RN(oo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var rPe=Gl,nPe=function(){return rPe.Date.now()},aPe=nPe,iPe=/\s/;function sPe(e){for(var t=e.length;t--&&iPe.test(e.charAt(t)););return t}var oPe=sPe,lPe=oPe,cPe=/^\s+/;function uPe(e){return e&&e.slice(0,lPe(e)+1).replace(cPe,"")}var fPe=uPe,hPe=fPe,$L=Lf,dPe=Jp,BL=NaN,pPe=/^[-+]0x[0-9a-f]+$/i,mPe=/^0b[01]+$/i,gPe=/^0o[0-7]+$/i,vPe=parseInt;function yPe(e){if(typeof e=="number")return e;if(dPe(e))return BL;if($L(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=$L(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=hPe(e);var r=mPe.test(e);return r||gPe.test(e)?vPe(e.slice(2),r?2:8):pPe.test(e)?BL:+e}var _H=yPe,xPe=Lf,lA=aPe,VL=_H,bPe="Expected a function",wPe=Math.max,_Pe=Math.min;function SPe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(bPe);t=VL(t)||0,xPe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?wPe(VL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(D){var T=n,A=a;return n=a=void 0,c=D,s=e.apply(A,T),s}function g(D){return c=D,o=setTimeout(y,t),u?d(D):s}function m(D){var T=D-l,A=D-c,b=t-T;return f?_Pe(b,i-A):b}function v(D){var T=D-l,A=D-c;return l===void 0||T>=t||T<0||f&&A>=i}function y(){var D=lA();if(v(D))return w(D);o=setTimeout(y,m(D))}function w(D){return o=void 0,h&&n?d(D):(n=a=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:w(lA())}function P(){var D=lA(),T=v(D);if(n=arguments,a=this,l=D,T){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),d(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=_,P.flush=O,P}var APe=SPe,TPe=APe,EPe=Lf,kPe="Expected a function";function CPe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(kPe);return EPe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),TPe(e,t,{leading:n,maxWait:t,trailing:a})}var NPe=CPe;const SH=sn(NPe);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function UL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ax(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(r),!0).forEach(function(n){PPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PPe(e,t,r){return t=OPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OPe(e){var t=IPe(e,"string");return Gv(t)=="symbol"?t:t+""}function IPe(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DPe(e,t){return RPe(e)||MPe(e,t)||LPe(e,t)||jPe()}function jPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LPe(e,t){if(e){if(typeof e=="string")return zL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zL(e,t)}}function zL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function RPe(e){if(Array.isArray(e))return e}var cA=Q.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,_=e.style,O=_===void 0?{}:_,P=Q.useRef(null),D=Q.useRef();D.current=w,Q.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var T=Q.useState({containerWidth:a.width,containerHeight:a.height}),A=DPe(T,2),b=A[0],I=A[1],E=Q.useCallback(function(L,H){I(function(V){var Z=Math.round(L),ee=Math.round(H);return V.containerWidth===Z&&V.containerHeight===ee?V:{containerWidth:Z,containerHeight:ee}})},[]);Q.useEffect(function(){var L=function(B){var ae,q=B[0].contentRect,N=q.width,R=q.height;E(N,R),(ae=D.current)===null||ae===void 0||ae.call(D,N,R)};m>0&&(L=SH(L,m,{trailing:!0,leading:!1}));var H=new ResizeObserver(L),V=P.current.getBoundingClientRect(),Z=V.width,ee=V.height;return E(Z,ee),H.observe(P.current),function(){H.disconnect()}},[E,m]);var C=Q.useMemo(function(){var L=b.containerWidth,H=b.containerHeight;if(L<0||H<0)return null;Sc(Th(s)||Th(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Sc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Th(s)?L:s,Z=Th(l)?H:l;r&&r>0&&(V?Z=V/r:Z&&(V=Z*r),h&&Z>h&&(Z=h)),Sc(V>0||Z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,Z,s,l,u,f,r);var ee=!Array.isArray(d)&&_c(d.type).endsWith("Chart");return Ie.Children.map(d,function(W){return Ie.isValidElement(W)?Q.cloneElement(W,Ax({width:V,height:Z},ee?{style:Ax({height:"100%",width:"100%",maxHeight:Z,maxWidth:V},W.props.style)}:{})):W})},[r,d,l,h,f,u,b,s]);return Ie.createElement("div",{id:v?"".concat(v):void 0,className:Rr("recharts-responsive-container",y),style:Ax(Ax({},O),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},C)}),AH=function(t){return null};AH.displayName="Cell";function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){FPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FPe(e,t,r){return t=$Pe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Pe(e){var t=BPe(e,"string");return Kv(t)=="symbol"?t:t+""}function BPe(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wd={widthCache:{},cacheCount:0},VPe=2e3,UPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},WL="recharts_measurement_span";function zPe(e){var t=mE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var zg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tc.isSsr)return{width:0,height:0};var n=zPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Wd.widthCache[a])return Wd.widthCache[a];try{var i=document.getElementById(WL);i||(i=document.createElement("span"),i.setAttribute("id",WL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=mE(mE({},UPe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Wd.widthCache[a]=l,++Wd.cacheCount>VPe&&(Wd.cacheCount=0,Wd.widthCache={}),l}catch{return{width:0,height:0}}},qPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function Ub(e,t){return KPe(e)||GPe(e,t)||HPe(e,t)||WPe()}function WPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HPe(e,t){if(e){if(typeof e=="string")return HL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HL(e,t)}}function HL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function GPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function KPe(e){if(Array.isArray(e))return e}function YPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QPe(n.key),n)}}function XPe(e,t,r){return t&&GL(e.prototype,t),r&&GL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QPe(e){var t=JPe(e,"string");return Yv(t)=="symbol"?t:t+""}function JPe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var KL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZPe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,e6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,TH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},t6e=Object.keys(TH),b0="NaN";function r6e(e,t){return e*TH[t]}var Tx=function(){function e(t,r){YPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!ZPe.test(r)&&(this.num=NaN,this.unit=""),t6e.includes(r)&&(this.num=r6e(t,r),this.unit="px")}return XPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=e6e.exec(r))!==null&&n!==void 0?n:[],i=Ub(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function EH(e){if(e.includes(b0))return b0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=KL.exec(t))!==null&&r!==void 0?r:[],a=Ub(n,4),i=a[1],s=a[2],o=a[3],l=Tx.parse(i??""),c=Tx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return b0;t=t.replace(KL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=YL.exec(t))!==null&&f!==void 0?f:[],d=Ub(h,4),g=d[1],m=d[2],v=d[3],y=Tx.parse(g??""),w=Tx.parse(v??""),_=m==="+"?y.add(w):y.subtract(w);if(_.isNaN())return b0;t=t.replace(YL,_.toString())}return t}var XL=/\(([^()]*)\)/;function n6e(e){for(var t=e;t.includes("(");){var r=XL.exec(t),n=Ub(r,2),a=n[1];t=t.replace(XL,EH(a))}return t}function a6e(e){var t=e.replace(/\s+/g,"");return t=n6e(t),t=EH(t),t}function i6e(e){try{return a6e(e)}catch{return b0}}function uA(e){var t=i6e(e.slice(5,-1));return t===b0?"":t}var s6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],o6e=["dx","dy","angle","className","breakAll"];function gE(){return gE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gE.apply(this,arguments)}function QL(e,t){if(e==null)return{};var r=l6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function JL(e,t){return h6e(e)||f6e(e,t)||u6e(e,t)||c6e()}function c6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u6e(e,t){if(e){if(typeof e=="string")return ZL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZL(e,t)}}function ZL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function h6e(e){if(Array.isArray(e))return e}var kH=/[ \f\n\r\t\v\u2028\u2029]+/,CH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];br(r)||(n?i=r.toString().split(""):i=r.toString().split(kH));var s=i.map(function(l){return{word:l,width:zg(l,a).width}}),o=n?0:zg("",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},d6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=Tt(s),f=o,h=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(Z,ee){var W=ee.word,B=ee.width,ae=Z[Z.length-1];if(ae&&(a==null||i||ae.width+B+n<Number(a)))ae.words.push(W),ae.width+=B+n;else{var q={words:[W],width:B};Z.push(q)}return Z},[])},d=h(r),g=function(V){return V.reduce(function(Z,ee){return Z.width>ee.width?Z:ee})};if(!u)return d;for(var m="",v=function(V){var Z=f.slice(0,V),ee=CH({breakAll:c,style:l,children:Z+m}).wordsWithComputedWidth,W=h(ee),B=W.length>s||g(W).width>Number(a);return[B,W]},y=0,w=f.length-1,_=0,O;y<=w&&_<=f.length-1;){var P=Math.floor((y+w)/2),D=P-1,T=v(D),A=JL(T,2),b=A[0],I=A[1],E=v(P),C=JL(E,1),L=C[0];if(!b&&!L&&(y=P+1),b&&L&&(w=P-1),!b&&L){O=I;break}_++}return O||d},eM=function(t){var r=br(t)?[]:t.toString().split(kH);return[{words:r}]},p6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Tc.isSsr){var l,c,u=CH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return eM(a);return d6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return eM(a)},tM="#808080",zb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?tM:v,w=QL(t,s6e),_=Q.useMemo(function(){return p6e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),O=w.dx,P=w.dy,D=w.angle,T=w.className,A=w.breakAll,b=QL(w,o6e);if(!Ta(n)||!Ta(i))return null;var I=n+(Tt(O)?O:0),E=i+(Tt(P)?P:0),C;switch(m){case"start":C=uA("calc(".concat(c,")"));break;case"middle":C=uA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:C=uA("calc(".concat(_.length-1," * -").concat(o,")"));break}var L=[];if(f){var H=_[0].width,V=w.width;L.push("scale(".concat((Tt(V)?V/H:1)/H,")"))}return D&&L.push("rotate(".concat(D,", ").concat(I,", ").concat(E,")")),L.length&&(b.transform=L.join(" ")),Ie.createElement("text",gE({},Ar(b,!0),{x:I,y:E,className:Rr("recharts-text",T),textAnchor:d,fill:y.includes("url")?tM:y}),_.map(function(Z,ee){var W=Z.words.join(A?"":" ");return Ie.createElement("tspan",{x:I,dy:ee===0?C:o,key:"".concat(W,"-").concat(ee)},W)}))};function hf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function m6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function FN(e){let t,r,n;e.length!==2?(t=hf,r=(o,l)=>hf(e(o),l),n=(o,l)=>e(o)-l):(t=e===hf||e===m6e?e:g6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function g6e(){return 0}function NH(e){return e===null?NaN:+e}function*v6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const y6e=FN(hf),ry=y6e.right;FN(NH).center;class rM extends Map{constructor(t,r=w6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(nM(this,t))}has(t){return super.has(nM(this,t))}set(t,r){return super.set(x6e(this,t),r)}delete(t){return super.delete(b6e(this,t))}}function nM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function x6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function b6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function w6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function _6e(e=hf){if(e===hf)return PH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function PH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const S6e=Math.sqrt(50),A6e=Math.sqrt(10),T6e=Math.sqrt(2);function qb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=S6e?10:i>=A6e?5:i>=T6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?qb(e,t,r*2):[o,l,c]}function vE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?qb(t,e,r):qb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function yE(e,t,r){return t=+t,e=+e,r=+r,qb(e,t,r)[2]}function xE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?yE(t,e,r):yE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function aM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function iM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function OH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?PH:_6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));OH(e,t,d,g,a)}const i=e[t];let s=r,o=n;for(zm(e,r,t),a(e[n],i)>0&&zm(e,r,n);s<o;){for(zm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?zm(e,r,o):(++o,zm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function zm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function E6e(e,t,r){if(e=Float64Array.from(v6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return iM(e);if(t>=1)return aM(e);var n,a=(n-1)*t,i=Math.floor(a),s=aM(OH(e,i).subarray(0,i+1)),o=iM(e.subarray(i+1));return s+(o-s)*(a-i)}}function k6e(e,t,r=NH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function C6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function So(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const bE=Symbol("implicit");function $N(){var e=new rM,t=[],r=[],n=bE;function a(i){let s=e.get(i);if(s===void 0){if(n!==bE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new rM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return $N(t,r).unknown(n)},So.apply(a,arguments),a}function Xv(){var e=$N().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,g=d?a:n,m=d?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=C6e(h).map(function(y){return g+i*y});return r(d?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Xv(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},So.apply(f(),arguments)}function IH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IH(t())},e}function qg(){return IH(Xv.apply(null,arguments).paddingInner(1))}function BN(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function DH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ny(){}var Qv=.7,Wb=1/Qv,B0="\\s*([+-]?\\d+)\\s*",Jv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",N6e=/^#([0-9a-f]{3,8})$/,P6e=new RegExp(`^rgb\\(${B0},${B0},${B0}\\)$`),O6e=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),I6e=new RegExp(`^rgba\\(${B0},${B0},${B0},${Jv}\\)$`),D6e=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${Jv}\\)$`),j6e=new RegExp(`^hsl\\(${Jv},${Fl},${Fl}\\)$`),L6e=new RegExp(`^hsla\\(${Jv},${Fl},${Fl},${Jv}\\)$`),sM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};BN(ny,Zv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:oM,formatHex:oM,formatHex8:M6e,formatHsl:R6e,formatRgb:lM,toString:lM});function oM(){return this.rgb().formatHex()}function M6e(){return this.rgb().formatHex8()}function R6e(){return jH(this).formatHsl()}function lM(){return this.rgb().formatRgb()}function Zv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=N6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?cM(t):r===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Ex(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Ex(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=P6e.exec(e))?new ds(t[1],t[2],t[3],1):(t=O6e.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=I6e.exec(e))?Ex(t[1],t[2],t[3],t[4]):(t=D6e.exec(e))?Ex(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=j6e.exec(e))?hM(t[1],t[2]/100,t[3]/100,1):(t=L6e.exec(e))?hM(t[1],t[2]/100,t[3]/100,t[4]):sM.hasOwnProperty(e)?cM(sM[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}function cM(e){return new ds(e>>16&255,e>>8&255,e&255,1)}function Ex(e,t,r,n){return n<=0&&(e=t=r=NaN),new ds(e,t,r,n)}function F6e(e){return e instanceof ny||(e=Zv(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}function wE(e,t,r,n){return arguments.length===1?F6e(e):new ds(e,t,r,n??1)}function ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}BN(ds,wE,DH(ny,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Qv:Math.pow(Qv,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds(Mh(this.r),Mh(this.g),Mh(this.b),Hb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uM,formatHex:uM,formatHex8:$6e,formatRgb:fM,toString:fM}));function uM(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}`}function $6e(){return`#${Eh(this.r)}${Eh(this.g)}${Eh(this.b)}${Eh((isNaN(this.opacity)?1:this.opacity)*255)}`}function fM(){const e=Hb(this.opacity);return`${e===1?"rgb(":"rgba("}${Mh(this.r)}, ${Mh(this.g)}, ${Mh(this.b)}${e===1?")":`, ${e})`}`}function Hb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Eh(e){return e=Mh(e),(e<16?"0":"")+e.toString(16)}function hM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Xo(e,t,r,n)}function jH(e){if(e instanceof Xo)return new Xo(e.h,e.s,e.l,e.opacity);if(e instanceof ny||(e=Zv(e)),!e)return new Xo;if(e instanceof Xo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Xo(s,o,l,e.opacity)}function B6e(e,t,r,n){return arguments.length===1?jH(e):new Xo(e,t,r,n??1)}function Xo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}BN(Xo,B6e,DH(ny,{brighter(e){return e=e==null?Wb:Math.pow(Wb,e),new Xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Qv:Math.pow(Qv,e),new Xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ds(fA(e>=240?e-240:e+120,a,n),fA(e,a,n),fA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Xo(dM(this.h),kx(this.s),kx(this.l),Hb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Hb(this.opacity);return`${e===1?"hsl(":"hsla("}${dM(this.h)}, ${kx(this.s)*100}%, ${kx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function dM(e){return e=(e||0)%360,e<0?e+360:e}function kx(e){return Math.max(0,Math.min(1,e||0))}function fA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const VN=e=>()=>e;function V6e(e,t){return function(r){return e+r*t}}function U6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function z6e(e){return(e=+e)==1?LH:function(t,r){return r-t?U6e(t,r,e):VN(isNaN(t)?r:t)}}function LH(e,t){var r=t-e;return r?V6e(e,r):VN(isNaN(e)?t:e)}const pM=function e(t){var r=z6e(t);function n(a,i){var s=r((a=wE(a)).r,(i=wE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=LH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function q6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function W6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function H6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=sm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function G6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Gb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function K6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var _E=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hA=new RegExp(_E.source,"g");function Y6e(e){return function(){return e}}function X6e(e){return function(t){return e(t)+""}}function Q6e(e,t){var r=_E.lastIndex=hA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=_E.exec(e))&&(a=hA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Gb(n,a)})),r=hA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?X6e(l[0].x):Y6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function sm(e,t){var r=typeof t,n;return t==null||r==="boolean"?VN(t):(r==="number"?Gb:r==="string"?(n=Zv(t))?(t=n,pM):Q6e:t instanceof Zv?pM:t instanceof Date?G6e:W6e(t)?q6e:Array.isArray(t)?H6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?K6e:Gb)(e,t)}function UN(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function J6e(e,t){t===void 0&&(t=e,e=sm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function Z6e(e){return function(){return e}}function Kb(e){return+e}var mM=[0,1];function zi(e){return e}function SE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Z6e(isNaN(t)?NaN:.5)}function eOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function tOe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=SE(a,n),i=r(s,i)):(n=SE(n,a),i=r(i,s)),function(o){return i(n(o))}}function rOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=SE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ry(e,o,1,n)-1;return i[l](a[l](o))}}function ay(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function q5(){var e=mM,t=mM,r=sm,n,a,i,s=zi,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==zi&&(s=eOe(e[0],e[h-1])),o=h>2?rOe:tOe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Gb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Kb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=UN,u()},f.clamp=function(h){return arguments.length?(s=h?!0:zi,u()):s!==zi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function zN(){return q5()(zi,zi)}function nOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vp(e){return e=Yb(Math.abs(e)),e?e[1]:NaN}function aOe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function iOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var sOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function e1(e){if(!(t=sOe.exec(e)))throw new Error("invalid format: "+e);var t;return new qN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}e1.prototype=qN.prototype;function qN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}qN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var MH;function lOe(e,t){var r=Yb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(MH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Yb(e,Math.max(0,t+i-1))[0]}function gM(e,t){var r=Yb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const vM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:nOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>gM(e*100,t),r:gM,s:lOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function yM(e){return e}var xM=Array.prototype.map,bM=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cOe(e){var t=e.grouping===void 0||e.thousands===void 0?yM:aOe(xM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?yM:iOe(xM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=e1(f);var h=f.fill,d=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,w=f.comma,_=f.precision,O=f.trim,P=f.type;P==="n"?(w=!0,P="g"):vM[P]||(_===void 0&&(_=12),O=!0,P="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var D=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",T=m==="$"?n:/[%p]/.test(P)?s:"",A=vM[P],b=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(E){var C=D,L=T,H,V,Z;if(P==="c")L=A(E)+L,E="";else{E=+E;var ee=E<0||1/E<0;if(E=isNaN(E)?l:A(Math.abs(E),_),O&&(E=oOe(E)),ee&&+E==0&&g!=="+"&&(ee=!1),C=(ee?g==="("?g:o:g==="-"||g==="("?"":g)+C,L=(P==="s"?bM[8+MH/3]:"")+L+(ee&&g==="("?")":""),b){for(H=-1,V=E.length;++H<V;)if(Z=E.charCodeAt(H),48>Z||Z>57){L=(Z===46?a+E.slice(H+1):E.slice(H))+L,E=E.slice(0,H);break}}}w&&!v&&(E=t(E,1/0));var W=C.length+E.length+L.length,B=W<y?new Array(y-W+1).join(h):"";switch(w&&v&&(E=t(B+E,B.length?y-L.length:1/0),B=""),d){case"<":E=C+E+L+B;break;case"=":E=C+B+E+L;break;case"^":E=B.slice(0,W=B.length>>1)+C+E+L+B.slice(W);break;default:E=B+C+E+L;break}return i(E)}return I.toString=function(){return f+""},I}function u(f,h){var d=c((f=e1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(vp(h)/3)))*3,m=Math.pow(10,-g),v=bM[8+g/3];return function(y){return d(m*y)+v}}return{format:c,formatPrefix:u}}var Cx,WN,RH;uOe({thousands:",",grouping:[3],currency:["$",""]});function uOe(e){return Cx=cOe(e),WN=Cx.format,RH=Cx.formatPrefix,Cx}function fOe(e){return Math.max(0,-vp(Math.abs(e)))}function hOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vp(t)/3)))*3-vp(Math.abs(e)))}function dOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vp(t)-vp(e))+1}function FH(e,t,r,n){var a=xE(e,t,r),i;switch(n=e1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=hOe(a,s))&&(n.precision=i),RH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=dOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=fOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return WN(n)}function Rf(e){var t=e.domain;return e.ticks=function(r){var n=t();return vE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return FH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=yE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Xb(){var e=zN();return e.copy=function(){return ay(e,Xb())},So.apply(e,arguments),Rf(e)}function $H(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Kb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return $H(e).unknown(t)},e=arguments.length?Array.from(e,Kb):[0,1],Rf(r)}function BH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function wM(e){return Math.log(e)}function _M(e){return Math.exp(e)}function pOe(e){return-Math.log(-e)}function mOe(e){return-Math.exp(-e)}function gOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vOe(e){return e===10?gOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function yOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function SM(e){return(t,r)=>-e(-t,r)}function HN(e){const t=e(wM,_M),r=t.domain;let n=10,a,i;function s(){return a=yOe(n),i=vOe(n),r()[0]<0?(a=SM(a),i=SM(i),e(pOe,mOe)):e(wM,_M),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=vE(c,u,v))}else y=vE(h,d,Math.min(d-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=e1(l)).precision==null&&(l.trim=!0),l=WN(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(BH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function VH(){const e=HN(q5()).domain([1,10]);return e.copy=()=>ay(e,VH()).base(e.base()),So.apply(e,arguments),e}function AM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function TM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function GN(e){var t=1,r=e(AM(t),TM(t));return r.constant=function(n){return arguments.length?e(AM(t=+n),TM(t)):t},Rf(r)}function UH(){var e=GN(q5());return e.copy=function(){return ay(e,UH()).constant(e.constant())},So.apply(e,arguments)}function EM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function xOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function bOe(e){return e<0?-e*e:e*e}function KN(e){var t=e(zi,zi),r=1;function n(){return r===1?e(zi,zi):r===.5?e(xOe,bOe):e(EM(r),EM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Rf(t)}function YN(){var e=KN(q5());return e.copy=function(){return ay(e,YN()).exponent(e.exponent())},So.apply(e,arguments),e}function wOe(){return YN.apply(null,arguments).exponent(.5)}function kM(e){return Math.sign(e)*e*e}function _Oe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function zH(){var e=zN(),t=[0,1],r=!1,n;function a(i){var s=_Oe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(kM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Kb)).map(kM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return zH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},So.apply(a,arguments),Rf(a)}function qH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=k6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ry(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(hf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return qH().domain(e).range(t).unknown(n)},So.apply(i,arguments)}function WH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ry(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return WH().domain([e,t]).range(a).unknown(i)},So.apply(Rf(s),arguments)}function HH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ry(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return HH().domain(e).range(t).unknown(r)},So.apply(a,arguments)}const dA=new Date,pA=new Date;function Ca(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ca(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(dA.setTime(+i),pA.setTime(+s),e(dA),e(pA),Math.floor(r(dA,pA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Qb=Ca(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Qb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ca(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Qb);Qb.range;const gc=1e3,fo=gc*60,vc=fo*60,Bc=vc*24,XN=Bc*7,CM=Bc*30,mA=Bc*365,kh=Ca(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCSeconds());kh.range;const QN=Ca(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc)},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getMinutes());QN.range;const JN=Ca(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fo)},(e,t)=>(t-e)/fo,e=>e.getUTCMinutes());JN.range;const ZN=Ca(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc-e.getMinutes()*fo)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getHours());ZN.range;const eP=Ca(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getUTCHours());eP.range;const iy=Ca(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fo)/Bc,e=>e.getDate()-1);iy.range;const W5=Ca(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>e.getUTCDate()-1);W5.range;const GH=Ca(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>Math.floor(e/Bc));GH.range;function gd(e){return Ca(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*fo)/XN)}const H5=gd(0),Jb=gd(1),SOe=gd(2),AOe=gd(3),yp=gd(4),TOe=gd(5),EOe=gd(6);H5.range;Jb.range;SOe.range;AOe.range;yp.range;TOe.range;EOe.range;function vd(e){return Ca(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/XN)}const G5=vd(0),Zb=vd(1),kOe=vd(2),COe=vd(3),xp=vd(4),NOe=vd(5),POe=vd(6);G5.range;Zb.range;kOe.range;COe.range;xp.range;NOe.range;POe.range;const tP=Ca(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());tP.range;const rP=Ca(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());rP.range;const Vc=Ca(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ca(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vc.range;const Uc=Ca(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Uc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ca(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Uc.range;function KH(e,t,r,n,a,i){const s=[[kh,1,gc],[kh,5,5*gc],[kh,15,15*gc],[kh,30,30*gc],[i,1,fo],[i,5,5*fo],[i,15,15*fo],[i,30,30*fo],[a,1,vc],[a,3,3*vc],[a,6,6*vc],[a,12,12*vc],[n,1,Bc],[n,2,2*Bc],[r,1,XN],[t,1,CM],[t,3,3*CM],[e,1,mA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),g=d?d.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,d=FN(([,,v])=>v).right(s,h);if(d===s.length)return e.every(xE(c/mA,u/mA,f));if(d===0)return Qb.every(Math.max(xE(c,u,f),1));const[g,m]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(m)}return[o,l]}const[OOe,IOe]=KH(Uc,rP,G5,GH,eP,JN),[DOe,jOe]=KH(Vc,tP,H5,iy,ZN,QN);function gA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function LOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wm(a),u=Hm(a),f=Wm(i),h=Hm(i),d=Wm(s),g=Hm(s),m=Wm(o),v=Hm(o),y=Wm(l),w=Hm(l),_={a:ee,A:W,b:B,B:ae,c:null,d:jM,e:jM,f:aIe,g:pIe,G:gIe,H:tIe,I:rIe,j:nIe,L:YH,m:iIe,M:sIe,p:q,q:N,Q:RM,s:FM,S:oIe,u:lIe,U:cIe,V:uIe,w:fIe,W:hIe,x:null,X:null,y:dIe,Y:mIe,Z:vIe,"%":MM},O={a:R,A:U,b:K,B:G,c:null,d:LM,e:LM,f:wIe,g:OIe,G:DIe,H:yIe,I:xIe,j:bIe,L:QH,m:_Ie,M:SIe,p:ie,q:ue,Q:RM,s:FM,S:AIe,u:TIe,U:EIe,V:kIe,w:CIe,W:NIe,x:null,X:null,y:PIe,Y:IIe,Z:jIe,"%":MM},P={a:I,A:E,b:C,B:L,c:H,d:IM,e:IM,f:QOe,g:OM,G:PM,H:DM,I:DM,j:GOe,L:XOe,m:HOe,M:KOe,p:b,q:WOe,Q:ZOe,s:eIe,S:YOe,u:BOe,U:VOe,V:UOe,w:$Oe,W:zOe,x:V,X:Z,y:OM,Y:PM,Z:qOe,"%":JOe};_.x=D(r,_),_.X=D(n,_),_.c=D(t,_),O.x=D(r,O),O.X=D(n,O),O.c=D(t,O);function D(J,ce){return function(pe){var Y=[],fe=-1,Se=0,ye=J.length,te,Te,Ee;for(pe instanceof Date||(pe=new Date(+pe));++fe<ye;)J.charCodeAt(fe)===37&&(Y.push(J.slice(Se,fe)),(Te=NM[te=J.charAt(++fe)])!=null?te=J.charAt(++fe):Te=te==="e"?" ":"0",(Ee=ce[te])&&(te=Ee(pe,Te)),Y.push(te),Se=fe+1);return Y.push(J.slice(Se,fe)),Y.join("")}}function T(J,ce){return function(pe){var Y=qm(1900,void 0,1),fe=A(Y,J,pe+="",0),Se,ye;if(fe!=pe.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(ce&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Se=vA(qm(Y.y,0,1)),ye=Se.getUTCDay(),Se=ye>4||ye===0?Zb.ceil(Se):Zb(Se),Se=W5.offset(Se,(Y.V-1)*7),Y.y=Se.getUTCFullYear(),Y.m=Se.getUTCMonth(),Y.d=Se.getUTCDate()+(Y.w+6)%7):(Se=gA(qm(Y.y,0,1)),ye=Se.getDay(),Se=ye>4||ye===0?Jb.ceil(Se):Jb(Se),Se=iy.offset(Se,(Y.V-1)*7),Y.y=Se.getFullYear(),Y.m=Se.getMonth(),Y.d=Se.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),ye="Z"in Y?vA(qm(Y.y,0,1)).getUTCDay():gA(qm(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(ye+5)%7:Y.w+Y.U*7-(ye+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,vA(Y)):gA(Y)}}function A(J,ce,pe,Y){for(var fe=0,Se=ce.length,ye=pe.length,te,Te;fe<Se;){if(Y>=ye)return-1;if(te=ce.charCodeAt(fe++),te===37){if(te=ce.charAt(fe++),Te=P[te in NM?ce.charAt(fe++):te],!Te||(Y=Te(J,pe,Y))<0)return-1}else if(te!=pe.charCodeAt(Y++))return-1}return Y}function b(J,ce,pe){var Y=c.exec(ce.slice(pe));return Y?(J.p=u.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function I(J,ce,pe){var Y=d.exec(ce.slice(pe));return Y?(J.w=g.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function E(J,ce,pe){var Y=f.exec(ce.slice(pe));return Y?(J.w=h.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function C(J,ce,pe){var Y=y.exec(ce.slice(pe));return Y?(J.m=w.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function L(J,ce,pe){var Y=m.exec(ce.slice(pe));return Y?(J.m=v.get(Y[0].toLowerCase()),pe+Y[0].length):-1}function H(J,ce,pe){return A(J,t,ce,pe)}function V(J,ce,pe){return A(J,r,ce,pe)}function Z(J,ce,pe){return A(J,n,ce,pe)}function ee(J){return s[J.getDay()]}function W(J){return i[J.getDay()]}function B(J){return l[J.getMonth()]}function ae(J){return o[J.getMonth()]}function q(J){return a[+(J.getHours()>=12)]}function N(J){return 1+~~(J.getMonth()/3)}function R(J){return s[J.getUTCDay()]}function U(J){return i[J.getUTCDay()]}function K(J){return l[J.getUTCMonth()]}function G(J){return o[J.getUTCMonth()]}function ie(J){return a[+(J.getUTCHours()>=12)]}function ue(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var ce=D(J+="",_);return ce.toString=function(){return J},ce},parse:function(J){var ce=T(J+="",!1);return ce.toString=function(){return J},ce},utcFormat:function(J){var ce=D(J+="",O);return ce.toString=function(){return J},ce},utcParse:function(J){var ce=T(J+="",!0);return ce.toString=function(){return J},ce}}}var NM={"-":"",_:" ",0:"0"},Va=/^\s*\d+/,MOe=/^%/,ROe=/[\\^$*+?|[\]().{}]/g;function Fr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function FOe(e){return e.replace(ROe,"\\$&")}function Wm(e){return new RegExp("^(?:"+e.map(FOe).join("|")+")","i")}function Hm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function $Oe(e,t,r){var n=Va.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=Va.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function UOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function zOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function PM(e,t,r){var n=Va.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function OM(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function qOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function WOe(e,t,r){var n=Va.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function HOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function IM(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function GOe(e,t,r){var n=Va.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function DM(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function KOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function YOe(e,t,r){var n=Va.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function XOe(e,t,r){var n=Va.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QOe(e,t,r){var n=Va.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function JOe(e,t,r){var n=MOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function ZOe(e,t,r){var n=Va.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function eIe(e,t,r){var n=Va.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jM(e,t){return Fr(e.getDate(),t,2)}function tIe(e,t){return Fr(e.getHours(),t,2)}function rIe(e,t){return Fr(e.getHours()%12||12,t,2)}function nIe(e,t){return Fr(1+iy.count(Vc(e),e),t,3)}function YH(e,t){return Fr(e.getMilliseconds(),t,3)}function aIe(e,t){return YH(e,t)+"000"}function iIe(e,t){return Fr(e.getMonth()+1,t,2)}function sIe(e,t){return Fr(e.getMinutes(),t,2)}function oIe(e,t){return Fr(e.getSeconds(),t,2)}function lIe(e){var t=e.getDay();return t===0?7:t}function cIe(e,t){return Fr(H5.count(Vc(e)-1,e),t,2)}function XH(e){var t=e.getDay();return t>=4||t===0?yp(e):yp.ceil(e)}function uIe(e,t){return e=XH(e),Fr(yp.count(Vc(e),e)+(Vc(e).getDay()===4),t,2)}function fIe(e){return e.getDay()}function hIe(e,t){return Fr(Jb.count(Vc(e)-1,e),t,2)}function dIe(e,t){return Fr(e.getFullYear()%100,t,2)}function pIe(e,t){return e=XH(e),Fr(e.getFullYear()%100,t,2)}function mIe(e,t){return Fr(e.getFullYear()%1e4,t,4)}function gIe(e,t){var r=e.getDay();return e=r>=4||r===0?yp(e):yp.ceil(e),Fr(e.getFullYear()%1e4,t,4)}function vIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Fr(t/60|0,"0",2)+Fr(t%60,"0",2)}function LM(e,t){return Fr(e.getUTCDate(),t,2)}function yIe(e,t){return Fr(e.getUTCHours(),t,2)}function xIe(e,t){return Fr(e.getUTCHours()%12||12,t,2)}function bIe(e,t){return Fr(1+W5.count(Uc(e),e),t,3)}function QH(e,t){return Fr(e.getUTCMilliseconds(),t,3)}function wIe(e,t){return QH(e,t)+"000"}function _Ie(e,t){return Fr(e.getUTCMonth()+1,t,2)}function SIe(e,t){return Fr(e.getUTCMinutes(),t,2)}function AIe(e,t){return Fr(e.getUTCSeconds(),t,2)}function TIe(e){var t=e.getUTCDay();return t===0?7:t}function EIe(e,t){return Fr(G5.count(Uc(e)-1,e),t,2)}function JH(e){var t=e.getUTCDay();return t>=4||t===0?xp(e):xp.ceil(e)}function kIe(e,t){return e=JH(e),Fr(xp.count(Uc(e),e)+(Uc(e).getUTCDay()===4),t,2)}function CIe(e){return e.getUTCDay()}function NIe(e,t){return Fr(Zb.count(Uc(e)-1,e),t,2)}function PIe(e,t){return Fr(e.getUTCFullYear()%100,t,2)}function OIe(e,t){return e=JH(e),Fr(e.getUTCFullYear()%100,t,2)}function IIe(e,t){return Fr(e.getUTCFullYear()%1e4,t,4)}function DIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xp(e):xp.ceil(e),Fr(e.getUTCFullYear()%1e4,t,4)}function jIe(){return"+0000"}function MM(){return"%"}function RM(e){return+e}function FM(e){return Math.floor(+e/1e3)}var Hd,ZH,eG;LIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LIe(e){return Hd=LOe(e),ZH=Hd.format,Hd.parse,eG=Hd.utcFormat,Hd.utcParse,Hd}function MIe(e){return new Date(e)}function RIe(e){return e instanceof Date?+e:+new Date(+e)}function nP(e,t,r,n,a,i,s,o,l,c){var u=zN(),f=u.invert,h=u.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),O=c("%Y");function P(D){return(l(D)<D?d:o(D)<D?g:s(D)<D?m:i(D)<D?v:n(D)<D?a(D)<D?y:w:r(D)<D?_:O)(D)}return u.invert=function(D){return new Date(f(D))},u.domain=function(D){return arguments.length?h(Array.from(D,RIe)):h().map(MIe)},u.ticks=function(D){var T=h();return e(T[0],T[T.length-1],D??10)},u.tickFormat=function(D,T){return T==null?P:c(T)},u.nice=function(D){var T=h();return(!D||typeof D.range!="function")&&(D=t(T[0],T[T.length-1],D??10)),D?h(BH(T,D)):u},u.copy=function(){return ay(u,nP(e,t,r,n,a,i,s,o,l,c))},u}function FIe(){return So.apply(nP(DOe,jOe,Vc,tP,H5,iy,ZN,QN,kh,ZH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function $Ie(){return So.apply(nP(OOe,IOe,Uc,rP,G5,W5,eP,JN,kh,eG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function K5(){var e=0,t=1,r,n,a,i,s=zi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),c):[s(0),s(1)]}}return c.range=u(sm),c.rangeRound=u(UN),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Ff(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function tG(){var e=Rf(K5()(zi));return e.copy=function(){return Ff(e,tG())},Jc.apply(e,arguments)}function rG(){var e=HN(K5()).domain([1,10]);return e.copy=function(){return Ff(e,rG()).base(e.base())},Jc.apply(e,arguments)}function nG(){var e=GN(K5());return e.copy=function(){return Ff(e,nG()).constant(e.constant())},Jc.apply(e,arguments)}function aP(){var e=KN(K5());return e.copy=function(){return Ff(e,aP()).exponent(e.exponent())},Jc.apply(e,arguments)}function BIe(){return aP.apply(null,arguments).exponent(.5)}function aG(){var e=[],t=zi;function r(n){if(n!=null&&!isNaN(n=+n))return t((ry(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(hf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>E6e(e,i/n))},r.copy=function(){return aG(t).domain(e)},Jc.apply(r,arguments)}function Y5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=zi,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function g(m){return function(v){var y,w,_;return arguments.length?([y,w,_]=v,c=J6e(m,[y,w,_]),d):[c(0),c(.5),c(1)]}}return d.range=g(sm),d.rangeRound=g(UN),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function iG(){var e=Rf(Y5()(zi));return e.copy=function(){return Ff(e,iG())},Jc.apply(e,arguments)}function sG(){var e=HN(Y5()).domain([.1,1,10]);return e.copy=function(){return Ff(e,sG()).base(e.base())},Jc.apply(e,arguments)}function oG(){var e=GN(Y5());return e.copy=function(){return Ff(e,oG()).constant(e.constant())},Jc.apply(e,arguments)}function iP(){var e=KN(Y5());return e.copy=function(){return Ff(e,iP()).exponent(e.exponent())},Jc.apply(e,arguments)}function VIe(){return iP.apply(null,arguments).exponent(.5)}const $M=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xv,scaleDiverging:iG,scaleDivergingLog:sG,scaleDivergingPow:iP,scaleDivergingSqrt:VIe,scaleDivergingSymlog:oG,scaleIdentity:$H,scaleImplicit:bE,scaleLinear:Xb,scaleLog:VH,scaleOrdinal:$N,scalePoint:qg,scalePow:YN,scaleQuantile:qH,scaleQuantize:WH,scaleRadial:zH,scaleSequential:tG,scaleSequentialLog:rG,scaleSequentialPow:aP,scaleSequentialQuantile:aG,scaleSequentialSqrt:BIe,scaleSequentialSymlog:nG,scaleSqrt:wOe,scaleSymlog:UH,scaleThreshold:HH,scaleTime:FIe,scaleUtc:$Ie,tickFormat:FH},Symbol.toStringTag,{value:"Module"}));var UIe=Jp;function zIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!UIe(s):r(s,o)))var o=s,l=i}return l}var lG=zIe;function qIe(e,t){return e>t}var WIe=qIe,HIe=lG,GIe=WIe,KIe=im;function YIe(e){return e&&e.length?HIe(e,KIe,GIe):void 0}var XIe=YIe;const X5=sn(XIe);function QIe(e,t){return e<t}var JIe=QIe,ZIe=lG,e8e=JIe,t8e=im;function r8e(e){return e&&e.length?ZIe(e,t8e,e8e):void 0}var n8e=r8e;const Q5=sn(n8e);var a8e=xN,i8e=Mf,s8e=gH,o8e=ys;function l8e(e,t){var r=o8e(e)?a8e:s8e;return r(e,i8e(t))}var c8e=l8e,u8e=pH,f8e=c8e;function h8e(e,t){return u8e(f8e(e,t),1)}var d8e=h8e;const p8e=sn(d8e);var m8e=jN;function g8e(e,t){return m8e(e,t)}var v8e=g8e;const J5=sn(v8e);var om=1e9,y8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},oP,Pn=!0,bo="[DecimalError] ",Rh=bo+"Invalid argument: ",sP=bo+"Exponent out of range: ",lm=Math.floor,ph=Math.pow,x8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ds,ja=1e7,wn=7,cG=9007199254740991,ew=lm(cG/wn),Rt={};Rt.absoluteValue=Rt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Rt.comparedTo=Rt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Rt.decimalPlaces=Rt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*wn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Rt.dividedBy=Rt.div=function(e){return Ec(this,new this.constructor(e))};Rt.dividedToIntegerBy=Rt.idiv=function(e){var t=this,r=t.constructor;return un(Ec(t,new r(e),0,1),r.precision)};Rt.equals=Rt.eq=function(e){return!this.cmp(e)};Rt.exponent=function(){return ma(this)};Rt.greaterThan=Rt.gt=function(e){return this.cmp(e)>0};Rt.greaterThanOrEqualTo=Rt.gte=function(e){return this.cmp(e)>=0};Rt.isInteger=Rt.isint=function(){return this.e>this.d.length-2};Rt.isNegative=Rt.isneg=function(){return this.s<0};Rt.isPositive=Rt.ispos=function(){return this.s>0};Rt.isZero=function(){return this.s===0};Rt.lessThan=Rt.lt=function(e){return this.cmp(e)<0};Rt.lessThanOrEqualTo=Rt.lte=function(e){return this.cmp(e)<1};Rt.logarithm=Rt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ds))throw Error(bo+"NaN");if(r.s<1)throw Error(bo+(r.s?"NaN":"-Infinity"));return r.eq(Ds)?new n(0):(Pn=!1,t=Ec(t1(r,i),t1(e,i),i),Pn=!0,un(t,a))};Rt.minus=Rt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hG(t,e):uG(t,(e.s=-e.s,e))};Rt.modulo=Rt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(bo+"NaN");return r.s?(Pn=!1,t=Ec(r,e,0,1).times(e),Pn=!0,r.minus(t)):un(new n(r),a)};Rt.naturalExponential=Rt.exp=function(){return fG(this)};Rt.naturalLogarithm=Rt.ln=function(){return t1(this)};Rt.negated=Rt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Rt.plus=Rt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?uG(t,e):hG(t,(e.s=-e.s,e))};Rt.precision=Rt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rh+e);if(t=ma(a)+1,n=a.d.length-1,r=n*wn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Rt.squareRoot=Rt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(bo+"NaN")}for(e=ma(o),Pn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Nl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ec(o,i,s+2)).times(.5),Nl(i.d).slice(0,s)===(t=Nl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(un(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Pn=!0,un(n,r)};Rt.times=Rt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%ja|0,t=o/ja|0;i[a]=(i[a]+t)%ja|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Pn?un(e,f.precision):e};Rt.toDecimalPlaces=Rt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zl(e,0,om),t===void 0?t=n.rounding:zl(t,0,8),un(r,e+ma(r)+1,t))};Rt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ed(n,!0):(zl(e,0,om),t===void 0?t=a.rounding:zl(t,0,8),n=un(new a(n),e+1,t),r=ed(n,!0,e+1)),r};Rt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ed(a):(zl(e,0,om),t===void 0?t=i.rounding:zl(t,0,8),n=un(new i(a),e+ma(a)+1,t),r=ed(n.abs(),!1,e+ma(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Rt.toInteger=Rt.toint=function(){var e=this,t=e.constructor;return un(new t(e),ma(e)+1,t.rounding)};Rt.toNumber=function(){return+this};Rt.toPower=Rt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ds);if(o=new l(o),!o.s){if(e.s<1)throw Error(bo+"Infinity");return o}if(o.eq(Ds))return o;if(n=l.precision,e.eq(Ds))return un(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=cG){for(a=new l(Ds),t=Math.ceil(n/wn+4),Pn=!1;r%2&&(a=a.times(o),VM(a.d,t)),r=lm(r/2),r!==0;)o=o.times(o),VM(o.d,t);return Pn=!0,e.s<0?new l(Ds).div(a):un(a,n)}}else if(i<0)throw Error(bo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Pn=!1,a=e.times(t1(o,n+c)),Pn=!0,a=fG(a),a.s=i,a};Rt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ma(a),n=ed(a,r<=i.toExpNeg||r>=i.toExpPos)):(zl(e,1,om),t===void 0?t=i.rounding:zl(t,0,8),a=un(new i(a),e,t),r=ma(a),n=ed(a,e<=r||r<=i.toExpNeg,e)),n};Rt.toSignificantDigits=Rt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zl(e,1,om),t===void 0?t=n.rounding:zl(t,0,8)),un(new n(r),e,t)};Rt.toString=Rt.valueOf=Rt.val=Rt.toJSON=Rt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ma(e),r=e.constructor;return ed(e,t<=r.toExpNeg||t>=r.toExpPos)};function uG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Pn?un(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/wn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/ja|0,l[i]%=ja;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Pn?un(t,f):t}function zl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rh+e)}function Nl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=wn-n.length,r&&(i+=Lu(r)),i+=n;s=e[t],n=s+"",r=wn-n.length,r&&(i+=Lu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ec=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%ja|0,s=i/ja|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*ja+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,g,m,v,y,w,_,O,P,D,T,A,b=n.constructor,I=n.s==a.s?1:-1,E=n.d,C=a.d;if(!n.s)return new b(n);if(!a.s)throw Error(bo+"Division by zero");for(l=n.e-a.e,T=C.length,P=E.length,d=new b(I),g=d.d=[],c=0;C[c]==(E[c]||0);)++c;if(C[c]>(E[c]||0)&&--l,i==null?w=i=b.precision:s?w=i+(ma(n)-ma(a))+1:w=i,w<0)return new b(0);if(w=w/wn+2|0,c=0,T==1)for(u=0,C=C[0],w++;(c<P||u)&&w--;c++)_=u*ja+(E[c]||0),g[c]=_/C|0,u=_%C|0;else{for(u=ja/(C[0]+1)|0,u>1&&(C=e(C,u),E=e(E,u),T=C.length,P=E.length),O=T,m=E.slice(0,T),v=m.length;v<T;)m[v++]=0;A=C.slice(),A.unshift(0),D=C[0],C[1]>=ja/2&&++D;do u=0,o=t(C,m,T,v),o<0?(y=m[0],T!=v&&(y=y*ja+(m[1]||0)),u=y/D|0,u>1?(u>=ja&&(u=ja-1),f=e(C,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,T<h?A:C,h))):(u==0&&(o=u=1),f=C.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(C,m,T,v),o<1&&(u++,r(m,T<v?A:C,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=E[O]||0:(m=[E[O]],v=1);while((O++<P||m[0]!==void 0)&&w--)}return g[0]||g.shift(),d.e=l,un(d,s?i+ma(d)+1:i)}}();function fG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ma(e)>16)throw Error(sP+ma(e));if(!e.s)return new u(Ds);for(t==null?(Pn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(ph(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ds),u.precision=o;;){if(a=un(a.times(e),o),r=r.times(++l),s=i.plus(Ec(a,r,o)),Nl(s.d).slice(0,o)===Nl(i.d).slice(0,o)){for(;c--;)i=un(i.times(i),o);return u.precision=f,t==null?(Pn=!0,un(i,f)):i}i=s}}function ma(e){for(var t=e.e*wn,r=e.d[0];r>=10;r/=10)t++;return t}function yA(e,t,r){if(t>e.LN10.sd())throw Pn=!0,r&&(e.precision=r),Error(bo+"LN10 precision limit exceeded");return un(new e(e.LN10),t)}function Lu(e){for(var t="";e--;)t+="0";return t}function t1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,g=d.d,m=d.constructor,v=m.precision;if(d.s<1)throw Error(bo+(d.s?"NaN":"-Infinity"));if(d.eq(Ds))return new m(0);if(t==null?(Pn=!1,c=v):c=t,d.eq(10))return t==null&&(Pn=!0),yA(m,c);if(c+=h,m.precision=c,r=Nl(g),n=r.charAt(0),i=ma(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Nl(d.d),n=r.charAt(0),f++;i=ma(d),n>1?(d=new m("0."+r),i++):d=new m(n+"."+r.slice(1))}else return l=yA(m,c+2,v).times(i+""),d=t1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Pn=!0,un(d,v)):d;for(o=s=d=Ec(d.minus(Ds),d.plus(Ds),c),u=un(d.times(d),c),a=3;;){if(s=un(s.times(u),c),l=o.plus(Ec(s,new m(a),c)),Nl(l.d).slice(0,c)===Nl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(yA(m,c+2,v).times(i+""))),o=Ec(o,new m(f),c),m.precision=v,t==null?(Pn=!0,un(o,v)):o;o=l,a+=2}}function BM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=lm(r/wn),e.d=[],n=(r+1)%wn,r<0&&(n+=wn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=wn;n<a;)e.d.push(+t.slice(n,n+=wn));t=t.slice(n),n=wn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Pn&&(e.e>ew||e.e<-ew))throw Error(sP+r)}else e.s=0,e.e=0,e.d=[0];return e}function un(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=wn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/wn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=wn,a=n-wn+s}if(r!==void 0&&(i=ph(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/ph(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ma(e),f.length=1,t=t-i-1,f[0]=ph(10,(wn-t%wn)%wn),e.e=lm(-t/wn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=ph(10,wn-n),f[u]=a>0?(c/ph(10,s-a)%ph(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==ja&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=ja)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Pn&&(e.e>ew||e.e<-ew))throw Error(sP+ma(e));return e}function hG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Pn?un(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/wn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ja-1;--l[i],l[a]+=ja}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Pn?un(t,d):t):new h(0)}function ed(e,t,r){var n,a=ma(e),i=Nl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Lu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Lu(-a-1)+i,r&&(n=r-s)>0&&(i+=Lu(n))):a>=s?(i+=Lu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Lu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Lu(n))),e.s<0?"-"+i:i}function VM(e,t){if(e.length>t)return e.length=t,!0}function dG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Rh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return BM(s,i.toString())}else if(typeof i!="string")throw Error(Rh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,x8e.test(i))BM(s,i);else throw Error(Rh+i)}if(a.prototype=Rt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=dG,a.config=a.set=b8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function b8e(e){if(!e||typeof e!="object")throw Error(bo+"Object expected");var t,r,n,a=["precision",1,om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(lm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Rh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rh+r+": "+n);return this}var oP=dG(y8e);Ds=new oP(1);const nn=oP;function w8e(e){return T8e(e)||A8e(e)||S8e(e)||_8e()}function _8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S8e(e,t){if(e){if(typeof e=="string")return AE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(e,t)}}function A8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function T8e(e){if(Array.isArray(e))return AE(e)}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var E8e=function(t){return t},pG={"@@functional/placeholder":!0},mG=function(t){return t===pG},UM=function(t){return function r(){return arguments.length===0||arguments.length===1&&mG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},k8e=function e(t,r){return t===1?r:UM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==pG}).length;return s>=t?r.apply(void 0,a):e(t-s,UM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return mG(f)?l.shift():f});return r.apply(void 0,w8e(u).concat(l))}))})},Z5=function(t){return k8e(t.length,t)},TE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},C8e=Z5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),N8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return E8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},EE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},gG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function P8e(e){var t;return e===0?t=1:t=Math.floor(new nn(e).abs().log(10).toNumber())+1,t}function O8e(e,t,r){for(var n=new nn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var I8e=Z5(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),D8e=Z5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),j8e=Z5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const e_={rangeStep:O8e,getDigitCount:P8e,interpolateNumber:I8e,uninterpolateNumber:D8e,uninterpolateTruncation:j8e};function kE(e){return R8e(e)||M8e(e)||vG(e)||L8e()}function L8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function R8e(e){if(Array.isArray(e))return CE(e)}function r1(e,t){return B8e(e)||$8e(e,t)||vG(e,t)||F8e()}function F8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vG(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function B8e(e){if(Array.isArray(e))return e}function yG(e){var t=r1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function xG(e,t,r){if(e.lte(0))return new nn(0);var n=e_.getDigitCount(e.toNumber()),a=new nn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new nn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new nn(Math.ceil(l))}function V8e(e,t,r){var n=1,a=new nn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new nn(10).pow(e_.getDigitCount(e)-1),a=new nn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new nn(Math.floor(e)))}else e===0?a=new nn(Math.floor((t-1)/2)):r||(a=new nn(Math.floor(e)));var s=Math.floor((t-1)/2),o=N8e(C8e(function(l){return a.add(new nn(l-s).mul(n)).toNumber()}),TE);return o(0,t)}function bG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new nn(0),tickMin:new nn(0),tickMax:new nn(0)};var i=xG(new nn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new nn(0):(s=new nn(e).add(t).div(2),s=s.sub(new nn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new nn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?bG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new nn(o).mul(i)),tickMax:s.add(new nn(l).mul(i))})}function U8e(e){var t=r1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=yG([r,n]),l=r1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(kE(TE(0,a-1).map(function(){return 1/0}))):[].concat(kE(TE(0,a-1).map(function(){return-1/0})),[u]);return r>n?EE(f):f}if(c===u)return V8e(c,a,i);var h=bG(c,u,s,i),d=h.step,g=h.tickMin,m=h.tickMax,v=e_.rangeStep(g,m.add(new nn(.1).mul(d)),d);return r>n?EE(v):v}function z8e(e,t){var r=r1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=yG([n,a]),o=r1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=xG(new nn(c).sub(l).div(u-1),i,0),h=[].concat(kE(e_.rangeStep(new nn(l),new nn(c).sub(new nn(.99).mul(f)),f)),[c]);return n>a?EE(h):h}var q8e=gG(U8e),W8e=gG(z8e),H8e="Invariant failed";function td(e,t){throw new Error(H8e)}var G8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tw.apply(this,arguments)}function K8e(e,t){return J8e(e)||Q8e(e,t)||X8e(e,t)||Y8e()}function Y8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X8e(e,t){if(e){if(typeof e=="string")return zM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zM(e,t)}}function zM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function J8e(e){if(Array.isArray(e))return e}function Z8e(e,t){if(e==null)return{};var r=eDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SG(n.key),n)}}function nDe(e,t,r){return t&&rDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function aDe(e,t,r){return t=rw(t),iDe(e,wG()?Reflect.construct(t,r||[],rw(e).constructor):t.apply(e,r))}function iDe(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sDe(e)}function sDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wG=function(){return!!e})()}function rw(e){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rw(e)}function oDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&NE(e,t)}function NE(e,t){return NE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},NE(e,t)}function _G(e,t,r){return t=SG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=lDe(e,"string");return bp(t)=="symbol"?t:t+""}function lDe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sy=function(e){function t(){return tDe(this,t),aDe(this,t,arguments)}return oDe(t,e),nDe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=Z8e(n,G8e),d=Ar(h,!1);this.props.direction==="x"&&u.type!=="number"&&td();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,_=v.value,O=v.errorVal;if(!O)return null;var P=[],D,T;if(Array.isArray(O)){var A=K8e(O,2);D=A[0],T=A[1]}else D=T=O;if(i==="vertical"){var b=u.scale,I=w+a,E=I+s,C=I-s,L=b(_-D),H=b(_+T);P.push({x1:H,y1:E,x2:H,y2:C}),P.push({x1:L,y1:I,x2:H,y2:I}),P.push({x1:L,y1:E,x2:L,y2:C})}else if(i==="horizontal"){var V=f.scale,Z=y+a,ee=Z-s,W=Z+s,B=V(_-D),ae=V(_+T);P.push({x1:ee,y1:ae,x2:W,y2:ae}),P.push({x1:Z,y1:B,x2:Z,y2:ae}),P.push({x1:ee,y1:B,x2:W,y2:B})}return Ie.createElement(aa,tw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(q){return"".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))},d),P.map(function(q){return Ie.createElement("line",tw({},q,{key:"line-".concat(q.x1,"-").concat(q.x2,"-").concat(q.y1,"-").concat(q.y2)}))}))});return Ie.createElement(aa,{className:"recharts-errorBars"},g)}}])}(Ie.Component);_G(sy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});_G(sy,"displayName","ErrorBar");function n1(e){"@babel/helpers - typeof";return n1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n1(e)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ih(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){cDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cDe(e,t,r){return t=uDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uDe(e){var t=fDe(e,"string");return n1(t)=="symbol"?t:t+""}function fDe(e,t){if(n1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(n1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ps(r,Ac);if(!s)return null;var o=Ac.defaultProps,l=o!==void 0?ih(ih({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?ih(ih({},h),f.props):{},g=d.dataKey,m=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:lP(f),value:m||g,payload:d}}),ih(ih(ih({},l),Ac.getWithHeight(s,a)),{},{payload:c,item:s})};function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function WM(e){return mDe(e)||pDe(e)||dDe(e)||hDe()}function hDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dDe(e,t){if(e){if(typeof e=="string")return PE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PE(e,t)}}function pDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mDe(e){if(Array.isArray(e))return PE(e)}function PE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Kn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){V0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V0(e,t,r){return t=gDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gDe(e){var t=vDe(e,"string");return a1(t)=="symbol"?t:t+""}function vDe(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Us(e,t,r){return br(e)||br(t)?r:Ta(t)?mo(e,t,r):pr(t)?t(e):r}function Wg(e,t,r,n){var a=p8e(e,function(o){return Us(o,t)});if(r==="number"){var i=a.filter(function(o){return Tt(o)||parseFloat(o)});return i.length?[Q5(i),X5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!br(o)}):a;return s.map(function(o){return Ta(o)||o instanceof Date?o:""})}var yDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(Zo(f-u)!==Zo(h-f)){var g=[];if(Zo(h-f)===Zo(l[1]-l[0])){d=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{d=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),_=Math.max(u,h);if(t>(w+f)/2&&t<=(_+f)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},lP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},xDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(T){return _c(T.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Kn(Kn({},w),y[0].props):y[0].props,O=_.barSize,P=_[v];s[P]||(s[P]=[]);var D=br(O)?r:O;s[P].push({item:y[0],stackList:y.slice(1),barSize:br(D)?void 0:Zh(D,n,0)})}}return s},bDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Zh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,g=s.reduce(function(O,P){return O+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&d>0&&(h=!0,d*=.9,g=l*d);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(O,P){var D={item:P.item,position:{offset:v.offset+v.size+c,size:h?d:P.barSize}},T=[].concat(WM(O),[D]);return v=T[T.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){T.push({item:A,position:v})}),T},f)}else{var y=Zh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(O,P,D){var T=[].concat(WM(O),[{item:P.item,position:{offset:y+(w+c)*D+(w-_)/2,size:_}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){T.push({item:A,position:T[T.length-1].position})}),T},f)}return u},wDe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=AG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&d!=="center"&&Tt(t[d]))return Kn(Kn({},t),{},V0({},d,t[d]+(f||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&g!=="middle"&&Tt(t[g]))return Kn(Kn({},t),{},V0({},g,t[g]+(h||0)))}return t},_De=function(t,r,n){return br(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},TG=function(t,r,n,a,i){var s=r.props.children,o=go(s,sy).filter(function(c){return _De(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Us(u,n);if(br(f))return c;var h=Array.isArray(f)?[Q5(f),X5(f)]:[f,f],d=l.reduce(function(g,m){var v=Us(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},SDe=function(t,r,n,a,i){var s=r.map(function(o){return TG(t,o,n,i,a)}).filter(function(o){return!br(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},EG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&TG(t,l,c,a)||Wg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},kG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},CG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},yc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Zo(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Z1(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},xA=new WeakMap,Nx=function(t,r){if(typeof r!="function")return t;xA.has(t)||xA.set(t,new WeakMap);var n=xA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},ADe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Xv(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Xb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qg(),realScaleType:"point"}:i==="category"?{scale:Xv(),realScaleType:"band"}:{scale:Xb(),realScaleType:"linear"};if(Jh(a)){var l="scale".concat(R5(a));return{scale:($M[l]||qg)(),realScaleType:$M[l]?l:"point"}}return pr(a)?{scale:a}:{scale:qg(),realScaleType:"point"}},GM=1e-4,TDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-GM,s=Math.max(a[0],a[1])+GM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},EDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},kDe=function(t,r){if(!r||r.length!==2||!Tt(r[0])||!Tt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Tt(t[0])||t[0]<n)&&(i[0]=n),(!Tt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},CDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Z1(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},NDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Z1(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},PDe={sign:CDe,expand:WSe,none:hp,silhouette:HSe,wiggle:GSe,positive:NDe},ODe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=PDe[n],s=qSe().keys(a).value(function(o,l){return+Us(o,l,0)}).order(tE).offset(i);return s(t)},IDe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Kn(Kn({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(Ta(m)){var _=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[m]=_}else w.stackGroups[ey("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Kn(Kn({},f),{},V0({},y,w))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,v){var y=d.stackGroups[v];return Kn(Kn({},m),{},V0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:ODe(t,y.items,i)}))},g)}return Kn(Kn({},f),{},V0({},h,d))},u)},DDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=q8e(c,i,o);return t.domain([Q5(u),X5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=W8e(f,i,o);return{niceTicks:h}}return null};function KM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!br(a[t.dataKey])){var o=kb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Us(a,br(s)?t.dataKey:s);return br(l)?null:t.scale(l)}var YM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Us(s,r.dataKey,r.domain[o]);return br(l)?null:r.scale(l)-i/2+a},jDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},LDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ta(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},MDe=function(t){return t.reduce(function(r,n){return[Q5(n.concat([r[0]]).filter(Tt)),X5(n.concat([r[1]]).filter(Tt))]},[1/0,-1/0])},NG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=MDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},XM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,OE=function(t,r,n){if(pr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(Tt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(XM.test(t[0])){var i=+XM.exec(t[0])[1];a[0]=r[0]-i}else pr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(Tt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(QM.test(t[1])){var s=+QM.exec(t[1])[1];a[1]=r[1]+s}else pr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},nw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=MN(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},JM=function(t,r,n){return!t||!t.length||J5(t,mo(n,"type.defaultProps.domain"))?r:t},PG=function(t,r){var n=t.type.defaultProps?Kn(Kn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Kn(Kn({},Ar(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:lP(t),value:Us(r,a),type:l,payload:r,chartType:c,hide:u})};function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){RDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RDe(e,t,r){return t=FDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FDe(e){var t=$De(e,"string");return i1(t)=="symbol"?t:t+""}function $De(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aw=Math.PI/180,BDe=function(t){return t*180/Math.PI},ei=function(t,r,n,a){return{x:t+Math.cos(-aw*a)*n,y:r+Math.sin(-aw*a)*n}},VDe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},UDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=VDe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:BDe(c),angleInRadian:c}},zDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},qDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},tR=function(t,r){var n=t.x,a=t.y,i=UDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=zDe(r),f=u.startAngle,h=u.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?eR(eR({},r),{},{radius:s,angle:qDe(d,r)}):null};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}var WDe=["offset"];function HDe(e){return XDe(e)||YDe(e)||KDe(e)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KDe(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function YDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XDe(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QDe(e,t){if(e==null)return{};var r=JDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){ZDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZDe(e,t,r){return t=eje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eje(e){var t=tje(e,"string");return s1(t)=="symbol"?t:t+""}function tje(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o1.apply(this,arguments)}var rje=function(t){var r=t.value,n=t.formatter,a=br(t.children)?r:t.children;return pr(n)?n(a):a},nje=function(t,r){var n=Zo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},aje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=nje(d,g),w=y>=0?1:-1,_,O;a==="insideStart"?(_=d+w*s,O=m):a==="insideEnd"?(_=g-w*s,O=!m):a==="end"&&(_=g+w*s,O=m),O=y<=0?O:!O;var P=ei(c,u,v,_),D=ei(c,u,v,_+(O?1:-1)*359),T="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(D.x,",").concat(D.y),A=br(t.id)?ey("recharts-radial-line-"):t.id;return Ie.createElement("text",o1({},n,{dominantBaseline:"central",className:Rr("recharts-radial-bar-label",o)}),Ie.createElement("defs",null,Ie.createElement("path",{id:A,d:T})),Ie.createElement("textPath",{xlinkHref:"#".concat(A)},r))},ije=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=ei(s,o,c+n,h),g=d.x,m=d.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=ei(s,o,v,h),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},sje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var _={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return xa(xa({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return xa(xa({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return xa(xa({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var D={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return xa(xa({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?xa({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},T):i==="insideRight"?xa({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?xa({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):i==="insideBottom"?xa({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?xa({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},T):i==="insideTopRight"?xa({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},T):i==="insideBottomLeft"?xa({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:d},T):i==="insideBottomRight"?xa({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:d},T):Zp(i)&&(Tt(i.x)||Th(i.x))&&(Tt(i.y)||Th(i.y))?xa({x:o+Zh(i.x,c),y:l+Zh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):xa({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},oje=function(t){return"cx"in t&&Tt(t.cx)};function _i(e){var t=e.offset,r=t===void 0?5:t,n=QDe(e,WDe),a=xa({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||br(o)&&br(l)&&!Q.isValidElement(c)&&!pr(c))return null;if(Q.isValidElement(c))return Q.cloneElement(c,a);var d;if(pr(c)){if(d=Q.createElement(c,a),Q.isValidElement(d))return d}else d=rje(a);var g=oje(i),m=Ar(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return aje(a,d,m);var v=g?ije(a):sje(a);return Ie.createElement(zb,o1({className:Rr("recharts-label",f)},m,v,{breakAll:h}),d)}_i.displayName="Label";var OG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(Tt(m)&&Tt(v)){if(Tt(f)&&Tt(h))return{x:f,y:h,width:m,height:v};if(Tt(d)&&Tt(g))return{x:d,y:g,width:m,height:v}}return Tt(f)&&Tt(h)?{x:f,y:h,width:0,height:0}:Tt(r)&&Tt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},lje=function(t,r){return t?t===!0?Ie.createElement(_i,{key:"label-implicit",viewBox:r}):Ta(t)?Ie.createElement(_i,{key:"label-implicit",viewBox:r,value:t}):Q.isValidElement(t)?t.type===_i?Q.cloneElement(t,{key:"label-implicit",viewBox:r}):Ie.createElement(_i,{key:"label-implicit",content:t,viewBox:r}):pr(t)?Ie.createElement(_i,{key:"label-implicit",content:t,viewBox:r}):Zp(t)?Ie.createElement(_i,o1({viewBox:r},t,{key:"label-implicit"})):null:null},cje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=OG(t),s=go(a,_i).map(function(l,c){return Q.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=lje(t.label,r||i);return[o].concat(HDe(s))};_i.parseViewBox=OG;_i.renderCallByParent=cje;function uje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var fje=uje;const hje=sn(fje);function l1(e){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(e)}var dje=["valueAccessor"],pje=["data","dataKey","clockWise","id","textBreakAll"];function mje(e){return xje(e)||yje(e)||vje(e)||gje()}function gje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xje(e){if(Array.isArray(e))return DE(e)}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function iw(){return iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iw.apply(this,arguments)}function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(n){bje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bje(e,t,r){return t=wje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=_je(e,"string");return l1(t)=="symbol"?t:t+""}function _je(e,t){if(l1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iR(e,t){if(e==null)return{};var r=Sje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Aje=function(t){return Array.isArray(t.value)?hje(t.value):t.value};function df(e){var t=e.valueAccessor,r=t===void 0?Aje:t,n=iR(e,dje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=iR(n,pje);return!a||!a.length?null:Ie.createElement(aa,{className:"recharts-label-list"},a.map(function(u,f){var h=br(i)?r(u,f):Us(u&&u.payload,i),d=br(o)?{}:{id:"".concat(o,"-").concat(f)};return Ie.createElement(_i,iw({},Ar(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:_i.parseViewBox(br(s)?u:aR(aR({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}df.displayName="LabelList";function Tje(e,t){return e?e===!0?Ie.createElement(df,{key:"labelList-implicit",data:t}):Ie.isValidElement(e)||pr(e)?Ie.createElement(df,{key:"labelList-implicit",data:t,content:e}):Zp(e)?Ie.createElement(df,iw({data:t},e,{key:"labelList-implicit"})):null:null}function Eje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=go(n,df).map(function(s,o){return Q.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Tje(e.label,t);return[i].concat(mje(a))}df.renderCallByParent=Eje;function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}function jE(){return jE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jE.apply(this,arguments)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){kje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kje(e,t,r){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cje(e){var t=Nje(e,"string");return c1(t)=="symbol"?t:t+""}function Nje(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pje=function(t,r){var n=Zo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Px=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/aw,h=c?i:i+s*f,d=ei(r,n,u,h),g=ei(r,n,a,h),m=c?i-s*f:i,v=ei(r,n,u*Math.cos(f*aw),m);return{center:d,circleTangency:g,lineTangency:v,theta:f}},IG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Pje(s,o),c=s+l,u=ei(r,n,i,s),f=ei(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=ei(r,n,a,s),g=ei(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Oje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Zo(u-c),h=Px({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,m=h.theta,v=Px({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,_=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-m-_;if(O<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):IG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var D=Px({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=D.circleTangency,A=D.lineTangency,b=D.theta,I=Px({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,C=I.lineTangency,L=I.theta,H=l?Math.abs(c-u):Math.abs(c-u)-b-L;if(H<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(C.x,",").concat(C.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},Ije={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DG=function(t){var r=oR(oR({},Ije),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=Rr("recharts-sector",h),g=s-i,m=Zh(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Oje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=IG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ie.createElement("path",jE({},Ar(r,!0),{className:d,d:v,role:"img"}))};function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Dje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dje(e,t,r){return t=jje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jje(e){var t=Lje(e,"string");return u1(t)=="symbol"?t:t+""}function Lje(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uR={curveBasisClosed:DSe,curveBasisOpen:jSe,curveBasis:ISe,curveBumpX:ySe,curveBumpY:xSe,curveLinearClosed:LSe,curveLinear:$5,curveMonotoneX:MSe,curveMonotoneY:RSe,curveNatural:FSe,curveStep:$Se,curveStepAfter:VSe,curveStepBefore:BSe},Ox=function(t){return t.x===+t.x&&t.y===+t.y},Gm=function(t){return t.x},Km=function(t){return t.y},Mje=function(t,r){if(pr(t))return t;var n="curve".concat(R5(t));return(n==="curveMonotone"||n==="curveBump")&&r?uR["".concat(n).concat(r==="vertical"?"Y":"X")]:uR[n]||$5},Rje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Mje(n,o),f=c?i.filter(function(m){return Ox(m)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(m){return Ox(m)}):s,g=f.map(function(m,v){return cR(cR({},m),{},{base:d[v]})});return o==="vertical"?h=wx().y(Km).x1(Gm).x0(function(m){return m.base.x}):h=wx().x(Gm).y1(Km).y0(function(m){return m.base.y}),h.defined(Ox).curve(u),h(g)}return o==="vertical"&&Tt(s)?h=wx().y(Km).x1(Gm).x0(s):Tt(s)?h=wx().x(Gm).y1(Km).y0(s):h=DW().x(Gm).y(Km),h.defined(Ox).curve(u),h(f)},ME=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Rje(t):a;return Ie.createElement("path",LE({},Ar(t,!1),Cb(t),{className:Rr("recharts-curve",r),d:s,ref:i}))},jG={exports:{}},Fje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",$je=Fje,Bje=$je;function LG(){}function MG(){}MG.resetWarningCache=LG;var Vje=function(){function e(n,a,i,s,o,l){if(l!==Bje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:MG,resetWarningCache:LG};return r.PropTypes=r,r};jG.exports=Vje();var Uje=jG.exports;const Hr=sn(Uje);var zje=Object.getOwnPropertyNames,qje=Object.getOwnPropertySymbols,Wje=Object.prototype.hasOwnProperty;function fR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Ix(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function hR(e){return zje(e).concat(qje(e))}var Hje=Object.hasOwn||function(e,t){return Wje.call(e,t)};function yd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Gje="__v",Kje="__o",Yje="_owner",dR=Object.getOwnPropertyDescriptor,pR=Object.keys;function Xje(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Qje(e,t){return yd(e.getTime(),t.getTime())}function Jje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function Zje(e,t){return e===t}function mR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var eLe=yd;function tLe(e,t,r){var n=pR(e),a=n.length;if(pR(t).length!==a)return!1;for(;a-- >0;)if(!RG(e,t,r,n[a]))return!1;return!0}function Ym(e,t,r){var n=hR(e),a=n.length;if(hR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!RG(e,t,r,i)||(s=dR(e,i),o=dR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function rLe(e,t){return yd(e.valueOf(),t.valueOf())}function nLe(e,t){return e.source===t.source&&e.flags===t.flags}function gR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function aLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function iLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function RG(e,t,r,n){return(n===Yje||n===Kje||n===Gje)&&(e.$$typeof||t.$$typeof)?!0:Hje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var sLe="[object Arguments]",oLe="[object Boolean]",lLe="[object Date]",cLe="[object Error]",uLe="[object Map]",fLe="[object Number]",hLe="[object Object]",dLe="[object RegExp]",pLe="[object Set]",mLe="[object String]",gLe="[object URL]",vLe=Array.isArray,vR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,yR=Object.assign,yLe=Object.prototype.toString.call.bind(Object.prototype.toString);function xLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(vLe(g))return t(g,m,v);if(vR!=null&&vR(g))return f(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var _=yLe(g);return _===lLe?r(g,m,v):_===dLe?c(g,m,v):_===uLe?i(g,m,v):_===pLe?u(g,m,v):_===hLe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):_===gLe?h(g,m,v):_===cLe?n(g,m,v):_===sLe?o(g,m,v):_===oLe||_===fLe||_===mLe?l(g,m,v):!1}}function bLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ym:Xje,areDatesEqual:Qje,areErrorsEqual:Jje,areFunctionsEqual:Zje,areMapsEqual:n?fR(mR,Ym):mR,areNumbersEqual:eLe,areObjectsEqual:n?Ym:tLe,arePrimitiveWrappersEqual:rLe,areRegExpsEqual:nLe,areSetsEqual:n?fR(gR,Ym):gR,areTypedArraysEqual:n?Ym:aLe,areUrlsEqual:iLe};if(r&&(a=yR({},a,r(a))),t){var i=Ix(a.areArraysEqual),s=Ix(a.areMapsEqual),o=Ix(a.areObjectsEqual),l=Ix(a.areSetsEqual);a=yR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function wLe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function _Le(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var SLe=$f();$f({strict:!0});$f({circular:!0});$f({circular:!0,strict:!0});$f({createInternalComparator:function(){return yd}});$f({strict:!0,createInternalComparator:function(){return yd}});$f({circular:!0,createInternalComparator:function(){return yd}});$f({circular:!0,createInternalComparator:function(){return yd},strict:!0});function $f(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=bLe(e),l=xLe(o),c=n?n(l):wLe(l);return _Le({circular:r,comparator:l,createState:a,equals:c,strict:s})}function ALe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function xR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):ALe(a)};requestAnimationFrame(n)}function RE(e){"@babel/helpers - typeof";return RE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},RE(e)}function TLe(e){return NLe(e)||CLe(e)||kLe(e)||ELe()}function ELe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kLe(e,t){if(e){if(typeof e=="string")return bR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(e,t)}}function bR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function NLe(e){if(Array.isArray(e))return e}function PLe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=TLe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){xR(a.bind(null,c),l);return}a(l),xR(a.bind(null,c));return}RE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return t=OLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OLe(e){var t=ILe(e,"string");return f1(t)==="symbol"?t:String(t)}function ILe(e,t){if(f1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},jLe=function(t){return t},LLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hg=function(t,r){return Object.keys(r).reduce(function(n,a){return _R(_R({},n),{},FG({},a,t(a,r[a])))},{})},SR=function(t,r,n){return t.map(function(a){return"".concat(LLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function MLe(e,t){return $Le(e)||FLe(e,t)||$G(e,t)||RLe()}function RLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function $Le(e){if(Array.isArray(e))return e}function BLe(e){return zLe(e)||ULe(e)||$G(e)||VLe()}function VLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $G(e,t){if(e){if(typeof e=="string")return FE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FE(e,t)}}function ULe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function zLe(e){if(Array.isArray(e))return FE(e)}function FE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var sw=1e-4,BG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},VG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},AR=function(t,r){return function(n){var a=BG(t,r);return VG(a,n)}},qLe=function(t,r){return function(n){var a=BG(t,r),i=[].concat(BLe(a.map(function(s,o){return s*o}).slice(1)),[0]);return VG(i,n)}},TR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=MLe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=AR(a,s),h=AR(i,o),d=qLe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,_=w,O=0;O<8;++O){var P=f(_)-w,D=d(_);if(Math.abs(P-w)<sw||D<sw)return h(_);_=g(_-P/D)}return h(_)};return m.isStepper=!1,m},WLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*i,m=h+(d-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<sw&&Math.abs(m)<sw?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},HLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TR(a);case"spring":return WLe();default:if(a.split("(")[0]==="cubic-bezier")return TR(a)}return typeof a=="function"?a:null};function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function ER(e){return YLe(e)||KLe(e)||UG(e)||GLe()}function GLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function YLe(e){if(Array.isArray(e))return BE(e)}function kR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kR(Object(r),!0).forEach(function(n){$E(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $E(e,t,r){return t=XLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XLe(e){var t=QLe(e,"string");return h1(t)==="symbol"?t:String(t)}function QLe(e,t){if(h1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JLe(e,t){return tMe(e)||eMe(e,t)||UG(e,t)||ZLe()}function ZLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UG(e,t){if(e){if(typeof e=="string")return BE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return BE(e,t)}}function BE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tMe(e){if(Array.isArray(e))return e}var ow=function(t,r,n){return t+(r-t)*n},VE=function(t){var r=t.from,n=t.to;return r!==n},rMe=function e(t,r,n){var a=Hg(function(i,s){if(VE(s)){var o=t(s.from,s.to,s.velocity),l=JLe(o,2),c=l[0],u=l[1];return Ga(Ga({},s),{},{from:c,velocity:u})}return s},r);return n<1?Hg(function(i,s){return VE(s)?Ga(Ga({},s),{},{velocity:ow(s.velocity,a[i].velocity,n),from:ow(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const nMe=function(e,t,r,n,a){var i=DLe(e,t),s=i.reduce(function(v,y){return Ga(Ga({},v),{},$E({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return Ga(Ga({},v),{},$E({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Hg(function(y,w){return w.from},o)},d=function(){return!Object.values(o).filter(VE).length},g=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=rMe(r,o,_),a(Ga(Ga(Ga({},e),t),h())),c=y,d()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var w=(y-u)/n,_=Hg(function(P,D){return ow.apply(void 0,ER(D).concat([r(w)]))},s);if(a(Ga(Ga(Ga({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var O=Hg(function(P,D){return ow.apply(void 0,ER(D).concat([r(1)]))},s);a(Ga(Ga(Ga({},e),t),O))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}var aMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function iMe(e,t){if(e==null)return{};var r=sMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function sMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function bA(e){return uMe(e)||cMe(e)||lMe(e)||oMe()}function oMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lMe(e,t){if(e){if(typeof e=="string")return UE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UE(e,t)}}function cMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function uMe(e){if(Array.isArray(e))return UE(e)}function UE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=zG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zG(n.key),n)}}function dMe(e,t,r){return t&&hMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function zG(e){var t=pMe(e,"string");return wp(t)==="symbol"?t:String(t)}function pMe(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zE(e,t)}function zE(e,t){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zE(e,t)}function gMe(e){var t=vMe();return function(){var n=lw(e),a;if(t){var i=lw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return qE(this,a)}}function qE(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WE(e)}function WE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lw(e){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(e)}var zc=function(e){mMe(r,e);var t=gMe(r);function r(n,a){var i;fMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(WE(i)),i.changeStyle=i.changeStyle.bind(WE(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),qE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},qE(i);i.state={style:l?fg({},l,c):c}}else i.state={style:{}};return i}return dMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?fg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(SLe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?fg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation($o($o({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=nMe(s,o,HLe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(m,v,y){if(y===0)return m;var w=v.duration,_=v.easing,O=_===void 0?"ease":_,P=v.style,D=v.properties,T=v.onAnimationEnd,A=y>0?s[y-1]:v,b=D||Object.keys(P);if(typeof O=="function"||O==="spring")return[].concat(bA(m),[i.runJSAnimation.bind(i,{from:A.style,to:P,duration:w,easing:O}),w]);var I=SR(b,w,O),E=$o($o($o({},A.style),P),{},{transition:I});return[].concat(bA(m),[E,w,T]).filter(jLe)};return this.manager.start([l].concat(bA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=PLe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?fg({},o,l):l,v=SR(Object.keys(m),s,c);g.start([u,i,$o($o({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=iMe(a,aMe),c=Q.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var g=d.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=Q.cloneElement(d,$o($o({},l),{},{style:$o($o({},v),u),className:y}));return w};return c===1?f(Q.Children.only(i)):Ie.createElement("div",null,Q.Children.map(i,function(h){return f(h)}))}}]),r}(Q.PureComponent);zc.displayName="Animate";zc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zc.propTypes={from:Hr.oneOfType([Hr.object,Hr.string]),to:Hr.oneOfType([Hr.object,Hr.string]),attributeName:Hr.string,duration:Hr.number,begin:Hr.number,easing:Hr.oneOfType([Hr.string,Hr.func]),steps:Hr.arrayOf(Hr.shape({duration:Hr.number.isRequired,style:Hr.object.isRequired,easing:Hr.oneOfType([Hr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Hr.func]),properties:Hr.arrayOf("string"),onAnimationEnd:Hr.func})),children:Hr.oneOfType([Hr.node,Hr.func]),isActive:Hr.bool,canBegin:Hr.bool,onAnimationEnd:Hr.func,shouldReAnimate:Hr.bool,onAnimationStart:Hr.func,onAnimationReStart:Hr.func};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cw.apply(this,arguments)}function yMe(e,t){return _Me(e)||wMe(e,t)||bMe(e,t)||xMe()}function xMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bMe(e,t){if(e){if(typeof e=="string")return NR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NR(e,t)}}function NR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function _Me(e){if(Array.isArray(e))return e}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function OR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){SMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SMe(e,t,r){return t=AMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AMe(e){var t=TMe(e,"string");return d1(t)=="symbol"?t:t+""}function TMe(e,t){if(d1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},EMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},kMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cP=function(t){var r=OR(OR({},kMe),t),n=Q.useRef(),a=Q.useState(-1),i=yMe(a,2),s=i[0],o=i[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Rr("recharts-rectangle",d);return w?Ie.createElement(zc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(O){var P=O.width,D=O.height,T=O.x,A=O.y;return Ie.createElement(zc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Ie.createElement("path",cw({},Ar(r,!0),{className:_,d:IR(T,A,P,D,h),ref:n})))}):Ie.createElement("path",cw({},Ar(r,!0),{className:_,d:IR(l,c,u,f,h)}))};function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}var uP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Rr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ie.createElement("circle",HE({},Ar(t,!1),Cb(t),{className:s,cx:r,cy:n,r:a})):null};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}var CMe=["x","y","top","left","width","height","className"];function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function NMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){PMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PMe(e,t,r){return t=OMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OMe(e){var t=IMe(e,"string");return p1(t)=="symbol"?t:t+""}function IMe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DMe(e,t){if(e==null)return{};var r=jMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var LMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},MMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,g=t.className,m=DMe(t,CMe),v=NMe({x:n,y:i,top:o,left:c,width:f,height:d},m);return!Tt(n)||!Tt(i)||!Tt(f)||!Tt(d)||!Tt(o)||!Tt(c)?null:Ie.createElement("path",GE({},Ar(v,!0),{className:Rr("recharts-cross",g),d:LMe(n,i,f,d,o,c)}))},RMe=nH,FMe=RMe(Object.getPrototypeOf,Object),$Me=FMe,BMe=Xc,VMe=$Me,UMe=Qc,zMe="[object Object]",qMe=Function.prototype,WMe=Object.prototype,qG=qMe.toString,HMe=WMe.hasOwnProperty,GMe=qG.call(Object);function KMe(e){if(!UMe(e)||BMe(e)!=zMe)return!1;var t=VMe(e);if(t===null)return!0;var r=HMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&qG.call(r)==GMe}var YMe=KMe;const XMe=sn(YMe);var QMe=Xc,JMe=Qc,ZMe="[object Boolean]";function eRe(e){return e===!0||e===!1||JMe(e)&&QMe(e)==ZMe}var tRe=eRe;const rRe=sn(tRe);function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function nRe(e,t){return oRe(e)||sRe(e,t)||iRe(e,t)||aRe()}function aRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iRe(e,t){if(e){if(typeof e=="string")return jR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(e,t)}}function jR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function oRe(e){if(Array.isArray(e))return e}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){lRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lRe(e,t,r){return t=cRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cRe(e){var t=uRe(e,"string");return m1(t)=="symbol"?t:t+""}function uRe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},fRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hRe=function(t){var r=MR(MR({},fRe),t),n=Q.useRef(),a=Q.useState(-1),i=nRe(a,2),s=i[0],o=i[1];Q.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=Rr("recharts-trapezoid",d);return y?Ie.createElement(zc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(_){var O=_.upperWidth,P=_.lowerWidth,D=_.height,T=_.x,A=_.y;return Ie.createElement(zc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ie.createElement("path",uw({},Ar(r,!0),{className:w,d:RR(T,A,O,P,D),ref:n})))}):Ie.createElement("g",null,Ie.createElement("path",uw({},Ar(r,!0),{className:w,d:RR(l,c,u,f,h)})))},dRe=["option","shapeType","propTransformer","activeClassName","isActive"];function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function pRe(e,t){if(e==null)return{};var r=mRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){gRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gRe(e,t,r){return t=vRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vRe(e){var t=yRe(e,"string");return g1(t)=="symbol"?t:t+""}function yRe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xRe(e,t){return fw(fw({},t),e)}function bRe(e,t){return e==="symbols"}function $R(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ie.createElement(cP,r);case"trapezoid":return Ie.createElement(hRe,r);case"sector":return Ie.createElement(DG,r);case"symbols":if(bRe(t))return Ie.createElement(CN,r);break;default:return null}}function wRe(e){return Q.isValidElement(e)?e.props:e}function _Re(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?xRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=pRe(e,dRe),c;if(Q.isValidElement(t))c=Q.cloneElement(t,fw(fw({},l),wRe(t)));else if(pr(t))c=t(l);else if(XMe(t)&&!rRe(t)){var u=a(t,l);c=Ie.createElement($R,{shapeType:r,elementProps:u})}else{var f=l;c=Ie.createElement($R,{shapeType:r,elementProps:f})}return o?Ie.createElement(aa,{className:s},c):c}function t_(e,t){return t!=null&&"trapezoids"in e.props}function r_(e,t){return t!=null&&"sectors"in e.props}function v1(e,t){return t!=null&&"points"in e.props}function SRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function ARe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function TRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function ERe(e,t){var r;return t_(e,t)?r=SRe:r_(e,t)?r=ARe:v1(e,t)&&(r=TRe),r}function kRe(e,t){var r;return t_(e,t)?r="trapezoids":r_(e,t)?r="sectors":v1(e,t)&&(r="points"),r}function CRe(e,t){if(t_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(r_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return v1(e,t)?t.payload:{}}function NRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=kRe(r,t),i=CRe(r,t),s=n.filter(function(l,c){var u=J5(i,l),f=r.props[a].filter(function(g){var m=ERe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var PRe=Math.ceil,ORe=Math.max;function IRe(e,t,r,n){for(var a=-1,i=ORe(PRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var DRe=IRe,jRe=_H,BR=1/0,LRe=17976931348623157e292;function MRe(e){if(!e)return e===0?e:0;if(e=jRe(e),e===BR||e===-BR){var t=e<0?-1:1;return t*LRe}return e===e?e:0}var WG=MRe,RRe=DRe,FRe=z5,wA=WG;function $Re(e){return function(t,r,n){return n&&typeof n!="number"&&FRe(t,r,n)&&(r=n=void 0),t=wA(t),r===void 0?(r=t,t=0):r=wA(r),n=n===void 0?t<r?1:-1:wA(n),RRe(t,r,n,e)}}var BRe=$Re,VRe=BRe,URe=VRe(),zRe=URe;const hw=sn(zRe);function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){HG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t,r){return t=qRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qRe(e){var t=WRe(e,"string");return y1(t)=="symbol"?t:t+""}function WRe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HRe=["Webkit","Moz","O","ms"],GRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=HRe.reduce(function(i,s){return UR(UR({},i),{},HG({},s+n,r))},{});return a[t]=r,a};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function dw(){return dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dw.apply(this,arguments)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _A(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){Cs(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KG(n.key),n)}}function YRe(e,t,r){return t&&qR(e.prototype,t),r&&qR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XRe(e,t,r){return t=pw(t),QRe(e,GG()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function QRe(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JRe(e)}function JRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GG=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function ZRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KE(e,t)}function Cs(e,t,r){return t=KG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KG(e){var t=eFe(e,"string");return _p(t)=="symbol"?t:t+""}function eFe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tFe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=qg().domain(hw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},WR=function(t){return t.changedTouches&&!!t.changedTouches.length},Sp=function(e){function t(r){var n;return KRe(this,t),n=XRe(this,t,[r]),Cs(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Cs(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Cs(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Cs(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cs(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cs(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cs(n,"handleSlideDragStart",function(a){var i=WR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ZRe(t,e),YRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Us(i[n],o,n);return pr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==d)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=WR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+h-d-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),O=_.startIndex,P=_.endIndex,D=function(){var A=v.length-1;return s==="startX"&&(o>l?O%m===0:P%m===0)||o<l&&P===A||s==="endX"&&(o>l?P%m===0:O%m===0)||o>l&&P===A};this.setState(Cs(Cs({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&D()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Cs({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ie.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Q.Children.only(c);return f?Ie.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=_A(_A({},Ar(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=d||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Ie.createElement(aa,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:c};return Ie.createElement(aa,{className:"recharts-brush-texts"},Ie.createElement(zb,dw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(a)),Ie.createElement(zb,dw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!Tt(o)||!Tt(l)||!Tt(c)||!Tt(u)||c<=0||u<=0)return null;var _=Rr("recharts-brush",i),O=Ie.Children.count(s)===1,P=GRe("userSelect","none");return Ie.createElement(aa,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ie.createElement(Ie.Fragment,null,Ie.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ie.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ie.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ie.isValidElement(n)?i=Ie.cloneElement(n,a):pr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return _A({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?tFe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(Q.PureComponent);Cs(Sp,"displayName","Brush");Cs(Sp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var rFe=LN;function nFe(e,t){var r;return rFe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var aFe=nFe,iFe=YW,sFe=Mf,oFe=aFe,lFe=ys,cFe=z5;function uFe(e,t,r){var n=lFe(e)?iFe:oFe;return r&&cFe(e,t,r)&&(t=void 0),n(e,sFe(t))}var fFe=uFe;const hFe=sn(fFe);var $l=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},HR=vH;function dFe(e,t,r){t=="__proto__"&&HR?HR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var pFe=dFe,mFe=pFe,gFe=mH,vFe=Mf;function yFe(e,t){var r={};return t=vFe(t),gFe(e,function(n,a,i){mFe(r,a,t(n,a,i))}),r}var xFe=yFe;const bFe=sn(xFe);function wFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var _Fe=wFe,SFe=LN;function AFe(e,t){var r=!0;return SFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var TFe=AFe,EFe=_Fe,kFe=TFe,CFe=Mf,NFe=ys,PFe=z5;function OFe(e,t,r){var n=NFe(e)?EFe:kFe;return r&&PFe(e,t,r)&&(t=void 0),n(e,CFe(t))}var IFe=OFe;const YG=sn(IFe);var DFe=["x","y"];function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}function GR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GR(Object(r),!0).forEach(function(n){jFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jFe(e,t,r){return t=LFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LFe(e){var t=MFe(e,"string");return x1(t)=="symbol"?t:t+""}function MFe(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RFe(e,t){if(e==null)return{};var r=FFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function FFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $Fe(e,t){var r=e.x,n=e.y,a=RFe(e,DFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Xm(Xm(Xm(Xm(Xm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function KR(e){return Ie.createElement(_Re,YE({shapeType:"rectangle",propTransformer:$Fe,activeClassName:"recharts-active-bar"},e))}var BFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||td(),r)}},VFe=["value","background"],XG;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function UFe(e,t){if(e==null)return{};var r=zFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mw.apply(this,arguments)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ha(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function WFe(e,t,r){return t&&XR(e.prototype,t),r&&XR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function HFe(e,t,r){return t=gw(t),GFe(e,QG()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function GFe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KFe(e)}function KFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function YFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function Xu(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=XFe(e,"string");return Ap(t)=="symbol"?t:t+""}function XFe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=function(e){function t(){var r;qFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=HFe(this,t,[].concat(a)),Xu(r,"state",{isAnimationFinished:!1}),Xu(r,"id",ey("recharts-bar-")),Xu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Xu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return YFe(t,e),WFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Ar(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?c:s,m=ha(ha(ha({},u),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ie.createElement(aa,mw({className:"recharts-bar-rectangle"},Nb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ie.createElement(KR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ie.createElement(zc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var _=Ko(w.x,v.x),O=Ko(w.y,v.y),P=Ko(w.width,v.width),D=Ko(w.height,v.height);return ha(ha({},v),{},{x:_(g),y:O(g),width:P(g),height:D(g)})}if(s==="horizontal"){var T=Ko(0,v.height),A=T(g);return ha(ha({},v),{},{y:v.y+v.height-A,height:A})}var b=Ko(0,v.width),I=b(g);return ha(ha({},v),{},{width:I})});return Ie.createElement(aa,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!J5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Ar(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=UFe(c,VFe);if(!f)return null;var d=ha(ha(ha(ha(ha({},h),{},{fill:"#eee"},f),l),Nb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ie.createElement(KR,mw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=go(u,sy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:Us(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(aa,g,f.map(function(m){return Ie.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Rr("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,O=w||_,P=br(m)?this.id:m;return Ie.createElement(aa,{className:y},w||_?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(P)},Ie.createElement("rect",{x:w?c:c-f/2,y:_?u:u-h/2,width:w?f:f*2,height:_?h:h*2}))):null,Ie.createElement(aa,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,P),(!d||v)&&df.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(Q.PureComponent);XG=oy;Xu(oy,"displayName","Bar");Xu(oy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xu(oy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=EDe(n,r);if(!d)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?ha(ha({},m),r.props):r.props,y=v.dataKey,w=v.children,_=v.minPointSize,O=g==="horizontal"?s:i,P=c?O.scale.domain():null,D=jDe({numericAxis:O}),T=go(w,AH),A=f.map(function(b,I){var E,C,L,H,V,Z;c?E=kDe(c[u+I],P):(E=Us(b,y),Array.isArray(E)||(E=[D,E]));var ee=BFe(_,XG.defaultProps.minPointSize)(E[1],I);if(g==="horizontal"){var W,B=[s.scale(E[0]),s.scale(E[1])],ae=B[0],q=B[1];C=YM({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:b,index:I}),L=(W=q??ae)!==null&&W!==void 0?W:void 0,H=d.size;var N=ae-q;if(V=Number.isNaN(N)?0:N,Z={x:C,y:s.y,width:H,height:s.height},Math.abs(ee)>0&&Math.abs(V)<Math.abs(ee)){var R=Zo(V||ee)*(Math.abs(ee)-Math.abs(V));L-=R,V+=R}}else{var U=[i.scale(E[0]),i.scale(E[1])],K=U[0],G=U[1];if(C=K,L=YM({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:b,index:I}),H=G-K,V=d.size,Z={x:i.x,y:L,width:i.width,height:V},Math.abs(ee)>0&&Math.abs(H)<Math.abs(ee)){var ie=Zo(H||ee)*(Math.abs(ee)-Math.abs(H));H+=ie}}return ha(ha(ha({},b),{},{x:C,y:L,width:H,height:V,value:c?E:E[1],payload:b,background:Z},T&&T[I]&&T[I].props),{},{tooltipPayload:[PG(r,b)],tooltipPosition:{x:C+H/2,y:L+V/2}})});return ha({data:A,layout:g},h)});function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function QFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ZG(n.key),n)}}function JFe(e,t,r){return t&&QR(e.prototype,t),r&&QR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){n_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n_(e,t,r){return t=ZG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=ZFe(e,"string");return b1(t)=="symbol"?t:t+""}function ZFe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ps(c,oy);return u.reduce(function(d,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,_=w===void 0?{}:w,O=m.mirror,P=m.reversed,D="".concat(v).concat(O?"Mirror":""),T,A,b,I,E;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var C=y[1]-y[0],L=1/0,H=m.categoricalDomain.sort(s_e);if(H.forEach(function(U,K){K>0&&(L=Math.min((U||0)-(H[K-1]||0),L))}),Number.isFinite(L)){var V=L/C,Z=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(T=V*Z/2),m.padding==="no-gap"){var ee=Zh(t.barCategoryGap,V*Z),W=V*Z/2;T=W-ee-(W-ee)/Z*ee}}}a==="xAxis"?A=[n.left+(_.left||0)+(T||0),n.left+n.width-(_.right||0)-(T||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(T||0),n.top+n.height-(_.bottom||0)-(T||0)]:A=m.range,P&&(A=[A[1],A[0]]);var B=ADe(m,i,h),ae=B.scale,q=B.realScaleType;ae.domain(y).range(A),TDe(ae);var N=DDe(ae,Wo(Wo({},m),{},{realScaleType:q}));a==="xAxis"?(E=v==="top"&&!O||v==="bottom"&&O,b=n.left,I=f[D]-E*m.height):a==="yAxis"&&(E=v==="left"&&!O||v==="right"&&O,b=f[D]-E*m.width,I=n.top);var R=Wo(Wo(Wo({},m),N),{},{realScaleType:q,x:b,y:I,scale:ae,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=nw(R,N),!m.hide&&a==="xAxis"?f[D]+=(E?-1:1)*R.height:m.hide||(f[D]+=(E?-1:1)*R.width),Wo(Wo({},d),{},n_({},g,R))},{})},eK=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},t7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return eK({x:r,y:n},{x:a,y:i})},tK=function(){function e(t){QFe(this,e),this.scale=t}return JFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();n_(tK,"EPS",1e-4);var fP=function(t){var r=Object.keys(t).reduce(function(n,a){return Wo(Wo({},n),{},n_({},a,tK.create(t[a])))},{});return Wo(Wo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return bFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return YG(a,function(i,s){return r[s].isInRange(i)})}})};function r7e(e){return(e%180+180)%180}var n7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=r7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},a7e=Mf,i7e=ty,s7e=V5;function o7e(e){return function(t,r,n){var a=Object(t);if(!i7e(t)){var i=a7e(r);t=s7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var l7e=o7e,c7e=WG;function u7e(e){var t=c7e(e),r=t%1;return t===t?r?t-r:t:0}var f7e=u7e,h7e=cH,d7e=Mf,p7e=f7e,m7e=Math.max;function g7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:p7e(r);return a<0&&(a=m7e(n+a,0)),h7e(e,d7e(t),a)}var v7e=g7e,y7e=l7e,x7e=v7e,b7e=y7e(x7e),w7e=b7e;const _7e=sn(w7e);var S7e=l5e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hP=Q.createContext(void 0),dP=Q.createContext(void 0),rK=Q.createContext(void 0),nK=Q.createContext({}),aK=Q.createContext(void 0),iK=Q.createContext(0),sK=Q.createContext(0),ZR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=S7e(i);return Ie.createElement(hP.Provider,{value:n},Ie.createElement(dP.Provider,{value:a},Ie.createElement(nK.Provider,{value:i},Ie.createElement(rK.Provider,{value:u},Ie.createElement(aK.Provider,{value:s},Ie.createElement(iK.Provider,{value:c},Ie.createElement(sK.Provider,{value:l},o)))))))},A7e=function(){return Q.useContext(aK)},oK=function(t){var r=Q.useContext(hP);r==null&&td();var n=r[t];return n==null&&td(),n},T7e=function(){var t=Q.useContext(hP);return Vu(t)},E7e=function(){var t=Q.useContext(dP),r=_7e(t,function(n){return YG(n.domain,Number.isFinite)});return r||Vu(t)},lK=function(t){var r=Q.useContext(dP);r==null&&td();var n=r[t];return n==null&&td(),n},k7e=function(){var t=Q.useContext(rK);return t},C7e=function(){return Q.useContext(nK)},pP=function(){return Q.useContext(sK)},mP=function(){return Q.useContext(iK)};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function N7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uK(n.key),n)}}function O7e(e,t,r){return t&&P7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function I7e(e,t,r){return t=vw(t),D7e(e,cK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function D7e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j7e(e)}function j7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function L7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){gP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gP(e,t,r){return t=uK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uK(e){var t=M7e(e,"string");return Tp(t)=="symbol"?t:t+""}function M7e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R7e(e,t){return V7e(e)||B7e(e,t)||$7e(e,t)||F7e()}function F7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $7e(e,t){if(e){if(typeof e=="string")return rF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rF(e,t)}}function rF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function V7e(e){if(Array.isArray(e))return e}function JE(){return JE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},JE.apply(this,arguments)}var U7e=function(t,r){var n;return Ie.isValidElement(t)?n=Ie.cloneElement(t,r):pr(t)?n=t(r):n=Ie.createElement("line",JE({},r,{className:"recharts-reference-line-line"})),n},z7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if($l(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if($l(c,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+d},{x:w,y:f}];return o==="top"?_.reverse():_}if(a){var O=c.segment,P=O.map(function(D){return t.apply(D,{position:s})});return $l(c,"discard")&&hFe(P,function(D){return!t.isInRange(D)})?null:P}return null};function q7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=A7e(),u=oK(a),f=lK(i),h=k7e();if(!c||!h)return null;Sc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=fP({x:u.scale,y:f.scale}),g=Ta(t),m=Ta(r),v=n&&n.length===2,y=z7e(d,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var w=R7e(y,2),_=w[0],O=_.x,P=_.y,D=w[1],T=D.x,A=D.y,b=$l(e,"hidden")?"url(#".concat(c,")"):void 0,I=tF(tF({clipPath:b},Ar(e,!0)),{},{x1:O,y1:P,x2:T,y2:A});return Ie.createElement(aa,{className:Rr("recharts-reference-line",o)},U7e(s,I),_i.renderCallByParent(e,t7e({x1:O,y1:P,x2:T,y2:A})))}var vP=function(e){function t(){return N7e(this,t),I7e(this,t,arguments)}return L7e(t,e),O7e(t,[{key:"render",value:function(){return Ie.createElement(q7e,this.props)}}])}(Ie.Component);gP(vP,"displayName","ReferenceLine");gP(vP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function nF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nF(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hK(n.key),n)}}function G7e(e,t,r){return t&&H7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K7e(e,t,r){return t=yw(t),Y7e(e,fK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function Y7e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X7e(e)}function X7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function Q7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function a_(e,t,r){return t=hK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=J7e(e,"string");return Ep(t)=="symbol"?t:t+""}function J7e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=fP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return $l(t,"discard")&&!s.isInRange(o)?null:o},i_=function(e){function t(){return W7e(this,t),K7e(this,t,arguments)}return Q7e(t,e),G7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ta(a),u=Ta(i);if(Sc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=Z7e(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,m=g.shape,v=g.className,y=$l(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=aF(aF({clipPath:y},Ar(this.props,!0)),{},{cx:h,cy:d});return Ie.createElement(aa,{className:Rr("recharts-reference-dot",v)},t.renderDot(m,w),_i.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Ie.Component);a_(i_,"displayName","ReferenceDot");a_(i_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});a_(i_,"renderDot",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):pr(e)?r=e(t):r=Ie.createElement(uP,ZE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(this,arguments)}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){s_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function r$e(e,t,r){return t&&t$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function n$e(e,t,r){return t=xw(t),a$e(e,dK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function a$e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i$e(e)}function i$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function s$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function s_(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=o$e(e,"string");return kp(t)=="symbol"?t:t+""}function o$e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l$e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=fP({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $l(i,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:eK(d,g)},o_=function(e){function t(){return e$e(this,t),n$e(this,t,arguments)}return s$e(t,e),r$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Sc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ta(a),h=Ta(i),d=Ta(s),g=Ta(o),m=this.props.shape;if(!f&&!h&&!d&&!g&&!m)return null;var v=l$e(f,h,d,g,this.props);if(!v&&!m)return null;var y=$l(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ie.createElement(aa,{className:Rr("recharts-reference-area",l)},t.renderRect(m,sF(sF({clipPath:y},Ar(this.props,!0)),v)),_i.renderCallByParent(this.props,v))}}])}(Ie.Component);s_(o_,"displayName","ReferenceArea");s_(o_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});s_(o_,"renderRect",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):pr(e)?r=e(t):r=Ie.createElement(cP,t3({},t,{className:"recharts-reference-area-rect"})),r});function mK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function c$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return n7e(n,r)}function u$e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function bw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function f$e(e,t){return mK(e,t+1)}function h$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:mK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,_=l===0||bw(e,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){d$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d$e(e,t,r){return t=p$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p$e(e){var t=m$e(e,"string");return w1(t)=="symbol"?t:t+""}function m$e(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],g,m=function(){return g===void 0&&(g=r(d,h)),g};if(h===s-1){var v=e*(d.coordinate+e*m()/2-l);i[h]=d=vi(vi({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate})}else i[h]=d=vi(vi({},d),{},{tickCoord:d.coordinate});var y=bw(e,d.tickCoord,m,o,l);y&&(l=d.tickCoord-e*(m()/2+a),i[h]=vi(vi({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function v$e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=vi(vi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=bw(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=vi(vi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var _=s[w],O,P=function(){return O===void 0&&(O=r(_,w)),O};if(w===0){var D=e*(_.coordinate-e*P()/2-l);s[w]=_=vi(vi({},_),{},{tickCoord:D<0?_.coordinate-D*e:_.coordinate})}else s[w]=_=vi(vi({},_),{},{tickCoord:_.coordinate});var T=bw(e,_.tickCoord,P,l,c);T&&(l=_.tickCoord+e*(P()/2+a),s[w]=vi(vi({},_),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function yP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(Tt(l)||Tc.isSsr)return f$e(a,typeof l=="number"&&Tt(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=u&&d==="width"?zg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(_,O){var P=pr(c)?c(_.value,O):_.value;return d==="width"?c$e(zg(P,{fontSize:t,letterSpacing:r}),g,f):zg(P,{fontSize:t,letterSpacing:r})[d]},v=a.length>=2?Zo(a[1].coordinate-a[0].coordinate):1,y=u$e(i,v,d);return l==="equidistantPreserveStart"?h$e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=v$e(v,y,m,a,s,l==="preserveStartEnd"):h=g$e(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var y$e=["viewBox"],x$e=["viewBox"],b$e=["ticks"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(this,arguments)}function lF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ri(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lF(Object(r),!0).forEach(function(n){xP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SA(e,t){if(e==null)return{};var r=w$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function w$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function _$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function S$e(e,t,r){return t&&cF(e.prototype,t),r&&cF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function A$e(e,t,r){return t=ww(t),T$e(e,gK()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function T$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E$e(e)}function E$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gK=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function k$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function xP(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=C$e(e,"string");return Cp(t)=="symbol"?t:t+""}function C$e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm=function(e){function t(r){var n;return _$e(this,t),n=A$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return k$e(t,e),S$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=SA(n,y$e),o=this.props,l=o.viewBox,c=SA(o,x$e);return!$0(i,l)||!$0(s,c)||!$0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,g,m,v,y,w,_=f?-1:1,O=n.tickSize||u,P=Tt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=g=n.coordinate,v=s+ +!f*l,m=v-_*O,w=m-_*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!f*o,d=g-_*O,y=d-_*h,w=P;break;case"right":m=v=n.coordinate,g=i+ +f*o,d=g+_*O,y=d+_*h,w=P;break;default:d=g=n.coordinate,v=s+ +f*l,m=v+_*O,w=m+_*h,y=P;break}return{line:{x1:d,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Ri(Ri(Ri({},Ar(this.props,!1)),Ar(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Ri(Ri({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Ri(Ri({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Ie.createElement("line",w0({},f,{className:Rr("recharts-cartesian-axis-line",mo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=yP(Ri(Ri({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Ar(this.props,!1),y=Ar(u,!1),w=Ri(Ri({},v),{},{fill:"none"},Ar(l,!1)),_=d.map(function(O,P){var D=s.getTickLineCoord(O),T=D.line,A=D.tick,b=Ri(Ri(Ri(Ri({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),A),{},{index:P,payload:O,visibleTicksCount:d.length,tickFormatter:f});return Ie.createElement(aa,w0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Nb(s.props,O,P)),l&&Ie.createElement("line",w0({},w,T,{className:Rr("recharts-cartesian-axis-tick-line",mo(l,"className"))})),u&&t.renderTickItem(u,b,"".concat(pr(f)?f(O.value,P):O.value).concat(h||"")))});return Ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=SA(f,b$e),g=h;return pr(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:Ie.createElement(aa,{className:Rr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),_i.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ie.isValidElement(n)?s=Ie.cloneElement(n,a):pr(n)?s=n(a):s=Ie.createElement(zb,w0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(Q.Component);xP(cm,"displayName","CartesianAxis");xP(cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var N$e=["x1","y1","x2","y2","key"],P$e=["offset"];function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Si(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){O$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function O$e(e,t,r){return t=I$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I$e(e){var t=D$e(e,"string");return rd(t)=="symbol"?t:t+""}function D$e(e,t){if(rd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ch(){return Ch=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ch.apply(this,arguments)}function fF(e,t){if(e==null)return{};var r=j$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function j$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var L$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ie.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function yK(e,t){var r;if(Ie.isValidElement(e))r=Ie.cloneElement(e,t);else if(pr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=fF(t,N$e),c=Ar(l,!1);c.offset;var u=fF(c,P$e);r=Ie.createElement("line",Ch({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function M$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Si(Si({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return yK(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function R$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Si(Si({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return yK(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function F$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?a+s-h:u[d+1]-h;if(m<=0)return null;var v=d%t.length;return Ie.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?i+o-h:u[d+1]-h;if(m<=0)return null;var v=d%n.length;return Ie.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var B$e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return CG(yP(Si(Si(Si({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},V$e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return CG(yP(Si(Si(Si({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Gd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function u2(e){var t,r,n,a,i,s,o=pP(),l=mP(),c=C7e(),u=Si(Si({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Gd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Gd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Gd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Gd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Gd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Gd.verticalFill,x:Tt(e.x)?e.x:c.left,y:Tt(e.y)?e.y:c.top,width:Tt(e.width)?e.width:c.width,height:Tt(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=T7e(),_=E7e();if(!Tt(d)||d<=0||!Tt(g)||g<=0||!Tt(f)||f!==+f||!Tt(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||B$e,P=u.horizontalCoordinatesGenerator||V$e,D=u.horizontalPoints,T=u.verticalPoints;if((!D||!D.length)&&pr(P)){var A=v&&v.length,b=P({yAxis:_?Si(Si({},_),{},{ticks:A?v:_.ticks}):void 0,width:o,height:l,offset:c},A?!0:m);Sc(Array.isArray(b),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rd(b),"]")),Array.isArray(b)&&(D=b)}if((!T||!T.length)&&pr(O)){var I=y&&y.length,E=O({xAxis:w?Si(Si({},w),{},{ticks:I?y:w.ticks}):void 0,width:o,height:l,offset:c},I?!0:m);Sc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rd(E),"]")),Array.isArray(E)&&(T=E)}return Ie.createElement("g",{className:"recharts-cartesian-grid"},Ie.createElement(L$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ie.createElement(M$e,Ch({},u,{offset:c,horizontalPoints:D,xAxis:w,yAxis:_})),Ie.createElement(R$e,Ch({},u,{offset:c,verticalPoints:T,xAxis:w,yAxis:_})),Ie.createElement(F$e,Ch({},u,{horizontalPoints:D})),Ie.createElement($$e,Ch({},u,{verticalPoints:T})))}u2.displayName="CartesianGrid";var U$e=["type","layout","connectNulls","ref"],z$e=["key"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function hF(e,t){if(e==null)return{};var r=q$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function dF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dF(Object(r),!0).forEach(function(n){Ho(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kd(e){return K$e(e)||G$e(e)||H$e(e)||W$e()}function W$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H$e(e,t){if(e){if(typeof e=="string")return a3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(e,t)}}function G$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function K$e(e){if(Array.isArray(e))return a3(e)}function a3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Y$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bK(n.key),n)}}function X$e(e,t,r){return t&&pF(e.prototype,t),r&&pF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Q$e(e,t,r){return t=_w(t),J$e(e,xK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function J$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z$e(e)}function Z$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function e9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},i3(e,t)}function Ho(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=t9e(e,"string");return Np(t)=="symbol"?t:t+""}function t9e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var El=function(e){function t(){var r;Y$e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Q$e(this,t,[].concat(a)),Ho(r,"state",{isAnimationFinished:!0,totalLength:0}),Ho(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ho(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){d=[].concat(Kd(l.slice(0,g)),[f-m]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(Kd(t.repeat(l,u)),Kd(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Ho(r,"id",ey("recharts-line-")),Ho(r,"pathRef",function(s){r.mainCurve=s}),Ho(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ho(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return e9e(t,e),X$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=go(u,sy);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:Us(m.payload,v)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(aa,d,f.map(function(g){return Ie.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Ar(this.props,!1),h=Ar(l,!0),d=c.map(function(m,v){var y=ks(ks(ks({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ie.createElement(aa,Gg({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=hF(o,U$e),h=ks(ks(ks({},Ar(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ie.createElement(ME,Gg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return Ie.createElement(zc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var P=O.t;if(w){var D=w.length/o.length,T=o.map(function(C,L){var H=Math.floor(L*D);if(w[H]){var V=w[H],Z=Ko(V.x,C.x),ee=Ko(V.y,C.y);return ks(ks({},C),{},{x:Z(P),y:ee(P)})}if(g){var W=Ko(m*2,C.x),B=Ko(v/2,C.y);return ks(ks({},C),{},{x:W(P),y:B(P)})}return ks(ks({},C),{},{x:C.x,y:C.y})});return i.renderCurveStatically(T,n,a)}var A=Ko(0,_),b=A(P),I;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(C){return parseFloat(C)});I=i.getStrokeDasharray(b,_,E)}else I=i.generateSimpleStrokeDasharray(_,b);return i.renderCurveStatically(o,n,a,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!J5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=Rr("recharts-line",l),O=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,D=O||P,T=br(v)?this.id:v,A=(n=Ar(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},b=A.r,I=b===void 0?3:b,E=A.strokeWidth,C=E===void 0?2:E,L=m_e(s)?s:{},H=L.clipDot,V=H===void 0?!0:H,Z=I*2+C;return Ie.createElement(aa,{className:_},O||P?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(T)},Ie.createElement("rect",{x:O?h:h-d/2,y:P?f:f-g/2,width:O?d:d*2,height:P?g:g*2})),!V&&Ie.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ie.createElement("rect",{x:h-Z/2,y:f-Z/2,width:d+Z,height:g+Z}))):null,!w&&this.renderCurve(D,T),this.renderErrorBar(D,T),(w||s)&&this.renderDots(D,V,T),(!m||y)&&df.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Kd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Kd(s),Kd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ie.isValidElement(n))i=Ie.cloneElement(n,a);else if(pr(n))i=n(a);else{var s=a.key,o=hF(a,z$e),l=Rr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ie.createElement(uP,Gg({key:s},o,{className:l}))}return i}}])}(Q.PureComponent);Ho(El,"displayName","Line");Ho(El,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Tc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ho(El,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var g=Us(h,s);return u==="horizontal"?{x:KM({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:br(g)?null:n.scale(g),value:g,payload:h}:{x:br(g)?null:r.scale(g),y:KM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:g,payload:h}});return ks({points:f,layout:u},c)});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function r9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SK(n.key),n)}}function a9e(e,t,r){return t&&n9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i9e(e,t,r){return t=Sw(t),s9e(e,wK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function s9e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9e(e)}function o9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function l9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function _K(e,t,r){return t=SK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SK(e){var t=c9e(e,"string");return Pp(t)=="symbol"?t:t+""}function c9e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o3(){return o3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o3.apply(this,arguments)}function u9e(e){var t=e.xAxisId,r=pP(),n=mP(),a=oK(t);return a==null?null:Ie.createElement(cm,o3({},a,{className:Rr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yc(s,!0)}}))}var U0=function(e){function t(){return r9e(this,t),i9e(this,t,arguments)}return l9e(t,e),a9e(t,[{key:"render",value:function(){return Ie.createElement(u9e,this.props)}}])}(Ie.Component);_K(U0,"displayName","XAxis");_K(U0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function f9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function d9e(e,t,r){return t&&h9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9e(e,t,r){return t=Aw(t),m9e(e,AK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function m9e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(e)}function g9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function v9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l3(e,t)}function l3(e,t){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},l3(e,t)}function TK(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=y9e(e,"string");return Op(t)=="symbol"?t:t+""}function y9e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c3(){return c3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c3.apply(this,arguments)}var x9e=function(t){var r=t.yAxisId,n=pP(),a=mP(),i=lK(r);return i==null?null:Ie.createElement(cm,c3({},i,{className:Rr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return yc(o,!0)}}))},z0=function(e){function t(){return f9e(this,t),p9e(this,t,arguments)}return v9e(t,e),d9e(t,[{key:"render",value:function(){return Ie.createElement(x9e,this.props)}}])}(Ie.Component);TK(z0,"displayName","YAxis");TK(z0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function mF(e){return S9e(e)||_9e(e)||w9e(e)||b9e()}function b9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w9e(e,t){if(e){if(typeof e=="string")return u3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u3(e,t)}}function _9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S9e(e){if(Array.isArray(e))return u3(e)}function u3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f3=function(t,r,n,a,i){var s=go(t,vP),o=go(t,i_),l=[].concat(mF(s),mF(o)),c=go(t,o_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&Tt(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var d="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&Tt(v.props[d])&&Tt(v.props[g])){var y=v.props[d],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return Tt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},kK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,g),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var O=v.length,P;for(_=0;_<O;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,h);break;default:if(!w)for(P=1,w=new Array(y-1);P<y;P++)w[P-1]=arguments[P];v[_].fn.apply(v[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[d]=v.length===1?v[0]:v:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(kK);var A9e=kK.exports;const T9e=sn(A9e);var AA=new T9e,TA="recharts.syncMouseEvents";function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function E9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CK(n.key),n)}}function C9e(e,t,r){return t&&k9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function EA(e,t,r){return t=CK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=N9e(e,"string");return _1(t)=="symbol"?t:t+""}function N9e(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P9e=function(){function e(){E9e(this,e),EA(this,"activeIndex",0),EA(this,"coordinateList",[]),EA(this,"layout","horizontal")}return C9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function O9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&Tt(n)&&Tt(a))return!0}return!1}function I9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=ei(t,r,n,a),o=ei(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function D9e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=ei(o,l,c,f),d=ei(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return NK(t);return[{x:n,y:a},{x:i,y:s}]}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function gF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Dx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(r),!0).forEach(function(n){j9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j9e(e,t,r){return t=L9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9e(e){var t=M9e(e,"string");return S1(t)=="symbol"?t:t+""}function M9e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R9e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=ME;if(h==="ScatterChart")g=s,m=MMe;else if(h==="BarChart")g=I9e(f,s,l,u),m=cP;else if(f==="radial"){var v=NK(s),y=v.cx,w=v.cy,_=v.radius,O=v.startAngle,P=v.endAngle;g={cx:y,cy:w,startAngle:O,endAngle:P,innerRadius:_,outerRadius:_},m=DG}else g={points:D9e(f,s,l)},m=ME;var D=Dx(Dx(Dx(Dx({stroke:"#ccc",pointerEvents:"none"},l),g),Ar(d,!1)),{},{payload:o,payloadIndex:c,className:Rr("recharts-tooltip-cursor",d.className)});return Q.isValidElement(d)?Q.cloneElement(d,D):Q.createElement(m,D)}var F9e=["item"],$9e=["children","className","width","height","style","compact","title","desc"];function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(this,arguments)}function vF(e,t){return U9e(e)||V9e(e,t)||OK(e,t)||B9e()}function B9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function U9e(e){if(Array.isArray(e))return e}function yF(e,t){if(e==null)return{};var r=z9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IK(n.key),n)}}function H9e(e,t,r){return t&&W9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G9e(e,t,r){return t=Tw(t),K9e(e,PK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function K9e(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y9e(e)}function Y9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function X9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h3(e,t)}function h3(e,t){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},h3(e,t)}function Dp(e){return Z9e(e)||J9e(e)||OK(e)||Q9e()}function Q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OK(e,t){if(e){if(typeof e=="string")return d3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d3(e,t)}}function J9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z9e(e){if(Array.isArray(e))return d3(e)}function d3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xF(Object(r),!0).forEach(function(n){Ht(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ht(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=eBe(e,"string");return Ip(t)=="symbol"?t:t+""}function eBe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tBe={xAxis:["bottom","top"],yAxis:["left","right"]},rBe={width:"100%",height:"100%"},DK={x:0,y:0};function jx(e){return e}var nBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},aBe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return Ze(Ze(Ze({},a),ei(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return Ze(Ze(Ze({},a),ei(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return DK},l_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dp(o),Dp(c)):o},[]);return s.length>0?s:t&&t.length&&Tt(a)&&Tt(i)?t.slice(a,i+1):[]};function jK(e){return e==="number"?[0,"auto"]:void 0}var p3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=l_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=kb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Dp(l),[PG(c,h)]):l},[])},bF=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=nBe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=yDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=p3(t,r,u,f),d=aBe(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},iBe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=kG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?Ze(Ze({},m.type.defaultProps),m.props):m.props,w=y.type,_=y.dataKey,O=y.allowDataOverflow,P=y.allowDuplicatedCategory,D=y.scale,T=y.ticks,A=y.includeHidden,b=y[s];if(g[b])return g;var I=l_(t.data,{graphicalItems:a.filter(function(N){var R,U=s in N.props?N.props[s]:(R=N.type.defaultProps)===null||R===void 0?void 0:R[s];return U===b}),dataStartIndex:l,dataEndIndex:c}),E=I.length,C,L,H;O9e(y.domain,O,w)&&(C=OE(y.domain,null,O),d&&(w==="number"||D!=="auto")&&(H=Wg(I,_,"category")));var V=jK(w);if(!C||C.length===0){var Z,ee=(Z=y.domain)!==null&&Z!==void 0?Z:V;if(_){if(C=Wg(I,_,w),w==="category"&&d){var W=i_e(C);P&&W?(L=C,C=hw(0,E)):P||(C=JM(ee,C,m).reduce(function(N,R){return N.indexOf(R)>=0?N:[].concat(Dp(N),[R])},[]))}else if(w==="category")P?C=C.filter(function(N){return N!==""&&!br(N)}):C=JM(ee,C,m).reduce(function(N,R){return N.indexOf(R)>=0||R===""||br(R)?N:[].concat(Dp(N),[R])},[]);else if(w==="number"){var B=SDe(I,a.filter(function(N){var R,U,K=s in N.props?N.props[s]:(R=N.type.defaultProps)===null||R===void 0?void 0:R[s],G="hide"in N.props?N.props.hide:(U=N.type.defaultProps)===null||U===void 0?void 0:U.hide;return K===b&&(A||!G)}),_,i,u);B&&(C=B)}d&&(w==="number"||D!=="auto")&&(H=Wg(I,_,"category"))}else d?C=hw(0,E):o&&o[b]&&o[b].hasStack&&w==="number"?C=h==="expand"?[0,1]:NG(o[b].stackGroups,l,c):C=EG(I,a.filter(function(N){var R=s in N.props?N.props[s]:N.type.defaultProps[s],U="hide"in N.props?N.props.hide:N.type.defaultProps.hide;return R===b&&(A||!U)}),w,u,!0);if(w==="number")C=f3(f,C,b,i,T),ee&&(C=OE(ee,C,O));else if(w==="category"&&ee){var ae=ee,q=C.every(function(N){return ae.indexOf(N)>=0});q&&(C=ae)}}return Ze(Ze({},g),{},Ht({},b,Ze(Ze({},y),{},{axisType:i,domain:C,categoricalDomain:H,duplicateDomain:L,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:d,layout:u})))},{})},sBe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=l_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,g=kG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?Ze(Ze({},y.type.defaultProps),y.props):y.props,_=w[s],O=jK("number");if(!v[_]){m++;var P;return g?P=hw(0,d):o&&o[_]&&o[_].hasStack?(P=NG(o[_].stackGroups,l,c),P=f3(f,P,_,i)):(P=OE(O,EG(h,n.filter(function(D){var T,A,b=s in D.props?D.props[s]:(T=D.type.defaultProps)===null||T===void 0?void 0:T[s],I="hide"in D.props?D.props.hide:(A=D.type.defaultProps)===null||A===void 0?void 0:A.hide;return b===_&&!I}),"number",u),a.defaultProps.allowDataOverflow),P=f3(f,P,_,i)),Ze(Ze({},v),{},Ht({},_,Ze(Ze({axisType:i},a.defaultProps),{},{hide:!0,orientation:mo(tBe,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},oBe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=go(u,i),d={};return h&&h.length?d=iBe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=sBe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},lBe=function(t){var r=Vu(t),n=yc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:MN(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:nw(r,n)}},wF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ps(r,Sp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},cBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=_c(r&&r.type);return n&&n.indexOf("Bar")>=0})},_F=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Ps(f,Sp),g=Ps(f,Ac),m=Object.keys(l).reduce(function(P,D){var T=l[D],A=T.orientation;return!T.mirror&&!T.hide?Ze(Ze({},P),{},Ht({},A,P[A]+T.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,D){var T=s[D],A=T.orientation;return!T.mirror&&!T.hide?Ze(Ze({},P),{},Ht({},A,mo(P,"".concat(A))+T.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=Ze(Ze({},v),m),w=y.bottom;d&&(y.bottom+=d.props.height||Sp.defaultProps.height),g&&r&&(y=wDe(y,a,n,r));var _=c-y.left-y.right,O=u-y.top-y.bottom;return Ze(Ze({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(O,0)})},fBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},hBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var _=w.graphicalItems,O=w.stackGroups,P=w.offset,D=w.updateId,T=w.dataStartIndex,A=w.dataEndIndex,b=y.barSize,I=y.layout,E=y.barGap,C=y.barCategoryGap,L=y.maxBarSize,H=_F(I),V=H.numericAxisName,Z=H.cateAxisName,ee=cBe(_),W=[];return _.forEach(function(B,ae){var q=l_(y.data,{graphicalItems:[B],dataStartIndex:T,dataEndIndex:A}),N=B.type.defaultProps!==void 0?Ze(Ze({},B.type.defaultProps),B.props):B.props,R=N.dataKey,U=N.maxBarSize,K=N["".concat(V,"Id")],G=N["".concat(Z,"Id")],ie={},ue=l.reduce(function(je,Ge){var Fe=w["".concat(Ge.axisType,"Map")],Ye=N["".concat(Ge.axisType,"Id")];Fe&&Fe[Ye]||Ge.axisType==="zAxis"||td();var lt=Fe[Ye];return Ze(Ze({},je),{},Ht(Ht({},Ge.axisType,lt),"".concat(Ge.axisType,"Ticks"),yc(lt)))},ie),J=ue[Z],ce=ue["".concat(Z,"Ticks")],pe=O&&O[K]&&O[K].hasStack&&LDe(B,O[K].stackGroups),Y=_c(B.type).indexOf("Bar")>=0,fe=nw(J,ce),Se=[],ye=ee&&xDe({barSize:b,stackGroups:O,totalSize:fBe(ue,Z)});if(Y){var te,Te,Ee=br(U)?L:U,Ce=(te=(Te=nw(J,ce,!0))!==null&&Te!==void 0?Te:Ee)!==null&&te!==void 0?te:0;Se=bDe({barGap:E,barCategoryGap:C,bandSize:Ce!==fe?Ce:fe,sizeList:ye[G],maxBarSize:Ee}),Ce!==fe&&(Se=Se.map(function(je){return Ze(Ze({},je),{},{position:Ze(Ze({},je.position),{},{offset:je.position.offset-Ce/2})})}))}var He=B&&B.type&&B.type.getComposedData;He&&W.push({props:Ze(Ze({},He(Ze(Ze({},ue),{},{displayedData:q,props:y,dataKey:R,item:B,bandSize:fe,barPosition:Se,offset:P,stackedData:pe,layout:I,dataStartIndex:T,dataEndIndex:A}))),{},Ht(Ht(Ht({key:B.key||"item-".concat(ae)},V,ue[V]),Z,ue[Z]),"animationId",D)),childIndex:y_e(B,y.children),item:B})}),W},d=function(y,w){var _=y.props,O=y.dataStartIndex,P=y.dataEndIndex,D=y.updateId;if(!Wj({props:_}))return null;var T=_.children,A=_.layout,b=_.stackOffset,I=_.data,E=_.reverseStackOrder,C=_F(A),L=C.numericAxisName,H=C.cateAxisName,V=go(T,n),Z=IDe(I,V,"".concat(L,"Id"),"".concat(H,"Id"),b,E),ee=l.reduce(function(N,R){var U="".concat(R.axisType,"Map");return Ze(Ze({},N),{},Ht({},U,oBe(_,Ze(Ze({},R),{},{graphicalItems:V,stackGroups:R.axisType===L&&Z,dataStartIndex:O,dataEndIndex:P}))))},{}),W=uBe(Ze(Ze({},ee),{},{props:_,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(ee).forEach(function(N){ee[N]=u(_,ee[N],W,N.replace("Map",""),r)});var B=ee["".concat(H,"Map")],ae=lBe(B),q=h(_,Ze(Ze({},ee),{},{dataStartIndex:O,dataEndIndex:P,updateId:D,graphicalItems:V,stackGroups:Z,offset:W}));return Ze(Ze({formattedGraphicalItems:q,graphicalItems:V,offset:W,stackGroups:Z},ae),ee)},g=function(v){function y(w){var _,O,P;return q9e(this,y),P=G9e(this,y,[w]),Ht(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ht(P,"accessibilityManager",new P9e),Ht(P,"handleLegendBBoxUpdate",function(D){if(D){var T=P.state,A=T.dataStartIndex,b=T.dataEndIndex,I=T.updateId;P.setState(Ze({legendBBox:D},d({props:P.props,dataStartIndex:A,dataEndIndex:b,updateId:I},Ze(Ze({},P.state),{},{legendBBox:D}))))}}),Ht(P,"handleReceiveSyncEvent",function(D,T,A){if(P.props.syncId===D){if(A===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(T)}}),Ht(P,"handleBrushChange",function(D){var T=D.startIndex,A=D.endIndex;if(T!==P.state.dataStartIndex||A!==P.state.dataEndIndex){var b=P.state.updateId;P.setState(function(){return Ze({dataStartIndex:T,dataEndIndex:A},d({props:P.props,dataStartIndex:T,dataEndIndex:A,updateId:b},P.state))}),P.triggerSyncEvent({dataStartIndex:T,dataEndIndex:A})}}),Ht(P,"handleMouseEnter",function(D){var T=P.getMouseInfo(D);if(T){var A=Ze(Ze({},T),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var b=P.props.onMouseEnter;pr(b)&&b(A,D)}}),Ht(P,"triggeredAfterMouseMove",function(D){var T=P.getMouseInfo(D),A=T?Ze(Ze({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(A),P.triggerSyncEvent(A);var b=P.props.onMouseMove;pr(b)&&b(A,D)}),Ht(P,"handleItemMouseEnter",function(D){P.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Ht(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Ht(P,"handleMouseMove",function(D){D.persist(),P.throttleTriggeredAfterMouseMove(D)}),Ht(P,"handleMouseLeave",function(D){P.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};P.setState(T),P.triggerSyncEvent(T);var A=P.props.onMouseLeave;pr(A)&&A(T,D)}),Ht(P,"handleOuterEvent",function(D){var T=v_e(D),A=mo(P.props,"".concat(T));if(T&&pr(A)){var b,I;/.*touch.*/i.test(T)?I=P.getMouseInfo(D.changedTouches[0]):I=P.getMouseInfo(D),A((b=I)!==null&&b!==void 0?b:{},D)}}),Ht(P,"handleClick",function(D){var T=P.getMouseInfo(D);if(T){var A=Ze(Ze({},T),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var b=P.props.onClick;pr(b)&&b(A,D)}}),Ht(P,"handleMouseDown",function(D){var T=P.props.onMouseDown;if(pr(T)){var A=P.getMouseInfo(D);T(A,D)}}),Ht(P,"handleMouseUp",function(D){var T=P.props.onMouseUp;if(pr(T)){var A=P.getMouseInfo(D);T(A,D)}}),Ht(P,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Ht(P,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseDown(D.changedTouches[0])}),Ht(P,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseUp(D.changedTouches[0])}),Ht(P,"handleDoubleClick",function(D){var T=P.props.onDoubleClick;if(pr(T)){var A=P.getMouseInfo(D);T(A,D)}}),Ht(P,"handleContextMenu",function(D){var T=P.props.onContextMenu;if(pr(T)){var A=P.getMouseInfo(D);T(A,D)}}),Ht(P,"triggerSyncEvent",function(D){P.props.syncId!==void 0&&AA.emit(TA,P.props.syncId,D,P.eventEmitterSymbol)}),Ht(P,"applySyncEvent",function(D){var T=P.props,A=T.layout,b=T.syncMethod,I=P.state.updateId,E=D.dataStartIndex,C=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)P.setState(Ze({dataStartIndex:E,dataEndIndex:C},d({props:P.props,dataStartIndex:E,dataEndIndex:C,updateId:I},P.state)));else if(D.activeTooltipIndex!==void 0){var L=D.chartX,H=D.chartY,V=D.activeTooltipIndex,Z=P.state,ee=Z.offset,W=Z.tooltipTicks;if(!ee)return;if(typeof b=="function")V=b(W,D);else if(b==="value"){V=-1;for(var B=0;B<W.length;B++)if(W[B].value===D.activeLabel){V=B;break}}var ae=Ze(Ze({},ee),{},{x:ee.left,y:ee.top}),q=Math.min(L,ae.x+ae.width),N=Math.min(H,ae.y+ae.height),R=W[V]&&W[V].value,U=p3(P.state,P.props.data,V),K=W[V]?{x:A==="horizontal"?W[V].coordinate:q,y:A==="horizontal"?N:W[V].coordinate}:DK;P.setState(Ze(Ze({},D),{},{activeLabel:R,activeCoordinate:K,activePayload:U,activeTooltipIndex:V}))}else P.setState(D)}),Ht(P,"renderCursor",function(D){var T,A=P.state,b=A.isTooltipActive,I=A.activeCoordinate,E=A.activePayload,C=A.offset,L=A.activeTooltipIndex,H=A.tooltipAxisBandSize,V=P.getTooltipEventType(),Z=(T=D.props.active)!==null&&T!==void 0?T:b,ee=P.props.layout,W=D.key||"_recharts-cursor";return Ie.createElement(R9e,{key:W,activeCoordinate:I,activePayload:E,activeTooltipIndex:L,chartName:r,element:D,isActive:Z,layout:ee,offset:C,tooltipAxisBandSize:H,tooltipEventType:V})}),Ht(P,"renderPolarAxis",function(D,T,A){var b=mo(D,"type.axisType"),I=mo(P.state,"".concat(b,"Map")),E=D.type.defaultProps,C=E!==void 0?Ze(Ze({},E),D.props):D.props,L=I&&I[C["".concat(b,"Id")]];return Q.cloneElement(D,Ze(Ze({},L),{},{className:Rr(b,L.className),key:D.key||"".concat(T,"-").concat(A),ticks:yc(L,!0)}))}),Ht(P,"renderPolarGrid",function(D){var T=D.props,A=T.radialLines,b=T.polarAngles,I=T.polarRadius,E=P.state,C=E.radiusAxisMap,L=E.angleAxisMap,H=Vu(C),V=Vu(L),Z=V.cx,ee=V.cy,W=V.innerRadius,B=V.outerRadius;return Q.cloneElement(D,{polarAngles:Array.isArray(b)?b:yc(V,!0).map(function(ae){return ae.coordinate}),polarRadius:Array.isArray(I)?I:yc(H,!0).map(function(ae){return ae.coordinate}),cx:Z,cy:ee,innerRadius:W,outerRadius:B,key:D.key||"polar-grid",radialLines:A})}),Ht(P,"renderLegend",function(){var D=P.state.formattedGraphicalItems,T=P.props,A=T.children,b=T.width,I=T.height,E=P.props.margin||{},C=b-(E.left||0)-(E.right||0),L=AG({children:A,formattedGraphicalItems:D,legendWidth:C,legendContent:c});if(!L)return null;var H=L.item,V=yF(L,F9e);return Q.cloneElement(H,Ze(Ze({},V),{},{chartWidth:b,chartHeight:I,margin:E,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Ht(P,"renderTooltip",function(){var D,T=P.props,A=T.children,b=T.accessibilityLayer,I=Ps(A,oo);if(!I)return null;var E=P.state,C=E.isTooltipActive,L=E.activeCoordinate,H=E.activePayload,V=E.activeLabel,Z=E.offset,ee=(D=I.props.active)!==null&&D!==void 0?D:C;return Q.cloneElement(I,{viewBox:Ze(Ze({},Z),{},{x:Z.left,y:Z.top}),active:ee,label:V,payload:ee?H:[],coordinate:L,accessibilityLayer:b})}),Ht(P,"renderBrush",function(D){var T=P.props,A=T.margin,b=T.data,I=P.state,E=I.offset,C=I.dataStartIndex,L=I.dataEndIndex,H=I.updateId;return Q.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Nx(P.handleBrushChange,D.props.onChange),data:b,x:Tt(D.props.x)?D.props.x:E.left,y:Tt(D.props.y)?D.props.y:E.top+E.height+E.brushBottom-(A.bottom||0),width:Tt(D.props.width)?D.props.width:E.width,startIndex:C,endIndex:L,updateId:"brush-".concat(H)})}),Ht(P,"renderReferenceElement",function(D,T,A){if(!D)return null;var b=P,I=b.clipPathId,E=P.state,C=E.xAxisMap,L=E.yAxisMap,H=E.offset,V=D.type.defaultProps||{},Z=D.props,ee=Z.xAxisId,W=ee===void 0?V.xAxisId:ee,B=Z.yAxisId,ae=B===void 0?V.yAxisId:B;return Q.cloneElement(D,{key:D.key||"".concat(T,"-").concat(A),xAxis:C[W],yAxis:L[ae],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:I})}),Ht(P,"renderActivePoints",function(D){var T=D.item,A=D.activePoint,b=D.basePoint,I=D.childIndex,E=D.isRange,C=[],L=T.props.key,H=T.item.type.defaultProps!==void 0?Ze(Ze({},T.item.type.defaultProps),T.item.props):T.item.props,V=H.activeDot,Z=H.dataKey,ee=Ze(Ze({index:I,dataKey:Z,cx:A.x,cy:A.y,r:4,fill:lP(T.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Ar(V,!1)),Cb(V));return C.push(y.renderActiveDot(V,ee,"".concat(L,"-activePoint-").concat(I))),b?C.push(y.renderActiveDot(V,Ze(Ze({},ee),{},{cx:b.x,cy:b.y}),"".concat(L,"-basePoint-").concat(I))):E&&C.push(null),C}),Ht(P,"renderGraphicChild",function(D,T,A){var b=P.filterFormatItem(D,T,A);if(!b)return null;var I=P.getTooltipEventType(),E=P.state,C=E.isTooltipActive,L=E.tooltipAxis,H=E.activeTooltipIndex,V=E.activeLabel,Z=P.props.children,ee=Ps(Z,oo),W=b.props,B=W.points,ae=W.isRange,q=W.baseLine,N=b.item.type.defaultProps!==void 0?Ze(Ze({},b.item.type.defaultProps),b.item.props):b.item.props,R=N.activeDot,U=N.hide,K=N.activeBar,G=N.activeShape,ie=!!(!U&&C&&ee&&(R||K||G)),ue={};I!=="axis"&&ee&&ee.props.trigger==="click"?ue={onClick:Nx(P.handleItemMouseEnter,D.props.onClick)}:I!=="axis"&&(ue={onMouseLeave:Nx(P.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Nx(P.handleItemMouseEnter,D.props.onMouseEnter)});var J=Q.cloneElement(D,Ze(Ze({},b.props),ue));function ce(Ge){return typeof L.dataKey=="function"?L.dataKey(Ge.payload):null}if(ie)if(H>=0){var pe,Y;if(L.dataKey&&!L.allowDuplicatedCategory){var fe=typeof L.dataKey=="function"?ce:"payload.".concat(L.dataKey.toString());pe=kb(B,fe,V),Y=ae&&q&&kb(q,fe,V)}else pe=B==null?void 0:B[H],Y=ae&&q&&q[H];if(G||K){var Se=D.props.activeIndex!==void 0?D.props.activeIndex:H;return[Q.cloneElement(D,Ze(Ze(Ze({},b.props),ue),{},{activeIndex:Se})),null,null]}if(!br(pe))return[J].concat(Dp(P.renderActivePoints({item:b,activePoint:pe,basePoint:Y,childIndex:H,isRange:ae})))}else{var ye,te=(ye=P.getItemByXY(P.state.activeCoordinate))!==null&&ye!==void 0?ye:{graphicalItem:J},Te=te.graphicalItem,Ee=Te.item,Ce=Ee===void 0?D:Ee,He=Te.childIndex,je=Ze(Ze(Ze({},b.props),ue),{},{activeIndex:He});return[Q.cloneElement(Ce,je),null,null]}return ae?[J,null,null]:[J,null]}),Ht(P,"renderCustomized",function(D,T,A){return Q.cloneElement(D,Ze(Ze({key:"recharts-customized-".concat(A)},P.props),P.state))}),Ht(P,"renderMap",{CartesianGrid:{handler:jx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:jx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:jx},YAxis:{handler:jx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:ey("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=SH(P.triggeredAfterMouseMove,(O=w.throttleDelay)!==null&&O!==void 0?O:1e3/60),P.state={},P}return X9e(y,v),H9e(y,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,P=_.data,D=_.height,T=_.layout,A=Ps(O,oo);if(A){var b=A.props.defaultIndex;if(!(typeof b!="number"||b<0||b>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[b]&&this.state.tooltipTicks[b].value,E=p3(this.state,P,b,I),C=this.state.tooltipTicks[b].coordinate,L=(this.state.offset.top+D)/2,H=T==="horizontal",V=H?{x:C,y:L}:{y:C,x:L},Z=this.state.formattedGraphicalItems.find(function(W){var B=W.item;return B.type.name==="Scatter"});Z&&(V=Ze(Ze({},V),Z.props.points[b].tooltipPosition),E=Z.props.points[b].tooltipPayload);var ee={activeTooltipIndex:b,isTooltipActive:!0,activeLabel:I,activePayload:E,activeCoordinate:V};this.setState(ee),this.renderCursor(A),this.accessibilityManager.setIndex(b)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var P,D;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(_){HT([Ps(_.children,oo)],[Ps(this.props.children,oo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ps(this.props.children,oo);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,P=O.getBoundingClientRect(),D=qPe(P),T={chartX:Math.round(_.pageX-D.left),chartY:Math.round(_.pageY-D.top)},A=P.width/O.offsetWidth||1,b=this.inRange(T.chartX,T.chartY,A);if(!b)return null;var I=this.state,E=I.xAxisMap,C=I.yAxisMap,L=this.getTooltipEventType(),H=bF(this.state,this.props.data,this.props.layout,b);if(L!=="axis"&&E&&C){var V=Vu(E).scale,Z=Vu(C).scale,ee=V&&V.invert?V.invert(T.chartX):null,W=Z&&Z.invert?Z.invert(T.chartY):null;return Ze(Ze({},T),{},{xValue:ee,yValue:W},H)}return H?Ze(Ze({},T),H):null}},{key:"inRange",value:function(_,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,T=_/P,A=O/P;if(D==="horizontal"||D==="vertical"){var b=this.state.offset,I=T>=b.left&&T<=b.left+b.width&&A>=b.top&&A<=b.top+b.height;return I?{x:T,y:A}:null}var E=this.state,C=E.angleAxisMap,L=E.radiusAxisMap;if(C&&L){var H=Vu(C);return tR({x:T,y:A},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),P=Ps(_,oo),D={};P&&O==="axis"&&(P.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=Cb(this.props,this.handleOuterEvent);return Ze(Ze({},T),D)}},{key:"addListener",value:function(){AA.on(TA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){AA.removeListener(TA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,P){for(var D=this.state.formattedGraphicalItems,T=0,A=D.length;T<A;T++){var b=D[T];if(b.item===_||b.props.key===_.key||O===_c(b.item.type)&&P===b.childIndex)return b}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,P=O.left,D=O.top,T=O.height,A=O.width;return Ie.createElement("defs",null,Ie.createElement("clipPath",{id:_},Ie.createElement("rect",{x:P,y:D,height:T,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,P){var D=vF(P,2),T=D[0],A=D[1];return Ze(Ze({},O),{},Ht({},T,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,P){var D=vF(P,2),T=D[0],A=D[1];return Ze(Ze({},O),{},Ht({},T,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,P=O.formattedGraphicalItems,D=O.activeItem;if(P&&P.length)for(var T=0,A=P.length;T<A;T++){var b=P[T],I=b.props,E=b.item,C=E.type.defaultProps!==void 0?Ze(Ze({},E.type.defaultProps),E.props):E.props,L=_c(E.type);if(L==="Bar"){var H=(I.data||[]).find(function(W){return EMe(_,W)});if(H)return{graphicalItem:b,payload:H}}else if(L==="RadialBar"){var V=(I.data||[]).find(function(W){return tR(_,W)});if(V)return{graphicalItem:b,payload:V}}else if(t_(b,D)||r_(b,D)||v1(b,D)){var Z=NRe({graphicalItem:b,activeTooltipItem:D,itemData:C.data}),ee=C.activeIndex===void 0?Z:C.activeIndex;return{graphicalItem:Ze(Ze({},b),{},{childIndex:ee}),payload:v1(b,D)?C.data[Z]:b.props.data[Z]}}}return null}},{key:"render",value:function(){var _=this;if(!Wj(this))return null;var O=this.props,P=O.children,D=O.className,T=O.width,A=O.height,b=O.style,I=O.compact,E=O.title,C=O.desc,L=yF(O,$9e),H=Ar(L,!1);if(I)return Ie.createElement(ZR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement(KT,_0({},H,{width:T,height:A,title:E,desc:C}),this.renderClipPath(),Gj(P,this.renderMap)));if(this.props.accessibilityLayer){var V,Z;H.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,H.role=(Z=this.props.role)!==null&&Z!==void 0?Z:"application",H.onKeyDown=function(W){_.accessibilityManager.keyboardEvent(W)},H.onFocus=function(){_.accessibilityManager.focus()}}var ee=this.parseEventsOfWrapper();return Ie.createElement(ZR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement("div",_0({className:Rr("recharts-wrapper",D),style:Ze({position:"relative",cursor:"default",width:T,height:A},b)},ee,{ref:function(B){_.container=B}}),Ie.createElement(KT,_0({},H,{width:T,height:A,title:E,desc:C,style:rBe}),this.renderClipPath(),Gj(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Q.Component);Ht(g,"displayName",r),Ht(g,"defaultProps",Ze({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ht(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,_=v.data,O=v.children,P=v.width,D=v.height,T=v.layout,A=v.stackOffset,b=v.margin,I=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var C=wF(v);return Ze(Ze(Ze({},C),{},{updateId:0},d(Ze(Ze({props:v},C),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:P,prevHeight:D,prevLayout:T,prevStackOffset:A,prevMargin:b,prevChildren:O})}if(w!==y.prevDataKey||_!==y.prevData||P!==y.prevWidth||D!==y.prevHeight||T!==y.prevLayout||A!==y.prevStackOffset||!$0(b,y.prevMargin)){var L=wF(v),H={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=Ze(Ze({},bF(y,_,T)),{},{updateId:y.updateId+1}),Z=Ze(Ze(Ze({},L),H),V);return Ze(Ze(Ze({},Z),d(Ze({props:v},Z),y)),{},{prevDataKey:w,prevData:_,prevWidth:P,prevHeight:D,prevLayout:T,prevStackOffset:A,prevMargin:b,prevChildren:O})}if(!HT(O,y.prevChildren)){var ee,W,B,ae,q=Ps(O,Sp),N=q&&(ee=(W=q.props)===null||W===void 0?void 0:W.startIndex)!==null&&ee!==void 0?ee:I,R=q&&(B=(ae=q.props)===null||ae===void 0?void 0:ae.endIndex)!==null&&B!==void 0?B:E,U=N!==I||R!==E,K=!br(_),G=K&&!U?y.updateId:y.updateId+1;return Ze(Ze({updateId:G},d(Ze(Ze({props:v},y),{},{updateId:G,dataStartIndex:N,dataEndIndex:R}),y)),{},{prevChildren:O,dataStartIndex:N,dataEndIndex:R})}return null}),Ht(g,"renderActiveDot",function(v,y,w){var _;return Q.isValidElement(v)?_=Q.cloneElement(v,y):pr(v)?_=v(y):_=Ie.createElement(uP,y),Ie.createElement(aa,{className:"recharts-active-dot",key:w},_)});var m=Q.forwardRef(function(y,w){return Ie.createElement(g,_0({},y,{ref:w}))});return m.displayName=g.displayName,m},kA=hBe({chartName:"LineChart",GraphicalChild:El,axisComponents:[{axisType:"xAxis",AxisComp:U0},{axisType:"yAxis",AxisComp:z0}],formatAxisMap:e7e});const dBe=()=>{const[e,t]=Q.useState("daily"),[r,n]=Q.useState(or(new Date,7)),[a,i]=Q.useState(new Date),[s,o]=Q.useState([]),[l,c]=Q.useState([]),[u,f]=Q.useState([]),[h,d]=Q.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=Q.useState(!0),{isDarkMode:v}=zr(),{user:y}=ga(),w=Q.useCallback(async()=>{m(!0);try{const b=a||new Date,I=r||or(b,7),E=fr(_t(it,"orders"),dr("createdAt",">=",qt.fromDate(I)),dr("createdAt","<=",qt.fromDate(b))),L=(await cr(E)).docs.map(Fe=>{var Ye,lt,nt;return{id:Fe.id,...Fe.data(),createdAt:(Ye=Fe.data().createdAt)==null?void 0:Ye.toDate(),updatedAt:(lt=Fe.data().updatedAt)==null?void 0:lt.toDate(),shippedTime:(nt=Fe.data().shippedTime)==null?void 0:nt.toDate()}}),H=fr(_t(it,"inventory")),Z=(await cr(H)).docs.map(Fe=>({id:Fe.id,...Fe.data(),lastUpdated:Fe.data().lastUpdated instanceof qt?Fe.data().lastUpdated.toDate():new Date(Fe.data().lastUpdated)})),ee=fr(_t(it,"activityLogs"),dr("time",">=",I.toISOString()),dr("time","<=",b.toISOString()),Ra("time","desc")),B=(await cr(ee)).docs.map(Fe=>({id:Fe.id,...Fe.data()}));f(B),o(Z),c(L);const ae=Z.reduce((Fe,Ye)=>Fe+(Ye.quantity||0),0),q=Z.reduce((Fe,Ye)=>Fe+(Ye.quantity||0)*(Ye.price||0),0),N=L.length,R=or(new Date,1),U=new Date,K=L.filter(Fe=>{const Ye=Fe.createdAt;return Ye>=R&&Ye<=U}),G=K.length,ie=K.reduce((Fe,Ye)=>Fe+(Ye.totalAmount||0),0),ue=a||new Date,J=r||or(ue,7),pe=B.filter(Fe=>{const Ye=new Date(Fe.time);return Ye>=J&&Ye<=ue}).filter(Fe=>{const Ye=Fe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ye){const[,xt]=Ye;return Z.some(wt=>wt.name===xt)}const lt=Fe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(lt){const[,xt]=lt;return Z.some(wt=>wt.name===xt)}return Fe.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Fe.detail)),!0}),Y=ue.getTime()-J.getTime(),fe=new Date(J.getTime()-Y),Se=new Date(J.getTime()),te=B.filter(Fe=>{const Ye=new Date(Fe.time);return Ye>=fe&&Ye<=Se}).filter(Fe=>{const Ye=Fe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ye){const[,xt]=Ye;return Z.some(wt=>wt.name===xt)}const lt=Fe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(lt){const[,xt]=lt;return Z.some(wt=>wt.name===xt)}return Fe.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(xt=>xt.test(Fe.detail)),!0}),Te=pe.reduce((Fe,Ye)=>{const lt=Ye.detail.match(/(\d+) units deducted/);return Fe+(lt?parseInt(lt[1]):0)},0),Ee=te.reduce((Fe,Ye)=>{const lt=Ye.detail.match(/(\d+) units deducted/);return Fe+(lt?parseInt(lt[1]):0)},0),Ce=pe.reduce((Fe,Ye)=>{const lt=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(lt){const[,dt,xt]=lt;if(Z.find(mt=>mt.name===dt))return Fe+parseInt(xt)}const nt=Ye.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,dt,xt,wt]=nt;if(Z.find(et=>et.name===dt)){const et=parseInt(wt)-parseInt(xt);if(et>0)return Fe+et}}return Fe},0),He=pe.reduce((Fe,Ye)=>{const lt=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(lt){const[,dt,xt]=lt,wt=Z.find(mt=>mt.name===dt);if(wt){const mt=wt.price||0;return Fe+parseInt(xt)*mt}}const nt=Ye.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(nt){const[,dt,xt,wt]=nt,mt=Z.find(et=>et.name===dt);if(mt){const et=parseInt(wt)-parseInt(xt);if(et>0){const Bt=mt.price||0;return Fe+et*Bt}}}return Fe},0),Ge=pe.reduce((Fe,Ye)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(dt=>dt.test(Ye.detail))){let dt=0;const xt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,wt=Ye.detail.match(xt);if(wt)dt=parseInt(wt[1]);else{const mt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const et of mt){const Bt=Ye.detail.match(et);if(Bt){if(Bt.length===3){const Lt=parseInt(Bt[1]),Gr=parseInt(Bt[2]);dt=Math.abs(Lt-Gr)}else dt=parseInt(Bt[1]);break}}}return{incidents:Fe.incidents+1,units:Fe.units+(dt>0?dt:1)}}return Fe},{incidents:0,units:0}).incidents;d({totalOrders:N,totalStock:ae,totalInventoryValue:q,totalDamagedProducts:Ge,yesterdayOrders:G,yesterdayStockChange:0,yesterdayRevenue:ie,totalDeductions:Te,previousDeductions:Ee,todayStockAdditions:Ce,todayInventoryValueAdditions:He})}catch(b){console.error("Error fetching data:",b)}finally{m(!1)}},[r,a]),_=()=>{n(null),i(null)};if(Q.useEffect(()=>{w()},[w]),Q.useEffect(()=>{},[e]),!y||y.role!=="admin")return p.jsx(_4,{to:"/",replace:!0});const O=()=>{const b=[],I=new Map,E=new Date;let C;switch(e){case"daily":C=or(E,7);break;case"weekly":C=or(E,30);break;case"monthly":C=or(E,90);break;default:C=or(E,7)}return u.filter(V=>{const Z=new Date(V.time);return Z>=C&&Z<=E}).filter(V=>{const Z=V.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Z){const[,W]=Z;return s.some(B=>B.name===W)}const ee=V.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,W]=ee;return s.some(B=>B.name===W)}return!0}).forEach(V=>{let Z=0,ee=!1,W="";const B=V.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(B){const[,q,N]=B;s.find(U=>U.name===q)&&(Z=parseInt(N),W=q,ee=!0)}const ae=V.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ae){const[,q,N,R]=ae;if(s.find(K=>K.name===q)){const K=parseInt(R)-parseInt(N);K>0&&(Z=K,W=q,ee=!0)}}if(ee){const q=new Date(V.time);let N;switch(e){case"daily":N=$t(q,"MMM dd");break;case"weekly":N=$t(q,"'Week' w");break;case"monthly":N=$t(q,"MMM yyyy");break}const R=I.get(N)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(W),I.set(N,{activities:R.activities+1,units:R.units+Z,uniqueProducts:R.uniqueProducts})}}),I.forEach((V,Z)=>{b.push({date:Z,activities:V.activities,units:V.units,uniqueProducts:V.uniqueProducts.size})}),b.sort((V,Z)=>{const ee=new Date(V.date),W=new Date(Z.date);return ee.getTime()-W.getTime()})},P=()=>{const b=[],I=new Map,E=new Date;let C;switch(e){case"daily":C=or(E,7);break;case"weekly":C=or(E,30);break;case"monthly":C=or(E,90);break;default:C=or(E,7)}return u.filter(V=>{const Z=new Date(V.time);return Z>=C&&Z<=E}).filter(V=>(V.detail.match(/(\d+) units deducted from stock/),!0)).forEach(V=>{const Z=V.detail.match(/(\d+) units deducted from stock/);if(Z){const ee=new Date(V.time);let W;switch(e){case"daily":W=$t(ee,"MMM dd");break;case"weekly":W=$t(ee,"'Week' w");break;case"monthly":W=$t(ee,"MMM yyyy");break}const B=I.get(W)||0;I.set(W,B+parseInt(Z[1]))}}),I.forEach((V,Z)=>{b.push({date:Z,products:V})}),b.sort((V,Z)=>{const ee=new Date(V.date),W=new Date(Z.date);return ee.getTime()-W.getTime()})},D=()=>{const b=[],I=new Map,E=a||new Date,C=r||or(E,7);return u.filter(V=>{const Z=new Date(V.time);return Z>=C&&Z<=E}).filter(V=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ee=>ee.test(V.detail)),!0)).forEach(V=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(W=>W.test(V.detail))){const W=new Date(V.time);let B;switch(e){case"daily":B=$t(W,"MMM dd");break;case"weekly":B=$t(W,"'Week' w");break;case"monthly":B=$t(W,"MMM yyyy");break}let ae=0;const q=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,N=V.detail.match(q);if(N)ae=parseInt(N[1]);else{const G=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ie of G){const ue=V.detail.match(ie);if(ue){if(ue.length===3){const J=parseInt(ue[1]),ce=parseInt(ue[2]);ae=Math.abs(J-ce)}else ae=parseInt(ue[1]);break}}}let R="Unknown Product";const U=V.detail.match(/"([^"]+)"/);U&&(R=U[1]),I.has(B)||I.set(B,{incidents:0,units:0,productNames:new Set});const K=I.get(B);K.incidents+=1,K.units+=ae>0?ae:1,K.productNames.add(R)}}),I.forEach((V,Z)=>{b.push({date:Z,products:V.incidents,units:V.units,productNames:Array.from(V.productNames)})}),b.sort((V,Z)=>new Date(V.date).getTime()-new Date(Z.date).getTime())},T=()=>{try{const b=$t(new Date,"yyyy-MM-dd-HH-mm"),I=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(ae=>[ae.name,ae.quantity,ae.price,`${ae.locationCode}-${ae.shelfNumber}`,ae.status,ae.damagedItems]),C=O(),L=P(),H=D(),V=Math.max(C.length,L.length,H.length,E.length),Z=[];Z.push(`Warehouse Analytics Report - ${I} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${$t(new Date,"yyyy-MM-dd HH:mm:ss")}`),Z.push(""),Z.push("SUMMARY STATISTICS"),Z.push(`Total Stock Added (${I}),${h.todayStockAdditions},Total Units Deducted (${I}),${h.totalDeductions},Total Damaged Products (${I}),${h.totalDamagedProducts},Total Inventory Value,${h.totalInventoryValue.toLocaleString("en-GB")}`),Z.push(""),Z.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),Z.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ae=0;ae<V;ae++){const q=[];if(ae<C.length){const N=C[ae];q.push(N.date,N.activities,N.units,N.uniqueProducts)}else q.push("","","","");if(ae<L.length){const N=L[ae];q.push(N.date,N.products)}else q.push("","");if(ae<H.length){const N=H[ae];q.push(N.date,N.products,N.units)}else q.push("","","");if(ae<E.length){const N=E[ae];q.push(...N)}else q.push("","","","","","");Z.push(q.join(","))}const ee=Z.join(`
`),W=new Blob([ee],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(W),B.download=`warehouse-report-${I}-${b}.csv`,B.click(),URL.revokeObjectURL(B.href)}catch(b){console.error("Error exporting CSV:",b),alert("Failed to export CSV. Please try again.")}},A=()=>{try{const b=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",I=O(),E=P(),C=D(),L=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${b}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${b}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${$t(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${I.length}</p>
                <p><strong>Total Activities:</strong> ${I.reduce((V,Z)=>V+Z.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${I.reduce((V,Z)=>V+Z.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${I.reduce((V,Z)=>V+Z.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${I.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.activities}</td>
                      <td>${V.units}</td>
                      <td>${V.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${I.length>15?`<tr><td colspan="4"><em>... and ${I.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((V,Z)=>V+Z.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${C.length}</p>
                <p><strong>Total Incidents:</strong> ${C.reduce((V,Z)=>V+Z.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${C.reduce((V,Z)=>V+Z.units,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${C.slice(0,15).map(V=>`
                    <tr>
                      <td>${V.date}</td>
                      <td>${V.products}</td>
                      <td>${V.units}</td>
                      <td>${V.productNames?V.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${C.length>15?`<tr><td colspan="4"><em>... and ${C.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(V=>V.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(V=>V.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((V,Z)=>V+(Z.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(V=>`
                    <tr>
                      <td>${V.name}</td>
                      <td>${V.quantity}</td>
                      <td>${V.price&&!isNaN(V.price)?`${V.price.toFixed(2)}`:"Not set"}</td>
                      <td>${V.locationCode}-${V.shelfNumber}</td>
                      <td>${V.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,H=window.open("","_blank");H?(H.document.write(L),H.document.close(),H.focus(),setTimeout(()=>{H.print()},500)):alert("Please allow pop-ups to export PDF")}catch(b){console.error("Error exporting PDF:",b),alert("Failed to export PDF. Please try again.")}};return p.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[p.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),p.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[p.jsx($2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),p.jsxs("button",{onClick:A,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[p.jsx($2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(Pr,{value:e,onChange:b=>t(b.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(Tq,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:_,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),p.jsx(pt,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(sl,{size:16,className:g?"animate-spin":""})})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?p.jsxs(p.Fragment,{children:[p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Xa,{title:`Total Stock Added (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:p.jsx(J0,{size:24,className:"text-blue-600"})}),p.jsx(Xa,{title:`Total Units Deducted (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:p.jsx(K$,{size:24,className:"text-blue-600"})}),p.jsx(Xa,{title:`Total Damaged Products (${r&&a?`${$t(r,"MMM d")} - ${$t(a,"MMM d, yyyy")}`:r?`From ${$t(r,"MMM d, yyyy")}`:a?`To ${$t(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:p.jsx(zh,{size:24,className:"text-blue-600"})}),p.jsx(Xa,{title:"Total Inventory Value",value:`${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx(B2,{size:24,className:"text-blue-600"})})]})}),g?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"space-y-4 md:space-y-6",children:[p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(cA,{width:"100%",height:"100%",children:p.jsxs(kA,{data:O(),children:[p.jsx(u2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(U0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(z0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(oo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(b,I)=>I==="Inbound Activities"?[`${b} activities`,I]:I==="Units Added"?[`${b} units`,I]:I==="Affected Products"?[`${b} products`,I]:[b,I],labelFormatter:b=>`Date: ${b}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(cA,{width:"100%",height:"100%",children:p.jsxs(kA,{data:P(),children:[p.jsx(u2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(U0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(z0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(oo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(cA,{width:"100%",height:"100%",children:p.jsxs(kA,{data:D(),children:[p.jsx(u2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(U0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(z0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(oo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(b,I)=>I==="Damaged Incidents"?[`${b} incidents`,I]:I==="Units Damaged"?[`${b} units`,I]:[b,I],labelFormatter:b=>`Date: ${b}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},pBe=()=>{const{user:e,setUser:t}=ga(),{showToast:r}=Kc(),{isDarkMode:n,toggleDarkMode:a}=zr(),[i,s]=Q.useState(!1),[o,l]=Q.useState({}),[c,u]=Q.useState([]),[f,h]=Q.useState(null),[d,g]=Q.useState(!1),[m,v]=Q.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=Q.useState({}),[_,O]=Q.useState({}),[P,D]=Q.useState(!1),[T,A]=Q.useState(null),[b,I]=Q.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,C]=Q.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),L=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const ie=(await cr(_t(it,"users"))).docs.map(ue=>({id:ue.id,...ue.data()}));u(ie),console.log("Fetched users:",ie.map(ue=>({id:ue.id,username:ue.username,name:ue.name})))}catch(G){console.error("Error fetching users:",G),r("Error fetching users","error")}finally{s(!1)}}};Q.useEffect(()=>{L()},[e==null?void 0:e.role,r]);const H=G=>G.split(" ").map(ie=>ie[0]).join("").toUpperCase().slice(0,2),V=G=>{const{name:ie,value:ue}=G.target;I(J=>({...J,[ie]:ue})),o[ie]&&l(J=>{const ce={...J};return delete ce[ie],ce})},Z=()=>{const G={};return b.username.trim()||(G.username="Username is required"),b.email.trim()&&!/\S+@\S+\.\S+/.test(b.email)&&(G.email="Invalid email format"),b.name.trim()||(G.name="Name is required"),(b.currentPassword||b.newPassword||b.confirmPassword)&&(b.currentPassword?b.currentPassword!==(e==null?void 0:e.password)&&(G.currentPassword="Current password is incorrect"):G.currentPassword="Current password is required",b.newPassword?b.newPassword.length<6&&(G.newPassword="Password must be at least 6 characters"):G.newPassword="New password is required",b.newPassword!==b.confirmPassword&&(G.confirmPassword="Passwords do not match")),l(G),Object.keys(G).length===0},ee=async G=>{if(G.preventDefault(),!!e&&Z()){s(!0);try{const ie={username:b.username,email:b.email,name:b.name,password:b.currentPassword!=""&&b.confirmPassword!=""&&b.newPassword!=""?b.newPassword:e.password},ue=[];e.username!==b.username&&ue.push(`changed username from "${e.username}" to "${b.username}"`),e.email!==b.email&&ue.push(`changed email from "${e.email}" to "${b.email}"`),e.name!==b.name&&ue.push(`changed full name from "${e.name}" to "${b.name}"`),b.currentPassword&&b.newPassword&&ue.push("changed their password");const J=Br(it,"users",e.id);await _a(J,ie),ue.length>0&&await _r(_t(it,"activityLogs"),{user:e.name,role:e.role,detail:ue.length===1?ue[0]:`made multiple profile changes: ${ue.join("; ")}`,time:new Date().toISOString()}),t({...e,username:b.username,email:b.email,name:b.name,password:b.newPassword||e.password}),I(ce=>({...ce,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(ie){console.error("Error updating profile:",ie),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},W=G=>{console.log("Editing user:",G),h(G),O({}),C({username:G.username,email:G.email,name:G.name,newPassword:"",confirmPassword:""})},B=G=>{const{name:ie,value:ue}=G.target;C(J=>({...J,[ie]:ue})),_[ie]&&O(J=>{const ce={...J};return delete ce[ie],ce})},ae=async()=>{if(f)try{if(s(!0),O({}),!E.username.trim()){O({username:"Username is required"});return}if(!E.name.trim()){O({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const G=Br(it,"users",f.id);console.log("User reference:",G.path);const ie={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(ie.password=E.newPassword),console.log("Attempting to update document with data:",ie);try{await _a(G,ie),console.log("User updated successfully in Firestore")}catch(ue){console.error("Failed to update by ID, trying to find by username:",ue);const J=fr(_t(it,"users"),dr("username","==",f.username)),ce=await cr(J);if(ce.empty)throw new Error("User not found by username either");{const pe=ce.docs[0];console.log("Found user by username, actual ID:",pe.id);const Y=Br(it,"users",pe.id);await _a(Y,ie),console.log("User updated successfully using fallback method"),u(fe=>fe.map(Se=>Se.username===f.username?{...Se,id:pe.id,...ie}:Se))}}await _r(_t(it,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ue=>ue.map(J=>J.id===f.id?{...J,...ie}:J)),r("User updated successfully","success"),h(null)}catch(G){console.error("Error updating user:",G),console.error("Error details:",{editingUser:f,userEditForm:E,error:G}),r("Failed to update user","error")}finally{s(!1)}},q=G=>{const{name:ie,value:ue}=G.target;v(J=>({...J,[ie]:ue})),y[ie]&&w(J=>{const ce={...J};return delete ce[ie],ce})},N=()=>{const G={};return m.username.trim()||(G.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(G.email="Invalid email format"),m.name.trim()||(G.name="Name is required"),m.password?m.password.length<6&&(G.password="Password must be at least 6 characters"):G.password="Password is required",m.password!==m.confirmPassword&&(G.confirmPassword="Passwords do not match"),w(G),Object.keys(G).length===0},R=async G=>{if(G.preventDefault(),!!N()){s(!0);try{const ue=(await cr(_t(it,"users"))).docs.map(ce=>ce.data());if(ue.some(ce=>ce.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&ue.some(ce=>ce.email===m.email)){w({email:"Email already exists"});return}const J=await _r(_t(it,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await _r(_t(it,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(ce=>[...ce,{id:J.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(ie){console.error("Error adding user:",ie),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},U=async(G,ie)=>{A({username:ie,name:G}),D(!0)},K=async()=>{if(T)try{s(!0);const G=_t(it,"users"),ie=fr(G,dr("username","==",T.username)),ue=await cr(ie);if(ue.empty){r("User not found.","error");return}const J=ue.docs[0],ce=Br(it,"users",J.id);await op(ce),await _r(_t(it,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(pe=>pe.filter(Y=>Y.username!==T.username)),r("User deleted successfully!","success")}catch(G){console.error("Error deleting user:",G),r("Failed to delete user. Please try again.","error")}finally{s(!1),D(!1),A(null)}};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),p.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&p.jsx(pt,{variant:"secondary",onClick:L,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:p.jsx(sl,{size:16,className:i?"animate-spin":""})}),p.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?p.jsx(G$,{size:20}):p.jsx(H$,{size:20})})]})]}),f&&p.jsxs(Nn,{isOpen:!!f,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(gt,{label:"Username",name:"username",value:E.username,onChange:B,error:_.username}),p.jsx(gt,{label:"Email",name:"email",type:"email",value:E.email,onChange:B,error:_.email}),p.jsx(gt,{label:"Name",name:"name",value:E.name,onChange:B,error:_.name}),p.jsx(Iu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:B,error:_.newPassword}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:B,error:_.confirmPassword})]}),p.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[p.jsx(pt,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),p.jsx(pt,{onClick:ae,disabled:i,children:i?"Updating...":"Update User"})]})]}),p.jsxs(Nn,{isOpen:P,onClose:()=>D(!1),title:"Confirm Deletion",size:"sm",children:[p.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx(pt,{variant:"secondary",onClick:()=>D(!1),disabled:i,children:"Cancel"}),p.jsx(pt,{variant:"danger",onClick:K,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),p.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative",children:p.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:p.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:H((e==null?void 0:e.name)||"")})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:b.name}),p.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Username",name:"username",value:b.username,onChange:V,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),p.jsx(gt,{label:"Email",name:"email",type:"email",value:b.email,onChange:V,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),p.jsx(gt,{label:"Full Name",name:"name",value:b.name,onChange:V,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),p.jsx(Iu,{label:"Current Password",name:"currentPassword",value:b.currentPassword,onChange:V,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Iu,{label:"New Password",name:"newPassword",value:b.newPassword,onChange:V,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:b.confirmPassword,onChange:V,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&p.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),p.jsx("div",{className:"flex justify-end",children:p.jsx(pt,{type:"submit",isLoading:i,icon:p.jsx(k4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&p.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[p.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),p.jsxs(pt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[p.jsx(k4,{size:16}),"Add New User"]})]}),p.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[p.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(G=>G.id!==(e==null?void 0:e.id)).map(G=>p.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.username}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.email||"-"}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.name}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:G.role}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>W(G),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(il,{size:16})}),p.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>U(G.name,G.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(Fs,{size:16})})]})})]},G.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(G=>G.id!==(e==null?void 0:e.id)).map(G=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:G.name}),p.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:G.username})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>W(G),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(il,{size:16})}),p.jsx(pt,{variant:"ghost",size:"sm",onClick:()=>U(G.name,G.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(Fs,{size:16})})]})]}),p.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:G.email||"-"}),p.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:G.role})]},G.id))})]}),p.jsx(Nn,{isOpen:d,onClose:()=>g(!1),title:"Add New User",size:"xl",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Username",name:"username",value:m.username,onChange:q,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),p.jsx(gt,{label:"Email",name:"email",type:"email",value:m.email,onChange:q,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(gt,{label:"Full Name",name:"name",value:m.name,onChange:q,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),p.jsx(Pr,{label:"Role",name:"role",value:m.role,onChange:q,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),p.jsx(Iu,{label:"Password",name:"password",value:m.password,onChange:q,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:q,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(pt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},CA=["supply & serve","APHY","AZTEC","ZK"],mBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=Q.useState(""),[i,s]=Q.useState("stock sold"),[o,l]=Q.useState(""),c=CA.includes(e.storeName)?CA:[e.storeName,...CA],u=[...c,"other"],[f,h]=Q.useState(e.storeName||c[0]||""),[d,g]=Q.useState(""),{isDarkMode:m}=zr(),v=async _=>{_.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const P=i==="other"?o:i,D=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-O,reason:P,storeName:D})},w=(()=>{const _=Number(n);return!n||_<=0?"Quantity to deduct must be greater than 0":_>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return p.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(gt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:_=>a(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx(Pr,{id:"reason",value:i,onChange:_=>s(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(gt,{id:"otherReason",type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx(Pr,{id:"storeName",value:f,onChange:_=>h(_.target.value),options:u.map(_=>({value:_,label:_==="other"?"Other":_})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),f==="other"&&p.jsx(gt,{id:"otherStoreName",type:"text",value:d,onChange:_=>g(_.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[p.jsx(zh,{size:16}),p.jsx("span",{children:w})]}):p.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsx("div",{className:"flex justify-end space-x-3",children:p.jsx(pt,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?p.jsxs(p.Fragment,{children:[p.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},gBe=()=>{const[e,t]=Q.useState(""),[r,n]=Q.useState("name"),[a,i]=Q.useState(!1),[s,o]=Q.useState(!1),[l,c]=Q.useState(null),[u,f]=Q.useState([]),[h,d]=Q.useState(!1),[g,m]=Q.useState(new Set),[v,y]=Q.useState(null),[w,_]=Q.useState(!1),[O,P]=Q.useState("all"),[D,T]=Q.useState(!1),{showToast:A}=Kc(),{isDarkMode:b}=zr(),{user:I}=ga(),E=["supply & serve","APHY","AZTEC","ZK"],C=async()=>{o(!0);try{const q=fr(_t(it,"inventory"),Ra("name")),R=(await cr(q)).docs.map(U=>{const K=U.data();return{id:U.id,...K,lastUpdated:K.lastUpdated instanceof qt?K.lastUpdated.toDate():new Date(K.lastUpdated)}});f(R)}catch(q){console.error("Error fetching stock items:",q),A("Failed to fetch stock items","error")}finally{o(!1)}},L=async()=>{try{const q=or(new Date,90),N=fr(_t(it,"activityLogs"),dr("time",">=",q.toISOString()),Ra("time","desc")),U=(await cr(N)).docs.map(J=>({id:J.id,...J.data()})),K=or(new Date,10),G=new Set,ie=new Map;U.forEach(J=>{if(J.detail.includes("added new product")){const ce=J.detail.match(/added new product "([^"]+)"/);if(ce){const pe=ce[1],Y=new Date(J.time);(!ie.has(pe)||Y<ie.get(pe))&&ie.set(pe,Y)}}if(J.detail.includes("units deducted from stock")){const ce=J.detail.match(/units deducted from stock "([^"]+)"/);if(ce){const pe=ce[1];new Date(J.time)>=K&&G.add(pe)}}});const ue=new Set;u.forEach(J=>{const ce=J.name,pe=ie.get(ce);pe&&pe<K&&!G.has(ce)&&ue.add(ce)}),m(ue)}catch(q){console.error("Error fetching activity logs:",q)}};Q.useEffect(()=>{C()},[A]),Q.useEffect(()=>{u.length>0&&L()},[u]),Q.useEffect(()=>{const q=N=>{if(w||D){const R=N.target;!R.closest(".store-filter-dropdown")&&!R.closest(".status-filter-dropdown")&&(_(!1),T(!1))}};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[w,D]);const H=()=>{y(null),P("all"),_(!1),T(!1)},V=u.filter(q=>q.quantity>0).filter(q=>{const N=e.toLowerCase(),R=q.name.toLowerCase().includes(N),U=`${q.locationCode} - ${q.shelfNumber}`.toLowerCase().includes(N),K=q.asin?q.asin.split(",").some(J=>J.trim().toLowerCase().includes(N)):!1,G=q.barcode?q.barcode.toLowerCase().includes(N):!1,ie=v?v.storeName==="other"?!E.includes(q.storeName)&&q.fulfillmentType===v.fulfillmentType:q.storeName===v.storeName&&q.fulfillmentType===v.fulfillmentType:!0,ue=O==="all"||q.status===O;return(R||U||K||G)&&ie&&ue}).sort((q,N)=>r==="name"?q.name.localeCompare(N.name):r==="quantity"?N.quantity-q.quantity:r==="price"?N.price-q.price:r==="date"?new Date(N.lastUpdated).getTime()-new Date(q.lastUpdated).getTime():0),Z=async q=>{o(!0);try{const N=Br(it,"inventory",q.id),R=await sp(N);if(!R.exists())throw new Error("Stock item not found");const U=R.data();if(!I)throw new Error("User not authenticated");const K=q.reason==="damaged"?U.damagedItems+(U.quantity-q.quantity):U.damagedItems,G=new Date;await _a(N,{quantity:q.quantity,damagedItems:K,lastUpdated:qt.fromDate(G)}),await _r(_t(it,"activityLogs"),{detail:`${U.quantity-q.quantity} units deducted from stock "${U.name}" (Reason: ${q.reason}, Store: ${q.storeName}) by ${I.role}`,time:new Date().toISOString(),user:I.name,role:I.role});const ie=u.map(ue=>ue.id===q.id?{...ue,quantity:q.quantity,damagedItems:K}:ue);f(ie),c(null),i(!1),A("Stock quantity updated successfully","success")}catch(N){console.error("Error updating stock:",N),A("Failed to update stock quantity","error")}finally{o(!1)}},ee=q=>{a||c(q)},W=(q,N)=>{q.stopPropagation(),c(N),i(!0)},B=()=>{d(!0)},ae=q=>{t(q),d(!1)};return p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${b?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),p.jsx("p",{className:`${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(gt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:q=>t(q.target.value),icon:p.jsx(Wh,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:B,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Pr,{value:r,onChange:q=>n(q.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>T(!D),className:`flex items-center gap-2 ${O!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[O==="all"?"Status Filter":O==="active"?"Active":"Pending",p.jsx(qh,{size:16})]}),D&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="all"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),T(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="active"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),T(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="pending"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),T(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),T(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(pt,{variant:"secondary",onClick:()=>_(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"Other":v.storeName} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(qh,{size:16})]}),w&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(q=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===q?b?"bg-slate-700":"bg-slate-100":""}`,children:q}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===q&&(v==null?void 0:v.fulfillmentType)==="fba"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:q,fulfillmentType:"fba"}),_(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===q&&(v==null?void 0:v.fulfillmentType)==="mf"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:q,fulfillmentType:"mf"}),_(!1)},children:"MF"})]})]},q)),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),_(!1)},children:"Clear Filter"})})]})})]}),p.jsx(pt,{variant:"secondary",onClick:()=>{C(),H()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:p.jsx(sl,{size:16,className:s?"animate-spin":""})}),(v||O!=="all")&&p.jsx(pt,{variant:"secondary",onClick:H,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(cs,{className:`w-8 h-8 ${b?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:b?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):V.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:`${b?"bg-slate-800":"bg-slate-50"}`,children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(I==null?void 0:I.role)==="admin"&&p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:V.map(q=>p.jsxs("tr",{className:`${b?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>ee(q),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-blue-400":"text-blue-700"} font-medium`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[q.name,g.has(q.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(dv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${b?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${b?"border-t-slate-800":"border-t-white"}`})]})]})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${q.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:q.status==="active"?"Active":"Pending"})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:[q.locationCode," - ",q.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:q.asin?q.asin.split(",").length>3?q.asin.split(",").slice(0,3).map(N=>N.trim()).join(", ")+"...":q.asin.split(",").map(N=>N.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[q.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),q.quantity>10&&q.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),p.jsx("span",{children:q.quantity})]})}),(I==null?void 0:I.role)==="admin"&&p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(q.price)>0?`${Number(q.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:$t(new Date(q.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:"px-4 py-3 text-right text-sm",children:p.jsx("div",{className:"flex items-center justify-end gap-2",children:p.jsx(pt,{variant:"secondary",size:"sm",onClick:N=>W(N,q),className:`p-1 ${b?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:p.jsx(il,{size:16})})})})]},q.id))})]})})}),p.jsx("div",{className:"block md:hidden space-y-4",children:V.map(q=>p.jsxs("div",{className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>ee(q),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${b?"text-blue-400":"text-blue-700"}`,children:q.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[g.has(q.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(dv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${b?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${b?"border-t-slate-800":"border-t-white"}`})]})]}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${q.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:q.status==="active"?"Active":"Pending"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[q.locationCode," - ",q.shelfNumber]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:q.quantity})]}),q.asin&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:q.asin})]}),(I==null?void 0:I.role)==="admin"&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(q.price)>0?`${Number(q.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:$t(new Date(q.lastUpdated),"MMM d, yyyy")})]})]}),p.jsx("div",{className:"flex gap-2 mt-2",children:p.jsxs(pt,{size:"sm",variant:"secondary",onClick:N=>{N.stopPropagation(),W(N,q)},children:[p.jsx(il,{size:14})," Edit"]})})]},q.id))})]}):p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:b?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Nn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&p.jsx(mBe,{item:l,onSubmit:Z,isLoading:s})}),l&&!a&&p.jsx(cN,{isOpen:!0,onClose:()=>c(null),item:l}),p.jsx(od,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:ae})]})},vBe=()=>{const[e,t]=Q.useState(!0),[r,n]=Q.useState([]),[a,i]=Q.useState(new Set),[s,o]=Q.useState(""),[l,c]=Q.useState(""),[u,f]=Q.useState("locationCode"),[h,d]=Q.useState({}),{showToast:g}=Kc(),{isDarkMode:m}=zr(),[v,y]=Q.useState(!1),[w,_]=Q.useState(null),[O,P]=Q.useState(1),[D,T]=Q.useState("A1"),[A,b]=Q.useState("0"),[I,E]=Q.useState(!1),[C,L]=Q.useState(!1),[H,V]=Q.useState(""),{user:Z}=ga(),ee=async()=>{t(!0);try{const J=fr(_t(it,"inventory"),Ra("locationCode")),pe=(await cr(J)).docs.map(Y=>{const fe=Y.data();return{id:Y.id,name:fe.name||"",quantity:fe.quantity||0,price:fe.price||0,supplier:fe.supplier??null,lastUpdated:fe.lastUpdated instanceof qt?fe.lastUpdated.toDate():new Date,locationCode:fe.locationCode||"",shelfNumber:fe.shelfNumber||"",barcode:fe.barcode??null,asin:fe.asin??null,status:fe.status||"pending",damagedItems:fe.damagedItems||0,fulfillmentType:fe.fulfillmentType||"fba",storeName:fe.storeName||""}});n(pe)}catch(J){console.error("Error fetching locations:",J),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},W=async()=>{try{const J=fr(_t(it,"locations")),ce=await cr(J),pe={};ce.forEach(Y=>{pe[Y.id]=Y.data().isAvailable!==!1}),d(pe)}catch(J){console.error("Error fetching location availability:",J)}};Q.useEffect(()=>{t(!0),Promise.all([ee(),W()]).finally(()=>t(!1))},[]);const B=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],ae=B.reduce((J,ce)=>{const Y=r.filter(fe=>fe.locationCode===ce).reduce((fe,Se)=>{const ye=fe.findIndex(te=>te.name===Se.name&&ie(te.asin)===ie(Se.asin)&&ie(te.barcode)===ie(Se.barcode)&&te.locationCode===Se.locationCode&&te.shelfNumber===Se.shelfNumber);return ye>=0?fe[ye]={...fe[ye],quantity:fe[ye].quantity+Se.quantity,lastUpdated:fe[ye].lastUpdated>Se.lastUpdated?fe[ye].lastUpdated:Se.lastUpdated}:fe.push(Se),fe},[]);return J[ce]={locationCode:ce,totalStock:Y.reduce((fe,Se)=>fe+Se.quantity,0),products:Y},J},{}),q=Object.values(ae).filter(J=>{const ce=s.toLowerCase(),pe=l.toLowerCase(),Y=pe===""||J.locationCode.toLowerCase().includes(pe),fe=ce===""||J.products.some(Se=>Se.name.toLowerCase().includes(ce)||Se.asin&&Se.asin.split(",").some(ye=>ye.trim().toLowerCase().includes(ce))||Se.barcode&&Se.barcode.toLowerCase().includes(ce));return Y&&fe}).sort((J,ce)=>{if(u==="totalStock")return ce.totalStock-J.totalStock;if(u==="locationCode")return J.locationCode==="Awaiting Location"?-1:ce.locationCode==="Awaiting Location"?1:J.locationCode.localeCompare(ce.locationCode);if(u==="availability"){const pe=h[J.locationCode]!==!1,Y=h[ce.locationCode]!==!1;return pe===Y?J.locationCode==="Awaiting Location"?-1:ce.locationCode==="Awaiting Location"?1:J.locationCode.localeCompare(ce.locationCode):pe?-1:1}return 0});Q.useEffect(()=>{if(s.trim()&&s!==H){const J=q.filter(ce=>{const pe=s.toLowerCase();return ce.products.some(Y=>Y.name.toLowerCase().includes(pe)||Y.asin&&Y.asin.split(",").some(fe=>fe.trim().toLowerCase().includes(pe))||Y.barcode&&Y.barcode.toLowerCase().includes(pe))});if(J.length>0){const ce=J.flatMap(Y=>Y.products.filter(fe=>{const Se=s.toLowerCase();return fe.name.toLowerCase().includes(Se)||fe.asin&&fe.asin.split(",").some(ye=>ye.trim().toLowerCase().includes(Se))||fe.barcode&&fe.barcode.toLowerCase().includes(Se)})),pe=[...new Set(ce.map(Y=>`${Y.locationCode}-${Y.shelfNumber}`))];g(`Product found! Located at: ${pe.join(", ")}`,"success"),V(s)}else s.trim()&&s!==H&&(g("Product not found in any location","error"),V(s))}else!s.trim()&&H&&V("")},[q,s,g,H]);const N=J=>{i(ce=>{const pe=new Set(ce);return pe.has(J)?pe.delete(J):pe.add(J),pe})},R=()=>{L(!0)},U=J=>{o(J),L(!1)},K=async J=>{const ce=!(h[J]??!0);d(pe=>({...pe,[J]:ce}));try{await ex(Br(it,"locations",J),{isAvailable:ce},{merge:!0})}catch(pe){g("Failed to update availability","error"),d(Y=>({...Y,[J]:!ce})),console.log(pe)}};function G(J){const ce={...J};return Object.keys(ce).forEach(pe=>{ce[pe]===void 0&&(ce[pe]=null)}),ce}function ie(J){return J??""}const ue=async()=>{if(w&&!(O<1||O>w.quantity)){E(!0);try{const J=fr(_t(it,"inventory")),ce=await cr(J);let pe=null;if(ce.forEach(Y=>{const fe=Y.data();fe.name===w.name&&fe.locationCode===D&&fe.shelfNumber===A&&ie(fe.asin)===ie(w.asin)&&ie(fe.barcode)===ie(w.barcode)&&(pe={...fe,id:Y.id})}),O===w.quantity)await ex(Br(it,"inventory",w.id),G({...w,locationCode:D,shelfNumber:A,lastUpdated:new Date}),{merge:!0});else if(await ex(Br(it,"inventory",w.id),G({...w,quantity:w.quantity-O,lastUpdated:new Date}),{merge:!0}),pe)await ex(Br(it,"inventory",pe.id),G({...pe,quantity:pe.quantity+O,lastUpdated:new Date}),{merge:!0});else{const{id:Y,...fe}=w;await _r(_t(it,"inventory"),G({...fe,quantity:O,locationCode:D,shelfNumber:A,lastUpdated:new Date}))}await _r(_t(it,"activityLogs"),{user:(Z==null?void 0:Z.name)||"Unknown",role:(Z==null?void 0:Z.role)||"Unknown",detail:`Moved ${O} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${D}-${A}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),_(null),ee()}catch(J){g("Failed to move stock","error"),console.log(J)}finally{E(!1)}}};return p.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),p.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(gt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:J=>o(J.target.value),icon:p.jsx(Wh,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:R,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"flex-1",children:p.jsx(gt,{type:"text",placeholder:"Search by location code...",value:l,onChange:J=>c(J.target.value),icon:p.jsx(Wh,{size:16})})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Pr,{value:u,onChange:J=>f(J.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),p.jsx(pt,{variant:"secondary",onClick:ee,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(sl,{size:16,className:e?"animate-spin":""})})]}),e?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):q.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx(J0,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),p.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(q).map(J=>{const ce=a.has(J.locationCode);return p.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${ce?"ring-2 ring-blue-500":""}`,children:[p.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>N(J.locationCode),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:p.jsx(J0,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),p.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:J.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${J.locationCode}`})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:h[J.locationCode]!==!1,onChange:pe=>{pe.stopPropagation(),K(J.locationCode)},className:"sr-only peer"}),p.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[J.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),p.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[J.locationCode]!==!1?"translate-x-5":""}
                          `})]}),p.jsx("span",{className:`text-xs font-semibold ml-2 ${h[J.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[J.locationCode]!==!1?"Available":"Not Available"}),p.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:pe=>{pe.stopPropagation(),N(J.locationCode)},"aria-label":ce?"Collapse":"Expand",children:ce?p.jsx(iZ,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):p.jsx(qh,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),p.jsxs("div",{className:"flex justify-between items-end mt-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),p.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[J.totalStock," units"]})]}),p.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?J.products.filter(pe=>{const Y=s.toLowerCase();return pe.name.toLowerCase().includes(Y)||pe.asin&&pe.asin.split(",").some(fe=>fe.trim().toLowerCase().includes(Y))||pe.barcode&&pe.barcode.toLowerCase().includes(Y)}).length:J.products.length," product",(s.trim()?J.products.filter(pe=>{const Y=s.toLowerCase();return pe.name.toLowerCase().includes(Y)||pe.asin&&pe.asin.split(",").some(fe=>fe.trim().toLowerCase().includes(Y))||pe.barcode&&pe.barcode.toLowerCase().includes(Y)}).length:J.products.length)!==1?"s":""]})]})]}),ce&&p.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[p.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?J.products.filter(pe=>{const Y=s.toLowerCase();return pe.name.toLowerCase().includes(Y)||pe.asin&&pe.asin.split(",").some(fe=>fe.trim().toLowerCase().includes(Y))||pe.barcode&&pe.barcode.toLowerCase().includes(Y)}).length===0:J.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),p.jsx("div",{className:"space-y-4",children:J.products.filter(pe=>{if(s.trim()){const Y=s.toLowerCase();return pe.name.toLowerCase().includes(Y)||pe.asin&&pe.asin.split(",").some(fe=>fe.trim().toLowerCase().includes(Y))||pe.barcode&&pe.barcode.toLowerCase().includes(Y)}return!0}).map(pe=>{const Y=J.totalStock===0?0:pe.quantity/J.totalStock*100,fe=s.toLowerCase(),Se=pe.name.toLowerCase().includes(fe)||pe.asin&&pe.asin.split(",").some(ye=>ye.trim().toLowerCase().includes(fe))||pe.barcode&&pe.barcode.toLowerCase().includes(fe);return p.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Se?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`font-medium ${Se?"text-blue-600":m?"text-white":"text-slate-800"}`,children:pe.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",pe.shelfNumber]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[pe.quantity," units"]}),p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async ye=>{ye.stopPropagation();const te=await sp(Br(it,"inventory",pe.id));if(te.exists()){const Te=te.data();_({...Te,id:pe.id}),P(1),T(pe.locationCode),b(pe.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),p.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${Y>75?"bg-green-500":Y>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${Y}%`},title:`${pe.quantity} out of ${J.totalStock} units (${Y.toFixed(1)}%)`})})]},pe.id)})})]})]},J.locationCode)})}),p.jsx(Nn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&p.jsxs("form",{onSubmit:J=>{J.preventDefault(),ue()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),p.jsx("input",{type:"number",min:1,max:w.quantity,value:O,onChange:J=>P(Number(J.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),p.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),p.jsx("select",{value:D,onChange:J=>T(J.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:B.map(J=>p.jsx("option",{value:J,children:J},J))})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),p.jsx("select",{value:A,onChange:J=>b(J.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:[0,1,2,3,4,5].map(J=>p.jsx("option",{value:J,children:J},J))})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:I,children:I?"Moving...":"Move"})]})]})}),p.jsx(od,{isOpen:C,onClose:()=>L(!1),onBarcodeScanned:U})]})},Bo=({children:e,allowedRoles:t})=>{const{user:r}=ga();return r?t.includes(r.role)?p.jsx(p.Fragment,{children:e}):p.jsx(_4,{to:"/",replace:!0}):p.jsx(_4,{to:"/login",replace:!0})};function yBe(){return p.jsxs(MJ,{children:[p.jsx(is,{path:"/login",element:p.jsx(Tce,{})}),p.jsxs(is,{path:"/",element:p.jsx(Sce,{}),children:[p.jsx(is,{index:!0,element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(fye,{})})}),p.jsx(is,{path:"stock",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(Tye,{})})}),p.jsx(is,{path:"jobs",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(Cye,{})})}),p.jsx(is,{path:"inventory",element:p.jsx(Bo,{allowedRoles:["admin"],children:p.jsx(Eye,{})})}),p.jsx(is,{path:"orders",element:p.jsx(Bo,{allowedRoles:[""],children:p.jsx(Vye,{})})}),p.jsx(is,{path:"outbound-stock",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(gBe,{})})}),p.jsx(is,{path:"warehouse-locations",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(vBe,{})})}),p.jsx(is,{path:"warehouse-operations",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(T2e,{})})}),p.jsx(is,{path:"reports-analytics",element:p.jsx(Bo,{allowedRoles:["admin"],children:p.jsx(dBe,{})})}),p.jsx(is,{path:"settings",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(pBe,{})})}),p.jsx(is,{path:"add",element:p.jsx(Bo,{allowedRoles:["admin","staff"],children:p.jsx(Sq,{})})})]})]})}L$(document.getElementById("root")).render(p.jsx(Q.StrictMode,{children:p.jsx(qJ,{basename:"/",children:p.jsx(kae,{children:p.jsx(Eae,{children:p.jsx(Ace,{children:p.jsx(yBe,{})})})})})}));export{Vr as _,Qm as c,sn as g};
