function bY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var TF={exports:{}},kw={},EF={exports:{}},Ar={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T1=Symbol.for("react.element"),wY=Symbol.for("react.portal"),_Y=Symbol.for("react.fragment"),SY=Symbol.for("react.strict_mode"),AY=Symbol.for("react.profiler"),TY=Symbol.for("react.provider"),EY=Symbol.for("react.context"),kY=Symbol.for("react.forward_ref"),NY=Symbol.for("react.suspense"),CY=Symbol.for("react.memo"),PY=Symbol.for("react.lazy"),XP=Symbol.iterator;function OY(e){return e===null||typeof e!="object"?null:(e=XP&&e[XP]||e["@@iterator"],typeof e=="function"?e:null)}var kF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NF=Object.assign,CF={};function jp(e,t,r){this.props=e,this.context=t,this.refs=CF,this.updater=r||kF}jp.prototype.isReactComponent={};jp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function PF(){}PF.prototype=jp.prototype;function g3(e,t,r){this.props=e,this.context=t,this.refs=CF,this.updater=r||kF}var v3=g3.prototype=new PF;v3.constructor=g3;NF(v3,jp.prototype);v3.isPureReactComponent=!0;var QP=Array.isArray,OF=Object.prototype.hasOwnProperty,y3={current:null},IF={key:!0,ref:!0,__self:!0,__source:!0};function DF(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)OF.call(t,n)&&!IF.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:T1,type:e,key:i,ref:s,props:a,_owner:y3.current}}function IY(e,t){return{$$typeof:T1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x3(e){return typeof e=="object"&&e!==null&&e.$$typeof===T1}function DY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var JP=/\/+/g;function N_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?DY(""+e.key):t.toString(36)}function Mx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case T1:case wY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+N_(s,0):n,QP(a)?(r="",e!=null&&(r=e.replace(JP,"$&/")+"/"),Mx(a,t,r,"",function(c){return c})):a!=null&&(x3(a)&&(a=IY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(JP,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",QP(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+N_(i,o);s+=Mx(i,t,r,l,a)}else if(l=OY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+N_(i,o++),s+=Mx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Dy(e,t,r){if(e==null)return e;var n=[],a=0;return Mx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function jY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qi={current:null},Rx={transition:null},LY={ReactCurrentDispatcher:Qi,ReactCurrentBatchConfig:Rx,ReactCurrentOwner:y3};function jF(){throw Error("act(...) is not supported in production builds of React.")}Ar.Children={map:Dy,forEach:function(e,t,r){Dy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dy(e,function(){t++}),t},toArray:function(e){return Dy(e,function(t){return t})||[]},only:function(e){if(!x3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ar.Component=jp;Ar.Fragment=_Y;Ar.Profiler=AY;Ar.PureComponent=g3;Ar.StrictMode=SY;Ar.Suspense=NY;Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LY;Ar.act=jF;Ar.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=NF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=y3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)OF.call(t,l)&&!IF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:T1,type:e.type,key:a,ref:i,props:n,_owner:s}};Ar.createContext=function(e){return e={$$typeof:EY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:TY,_context:e},e.Consumer=e};Ar.createElement=DF;Ar.createFactory=function(e){var t=DF.bind(null,e);return t.type=e,t};Ar.createRef=function(){return{current:null}};Ar.forwardRef=function(e){return{$$typeof:kY,render:e}};Ar.isValidElement=x3;Ar.lazy=function(e){return{$$typeof:PY,_payload:{_status:-1,_result:e},_init:jY}};Ar.memo=function(e,t){return{$$typeof:CY,type:e,compare:t===void 0?null:t}};Ar.startTransition=function(e){var t=Rx.transition;Rx.transition={};try{e()}finally{Rx.transition=t}};Ar.unstable_act=jF;Ar.useCallback=function(e,t){return Qi.current.useCallback(e,t)};Ar.useContext=function(e){return Qi.current.useContext(e)};Ar.useDebugValue=function(){};Ar.useDeferredValue=function(e){return Qi.current.useDeferredValue(e)};Ar.useEffect=function(e,t){return Qi.current.useEffect(e,t)};Ar.useId=function(){return Qi.current.useId()};Ar.useImperativeHandle=function(e,t,r){return Qi.current.useImperativeHandle(e,t,r)};Ar.useInsertionEffect=function(e,t){return Qi.current.useInsertionEffect(e,t)};Ar.useLayoutEffect=function(e,t){return Qi.current.useLayoutEffect(e,t)};Ar.useMemo=function(e,t){return Qi.current.useMemo(e,t)};Ar.useReducer=function(e,t,r){return Qi.current.useReducer(e,t,r)};Ar.useRef=function(e){return Qi.current.useRef(e)};Ar.useState=function(e){return Qi.current.useState(e)};Ar.useSyncExternalStore=function(e,t,r){return Qi.current.useSyncExternalStore(e,t,r)};Ar.useTransition=function(){return Qi.current.useTransition()};Ar.version="18.3.1";EF.exports=Ar;var H=EF.exports;const Ie=dn(H),MY=bY({__proto__:null,default:Ie},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RY=H,FY=Symbol.for("react.element"),$Y=Symbol.for("react.fragment"),BY=Object.prototype.hasOwnProperty,VY=RY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,UY={key:!0,ref:!0,__self:!0,__source:!0};function LF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)BY.call(t,n)&&!UY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:FY,type:e,key:i,ref:s,props:a,_owner:VY.current}}kw.Fragment=$Y;kw.jsx=LF;kw.jsxs=LF;TF.exports=kw;var p=TF.exports,MF={exports:{}},qs={},RF={exports:{}},FF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(q,U){var te=q.length;q.push(U);e:for(;0<te;){var z=te-1>>>1,C=q[z];if(0<a(C,U))q[z]=U,q[te]=C,te=z;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var U=q[0],te=q.pop();if(te!==U){q[0]=te;e:for(var z=0,C=q.length,R=C>>>1;z<R;){var V=2*(z+1)-1,G=q[V],Y=V+1,se=q[Y];if(0>a(G,te))Y<C&&0>a(se,G)?(q[z]=se,q[Y]=te,z=Y):(q[z]=G,q[V]=te,z=V);else if(Y<C&&0>a(se,te))q[z]=se,q[Y]=te,z=Y;else break e}}return U}function a(q,U){var te=q.sortIndex-U.sortIndex;return te!==0?te:q.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=q)n(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(c)}}function I(q){if(m=!1,_(q),!g)if(r(l)!==null)g=!0,X(P);else{var U=r(c);U!==null&&Z(I,U.startTime-q)}}function P(q,U){g=!1,m&&(m=!1,y(A),A=-1),d=!0;var te=h;try{for(_(U),f=r(l);f!==null&&(!(f.expirationTime>U)||q&&!T());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var C=z(f.expirationTime<=U);U=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(l)&&n(l),_(U)}else n(l);f=r(l)}if(f!==null)var R=!0;else{var V=r(c);V!==null&&Z(I,V.startTime-U),R=!1}return R}finally{f=null,h=te,d=!1}}var D=!1,E=null,A=-1,b=5,O=-1;function T(){return!(e.unstable_now()-O<b)}function N(){if(E!==null){var q=e.unstable_now();O=q;var U=!0;try{U=E(!0,q)}finally{U?j():(D=!1,E=null)}}else D=!1}var j;if(typeof w=="function")j=function(){w(N)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=N,j=function(){J.postMessage(null)}}else j=function(){v(N,0)};function X(q){E=q,D||(D=!0,j())}function Z(q,U){A=v(function(){q(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(q){q.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,X(P))},e.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(q){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var te=h;h=U;try{return q()}finally{h=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(q,U){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var te=h;h=q;try{return U()}finally{h=te}},e.unstable_scheduleCallback=function(q,U,te){var z=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?z+te:z):te=z,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=te+C,q={id:u++,callback:U,priorityLevel:q,startTime:te,expirationTime:C,sortIndex:-1},te>z?(q.sortIndex=te,t(c,q),r(l)===null&&q===r(c)&&(m?(y(A),A=-1):m=!0,Z(I,te-z))):(q.sortIndex=C,t(l,q),g||d||(g=!0,X(P))),q},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(q){var U=h;return function(){var te=h;h=U;try{return q.apply(this,arguments)}finally{h=te}}}})(FF);RF.exports=FF;var zY=RF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qY=H,Bs=zY;function St(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $F=new Set,Kg={};function ad(e,t){W0(e,t),W0(e+"Capture",t)}function W0(e,t){for(Kg[e]=t,e=0;e<t.length;e++)$F.add(t[e])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PA=Object.prototype.hasOwnProperty,WY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZP={},e6={};function HY(e){return PA.call(e6,e)?!0:PA.call(ZP,e)?!1:WY.test(e)?e6[e]=!0:(ZP[e]=!0,!1)}function GY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function KY(e,t,r,n){if(t===null||typeof t>"u"||GY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ji(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oi[e]=new Ji(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oi[t]=new Ji(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oi[e]=new Ji(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oi[e]=new Ji(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oi[e]=new Ji(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oi[e]=new Ji(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oi[e]=new Ji(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oi[e]=new Ji(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oi[e]=new Ji(e,5,!1,e.toLowerCase(),null,!1,!1)});var b3=/[\-:]([a-z])/g;function w3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Ji(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Ji(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Ji(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oi[e]=new Ji(e,1,!1,e.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Ji("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oi[e]=new Ji(e,1,!1,e.toLowerCase(),null,!0,!0)});function _3(e,t,r,n){var a=oi.hasOwnProperty(t)?oi[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(KY(t,r,a,n)&&(r=null),n||a===null?HY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var qc=qY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jy=Symbol.for("react.element"),r0=Symbol.for("react.portal"),n0=Symbol.for("react.fragment"),S3=Symbol.for("react.strict_mode"),OA=Symbol.for("react.profiler"),BF=Symbol.for("react.provider"),VF=Symbol.for("react.context"),A3=Symbol.for("react.forward_ref"),IA=Symbol.for("react.suspense"),DA=Symbol.for("react.suspense_list"),T3=Symbol.for("react.memo"),Du=Symbol.for("react.lazy"),UF=Symbol.for("react.offscreen"),t6=Symbol.iterator;function km(e){return e===null||typeof e!="object"?null:(e=t6&&e[t6]||e["@@iterator"],typeof e=="function"?e:null)}var Un=Object.assign,C_;function Jm(e){if(C_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);C_=t&&t[1]||""}return`
`+C_+e}var P_=!1;function O_(e,t){if(!e||P_)return"";P_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{P_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jm(e):""}function YY(e){switch(e.tag){case 5:return Jm(e.type);case 16:return Jm("Lazy");case 13:return Jm("Suspense");case 19:return Jm("SuspenseList");case 0:case 2:case 15:return e=O_(e.type,!1),e;case 11:return e=O_(e.type.render,!1),e;case 1:return e=O_(e.type,!0),e;default:return""}}function jA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case n0:return"Fragment";case r0:return"Portal";case OA:return"Profiler";case S3:return"StrictMode";case IA:return"Suspense";case DA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VF:return(e.displayName||"Context")+".Consumer";case BF:return(e._context.displayName||"Context")+".Provider";case A3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T3:return t=e.displayName||null,t!==null?t:jA(e.type)||"Memo";case Du:t=e._payload,e=e._init;try{return jA(e(t))}catch{}}return null}function XY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jA(t);case 8:return t===S3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function QY(e){var t=zF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ly(e){e._valueTracker||(e._valueTracker=QY(e))}function qF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=zF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function h2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function LA(e,t){var r=t.checked;return Un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function r6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=mf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function WF(e,t){t=t.checked,t!=null&&_3(e,"checked",t,!1)}function MA(e,t){WF(e,t);var r=mf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RA(e,t.type,r):t.hasOwnProperty("defaultValue")&&RA(e,t.type,mf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function RA(e,t,r){(t!=="number"||h2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zm=Array.isArray;function A0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+mf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function FA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(St(91));return Un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function a6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(St(92));if(Zm(r)){if(1<r.length)throw Error(St(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:mf(r)}}function HF(e,t){var r=mf(t.value),n=mf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function i6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function GF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $A(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?GF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var My,KF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(My=My||document.createElement("div"),My.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=My.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var hg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JY=["Webkit","ms","Moz","O"];Object.keys(hg).forEach(function(e){JY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hg[t]=hg[e]})});function YF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||hg.hasOwnProperty(e)&&hg[e]?(""+t).trim():t+"px"}function XF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=YF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var ZY=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BA(e,t){if(t){if(ZY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(St(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(St(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(St(61))}if(t.style!=null&&typeof t.style!="object")throw Error(St(62))}}function VA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UA=null;function E3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zA=null,T0=null,E0=null;function s6(e){if(e=N1(e)){if(typeof zA!="function")throw Error(St(280));var t=e.stateNode;t&&(t=Iw(t),zA(e.stateNode,e.type,t))}}function QF(e){T0?E0?E0.push(e):E0=[e]:T0=e}function JF(){if(T0){var e=T0,t=E0;if(E0=T0=null,s6(e),t)for(e=0;e<t.length;e++)s6(t[e])}}function ZF(e,t){return e(t)}function e7(){}var I_=!1;function t7(e,t,r){if(I_)return e(t,r);I_=!0;try{return ZF(e,t,r)}finally{I_=!1,(T0!==null||E0!==null)&&(e7(),JF())}}function Xg(e,t){var r=e.stateNode;if(r===null)return null;var n=Iw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(St(231,t,typeof r));return r}var qA=!1;if(kc)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){qA=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{qA=!1}function eX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var dg=!1,d2=null,p2=!1,WA=null,tX={onError:function(e){dg=!0,d2=e}};function rX(e,t,r,n,a,i,s,o,l){dg=!1,d2=null,eX.apply(tX,arguments)}function nX(e,t,r,n,a,i,s,o,l){if(rX.apply(this,arguments),dg){if(dg){var c=d2;dg=!1,d2=null}else throw Error(St(198));p2||(p2=!0,WA=c)}}function id(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function r7(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o6(e){if(id(e)!==e)throw Error(St(188))}function aX(e){var t=e.alternate;if(!t){if(t=id(e),t===null)throw Error(St(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return o6(a),e;if(i===n)return o6(a),t;i=i.sibling}throw Error(St(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(St(189))}}if(r.alternate!==n)throw Error(St(190))}if(r.tag!==3)throw Error(St(188));return r.stateNode.current===r?e:t}function n7(e){return e=aX(e),e!==null?a7(e):null}function a7(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a7(e);if(t!==null)return t;e=e.sibling}return null}var i7=Bs.unstable_scheduleCallback,l6=Bs.unstable_cancelCallback,iX=Bs.unstable_shouldYield,sX=Bs.unstable_requestPaint,aa=Bs.unstable_now,oX=Bs.unstable_getCurrentPriorityLevel,k3=Bs.unstable_ImmediatePriority,s7=Bs.unstable_UserBlockingPriority,m2=Bs.unstable_NormalPriority,lX=Bs.unstable_LowPriority,o7=Bs.unstable_IdlePriority,Nw=null,Pl=null;function cX(e){if(Pl&&typeof Pl.onCommitFiberRoot=="function")try{Pl.onCommitFiberRoot(Nw,e,void 0,(e.current.flags&128)===128)}catch{}}var tl=Math.clz32?Math.clz32:hX,uX=Math.log,fX=Math.LN2;function hX(e){return e>>>=0,e===0?32:31-(uX(e)/fX|0)|0}var Ry=64,Fy=4194304;function eg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=eg(o):(i&=s,i!==0&&(n=eg(i)))}else s=r&~a,s!==0?n=eg(s):i!==0&&(n=eg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tl(t),a=1<<r,n|=e[r],t&=~a;return n}function dX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-tl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=dX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function HA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l7(){var e=Ry;return Ry<<=1,!(Ry&4194240)&&(Ry=64),e}function D_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function E1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tl(t),e[t]=r}function mX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-tl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function N3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var sn=0;function c7(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u7,C3,f7,h7,d7,GA=!1,$y=[],Qu=null,Ju=null,Zu=null,Qg=new Map,Jg=new Map,Mu=[],gX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c6(e,t){switch(e){case"focusin":case"focusout":Qu=null;break;case"dragenter":case"dragleave":Ju=null;break;case"mouseover":case"mouseout":Zu=null;break;case"pointerover":case"pointerout":Qg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jg.delete(t.pointerId)}}function Cm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=N1(t),t!==null&&C3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function vX(e,t,r,n,a){switch(t){case"focusin":return Qu=Cm(Qu,e,t,r,n,a),!0;case"dragenter":return Ju=Cm(Ju,e,t,r,n,a),!0;case"mouseover":return Zu=Cm(Zu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Qg.set(i,Cm(Qg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Jg.set(i,Cm(Jg.get(i)||null,e,t,r,n,a)),!0}return!1}function p7(e){var t=bh(e.target);if(t!==null){var r=id(t);if(r!==null){if(t=r.tag,t===13){if(t=r7(r),t!==null){e.blockedOn=t,d7(e.priority,function(){f7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=KA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);UA=n,r.target.dispatchEvent(n),UA=null}else return t=N1(r),t!==null&&C3(t),e.blockedOn=r,!1;t.shift()}return!0}function u6(e,t,r){Fx(e)&&r.delete(t)}function yX(){GA=!1,Qu!==null&&Fx(Qu)&&(Qu=null),Ju!==null&&Fx(Ju)&&(Ju=null),Zu!==null&&Fx(Zu)&&(Zu=null),Qg.forEach(u6),Jg.forEach(u6)}function Pm(e,t){e.blockedOn===t&&(e.blockedOn=null,GA||(GA=!0,Bs.unstable_scheduleCallback(Bs.unstable_NormalPriority,yX)))}function Zg(e){function t(a){return Pm(a,e)}if(0<$y.length){Pm($y[0],e);for(var r=1;r<$y.length;r++){var n=$y[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Qu!==null&&Pm(Qu,e),Ju!==null&&Pm(Ju,e),Zu!==null&&Pm(Zu,e),Qg.forEach(t),Jg.forEach(t),r=0;r<Mu.length;r++)n=Mu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Mu.length&&(r=Mu[0],r.blockedOn===null);)p7(r),r.blockedOn===null&&Mu.shift()}var k0=qc.ReactCurrentBatchConfig,v2=!0;function xX(e,t,r,n){var a=sn,i=k0.transition;k0.transition=null;try{sn=1,P3(e,t,r,n)}finally{sn=a,k0.transition=i}}function bX(e,t,r,n){var a=sn,i=k0.transition;k0.transition=null;try{sn=4,P3(e,t,r,n)}finally{sn=a,k0.transition=i}}function P3(e,t,r,n){if(v2){var a=KA(e,t,r,n);if(a===null)z_(e,t,n,y2,r),c6(e,n);else if(vX(a,e,t,r,n))n.stopPropagation();else if(c6(e,n),t&4&&-1<gX.indexOf(e)){for(;a!==null;){var i=N1(a);if(i!==null&&u7(i),i=KA(e,t,r,n),i===null&&z_(e,t,n,y2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else z_(e,t,n,null,r)}}var y2=null;function KA(e,t,r,n){if(y2=null,e=E3(n),e=bh(e),e!==null)if(t=id(e),t===null)e=null;else if(r=t.tag,r===13){if(e=r7(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return y2=e,null}function m7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oX()){case k3:return 1;case s7:return 4;case m2:case lX:return 16;case o7:return 536870912;default:return 16}default:return 16}}var Uu=null,O3=null,$x=null;function g7(){if($x)return $x;var e,t=O3,r=t.length,n,a="value"in Uu?Uu.value:Uu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return $x=a.slice(e,1<n?1-n:void 0)}function Bx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function By(){return!0}function f6(){return!1}function Ws(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?By:f6,this.isPropagationStopped=f6,this}return Un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=By)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=By)},persist:function(){},isPersistent:By}),t}var Lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I3=Ws(Lp),k1=Un({},Lp,{view:0,detail:0}),wX=Ws(k1),j_,L_,Om,Cw=Un({},k1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Om&&(Om&&e.type==="mousemove"?(j_=e.screenX-Om.screenX,L_=e.screenY-Om.screenY):L_=j_=0,Om=e),j_)},movementY:function(e){return"movementY"in e?e.movementY:L_}}),h6=Ws(Cw),_X=Un({},Cw,{dataTransfer:0}),SX=Ws(_X),AX=Un({},k1,{relatedTarget:0}),M_=Ws(AX),TX=Un({},Lp,{animationName:0,elapsedTime:0,pseudoElement:0}),EX=Ws(TX),kX=Un({},Lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),NX=Ws(kX),CX=Un({},Lp,{data:0}),d6=Ws(CX),PX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},OX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=IX[e])?!!t[e]:!1}function D3(){return DX}var jX=Un({},k1,{key:function(e){if(e.key){var t=PX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?OX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D3,charCode:function(e){return e.type==="keypress"?Bx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),LX=Ws(jX),MX=Un({},Cw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p6=Ws(MX),RX=Un({},k1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D3}),FX=Ws(RX),$X=Un({},Lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),BX=Ws($X),VX=Un({},Cw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),UX=Ws(VX),zX=[9,13,27,32],j3=kc&&"CompositionEvent"in window,pg=null;kc&&"documentMode"in document&&(pg=document.documentMode);var qX=kc&&"TextEvent"in window&&!pg,v7=kc&&(!j3||pg&&8<pg&&11>=pg),m6=" ",g6=!1;function y7(e,t){switch(e){case"keyup":return zX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var a0=!1;function WX(e,t){switch(e){case"compositionend":return x7(t);case"keypress":return t.which!==32?null:(g6=!0,m6);case"textInput":return e=t.data,e===m6&&g6?null:e;default:return null}}function HX(e,t){if(a0)return e==="compositionend"||!j3&&y7(e,t)?(e=g7(),$x=O3=Uu=null,a0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return v7&&t.locale!=="ko"?null:t.data;default:return null}}var GX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!GX[e.type]:t==="textarea"}function b7(e,t,r,n){QF(n),t=x2(t,"onChange"),0<t.length&&(r=new I3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var mg=null,ev=null;function KX(e){O7(e,0)}function Pw(e){var t=o0(e);if(qF(t))return e}function YX(e,t){if(e==="change")return t}var w7=!1;if(kc){var R_;if(kc){var F_="oninput"in document;if(!F_){var y6=document.createElement("div");y6.setAttribute("oninput","return;"),F_=typeof y6.oninput=="function"}R_=F_}else R_=!1;w7=R_&&(!document.documentMode||9<document.documentMode)}function x6(){mg&&(mg.detachEvent("onpropertychange",_7),ev=mg=null)}function _7(e){if(e.propertyName==="value"&&Pw(ev)){var t=[];b7(t,ev,e,E3(e)),t7(KX,t)}}function XX(e,t,r){e==="focusin"?(x6(),mg=t,ev=r,mg.attachEvent("onpropertychange",_7)):e==="focusout"&&x6()}function QX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pw(ev)}function JX(e,t){if(e==="click")return Pw(t)}function ZX(e,t){if(e==="input"||e==="change")return Pw(t)}function eQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var il=typeof Object.is=="function"?Object.is:eQ;function tv(e,t){if(il(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!PA.call(t,a)||!il(e[a],t[a]))return!1}return!0}function b6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w6(e,t){var r=b6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=b6(r)}}function S7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A7(){for(var e=window,t=h2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=h2(e.document)}return t}function L3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function tQ(e){var t=A7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&S7(r.ownerDocument.documentElement,r)){if(n!==null&&L3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=w6(r,i);var s=w6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var rQ=kc&&"documentMode"in document&&11>=document.documentMode,i0=null,YA=null,gg=null,XA=!1;function _6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XA||i0==null||i0!==h2(n)||(n=i0,"selectionStart"in n&&L3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),gg&&tv(gg,n)||(gg=n,n=x2(YA,"onSelect"),0<n.length&&(t=new I3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=i0)))}function Vy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var s0={animationend:Vy("Animation","AnimationEnd"),animationiteration:Vy("Animation","AnimationIteration"),animationstart:Vy("Animation","AnimationStart"),transitionend:Vy("Transition","TransitionEnd")},$_={},T7={};kc&&(T7=document.createElement("div").style,"AnimationEvent"in window||(delete s0.animationend.animation,delete s0.animationiteration.animation,delete s0.animationstart.animation),"TransitionEvent"in window||delete s0.transitionend.transition);function Ow(e){if($_[e])return $_[e];if(!s0[e])return e;var t=s0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T7)return $_[e]=t[r];return e}var E7=Ow("animationend"),k7=Ow("animationiteration"),N7=Ow("animationstart"),C7=Ow("transitionend"),P7=new Map,S6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(e,t){P7.set(e,t),ad(t,[e])}for(var B_=0;B_<S6.length;B_++){var V_=S6[B_],nQ=V_.toLowerCase(),aQ=V_[0].toUpperCase()+V_.slice(1);Pf(nQ,"on"+aQ)}Pf(E7,"onAnimationEnd");Pf(k7,"onAnimationIteration");Pf(N7,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(C7,"onTransitionEnd");W0("onMouseEnter",["mouseout","mouseover"]);W0("onMouseLeave",["mouseout","mouseover"]);W0("onPointerEnter",["pointerout","pointerover"]);W0("onPointerLeave",["pointerout","pointerover"]);ad("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ad("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ad("onBeforeInput",["compositionend","keypress","textInput","paste"]);ad("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ad("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function A6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,nX(n,t,void 0,e),e.currentTarget=null}function O7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;A6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;A6(a,o,c),i=l}}}if(p2)throw e=WA,p2=!1,WA=null,e}function En(e,t){var r=t[t4];r===void 0&&(r=t[t4]=new Set);var n=e+"__bubble";r.has(n)||(I7(t,e,2,!1),r.add(n))}function U_(e,t,r){var n=0;t&&(n|=4),I7(r,e,n,t)}var Uy="_reactListening"+Math.random().toString(36).slice(2);function rv(e){if(!e[Uy]){e[Uy]=!0,$F.forEach(function(r){r!=="selectionchange"&&(iQ.has(r)||U_(r,!1,e),U_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uy]||(t[Uy]=!0,U_("selectionchange",!1,t))}}function I7(e,t,r,n){switch(m7(t)){case 1:var a=xX;break;case 4:a=bX;break;default:a=P3}r=a.bind(null,t,r,e),a=void 0,!qA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function z_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=bh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}t7(function(){var c=i,u=E3(r),f=[];e:{var h=P7.get(e);if(h!==void 0){var d=I3,g=e;switch(e){case"keypress":if(Bx(r)===0)break e;case"keydown":case"keyup":d=LX;break;case"focusin":g="focus",d=M_;break;case"focusout":g="blur",d=M_;break;case"beforeblur":case"afterblur":d=M_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=h6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=SX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=FX;break;case E7:case k7:case N7:d=EX;break;case C7:d=BX;break;case"scroll":d=wX;break;case"wheel":d=UX;break;case"copy":case"cut":case"paste":d=NX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=p6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var w=c,_;w!==null;){_=w;var I=_.stateNode;if(_.tag===5&&I!==null&&(_=I,y!==null&&(I=Xg(w,y),I!=null&&m.push(nv(w,I,_)))),v)break;w=w.return}0<m.length&&(h=new d(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==UA&&(g=r.relatedTarget||r.fromElement)&&(bh(g)||g[Nc]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=c,g=g?bh(g):null,g!==null&&(v=id(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(m=h6,I="onMouseLeave",y="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(m=p6,I="onPointerLeave",y="onPointerEnter",w="pointer"),v=d==null?h:o0(d),_=g==null?h:o0(g),h=new m(I,w+"leave",d,r,u),h.target=v,h.relatedTarget=_,I=null,bh(u)===c&&(m=new m(y,w+"enter",g,r,u),m.target=_,m.relatedTarget=v,I=m),v=I,d&&g)t:{for(m=d,y=g,w=0,_=m;_;_=Vd(_))w++;for(_=0,I=y;I;I=Vd(I))_++;for(;0<w-_;)m=Vd(m),w--;for(;0<_-w;)y=Vd(y),_--;for(;w--;){if(m===y||y!==null&&m===y.alternate)break t;m=Vd(m),y=Vd(y)}m=null}else m=null;d!==null&&T6(f,h,d,m,!1),g!==null&&v!==null&&T6(f,v,g,m,!0)}}e:{if(h=c?o0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=YX;else if(v6(h))if(w7)P=ZX;else{P=QX;var D=XX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=JX);if(P&&(P=P(e,c))){b7(f,P,r,u);break e}D&&D(e,h,c),e==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&RA(h,"number",h.value)}switch(D=c?o0(c):window,e){case"focusin":(v6(D)||D.contentEditable==="true")&&(i0=D,YA=c,gg=null);break;case"focusout":gg=YA=i0=null;break;case"mousedown":XA=!0;break;case"contextmenu":case"mouseup":case"dragend":XA=!1,_6(f,r,u);break;case"selectionchange":if(rQ)break;case"keydown":case"keyup":_6(f,r,u)}var E;if(j3)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else a0?y7(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(v7&&r.locale!=="ko"&&(a0||A!=="onCompositionStart"?A==="onCompositionEnd"&&a0&&(E=g7()):(Uu=u,O3="value"in Uu?Uu.value:Uu.textContent,a0=!0)),D=x2(c,A),0<D.length&&(A=new d6(A,e,null,r,u),f.push({event:A,listeners:D}),E?A.data=E:(E=x7(r),E!==null&&(A.data=E)))),(E=qX?WX(e,r):HX(e,r))&&(c=x2(c,"onBeforeInput"),0<c.length&&(u=new d6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}O7(f,t)})}function nv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function x2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Xg(e,r),i!=null&&n.unshift(nv(e,i,a)),i=Xg(e,t),i!=null&&n.push(nv(e,i,a))),e=e.return}return n}function Vd(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function T6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Xg(r,i),l!=null&&s.unshift(nv(r,l,o))):a||(l=Xg(r,i),l!=null&&s.push(nv(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var sQ=/\r\n?/g,oQ=/\u0000|\uFFFD/g;function E6(e){return(typeof e=="string"?e:""+e).replace(sQ,`
`).replace(oQ,"")}function zy(e,t,r){if(t=E6(t),E6(e)!==t&&r)throw Error(St(425))}function b2(){}var QA=null,JA=null;function ZA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var e4=typeof setTimeout=="function"?setTimeout:void 0,lQ=typeof clearTimeout=="function"?clearTimeout:void 0,k6=typeof Promise=="function"?Promise:void 0,cQ=typeof queueMicrotask=="function"?queueMicrotask:typeof k6<"u"?function(e){return k6.resolve(null).then(e).catch(uQ)}:e4;function uQ(e){setTimeout(function(){throw e})}function q_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Zg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Zg(t)}function ef(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function N6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mp=Math.random().toString(36).slice(2),kl="__reactFiber$"+Mp,av="__reactProps$"+Mp,Nc="__reactContainer$"+Mp,t4="__reactEvents$"+Mp,fQ="__reactListeners$"+Mp,hQ="__reactHandles$"+Mp;function bh(e){var t=e[kl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nc]||r[kl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=N6(e);e!==null;){if(r=e[kl])return r;e=N6(e)}return t}e=r,r=e.parentNode}return null}function N1(e){return e=e[kl]||e[Nc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function o0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(St(33))}function Iw(e){return e[av]||null}var r4=[],l0=-1;function Of(e){return{current:e}}function On(e){0>l0||(e.current=r4[l0],r4[l0]=null,l0--)}function _n(e,t){l0++,r4[l0]=e.current,e.current=t}var gf={},Pi=Of(gf),ps=Of(!1),Vh=gf;function H0(e,t){var r=e.type.contextTypes;if(!r)return gf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function ms(e){return e=e.childContextTypes,e!=null}function w2(){On(ps),On(Pi)}function C6(e,t,r){if(Pi.current!==gf)throw Error(St(168));_n(Pi,t),_n(ps,r)}function D7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(St(108,XY(e)||"Unknown",a));return Un({},r,n)}function _2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gf,Vh=Pi.current,_n(Pi,e),_n(ps,ps.current),!0}function P6(e,t,r){var n=e.stateNode;if(!n)throw Error(St(169));r?(e=D7(e,t,Vh),n.__reactInternalMemoizedMergedChildContext=e,On(ps),On(Pi),_n(Pi,e)):On(ps),_n(ps,r)}var fc=null,Dw=!1,W_=!1;function j7(e){fc===null?fc=[e]:fc.push(e)}function dQ(e){Dw=!0,j7(e)}function If(){if(!W_&&fc!==null){W_=!0;var e=0,t=sn;try{var r=fc;for(sn=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fc=null,Dw=!1}catch(a){throw fc!==null&&(fc=fc.slice(e+1)),i7(k3,If),a}finally{sn=t,W_=!1}}return null}var c0=[],u0=0,S2=null,A2=0,co=[],uo=0,Uh=null,hc=1,dc="";function ch(e,t){c0[u0++]=A2,c0[u0++]=S2,S2=e,A2=t}function L7(e,t,r){co[uo++]=hc,co[uo++]=dc,co[uo++]=Uh,Uh=e;var n=hc;e=dc;var a=32-tl(n)-1;n&=~(1<<a),r+=1;var i=32-tl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,hc=1<<32-tl(t)+a|r<<a|n,dc=i+e}else hc=1<<i|r<<a|n,dc=e}function M3(e){e.return!==null&&(ch(e,1),L7(e,1,0))}function R3(e){for(;e===S2;)S2=c0[--u0],c0[u0]=null,A2=c0[--u0],c0[u0]=null;for(;e===Uh;)Uh=co[--uo],co[uo]=null,dc=co[--uo],co[uo]=null,hc=co[--uo],co[uo]=null}var Fs=null,js=null,jn=!1,Ko=null;function M7(e,t){var r=fo(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function O6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fs=e,js=ef(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fs=e,js=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Uh!==null?{id:hc,overflow:dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=fo(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Fs=e,js=null,!0):!1;default:return!1}}function n4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a4(e){if(jn){var t=js;if(t){var r=t;if(!O6(e,t)){if(n4(e))throw Error(St(418));t=ef(r.nextSibling);var n=Fs;t&&O6(e,t)?M7(n,r):(e.flags=e.flags&-4097|2,jn=!1,Fs=e)}}else{if(n4(e))throw Error(St(418));e.flags=e.flags&-4097|2,jn=!1,Fs=e}}}function I6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fs=e}function qy(e){if(e!==Fs)return!1;if(!jn)return I6(e),jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ZA(e.type,e.memoizedProps)),t&&(t=js)){if(n4(e))throw R7(),Error(St(418));for(;t;)M7(e,t),t=ef(t.nextSibling)}if(I6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(St(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){js=ef(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}js=null}}else js=Fs?ef(e.stateNode.nextSibling):null;return!0}function R7(){for(var e=js;e;)e=ef(e.nextSibling)}function G0(){js=Fs=null,jn=!1}function F3(e){Ko===null?Ko=[e]:Ko.push(e)}var pQ=qc.ReactCurrentBatchConfig;function Im(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(St(309));var n=r.stateNode}if(!n)throw Error(St(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(St(284));if(!r._owner)throw Error(St(290,e))}return e}function Wy(e,t){throw e=Object.prototype.toString.call(t),Error(St(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D6(e){var t=e._init;return t(e._payload)}function F7(e){function t(y,w){if(e){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function r(y,w){if(!e)return null;for(;w!==null;)t(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function a(y,w){return y=af(y,w),y.index=0,y.sibling=null,y}function i(y,w,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,I){return w===null||w.tag!==6?(w=J_(_,y.mode,I),w.return=y,w):(w=a(w,_),w.return=y,w)}function l(y,w,_,I){var P=_.type;return P===n0?u(y,w,_.props.children,I,_.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Du&&D6(P)===w.type)?(I=a(w,_.props),I.ref=Im(y,w,_),I.return=y,I):(I=Gx(_.type,_.key,_.props,null,y.mode,I),I.ref=Im(y,w,_),I.return=y,I)}function c(y,w,_,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=Z_(_,y.mode,I),w.return=y,w):(w=a(w,_.children||[]),w.return=y,w)}function u(y,w,_,I,P){return w===null||w.tag!==7?(w=Dh(_,y.mode,I,P),w.return=y,w):(w=a(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=J_(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case jy:return _=Gx(w.type,w.key,w.props,null,y.mode,_),_.ref=Im(y,null,w),_.return=y,_;case r0:return w=Z_(w,y.mode,_),w.return=y,w;case Du:var I=w._init;return f(y,I(w._payload),_)}if(Zm(w)||km(w))return w=Dh(w,y.mode,_,null),w.return=y,w;Wy(y,w)}return null}function h(y,w,_,I){var P=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:o(y,w,""+_,I);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case jy:return _.key===P?l(y,w,_,I):null;case r0:return _.key===P?c(y,w,_,I):null;case Du:return P=_._init,h(y,w,P(_._payload),I)}if(Zm(_)||km(_))return P!==null?null:u(y,w,_,I,null);Wy(y,_)}return null}function d(y,w,_,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(_)||null,o(w,y,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case jy:return y=y.get(I.key===null?_:I.key)||null,l(w,y,I,P);case r0:return y=y.get(I.key===null?_:I.key)||null,c(w,y,I,P);case Du:var D=I._init;return d(y,w,_,D(I._payload),P)}if(Zm(I)||km(I))return y=y.get(_)||null,u(w,y,I,P,null);Wy(w,I)}return null}function g(y,w,_,I){for(var P=null,D=null,E=w,A=w=0,b=null;E!==null&&A<_.length;A++){E.index>A?(b=E,E=null):b=E.sibling;var O=h(y,E,_[A],I);if(O===null){E===null&&(E=b);break}e&&E&&O.alternate===null&&t(y,E),w=i(O,w,A),D===null?P=O:D.sibling=O,D=O,E=b}if(A===_.length)return r(y,E),jn&&ch(y,A),P;if(E===null){for(;A<_.length;A++)E=f(y,_[A],I),E!==null&&(w=i(E,w,A),D===null?P=E:D.sibling=E,D=E);return jn&&ch(y,A),P}for(E=n(y,E);A<_.length;A++)b=d(E,y,A,_[A],I),b!==null&&(e&&b.alternate!==null&&E.delete(b.key===null?A:b.key),w=i(b,w,A),D===null?P=b:D.sibling=b,D=b);return e&&E.forEach(function(T){return t(y,T)}),jn&&ch(y,A),P}function m(y,w,_,I){var P=km(_);if(typeof P!="function")throw Error(St(150));if(_=P.call(_),_==null)throw Error(St(151));for(var D=P=null,E=w,A=w=0,b=null,O=_.next();E!==null&&!O.done;A++,O=_.next()){E.index>A?(b=E,E=null):b=E.sibling;var T=h(y,E,O.value,I);if(T===null){E===null&&(E=b);break}e&&E&&T.alternate===null&&t(y,E),w=i(T,w,A),D===null?P=T:D.sibling=T,D=T,E=b}if(O.done)return r(y,E),jn&&ch(y,A),P;if(E===null){for(;!O.done;A++,O=_.next())O=f(y,O.value,I),O!==null&&(w=i(O,w,A),D===null?P=O:D.sibling=O,D=O);return jn&&ch(y,A),P}for(E=n(y,E);!O.done;A++,O=_.next())O=d(E,y,A,O.value,I),O!==null&&(e&&O.alternate!==null&&E.delete(O.key===null?A:O.key),w=i(O,w,A),D===null?P=O:D.sibling=O,D=O);return e&&E.forEach(function(N){return t(y,N)}),jn&&ch(y,A),P}function v(y,w,_,I){if(typeof _=="object"&&_!==null&&_.type===n0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case jy:e:{for(var P=_.key,D=w;D!==null;){if(D.key===P){if(P=_.type,P===n0){if(D.tag===7){r(y,D.sibling),w=a(D,_.props.children),w.return=y,y=w;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Du&&D6(P)===D.type){r(y,D.sibling),w=a(D,_.props),w.ref=Im(y,D,_),w.return=y,y=w;break e}r(y,D);break}else t(y,D);D=D.sibling}_.type===n0?(w=Dh(_.props.children,y.mode,I,_.key),w.return=y,y=w):(I=Gx(_.type,_.key,_.props,null,y.mode,I),I.ref=Im(y,w,_),I.return=y,y=I)}return s(y);case r0:e:{for(D=_.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){r(y,w.sibling),w=a(w,_.children||[]),w.return=y,y=w;break e}else{r(y,w);break}else t(y,w);w=w.sibling}w=Z_(_,y.mode,I),w.return=y,y=w}return s(y);case Du:return D=_._init,v(y,w,D(_._payload),I)}if(Zm(_))return g(y,w,_,I);if(km(_))return m(y,w,_,I);Wy(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(r(y,w.sibling),w=a(w,_),w.return=y,y=w):(r(y,w),w=J_(_,y.mode,I),w.return=y,y=w),s(y)):r(y,w)}return v}var K0=F7(!0),$7=F7(!1),T2=Of(null),E2=null,f0=null,$3=null;function B3(){$3=f0=E2=null}function V3(e){var t=T2.current;On(T2),e._currentValue=t}function i4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function N0(e,t){E2=e,$3=f0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(fs=!0),e.firstContext=null)}function yo(e){var t=e._currentValue;if($3!==e)if(e={context:e,memoizedValue:t,next:null},f0===null){if(E2===null)throw Error(St(308));f0=e,E2.dependencies={lanes:0,firstContext:e}}else f0=f0.next=e;return t}var wh=null;function U3(e){wh===null?wh=[e]:wh.push(e)}function B7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,U3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Cc(e,n)}function Cc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ju=!1;function z3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ur&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cc(e,r)}return a=n.interleaved,a===null?(t.next=t,U3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cc(e,r)}function Vx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}function j6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function k2(e,t,r,n){var a=e.updateQueue;ju=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,d=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=Un({},f,h);break e;case 2:ju=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);qh|=s,e.lanes=s,e.memoizedState=f}}function L6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(St(191,a));a.call(n)}}}var C1={},Ol=Of(C1),iv=Of(C1),sv=Of(C1);function _h(e){if(e===C1)throw Error(St(174));return e}function q3(e,t){switch(_n(sv,t),_n(iv,e),_n(Ol,C1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$A(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$A(t,e)}On(Ol),_n(Ol,t)}function Y0(){On(Ol),On(iv),On(sv)}function U7(e){_h(sv.current);var t=_h(Ol.current),r=$A(t,e.type);t!==r&&(_n(iv,e),_n(Ol,r))}function W3(e){iv.current===e&&(On(Ol),On(iv))}var $n=Of(0);function N2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var H_=[];function H3(){for(var e=0;e<H_.length;e++)H_[e]._workInProgressVersionPrimary=null;H_.length=0}var Ux=qc.ReactCurrentDispatcher,G_=qc.ReactCurrentBatchConfig,zh=0,Bn=null,Aa=null,Ma=null,C2=!1,vg=!1,ov=0,mQ=0;function ui(){throw Error(St(321))}function G3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!il(e[r],t[r]))return!1;return!0}function K3(e,t,r,n,a,i){if(zh=i,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ux.current=e===null||e.memoizedState===null?xQ:bQ,e=r(n,a),vg){i=0;do{if(vg=!1,ov=0,25<=i)throw Error(St(301));i+=1,Ma=Aa=null,t.updateQueue=null,Ux.current=wQ,e=r(n,a)}while(vg)}if(Ux.current=P2,t=Aa!==null&&Aa.next!==null,zh=0,Ma=Aa=Bn=null,C2=!1,t)throw Error(St(300));return e}function Y3(){var e=ov!==0;return ov=0,e}function Al(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ma===null?Bn.memoizedState=Ma=e:Ma=Ma.next=e,Ma}function xo(){if(Aa===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=Aa.next;var t=Ma===null?Bn.memoizedState:Ma.next;if(t!==null)Ma=t,Aa=e;else{if(e===null)throw Error(St(310));Aa=e,e={memoizedState:Aa.memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},Ma===null?Bn.memoizedState=Ma=e:Ma=Ma.next=e}return Ma}function lv(e,t){return typeof t=="function"?t(e):t}function K_(e){var t=xo(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=Aa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((zh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Bn.lanes|=u,qh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,il(n,t.memoizedState)||(fs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Bn.lanes|=i,qh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Y_(e){var t=xo(),r=t.queue;if(r===null)throw Error(St(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);il(i,t.memoizedState)||(fs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function z7(){}function q7(e,t){var r=Bn,n=xo(),a=t(),i=!il(n.memoizedState,a);if(i&&(n.memoizedState=a,fs=!0),n=n.queue,X3(G7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ma!==null&&Ma.memoizedState.tag&1){if(r.flags|=2048,cv(9,H7.bind(null,r,n,a,t),void 0,null),Va===null)throw Error(St(349));zh&30||W7(r,t,a)}return a}function W7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function H7(e,t,r,n){t.value=r,t.getSnapshot=n,K7(t)&&Y7(e)}function G7(e,t,r){return r(function(){K7(t)&&Y7(e)})}function K7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!il(e,r)}catch{return!0}}function Y7(e){var t=Cc(e,1);t!==null&&rl(t,e,1,-1)}function M6(e){var t=Al();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lv,lastRenderedState:e},t.queue=e,e=e.dispatch=yQ.bind(null,Bn,e),[t.memoizedState,e]}function cv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function X7(){return xo().memoizedState}function zx(e,t,r,n){var a=Al();Bn.flags|=e,a.memoizedState=cv(1|t,r,void 0,n===void 0?null:n)}function jw(e,t,r,n){var a=xo();n=n===void 0?null:n;var i=void 0;if(Aa!==null){var s=Aa.memoizedState;if(i=s.destroy,n!==null&&G3(n,s.deps)){a.memoizedState=cv(t,r,i,n);return}}Bn.flags|=e,a.memoizedState=cv(1|t,r,i,n)}function R6(e,t){return zx(8390656,8,e,t)}function X3(e,t){return jw(2048,8,e,t)}function Q7(e,t){return jw(4,2,e,t)}function J7(e,t){return jw(4,4,e,t)}function Z7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e$(e,t,r){return r=r!=null?r.concat([e]):null,jw(4,4,Z7.bind(null,t,e),r)}function Q3(){}function t$(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r$(e,t){var r=xo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n$(e,t,r){return zh&21?(il(r,t)||(r=l7(),Bn.lanes|=r,qh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,fs=!0),e.memoizedState=r)}function gQ(e,t){var r=sn;sn=r!==0&&4>r?r:4,e(!0);var n=G_.transition;G_.transition={};try{e(!1),t()}finally{sn=r,G_.transition=n}}function a$(){return xo().memoizedState}function vQ(e,t,r){var n=nf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},i$(e))s$(t,r);else if(r=B7(e,t,r,n),r!==null){var a=Wi();rl(r,e,n,a),o$(r,t,n)}}function yQ(e,t,r){var n=nf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(i$(e))s$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,il(o,s)){var l=t.interleaved;l===null?(a.next=a,U3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=B7(e,t,a,n),r!==null&&(a=Wi(),rl(r,e,n,a),o$(r,t,n))}}function i$(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function s$(e,t){vg=C2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}var P2={readContext:yo,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},xQ={readContext:yo,useCallback:function(e,t){return Al().memoizedState=[e,t===void 0?null:t],e},useContext:yo,useEffect:R6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,zx(4194308,4,Z7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return zx(4194308,4,e,t)},useInsertionEffect:function(e,t){return zx(4,2,e,t)},useMemo:function(e,t){var r=Al();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Al();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=vQ.bind(null,Bn,e),[n.memoizedState,e]},useRef:function(e){var t=Al();return e={current:e},t.memoizedState=e},useState:M6,useDebugValue:Q3,useDeferredValue:function(e){return Al().memoizedState=e},useTransition:function(){var e=M6(!1),t=e[0];return e=gQ.bind(null,e[1]),Al().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bn,a=Al();if(jn){if(r===void 0)throw Error(St(407));r=r()}else{if(r=t(),Va===null)throw Error(St(349));zh&30||W7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,R6(G7.bind(null,n,i,e),[e]),n.flags|=2048,cv(9,H7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Al(),t=Va.identifierPrefix;if(jn){var r=dc,n=hc;r=(n&~(1<<32-tl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ov++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=mQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},bQ={readContext:yo,useCallback:t$,useContext:yo,useEffect:X3,useImperativeHandle:e$,useInsertionEffect:Q7,useLayoutEffect:J7,useMemo:r$,useReducer:K_,useRef:X7,useState:function(){return K_(lv)},useDebugValue:Q3,useDeferredValue:function(e){var t=xo();return n$(t,Aa.memoizedState,e)},useTransition:function(){var e=K_(lv)[0],t=xo().memoizedState;return[e,t]},useMutableSource:z7,useSyncExternalStore:q7,useId:a$,unstable_isNewReconciler:!1},wQ={readContext:yo,useCallback:t$,useContext:yo,useEffect:X3,useImperativeHandle:e$,useInsertionEffect:Q7,useLayoutEffect:J7,useMemo:r$,useReducer:Y_,useRef:X7,useState:function(){return Y_(lv)},useDebugValue:Q3,useDeferredValue:function(e){var t=xo();return Aa===null?t.memoizedState=e:n$(t,Aa.memoizedState,e)},useTransition:function(){var e=Y_(lv)[0],t=xo().memoizedState;return[e,t]},useMutableSource:z7,useSyncExternalStore:q7,useId:a$,unstable_isNewReconciler:!1};function zo(e,t){if(e&&e.defaultProps){t=Un({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function s4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Un({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lw={isMounted:function(e){return(e=e._reactInternals)?id(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Wi(),a=nf(e),i=xc(n,a);i.payload=t,r!=null&&(i.callback=r),t=tf(e,i,a),t!==null&&(rl(t,e,a,n),Vx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Wi(),a=nf(e),i=xc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=tf(e,i,a),t!==null&&(rl(t,e,a,n),Vx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Wi(),n=nf(e),a=xc(r,n);a.tag=2,t!=null&&(a.callback=t),t=tf(e,a,n),t!==null&&(rl(t,e,n,r),Vx(t,e,n))}};function F6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!tv(r,n)||!tv(a,i):!0}function l$(e,t,r){var n=!1,a=gf,i=t.contextType;return typeof i=="object"&&i!==null?i=yo(i):(a=ms(t)?Vh:Pi.current,n=t.contextTypes,i=(n=n!=null)?H0(e,a):gf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function $6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lw.enqueueReplaceState(t,t.state,null)}function o4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=yo(i):(i=ms(t)?Vh:Pi.current,a.context=H0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(s4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Lw.enqueueReplaceState(a,a.state,null),k2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function X0(e,t){try{var r="",n=t;do r+=YY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function X_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function l4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var _Q=typeof WeakMap=="function"?WeakMap:Map;function c$(e,t,r){r=xc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){I2||(I2=!0,y4=n),l4(e,t)},r}function u$(e,t,r){r=xc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){l4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){l4(e,t),typeof n!="function"&&(rf===null?rf=new Set([this]):rf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function B6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new _Q;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=MQ.bind(null,e,t,r),t.then(e,e))}function V6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xc(-1,1),t.tag=2,tf(r,t,1))),r.lanes|=1),e)}var SQ=qc.ReactCurrentOwner,fs=!1;function $i(e,t,r,n){t.child=e===null?$7(t,null,r,n):K0(t,e.child,r,n)}function z6(e,t,r,n,a){r=r.render;var i=t.ref;return N0(t,a),n=K3(e,t,r,n,i,a),r=Y3(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(jn&&r&&M3(t),t.flags|=1,$i(e,t,n,a),t.child)}function q6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ik(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,f$(e,t,i,n,a)):(e=Gx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:tv,r(s,n)&&e.ref===t.ref)return Pc(e,t,a)}return t.flags|=1,e=af(i,n),e.ref=t.ref,e.return=t,t.child=e}function f$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(tv(i,n)&&e.ref===t.ref)if(fs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(fs=!0);else return t.lanes=e.lanes,Pc(e,t,a)}return c4(e,t,r,n,a)}function h$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_n(d0,Cs),Cs|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_n(d0,Cs),Cs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,_n(d0,Cs),Cs|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,_n(d0,Cs),Cs|=n;return $i(e,t,a,r),t.child}function d$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function c4(e,t,r,n,a){var i=ms(r)?Vh:Pi.current;return i=H0(t,i),N0(t,a),r=K3(e,t,r,n,i,a),n=Y3(),e!==null&&!fs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(jn&&n&&M3(t),t.flags|=1,$i(e,t,r,a),t.child)}function W6(e,t,r,n,a){if(ms(r)){var i=!0;_2(t)}else i=!1;if(N0(t,a),t.stateNode===null)qx(e,t),l$(t,r,n),o4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=yo(c):(c=ms(r)?Vh:Pi.current,c=H0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&$6(t,s,n,c),ju=!1;var h=t.memoizedState;s.state=h,k2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||ps.current||ju?(typeof u=="function"&&(s4(t,r,u,n),l=t.memoizedState),(o=ju||F6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,V7(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:zo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=yo(l):(l=ms(r)?Vh:Pi.current,l=H0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&$6(t,s,n,l),ju=!1,h=t.memoizedState,s.state=h,k2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||ps.current||ju?(typeof d=="function"&&(s4(t,r,d,n),g=t.memoizedState),(c=ju||F6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return u4(e,t,r,n,i,a)}function u4(e,t,r,n,a,i){d$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&P6(t,r,!1),Pc(e,t,i);n=t.stateNode,SQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=K0(t,e.child,null,i),t.child=K0(t,null,o,i)):$i(e,t,o,i),t.memoizedState=n.state,a&&P6(t,r,!0),t.child}function p$(e){var t=e.stateNode;t.pendingContext?C6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C6(e,t.context,!1),q3(e,t.containerInfo)}function H6(e,t,r,n,a){return G0(),F3(a),t.flags|=256,$i(e,t,r,n),t.child}var f4={dehydrated:null,treeContext:null,retryLane:0};function h4(e){return{baseLanes:e,cachePool:null,transitions:null}}function m$(e,t,r){var n=t.pendingProps,a=$n.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),_n($n,a&1),e===null)return a4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Fw(s,n,0,null),e=Dh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=h4(r),t.memoizedState=f4,e):J3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return AQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=af(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=af(o,i):(i=Dh(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?h4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=f4,n}return i=e.child,e=i.sibling,n=af(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function J3(e,t){return t=Fw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Hy(e,t,r,n){return n!==null&&F3(n),K0(t,e.child,null,r),e=J3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function AQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=X_(Error(St(422))),Hy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Fw({mode:"visible",children:n.children},a,0,null),i=Dh(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&K0(t,e.child,null,s),t.child.memoizedState=h4(s),t.memoizedState=f4,i);if(!(t.mode&1))return Hy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(St(419)),n=X_(i,n,void 0),Hy(e,t,s,n)}if(o=(s&e.childLanes)!==0,fs||o){if(n=Va,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cc(e,a),rl(n,e,a,-1))}return ak(),n=X_(Error(St(421))),Hy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=RQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,js=ef(a.nextSibling),Fs=t,jn=!0,Ko=null,e!==null&&(co[uo++]=hc,co[uo++]=dc,co[uo++]=Uh,hc=e.id,dc=e.overflow,Uh=t),t=J3(t,n.children),t.flags|=4096,t)}function G6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),i4(e.return,t,r)}function Q_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function g$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($i(e,t,n.children,r),n=$n.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G6(e,r,t);else if(e.tag===19)G6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(_n($n,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&N2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Q_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&N2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Q_(t,!0,r,null,i);break;case"together":Q_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),qh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(St(153));if(t.child!==null){for(e=t.child,r=af(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=af(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function TQ(e,t,r){switch(t.tag){case 3:p$(t),G0();break;case 5:U7(t);break;case 1:ms(t.type)&&_2(t);break;case 4:q3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;_n(T2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(_n($n,$n.current&1),t.flags|=128,null):r&t.child.childLanes?m$(e,t,r):(_n($n,$n.current&1),e=Pc(e,t,r),e!==null?e.sibling:null);_n($n,$n.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),_n($n,$n.current),n)break;return null;case 22:case 23:return t.lanes=0,h$(e,t,r)}return Pc(e,t,r)}var v$,d4,y$,x$;v$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d4=function(){};y$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_h(Ol.current);var i=null;switch(r){case"input":a=LA(e,a),n=LA(e,n),i=[];break;case"select":a=Un({},a,{value:void 0}),n=Un({},n,{value:void 0}),i=[];break;case"textarea":a=FA(e,a),n=FA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=b2)}BA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};x$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dm(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function EQ(e,t,r){var n=t.pendingProps;switch(R3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return ms(t.type)&&w2(),fi(t),null;case 3:return n=t.stateNode,Y0(),On(ps),On(Pi),H3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ko!==null&&(w4(Ko),Ko=null))),d4(e,t),fi(t),null;case 5:W3(t);var a=_h(sv.current);if(r=t.type,e!==null&&t.stateNode!=null)y$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(St(166));return fi(t),null}if(e=_h(Ol.current),qy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kl]=t,n[av]=i,e=(t.mode&1)!==0,r){case"dialog":En("cancel",n),En("close",n);break;case"iframe":case"object":case"embed":En("load",n);break;case"video":case"audio":for(a=0;a<tg.length;a++)En(tg[a],n);break;case"source":En("error",n);break;case"img":case"image":case"link":En("error",n),En("load",n);break;case"details":En("toggle",n);break;case"input":r6(n,i),En("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},En("invalid",n);break;case"textarea":a6(n,i),En("invalid",n)}BA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&zy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&zy(n.textContent,o,e),a=["children",""+o]):Kg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&En("scroll",n)}switch(r){case"input":Ly(n),n6(n,i,!0);break;case"textarea":Ly(n),i6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=b2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=GF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[kl]=t,e[av]=n,v$(e,t,!1,!1),t.stateNode=e;e:{switch(s=VA(r,n),r){case"dialog":En("cancel",e),En("close",e),a=n;break;case"iframe":case"object":case"embed":En("load",e),a=n;break;case"video":case"audio":for(a=0;a<tg.length;a++)En(tg[a],e);a=n;break;case"source":En("error",e),a=n;break;case"img":case"image":case"link":En("error",e),En("load",e),a=n;break;case"details":En("toggle",e),a=n;break;case"input":r6(e,n),a=LA(e,n),En("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Un({},n,{value:void 0}),En("invalid",e);break;case"textarea":a6(e,n),a=FA(e,n),En("invalid",e);break;default:a=n}BA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?XF(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Yg(e,l):typeof l=="number"&&Yg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&En("scroll",e):l!=null&&_3(e,i,l,s))}switch(r){case"input":Ly(e),n6(e,n,!1);break;case"textarea":Ly(e),i6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+mf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?A0(e,!!n.multiple,i,!1):n.defaultValue!=null&&A0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=b2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fi(t),null;case 6:if(e&&t.stateNode!=null)x$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(St(166));if(r=_h(sv.current),_h(Ol.current),qy(t)){if(n=t.stateNode,r=t.memoizedProps,n[kl]=t,(i=n.nodeValue!==r)&&(e=Fs,e!==null))switch(e.tag){case 3:zy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kl]=t,t.stateNode=n}return fi(t),null;case 13:if(On($n),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jn&&js!==null&&t.mode&1&&!(t.flags&128))R7(),G0(),t.flags|=98560,i=!1;else if(i=qy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(St(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(St(317));i[kl]=t}else G0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),i=!1}else Ko!==null&&(w4(Ko),Ko=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$n.current&1?Ta===0&&(Ta=3):ak())),t.updateQueue!==null&&(t.flags|=4),fi(t),null);case 4:return Y0(),d4(e,t),e===null&&rv(t.stateNode.containerInfo),fi(t),null;case 10:return V3(t.type._context),fi(t),null;case 17:return ms(t.type)&&w2(),fi(t),null;case 19:if(On($n),i=t.memoizedState,i===null)return fi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Dm(i,!1);else{if(Ta!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=N2(e),s!==null){for(t.flags|=128,Dm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return _n($n,$n.current&1|2),t.child}e=e.sibling}i.tail!==null&&aa()>Q0&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304)}else{if(!n)if(e=N2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!jn)return fi(t),null}else 2*aa()-i.renderingStartTime>Q0&&r!==1073741824&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=aa(),t.sibling=null,r=$n.current,_n($n,n?r&1|2:r&1),t):(fi(t),null);case 22:case 23:return nk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Cs&1073741824&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),null;case 24:return null;case 25:return null}throw Error(St(156,t.tag))}function kQ(e,t){switch(R3(t),t.tag){case 1:return ms(t.type)&&w2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Y0(),On(ps),On(Pi),H3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W3(t),null;case 13:if(On($n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(St(340));G0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return On($n),null;case 4:return Y0(),null;case 10:return V3(t.type._context),null;case 22:case 23:return nk(),null;case 24:return null;default:return null}}var Gy=!1,_i=!1,NQ=typeof WeakSet=="function"?WeakSet:Set,Vt=null;function h0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Xn(e,t,n)}else r.current=null}function p4(e,t,r){try{r()}catch(n){Xn(e,t,n)}}var K6=!1;function CQ(e,t){if(QA=v2,e=A7(),L3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(JA={focusedElem:e,selectionRange:r},v2=!1,Vt=t;Vt!==null;)if(t=Vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Vt=e;else for(;Vt!==null;){t=Vt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:zo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(St(163))}}catch(I){Xn(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,Vt=e;break}Vt=t.return}return g=K6,K6=!1,g}function yg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&p4(t,r,i)}a=a.next}while(a!==n)}}function Mw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function m4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b$(e){var t=e.alternate;t!==null&&(e.alternate=null,b$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kl],delete t[av],delete t[t4],delete t[fQ],delete t[hQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w$(e){return e.tag===5||e.tag===3||e.tag===4}function Y6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=b2));else if(n!==4&&(e=e.child,e!==null))for(g4(e,t,r),e=e.sibling;e!==null;)g4(e,t,r),e=e.sibling}function v4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(v4(e,t,r),e=e.sibling;e!==null;)v4(e,t,r),e=e.sibling}var Qa=null,Wo=!1;function Eu(e,t,r){for(r=r.child;r!==null;)_$(e,t,r),r=r.sibling}function _$(e,t,r){if(Pl&&typeof Pl.onCommitFiberUnmount=="function")try{Pl.onCommitFiberUnmount(Nw,r)}catch{}switch(r.tag){case 5:_i||h0(r,t);case 6:var n=Qa,a=Wo;Qa=null,Eu(e,t,r),Qa=n,Wo=a,Qa!==null&&(Wo?(e=Qa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qa.removeChild(r.stateNode));break;case 18:Qa!==null&&(Wo?(e=Qa,r=r.stateNode,e.nodeType===8?q_(e.parentNode,r):e.nodeType===1&&q_(e,r),Zg(e)):q_(Qa,r.stateNode));break;case 4:n=Qa,a=Wo,Qa=r.stateNode.containerInfo,Wo=!0,Eu(e,t,r),Qa=n,Wo=a;break;case 0:case 11:case 14:case 15:if(!_i&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&p4(r,t,s),a=a.next}while(a!==n)}Eu(e,t,r);break;case 1:if(!_i&&(h0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Xn(r,t,o)}Eu(e,t,r);break;case 21:Eu(e,t,r);break;case 22:r.mode&1?(_i=(n=_i)||r.memoizedState!==null,Eu(e,t,r),_i=n):Eu(e,t,r);break;default:Eu(e,t,r)}}function X6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new NQ),t.forEach(function(n){var a=FQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Lo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Qa=o.stateNode,Wo=!1;break e;case 3:Qa=o.stateNode.containerInfo,Wo=!0;break e;case 4:Qa=o.stateNode.containerInfo,Wo=!0;break e}o=o.return}if(Qa===null)throw Error(St(160));_$(i,s,a),Qa=null,Wo=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Xn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S$(t,e),t=t.sibling}function S$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lo(t,e),bl(e),n&4){try{yg(3,e,e.return),Mw(3,e)}catch(m){Xn(e,e.return,m)}try{yg(5,e,e.return)}catch(m){Xn(e,e.return,m)}}break;case 1:Lo(t,e),bl(e),n&512&&r!==null&&h0(r,r.return);break;case 5:if(Lo(t,e),bl(e),n&512&&r!==null&&h0(r,r.return),e.flags&32){var a=e.stateNode;try{Yg(a,"")}catch(m){Xn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&WF(a,i),VA(o,s);var c=VA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?XF(a,f):u==="dangerouslySetInnerHTML"?KF(a,f):u==="children"?Yg(a,f):_3(a,u,f,c)}switch(o){case"input":MA(a,i);break;case"textarea":HF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?A0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?A0(a,!!i.multiple,i.defaultValue,!0):A0(a,!!i.multiple,i.multiple?[]:"",!1))}a[av]=i}catch(m){Xn(e,e.return,m)}}break;case 6:if(Lo(t,e),bl(e),n&4){if(e.stateNode===null)throw Error(St(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Xn(e,e.return,m)}}break;case 3:if(Lo(t,e),bl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Zg(t.containerInfo)}catch(m){Xn(e,e.return,m)}break;case 4:Lo(t,e),bl(e);break;case 13:Lo(t,e),bl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tk=aa())),n&4&&X6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(_i=(c=_i)||u,Lo(t,e),_i=c):Lo(t,e),bl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Vt=e,u=e.child;u!==null;){for(f=Vt=u;Vt!==null;){switch(h=Vt,d=h.child,h.tag){case 0:case 11:case 14:case 15:yg(4,h,h.return);break;case 1:h0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Xn(n,r,m)}}break;case 5:h0(h,h.return);break;case 22:if(h.memoizedState!==null){J6(f);continue}}d!==null?(d.return=h,Vt=d):J6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=YF("display",s))}catch(m){Xn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Xn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lo(t,e),bl(e),n&4&&X6(e);break;case 21:break;default:Lo(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w$(r)){var n=r;break e}r=r.return}throw Error(St(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yg(a,""),n.flags&=-33);var i=Y6(e);v4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Y6(e);g4(e,o,s);break;default:throw Error(St(161))}}catch(l){Xn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function PQ(e,t,r){Vt=e,A$(e)}function A$(e,t,r){for(var n=(e.mode&1)!==0;Vt!==null;){var a=Vt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Gy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||_i;o=Gy;var c=_i;if(Gy=s,(_i=l)&&!c)for(Vt=a;Vt!==null;)s=Vt,l=s.child,s.tag===22&&s.memoizedState!==null?Z6(a):l!==null?(l.return=s,Vt=l):Z6(a);for(;i!==null;)Vt=i,A$(i),i=i.sibling;Vt=a,Gy=o,_i=c}Q6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Vt=i):Q6(e)}}function Q6(e){for(;Vt!==null;){var t=Vt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_i||Mw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_i)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:zo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&L6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}L6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Zg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(St(163))}_i||t.flags&512&&m4(t)}catch(h){Xn(t,t.return,h)}}if(t===e){Vt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Vt=r;break}Vt=t.return}}function J6(e){for(;Vt!==null;){var t=Vt;if(t===e){Vt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Vt=r;break}Vt=t.return}}function Z6(e){for(;Vt!==null;){var t=Vt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mw(4,t)}catch(l){Xn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Xn(t,a,l)}}var i=t.return;try{m4(t)}catch(l){Xn(t,i,l)}break;case 5:var s=t.return;try{m4(t)}catch(l){Xn(t,s,l)}}}catch(l){Xn(t,t.return,l)}if(t===e){Vt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Vt=o;break}Vt=t.return}}var OQ=Math.ceil,O2=qc.ReactCurrentDispatcher,Z3=qc.ReactCurrentOwner,po=qc.ReactCurrentBatchConfig,Ur=0,Va=null,ga=null,ai=0,Cs=0,d0=Of(0),Ta=0,uv=null,qh=0,Rw=0,ek=0,xg=null,ls=null,tk=0,Q0=1/0,uc=null,I2=!1,y4=null,rf=null,Ky=!1,zu=null,D2=0,bg=0,x4=null,Wx=-1,Hx=0;function Wi(){return Ur&6?aa():Wx!==-1?Wx:Wx=aa()}function nf(e){return e.mode&1?Ur&2&&ai!==0?ai&-ai:pQ.transition!==null?(Hx===0&&(Hx=l7()),Hx):(e=sn,e!==0||(e=window.event,e=e===void 0?16:m7(e.type)),e):1}function rl(e,t,r,n){if(50<bg)throw bg=0,x4=null,Error(St(185));E1(e,r,n),(!(Ur&2)||e!==Va)&&(e===Va&&(!(Ur&2)&&(Rw|=r),Ta===4&&Ru(e,ai)),gs(e,n),r===1&&Ur===0&&!(t.mode&1)&&(Q0=aa()+500,Dw&&If()))}function gs(e,t){var r=e.callbackNode;pX(e,t);var n=g2(e,e===Va?ai:0);if(n===0)r!==null&&l6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&l6(r),t===1)e.tag===0?dQ(eO.bind(null,e)):j7(eO.bind(null,e)),cQ(function(){!(Ur&6)&&If()}),r=null;else{switch(c7(n)){case 1:r=k3;break;case 4:r=s7;break;case 16:r=m2;break;case 536870912:r=o7;break;default:r=m2}r=I$(r,T$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function T$(e,t){if(Wx=-1,Hx=0,Ur&6)throw Error(St(327));var r=e.callbackNode;if(C0()&&e.callbackNode!==r)return null;var n=g2(e,e===Va?ai:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=j2(e,n);else{t=n;var a=Ur;Ur|=2;var i=k$();(Va!==e||ai!==t)&&(uc=null,Q0=aa()+500,Ih(e,t));do try{jQ();break}catch(o){E$(e,o)}while(!0);B3(),O2.current=i,Ur=a,ga!==null?t=0:(Va=null,ai=0,t=Ta)}if(t!==0){if(t===2&&(a=HA(e),a!==0&&(n=a,t=b4(e,a))),t===1)throw r=uv,Ih(e,0),Ru(e,n),gs(e,aa()),r;if(t===6)Ru(e,n);else{if(a=e.current.alternate,!(n&30)&&!IQ(a)&&(t=j2(e,n),t===2&&(i=HA(e),i!==0&&(n=i,t=b4(e,i))),t===1))throw r=uv,Ih(e,0),Ru(e,n),gs(e,aa()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(St(345));case 2:uh(e,ls,uc);break;case 3:if(Ru(e,n),(n&130023424)===n&&(t=tk+500-aa(),10<t)){if(g2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Wi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=e4(uh.bind(null,e,ls,uc),t);break}uh(e,ls,uc);break;case 4:if(Ru(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-tl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=aa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*OQ(n/1960))-n,10<n){e.timeoutHandle=e4(uh.bind(null,e,ls,uc),n);break}uh(e,ls,uc);break;case 5:uh(e,ls,uc);break;default:throw Error(St(329))}}}return gs(e,aa()),e.callbackNode===r?T$.bind(null,e):null}function b4(e,t){var r=xg;return e.current.memoizedState.isDehydrated&&(Ih(e,t).flags|=256),e=j2(e,t),e!==2&&(t=ls,ls=r,t!==null&&w4(t)),e}function w4(e){ls===null?ls=e:ls.push.apply(ls,e)}function IQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!il(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ru(e,t){for(t&=~ek,t&=~Rw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tl(t),n=1<<r;e[r]=-1,t&=~n}}function eO(e){if(Ur&6)throw Error(St(327));C0();var t=g2(e,0);if(!(t&1))return gs(e,aa()),null;var r=j2(e,t);if(e.tag!==0&&r===2){var n=HA(e);n!==0&&(t=n,r=b4(e,n))}if(r===1)throw r=uv,Ih(e,0),Ru(e,t),gs(e,aa()),r;if(r===6)throw Error(St(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uh(e,ls,uc),gs(e,aa()),null}function rk(e,t){var r=Ur;Ur|=1;try{return e(t)}finally{Ur=r,Ur===0&&(Q0=aa()+500,Dw&&If())}}function Wh(e){zu!==null&&zu.tag===0&&!(Ur&6)&&C0();var t=Ur;Ur|=1;var r=po.transition,n=sn;try{if(po.transition=null,sn=1,e)return e()}finally{sn=n,po.transition=r,Ur=t,!(Ur&6)&&If()}}function nk(){Cs=d0.current,On(d0)}function Ih(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,lQ(r)),ga!==null)for(r=ga.return;r!==null;){var n=r;switch(R3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&w2();break;case 3:Y0(),On(ps),On(Pi),H3();break;case 5:W3(n);break;case 4:Y0();break;case 13:On($n);break;case 19:On($n);break;case 10:V3(n.type._context);break;case 22:case 23:nk()}r=r.return}if(Va=e,ga=e=af(e.current,null),ai=Cs=t,Ta=0,uv=null,ek=Rw=qh=0,ls=xg=null,wh!==null){for(t=0;t<wh.length;t++)if(r=wh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}wh=null}return e}function E$(e,t){do{var r=ga;try{if(B3(),Ux.current=P2,C2){for(var n=Bn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}C2=!1}if(zh=0,Ma=Aa=Bn=null,vg=!1,ov=0,Z3.current=null,r===null||r.return===null){Ta=1,uv=t,ga=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=ai,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=V6(s);if(d!==null){d.flags&=-257,U6(d,s,o,i,t),d.mode&1&&B6(i,c,t),t=d,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){B6(i,c,t),ak();break e}l=Error(St(426))}}else if(jn&&o.mode&1){var v=V6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),U6(v,s,o,i,t),F3(X0(l,o));break e}}i=l=X0(l,o),Ta!==4&&(Ta=2),xg===null?xg=[i]:xg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=c$(i,l,t);j6(i,y);break e;case 1:o=l;var w=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(rf===null||!rf.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var I=u$(i,o,t);j6(i,I);break e}}i=i.return}while(i!==null)}C$(r)}catch(P){t=P,ga===r&&r!==null&&(ga=r=r.return);continue}break}while(!0)}function k$(){var e=O2.current;return O2.current=P2,e===null?P2:e}function ak(){(Ta===0||Ta===3||Ta===2)&&(Ta=4),Va===null||!(qh&268435455)&&!(Rw&268435455)||Ru(Va,ai)}function j2(e,t){var r=Ur;Ur|=2;var n=k$();(Va!==e||ai!==t)&&(uc=null,Ih(e,t));do try{DQ();break}catch(a){E$(e,a)}while(!0);if(B3(),Ur=r,O2.current=n,ga!==null)throw Error(St(261));return Va=null,ai=0,Ta}function DQ(){for(;ga!==null;)N$(ga)}function jQ(){for(;ga!==null&&!iX();)N$(ga)}function N$(e){var t=O$(e.alternate,e,Cs);e.memoizedProps=e.pendingProps,t===null?C$(e):ga=t,Z3.current=null}function C$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=kQ(r,t),r!==null){r.flags&=32767,ga=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ta=6,ga=null;return}}else if(r=EQ(r,t,Cs),r!==null){ga=r;return}if(t=t.sibling,t!==null){ga=t;return}ga=t=e}while(t!==null);Ta===0&&(Ta=5)}function uh(e,t,r){var n=sn,a=po.transition;try{po.transition=null,sn=1,LQ(e,t,r,n)}finally{po.transition=a,sn=n}return null}function LQ(e,t,r,n){do C0();while(zu!==null);if(Ur&6)throw Error(St(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(St(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(mX(e,i),e===Va&&(ga=Va=null,ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ky||(Ky=!0,I$(m2,function(){return C0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=po.transition,po.transition=null;var s=sn;sn=1;var o=Ur;Ur|=4,Z3.current=null,CQ(e,r),S$(r,e),tQ(JA),v2=!!QA,JA=QA=null,e.current=r,PQ(r),sX(),Ur=o,sn=s,po.transition=i}else e.current=r;if(Ky&&(Ky=!1,zu=e,D2=a),i=e.pendingLanes,i===0&&(rf=null),cX(r.stateNode),gs(e,aa()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(I2)throw I2=!1,e=y4,y4=null,e;return D2&1&&e.tag!==0&&C0(),i=e.pendingLanes,i&1?e===x4?bg++:(bg=0,x4=e):bg=0,If(),null}function C0(){if(zu!==null){var e=c7(D2),t=po.transition,r=sn;try{if(po.transition=null,sn=16>e?16:e,zu===null)var n=!1;else{if(e=zu,zu=null,D2=0,Ur&6)throw Error(St(331));var a=Ur;for(Ur|=4,Vt=e.current;Vt!==null;){var i=Vt,s=i.child;if(Vt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Vt=c;Vt!==null;){var u=Vt;switch(u.tag){case 0:case 11:case 15:yg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Vt=f;else for(;Vt!==null;){u=Vt;var h=u.sibling,d=u.return;if(b$(u),u===c){Vt=null;break}if(h!==null){h.return=d,Vt=h;break}Vt=d}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Vt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Vt=s;else e:for(;Vt!==null;){if(i=Vt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Vt=y;break e}Vt=i.return}}var w=e.current;for(Vt=w;Vt!==null;){s=Vt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Vt=_;else e:for(s=w;Vt!==null;){if(o=Vt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mw(9,o)}}catch(P){Xn(o,o.return,P)}if(o===s){Vt=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Vt=I;break e}Vt=o.return}}if(Ur=a,If(),Pl&&typeof Pl.onPostCommitFiberRoot=="function")try{Pl.onPostCommitFiberRoot(Nw,e)}catch{}n=!0}return n}finally{sn=r,po.transition=t}}return!1}function tO(e,t,r){t=X0(r,t),t=c$(e,t,1),e=tf(e,t,1),t=Wi(),e!==null&&(E1(e,1,t),gs(e,t))}function Xn(e,t,r){if(e.tag===3)tO(e,e,r);else for(;t!==null;){if(t.tag===3){tO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rf===null||!rf.has(n))){e=X0(r,e),e=u$(t,e,1),t=tf(t,e,1),e=Wi(),t!==null&&(E1(t,1,e),gs(t,e));break}}t=t.return}}function MQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Wi(),e.pingedLanes|=e.suspendedLanes&r,Va===e&&(ai&r)===r&&(Ta===4||Ta===3&&(ai&130023424)===ai&&500>aa()-tk?Ih(e,0):ek|=r),gs(e,t)}function P$(e,t){t===0&&(e.mode&1?(t=Fy,Fy<<=1,!(Fy&130023424)&&(Fy=4194304)):t=1);var r=Wi();e=Cc(e,t),e!==null&&(E1(e,t,r),gs(e,r))}function RQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),P$(e,r)}function FQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(St(314))}n!==null&&n.delete(t),P$(e,r)}var O$;O$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ps.current)fs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return fs=!1,TQ(e,t,r);fs=!!(e.flags&131072)}else fs=!1,jn&&t.flags&1048576&&L7(t,A2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qx(e,t),e=t.pendingProps;var a=H0(t,Pi.current);N0(t,r),a=K3(null,t,n,e,a,r);var i=Y3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ms(n)?(i=!0,_2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z3(t),a.updater=Lw,t.stateNode=a,a._reactInternals=t,o4(t,n,e,r),t=u4(null,t,n,!0,i,r)):(t.tag=0,jn&&i&&M3(t),$i(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=BQ(n),e=zo(n,e),a){case 0:t=c4(null,t,n,e,r);break e;case 1:t=W6(null,t,n,e,r);break e;case 11:t=z6(null,t,n,e,r);break e;case 14:t=q6(null,t,n,zo(n.type,e),r);break e}throw Error(St(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zo(n,a),c4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zo(n,a),W6(e,t,n,a,r);case 3:e:{if(p$(t),e===null)throw Error(St(387));n=t.pendingProps,i=t.memoizedState,a=i.element,V7(e,t),k2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=X0(Error(St(423)),t),t=H6(e,t,n,r,a);break e}else if(n!==a){a=X0(Error(St(424)),t),t=H6(e,t,n,r,a);break e}else for(js=ef(t.stateNode.containerInfo.firstChild),Fs=t,jn=!0,Ko=null,r=$7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(G0(),n===a){t=Pc(e,t,r);break e}$i(e,t,n,r)}t=t.child}return t;case 5:return U7(t),e===null&&a4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,ZA(n,a)?s=null:i!==null&&ZA(n,i)&&(t.flags|=32),d$(e,t),$i(e,t,s,r),t.child;case 6:return e===null&&a4(t),null;case 13:return m$(e,t,r);case 4:return q3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=K0(t,null,n,r):$i(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zo(n,a),z6(e,t,n,a,r);case 7:return $i(e,t,t.pendingProps,r),t.child;case 8:return $i(e,t,t.pendingProps.children,r),t.child;case 12:return $i(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,_n(T2,n._currentValue),n._currentValue=s,i!==null)if(il(i.value,s)){if(i.children===a.children&&!ps.current){t=Pc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),i4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(St(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),i4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}$i(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,N0(t,r),a=yo(a),n=n(a),t.flags|=1,$i(e,t,n,r),t.child;case 14:return n=t.type,a=zo(n,t.pendingProps),a=zo(n.type,a),q6(e,t,n,a,r);case 15:return f$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:zo(n,a),qx(e,t),t.tag=1,ms(n)?(e=!0,_2(t)):e=!1,N0(t,r),l$(t,n,a),o4(t,n,a,r),u4(null,t,n,!0,e,r);case 19:return g$(e,t,r);case 22:return h$(e,t,r)}throw Error(St(156,t.tag))};function I$(e,t){return i7(e,t)}function $Q(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fo(e,t,r,n){return new $Q(e,t,r,n)}function ik(e){return e=e.prototype,!(!e||!e.isReactComponent)}function BQ(e){if(typeof e=="function")return ik(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A3)return 11;if(e===T3)return 14}return 2}function af(e,t){var r=e.alternate;return r===null?(r=fo(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Gx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")ik(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case n0:return Dh(r.children,a,i,t);case S3:s=8,a|=8;break;case OA:return e=fo(12,r,t,a|2),e.elementType=OA,e.lanes=i,e;case IA:return e=fo(13,r,t,a),e.elementType=IA,e.lanes=i,e;case DA:return e=fo(19,r,t,a),e.elementType=DA,e.lanes=i,e;case UF:return Fw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case BF:s=10;break e;case VF:s=9;break e;case A3:s=11;break e;case T3:s=14;break e;case Du:s=16,n=null;break e}throw Error(St(130,e==null?e:typeof e,""))}return t=fo(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Dh(e,t,r,n){return e=fo(7,e,n,t),e.lanes=r,e}function Fw(e,t,r,n){return e=fo(22,e,n,t),e.elementType=UF,e.lanes=r,e.stateNode={isHidden:!1},e}function J_(e,t,r){return e=fo(6,e,null,t),e.lanes=r,e}function Z_(e,t,r){return t=fo(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function VQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D_(0),this.expirationTimes=D_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sk(e,t,r,n,a,i,s,o,l){return e=new VQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=fo(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z3(i),e}function UQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function D$(e){if(!e)return gf;e=e._reactInternals;e:{if(id(e)!==e||e.tag!==1)throw Error(St(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(St(171))}if(e.tag===1){var r=e.type;if(ms(r))return D7(e,r,t)}return t}function j$(e,t,r,n,a,i,s,o,l){return e=sk(r,n,!0,e,a,i,s,o,l),e.context=D$(null),r=e.current,n=Wi(),a=nf(r),i=xc(n,a),i.callback=t??null,tf(r,i,a),e.current.lanes=a,E1(e,a,n),gs(e,n),e}function $w(e,t,r,n){var a=t.current,i=Wi(),s=nf(a);return r=D$(r),t.context===null?t.context=r:t.pendingContext=r,t=xc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tf(a,t,s),e!==null&&(rl(e,a,s,i),Vx(e,a,s)),s}function L2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ok(e,t){rO(e,t),(e=e.alternate)&&rO(e,t)}function zQ(){return null}var L$=typeof reportError=="function"?reportError:function(e){console.error(e)};function lk(e){this._internalRoot=e}Bw.prototype.render=lk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(St(409));$w(e,t,null,null)};Bw.prototype.unmount=lk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Wh(function(){$w(null,e,null,null)}),t[Nc]=null}};function Bw(e){this._internalRoot=e}Bw.prototype.unstable_scheduleHydration=function(e){if(e){var t=h7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mu.length&&t!==0&&t<Mu[r].priority;r++);Mu.splice(r,0,e),r===0&&p7(e)}};function ck(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nO(){}function qQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=L2(s);i.call(c)}}var s=j$(t,n,e,0,null,!1,!1,"",nO);return e._reactRootContainer=s,e[Nc]=s.current,rv(e.nodeType===8?e.parentNode:e),Wh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=L2(l);o.call(c)}}var l=sk(e,0,!1,null,null,!1,!1,"",nO);return e._reactRootContainer=l,e[Nc]=l.current,rv(e.nodeType===8?e.parentNode:e),Wh(function(){$w(t,l,r,n)}),l}function Uw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=L2(s);o.call(l)}}$w(t,s,e,a)}else s=qQ(r,t,e,a,n);return L2(s)}u7=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eg(t.pendingLanes);r!==0&&(N3(t,r|1),gs(t,aa()),!(Ur&6)&&(Q0=aa()+500,If()))}break;case 13:Wh(function(){var n=Cc(e,1);if(n!==null){var a=Wi();rl(n,e,1,a)}}),ok(e,1)}};C3=function(e){if(e.tag===13){var t=Cc(e,134217728);if(t!==null){var r=Wi();rl(t,e,134217728,r)}ok(e,134217728)}};f7=function(e){if(e.tag===13){var t=nf(e),r=Cc(e,t);if(r!==null){var n=Wi();rl(r,e,t,n)}ok(e,t)}};h7=function(){return sn};d7=function(e,t){var r=sn;try{return sn=e,t()}finally{sn=r}};zA=function(e,t,r){switch(t){case"input":if(MA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Iw(n);if(!a)throw Error(St(90));qF(n),MA(n,a)}}}break;case"textarea":HF(e,r);break;case"select":t=r.value,t!=null&&A0(e,!!r.multiple,t,!1)}};ZF=rk;e7=Wh;var WQ={usingClientEntryPoint:!1,Events:[N1,o0,Iw,QF,JF,rk]},jm={findFiberByHostInstance:bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HQ={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n7(e),e===null?null:e.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||zQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yy.isDisabled&&Yy.supportsFiber)try{Nw=Yy.inject(HQ),Pl=Yy}catch{}}qs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WQ;qs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ck(t))throw Error(St(200));return UQ(e,t,null,r)};qs.createRoot=function(e,t){if(!ck(e))throw Error(St(299));var r=!1,n="",a=L$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sk(e,1,!1,null,null,r,!1,n,a),e[Nc]=t.current,rv(e.nodeType===8?e.parentNode:e),new lk(t)};qs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(St(188)):(e=Object.keys(e).join(","),Error(St(268,e)));return e=n7(t),e=e===null?null:e.stateNode,e};qs.flushSync=function(e){return Wh(e)};qs.hydrate=function(e,t,r){if(!Vw(t))throw Error(St(200));return Uw(null,e,t,!0,r)};qs.hydrateRoot=function(e,t,r){if(!ck(e))throw Error(St(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=L$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=j$(t,null,e,1,r??null,a,!1,i,s),e[Nc]=t.current,rv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bw(t)};qs.render=function(e,t,r){if(!Vw(t))throw Error(St(200));return Uw(null,e,t,!1,r)};qs.unmountComponentAtNode=function(e){if(!Vw(e))throw Error(St(40));return e._reactRootContainer?(Wh(function(){Uw(null,null,e,!1,function(){e._reactRootContainer=null,e[Nc]=null})}),!0):!1};qs.unstable_batchedUpdates=rk;qs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vw(r))throw Error(St(200));if(e==null||e._reactInternals===void 0)throw Error(St(38));return Uw(e,t,r,!1,n)};qs.version="18.3.1-next-f1338f8080-20240426";function M$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M$)}catch(e){console.error(e)}}M$(),MF.exports=qs;var GQ=MF.exports,R$,aO=GQ;R$=aO.createRoot,aO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(this,arguments)}var qu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qu||(qu={}));const iO="popstate";function KQ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return _4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:M2(a)}return XQ(t,r,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YQ(){return Math.random().toString(36).substr(2,8)}function sO(e,t){return{usr:e.state,key:e.key,idx:t}}function _4(e,t,r,n){return r===void 0&&(r=null),fv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rp(t):t,{state:r,key:t&&t.key||n||YQ()})}function M2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function XQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=qu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(fv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=qu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=qu.Push;let w=_4(m.location,v,y);c=u()+1;let _=sO(w,c),I=m.createHref(w);try{s.pushState(_,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(I)}i&&l&&l({action:o,location:m.location,delta:1})}function d(v,y){o=qu.Replace;let w=_4(m.location,v,y);c=u();let _=sO(w,c),I=m.createHref(w);s.replaceState(_,"",I),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof v=="string"?v:M2(v);return w=w.replace(/ $/,"%20"),Vn(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(iO,f),l=v,()=>{a.removeEventListener(iO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return s.go(v)}};return m}var oO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oO||(oO={}));function QQ(e,t,r){return r===void 0&&(r="/"),JQ(e,t,r,!1)}function JQ(e,t,r,n){let a=typeof t=="string"?Rp(t):t,i=J0(a.pathname||"/",r);if(i==null)return null;let s=$$(e);ZQ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=uJ(i);o=lJ(s[l],c,n)}return o}function $$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=sf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Vn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:sJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of B$(i.path))a(i,s,l)}),t}function B$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=B$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function ZQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const eJ=/^:[\w-]+$/,tJ=3,rJ=2,nJ=1,aJ=10,iJ=-2,lO=e=>e==="*";function sJ(e,t){let r=e.split("/"),n=r.length;return r.some(lO)&&(n+=iJ),t&&(n+=rJ),r.filter(a=>!lO(a)).reduce((a,i)=>a+(eJ.test(i)?tJ:i===""?nJ:aJ),n)}function oJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function lJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=R2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=R2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:sf([i,f.pathname]),pathnameBase:pJ(sf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=sf([i,f.pathnameBase]))}return s}function R2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=cJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function cJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),F$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function uJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return F$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function J0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function fJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Rp(e):e;return{pathname:r?r.startsWith("/")?r:hJ(r,t):t,search:mJ(n),hash:gJ(a)}}function hJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function eS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uk(e,t){let r=dJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Rp(e):(a=fv({},e),Vn(!a.pathname||!a.pathname.includes("?"),eS("?","pathname","search",a)),Vn(!a.pathname||!a.pathname.includes("#"),eS("#","pathname","hash",a)),Vn(!a.search||!a.search.includes("#"),eS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=fJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const sf=e=>e.join("/").replace(/\/\/+/g,"/"),pJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),mJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,gJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function vJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const V$=["post","put","patch","delete"];new Set(V$);const yJ=["get",...V$];new Set(yJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}const zw=H.createContext(null),U$=H.createContext(null),Wc=H.createContext(null),qw=H.createContext(null),Hc=H.createContext({outlet:null,matches:[],isDataRoute:!1}),z$=H.createContext(null);function xJ(e,t){let{relative:r}=t===void 0?{}:t;Fp()||Vn(!1);let{basename:n,navigator:a}=H.useContext(Wc),{hash:i,pathname:s,search:o}=Ww(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:sf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Fp(){return H.useContext(qw)!=null}function $p(){return Fp()||Vn(!1),H.useContext(qw).location}function q$(e){H.useContext(Wc).static||H.useLayoutEffect(e)}function P1(){let{isDataRoute:e}=H.useContext(Hc);return e?jJ():bJ()}function bJ(){Fp()||Vn(!1);let e=H.useContext(zw),{basename:t,future:r,navigator:n}=H.useContext(Wc),{matches:a}=H.useContext(Hc),{pathname:i}=$p(),s=JSON.stringify(uk(a,r.v7_relativeSplatPath)),o=H.useRef(!1);return q$(()=>{o.current=!0}),H.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=fk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:sf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const wJ=H.createContext(null);function _J(e){let t=H.useContext(Hc).outlet;return t&&H.createElement(wJ.Provider,{value:e},t)}function Ww(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=H.useContext(Wc),{matches:a}=H.useContext(Hc),{pathname:i}=$p(),s=JSON.stringify(uk(a,n.v7_relativeSplatPath));return H.useMemo(()=>fk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function SJ(e,t){return AJ(e,t)}function AJ(e,t,r,n){Fp()||Vn(!1);let{navigator:a,static:i}=H.useContext(Wc),{matches:s}=H.useContext(Hc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$p(),f;if(t){var h;let y=typeof t=="string"?Rp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Vn(!1),f=y}else f=u;let d=f.pathname||"/",g=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:QQ(e,{pathname:g}),v=CJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:sf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:sf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?H.createElement(qw.Provider,{value:{location:hv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qu.Pop}},v):v}function TJ(){let e=DJ(),t=vJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},t),r?H.createElement("pre",{style:a},r):null,null)}const EJ=H.createElement(TJ,null);class kJ extends H.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?H.createElement(Hc.Provider,{value:this.props.routeContext},H.createElement(z$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NJ(e){let{routeContext:t,match:r,children:n}=e,a=H.useContext(zw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(Hc.Provider,{value:t},n)}function CJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Vn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,g=!1,m=null,v=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||EJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),w=()=>{let _;return d?_=m:g?_=v:f.route.Component?_=H.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,H.createElement(NJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?H.createElement(kJ,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var W$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(W$||{}),F2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F2||{});function PJ(e){let t=H.useContext(zw);return t||Vn(!1),t}function OJ(e){let t=H.useContext(U$);return t||Vn(!1),t}function IJ(e){let t=H.useContext(Hc);return t||Vn(!1),t}function H$(e){let t=IJ(),r=t.matches[t.matches.length-1];return r.route.id||Vn(!1),r.route.id}function DJ(){var e;let t=H.useContext(z$),r=OJ(F2.UseRouteError),n=H$(F2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jJ(){let{router:e}=PJ(W$.UseNavigateStable),t=H$(F2.UseNavigateStable),r=H.useRef(!1);return q$(()=>{r.current=!0}),H.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,hv({fromRouteId:t},i)))},[e,t])}function LJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function S4(e){let{to:t,replace:r,state:n,relative:a}=e;Fp()||Vn(!1);let{future:i,static:s}=H.useContext(Wc),{matches:o}=H.useContext(Hc),{pathname:l}=$p(),c=P1(),u=fk(t,uk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return H.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function MJ(e){return _J(e.context)}function is(e){Vn(!1)}function RJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=qu.Pop,navigator:i,static:s=!1,future:o}=e;Fp()&&Vn(!1);let l=t.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:l,navigator:i,static:s,future:hv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Rp(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:g="default"}=n,m=H.useMemo(()=>{let v=J0(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:d,key:g},navigationType:a}},[l,u,f,h,d,g,a]);return m==null?null:H.createElement(Wc.Provider,{value:c},H.createElement(qw.Provider,{children:r,value:m}))}function FJ(e){let{children:t,location:r}=e;return SJ(A4(t),r)}new Promise(()=>{});function A4(e,t){t===void 0&&(t=[]);let r=[];return H.Children.forEach(e,(n,a)=>{if(!H.isValidElement(n))return;let i=[...t,a];if(n.type===H.Fragment){r.push.apply(r,A4(n.props.children,i));return}n.type!==is&&Vn(!1),!n.props.index||!n.props.children||Vn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=A4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$2.apply(this,arguments)}function G$(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function $J(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function BJ(e,t){return e.button===0&&(!t||t==="_self")&&!$J(e)}const VJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],UJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],zJ="6";try{window.__reactRouterVersion=zJ}catch{}const qJ=H.createContext({isTransitioning:!1}),WJ="startTransition",cO=MY[WJ];function HJ(e){let{basename:t,children:r,future:n,window:a}=e,i=H.useRef();i.current==null&&(i.current=KQ({window:a,v5Compat:!0}));let s=i.current,[o,l]=H.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=H.useCallback(f=>{c&&cO?cO(()=>l(f)):l(f)},[l,c]);return H.useLayoutEffect(()=>s.listen(u),[s,u]),H.useEffect(()=>LJ(n),[n]),H.createElement(RJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const GJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",KJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YJ=H.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=G$(t,VJ),{basename:d}=H.useContext(Wc),g,m=!1;if(typeof c=="string"&&KJ.test(c)&&(g=c,GJ))try{let _=new URL(window.location.href),I=c.startsWith("//")?new URL(_.protocol+c):new URL(c),P=J0(I.pathname,d);I.origin===_.origin&&P!=null?c=P+I.search+I.hash:m=!0}catch{}let v=xJ(c,{relative:a}),y=QJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function w(_){n&&n(_),_.defaultPrevented||y(_)}return H.createElement("a",$2({},h,{href:g||v,onClick:m||i?n:w,ref:r,target:l}))}),tS=H.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=G$(t,UJ),h=Ww(l,{relative:f.relative}),d=$p(),g=H.useContext(U$),{navigator:m,basename:v}=H.useContext(Wc),y=g!=null&&JJ(h)&&c===!0,w=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,_=d.pathname,I=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(_=_.toLowerCase(),I=I?I.toLowerCase():null,w=w.toLowerCase()),I&&v&&(I=J0(I,v)||I);const P=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let D=_===w||!s&&_.startsWith(w)&&_.charAt(P)==="/",E=I!=null&&(I===w||!s&&I.startsWith(w)&&I.charAt(w.length)==="/"),A={isActive:D,isPending:E,isTransitioning:y},b=D?n:void 0,O;typeof i=="function"?O=i(A):O=[i,D?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(A):o;return H.createElement(YJ,$2({},f,{"aria-current":b,className:O,ref:r,style:T,to:l,viewTransition:c}),typeof u=="function"?u(A):u)});var T4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T4||(T4={}));var uO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uO||(uO={}));function XJ(e){let t=H.useContext(zw);return t||Vn(!1),t}function QJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=P1(),c=$p(),u=Ww(e,{relative:s});return H.useCallback(f=>{if(BJ(f,r)){f.preventDefault();let h=n!==void 0?n:M2(c)===M2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function JJ(e,t){t===void 0&&(t={});let r=H.useContext(qJ);r==null&&Vn(!1);let{basename:n}=XJ(T4.useViewTransitionState),a=Ww(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=J0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=J0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return R2(a.pathname,s)!=null||R2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),rr=(e,t)=>{const r=H.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>H.createElement("svg",{ref:u,...ZJ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${eZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>H.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=rr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=rr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dv=rr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=rr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=rr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=rr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=rr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=rr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=rr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=rr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=rr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=rr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=rr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vf=rr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=rr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=rr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=rr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=rr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=rr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=rr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=rr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=rr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=rr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=rr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=rr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=rr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=rr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=rr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=rr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=rr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=rr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=rr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=rr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=rr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hi=rr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=rr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=rr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=rr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=rr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=rr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=rr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=rr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=rr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=rr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=rr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=rr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=rr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=rr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=rr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AZ=()=>{};var mO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},TZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},Z$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(J$(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new EZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kZ=function(e){const t=J$(e);return Z$.encodeByteArray(t,!0)},U2=function(e){return kZ(e).replace(/\./g,"")},NZ=function(e){try{return Z$.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ=()=>CZ().__FIREBASE_DEFAULTS__,OZ=()=>{if(typeof process>"u"||typeof mO>"u")return;const e=mO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&NZ(e[1]);return t&&JSON.parse(t)},hk=()=>{try{return AZ()||PZ()||OZ()||IZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DZ=e=>{var t,r;return(r=(t=hk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},jZ=e=>{const t=DZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},e9=()=>{var e;return(e=hk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return e.endsWith(".cloudworkstations.dev")}async function MZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[U2(JSON.stringify(r)),U2(JSON.stringify(s)),""].join(".")}const wg={};function FZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(wg))wg[t]?e.emulator.push(t):e.prod.push(t);return e}function $Z(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let gO=!1;function t9(e,t){if(typeof window>"u"||typeof document>"u"||!dk(window.location.host)||wg[e]===t||wg[e]||gO)return;wg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=FZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{gO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=$Z(n),d=r("text"),g=document.getElementById(d)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),w=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;o(_),u(v,m);const I=c();l(w,y),_.append(w,g,v,I),document.body.appendChild(_)}i?(g.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VZ(){var e;const t=(e=hk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UZ(){return!VZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zZ(){try{return typeof indexedDB=="object"}catch{return!1}}function qZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="FirebaseError";class Bp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=WZ,Object.setPrototypeOf(this,Bp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,r9.prototype.create)}}class r9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?HZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bp(a,o,n)}}function HZ(e,t){return e.replace(GZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const GZ=/\{\$([^}]+)}/g;function z2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(vO(i)&&vO(s)){if(!z2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function vO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){return e&&e._delegate?e._delegate:e}class mv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new LZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XZ(t))try{this.getOrInitializeService({instanceIdentifier:fh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=fh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fh){return this.instances.has(t)}getOptions(t=fh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=fh){return this.component?this.component.multipleInstances?t:fh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YZ(e){return e===fh?void 0:e}function XZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new KZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Rr||(Rr={}));const JZ={debug:Rr.DEBUG,verbose:Rr.VERBOSE,info:Rr.INFO,warn:Rr.WARN,error:Rr.ERROR,silent:Rr.SILENT},ZZ=Rr.INFO,eee={[Rr.DEBUG]:"log",[Rr.VERBOSE]:"log",[Rr.INFO]:"info",[Rr.WARN]:"warn",[Rr.ERROR]:"error"},tee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=eee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class n9{constructor(t){this.name=t,this._logLevel=ZZ,this._logHandler=tee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Rr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Rr.DEBUG,...t),this._logHandler(this,Rr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Rr.VERBOSE,...t),this._logHandler(this,Rr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Rr.INFO,...t),this._logHandler(this,Rr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Rr.WARN,...t),this._logHandler(this,Rr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Rr.ERROR,...t),this._logHandler(this,Rr.ERROR,...t)}}const ree=(e,t)=>t.some(r=>e instanceof r);let yO,xO;function nee(){return yO||(yO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aee(){return xO||(xO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const a9=new WeakMap,C4=new WeakMap,i9=new WeakMap,rS=new WeakMap,pk=new WeakMap;function iee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(of(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&a9.set(r,e)}).catch(()=>{}),pk.set(t,e),t}function see(e){if(C4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});C4.set(e,t)}let P4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return C4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||i9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return of(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oee(e){P4=e(P4)}function lee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(nS(this),t,...r);return i9.set(n,t.sort?t.sort():[t]),of(n)}:aee().includes(e)?function(...t){return e.apply(nS(this),t),of(a9.get(this))}:function(...t){return of(e.apply(nS(this),t))}}function cee(e){return typeof e=="function"?lee(e):(e instanceof IDBTransaction&&see(e),ree(e,nee())?new Proxy(e,P4):e)}function of(e){if(e instanceof IDBRequest)return iee(e);if(rS.has(e))return rS.get(e);const t=cee(e);return t!==e&&(rS.set(e,t),pk.set(t,e)),t}const nS=e=>pk.get(e);function uee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=of(s);return n&&s.addEventListener("upgradeneeded",l=>{n(of(s.result),l.oldVersion,l.newVersion,of(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const fee=["get","getKey","getAll","getAllKeys","count"],hee=["put","add","delete","clear"],aS=new Map;function bO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(aS.get(t))return aS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=hee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||fee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return aS.set(t,i),i}oee(e=>({...e,get:(t,r,n)=>bO(t,r)||e.get(t,r,n),has:(t,r)=>!!bO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const O4="@firebase/app",wO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new n9("@firebase/app"),mee="@firebase/app-compat",gee="@firebase/analytics-compat",vee="@firebase/analytics",yee="@firebase/app-check-compat",xee="@firebase/app-check",bee="@firebase/auth",wee="@firebase/auth-compat",_ee="@firebase/database",See="@firebase/data-connect",Aee="@firebase/database-compat",Tee="@firebase/functions",Eee="@firebase/functions-compat",kee="@firebase/installations",Nee="@firebase/installations-compat",Cee="@firebase/messaging",Pee="@firebase/messaging-compat",Oee="@firebase/performance",Iee="@firebase/performance-compat",Dee="@firebase/remote-config",jee="@firebase/remote-config-compat",Lee="@firebase/storage",Mee="@firebase/storage-compat",Ree="@firebase/firestore",Fee="@firebase/vertexai",$ee="@firebase/firestore-compat",Bee="firebase",Vee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="[DEFAULT]",Uee={[O4]:"fire-core",[mee]:"fire-core-compat",[vee]:"fire-analytics",[gee]:"fire-analytics-compat",[xee]:"fire-app-check",[yee]:"fire-app-check-compat",[bee]:"fire-auth",[wee]:"fire-auth-compat",[_ee]:"fire-rtdb",[See]:"fire-data-connect",[Aee]:"fire-rtdb-compat",[Tee]:"fire-fn",[Eee]:"fire-fn-compat",[kee]:"fire-iid",[Nee]:"fire-iid-compat",[Cee]:"fire-fcm",[Pee]:"fire-fcm-compat",[Oee]:"fire-perf",[Iee]:"fire-perf-compat",[Dee]:"fire-rc",[jee]:"fire-rc-compat",[Lee]:"fire-gcs",[Mee]:"fire-gcs-compat",[Ree]:"fire-fst",[$ee]:"fire-fst-compat",[Fee]:"fire-vertex","fire-js":"fire-js",[Bee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map,zee=new Map,D4=new Map;function _O(e,t){try{e.container.addComponent(t)}catch(r){Ic.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function W2(e){const t=e.name;if(D4.has(t))return Ic.debug(`There were multiple attempts to register component ${t}.`),!1;D4.set(t,e);for(const r of q2.values())_O(r,e);for(const r of zee.values())_O(r,e);return!0}function qee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Wee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lf=new r9("app","Firebase",Hee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new mv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=Vee;function s9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:I4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw lf.create("bad-app-name",{appName:String(a)});if(r||(r=e9()),!r)throw lf.create("no-options");const i=q2.get(a);if(i){if(z2(r,i.options)&&z2(n,i.config))return i;throw lf.create("duplicate-app",{appName:a})}const s=new QZ(a);for(const l of D4.values())s.addComponent(l);const o=new Gee(r,n,s);return q2.set(a,o),o}function Yee(e=I4){const t=q2.get(e);if(!t&&e===I4&&e9())return s9();if(!t)throw lf.create("no-app",{appName:e});return t}function P0(e,t,r){var n;let a=(n=Uee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ic.warn(o.join(" "));return}W2(new mv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee="firebase-heartbeat-database",Qee=1,gv="firebase-heartbeat-store";let iS=null;function o9(){return iS||(iS=uee(Xee,Qee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(gv)}catch(r){console.warn(r)}}}}).catch(e=>{throw lf.create("idb-open",{originalErrorMessage:e.message})})),iS}async function Jee(e){try{const r=(await o9()).transaction(gv),n=await r.objectStore(gv).get(l9(e));return await r.done,n}catch(t){if(t instanceof Bp)Ic.warn(t.message);else{const r=lf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ic.warn(r.message)}}}async function SO(e,t){try{const n=(await o9()).transaction(gv,"readwrite");await n.objectStore(gv).put(t,l9(e)),await n.done}catch(r){if(r instanceof Bp)Ic.warn(r.message);else{const n=lf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ic.warn(n.message)}}}function l9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=1024,ete=30;class tte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new nte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=AO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>ete){const s=ate(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Ic.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=AO(),{heartbeatsToSend:n,unsentEntries:a}=rte(this._heartbeatsCache.heartbeats),i=U2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Ic.warn(r),""}}}function AO(){return new Date().toISOString().substring(0,10)}function rte(e,t=Zee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),TO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),TO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class nte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zZ()?qZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Jee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return SO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return SO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function TO(e){return U2(JSON.stringify({version:2,heartbeats:e})).length}function ate(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(e){W2(new mv("platform-logger",t=>new dee(t),"PRIVATE")),W2(new mv("heartbeat",t=>new tte(t),"PRIVATE")),P0(O4,wO,e),P0(O4,wO,"esm2017"),P0("fire-js","")}ite("");var ste="firebase",ote="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */P0(ste,ote,"app");var EO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cf,c9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,A){function b(){}b.prototype=A.prototype,E.D=A.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(O,T,N){for(var j=Array(arguments.length-2),K=2;K<arguments.length;K++)j[K-2]=arguments[K];return A.prototype[T].apply(O,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,A,b){b||(b=0);var O=Array(16);if(typeof A=="string")for(var T=0;16>T;++T)O[T]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(T=0;16>T;++T)O[T]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=E.g[0],b=E.g[1],T=E.g[2];var N=E.g[3],j=A+(N^b&(T^N))+O[0]+3614090360&4294967295;A=b+(j<<7&4294967295|j>>>25),j=N+(T^A&(b^T))+O[1]+3905402710&4294967295,N=A+(j<<12&4294967295|j>>>20),j=T+(b^N&(A^b))+O[2]+606105819&4294967295,T=N+(j<<17&4294967295|j>>>15),j=b+(A^T&(N^A))+O[3]+3250441966&4294967295,b=T+(j<<22&4294967295|j>>>10),j=A+(N^b&(T^N))+O[4]+4118548399&4294967295,A=b+(j<<7&4294967295|j>>>25),j=N+(T^A&(b^T))+O[5]+1200080426&4294967295,N=A+(j<<12&4294967295|j>>>20),j=T+(b^N&(A^b))+O[6]+2821735955&4294967295,T=N+(j<<17&4294967295|j>>>15),j=b+(A^T&(N^A))+O[7]+4249261313&4294967295,b=T+(j<<22&4294967295|j>>>10),j=A+(N^b&(T^N))+O[8]+1770035416&4294967295,A=b+(j<<7&4294967295|j>>>25),j=N+(T^A&(b^T))+O[9]+2336552879&4294967295,N=A+(j<<12&4294967295|j>>>20),j=T+(b^N&(A^b))+O[10]+4294925233&4294967295,T=N+(j<<17&4294967295|j>>>15),j=b+(A^T&(N^A))+O[11]+2304563134&4294967295,b=T+(j<<22&4294967295|j>>>10),j=A+(N^b&(T^N))+O[12]+1804603682&4294967295,A=b+(j<<7&4294967295|j>>>25),j=N+(T^A&(b^T))+O[13]+4254626195&4294967295,N=A+(j<<12&4294967295|j>>>20),j=T+(b^N&(A^b))+O[14]+2792965006&4294967295,T=N+(j<<17&4294967295|j>>>15),j=b+(A^T&(N^A))+O[15]+1236535329&4294967295,b=T+(j<<22&4294967295|j>>>10),j=A+(T^N&(b^T))+O[1]+4129170786&4294967295,A=b+(j<<5&4294967295|j>>>27),j=N+(b^T&(A^b))+O[6]+3225465664&4294967295,N=A+(j<<9&4294967295|j>>>23),j=T+(A^b&(N^A))+O[11]+643717713&4294967295,T=N+(j<<14&4294967295|j>>>18),j=b+(N^A&(T^N))+O[0]+3921069994&4294967295,b=T+(j<<20&4294967295|j>>>12),j=A+(T^N&(b^T))+O[5]+3593408605&4294967295,A=b+(j<<5&4294967295|j>>>27),j=N+(b^T&(A^b))+O[10]+38016083&4294967295,N=A+(j<<9&4294967295|j>>>23),j=T+(A^b&(N^A))+O[15]+3634488961&4294967295,T=N+(j<<14&4294967295|j>>>18),j=b+(N^A&(T^N))+O[4]+3889429448&4294967295,b=T+(j<<20&4294967295|j>>>12),j=A+(T^N&(b^T))+O[9]+568446438&4294967295,A=b+(j<<5&4294967295|j>>>27),j=N+(b^T&(A^b))+O[14]+3275163606&4294967295,N=A+(j<<9&4294967295|j>>>23),j=T+(A^b&(N^A))+O[3]+4107603335&4294967295,T=N+(j<<14&4294967295|j>>>18),j=b+(N^A&(T^N))+O[8]+1163531501&4294967295,b=T+(j<<20&4294967295|j>>>12),j=A+(T^N&(b^T))+O[13]+2850285829&4294967295,A=b+(j<<5&4294967295|j>>>27),j=N+(b^T&(A^b))+O[2]+4243563512&4294967295,N=A+(j<<9&4294967295|j>>>23),j=T+(A^b&(N^A))+O[7]+1735328473&4294967295,T=N+(j<<14&4294967295|j>>>18),j=b+(N^A&(T^N))+O[12]+2368359562&4294967295,b=T+(j<<20&4294967295|j>>>12),j=A+(b^T^N)+O[5]+4294588738&4294967295,A=b+(j<<4&4294967295|j>>>28),j=N+(A^b^T)+O[8]+2272392833&4294967295,N=A+(j<<11&4294967295|j>>>21),j=T+(N^A^b)+O[11]+1839030562&4294967295,T=N+(j<<16&4294967295|j>>>16),j=b+(T^N^A)+O[14]+4259657740&4294967295,b=T+(j<<23&4294967295|j>>>9),j=A+(b^T^N)+O[1]+2763975236&4294967295,A=b+(j<<4&4294967295|j>>>28),j=N+(A^b^T)+O[4]+1272893353&4294967295,N=A+(j<<11&4294967295|j>>>21),j=T+(N^A^b)+O[7]+4139469664&4294967295,T=N+(j<<16&4294967295|j>>>16),j=b+(T^N^A)+O[10]+3200236656&4294967295,b=T+(j<<23&4294967295|j>>>9),j=A+(b^T^N)+O[13]+681279174&4294967295,A=b+(j<<4&4294967295|j>>>28),j=N+(A^b^T)+O[0]+3936430074&4294967295,N=A+(j<<11&4294967295|j>>>21),j=T+(N^A^b)+O[3]+3572445317&4294967295,T=N+(j<<16&4294967295|j>>>16),j=b+(T^N^A)+O[6]+76029189&4294967295,b=T+(j<<23&4294967295|j>>>9),j=A+(b^T^N)+O[9]+3654602809&4294967295,A=b+(j<<4&4294967295|j>>>28),j=N+(A^b^T)+O[12]+3873151461&4294967295,N=A+(j<<11&4294967295|j>>>21),j=T+(N^A^b)+O[15]+530742520&4294967295,T=N+(j<<16&4294967295|j>>>16),j=b+(T^N^A)+O[2]+3299628645&4294967295,b=T+(j<<23&4294967295|j>>>9),j=A+(T^(b|~N))+O[0]+4096336452&4294967295,A=b+(j<<6&4294967295|j>>>26),j=N+(b^(A|~T))+O[7]+1126891415&4294967295,N=A+(j<<10&4294967295|j>>>22),j=T+(A^(N|~b))+O[14]+2878612391&4294967295,T=N+(j<<15&4294967295|j>>>17),j=b+(N^(T|~A))+O[5]+4237533241&4294967295,b=T+(j<<21&4294967295|j>>>11),j=A+(T^(b|~N))+O[12]+1700485571&4294967295,A=b+(j<<6&4294967295|j>>>26),j=N+(b^(A|~T))+O[3]+2399980690&4294967295,N=A+(j<<10&4294967295|j>>>22),j=T+(A^(N|~b))+O[10]+4293915773&4294967295,T=N+(j<<15&4294967295|j>>>17),j=b+(N^(T|~A))+O[1]+2240044497&4294967295,b=T+(j<<21&4294967295|j>>>11),j=A+(T^(b|~N))+O[8]+1873313359&4294967295,A=b+(j<<6&4294967295|j>>>26),j=N+(b^(A|~T))+O[15]+4264355552&4294967295,N=A+(j<<10&4294967295|j>>>22),j=T+(A^(N|~b))+O[6]+2734768916&4294967295,T=N+(j<<15&4294967295|j>>>17),j=b+(N^(T|~A))+O[13]+1309151649&4294967295,b=T+(j<<21&4294967295|j>>>11),j=A+(T^(b|~N))+O[4]+4149444226&4294967295,A=b+(j<<6&4294967295|j>>>26),j=N+(b^(A|~T))+O[11]+3174756917&4294967295,N=A+(j<<10&4294967295|j>>>22),j=T+(A^(N|~b))+O[2]+718787259&4294967295,T=N+(j<<15&4294967295|j>>>17),j=b+(N^(T|~A))+O[9]+3951481745&4294967295,E.g[0]=E.g[0]+A&4294967295,E.g[1]=E.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+N&4294967295}n.prototype.u=function(E,A){A===void 0&&(A=E.length);for(var b=A-this.blockSize,O=this.B,T=this.h,N=0;N<A;){if(T==0)for(;N<=b;)a(this,E,N),N+=this.blockSize;if(typeof E=="string"){for(;N<A;)if(O[T++]=E.charCodeAt(N++),T==this.blockSize){a(this,O),T=0;break}}else for(;N<A;)if(O[T++]=E[N++],T==this.blockSize){a(this,O),T=0;break}}this.h=T,this.o+=A},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var A=1;A<E.length-8;++A)E[A]=0;var b=8*this.o;for(A=E.length-8;A<E.length;++A)E[A]=b&255,b/=256;for(this.u(E),E=Array(16),A=b=0;4>A;++A)for(var O=0;32>O;O+=8)E[b++]=this.g[A]>>>O&255;return E};function i(E,A){var b=o;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=A(E)}function s(E,A){this.h=A;for(var b=[],O=!0,T=E.length-1;0<=T;T--){var N=E[T]|0;O&&N==A||(b[T]=N,O=!1)}this.g=b}var o={};function l(E){return-128<=E&&128>E?i(E,function(A){return new s([A|0],0>A?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(c(-E));for(var A=[],b=1,O=0;E>=b;O++)A[O]=E/b|0,b*=4294967296;return new s(A,0)}function u(E,A){if(E.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(E.charAt(0)=="-")return v(u(E.substring(1),A));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=c(Math.pow(A,8)),O=f,T=0;T<E.length;T+=8){var N=Math.min(8,E.length-T),j=parseInt(E.substring(T,T+N),A);8>N?(N=c(Math.pow(A,N)),O=O.j(N).add(c(j))):(O=O.j(b),O=O.add(c(j)))}return O}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var E=0,A=1,b=0;b<this.g.length;b++){var O=this.i(b);E+=(0<=O?O:4294967296+O)*A,A*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(m(this))return"-"+v(this).toString(E);for(var A=c(Math.pow(E,6)),b=this,O="";;){var T=I(b,A).g;b=y(b,T.j(A));var N=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=T,g(b))return N+O;for(;6>N.length;)N="0"+N;O=N+O}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var A=0;A<E.g.length;A++)if(E.g[A]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=y(this,E),m(E)?-1:g(E)?0:1};function v(E){for(var A=E.g.length,b=[],O=0;O<A;O++)b[O]=~E.g[O];return new s(b,~E.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(E){for(var A=Math.max(this.g.length,E.g.length),b=[],O=0,T=0;T<=A;T++){var N=O+(this.i(T)&65535)+(E.i(T)&65535),j=(N>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);O=j>>>16,N&=65535,j&=65535,b[T]=j<<16|N}return new s(b,b[b.length-1]&-2147483648?-1:0)};function y(E,A){return E.add(v(A))}e.j=function(E){if(g(this)||g(E))return f;if(m(this))return m(E)?v(this).j(v(E)):v(v(this).j(E));if(m(E))return v(this.j(v(E)));if(0>this.l(d)&&0>E.l(d))return c(this.m()*E.m());for(var A=this.g.length+E.g.length,b=[],O=0;O<2*A;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var T=0;T<E.g.length;T++){var N=this.i(O)>>>16,j=this.i(O)&65535,K=E.i(T)>>>16,J=E.i(T)&65535;b[2*O+2*T]+=j*J,w(b,2*O+2*T),b[2*O+2*T+1]+=N*J,w(b,2*O+2*T+1),b[2*O+2*T+1]+=j*K,w(b,2*O+2*T+1),b[2*O+2*T+2]+=N*K,w(b,2*O+2*T+2)}for(O=0;O<A;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=A;O<2*A;O++)b[O]=0;return new s(b,0)};function w(E,A){for(;(E[A]&65535)!=E[A];)E[A+1]+=E[A]>>>16,E[A]&=65535,A++}function _(E,A){this.g=E,this.h=A}function I(E,A){if(g(A))throw Error("division by zero");if(g(E))return new _(f,f);if(m(E))return A=I(v(E),A),new _(v(A.g),v(A.h));if(m(A))return A=I(E,v(A)),new _(v(A.g),A.h);if(30<E.g.length){if(m(E)||m(A))throw Error("slowDivide_ only works with positive integers.");for(var b=h,O=A;0>=O.l(E);)b=P(b),O=P(O);var T=D(b,1),N=D(O,1);for(O=D(O,2),b=D(b,2);!g(O);){var j=N.add(O);0>=j.l(E)&&(T=T.add(b),N=j),O=D(O,1),b=D(b,1)}return A=y(E,T.j(A)),new _(T,A)}for(T=f;0<=E.l(A);){for(b=Math.max(1,Math.floor(E.m()/A.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),N=c(b),j=N.j(A);m(j)||0<j.l(E);)b-=O,N=c(b),j=N.j(A);g(N)&&(N=h),T=T.add(N),E=y(E,j)}return new _(T,E)}e.A=function(E){return I(this,E).h},e.and=function(E){for(var A=Math.max(this.g.length,E.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)&E.i(O);return new s(b,this.h&E.h)},e.or=function(E){for(var A=Math.max(this.g.length,E.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)|E.i(O);return new s(b,this.h|E.h)},e.xor=function(E){for(var A=Math.max(this.g.length,E.g.length),b=[],O=0;O<A;O++)b[O]=this.i(O)^E.i(O);return new s(b,this.h^E.h)};function P(E){for(var A=E.g.length+1,b=[],O=0;O<A;O++)b[O]=E.i(O)<<1|E.i(O-1)>>>31;return new s(b,E.h)}function D(E,A){var b=A>>5;A%=32;for(var O=E.g.length-b,T=[],N=0;N<O;N++)T[N]=0<A?E.i(N+b)>>>A|E.i(N+b+1)<<32-A:E.i(N+b);return new s(T,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,c9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,cf=s}).apply(typeof EO<"u"?EO:typeof self<"u"?self:typeof window<"u"?window:{});var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u9,rg,f9,Yx,j4,h9,d9,p9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(S,F,Q){return S==Array.prototype||S==Object.prototype||(S[F]=Q.value),S};function r(S){S=[typeof globalThis=="object"&&globalThis,S,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xy=="object"&&Xy];for(var F=0;F<S.length;++F){var Q=S[F];if(Q&&Q.Math==Math)return Q}throw Error("Cannot find global object")}var n=r(this);function a(S,F){if(F)e:{var Q=n;S=S.split(".");for(var ue=0;ue<S.length-1;ue++){var je=S[ue];if(!(je in Q))break e;Q=Q[je]}S=S[S.length-1],ue=Q[S],F=F(ue),F!=ue&&F!=null&&t(Q,S,{configurable:!0,writable:!0,value:F})}}function i(S,F){S instanceof String&&(S+="");var Q=0,ue=!1,je={next:function(){if(!ue&&Q<S.length){var We=Q++;return{value:F(We,S[We]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return je[Symbol.iterator]=function(){return je},je}a("Array.prototype.values",function(S){return S||function(){return i(this,function(F,Q){return Q})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(S){var F=typeof S;return F=F!="object"?F:S?Array.isArray(S)?"array":F:"null",F=="array"||F=="object"&&typeof S.length=="number"}function c(S){var F=typeof S;return F=="object"&&S!=null||F=="function"}function u(S,F,Q){return S.call.apply(S.bind,arguments)}function f(S,F,Q){if(!S)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var je=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(je,ue),S.apply(F,je)}}return function(){return S.apply(F,arguments)}}function h(S,F,Q){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(S,F){var Q=Array.prototype.slice.call(arguments,1);return function(){var ue=Q.slice();return ue.push.apply(ue,arguments),S.apply(this,ue)}}function g(S,F){function Q(){}Q.prototype=F.prototype,S.aa=F.prototype,S.prototype=new Q,S.prototype.constructor=S,S.Qb=function(ue,je,We){for(var vt=Array(arguments.length-2),hr=2;hr<arguments.length;hr++)vt[hr-2]=arguments[hr];return F.prototype[je].apply(ue,vt)}}function m(S){const F=S.length;if(0<F){const Q=Array(F);for(let ue=0;ue<F;ue++)Q[ue]=S[ue];return Q}return[]}function v(S,F){for(let Q=1;Q<arguments.length;Q++){const ue=arguments[Q];if(l(ue)){const je=S.length||0,We=ue.length||0;S.length=je+We;for(let vt=0;vt<We;vt++)S[je+vt]=ue[vt]}else S.push(ue)}}class y{constructor(F,Q){this.i=F,this.j=Q,this.h=0,this.g=null}get(){let F;return 0<this.h?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(S){return/^[\s\xa0]*$/.test(S)}function _(){var S=o.navigator;return S&&(S=S.userAgent)?S:""}function I(S){return I[" "](S),S}I[" "]=function(){};var P=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function D(S,F,Q){for(const ue in S)F.call(Q,S[ue],ue,S)}function E(S,F){for(const Q in S)F.call(void 0,S[Q],Q,S)}function A(S){const F={};for(const Q in S)F[Q]=S[Q];return F}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(S,F){let Q,ue;for(let je=1;je<arguments.length;je++){ue=arguments[je];for(Q in ue)S[Q]=ue[Q];for(let We=0;We<b.length;We++)Q=b[We],Object.prototype.hasOwnProperty.call(ue,Q)&&(S[Q]=ue[Q])}}function T(S){var F=1;S=S.split(":");const Q=[];for(;0<F&&S.length;)Q.push(S.shift()),F--;return S.length&&Q.push(S.join(":")),Q}function N(S){o.setTimeout(()=>{throw S},0)}function j(){var S=U;let F=null;return S.g&&(F=S.g,S.g=S.g.next,S.g||(S.h=null),F.next=null),F}class K{constructor(){this.h=this.g=null}add(F,Q){const ue=J.get();ue.set(F,Q),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var J=new y(()=>new X,S=>S.reset());class X{constructor(){this.next=this.g=this.h=null}set(F,Q){this.h=F,this.g=Q,this.next=null}reset(){this.next=this.g=this.h=null}}let Z,q=!1,U=new K,te=()=>{const S=o.Promise.resolve(void 0);Z=()=>{S.then(z)}};var z=()=>{for(var S;S=j();){try{S.h.call(S.g)}catch(Q){N(Q)}var F=J;F.j(S),100>F.h&&(F.h++,S.next=F.g,F.g=S)}q=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(S,F){this.type=S,this.g=this.target=F,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var S=!1,F=Object.defineProperty({},"passive",{get:function(){S=!0}});try{const Q=()=>{};o.addEventListener("test",Q,F),o.removeEventListener("test",Q,F)}catch{}return S}();function G(S,F){if(R.call(this,S?S.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,S){var Q=this.type=S.type,ue=S.changedTouches&&S.changedTouches.length?S.changedTouches[0]:null;if(this.target=S.target||S.srcElement,this.g=F,F=S.relatedTarget){if(P){e:{try{I(F.nodeName);var je=!0;break e}catch{}je=!1}je||(F=null)}}else Q=="mouseover"?F=S.fromElement:Q=="mouseout"&&(F=S.toElement);this.relatedTarget=F,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0),this.button=S.button,this.key=S.key||"",this.ctrlKey=S.ctrlKey,this.altKey=S.altKey,this.shiftKey=S.shiftKey,this.metaKey=S.metaKey,this.pointerId=S.pointerId||0,this.pointerType=typeof S.pointerType=="string"?S.pointerType:Y[S.pointerType]||"",this.state=S.state,this.i=S,S.defaultPrevented&&G.aa.h.call(this)}}g(G,R);var Y={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var S=this.i;S.preventDefault?S.preventDefault():S.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ce=0;function re(S,F,Q,ue,je){this.listener=S,this.proxy=null,this.src=F,this.type=Q,this.capture=!!ue,this.ha=je,this.key=++ce,this.da=this.fa=!1}function he(S){S.da=!0,S.listener=null,S.proxy=null,S.src=null,S.ha=null}function be(S){this.src=S,this.g={},this.h=0}be.prototype.add=function(S,F,Q,ue,je){var We=S.toString();S=this.g[We],S||(S=this.g[We]=[],this.h++);var vt=Te(S,F,ue,je);return-1<vt?(F=S[vt],Q||(F.fa=!1)):(F=new re(F,this.src,We,!!ue,je),F.fa=Q,S.push(F)),F};function B(S,F){var Q=F.type;if(Q in S.g){var ue=S.g[Q],je=Array.prototype.indexOf.call(ue,F,void 0),We;(We=0<=je)&&Array.prototype.splice.call(ue,je,1),We&&(he(F),S.g[Q].length==0&&(delete S.g[Q],S.h--))}}function Te(S,F,Q,ue){for(var je=0;je<S.length;++je){var We=S[je];if(!We.da&&We.listener==F&&We.capture==!!Q&&We.ha==ue)return je}return-1}var _e="closure_lm_"+(1e6*Math.random()|0),ge={};function ee(S,F,Q,ue,je){if(Array.isArray(F)){for(var We=0;We<F.length;We++)ee(S,F[We],Q,ue,je);return null}return Q=ct(Q),S&&S[se]?S.K(F,Q,c(ue)?!!ue.capture:!!ue,je):Ae(S,F,Q,!1,ue,je)}function Ae(S,F,Q,ue,je,We){if(!F)throw Error("Invalid event type");var vt=c(je)?!!je.capture:!!je,hr=Fe(S);if(hr||(S[_e]=hr=new be(S)),Q=hr.add(F,Q,ue,vt,We),Q.proxy)return Q;if(ue=Oe(),Q.proxy=ue,ue.src=S,ue.listener=Q,S.addEventListener)V||(je=vt),je===void 0&&(je=!1),S.addEventListener(F.toString(),ue,je);else if(S.attachEvent)S.attachEvent($e(F.toString()),ue);else if(S.addListener&&S.removeListener)S.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return Q}function Oe(){function S(Q){return F.call(S.src,S.listener,Q)}const F=Xe;return S}function Me(S,F,Q,ue,je){if(Array.isArray(F))for(var We=0;We<F.length;We++)Me(S,F[We],Q,ue,je);else ue=c(ue)?!!ue.capture:!!ue,Q=ct(Q),S&&S[se]?(S=S.i,F=String(F).toString(),F in S.g&&(We=S.g[F],Q=Te(We,Q,ue,je),-1<Q&&(he(We[Q]),Array.prototype.splice.call(We,Q,1),We.length==0&&(delete S.g[F],S.h--)))):S&&(S=Fe(S))&&(F=S.g[F.toString()],S=-1,F&&(S=Te(F,Q,ue,je)),(Q=-1<S?F[S]:null)&&Ke(Q))}function Ke(S){if(typeof S!="number"&&S&&!S.da){var F=S.src;if(F&&F[se])B(F.i,S);else{var Q=S.type,ue=S.proxy;F.removeEventListener?F.removeEventListener(Q,ue,S.capture):F.detachEvent?F.detachEvent($e(Q),ue):F.addListener&&F.removeListener&&F.removeListener(ue),(Q=Fe(F))?(B(Q,S),Q.h==0&&(Q.src=null,F[_e]=null)):he(S)}}}function $e(S){return S in ge?ge[S]:ge[S]="on"+S}function Xe(S,F){if(S.da)S=!0;else{F=new G(F,this);var Q=S.listener,ue=S.ha||S.src;S.fa&&Ke(S),S=Q.call(ue,F)}return S}function Fe(S){return S=S[_e],S instanceof be?S:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(S){return typeof S=="function"?S:(S[Qe]||(S[Qe]=function(F){return S.handleEvent(F)}),S[Qe])}function rt(){C.call(this),this.i=new be(this),this.M=this,this.F=null}g(rt,C),rt.prototype[se]=!0,rt.prototype.removeEventListener=function(S,F,Q,ue){Me(this,S,F,Q,ue)};function gt(S,F){var Q,ue=S.F;if(ue)for(Q=[];ue;ue=ue.F)Q.push(ue);if(S=S.M,ue=F.type||F,typeof F=="string")F=new R(F,S);else if(F instanceof R)F.target=F.target||S;else{var je=F;F=new R(ue,S),O(F,je)}if(je=!0,Q)for(var We=Q.length-1;0<=We;We--){var vt=F.g=Q[We];je=yt(vt,ue,!0,F)&&je}if(vt=F.g=S,je=yt(vt,ue,!0,F)&&je,je=yt(vt,ue,!1,F)&&je,Q)for(We=0;We<Q.length;We++)vt=F.g=Q[We],je=yt(vt,ue,!1,F)&&je}rt.prototype.N=function(){if(rt.aa.N.call(this),this.i){var S=this.i,F;for(F in S.g){for(var Q=S.g[F],ue=0;ue<Q.length;ue++)he(Q[ue]);delete S.g[F],S.h--}}this.F=null},rt.prototype.K=function(S,F,Q,ue){return this.i.add(String(S),F,!1,Q,ue)},rt.prototype.L=function(S,F,Q,ue){return this.i.add(String(S),F,!0,Q,ue)};function yt(S,F,Q,ue){if(F=S.i.g[String(F)],!F)return!0;F=F.concat();for(var je=!0,We=0;We<F.length;++We){var vt=F[We];if(vt&&!vt.da&&vt.capture==Q){var hr=vt.listener,Tr=vt.ha||vt.src;vt.fa&&B(S.i,vt),je=hr.call(Tr,ue)!==!1&&je}}return je&&!ue.defaultPrevented}function At(S,F,Q){if(typeof S=="function")Q&&(S=h(S,Q));else if(S&&typeof S.handleEvent=="function")S=h(S.handleEvent,S);else throw Error("Invalid listener argument");return 2147483647<Number(F)?-1:o.setTimeout(S,F||0)}function xt(S){S.g=At(()=>{S.g=null,S.i&&(S.i=!1,xt(S))},S.l);const F=S.h;S.h=null,S.m.apply(null,F)}class nt extends C{constructor(F,Q){super(),this.m=F,this.l=Q,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qt(S){C.call(this),this.h=S,this.g={}}g(qt,C);var $t=[];function Hr(S){D(S.g,function(F,Q){this.g.hasOwnProperty(Q)&&Ke(F)},S),S.g={}}qt.prototype.N=function(){qt.aa.N.call(this),Hr(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ke=o.JSON.stringify,Je=o.JSON.parse,kt=class{stringify(S){return o.JSON.stringify(S,void 0)}parse(S){return o.JSON.parse(S,void 0)}};function Pt(){}Pt.prototype.h=null;function fr(S){return S.h||(S.h=S.i())}function vr(){}var Cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pn(){R.call(this,"d")}g(pn,R);function Pr(){R.call(this,"c")}g(Pr,R);var Ht={},Sr=null;function qa(){return Sr=Sr||new rt}Ht.La="serverreachability";function In(S){R.call(this,Ht.La,S)}g(In,R);function Ee(S){const F=qa();gt(F,new In(F))}Ht.STAT_EVENT="statevent";function bt(S,F){R.call(this,Ht.STAT_EVENT,S),this.stat=F}g(bt,R);function Ye(S){const F=qa();gt(F,new bt(F,S))}Ht.Ma="timingevent";function Gt(S,F){R.call(this,Ht.Ma,S),this.size=F}g(Gt,R);function Ct(S,F){if(typeof S!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){S()},F)}function ft(){this.g=!0}ft.prototype.xa=function(){this.g=!1};function Nt(S,F,Q,ue,je,We){S.info(function(){if(S.g)if(We)for(var vt="",hr=We.split("&"),Tr=0;Tr<hr.length;Tr++){var dr=hr[Tr].split("=");if(1<dr.length){var Jr=dr[0];dr=dr[1];var mn=Jr.split("_");vt=2<=mn.length&&mn[1]=="type"?vt+(Jr+"="+dr+"&"):vt+(Jr+"=redacted&")}}else vt=null;else vt=We;return"XMLHTTP REQ ("+ue+") [attempt "+je+"]: "+F+`
`+Q+`
`+vt})}function gr(S,F,Q,ue,je,We,vt){S.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+je+"]: "+F+`
`+Q+`
`+We+" "+vt})}function ie(S,F,Q,ue){S.info(function(){return"XMLHTTP TEXT ("+F+"): "+pe(S,Q)+(ue?" "+ue:"")})}function xe(S,F){S.info(function(){return"TIMEOUT: "+F})}ft.prototype.info=function(){};function pe(S,F){if(!S.g)return F;if(!F)return null;try{var Q=JSON.parse(F);if(Q){for(S=0;S<Q.length;S++)if(Array.isArray(Q[S])){var ue=Q[S];if(!(2>ue.length)){var je=ue[1];if(Array.isArray(je)&&!(1>je.length)){var We=je[0];if(We!="noop"&&We!="stop"&&We!="close")for(var vt=1;vt<je.length;vt++)je[vt]=""}}}}return ke(Q)}catch{return F}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ye={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Be(){}g(Be,Pt),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},we=new Be;function Ge(S,F,Q,ue){this.j=S,this.i=F,this.l=Q,this.R=ue||1,this.U=new qt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Ue={},He={};function pt(S,F,Q){S.L=1,S.v=Yl(ji(F)),S.m=Q,S.P=!0,Tt(S,null)}function Tt(S,F){S.F=Date.now(),Ot(S),S.A=ji(S.v);var Q=S.A,ue=S.R;Array.isArray(ue)||(ue=[String(ue)]),nr(Q.i,"t",ue),S.C=0,Q=S.j.J,S.h=new Ve,S.g=ne(S.j,Q?F:null,!S.m),0<S.O&&(S.M=new nt(h(S.Y,S,S.g),S.O)),F=S.U,Q=S.g,ue=S.ca;var je="readystatechange";Array.isArray(je)||(je&&($t[0]=je.toString()),je=$t);for(var We=0;We<je.length;We++){var vt=ee(Q,je[We],ue||F.handleEvent,!1,F.h||F);if(!vt)break;F.g[vt.key]=vt}F=S.H?A(S.H):{},S.m?(S.u||(S.u="POST"),F["Content-Type"]="application/x-www-form-urlencoded",S.g.ea(S.A,S.u,S.m,F)):(S.u="GET",S.g.ea(S.A,S.u,null,F)),Ee(),Nt(S.i,S.u,S.A,S.l,S.R,S.m)}Ge.prototype.ca=function(S){S=S.target;const F=this.M;F&&ba(S)==3?F.j():this.Y(S)},Ge.prototype.Y=function(S){try{if(S==this.g)e:{const mn=ba(this.g);var F=this.g.Ba();const Io=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||Ed(this.g)))){this.J||mn!=4||F==7||(F==8||0>=Io?Ee(3):Ee(2)),jr(this);var Q=this.g.Z();this.X=Q;t:if(Lt(this)){var ue=Ed(this.g);S="";var je=ue.length,We=ba(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),Lr(this);var vt="";break t}this.h.i=new o.TextDecoder}for(F=0;F<je;F++)this.h.h=!0,S+=this.h.i.decode(ue[F],{stream:!(We&&F==je-1)});ue.length=0,this.h.g+=S,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=Q==200,gr(this.i,this.u,this.A,this.l,this.R,mn,Q),this.o){if(this.T&&!this.K){t:{if(this.g){var hr,Tr=this.g;if((hr=Tr.g?Tr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(hr)){var dr=hr;break t}}dr=null}if(Q=dr)ie(this.i,this.l,Q,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,Q);else{this.o=!1,this.s=3,Ye(12),cn(this),Lr(this);break e}}if(this.P){Q=!0;let Ga;for(;!this.J&&this.C<vt.length;)if(Ga=_t(this,vt),Ga==He){mn==4&&(this.s=4,Ye(14),Q=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if(Ga==Ue){this.s=4,Ye(15),ie(this.i,this.l,vt,"[Invalid Chunk]"),Q=!1;break}else ie(this.i,this.l,Ga,null),Di(this,Ga);if(Lt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||vt.length!=0||this.h.h||(this.s=1,Ye(16),Q=!1),this.o=this.o&&Q,!Q)ie(this.i,this.l,vt,"[Invalid Chunked Response]"),cn(this),Lr(this);else if(0<vt.length&&!this.W){this.W=!0;var Jr=this.j;Jr.g==this&&Jr.ba&&!Jr.M&&(Jr.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),hu(Jr),Jr.M=!0,Ye(11))}}else ie(this.i,this.l,vt,null),Di(this,vt);mn==4&&cn(this),this.o&&!this.J&&(mn==4?gl(this.j,this):(this.o=!1,Ot(this)))}else pl(this.g),Q==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Ye(12)):(this.s=0,Ye(13)),cn(this),Lr(this)}}}catch{}finally{}};function Lt(S){return S.g?S.u=="GET"&&S.L!=2&&S.j.Ca:!1}function _t(S,F){var Q=S.C,ue=F.indexOf(`
`,Q);return ue==-1?He:(Q=Number(F.substring(Q,ue)),isNaN(Q)?Ue:(ue+=1,ue+Q>F.length?He:(F=F.slice(ue,ue+Q),S.C=ue+Q,F)))}Ge.prototype.cancel=function(){this.J=!0,cn(this)};function Ot(S){S.S=Date.now()+S.I,Qt(S,S.I)}function Qt(S,F){if(S.B!=null)throw Error("WatchDog timer not null");S.B=Ct(h(S.ba,S),F)}function jr(S){S.B&&(o.clearTimeout(S.B),S.B=null)}Ge.prototype.ba=function(){this.B=null;const S=Date.now();0<=S-this.S?(xe(this.i,this.A),this.L!=2&&(Ee(),Ye(17)),cn(this),this.s=2,Lr(this)):Qt(this,this.S-S)};function Lr(S){S.j.G==0||S.J||gl(S.j,S)}function cn(S){jr(S);var F=S.M;F&&typeof F.ma=="function"&&F.ma(),S.M=null,Hr(S.U),S.g&&(F=S.g,S.g=null,F.abort(),F.ma())}function Di(S,F){try{var Q=S.j;if(Q.G!=0&&(Q.g==S||Wa(Q.h,S))){if(!S.K&&Wa(Q.h,S)&&Q.G==3){try{var ue=Q.Da.g.parse(F)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var je=ue;if(je[0]==0){e:if(!Q.u){if(Q.g)if(Q.g.F+3e3<S.F)Oo(Q),lu(Q);else break e;ec(Q),Ye(18)}}else Q.za=je[1],0<Q.za-Q.T&&37500>je[2]&&Q.F&&Q.v==0&&!Q.C&&(Q.C=Ct(h(Q.Za,Q),6e3));if(1>=bs(Q.h)&&Q.ca){try{Q.ca()}catch{}Q.ca=void 0}}else ci(Q,11)}else if((S.K||Q.g==S)&&Oo(Q),!w(F))for(je=Q.Da.g.parse(F),F=0;F<je.length;F++){let dr=je[F];if(Q.T=dr[0],dr=dr[1],Q.G==2)if(dr[0]=="c"){Q.K=dr[1],Q.ia=dr[2];const Jr=dr[3];Jr!=null&&(Q.la=Jr,Q.j.info("VER="+Q.la));const mn=dr[4];mn!=null&&(Q.Aa=mn,Q.j.info("SVER="+Q.Aa));const Io=dr[5];Io!=null&&typeof Io=="number"&&0<Io&&(ue=1.5*Io,Q.L=ue,Q.j.info("backChannelRequestTimeoutMs_="+ue)),ue=Q;const Ga=S.g;if(Ga){const vl=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var We=ue.h;We.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(An(We,We.h),We.h=null))}if(ue.D){const yl=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(ue.ya=yl,tn(ue.I,ue.D,yl))}}Q.G=3,Q.l&&Q.l.ua(),Q.ba&&(Q.R=Date.now()-S.F,Q.j.info("Handshake RTT: "+Q.R+"ms")),ue=Q;var vt=S;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),vt.K){zf(ue.h,vt);var hr=vt,Tr=ue.L;Tr&&(hr.I=Tr),hr.B&&(jr(hr),Ot(hr)),ue.g=vt}else fu(ue);0<Q.i.length&&cu(Q)}else dr[0]!="stop"&&dr[0]!="close"||ci(Q,7);else Q.G==3&&(dr[0]=="stop"||dr[0]=="close"?dr[0]=="stop"?ci(Q,7):Po(Q):dr[0]!="noop"&&Q.l&&Q.l.ta(dr),Q.v=0)}}Ee(4)}catch{}}var To=class{constructor(S,F){this.g=S,this.map=F}};function xs(S){this.l=S||10,o.PerformanceNavigationTiming?(S=o.performance.getEntriesByType("navigation"),S=0<S.length&&(S[0].nextHopProtocol=="hq"||S[0].nextHopProtocol=="h2")):S=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=S?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zi(S){return S.h?!0:S.g?S.g.size>=S.j:!1}function bs(S){return S.h?1:S.g?S.g.size:0}function Wa(S,F){return S.h?S.h==F:S.g?S.g.has(F):!1}function An(S,F){S.g?S.g.add(F):S.h=F}function zf(S,F){S.h&&S.h==F?S.h=null:S.g&&S.g.has(F)&&S.g.delete(F)}xs.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const S of this.g.values())S.cancel();this.g.clear()}};function qf(S){if(S.h!=null)return S.i.concat(S.h.D);if(S.g!=null&&S.g.size!==0){let F=S.i;for(const Q of S.g.values())F=F.concat(Q.D);return F}return m(S.i)}function bd(S){if(S.V&&typeof S.V=="function")return S.V();if(typeof Map<"u"&&S instanceof Map||typeof Set<"u"&&S instanceof Set)return Array.from(S.values());if(typeof S=="string")return S.split("");if(l(S)){for(var F=[],Q=S.length,ue=0;ue<Q;ue++)F.push(S[ue]);return F}F=[],Q=0;for(ue in S)F[Q++]=S[ue];return F}function Wf(S){if(S.na&&typeof S.na=="function")return S.na();if(!S.V||typeof S.V!="function"){if(typeof Map<"u"&&S instanceof Map)return Array.from(S.keys());if(!(typeof Set<"u"&&S instanceof Set)){if(l(S)||typeof S=="string"){var F=[];S=S.length;for(var Q=0;Q<S;Q++)F.push(Q);return F}F=[],Q=0;for(const ue in S)F[Q++]=ue;return F}}}function wd(S,F){if(S.forEach&&typeof S.forEach=="function")S.forEach(F,void 0);else if(l(S)||typeof S=="string")Array.prototype.forEach.call(S,F,void 0);else for(var Q=Wf(S),ue=bd(S),je=ue.length,We=0;We<je;We++)F.call(void 0,ue[We],Q&&Q[We],S)}var es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zc(S,F){if(S){S=S.split("&");for(var Q=0;Q<S.length;Q++){var ue=S[Q].indexOf("="),je=null;if(0<=ue){var We=S[Q].substring(0,ue);je=S[Q].substring(ue+1)}else We=S[Q];F(We,je?decodeURIComponent(je.replace(/\+/g," ")):"")}}}function qn(S){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,S instanceof qn){this.h=S.h,Kl(this,S.j),this.o=S.o,this.g=S.g,eu(this,S.s),this.l=S.l;var F=S.i,Q=new hl;Q.i=F.i,F.g&&(Q.g=new Map(F.g),Q.h=F.h),Hf(this,Q),this.m=S.m}else S&&(F=String(S).match(es))?(this.h=!1,Kl(this,F[1]||"",!0),this.o=Xl(F[2]||""),this.g=Xl(F[3]||"",!0),eu(this,F[4]),this.l=Xl(F[5]||"",!0),Hf(this,F[6]||"",!0),this.m=Xl(F[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}qn.prototype.toString=function(){var S=[],F=this.j;F&&S.push(Eo(F,_d,!0),":");var Q=this.g;return(Q||F=="file")&&(S.push("//"),(F=this.o)&&S.push(Eo(F,_d,!0),"@"),S.push(encodeURIComponent(String(Q)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Q=this.s,Q!=null&&S.push(":",String(Q))),(Q=this.l)&&(this.g&&Q.charAt(0)!="/"&&S.push("/"),S.push(Eo(Q,Q.charAt(0)=="/"?ko:fm,!0))),(Q=this.i.toString())&&S.push("?",Q),(Q=this.m)&&S.push("#",Eo(Q,ru)),S.join("")};function ji(S){return new qn(S)}function Kl(S,F,Q){S.j=Q?Xl(F,!0):F,S.j&&(S.j=S.j.replace(/:$/,""))}function eu(S,F){if(F){if(F=Number(F),isNaN(F)||0>F)throw Error("Bad port number "+F);S.s=F}else S.s=null}function Hf(S,F,Q){F instanceof hl?(S.i=F,hm(S.i,S.h)):(Q||(F=Eo(F,tu)),S.i=new hl(F,S.h))}function tn(S,F,Q){S.i.set(F,Q)}function Yl(S){return tn(S,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),S}function Xl(S,F){return S?F?decodeURI(S.replace(/%25/g,"%2525")):decodeURIComponent(S):""}function Eo(S,F,Q){return typeof S=="string"?(S=encodeURI(S).replace(F,um),Q&&(S=S.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S):null}function um(S){return S=S.charCodeAt(0),"%"+(S>>4&15).toString(16)+(S&15).toString(16)}var _d=/[#\/\?@]/g,fm=/[#\?:]/g,ko=/[#\?]/g,tu=/[#\?@]/g,ru=/#/g;function hl(S,F){this.h=this.g=null,this.i=S||null,this.j=!!F}function Tn(S){S.g||(S.g=new Map,S.h=0,S.i&&Zc(S.i,function(F,Q){S.add(decodeURIComponent(F.replace(/\+/g," ")),Q)}))}e=hl.prototype,e.add=function(S,F){Tn(this),this.i=null,S=dl(this,S);var Q=this.g.get(S);return Q||this.g.set(S,Q=[]),Q.push(F),this.h+=1,this};function Sd(S,F){Tn(S),F=dl(S,F),S.g.has(F)&&(S.i=null,S.h-=S.g.get(F).length,S.g.delete(F))}function Gf(S,F){return Tn(S),F=dl(S,F),S.g.has(F)}e.forEach=function(S,F){Tn(this),this.g.forEach(function(Q,ue){Q.forEach(function(je){S.call(F,je,ue,this)},this)},this)},e.na=function(){Tn(this);const S=Array.from(this.g.values()),F=Array.from(this.g.keys()),Q=[];for(let ue=0;ue<F.length;ue++){const je=S[ue];for(let We=0;We<je.length;We++)Q.push(F[ue])}return Q},e.V=function(S){Tn(this);let F=[];if(typeof S=="string")Gf(this,S)&&(F=F.concat(this.g.get(dl(this,S))));else{S=Array.from(this.g.values());for(let Q=0;Q<S.length;Q++)F=F.concat(S[Q])}return F},e.set=function(S,F){return Tn(this),this.i=null,S=dl(this,S),Gf(this,S)&&(this.h-=this.g.get(S).length),this.g.set(S,[F]),this.h+=1,this},e.get=function(S,F){return S?(S=this.V(S),0<S.length?String(S[0]):F):F};function nr(S,F,Q){Sd(S,F),0<Q.length&&(S.i=null,S.g.set(dl(S,F),m(Q)),S.h+=Q.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const S=[],F=Array.from(this.g.keys());for(var Q=0;Q<F.length;Q++){var ue=F[Q];const We=encodeURIComponent(String(ue)),vt=this.V(ue);for(ue=0;ue<vt.length;ue++){var je=We;vt[ue]!==""&&(je+="="+encodeURIComponent(String(vt[ue]))),S.push(je)}}return this.i=S.join("&")};function dl(S,F){return F=String(F),S.j&&(F=F.toLowerCase()),F}function hm(S,F){F&&!S.j&&(Tn(S),S.i=null,S.g.forEach(function(Q,ue){var je=ue.toLowerCase();ue!=je&&(Sd(this,ue),nr(this,je,Q))},S)),S.j=F}function Hs(S,F){const Q=new ft;if(o.Image){const ue=new Image;ue.onload=d(ws,Q,"TestLoadImage: loaded",!0,F,ue),ue.onerror=d(ws,Q,"TestLoadImage: error",!1,F,ue),ue.onabort=d(ws,Q,"TestLoadImage: abort",!1,F,ue),ue.ontimeout=d(ws,Q,"TestLoadImage: timeout",!1,F,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=S}else F(!1)}function Ad(S,F){const Q=new ft,ue=new AbortController,je=setTimeout(()=>{ue.abort(),ws(Q,"TestPingServer: timeout",!1,F)},1e4);fetch(S,{signal:ue.signal}).then(We=>{clearTimeout(je),We.ok?ws(Q,"TestPingServer: ok",!0,F):ws(Q,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(je),ws(Q,"TestPingServer: error",!1,F)})}function ws(S,F,Q,ue,je){try{je&&(je.onload=null,je.onerror=null,je.onabort=null,je.ontimeout=null),ue(Q)}catch{}}function nu(){this.g=new kt}function Kf(S,F,Q){const ue=Q||"";try{wd(S,function(je,We){let vt=je;c(je)&&(vt=ke(je)),F.push(ue+We+"="+encodeURIComponent(vt))})}catch(je){throw F.push(ue+"type="+encodeURIComponent("_badmap")),je}}function au(S){this.l=S.Ub||null,this.j=S.eb||!1}g(au,Pt),au.prototype.g=function(){return new iu(this.l,this.j)},au.prototype.i=function(S){return function(){return S}}({});function iu(S,F){rt.call(this),this.D=S,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(iu,rt),e=iu.prototype,e.open=function(S,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=S,this.A=F,this.readyState=1,_s(this)},e.send=function(S){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const F={headers:this.u,method:this.B,credentials:this.m,cache:void 0};S&&(F.body=S),(this.D||o).fetch(new Request(this.A,F)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,No(this)),this.readyState=0},e.Sa=function(S){if(this.g&&(this.l=S,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=S.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")S.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in S){if(this.j=S.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Td(this)}else S.text().then(this.Ra.bind(this),this.ga.bind(this))};function Td(S){S.j.read().then(S.Pa.bind(S)).catch(S.ga.bind(S))}e.Pa=function(S){if(this.g){if(this.o&&S.value)this.response.push(S.value);else if(!this.o){var F=S.value?S.value:new Uint8Array(0);(F=this.v.decode(F,{stream:!S.done}))&&(this.response=this.responseText+=F)}S.done?No(this):_s(this),this.readyState==3&&Td(this)}},e.Ra=function(S){this.g&&(this.response=this.responseText=S,No(this))},e.Qa=function(S){this.g&&(this.response=S,No(this))},e.ga=function(){this.g&&No(this)};function No(S){S.readyState=4,S.l=null,S.j=null,S.v=null,_s(S)}e.setRequestHeader=function(S,F){this.u.append(S,F)},e.getResponseHeader=function(S){return this.h&&this.h.get(S.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const S=[],F=this.h.entries();for(var Q=F.next();!Q.done;)Q=Q.value,S.push(Q[0]+": "+Q[1]),Q=F.next();return S.join(`\r
`)};function _s(S){S.onreadystatechange&&S.onreadystatechange.call(S)}Object.defineProperty(iu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(S){this.m=S?"include":"same-origin"}});function Co(S){let F="";return D(S,function(Q,ue){F+=ue,F+=":",F+=Q,F+=`\r
`}),F}function Yf(S,F,Q){e:{for(ue in Q){var ue=!1;break e}ue=!0}ue||(Q=Co(Q),typeof S=="string"?Q!=null&&encodeURIComponent(String(Q)):tn(S,F,Q))}function Qr(S){rt.call(this),this.headers=new Map,this.o=S||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Qr,rt);var Xf=/^https?$/i,su=["POST","PUT"];e=Qr.prototype,e.Ha=function(S){this.J=S},e.ea=function(S,F,Q,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+S);F=F?F.toUpperCase():"GET",this.D=S,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?fr(this.o):fr(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(F,String(S),!0),this.B=!1}catch(We){Qf(this,We);return}if(S=Q||"",Q=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var je in ue)Q.set(je,ue[je]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const We of ue.keys())Q.set(We,ue.get(We));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(Q.keys()).find(We=>We.toLowerCase()=="content-type"),je=o.FormData&&S instanceof o.FormData,!(0<=Array.prototype.indexOf.call(su,F,void 0))||ue||je||Q.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,vt]of Q)this.g.setRequestHeader(We,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(S),this.u=!1}catch(We){Qf(this,We)}};function Qf(S,F){S.h=!1,S.g&&(S.j=!0,S.g.abort(),S.j=!1),S.l=F,S.m=5,Jf(S),Ql(S)}function Jf(S){S.A||(S.A=!0,gt(S,"complete"),gt(S,"error"))}e.abort=function(S){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=S||7,gt(this,"complete"),gt(this,"abort"),Ql(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),Qr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zf(this):this.bb())},e.bb=function(){Zf(this)};function Zf(S){if(S.h&&typeof s<"u"&&(!S.v[1]||ba(S)!=4||S.Z()!=2)){if(S.u&&ba(S)==4)At(S.Ea,0,S);else if(gt(S,"readystatechange"),ba(S)==4){S.h=!1;try{const vt=S.Z();e:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var Q;if(!(Q=F)){var ue;if(ue=vt===0){var je=String(S.D).match(es)[1]||null;!je&&o.self&&o.self.location&&(je=o.self.location.protocol.slice(0,-1)),ue=!Xf.test(je?je.toLowerCase():"")}Q=ue}if(Q)gt(S,"complete"),gt(S,"success");else{S.m=6;try{var We=2<ba(S)?S.g.statusText:""}catch{We=""}S.l=We+" ["+S.Z()+"]",Jf(S)}}finally{Ql(S)}}}}function Ql(S,F){if(S.g){Ss(S);const Q=S.g,ue=S.v[0]?()=>{}:null;S.g=null,S.v=null,F||gt(S,"ready");try{Q.onreadystatechange=ue}catch{}}}function Ss(S){S.I&&(o.clearTimeout(S.I),S.I=null)}e.isActive=function(){return!!this.g};function ba(S){return S.g?S.g.readyState:0}e.Z=function(){try{return 2<ba(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(S){if(this.g){var F=this.g.responseText;return S&&F.indexOf(S)==0&&(F=F.substring(S.length)),Je(F)}};function Ed(S){try{if(!S.g)return null;if("response"in S.g)return S.g.response;switch(S.H){case"":case"text":return S.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in S.g)return S.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(S){const F={};S=(S.g&&2<=ba(S)&&S.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<S.length;ue++){if(w(S[ue]))continue;var Q=T(S[ue]);const je=Q[0];if(Q=Q[1],typeof Q!="string")continue;Q=Q.trim();const We=F[je]||[];F[je]=We,We.push(Q)}E(F,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(S,F,Q){return Q&&Q.internalChannelParams&&Q.internalChannelParams[S]||F}function ou(S){this.Aa=0,this.i=[],this.j=new ft,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,S),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,S),this.cb=Ha("retryDelaySeedMs",1e4,S),this.Wa=Ha("forwardChannelMaxRetries",2,S),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,S),this.pa=S&&S.xmlHttpFactory||void 0,this.Xa=S&&S.Tb||void 0,this.Ca=S&&S.useFetchStreams||!1,this.L=void 0,this.J=S&&S.supportsCrossDomainXhr||!1,this.K="",this.h=new xs(S&&S.concurrentRequestLimit),this.Da=new nu,this.P=S&&S.fastHandshake||!1,this.O=S&&S.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=S&&S.Rb||!1,S&&S.xa&&this.j.xa(),S&&S.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&S&&S.detectBufferingProxy||!1,this.ja=void 0,S&&S.longPollingTimeout&&0<S.longPollingTimeout&&(this.ja=S.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=ou.prototype,e.la=8,e.G=1,e.connect=function(S,F,Q,ue){Ye(0),this.W=S,this.H=F||{},Q&&ue!==void 0&&(this.H.OSID=Q,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),cu(this)};function Po(S){if(Jl(S),S.G==3){var F=S.U++,Q=ji(S.I);if(tn(Q,"SID",S.K),tn(Q,"RID",F),tn(Q,"TYPE","terminate"),ml(S,Q),F=new Ge(S,S.j,F),F.L=2,F.v=Yl(ji(Q)),Q=!1,o.navigator&&o.navigator.sendBeacon)try{Q=o.navigator.sendBeacon(F.v.toString(),"")}catch{}!Q&&o.Image&&(new Image().src=F.v,Q=!0),Q||(F.g=ne(F.j,null),F.g.ea(F.v)),F.F=Date.now(),Ot(F)}pu(S)}function lu(S){S.g&&(hu(S),S.g.cancel(),S.g=null)}function Jl(S){lu(S),S.u&&(o.clearTimeout(S.u),S.u=null),Oo(S),S.h.cancel(),S.s&&(typeof S.s=="number"&&o.clearTimeout(S.s),S.s=null)}function cu(S){if(!Zi(S.h)&&!S.s){S.s=!0;var F=S.Ga;Z||te(),q||(Z(),q=!0),U.add(F,S),S.B=0}}function eh(S,F){return bs(S.h)>=S.h.j-(S.s?1:0)?!1:S.s?(S.i=F.D.concat(S.i),!0):S.G==1||S.G==2||S.B>=(S.Va?0:S.Wa)?!1:(S.s=Ct(h(S.Ga,S,F),du(S,S.B)),S.B++,!0)}e.Ga=function(S){if(this.s)if(this.s=null,this.G==1){if(!S){this.U=Math.floor(1e5*Math.random()),S=this.U++;const je=new Ge(this,this.j,S);let We=this.o;if(this.S&&(We?(We=A(We),O(We,this.S)):We=this.S),this.m!==null||this.O||(je.H=We,We=null),this.P)e:{for(var F=0,Q=0;Q<this.i.length;Q++){t:{var ue=this.i[Q];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(F+=ue,4096<F){F=Q;break e}if(F===4096||Q===this.i.length-1){F=Q+1;break e}}F=1e3}else F=1e3;F=Zl(this,je,F),Q=ji(this.I),tn(Q,"RID",S),tn(Q,"CVER",22),this.D&&tn(Q,"X-HTTP-Session-Id",this.D),ml(this,Q),We&&(this.O?F="headers="+encodeURIComponent(String(Co(We)))+"&"+F:this.m&&Yf(Q,this.m,We)),An(this.h,je),this.Ua&&tn(Q,"TYPE","init"),this.P?(tn(Q,"$req",F),tn(Q,"SID","null"),je.T=!0,pt(je,Q,null)):pt(je,Q,F),this.G=2}}else this.G==3&&(S?uu(this,S):this.i.length==0||Zi(this.h)||uu(this))};function uu(S,F){var Q;F?Q=F.l:Q=S.U++;const ue=ji(S.I);tn(ue,"SID",S.K),tn(ue,"RID",Q),tn(ue,"AID",S.T),ml(S,ue),S.m&&S.o&&Yf(ue,S.m,S.o),Q=new Ge(S,S.j,Q,S.B+1),S.m===null&&(Q.H=S.o),F&&(S.i=F.D.concat(S.i)),F=Zl(S,Q,1e3),Q.I=Math.round(.5*S.wa)+Math.round(.5*S.wa*Math.random()),An(S.h,Q),pt(Q,ue,F)}function ml(S,F){S.H&&D(S.H,function(Q,ue){tn(F,ue,Q)}),S.l&&wd({},function(Q,ue){tn(F,ue,Q)})}function Zl(S,F,Q){Q=Math.min(S.i.length,Q);var ue=S.l?h(S.l.Na,S.l,S):null;e:{var je=S.i;let We=-1;for(;;){const vt=["count="+Q];We==-1?0<Q?(We=je[0].g,vt.push("ofs="+We)):We=0:vt.push("ofs="+We);let hr=!0;for(let Tr=0;Tr<Q;Tr++){let dr=je[Tr].g;const Jr=je[Tr].map;if(dr-=We,0>dr)We=Math.max(0,je[Tr].g-100),hr=!1;else try{Kf(Jr,vt,"req"+dr+"_")}catch{ue&&ue(Jr)}}if(hr){ue=vt.join("&");break e}}}return S=S.i.splice(0,Q),F.D=S,ue}function fu(S){if(!S.g&&!S.u){S.Y=1;var F=S.Fa;Z||te(),q||(Z(),q=!0),U.add(F,S),S.v=0}}function ec(S){return S.g||S.u||3<=S.v?!1:(S.Y++,S.u=Ct(h(S.Fa,S),du(S,S.v)),S.v++,!0)}e.Fa=function(){if(this.u=null,kd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var S=2*this.R;this.j.info("BP detection timer enabled: "+S),this.A=Ct(h(this.ab,this),S)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ye(10),lu(this),kd(this))};function hu(S){S.A!=null&&(o.clearTimeout(S.A),S.A=null)}function kd(S){S.g=new Ge(S,S.j,"rpc",S.Y),S.m===null&&(S.g.H=S.o),S.g.O=0;var F=ji(S.qa);tn(F,"RID","rpc"),tn(F,"SID",S.K),tn(F,"AID",S.T),tn(F,"CI",S.F?"0":"1"),!S.F&&S.ja&&tn(F,"TO",S.ja),tn(F,"TYPE","xmlhttp"),ml(S,F),S.m&&S.o&&Yf(F,S.m,S.o),S.L&&(S.g.I=S.L);var Q=S.g;S=S.ia,Q.L=1,Q.v=Yl(ji(F)),Q.m=null,Q.P=!0,Tt(Q,S)}e.Za=function(){this.C!=null&&(this.C=null,lu(this),ec(this),Ye(19))};function Oo(S){S.C!=null&&(o.clearTimeout(S.C),S.C=null)}function gl(S,F){var Q=null;if(S.g==F){Oo(S),hu(S),S.g=null;var ue=2}else if(Wa(S.h,F))Q=F.D,zf(S.h,F),ue=1;else return;if(S.G!=0){if(F.o)if(ue==1){Q=F.m?F.m.length:0,F=Date.now()-F.F;var je=S.B;ue=qa(),gt(ue,new Gt(ue,Q)),cu(S)}else fu(S);else if(je=F.s,je==3||je==0&&0<F.X||!(ue==1&&eh(S,F)||ue==2&&ec(S)))switch(Q&&0<Q.length&&(F=S.h,F.i=F.i.concat(Q)),je){case 1:ci(S,5);break;case 4:ci(S,10);break;case 3:ci(S,6);break;default:ci(S,2)}}}function du(S,F){let Q=S.Ta+Math.floor(Math.random()*S.cb);return S.isActive()||(Q*=2),Q*F}function ci(S,F){if(S.j.info("Error code "+F),F==2){var Q=h(S.fb,S),ue=S.Xa;const je=!ue;ue=new qn(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Kl(ue,"https"),Yl(ue),je?Hs(ue.toString(),Q):Ad(ue.toString(),Q)}else Ye(2);S.G=0,S.l&&S.l.sa(F),pu(S),Jl(S)}e.fb=function(S){S?(this.j.info("Successfully pinged google.com"),Ye(2)):(this.j.info("Failed to ping google.com"),Ye(1))};function pu(S){if(S.G=0,S.ka=[],S.l){const F=qf(S.h);(F.length!=0||S.i.length!=0)&&(v(S.ka,F),v(S.ka,S.i),S.h.i.length=0,m(S.i),S.i.length=0),S.l.ra()}}function L(S,F,Q){var ue=Q instanceof qn?ji(Q):new qn(Q);if(ue.g!="")F&&(ue.g=F+"."+ue.g),eu(ue,ue.s);else{var je=o.location;ue=je.protocol,F=F?F+"."+je.hostname:je.hostname,je=+je.port;var We=new qn(null);ue&&Kl(We,ue),F&&(We.g=F),je&&eu(We,je),Q&&(We.l=Q),ue=We}return Q=S.D,F=S.ya,Q&&F&&tn(ue,Q,F),tn(ue,"VER",S.la),ml(S,ue),ue}function ne(S,F,Q){if(F&&!S.J)throw Error("Can't create secondary domain capable XhrIo object.");return F=S.Ca&&!S.pa?new Qr(new au({eb:Q})):new Qr(S.pa),F.Ha(S.J),F}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Se(){}e=Se.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ne(){}Ne.prototype.g=function(S,F){return new Le(S,F)};function Le(S,F){rt.call(this),this.g=new ou(F),this.l=S,this.h=F&&F.messageUrlParams||null,S=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(S?S["X-Client-Protocol"]="webchannel":S={"X-Client-Protocol":"webchannel"}),this.g.o=S,S=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(S?S["X-WebChannel-Content-Type"]=F.messageContentType:S={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.va&&(S?S["X-WebChannel-Client-Profile"]=F.va:S={"X-WebChannel-Client-Profile":F.va}),this.g.S=S,(S=F&&F.Sb)&&!w(S)&&(this.g.m=S),this.v=F&&F.supportsCrossDomainXhr||!1,this.u=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!w(F)&&(this.g.D=F,S=this.h,S!==null&&F in S&&(S=this.h,F in S&&delete S[F])),this.j=new jt(this)}g(Le,rt),Le.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Le.prototype.close=function(){Po(this.g)},Le.prototype.o=function(S){var F=this.g;if(typeof S=="string"){var Q={};Q.__data__=S,S=Q}else this.u&&(Q={},Q.__data__=ke(S),S=Q);F.i.push(new To(F.Ya++,S)),F.G==3&&cu(F)},Le.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,Le.aa.N.call(this)};function et(S){pn.call(this),S.__headers__&&(this.headers=S.__headers__,this.statusCode=S.__status__,delete S.__headers__,delete S.__status__);var F=S.__sm__;if(F){e:{for(const Q in F){S=Q;break e}S=void 0}(this.i=S)&&(S=this.i,F=F!==null&&S in F?F[S]:void 0),this.data=F}else this.data=S}g(et,pn);function mt(){Pr.call(this),this.status=1}g(mt,Pr);function jt(S){this.g=S}g(jt,Se),jt.prototype.ua=function(){gt(this.g,"a")},jt.prototype.ta=function(S){gt(this.g,new et(S))},jt.prototype.sa=function(S){gt(this.g,new mt)},jt.prototype.ra=function(){gt(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,Le.prototype.send=Le.prototype.o,Le.prototype.open=Le.prototype.m,Le.prototype.close=Le.prototype.close,p9=function(){return new Ne},d9=function(){return qa()},h9=Ht,j4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Yx=me,ye.COMPLETE="complete",f9=ye,vr.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",rt.prototype.listen=rt.prototype.K,rg=vr,Qr.prototype.listenOnce=Qr.prototype.L,Qr.prototype.getLastError=Qr.prototype.Ka,Qr.prototype.getLastErrorCode=Qr.prototype.Ba,Qr.prototype.getStatus=Qr.prototype.Z,Qr.prototype.getResponseJson=Qr.prototype.Oa,Qr.prototype.getResponseText=Qr.prototype.oa,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Ha,u9=Qr}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});const kO="@firebase/firestore",NO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh=new n9("@firebase/firestore");function Xd(){return Gh.logLevel}function Bt(e,...t){if(Gh.logLevel<=Rr.DEBUG){const r=t.map(mk);Gh.debug(`Firestore (${Vp}): ${e}`,...r)}}function Dc(e,...t){if(Gh.logLevel<=Rr.ERROR){const r=t.map(mk);Gh.error(`Firestore (${Vp}): ${e}`,...r)}}function ep(e,...t){if(Gh.logLevel<=Rr.WARN){const r=t.map(mk);Gh.warn(`Firestore (${Vp}): ${e}`,...r)}}function mk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,m9(e,n,r)}function m9(e,t,r){let n=`FIRESTORE (${Vp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Dc(n),new Error(n)}function Yr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||m9(t,a,n)}function or(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Bp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(bi.UNAUTHENTICATED))}shutdown(){}}class cte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ute{constructor(t){this.t=t,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Yr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Il;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Il,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{Bt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(Bt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Il)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(Bt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yr(typeof n.accessToken=="string",31837,{l:n}),new g9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yr(t===null||typeof t=="string",2055,{h:t}),new bi(t)}}class fte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new fte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class CO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Yr(this.o===void 0,3512);const n=i=>{i.error!=null&&Bt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,Bt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{Bt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):Bt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new CO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Yr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new CO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=pte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function _r(e,t){return e<t?-1:e>t?1:0}function L4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return _r(n,a);{const i=v9(),s=mte(i.encode(PO(e,r)),i.encode(PO(t,r)));return s!==0?s:_r(n,a)}}r+=n>65535?2:1}return _r(e.length,t.length)}function PO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return _r(e[r],t[r]);return _r(e.length,t.length)}function tp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OO=-62135596800,IO=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(t){return Xt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*IO);return new Xt(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Rt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<OO)throw new Rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IO}_compareTo(t){return this.seconds===t.seconds?_r(this.nanoseconds,t.nanoseconds):_r(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-OO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{static fromTimestamp(t){return new cr(t)}static min(){return new cr(new Xt(0,0))}static max(){return new cr(new Xt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO="__name__";class Tl{constructor(t,r,n){r===void 0?r=0:r>t.length&&tr(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&tr(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Tl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Tl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Tl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return _r(t.length,r.length)}static compareSegments(t,r){const n=Tl.isNumericId(t),a=Tl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Tl.extractNumericId(t).compare(Tl.extractNumericId(r)):L4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cf.fromString(t.substring(4,t.length-2))}}class Cn extends Tl{construct(t,r,n){return new Cn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Rt(st.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Cn(r)}static emptyPath(){return new Cn([])}}const gte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends Tl{construct(t,r,n){return new ri(t,r,n)}static isValidIdentifier(t){return gte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===DO}static keyField(){return new ri([DO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Rt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Rt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Rt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Rt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ri(r)}static emptyPath(){return new ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(t){this.path=t}static fromPath(t){return new Kt(Cn.fromString(t))}static fromName(t){return new Kt(Cn.fromString(t).popFirst(5))}static empty(){return new Kt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Cn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Cn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Kt(new Cn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv=-1;function vte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=cr.fromTimestamp(n===1e9?new Xt(r+1,0):new Xt(r,n));return new xf(a,Kt.empty(),t)}function yte(e){return new xf(e.readTime,e.key,vv)}class xf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new xf(cr.min(),Kt.empty(),vv)}static max(){return new xf(cr.max(),Kt.empty(),vv)}}function xte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Kt.comparator(e.documentKey,t.documentKey),r!==0?r:_r(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(e){if(e.code!==st.FAILED_PRECONDITION||e.message!==bte)throw e;Bt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&tr(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ut((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ut?r:ut.resolve(r)}catch(r){return ut.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ut.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ut.reject(r)}static resolve(t){return new ut((r,n)=>{r(t)})}static reject(t){return new ut((r,n)=>{n(t)})}static waitFor(t){return new ut((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=ut.resolve(!1);for(const n of t)r=r.next(a=>a?ut.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new ut((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new ut((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function _te(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=-1;function Gw(e){return e==null}function H2(e){return e===0&&1/e==-1/0}function Ste(e){return typeof e=="number"&&Number.isInteger(e)&&!H2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9="";function Ate(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=jO(t)),t=Tte(e.get(r),t);return jO(t)}function Tte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case x9:r+="";break;default:r+=i}}return r}function jO(e){return e+x9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Df(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ete(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function b9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,r){this.comparator=t,this.root=r||ei.EMPTY}insert(t,r){return new zn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(t){return new zn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ei.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qy(this.root,t,this.comparator,!0)}}class Qy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ei{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??ei.RED,this.left=a??ei.EMPTY,this.right=i??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new ei(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return ei.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw tr(43730,{key:this.key,value:this.value});if(this.right.isRed())throw tr(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw tr(27949);return t+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw tr(57766)}get value(){throw tr(16141)}get color(){throw tr(16727)}get left(){throw tr(29726)}get right(){throw tr(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new ei(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(t){this.comparator=t,this.data=new zn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new MO(this.data.getIterator())}getIteratorFrom(t){return new MO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Na)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Na(this.comparator);return r.data=t,r}}class MO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(t){this.fields=t,t.sort(ri.comparator)}static empty(){return new Ms([])}unionWith(t){let r=new Na(ri.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ms(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return tp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new w9("Invalid base64 string: "+i):i}}(t);return new li(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new li(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return _r(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}li.EMPTY_BYTE_STRING=new li("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bf(e){if(Yr(!!e,39018),typeof e=="string"){let t=0;const r=kte.exec(e);if(Yr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:na(e.seconds),nanos:na(e.nanos)}}function na(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wf(e){return typeof e=="string"?li.fromBase64String(e):li.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9="server_timestamp",S9="__type__",A9="__previous_value__",T9="__local_write_time__";function vk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[S9])===null||r===void 0?void 0:r.stringValue)===_9}function Kw(e){const t=e.mapValue.fields[A9];return vk(t)?Kw(t):t}function yv(e){const t=bf(e.mapValue.fields[T9].timestampValue);return new Xt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const G2="(default)";class xv{constructor(t,r){this.projectId=t,this.database=r||G2}static empty(){return new xv("","")}get isDefaultDatabase(){return this.database===G2}isEqual(t){return t instanceof xv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="__type__",k9="__max__",Jy={mapValue:{fields:{__type__:{stringValue:k9}}}},N9="__vector__",K2="value";function _f(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vk(e)?4:Pte(e)?9007199254740991:Cte(e)?10:11:tr(28295,{value:e})}function Bl(e,t){if(e===t)return!0;const r=_f(e);if(r!==_f(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return yv(e).isEqual(yv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=bf(a.timestampValue),o=bf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return wf(a.bytesValue).isEqual(wf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return na(a.geoPointValue.latitude)===na(i.geoPointValue.latitude)&&na(a.geoPointValue.longitude)===na(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return na(a.integerValue)===na(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=na(a.doubleValue),o=na(i.doubleValue);return s===o?H2(s)===H2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return tp(e.arrayValue.values||[],t.arrayValue.values||[],Bl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(LO(s)!==LO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Bl(s[l],o[l])))return!1;return!0}(e,t);default:return tr(52216,{left:e})}}function bv(e,t){return(e.values||[]).find(r=>Bl(r,t))!==void 0}function rp(e,t){if(e===t)return 0;const r=_f(e),n=_f(t);if(r!==n)return _r(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return _r(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=na(i.integerValue||i.doubleValue),l=na(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return RO(e.timestampValue,t.timestampValue);case 4:return RO(yv(e),yv(t));case 5:return L4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=wf(i),l=wf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=_r(o[c],l[c]);if(u!==0)return u}return _r(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=_r(na(i.latitude),na(s.latitude));return o!==0?o:_r(na(i.longitude),na(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return FO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[K2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[K2])===null||l===void 0?void 0:l.arrayValue,m=_r(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:FO(d,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Jy.mapValue&&s===Jy.mapValue)return 0;if(i===Jy.mapValue)return 1;if(s===Jy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=L4(l[f],u[f]);if(h!==0)return h;const d=rp(o[l[f]],c[u[f]]);if(d!==0)return d}return _r(l.length,u.length)}(e.mapValue,t.mapValue);default:throw tr(23264,{Pe:r})}}function RO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return _r(e,t);const r=bf(e),n=bf(t),a=_r(r.seconds,n.seconds);return a!==0?a:_r(r.nanos,n.nanos)}function FO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=rp(r[a],n[a]);if(i)return i}return _r(r.length,n.length)}function np(e){return M4(e)}function M4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=bf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return wf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Kt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=M4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${M4(r.fields[s])}`;return a+"}"}(e.mapValue):tr(61005,{value:e})}function Xx(e){switch(_f(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kw(e);return t?16+Xx(t):16;case 5:return 2*e.stringValue.length;case 6:return wf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Xx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Df(n.fields,(i,s)=>{a+=i.length+Xx(s)}),a}(e.mapValue);default:throw tr(13486,{value:e})}}function $O(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function R4(e){return!!e&&"integerValue"in e}function yk(e){return!!e&&"arrayValue"in e}function BO(e){return!!e&&"nullValue"in e}function VO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Qx(e){return!!e&&"mapValue"in e}function Cte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[E9])===null||r===void 0?void 0:r.stringValue)===N9}function _g(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Df(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=_g(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=_g(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Pte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===k9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t){this.value=t}static empty(){return new us({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Qx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=_g(r)}setAll(t){let r=ri.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=_g(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Qx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Qx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Df(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new us(_g(this.value))}}function C9(e){const t=[];return Df(e.fields,(r,n)=>{const a=new ri([r]);if(Qx(n)){const i=C9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ms(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Si(t,0,cr.min(),cr.min(),cr.min(),us.empty(),0)}static newFoundDocument(t,r,n,a){return new Si(t,1,r,cr.min(),n,a,0)}static newNoDocument(t,r){return new Si(t,2,r,cr.min(),cr.min(),us.empty(),0)}static newUnknownDocument(t,r){return new Si(t,3,r,cr.min(),cr.min(),us.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(cr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=cr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,r){this.position=t,this.inclusive=r}}function UO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Kt.comparator(Kt.fromName(s.referenceValue),r.key):n=rp(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function zO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Bl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ote(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P9{}class va extends P9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Dte(t,r,n):r==="array-contains"?new Mte(t,n):r==="in"?new Rte(t,n):r==="not-in"?new Fte(t,n):r==="array-contains-any"?new $te(t,n):new va(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new jte(t,n):new Lte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(rp(r,this.value)):r!==null&&_f(this.value)===_f(r)&&this.matchesComparison(rp(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return tr(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends P9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new ll(t,r)}matches(t){return O9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function O9(e){return e.op==="and"}function I9(e){return Ite(e)&&O9(e)}function Ite(e){for(const t of e.filters)if(t instanceof ll)return!1;return!0}function F4(e){if(e instanceof va)return e.field.canonicalString()+e.op.toString()+np(e.value);if(I9(e))return e.filters.map(t=>F4(t)).join(",");{const t=e.filters.map(r=>F4(r)).join(",");return`${e.op}(${t})`}}function D9(e,t){return e instanceof va?function(n,a){return a instanceof va&&n.op===a.op&&n.field.isEqual(a.field)&&Bl(n.value,a.value)}(e,t):e instanceof ll?function(n,a){return a instanceof ll&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&D9(s,a.filters[o]),!0):!1}(e,t):void tr(19439)}function j9(e){return e instanceof va?function(r){return`${r.field.canonicalString()} ${r.op} ${np(r.value)}`}(e):e instanceof ll?function(r){return r.op.toString()+" {"+r.getFilters().map(j9).join(" ,")+"}"}(e):"Filter"}class Dte extends va{constructor(t,r,n){super(t,r,n),this.key=Kt.fromName(n.referenceValue)}matches(t){const r=Kt.comparator(t.key,this.key);return this.matchesComparison(r)}}class jte extends va{constructor(t,r){super(t,"in",r),this.keys=L9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Lte extends va{constructor(t,r){super(t,"not-in",r),this.keys=L9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function L9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Kt.fromName(n.referenceValue))}class Mte extends va{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return yk(r)&&bv(r.arrayValue,this.value)}}class Rte extends va{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&bv(this.value.arrayValue,r)}}class Fte extends va{constructor(t,r){super(t,"not-in",r)}matches(t){if(bv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!bv(this.value.arrayValue,r)}}class $te extends va{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!yk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>bv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function qO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Bte(e,t,r,n,a,i,s)}function xk(e){const t=or(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>F4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Gw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>np(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>np(n)).join(",")),t.Ie=r}return t.Ie}function bk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ote(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!D9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!zO(e.startAt,t.startAt)&&zO(e.endAt,t.endAt)}function $4(e){return Kt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vte(e,t,r,n,a,i,s,o){return new qp(e,t,r,n,a,i,s,o)}function wk(e){return new qp(e)}function WO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function M9(e){return e.collectionGroup!==null}function Sg(e){const t=or(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Na(ri.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new wv(i,n))}),r.has(ri.keyField().canonicalString())||t.Ee.push(new wv(ri.keyField(),n))}return t.Ee}function Dl(e){const t=or(e);return t.de||(t.de=R9(t,Sg(e))),t.de}function Ute(e){const t=or(e);return t.Ae||(t.Ae=R9(t,e.explicitOrderBy)),t.Ae}function R9(e,t){if(e.limitType==="F")return qO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new wv(a.field,i)});const r=e.endAt?new Y2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Y2(e.startAt.position,e.startAt.inclusive):null;return qO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function B4(e,t){const r=e.filters.concat([t]);return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function X2(e,t,r){return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Yw(e,t){return bk(Dl(e),Dl(t))&&e.limitType===t.limitType}function F9(e){return`${xk(Dl(e))}|lt:${e.limitType}`}function Qd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>j9(a)).join(", ")}]`),Gw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>np(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>np(a)).join(",")),`Target(${n})`}(Dl(e))}; limitType=${e.limitType})`}function Xw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Kt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Sg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=UO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Sg(n),a)||n.endAt&&!function(s,o,l){const c=UO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Sg(n),a))}(e,t)}function zte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function $9(e){return(t,r)=>{let n=!1;for(const a of Sg(e)){const i=qte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function qte(e,t,r){const n=e.field.isKeyField()?Kt.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?rp(l,c):tr(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return tr(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Df(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return b9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte=new zn(Kt.comparator);function jc(){return Wte}const B9=new zn(Kt.comparator);function ng(...e){let t=B9;for(const r of e)t=t.insert(r.key,r);return t}function V9(e){let t=B9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Sh(){return Ag()}function U9(){return Ag()}function Ag(){return new sd(e=>e.toString(),(e,t)=>e.isEqual(t))}const Hte=new zn(Kt.comparator),Gte=new Na(Kt.comparator);function kr(...e){let t=Gte;for(const r of e)t=t.add(r);return t}const Kte=new Na(_r);function Yte(){return Kte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H2(t)?"-0":t}}function z9(e){return{integerValue:""+e}}function Xte(e,t){return Ste(t)?z9(t):_k(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this._=void 0}}function Qte(e,t,r){return e instanceof _v?function(a,i){const s={fields:{[S9]:{stringValue:_9},[T9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&vk(i)&&(i=Kw(i)),i&&(s.fields[A9]=i),{mapValue:s}}(r,t):e instanceof Sv?W9(e,t):e instanceof Av?H9(e,t):function(a,i){const s=q9(a,i),o=HO(s)+HO(a.Re);return R4(s)&&R4(a.Re)?z9(o):_k(a.serializer,o)}(e,t)}function Jte(e,t,r){return e instanceof Sv?W9(e,t):e instanceof Av?H9(e,t):r}function q9(e,t){return e instanceof Q2?function(n){return R4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class _v extends Qw{}class Sv extends Qw{constructor(t){super(),this.elements=t}}function W9(e,t){const r=G9(t);for(const n of e.elements)r.some(a=>Bl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Av extends Qw{constructor(t){super(),this.elements=t}}function H9(e,t){let r=G9(t);for(const n of e.elements)r=r.filter(a=>!Bl(a,n));return{arrayValue:{values:r}}}class Q2 extends Qw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function HO(e){return na(e.integerValue||e.doubleValue)}function G9(e){return yk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(t,r){this.field=t,this.transform=r}}function ere(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Sv&&a instanceof Sv||n instanceof Av&&a instanceof Av?tp(n.elements,a.elements,Bl):n instanceof Q2&&a instanceof Q2?Bl(n.Re,a.Re):n instanceof _v&&a instanceof _v}(e.transform,t.transform)}class tre{constructor(t,r){this.version=t,this.transformResults=r}}class Gi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Gi}static exists(t){return new Gi(void 0,t)}static updateTime(t){return new Gi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Jx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Jw{}function K9(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zw(e.key,Gi.none()):new O1(e.key,e.data,Gi.none());{const r=e.data,n=us.empty();let a=new Na(ri.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new jf(e.key,n,new Ms(a.toArray()),Gi.none())}}function rre(e,t,r){e instanceof O1?function(a,i,s){const o=a.value.clone(),l=KO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof jf?function(a,i,s){if(!Jx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=KO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(Y9(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Tg(e,t,r,n){return e instanceof O1?function(i,s,o,l){if(!Jx(i.precondition,s))return o;const c=i.value.clone(),u=YO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof jf?function(i,s,o,l){if(!Jx(i.precondition,s))return o;const c=YO(i.fieldTransforms,l,s),u=s.data;return u.setAll(Y9(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return Jx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function nre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=q9(n.transform,a||null);i!=null&&(r===null&&(r=us.empty()),r.set(n.field,i))}return r||null}function GO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&tp(n,a,(i,s)=>ere(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class O1 extends Jw{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jf extends Jw{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Y9(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function KO(e,t,r){const n=new Map;Yr(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Jte(s,o,r[a]))}return n}function YO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Qte(i,s,t))}return n}class Zw extends Jw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class are extends Jw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&rre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Tg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=U9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=K9(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(cr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),kr())}isEqual(t){return this.batchId===t.batchId&&tp(this.mutations,t.mutations,(r,n)=>GO(r,n))&&tp(this.baseMutations,t.baseMutations,(r,n)=>GO(r,n))}}class Sk{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Yr(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Hte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new Sk(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ha,Mr;function cre(e){switch(e){case st.OK:return tr(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return tr(15467,{code:e})}}function X9(e){if(e===void 0)return Dc("GRPC error has no .code"),st.UNKNOWN;switch(e){case ha.OK:return st.OK;case ha.CANCELLED:return st.CANCELLED;case ha.UNKNOWN:return st.UNKNOWN;case ha.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case ha.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case ha.INTERNAL:return st.INTERNAL;case ha.UNAVAILABLE:return st.UNAVAILABLE;case ha.UNAUTHENTICATED:return st.UNAUTHENTICATED;case ha.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case ha.NOT_FOUND:return st.NOT_FOUND;case ha.ALREADY_EXISTS:return st.ALREADY_EXISTS;case ha.PERMISSION_DENIED:return st.PERMISSION_DENIED;case ha.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case ha.ABORTED:return st.ABORTED;case ha.OUT_OF_RANGE:return st.OUT_OF_RANGE;case ha.UNIMPLEMENTED:return st.UNIMPLEMENTED;case ha.DATA_LOSS:return st.DATA_LOSS;default:return tr(39323,{code:e})}}(Mr=ha||(ha={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ure=new cf([4294967295,4294967295],0);function XO(e){const t=v9().encode(e),r=new c9;return r.update(t),new Uint8Array(r.digest())}function QO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new cf([r,n],0),new cf([a,i],0)]}class Ak{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ag(`Invalid padding: ${r}`);if(n<0)throw new ag(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ag(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=cf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(cf.fromNumber(n)));return a.compare(ure)===1&&(a=new cf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=XO(t),[n,a]=QO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Ak(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=XO(t),[n,a]=QO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,I1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new e5(cr.min(),a,new zn(_r),jc(),kr())}}class I1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new I1(n,r,kr(),kr(),kr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class Q9{constructor(t,r){this.targetId=t,this.Ce=r}}class J9{constructor(t,r,n=li.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class JO{constructor(){this.Fe=0,this.Me=ZO(),this.xe=li.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=kr(),r=kr(),n=kr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:tr(38017,{changeType:i})}}),new I1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=ZO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Yr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fre{constructor(t){this.ze=t,this.je=new Map,this.He=jc(),this.Je=Zy(),this.Ye=Zy(),this.Ze=new zn(_r)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:tr(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if($4(i))if(n===0){const s=new Kt(i.path);this.tt(r,s,Si.newNoDocument(s,cr.min()))}else Yr(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=wf(n).toUint8Array()}catch(l){if(l instanceof w9)return ep("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Ak(s,a,i)}catch(l){return ep(l instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&$4(o.target)){const l=new Kt(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Si.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=kr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new e5(t,r,this.Ze,this.He,n);return this.He=jc(),this.Je=Zy(),this.Ye=Zy(),this.Ze=new zn(_r),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new JO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Na(_r),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Na(_r),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||Bt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new JO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Zy(){return new zn(Kt.comparator)}function ZO(){return new zn(Kt.comparator)}const hre={asc:"ASCENDING",desc:"DESCENDING"},dre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pre={and:"AND",or:"OR"};class mre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function V4(e,t){return e.useProto3Json||Gw(t)?t:{value:t}}function J2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Z9(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gre(e,t){return J2(e,t.toTimestamp())}function jl(e){return Yr(!!e,49232),cr.fromTimestamp(function(r){const n=bf(r);return new Xt(n.seconds,n.nanos)}(e))}function Tk(e,t){return U4(e,t).canonicalString()}function U4(e,t){const r=function(a){return new Cn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function eB(e){const t=Cn.fromString(e);return Yr(sB(t),10190,{key:t.toString()}),t}function z4(e,t){return Tk(e.databaseId,t.path)}function sS(e,t){const r=eB(t);if(r.get(1)!==e.databaseId.projectId)throw new Rt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Rt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Kt(rB(r))}function tB(e,t){return Tk(e.databaseId,t)}function vre(e){const t=eB(e);return t.length===4?Cn.emptyPath():rB(t)}function q4(e){return new Cn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function rB(e){return Yr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function eI(e,t,r){return{name:z4(e,t),fields:r.value.mapValue.fields}}function yre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:tr(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Yr(u===void 0||typeof u=="string",58123),li.fromBase64String(u||"")):(Yr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),li.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?st.UNKNOWN:X9(c.code);return new Rt(u,c.message||"")}(s);r=new J9(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=sS(e,n.document.name),i=jl(n.document.updateTime),s=n.document.createTime?jl(n.document.createTime):cr.min(),o=new us({mapValue:{fields:n.document.fields}}),l=Si.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Zx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=sS(e,n.document),i=n.readTime?jl(n.readTime):cr.min(),s=Si.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Zx([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=sS(e,n.document),i=n.removedTargetIds||[];r=new Zx([],i,a,null)}else{if(!("filter"in t))return tr(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new lre(a,i),o=n.targetId;r=new Q9(o,s)}}return r}function xre(e,t){let r;if(t instanceof O1)r={update:eI(e,t.key,t.value)};else if(t instanceof Zw)r={delete:z4(e,t.key)};else if(t instanceof jf)r={update:eI(e,t.key,t.data),updateMask:Nre(t.fieldMask)};else{if(!(t instanceof are))return tr(16599,{ft:t.type});r={verify:z4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof _v)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Sv)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Av)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Q2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw tr(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:gre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:tr(27497)}(e,t.precondition)),r}function bre(e,t){return e&&e.length>0?(Yr(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?jl(a.updateTime):jl(i);return s.isEqual(cr.min())&&(s=jl(i)),new tre(s,a.transformResults||[])}(r,t))):[]}function wre(e,t){return{documents:[tB(e,t.path)]}}function nB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=tB(e,a);const i=function(c){if(c.length!==0)return iB(ll.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:Fu(h.field),direction:Tre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=V4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function _re(e,t,r,n){const{gt:a,parent:i}=nB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:Fu(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:Fu(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Sre(e){let t=vre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Yr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=aB(f);return h instanceof ll&&I9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new wv(Jd(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Gw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new Y2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new Y2(d,h)}(r.endAt)),Vte(t,a,s,i,o,"F",l,c)}function Are(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tr(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function aB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Jd(r.unaryFilter.field);return va.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Jd(r.unaryFilter.field);return va.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jd(r.unaryFilter.field);return va.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Jd(r.unaryFilter.field);return va.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return tr(61313);default:return tr(60726)}}(e):e.fieldFilter!==void 0?function(r){return va.create(Jd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return tr(58110);default:return tr(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ll.create(r.compositeFilter.filters.map(n=>aB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return tr(1026)}}(r.compositeFilter.op))}(e):tr(30097,{filter:e})}function Tre(e){return hre[e]}function Ere(e){return dre[e]}function kre(e){return pre[e]}function Fu(e){return{fieldPath:e.canonicalString()}}function Jd(e){return ri.fromServerFormat(e.fieldPath)}function iB(e){return e instanceof va?function(r){if(r.op==="=="){if(VO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NAN"}};if(BO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(VO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NOT_NAN"}};if(BO(r.value))return{unaryFilter:{field:Fu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(r.field),op:Ere(r.op),value:r.value}}}(e):e instanceof ll?function(r){const n=r.getFilters().map(a=>iB(a));return n.length===1?n[0]:{compositeFilter:{op:kre(r.op),filters:n}}}(e):tr(54877,{filter:e})}function Nre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function sB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(t,r,n,a,i=cr.min(),s=cr.min(),o=li.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Wu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(t){this.wt=t}}function Pre(e){const t=Sre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?X2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.yn=new Ire}addToCollectionParentIndex(t,r){return this.yn.add(r),ut.resolve()}getCollectionParents(t,r){return ut.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return ut.resolve()}deleteFieldIndex(t,r){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,r){return ut.resolve()}getDocumentsMatchingTarget(t,r){return ut.resolve(null)}getIndexType(t,r){return ut.resolve(0)}getFieldIndexes(t,r){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,r){return ut.resolve(xf.min())}getMinOffsetFromCollectionGroup(t,r){return ut.resolve(xf.min())}updateCollectionGroup(t,r,n){return ut.resolve()}updateIndexEntries(t,r){return ut.resolve()}}class Ire{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Na(Cn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Na(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},oB=41943040;class os{static withCacheSize(t){return new os(t,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os.DEFAULT_COLLECTION_PERCENTILE=10,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,os.DEFAULT=new os(oB,os.DEFAULT_COLLECTION_PERCENTILE,os.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),os.DISABLED=new os(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new ap(0)}static ir(){return new ap(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="LruGarbageCollector",Dre=1048576;function nI([e,t],[r,n]){const a=_r(e,r);return a===0?_r(t,n):a}class jre{constructor(t){this.cr=t,this.buffer=new Na(nI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();nI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){Bt(rI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zp(r)?Bt(rI,"Ignoring IndexedDB error during garbage collection: ",r):await Up(r)}await this.Ir(3e5)})}}class Mre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return ut.resolve(Hw.le);const n=new jre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(Bt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(tI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Bt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Bt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Xd()<=Rr.DEBUG&&Bt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Rre(e,t){return new Mre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(){this.changes=new sd(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Si.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ut.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Tg(n.mutation,a,Ms.empty(),Xt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,kr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=kr()){const a=Sh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=ng();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Sh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,kr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=jc();const s=Ag(),o=function(){return Ag()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof jf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Tg(u.mutation,c,u.mutation.getFieldMask(),Xt.now())):s.set(c.key,Ms.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new $re(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Ag();let a=new zn((s,o)=>s-o),i=kr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ms.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||kr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=U9();u.forEach(h=>{if(!i.has(h)){const d=K9(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return ut.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Kt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):M9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):ut.resolve(Sh());let o=vv,l=i;return s.next(c=>ut.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?ut.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,kr())).next(u=>({batchId:o,changes:V9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Kt(r)).next(n=>{let a=ng();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=ng();return this.indexManager.getCollectionParents(t,i).next(o=>ut.forEach(o,l=>{const c=function(f,h){return new qp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Si.newInvalidDocument(u)))});let o=ng();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Tg(u.mutation,c,Ms.empty(),Xt.now()),Xw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return ut.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:jl(a.createTime)}}(r)),ut.resolve()}getNamedQuery(t,r){return ut.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Pre(a.bundledQuery),readTime:jl(a.readTime)}}(r)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(){this.overlays=new zn(Kt.comparator),this.Or=new Map}getOverlay(t,r){return ut.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Sh();return ut.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),ut.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),ut.resolve()}getOverlaysForCollection(t,r,n){const a=Sh(),i=r.length+1,s=new Kt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new zn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Sh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Sh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return ut.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new sre(r,n));let i=this.Or.get(r);i===void 0&&(i=kr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Nr=new Na(Da.Br),this.Lr=new Na(Da.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Da(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Da(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Kt(new Cn([])),n=new Da(r,t),a=new Da(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Kt(new Cn([])),n=new Da(r,t),a=new Da(r,t+1);let i=kr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Da(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Da{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Kt.comparator(t.key,r.key)||_r(t.Gr,r.Gr)}static kr(t,r){return _r(t.Gr,r.Gr)||Kt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Na(Da.Br)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ire(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Da(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ut.resolve(s)}lookupMutationBatch(t,r){return ut.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return ut.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?gk:this.Jn-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Da(r,0),a=new Da(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),ut.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Na(_r);return r.forEach(a=>{const i=new Da(a,0),s=new Da(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),ut.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Kt.isDocumentKey(i)||(i=i.child(""));const s=new Da(new Kt(i),0);let o=new Na(_r);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),ut.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Yr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ut.forEach(r.mutations,a=>{const i=new Da(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Da(r,0),a=this.zr.firstAfterOrEqual(n);return ut.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(t){this.Zr=t,this.docs=function(){return new zn(Kt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return ut.resolve(n?n.document.mutableCopy():Si.newInvalidDocument(r))}getEntries(t,r){let n=jc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Si.newInvalidDocument(a))}),ut.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=jc();const s=r.path,o=new Kt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||xte(yte(u),n)<=0||(a.has(u.key)||Xw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return ut.resolve(i)}getAllFromCollectionGroup(t,r,n,a){tr(9500)}Xr(t,r){return ut.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Hre(this)}getSize(t){return ut.resolve(this.size)}}class Hre extends Fre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),ut.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t){this.persistence=t,this.ei=new sd(r=>xk(r),bk),this.lastRemoteSnapshotVersion=cr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ek,this.targetCount=0,this.ri=ap.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),ut.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new ap(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,ut.resolve()}updateTargetData(t,r){return this.ar(r),ut.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),ut.waitFor(i).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return ut.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),ut.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),ut.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),ut.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return ut.resolve(n)}containsKey(t,r){return ut.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(t,r){this.ii={},this.overlays={},this.si=new Hw(0),this.oi=!1,this.oi=!0,this._i=new zre,this.referenceDelegate=t(this),this.ai=new Gre(this),this.indexManager=new Ore,this.remoteDocumentCache=function(a){return new Wre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Cre(r),this.ci=new Vre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Ure,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new qre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){Bt("MemoryPersistence","Starting transaction:",t);const a=new Kre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return ut.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class Kre extends wte{constructor(t){super(),this.currentSequenceNumber=t}}class kk{constructor(t){this.persistence=t,this.Ti=new Ek,this.Ii=null}static Ei(t){return new kk(t)}get di(){if(this.Ii)return this.Ii;throw tr(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),ut.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),ut.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),ut.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.di,n=>{const a=Kt.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,cr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return ut.or([()=>ut.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class Z2{constructor(t,r){this.persistence=t,this.Ri=new sd(n=>Ate(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Rre(this,r)}static Ei(t,r){return new Z2(t,r)}li(){}hi(t){return ut.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return ut.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?ut.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,cr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),ut.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ut.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),ut.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Xx(t.data.value)),r}gr(t,r,n){return ut.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return ut.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=kr(),a=kr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Nk(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return UZ()?8:_te(BZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Yre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Xd()<=Rr.DEBUG&&Bt("QueryEngine","SDK will not create cache indexes for query:",Qd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ut.resolve()):(Xd()<=Rr.DEBUG&&Bt("QueryEngine","Query:",Qd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Xd()<=Rr.DEBUG&&Bt("QueryEngine","The SDK decides to create cache indexes for query:",Qd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dl(r))):ut.resolve())}Rs(t,r){if(WO(r))return ut.resolve(null);let n=Dl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=X2(r,null,"F"),n=Dl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=kr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,X2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return WO(r)||a.isEqual(cr.min())?ut.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?ut.resolve(null):(Xd()<=Rr.DEBUG&&Bt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Qd(r)),this.ws(t,s,r,vte(a,vv)).next(o=>o))})}ps(t,r){let n=new Na($9(t));return r.forEach((a,i)=>{Xw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Xd()<=Rr.DEBUG&&Bt("QueryEngine","Using full collection scan to execute query:",Qd(r)),this.As.getDocumentsMatchingQuery(t,r,xf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="LocalStore",Qre=3e8;class Jre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new zn(_r),this.Ds=new sd(i=>xk(i),bk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Zre(e,t,r,n){return new Jre(e,t,r,n)}async function cB(e,t){const r=or(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=kr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function ene(e,t){const r=or(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=ut.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Yr(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=kr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function uB(e){const t=or(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function tne(e,t){const r=or(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(li.EMPTY_BYTE_STRING,cr.min()).withLastLimboFreeSnapshotVersion(cr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Qre?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=jc(),c=kr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(rne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(cr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return ut.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function rne(e,t,r){let n=kr(),a=kr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=jc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(cr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):Bt(Ck,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function nne(e,t){const r=or(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=gk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function ane(e,t){const r=or(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,ut.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Wu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function W4(e,t,r){const n=or(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!zp(s))throw s;Bt(Ck,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function aI(e,t,r){const n=or(e);let a=cr.min(),i=kr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=or(l),h=f.Ds.get(u);return h!==void 0?ut.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Dl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:cr.min(),r?i:kr())).next(o=>(ine(n,zte(t),o),{documents:o,Ns:i})))}function ine(e,t,r){let n=e.vs.get(t)||cr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class iI{constructor(){this.activeTargetIds=Yte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sne{constructor(){this.So=new iI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new iI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="ConnectivityMonitor";class oI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Bt(sI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){Bt(sI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ex=null;function H4(){return ex===null?ex=function(){return 268435456+Math.round(2147483648*Math.random())}():ex++,"0x"+ex.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="RestConnection",lne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===G2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=H4(),o=this.$o(t,r.toUriEncodedString());Bt(oS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=dk(c);return this.Ko(t,o,l,n,u).then(f=>(Bt(oS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw ep(oS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=lne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class fne extends cne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=H4();return new Promise((o,l)=>{const c=new u9;c.setWithCredentials(!0),c.listenOnce(f9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Yx.NO_ERROR:const f=c.getResponseJson();Bt(hi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Yx.TIMEOUT:Bt(hi,`RPC '${t}' ${s} timed out`),l(new Rt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Yx.HTTP_ERROR:const h=c.getStatus();if(Bt(hi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const m=function(y){const w=y.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(w)>=0?w:st.UNKNOWN}(g.status);l(new Rt(m,g.message))}else l(new Rt(st.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Rt(st.UNAVAILABLE,"Connection failed."));break;default:tr(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{Bt(hi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);Bt(hi,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=H4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=p9(),o=d9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");Bt(hi,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const g=new une({Go:v=>{d?Bt(hi,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(Bt(hi,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),Bt(hi,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,w)=>{v.listen(y,_=>{try{w(_)}catch(I){setTimeout(()=>{throw I},0)}})};return m(f,rg.EventType.OPEN,()=>{d||(Bt(hi,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,rg.EventType.CLOSE,()=>{d||(d=!0,Bt(hi,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,rg.EventType.ERROR,v=>{d||(d=!0,ep(hi,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Rt(st.UNAVAILABLE,"The operation could not be completed")))}),m(f,rg.EventType.MESSAGE,v=>{var y;if(!d){const w=v.data[0];Yr(!!w,16349);const _=w,I=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(I){Bt(hi,`RPC '${t}' stream ${a} received error:`,I);const P=I.status;let D=function(b){const O=ha[b];if(O!==void 0)return X9(O)}(P),E=I.message;D===void 0&&(D=st.INTERNAL,E="Unknown error status: "+P+" with message "+I.message),d=!0,g.r_(new Rt(D,E)),f.close()}else Bt(hi,`RPC '${t}' stream ${a} received:`,w),g.i_(w)}}),m(o,h9.STAT_EVENT,v=>{v.stat===j4.PROXY?Bt(hi,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===j4.NOPROXY&&Bt(hi,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function lS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){return new mre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&Bt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI="PersistentStream";class hB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new fB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===st.RESOURCE_EXHAUSTED?(Dc(r.toString()),Dc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Rt(st.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return Bt(lI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(Bt(lI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hne extends hB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=yre(this.serializer,t),n=function(i){if(!("targetChange"in i))return cr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?cr.min():s.readTime?jl(s.readTime):cr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=q4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=$4(l)?{documents:wre(i,l)}:{query:nB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Z9(i,s.resumeToken);const c=V4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(cr.min())>0){o.readTime=J2(i,s.snapshotVersion.toTimestamp());const c=V4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Are(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=q4(this.serializer),r.removeTarget=t,this.F_(r)}}class dne extends hB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Yr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yr(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Yr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=bre(t.writeResults,t.commitTime),n=jl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=q4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>xre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{}class mne extends pne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Rt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,U4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Rt(st.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,U4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Rt(st.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Dc(r),this.ea=!1):Bt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="RemoteStore";class vne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{od(this)&&(Bt(Kh,"Restarting streams for network reachability change."),await async function(l){const c=or(l);c.aa.add(4),await D1(c),c.la.set("Unknown"),c.aa.delete(4),await r5(c)}(this))})}),this.la=new gne(n,a)}}async function r5(e){if(od(e))for(const t of e.ua)await t(!0)}async function D1(e){for(const t of e.ua)await t(!1)}function dB(e,t){const r=or(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Dk(r)?Ik(r):Wp(r).b_()&&Ok(r,t))}function Pk(e,t){const r=or(e),n=Wp(r);r._a.delete(t),n.b_()&&pB(r,t),r._a.size===0&&(n.b_()?n.v_():od(r)&&r.la.set("Unknown"))}function Ok(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(cr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Wp(e).U_(t)}function pB(e,t){e.ha.Ke(t),Wp(e).K_(t)}function Ik(e){e.ha=new fre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Wp(e).start(),e.la.ta()}function Dk(e){return od(e)&&!Wp(e).w_()&&e._a.size>0}function od(e){return or(e).aa.size===0}function mB(e){e.ha=void 0}async function yne(e){e.la.set("Online")}async function xne(e){e._a.forEach((t,r)=>{Ok(e,t)})}async function bne(e,t){mB(e),Dk(e)?(e.la.ia(t),Ik(e)):e.la.set("Unknown")}async function wne(e,t,r){if(e.la.set("Online"),t instanceof J9&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){Bt(Kh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await eb(e,n)}else if(t instanceof Zx?e.ha.Xe(t):t instanceof Q9?e.ha.ot(t):e.ha.nt(t),!r.isEqual(cr.min()))try{const n=await uB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(li.EMPTY_BYTE_STRING,u.snapshotVersion)),pB(i,l);const f=new Wu(u.target,l,c,u.sequenceNumber);Ok(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){Bt(Kh,"Failed to raise snapshot:",n),await eb(e,n)}}async function eb(e,t,r){if(!zp(t))throw t;e.aa.add(1),await D1(e),e.la.set("Offline"),r||(r=()=>uB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Bt(Kh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await r5(e)})}function gB(e,t){return t().catch(r=>eb(e,r,t))}async function n5(e){const t=or(e),r=Sf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:gk;for(;_ne(t);)try{const a=await nne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Sne(t,a)}catch(a){await eb(t,a)}vB(t)&&yB(t)}function _ne(e){return od(e)&&e.oa.length<10}function Sne(e,t){e.oa.push(t);const r=Sf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function vB(e){return od(e)&&!Sf(e).w_()&&e.oa.length>0}function yB(e){Sf(e).start()}async function Ane(e){Sf(e).H_()}async function Tne(e){const t=Sf(e);for(const r of e.oa)t.G_(r.mutations)}async function Ene(e,t,r){const n=e.oa.shift(),a=Sk.from(n,t,r);await gB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await n5(e)}async function kne(e,t){t&&Sf(e).W_&&await async function(n,a){if(function(s){return cre(s)&&s!==st.ABORTED}(a.code)){const i=n.oa.shift();Sf(n).D_(),await gB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await n5(n)}}(e,t),vB(e)&&yB(e)}async function cI(e,t){const r=or(e);r.asyncQueue.verifyOperationInProgress(),Bt(Kh,"RemoteStore received new credentials");const n=od(r);r.aa.add(3),await D1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await r5(r)}async function Nne(e,t){const r=or(e);t?(r.aa.delete(2),await r5(r)):t||(r.aa.add(2),await D1(r),r.la.set("Unknown"))}function Wp(e){return e.Pa||(e.Pa=function(r,n,a){const i=or(r);return i.Y_(),new hne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:yne.bind(null,e),Jo:xne.bind(null,e),Zo:bne.bind(null,e),Q_:wne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Dk(e)?Ik(e):e.la.set("Unknown")):(await e.Pa.stop(),mB(e))})),e.Pa}function Sf(e){return e.Ta||(e.Ta=function(r,n,a){const i=or(r);return i.Y_(),new dne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ane.bind(null,e),Zo:kne.bind(null,e),z_:Tne.bind(null,e),j_:Ene.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await n5(e)):(await e.Ta.stop(),e.oa.length>0&&(Bt(Kh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new jk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lk(e,t){if(Dc("AsyncQueue",`${t}: ${e}`),zp(e))return new Rt(st.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{static emptySet(t){return new O0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Kt.comparator(r.key,n.key):(r,n)=>Kt.comparator(r.key,n.key),this.keyedMap=ng(),this.sortedSet=new zn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof O0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new O0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.Ia=new zn(Kt.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):tr(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class ip{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ip(t,r,O0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Pne{constructor(){this.queries=fI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=or(r),i=a.queries;a.queries=fI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Rt(st.ABORTED,"Firestore shutting down"))}}function fI(){return new sd(e=>F9(e),Yw)}async function xB(e,t){const r=or(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Cne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Lk(s,`Initialization of query '${Qd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Mk(r)}async function bB(e,t){const r=or(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function One(e,t){const r=or(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Mk(r)}function Ine(e,t,r){const n=or(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Mk(e){e.fa.forEach(t=>{t.next()})}var G4,hI;(hI=G4||(G4={})).ya="default",hI.Cache="cache";class wB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new ip(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=ip.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==G4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(t){this.key=t}}class SB{constructor(t){this.key=t}}class Dne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=kr(),this.mutatedKeys=kr(),this.Ua=$9(t),this.Ka=new O0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new uI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=Xw(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;h&&d?h.data.isEqual(d.data)?g!==m&&(n.track({type:3,doc:d}),v=!0):this.ja(h,d)||(n.track({type:2,doc:d}),v=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),v=!0):h&&!d&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(d?(s=s.add(d),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tr(20277,{Vt:v})}};return m(d)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new ip(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new uI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=kr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new SB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new _B(n))}),r}Xa(t){this.qa=t.Ns,this.$a=kr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return ip.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Rk="SyncEngine";class jne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Lne{constructor(t){this.key=t,this.tu=!1}}class Mne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new sd(o=>F9(o),Yw),this.iu=new Map,this.su=new Set,this.ou=new zn(Kt.comparator),this._u=new Map,this.au=new Ek,this.uu={},this.cu=new Map,this.lu=ap.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Rne(e,t,r=!0){const n=CB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await AB(n,t,r,!0),a}async function Fne(e,t){const r=CB(e);await AB(r,t,!0,!1)}async function AB(e,t,r,n){const a=await ane(e.localStore,Dl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await $ne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&dB(e.remoteStore,a),o}async function $ne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(m,v,y,w){let _=v.view.Ga(y);_.ys&&(_=await aI(m.localStore,v.query,!1).then(({documents:E})=>v.view.Ga(E,_)));const I=w&&w.targetChanges.get(v.targetId),P=w&&w.targetMismatches.get(v.targetId)!=null,D=v.view.applyChanges(_,m.isPrimaryClient,I,P);return pI(m,v.targetId,D.Ya),D.snapshot}(e,f,h,d);const i=await aI(e.localStore,t,!0),s=new Dne(t,i.Ns),o=s.Ga(i.documents),l=I1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);pI(e,r,c.Ya);const u=new jne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Bne(e,t,r){const n=or(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Yw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await W4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Pk(n.remoteStore,a.targetId),K4(n,a.targetId)}).catch(Up)):(K4(n,a.targetId),await W4(n.localStore,a.targetId,!0))}async function Vne(e,t){const r=or(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pk(r.remoteStore,n.targetId))}async function Une(e,t,r){const n=Yne(e);try{const a=await function(s,o){const l=or(s),c=Xt.now(),u=o.reduce((d,g)=>d.add(g.key),kr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=jc(),m=kr();return l.Cs.getEntries(d,u).next(v=>{g=v,g.forEach((y,w)=>{w.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(v=>{f=v;const y=[];for(const w of o){const _=nre(w,f.get(w.key).overlayedDocument);_!=null&&y.push(new jf(w.key,_,C9(_.value.mapValue),Gi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(d,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:V9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new zn(_r)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await j1(n,a.changes),await n5(n.remoteStore)}catch(a){const i=Lk(a,"Failed to persist write");r.reject(i)}}async function TB(e,t){const r=or(e);try{const n=await tne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Yr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Yr(s.tu,14607):a.removedDocuments.size>0&&(Yr(s.tu,42227),s.tu=!1))}),await j1(r,n,t)}catch(n){await Up(n)}}function dI(e,t,r){const n=or(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=or(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Mk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function zne(e,t,r){const n=or(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new zn(Kt.comparator);s=s.insert(i,Si.newNoDocument(i,cr.min()));const o=kr().add(i),l=new e5(cr.min(),new Map,new zn(_r),s,o);await TB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Fk(n)}else await W4(n.localStore,t,!1).then(()=>K4(n,t,r)).catch(Up)}async function qne(e,t){const r=or(e),n=t.batch.batchId;try{const a=await ene(r.localStore,t);kB(r,n,null),EB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await j1(r,a)}catch(a){await Up(a)}}async function Wne(e,t,r){const n=or(e);try{const a=await function(s,o){const l=or(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Yr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);kB(n,t,r),EB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await j1(n,a)}catch(a){await Up(a)}}function EB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function kB(e,t,r){const n=or(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function K4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||NB(e,n)})}function NB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Pk(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Fk(e))}function pI(e,t,r){for(const n of r)n instanceof _B?(e.au.addReference(n.key,t),Hne(e,n)):n instanceof SB?(Bt(Rk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||NB(e,n.key)):tr(19791,{Iu:n})}function Hne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(Bt(Rk,"New document in limbo: "+r),e.su.add(n),Fk(e))}function Fk(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Kt(Cn.fromString(t)),n=e.lu.next();e._u.set(n,new Lne(r)),e.ou=e.ou.insert(r,n),dB(e.remoteStore,new Wu(Dl(wk(r.path)),n,"TargetPurposeLimboResolution",Hw.le))}}async function j1(e,t,r){const n=or(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=Nk.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=or(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ut.forEach(c,h=>ut.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>ut.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!zp(f))throw f;Bt(Ck,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),g=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function Gne(e,t){const r=or(e);if(!r.currentUser.isEqual(t)){Bt(Rk,"User change. New user:",t.toKey());const n=await cB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Rt(st.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await j1(r,n.Ms)}}function Kne(e,t){const r=or(e),n=r._u.get(t);if(n&&n.tu)return kr().add(n.key);{let a=kr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function CB(e){const t=or(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=TB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zne.bind(null,t),t.nu.Q_=One.bind(null,t.eventManager),t.nu.Tu=Ine.bind(null,t.eventManager),t}function Yne(e){const t=or(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wne.bind(null,t),t}class tb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=t5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Zre(this.persistence,new Xre,t.initialUser,this.serializer)}Ru(t){return new lB(kk.Ei,this.serializer)}Au(t){return new sne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tb.provider={build:()=>new tb};class Xne extends tb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Yr(this.persistence.referenceDelegate instanceof Z2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Lre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?os.withCacheSize(this.cacheSizeBytes):os.DEFAULT;return new lB(n=>Z2.Ei(n,r),this.serializer)}}class Y4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>dI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gne.bind(null,this.syncEngine),await Nne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Pne}()}createDatastore(t){const r=t5(t.databaseInfo.databaseId),n=function(i){return new fne(i)}(t.databaseInfo);return function(i,s,o,l){return new mne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new vne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>dI(this.syncEngine,r,0),function(){return oI.C()?new oI:new one}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Mne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=or(a);Bt(Kh,"RemoteStore shutting down."),i.aa.add(5),await D1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Y4.provider={build:()=>new Y4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Dc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="FirestoreClient";class Qne{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=bi.UNAUTHENTICATED,this.clientId=y9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{Bt(Af,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(Bt(Af,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Lk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function cS(e,t){e.asyncQueue.verifyOperationInProgress(),Bt(Af,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await cB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function mI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Jne(e);Bt(Af,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>cI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>cI(t.remoteStore,a)),e._onlineComponents=t}async function Jne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Bt(Af,"Using user provided OfflineComponentProvider");try{await cS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===st.FAILED_PRECONDITION||a.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;ep("Error using user provided cache. Falling back to memory cache: "+r),await cS(e,new tb)}}else Bt(Af,"Using default OfflineComponentProvider"),await cS(e,new Xne(void 0));return e._offlineComponents}async function $k(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Bt(Af,"Using user provided OnlineComponentProvider"),await mI(e,e._uninitializedComponentsProvider._online)):(Bt(Af,"Using default OnlineComponentProvider"),await mI(e,new Y4))),e._onlineComponents}function Zne(e){return $k(e).then(t=>t.syncEngine)}function eae(e){return $k(e).then(t=>t.datastore)}async function OB(e){const t=await $k(e),r=t.eventManager;return r.onListen=Rne.bind(null,t.syncEngine),r.onUnlisten=Bne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Fne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Vne.bind(null,t.syncEngine),r}function tae(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new PB({next:h=>{u.yu(),s.enqueueAndForget(()=>bB(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new Rt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new Rt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new wB(wk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return xB(i,f)}(await OB(e),e.asyncQueue,t,r,n)),n.promise}function rae(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new PB({next:h=>{u.yu(),s.enqueueAndForget(()=>bB(i,f)),h.fromCache&&l.source==="server"?c.reject(new Rt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new wB(o,u,{includeMetadataChanges:!0,Fa:!0});return xB(i,f)}(await OB(e),e.asyncQueue,t,r,n)),n.promise}function nae(e,t,r){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await eae(e);n.resolve(async function(s,o,l){var c;const u=or(s),{request:f,yt:h,parent:d}=_re(u.serializer,Ute(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(v=>!!v.result);Yr(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DB(e,t,r){if(!r)throw new Rt(st.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function aae(e,t,r,n){if(t===!0&&n===!0)throw new Rt(st.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function vI(e){if(!Kt.isDocumentKey(e))throw new Rt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function yI(e){if(Kt.isDocumentKey(e))throw new Rt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function a5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tr(12329,{type:typeof e})}function Vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Rt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=a5(e);throw new Rt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function iae(e,t){if(t<=0)throw new Rt(st.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jB="firestore.googleapis.com",xI=!0;class bI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=jB,this.ssl=xI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:xI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=oB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dre)throw new Rt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=IB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Rt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class i5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new lte;switch(n.type){case"firstParty":return new hte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Rt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,t9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=gI.get(r);n&&(Bt("ComponentProvider","Removing Datastore"),gI.delete(r),n.terminate())}(this),Promise.resolve()}}function sae(e,t,r,n={}){var a;e=Vs(e,i5);const i=dk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==jB&&s.host!==l&&ep("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!z2(c,o)&&(e._setSettings(c),i&&(MZ(`https://${l}`),t9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=bi.MOCK_USER;else{u=RZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Rt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bi(h)}e._authCredentials=new cte(new g9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Lf(this.firestore,t,this._query)}}class Ki{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ki(this.firestore,t,this._key)}}class uf extends Lf{constructor(t,r,n){super(t,r,wk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ki(this.firestore,null,new Kt(t))}withConverter(t){return new uf(this.firestore,t,this._path)}}function Et(e,t,...r){if(e=ol(e),DB("collection","path",t),e instanceof i5){const n=Cn.fromString(t,...r);return yI(n),new uf(e,null,n)}{if(!(e instanceof Ki||e instanceof uf))throw new Rt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cn.fromString(t,...r));return yI(n),new uf(e.firestore,null,n)}}function en(e,t,...r){if(e=ol(e),arguments.length===1&&(t=y9.newId()),DB("doc","path",t),e instanceof i5){const n=Cn.fromString(t,...r);return vI(n),new Ki(e,null,new Kt(n))}{if(!(e instanceof Ki||e instanceof uf))throw new Rt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Cn.fromString(t,...r));return vI(n),new Ki(e.firestore,e instanceof uf?e.converter:null,new Kt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wI="AsyncQueue";class _I{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new fB(this,"async_queue_retry"),this.ju=()=>{const n=lS();n&&Bt(wI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=lS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=lS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Il;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!zp(t))throw t;Bt(wI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Dc("INTERNAL UNHANDLED ERROR: ",SI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=jk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&tr(47125,{ec:SI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function SI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Gc extends i5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new _I,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _I(t),this._firestoreClient=void 0,await t}}}function oae(e,t){const r=typeof e=="object"?e:Yee(),n=typeof e=="string"?e:G2,a=qee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=jZ("firestore");i&&sae(a,...i)}return a}function L1(e){if(e._terminated)throw new Rt(st.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lae(e),e._firestoreClient}function lae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Nte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Qne(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class uae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new sp(li.fromBase64String(t))}catch(r){throw new Rt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new sp(li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Rt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Rt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Rt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return _r(this._lat,t._lat)||_r(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=/^__.*__$/;class hae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new jf(t,this.data,this.fieldMask,r,this.fieldTransforms):new O1(t,this.data,r,this.fieldTransforms)}}class LB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new jf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function MB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tr(40011,{oc:e})}}class Uk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Uk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return rb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(MB(this.oc)&&fae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class dae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||t5(t)}dc(t,r,n,a=!1){return new Uk({oc:t,methodName:r,Ec:n,path:ri.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function R1(e){const t=e._freezeSettings(),r=t5(e._databaseId);return new dae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function zk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);Wk("Data must be an object, but it was:",s,n);const o=$B(n,s);let l,c;if(i.merge)l=new Ms(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=X4(t,f,r);if(!s.contains(h))throw new Rt(st.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);VB(u,h)||u.push(h)}l=new Ms(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new hae(new us(o),l,c)}class F1 extends s5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof F1}}class qk extends s5{_toFieldTransform(t){return new Zte(t.path,new _v)}isEqual(t){return t instanceof qk}}function RB(e,t,r,n){const a=e.dc(1,t,r);Wk("Data must be an object, but it was:",a,n);const i=[],s=us.empty();Df(n,(l,c)=>{const u=Hk(t,l,r);c=ol(c);const f=a.hc(u);if(c instanceof F1)i.push(u);else{const h=$1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ms(i);return new LB(s,o,a.fieldTransforms)}function FB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[X4(t,n,r)],l=[a];if(i.length%2!=0)throw new Rt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(X4(t,i[h])),l.push(i[h+1]);const c=[],u=us.empty();for(let h=o.length-1;h>=0;--h)if(!VB(c,o[h])){const d=o[h];let g=l[h];g=ol(g);const m=s.hc(d);if(g instanceof F1)c.push(d);else{const v=$1(g,m);v!=null&&(c.push(d),u.set(d,v))}}const f=new Ms(c);return new LB(u,f,s.fieldTransforms)}function pae(e,t,r,n=!1){return $1(r,e.dc(n?4:3,t))}function $1(e,t){if(BB(e=ol(e)))return Wk("Unsupported field value:",t,e),$B(e,t);if(e instanceof s5)return function(n,a){if(!MB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=$1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ol(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Xt.fromDate(n);return{timestampValue:J2(a.serializer,i)}}if(n instanceof Xt){const i=new Xt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:J2(a.serializer,i)}}if(n instanceof Bk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof sp)return{bytesValue:Z9(a.serializer,n._byteString)};if(n instanceof Ki){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Vk)return function(s,o){return{mapValue:{fields:{[E9]:{stringValue:N9},[K2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return _k(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${a5(n)}`)}(e,t)}function $B(e,t){const r={};return b9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Df(e,(n,a)=>{const i=$1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function BB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Xt||e instanceof Bk||e instanceof sp||e instanceof Ki||e instanceof s5||e instanceof Vk)}function Wk(e,t,r){if(!BB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=a5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function X4(e,t,r){if((t=ol(t))instanceof M1)return t._internalPath;if(typeof t=="string")return Hk(e,t);throw rb("Field path arguments must be of type string or ",e,!1,void 0,r)}const mae=new RegExp("[~\\*/\\[\\]]");function Hk(e,t,r){if(t.search(mae)>=0)throw rb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new M1(...t.split("."))._internalPath}catch{throw rb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function rb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Rt(st.INVALID_ARGUMENT,o+e+l)}function VB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ki(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(o5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gae extends UB{data(){return super.data()}}function o5(e,t){return typeof t=="string"?Hk(e,t):t instanceof M1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Rt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gk{}class Kk extends Gk{}function sr(e,t,...r){let n=[];t instanceof Gk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Yk).length,o=i.filter(l=>l instanceof l5).length;if(s>1||s>0&&o>0)throw new Rt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class l5 extends Kk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new l5(t,r,n)}_apply(t){const r=this._parse(t);return zB(t._query,r),new Lf(t.firestore,t.converter,B4(t._query,r))}_parse(t){const r=R1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Rt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){TI(f,u);const g=[];for(const m of f)g.push(AI(l,i,m));h={arrayValue:{values:g}}}else h=AI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||TI(f,u),h=pae(o,s,f,u==="in"||u==="not-in");return va.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function lr(e,t,r){const n=t,a=o5("where",e);return l5._create(a,n,r)}class Yk extends Gk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Yk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ll.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)zB(s,l),s=B4(s,l)}(t._query,r),new Lf(t.firestore,t.converter,B4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xk extends Kk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Xk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Rt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Rt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new wv(i,s)}(t._query,this._field,this._direction);return new Lf(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new qp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function $a(e,t="asc"){const r=t,n=o5("orderBy",e);return Xk._create(n,r)}class Qk extends Kk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new Qk(t,r,n)}_apply(t){return new Lf(t.firestore,t.converter,X2(t._query,this._limit,this._limitType))}}function e2(e){return iae("limit",e),Qk._create("limit",e,"F")}function AI(e,t,r){if(typeof(r=ol(r))=="string"){if(r==="")throw new Rt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!M9(t)&&r.indexOf("/")!==-1)throw new Rt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Cn.fromString(r));if(!Kt.isDocumentKey(n))throw new Rt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return $O(e,new Kt(n))}if(r instanceof Ki)return $O(e,r._key);throw new Rt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a5(r)}.`)}function TI(e,t){if(!Array.isArray(e)||e.length===0)throw new Rt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function zB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Rt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class yae{convertValue(t,r="none"){switch(_f(t)){case 0:return null;case 1:return t.booleanValue;case 2:return na(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(wf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw tr(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Df(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[K2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>na(s.doubleValue));return new Vk(i)}convertGeoPoint(t){return new Bk(na(t.latitude),na(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Kw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(yv(t));default:return null}}convertTimestamp(t){const r=bf(t);return new Xt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Cn.fromString(t);Yr(sB(n),9688,{name:t});const a=new xv(n.get(1),n.get(3)),i=new Kt(n.popFirst(5));return a.isEqual(r)||Dc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function xae(){return new cae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qB extends UB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new t2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(o5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class t2 extends qB{data(t={}){return super.data(t)}}class bae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new ig(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new t2(this._firestore,this._userDataWriter,n.key,n,new ig(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Rt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new t2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ig(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new t2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new ig(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:wae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tr(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tv(e){e=Vs(e,Ki);const t=Vs(e.firestore,Gc);return tae(L1(t),e._key).then(r=>_ae(t,e,r))}class Zk extends yae{constructor(t){super(),this.firestore=t}convertBytes(t){return new sp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Ki(this.firestore,null,r)}}function ur(e){e=Vs(e,Lf);const t=Vs(e.firestore,Gc),r=L1(t),n=new Zk(t);return vae(e._query),rae(r,e._query).then(a=>new bae(t,n,e,a))}function tx(e,t,r){e=Vs(e,Ki);const n=Vs(e.firestore,Gc),a=Jk(e.converter,t,r);return B1(n,[zk(R1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Gi.none())])}function Fa(e,t,r,...n){e=Vs(e,Ki);const a=Vs(e.firestore,Gc),i=R1(a);let s;return s=typeof(t=ol(t))=="string"||t instanceof M1?FB(i,"updateDoc",e._key,t,r,n):RB(i,"updateDoc",e._key,t),B1(a,[s.toMutation(e._key,Gi.exists(!0))])}function op(e){return B1(Vs(e.firestore,Gc),[new Zw(e._key,Gi.none())])}function Or(e,t){const r=Vs(e.firestore,Gc),n=en(e),a=Jk(e.converter,t);return B1(r,[zk(R1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Gi.exists(!1))]).then(()=>n)}function B1(e,t){return function(n,a){const i=new Il;return n.asyncQueue.enqueueAndForget(async()=>Une(await Zne(n),a,i)),i.promise}(L1(e),t)}function _ae(e,t,r){const n=r.docs.get(t._key),a=new Zk(e);return new qB(e,a,t._key,n,new ig(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){return Sae(e,{count:xae()})}function Sae(e,t){const r=Vs(e.firestore,Gc),n=L1(r),a=Ete(t,(i,s)=>new ore(s,i.aggregateType,i._internalFieldPath));return nae(n,e._query,a).then(i=>function(o,l,c){const u=new Zk(o);return new uae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=R1(t)}set(t,r,n){this._verifyNotCommitted();const a=uS(t,this._firestore),i=Jk(a.converter,r,n),s=zk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Gi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=uS(t,this._firestore);let s;return s=typeof(r=ol(r))=="string"||r instanceof M1?FB(this._dataReader,"WriteBatch.update",i._key,r,n,a):RB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Gi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=uS(t,this._firestore);return this._mutations=this._mutations.concat(new Zw(r._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Rt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uS(e,t){if((e=ol(e)).firestore!==t)throw new Rt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(){return new F1("deleteField")}function Ah(){return new qk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(e){return L1(e=Vs(e,Gc)),new Aae(e,t=>B1(e,t))}(function(t,r=!0){(function(a){Vp=a})(Kee),W2(new mv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Gc(new ute(n.getProvider("auth-internal")),new dte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Rt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),P0(kO,NO,t),P0(kO,NO,"esm2017")})();const Eae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},kae=s9(Eae),at=oae(kae),WB=H.createContext(void 0),xa=()=>{const e=H.useContext(WB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Nae=({children:e})=>{const[t,r]=H.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=H.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await ur(Et(at,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await Or(Et(at,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),Or(Et(at,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return p.jsx(WB.Provider,{value:o,children:e})},HB=H.createContext(void 0),Cae=({children:e})=>{const[t,r]=H.useState(!0),n=()=>{r(!t)};return p.jsx(HB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},Xr=()=>{const e=H.useContext(HB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},tN=H.createContext({});function V1(e){const t=H.useRef(null);return t.current===null&&(t.current=e()),t.current}const rN=typeof window<"u",nN=rN?H.useLayoutEffect:H.useEffect,c5=H.createContext(null);function aN(e,t){e.indexOf(t)===-1&&e.push(t)}function u5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Lc=(e,t,r)=>r>t?t:r<e?e:r;let nb=()=>{};const Mc={},GB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function KB(e){return typeof e=="object"&&e!==null}const YB=e=>/^0[^.\s]+$/u.test(e);function iN(e){let t;return()=>(t===void 0&&(t=e()),t)}const mo=e=>e,Pae=(e,t)=>r=>t(e(r)),U1=(...e)=>e.reduce(Pae),lp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class sN{constructor(){this.subscriptions=[]}add(t){return aN(this.subscriptions,t),()=>u5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nl=e=>e*1e3,Ll=e=>e/1e3;function XB(e,t){return t?e*(1e3/t):0}const Oae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},QB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Iae=1e-7,Dae=12;function jae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=QB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Iae&&++o<Dae);return s}function z1(e,t,r,n){if(e===t&&r===n)return mo;const a=i=>jae(i,0,1,e,r);return i=>i===0||i===1?i:QB(a(i),t,n)}const JB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ZB=e=>t=>1-e(1-t),eV=z1(.33,1.53,.69,.99),oN=ZB(eV),tV=JB(oN),rV=e=>(e*=2)<1?.5*oN(e):.5*(2-Math.pow(2,-10*(e-1))),lN=e=>1-Math.sin(Math.acos(e)),nV=ZB(lN),aV=JB(lN),Lae=z1(.42,0,1,1),Mae=z1(0,0,.58,1),iV=z1(.42,0,.58,1),sV=e=>Array.isArray(e)&&typeof e[0]!="number";function oV(e,t){return sV(e)?e[Oae(0,e.length,t)]:e}const lV=e=>Array.isArray(e)&&typeof e[0]=="number",kI={linear:mo,easeIn:Lae,easeInOut:iV,easeOut:Mae,circIn:lN,circInOut:aV,circOut:nV,backIn:oN,backInOut:tV,backOut:eV,anticipate:rV},Rae=e=>typeof e=="string",NI=e=>{if(lV(e)){nb(e.length===4);const[t,r,n,a]=e;return z1(t,r,n,a)}else if(Rae(e))return nb(kI[e]!==void 0),kI[e];return e},rx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],CI={value:null,addProjectionMetrics:null};function Fae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const m=d&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&CI.value&&CI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const $ae=40;function cV(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=rx.reduce((_,I)=>(_[I]=Fae(i,t?I:void 0),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:g}=s,m=()=>{const _=Mc.useManualTiming?a.timestamp:performance.now();r=!1,Mc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,$ae),1)),a.timestamp=_,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:rx.reduce((_,I)=>{const P=s[I];return _[I]=(D,E=!1,A=!1)=>(r||v(),P.schedule(D,E,A)),_},{}),cancel:_=>{for(let I=0;I<rx.length;I++)s[rx[I]].cancel(_)},state:a,steps:s}}const{schedule:Fn,cancel:Rc,state:Ja,steps:fS}=cV(typeof requestAnimationFrame<"u"?requestAnimationFrame:mo,!0);let r2;function Bae(){r2=void 0}const hs={now:()=>(r2===void 0&&hs.set(Ja.isProcessing||Mc.useManualTiming?Ja.timestamp:performance.now()),r2),set:e=>{r2=e,queueMicrotask(Bae)}},uV=e=>t=>typeof t=="string"&&t.startsWith(e),cN=uV("--"),Vae=uV("var(--"),uN=e=>Vae(e)?Uae.test(e.split("/*")[0].trim()):!1,Uae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ev={...Hp,transform:e=>Lc(0,1,e)},nx={...Hp,default:1},Eg=e=>Math.round(e*1e5)/1e5,fN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zae(e){return e==null}const qae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hN=(e,t)=>r=>!!(typeof r=="string"&&qae.test(r)&&r.startsWith(e)||t&&!zae(r)&&Object.prototype.hasOwnProperty.call(r,t)),fV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(fN);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Wae=e=>Lc(0,255,e),hS={...Hp,transform:e=>Math.round(Wae(e))},Th={test:hN("rgb","red"),parse:fV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+hS.transform(e)+", "+hS.transform(t)+", "+hS.transform(r)+", "+Eg(Ev.transform(n))+")"};function Hae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Q4={test:hN("#"),parse:Hae,transform:Th.transform},q1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ou=q1("deg"),Ml=q1("%"),ar=q1("px"),Gae=q1("vh"),Kae=q1("vw"),PI={...Ml,parse:e=>Ml.parse(e)/100,transform:e=>Ml.transform(e*100)},p0={test:hN("hsl","hue"),parse:fV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ml.transform(Eg(t))+", "+Ml.transform(Eg(r))+", "+Eg(Ev.transform(n))+")"},yi={test:e=>Th.test(e)||Q4.test(e)||p0.test(e),parse:e=>Th.test(e)?Th.parse(e):p0.test(e)?p0.parse(e):Q4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Th.transform(e):p0.transform(e)},Yae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fN))==null?void 0:t.length)||0)+(((r=e.match(Yae))==null?void 0:r.length)||0)>0}const hV="number",dV="color",Qae="var",Jae="var(",OI="${}",Zae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Zae,l=>(yi.test(l)?(n.color.push(i),a.push(dV),r.push(yi.parse(l))):l.startsWith(Jae)?(n.var.push(i),a.push(Qae),r.push(l)):(n.number.push(i),a.push(hV),r.push(parseFloat(l))),++i,OI)).split(OI);return{values:r,split:o,indexes:n,types:a}}function pV(e){return kv(e).values}function mV(e){const{split:t,types:r}=kv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===hV?i+=Eg(a[s]):o===dV?i+=yi.transform(a[s]):i+=a[s]}return i}}const eie=e=>typeof e=="number"?0:e;function tie(e){const t=pV(e);return mV(e)(t.map(eie))}const Tf={test:Xae,parse:pV,createTransformer:mV,getAnimatableNone:tie};function dS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=dS(l,o,e+1/3),i=dS(l,o,e),s=dS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ab(e,t){return r=>r>0?t:e}const Ln=(e,t,r)=>e+(t-e)*r,pS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},nie=[Q4,Th,p0],aie=e=>nie.find(t=>t.test(e));function II(e){const t=aie(e);if(!t)return!1;let r=t.parse(e);return t===p0&&(r=rie(r)),r}const DI=(e,t)=>{const r=II(e),n=II(t);if(!r||!n)return ab(e,t);const a={...r};return i=>(a.red=pS(r.red,n.red,i),a.green=pS(r.green,n.green,i),a.blue=pS(r.blue,n.blue,i),a.alpha=Ln(r.alpha,n.alpha,i),Th.transform(a))},J4=new Set(["none","hidden"]);function iie(e,t){return J4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function sie(e,t){return r=>Ln(e,t,r)}function dN(e){return typeof e=="number"?sie:typeof e=="string"?uN(e)?ab:yi.test(e)?DI:cie:Array.isArray(e)?gV:typeof e=="object"?yi.test(e)?DI:oie:ab}function gV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>dN(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function oie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=dN(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function lie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const cie=(e,t)=>{const r=Tf.createTransformer(t),n=kv(e),a=kv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?J4.has(e)&&!a.values.length||J4.has(t)&&!n.values.length?iie(e,t):U1(gV(lie(n,a),a.values),r):ab(e,t)};function vV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ln(e,t,r):dN(e)(e,t)}const uie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Fn.update(t,r),stop:()=>Rc(t),now:()=>Ja.isProcessing?Ja.timestamp:hs.now()}},yV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},ib=2e4;function pN(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ib;)t+=r,n=e.next(t);return t>=ib?1/0:t}function xV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(pN(n),ib);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ll(a)}}const fie=5;function bV(e,t,r){const n=Math.max(t-fie,0);return XB(r-e(n),t-n)}const Yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mS=.001;function hie({duration:e=Yn.duration,bounce:t=Yn.bounce,velocity:r=Yn.velocity,mass:n=Yn.mass}){let a,i,s=1-t;s=Lc(Yn.minDamping,Yn.maxDamping,s),e=Lc(Yn.minDuration,Yn.maxDuration,Ll(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=Z4(c,s),g=Math.exp(-f);return mS-h/d*g},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=Z4(Math.pow(c,2),s);return(-a(c)+mS>0?-1:1)*((h-d)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-mS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=pie(a,i,o);if(e=nl(e),isNaN(l))return{stiffness:Yn.stiffness,damping:Yn.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const die=12;function pie(e,t,r){let n=r;for(let a=1;a<die;a++)n=n-e(n)/t(n);return n}function Z4(e,t){return e*Math.sqrt(1-t*t)}const mie=["duration","bounce"],gie=["stiffness","damping","mass"];function jI(e,t){return t.some(r=>e[r]!==void 0)}function vie(e){let t={velocity:Yn.velocity,stiffness:Yn.stiffness,damping:Yn.damping,mass:Yn.mass,isResolvedFromDuration:!1,...e};if(!jI(e,gie)&&jI(e,mie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Lc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Yn.mass,stiffness:a,damping:i}}else{const r=hie(e);t={...t,...r,mass:Yn.mass},t.isResolvedFromDuration=!0}return t}function Nv(e=Yn.visualDuration,t=Yn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=vie({...r,velocity:-Ll(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Ll(Math.sqrt(l/u)),w=Math.abs(v)<5;n||(n=w?Yn.restSpeed.granular:Yn.restSpeed.default),a||(a=w?Yn.restDelta.granular:Yn.restDelta.default);let _;if(m<1){const P=Z4(y,m);_=D=>{const E=Math.exp(-m*y*D);return s-E*((g+m*y*v)/P*Math.sin(P*D)+v*Math.cos(P*D))}}else if(m===1)_=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);_=D=>{const E=Math.exp(-m*y*D),A=Math.min(P*D,300);return s-E*((g+m*y*v)*Math.sinh(A)+P*v*Math.cosh(A))/P}}const I={calculatedDuration:d&&f||null,next:P=>{const D=_(P);if(d)o.done=P>=f;else{let E=P===0?g:0;m<1&&(E=P===0?nl(g):bV(_,P,D));const A=Math.abs(E)<=n,b=Math.abs(s-D)<=a;o.done=A&&b}return o.value=o.done?s:D,o},toString:()=>{const P=Math.min(pN(I),ib),D=yV(E=>I.next(P*E).value,P,30);return P+"ms "+D},toTransition:()=>{}};return I}Nv.applyToOptions=e=>{const t=xV(e,100,Nv);return e.ease=t.ease,e.duration=nl(t.duration),e.type="keyframes",e};function eT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=A=>o!==void 0&&A<o||l!==void 0&&A>l,g=A=>o===void 0?l:l===void 0||Math.abs(o-A)<Math.abs(l-A)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const w=A=>-m*Math.exp(-A/n),_=A=>y+w(A),I=A=>{const b=w(A),O=_(A);h.done=Math.abs(b)<=c,h.value=h.done?y:O};let P,D;const E=A=>{d(h.value)&&(P=A,D=Nv({keyframes:[h.value,g(h.value)],velocity:bV(_,A,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:A=>{let b=!1;return!D&&P===void 0&&(b=!0,I(A),E(A)),P!==void 0&&A>=P?D.next(A-P):(!b&&I(A),h)}}}function yie(e,t,r){const n=[],a=r||Mc.mix||vV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||mo:t;o=U1(l,o)}n.push(o)}return n}function wV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(nb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=lp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Lc(e[0],e[i-1],u)):c}function _V(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=lp(0,t,n);e.push(Ln(r,1,a))}}function SV(e){const t=[0];return _V(t,e.length-1),t}function xie(e,t){return e.map(r=>r*t)}function bie(e,t){return e.map(()=>t||iV).splice(0,e.length-1)}function kg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=sV(n)?n.map(NI):NI(n),i={done:!1,value:t[0]},s=xie(r&&r.length===t.length?r:SV(t),e),o=wV(s,t,{ease:Array.isArray(a)?a:bie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const wie=e=>e!==null;function mN(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(wie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const _ie={decay:eT,inertia:eT,tween:kg,keyframes:kg,spring:Nv};function AV(e){typeof e.type=="string"&&(e.type=_ie[e.type])}class gN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Sie=e=>e/100;class vN extends gN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==hs.now()&&this.tick(hs.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;AV(t);const{type:r=kg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||kg;l!==kg&&typeof o[0]!="number"&&(this.mixKeyframes=U1(Sie,vV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=pN(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,I=n;if(f){const A=Math.min(this.currentTime,a)/o;let b=Math.floor(A),O=A%1;!O&&A>=1&&(O=1),O===1&&b--,b=Math.min(b,f+1),!!(b%2)&&(h==="reverse"?(O=1-O,d&&(O-=d/o)):h==="mirror"&&(I=s)),_=Lc(0,1,O)*o}const P=w?{done:!1,value:u[0]}:I.next(_);i&&(P.value=i(P.value));let{done:D}=P;!w&&l!==null&&(D=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&g!==eT&&(P.value=mN(u,this.options,v,this.speed)),m&&m(P.value),E&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Ll(this.calculatedDuration)}get time(){return Ll(this.currentTime)}set time(t){var r;t=nl(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(hs.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ll(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=uie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(hs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Aie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Eh=e=>e*180/Math.PI,tT=e=>{const t=Eh(Math.atan2(e[1],e[0]));return rT(t)},Tie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tT,rotateZ:tT,skewX:e=>Eh(Math.atan(e[1])),skewY:e=>Eh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rT=e=>(e=e%360,e<0&&(e+=360),e),LI=tT,MI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),RI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Eie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:MI,scaleY:RI,scale:e=>(MI(e)+RI(e))/2,rotateX:e=>rT(Eh(Math.atan2(e[6],e[5]))),rotateY:e=>rT(Eh(Math.atan2(-e[2],e[0]))),rotateZ:LI,rotate:LI,skewX:e=>Eh(Math.atan(e[4])),skewY:e=>Eh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nT(e){return e.includes("scale")?1:0}function aT(e,t){if(!e||e==="none")return nT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Eie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Tie,a=o}if(!a)return nT(t);const i=n[t],s=a[1].split(",").map(Nie);return typeof i=="function"?i(s):s[i]}const kie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return aT(r,t)};function Nie(e){return parseFloat(e.trim())}const Gp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kp=new Set(Gp),FI=e=>e===Hp||e===ar,Cie=new Set(["x","y","z"]),Pie=Gp.filter(e=>!Cie.has(e));function Oie(e){const t=[];return Pie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const jh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>aT(t,"x"),y:(e,{transform:t})=>aT(t,"y")};jh.translateX=jh.x;jh.translateY=jh.y;const Lh=new Set;let iT=!1,sT=!1,oT=!1;function TV(){if(sT){const e=Array.from(Lh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Oie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}sT=!1,iT=!1,Lh.forEach(e=>e.complete(oT)),Lh.clear()}function EV(){Lh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sT=!0)})}function Iie(){oT=!0,EV(),TV(),oT=!1}class yN{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Lh.add(this),iT||(iT=!0,Fn.read(EV),Fn.resolveKeyframes(TV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Aie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Lh.delete(this)}cancel(){this.state==="scheduled"&&(Lh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Die=e=>e.startsWith("--");function jie(e,t,r){Die(t)?e.style.setProperty(t,r):e.style[t]=r}const Lie=iN(()=>window.ScrollTimeline!==void 0),Mie={};function Rie(e,t){const r=iN(e);return()=>Mie[t]??r()}const kV=Rie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),sg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,$I={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:sg([0,.65,.55,1]),circOut:sg([.55,0,1,.45]),backIn:sg([.31,.01,.66,-.59]),backOut:sg([.33,1.53,.69,.99])};function NV(e,t){if(e)return typeof e=="function"?kV()?yV(e,t):"ease-out":lV(e)?sg(e):Array.isArray(e)?e.map(r=>NV(r,t)||$I.easeOut):$I[e]}function Fie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=NV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function xN(e){return typeof e=="function"&&"applyToOptions"in e}function $ie({type:e,...t}){return xN(e)&&kV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Bie extends gN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,nb(typeof t.type!="string");const c=$ie(t);this.animation=Fie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=mN(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):jie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ll(Number(t))}get time(){return Ll(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=nl(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Lie()?(this.animation.timeline=t,mo):r(this)}}const CV={anticipate:rV,backInOut:tV,circInOut:aV};function Vie(e){return e in CV}function Uie(e){typeof e.ease=="string"&&Vie(e.ease)&&(e.ease=CV[e.ease])}const BI=10;class zie extends Bie{constructor(t){Uie(t),AV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new vN({...s,autoplay:!1}),l=nl(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-BI).value,o.sample(l).value,BI),o.stop()}}const VI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tf.test(e)||e==="0")&&!e.startsWith("url("));function qie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Wie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=VI(a,t),o=VI(i,t);return!s||!o?!1:qie(e)||(r==="spring"||xN(r))&&n}function bN(e){return KB(e)&&"offsetHeight"in e}const Hie=new Set(["opacity","clipPath","filter","transform"]),Gie=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!bN((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Gie()&&r&&Hie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Yie=40;class Xie extends gN{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=hs.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||yN;this.keyframeResolver=new d(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=hs.now(),Wie(t,i,s,o)||((Mc.instantAnimations||!l)&&(u==null||u(mN(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&Kie(h)?new zie({...h,element:h.motionValue.owner.current}):new vN(h);d.finished.then(()=>this.notifyFinished()).catch(mo),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Iie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Qie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Jie extends Qie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Zie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ese(e){const t=Zie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function PV(e,t,r=1){const[n,a]=ese(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return GB(s)?parseFloat(s):s}return uN(a)?PV(a,t,r+1):a}function wN(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const OV=new Set(["width","height","top","left","right","bottom",...Gp]),tse={test:e=>e==="auto",parse:e=>e},IV=e=>t=>t.test(e),DV=[Hp,ar,Ml,Ou,Kae,Gae,tse],UI=e=>DV.find(IV(e));function rse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||YB(e):!0}const nse=new Set(["brightness","contrast","saturate","opacity"]);function ase(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(fN)||[];if(!n)return e;const a=r.replace(n,"");let i=nse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const ise=/\b([a-z-]*)\(.*?\)/gu,lT={...Tf,getAnimatableNone:e=>{const t=e.match(ise);return t?t.map(ase).join(" "):e}},zI={...Hp,transform:Math.round},sse={rotate:Ou,rotateX:Ou,rotateY:Ou,rotateZ:Ou,scale:nx,scaleX:nx,scaleY:nx,scaleZ:nx,skew:Ou,skewX:Ou,skewY:Ou,distance:ar,translateX:ar,translateY:ar,translateZ:ar,x:ar,y:ar,z:ar,perspective:ar,transformPerspective:ar,opacity:Ev,originX:PI,originY:PI,originZ:ar},_N={borderWidth:ar,borderTopWidth:ar,borderRightWidth:ar,borderBottomWidth:ar,borderLeftWidth:ar,borderRadius:ar,radius:ar,borderTopLeftRadius:ar,borderTopRightRadius:ar,borderBottomRightRadius:ar,borderBottomLeftRadius:ar,width:ar,maxWidth:ar,height:ar,maxHeight:ar,top:ar,right:ar,bottom:ar,left:ar,padding:ar,paddingTop:ar,paddingRight:ar,paddingBottom:ar,paddingLeft:ar,margin:ar,marginTop:ar,marginRight:ar,marginBottom:ar,marginLeft:ar,backgroundPositionX:ar,backgroundPositionY:ar,...sse,zIndex:zI,fillOpacity:Ev,strokeOpacity:Ev,numOctaves:zI},ose={..._N,color:yi,backgroundColor:yi,outlineColor:yi,fill:yi,stroke:yi,borderColor:yi,borderTopColor:yi,borderRightColor:yi,borderBottomColor:yi,borderLeftColor:yi,filter:lT,WebkitFilter:lT},jV=e=>ose[e];function LV(e,t){let r=jV(e);return r!==lT&&(r=Tf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const lse=new Set(["auto","none","0"]);function cse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!lse.has(i)&&kv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=LV(r,a)}class use extends yN{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),uN(c))){const u=PV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!OV.has(n)||t.length!==2)return;const[a,i]=t,s=UI(a),o=UI(i);if(s!==o)if(FI(s)&&FI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else jh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||rse(t[a]))&&n.push(a);n.length&&cse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=jh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function MV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const qI=30,fse=e=>!isNaN(parseFloat(e)),Ng={current:void 0};class hse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=hs.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=hs.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new sN);const n=this.events[t].add(r);return t==="change"?()=>{n(),Fn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ng.current&&Ng.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=hs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qI);return XB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yh(e,t){return new hse(e,t)}const RV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:SN,cancel:wBe}=cV(queueMicrotask,!1),Uo={x:!1,y:!1};function FV(){return Uo.x||Uo.y}function dse(e){return e==="x"||e==="y"?Uo[e]?null:(Uo[e]=!0,()=>{Uo[e]=!1}):Uo.x||Uo.y?null:(Uo.x=Uo.y=!0,()=>{Uo.x=Uo.y=!1})}function $V(e,t){const r=MV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function WI(e){return!(e.pointerType==="touch"||FV())}function pse(e,t,r={}){const[n,a,i]=$V(e,r),s=o=>{if(!WI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{WI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const BV=(e,t)=>t?e===t?!0:BV(e,t.parentElement):!1,AN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gse(e){return mse.has(e.tagName)||e.tabIndex!==-1}const n2=new WeakSet;function HI(e){return t=>{t.key==="Enter"&&e(t)}}function gS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=HI(()=>{if(n2.has(r))return;gS(r,"down");const a=HI(()=>{gS(r,"up")}),i=()=>gS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function GI(e){return AN(e)&&!FV()}function yse(e,t,r={}){const[n,a,i]=$V(e,r),s=o=>{const l=o.currentTarget;if(!GI(o))return;n2.add(l);const c=t(l,o),u=(d,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),n2.has(l)&&n2.delete(l),GI(d)&&typeof c=="function"&&c(d,{success:g})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||BV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),bN(o)&&(o.addEventListener("focus",c=>vse(c,a)),!gse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function TN(e){return KB(e)&&"ownerSVGElement"in e}function VV(e){return TN(e)&&e.tagName==="svg"}function xse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=wV(a,i,s);return t?o(n):o}const Ba=e=>!!(e&&e.getVelocity),bse=[...DV,yi,Tf],wse=e=>bse.find(IV(e)),f5=H.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _se extends H.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=bN(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Sse({children:e,isPresent:t,anchorX:r}){const n=H.useId(),a=H.useRef(null),i=H.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=H.useContext(f5);return H.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),p.jsx(_se,{isPresent:t,childRef:a,sizeRef:i,children:H.cloneElement(e,{ref:a})})}const Ase=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=V1(Tse),c=H.useId();let u=!0,f=H.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),H.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),H.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=p.jsx(Sse,{isPresent:r,anchorX:o,children:e})),p.jsx(c5.Provider,{value:f,children:e})};function Tse(){return new Map}function UV(e=!0){const t=H.useContext(c5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=H.useId();H.useEffect(()=>{if(e)return a(i)},[e]);const s=H.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const ax=e=>e.key||"";function KI(e){const t=[];return H.Children.forEach(e,r=>{H.isValidElement(r)&&t.push(r)}),t}const zV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=UV(s),u=H.useMemo(()=>KI(e),[e]),f=s&&!l?[]:u.map(ax),h=H.useRef(!0),d=H.useRef(u),g=V1(()=>new Map),[m,v]=H.useState(u),[y,w]=H.useState(u);nN(()=>{h.current=!1,d.current=u;for(let P=0;P<y.length;P++){const D=ax(y[P]);f.includes(D)?g.delete(D):g.get(D)!==!0&&g.set(D,!1)}},[y,f.length,f.join("-")]);const _=[];if(u!==m){let P=[...u];for(let D=0;D<y.length;D++){const E=y[D],A=ax(E);f.includes(A)||(P.splice(D,0,E),_.push(E))}return i==="wait"&&_.length&&(P=_),w(KI(P)),v(u),null}const{forceRender:I}=H.useContext(tN);return p.jsx(p.Fragment,{children:y.map(P=>{const D=ax(P),E=s&&!l?!1:u===y||f.includes(D),A=()=>{if(g.has(D))g.set(D,!0);else return;let b=!0;g.forEach(O=>{O||(b=!1)}),b&&(I==null||I(),w(d.current),s&&(c==null||c()),n&&n())};return p.jsx(Ase,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:A,anchorX:o,children:P},D)})})},qV=H.createContext({strict:!1}),YI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cp={};for(const e in YI)cp[e]={isEnabled:t=>YI[e].some(r=>!!t[r])};function Ese(e){for(const t in e)cp[t]={...cp[t],...e[t]}}const kse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kse.has(e)}let WV=e=>!sb(e);function Nse(e){e&&(WV=t=>t.startsWith("on")?!sb(t):e(t))}try{Nse(require("@emotion/is-prop-valid").default)}catch{}function Cse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(WV(a)||r===!0&&sb(a)||!t&&!sb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Pse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const h5=H.createContext({});function d5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Cv(e){return typeof e=="string"||Array.isArray(e)}const EN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kN=["initial",...EN];function p5(e){return d5(e.animate)||kN.some(t=>Cv(e[t]))}function HV(e){return!!(p5(e)||e.variants)}function Ose(e,t){if(p5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Cv(r)?r:void 0,animate:Cv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Ise(e){const{initial:t,animate:r}=Ose(e,H.useContext(h5));return H.useMemo(()=>({initial:t,animate:r}),[XI(t),XI(r)])}function XI(e){return Array.isArray(e)?e.join(" "):e}const Dse=Symbol.for("motionComponentSymbol");function m0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jse(e,t,r){return H.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):m0(r)&&(r.current=n))},[t])}const NN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lse="framerAppearId",GV="data-"+NN(Lse),KV=H.createContext({});function Mse(e,t,r,n,a){var m,v;const{visualElement:i}=H.useContext(h5),s=H.useContext(qV),o=H.useContext(c5),l=H.useContext(f5).reducedMotion,c=H.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=H.useContext(KV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Rse(c.current,r,a,f);const h=H.useRef(!1);H.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[GV],g=H.useRef(!!d&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return nN(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),SN.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),H.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,d)}),g.current=!1))}),u}function Rse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:YV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&m0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function YV(e){if(e)return e.options.allowProjection!==!1?e.projection:YV(e.parent)}function Fse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Ese(e);function i(o,l){let c;const u={...H.useContext(f5),...o,layoutId:$se(o)},{isStatic:f}=u,h=Ise(o),d=n(o,f);if(!f&&rN){Bse();const g=Vse(u);c=g.MeasureLayout,h.visualElement=Mse(a,d,u,t,g.ProjectionNode)}return p.jsxs(h5.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,jse(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=H.forwardRef(i);return s[Dse]=a,s}function $se({layoutId:e}){const t=H.useContext(tN).id;return t&&e!==void 0?t+"-"+e:e}function Bse(e,t){H.useContext(qV).strict}function Vse(e){const{drag:t,layout:r}=cp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Pv={};function Use(e){for(const t in e)Pv[t]=e[t],cN(t)&&(Pv[t].isCSSVariable=!0)}function XV(e,{layout:t,layoutId:r}){return Kp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Pv[e]||e==="opacity")}const zse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qse=Gp.length;function Wse(e,t,r){let n="",a=!0;for(let i=0;i<qse;i++){const s=Gp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=RV(o,_N[s]);if(!l){a=!1;const u=zse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function CN(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Kp.has(l)){s=!0;continue}else if(cN(l)){a[l]=c;continue}else{const u=RV(c,_N[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Wse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const PN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function QV(e,t,r){for(const n in t)!Ba(t[n])&&!XV(n,r)&&(e[n]=t[n])}function Hse({transformTemplate:e},t){return H.useMemo(()=>{const r=PN();return CN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Gse(e,t){const r=e.style||{},n={};return QV(n,r,e),Object.assign(n,Hse(e,t)),n}function Kse(e,t){const r={},n=Gse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Yse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xse={offset:"strokeDashoffset",array:"strokeDasharray"};function Qse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Yse:Xse;e[i.offset]=ar.transform(-n);const s=ar.transform(t),o=ar.transform(r);e[i.array]=`${s} ${o}`}function JV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(CN(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Qse(f,a,i,s,!1)}const ZV=()=>({...PN(),attrs:{}}),eU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Jse(e,t,r,n){const a=H.useMemo(()=>{const i=ZV();return JV(i,t,eU(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};QV(i,e.style,e),a.style={...i,...a.style}}return a}const Zse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ON(e){return typeof e!="string"||e.includes("-")?!1:!!(Zse.indexOf(e)>-1||/[A-Z]/u.test(e))}function eoe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(ON(r)?Jse:Kse)(n,i,s,r),c=Cse(n,typeof r=="string",e),u=r!==H.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=H.useMemo(()=>Ba(f)?f.get():f,[f]);return H.createElement(r,{...u,children:h})}}function QI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function IN(e,t,r,n){if(typeof t=="function"){const[a,i]=QI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=QI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function a2(e){return Ba(e)?e.get():e}function toe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:roe(r,n,a,e),renderState:t()}}const tU=e=>(t,r)=>{const n=H.useContext(h5),a=H.useContext(c5),i=()=>toe(e,t,n,a);return r?i():V1(i)};function roe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=a2(i[h]);let{initial:s,animate:o}=e;const l=p5(e),c=HV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!d5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const g=IN(e,h[d]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const w in y){let _=y[w];if(Array.isArray(_)){const I=u?_.length-1:0;_=_[I]}_!==null&&(a[w]=_)}for(const w in m)a[w]=m[w]}}}return a}function DN(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ba(n[s])||t.style&&Ba(t.style[s])||XV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const noe={useVisualState:tU({scrapeMotionValuesFromProps:DN,createRenderState:PN})};function rU(e,t,r){const n=DN(e,t,r);for(const a in e)if(Ba(e[a])||Ba(t[a])){const i=Gp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const aoe={useVisualState:tU({scrapeMotionValuesFromProps:rU,createRenderState:ZV})};function ioe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...ON(n)?aoe:noe,preloadedFeatures:e,useRender:eoe(a),createVisualElement:t,Component:n};return Fse(s)}}function Ov(e,t,r){const n=e.getProps();return IN(n,t,r!==void 0?r:n.custom,e)}const cT=e=>Array.isArray(e);function soe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Yh(r))}function ooe(e){return cT(e)?e[e.length-1]||0:e}function loe(e,t){const r=Ov(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=ooe(i[s]);soe(e,s,o)}}function coe(e){return!!(Ba(e)&&e.add)}function uT(e,t){const r=e.getValue("willChange");if(coe(r))return r.add(t);if(!r&&Mc.WillChange){const n=new Mc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function nU(e){return e.props[GV]}const uoe=e=>e!==null;function foe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(uoe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const hoe={type:"spring",stiffness:500,damping:25,restSpeed:10},doe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),poe={type:"keyframes",duration:.8},moe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},goe=(e,{keyframes:t})=>t.length>2?poe:Kp.has(e)?e.startsWith("scale")?doe(t[1]):hoe:moe;function voe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jN=(e,t,r,n={},a,i)=>s=>{const o=wN(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-nl(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};voe(o)||Object.assign(u,goe(e,u)),u.duration&&(u.duration=nl(u.duration)),u.repeatDelay&&(u.repeatDelay=nl(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Mc.instantAnimations||Mc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=foe(u.keyframes,o);if(h!==void 0){Fn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new vN(u):new Xie(u)};function yoe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function LN(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&yoe(c,u))continue;const d={delay:r,...wN(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=nU(e);if(y){const w=window.MotionHandoffAnimation(y,u,Fn);w!==null&&(d.startTime=w,m=!0)}}uT(e,u),f.start(jN(u,f,h,e.shouldReduceMotion&&OV.has(u)?{type:!1}:d,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Fn.update(()=>{s&&loe(e,s)})}),l}function fT(e,t,r={}){var l;const n=Ov(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(LN(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return xoe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function xoe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(boe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(fT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function boe(e,t){return e.sortNodePosition(t)}function woe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>fT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=fT(e,t,r);else{const a=typeof t=="function"?Ov(e,t,r.custom):t;n=Promise.all(LN(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function aU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const _oe=kN.length;function iU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?iU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<_oe;r++){const n=kN[r],a=e.props[n];(Cv(a)||a===!1)&&(t[n]=a)}return t}const Soe=[...EN].reverse(),Aoe=EN.length;function Toe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>woe(e,r,n)))}function Eoe(e){let t=Toe(e),r=JI(),n=!0;const a=l=>(c,u)=>{var h;const f=Ov(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=iU(e.parent)||{},f=[],h=new Set;let d={},g=1/0;for(let v=0;v<Aoe;v++){const y=Soe[v],w=r[y],_=c[y]!==void 0?c[y]:u[y],I=Cv(_),P=y===l?w.isActive:null;P===!1&&(g=v);let D=_===u[y]&&_!==c[y]&&I;if(D&&n&&e.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...d},!w.isActive&&P===null||!_&&!w.prevProp||d5(_)||typeof _=="boolean")continue;const E=koe(w.prevProp,_);let A=E||y===l&&w.isActive&&!D&&I||v>g&&I,b=!1;const O=Array.isArray(_)?_:[_];let T=O.reduce(a(y),{});P===!1&&(T={});const{prevResolvedValues:N={}}=w,j={...N,...T},K=Z=>{A=!0,h.has(Z)&&(b=!0,h.delete(Z)),w.needsAnimating[Z]=!0;const q=e.getValue(Z);q&&(q.liveStyle=!1)};for(const Z in j){const q=T[Z],U=N[Z];if(d.hasOwnProperty(Z))continue;let te=!1;cT(q)&&cT(U)?te=!aU(q,U):te=q!==U,te?q!=null?K(Z):h.add(Z):q!==void 0&&h.has(Z)?K(Z):w.protectedKeys[Z]=!0}w.prevProp=_,w.prevResolvedValues=T,w.isActive&&(d={...d,...T}),n&&e.blockInitialAnimation&&(A=!1),A&&(!(D&&E)||b)&&f.push(...O.map(Z=>({animation:Z,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Ov(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const w=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),v[y]=w??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=JI(),n=!0}}}function koe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!aU(t,e):!1}function oh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function JI(){return{animate:oh(!0),whileInView:oh(),whileHover:oh(),whileTap:oh(),whileDrag:oh(),whileFocus:oh(),exit:oh()}}class Mf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Noe extends Mf{constructor(t){super(t),t.animationState||(t.animationState=Eoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();d5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Coe=0;class Poe extends Mf{constructor(){super(...arguments),this.id=Coe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ooe={animation:{Feature:Noe},exit:{Feature:Poe}};function Iv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function W1(e){return{point:{x:e.pageX,y:e.pageY}}}const Ioe=e=>t=>AN(t)&&e(t,W1(t));function Cg(e,t,r,n){return Iv(e,t,Ioe(r),n)}function sU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Doe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function joe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const oU=1e-4,Loe=1-oU,Moe=1+oU,lU=.01,Roe=0-lU,Foe=0+lU;function Ui(e){return e.max-e.min}function $oe(e,t,r){return Math.abs(e-t)<=r}function ZI(e,t,r,n=.5){e.origin=n,e.originPoint=Ln(t.min,t.max,e.origin),e.scale=Ui(r)/Ui(t),e.translate=Ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Loe&&e.scale<=Moe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Roe&&e.translate<=Foe||isNaN(e.translate))&&(e.translate=0)}function Pg(e,t,r,n){ZI(e.x,t.x,r.x,n?n.originX:void 0),ZI(e.y,t.y,r.y,n?n.originY:void 0)}function e8(e,t,r){e.min=r.min+t.min,e.max=e.min+Ui(t)}function Boe(e,t,r){e8(e.x,t.x,r.x),e8(e.y,t.y,r.y)}function t8(e,t,r){e.min=t.min-r.min,e.max=e.min+Ui(t)}function Og(e,t,r){t8(e.x,t.x,r.x),t8(e.y,t.y,r.y)}const r8=()=>({translate:0,scale:1,origin:0,originPoint:0}),g0=()=>({x:r8(),y:r8()}),n8=()=>({min:0,max:0}),Hn=()=>({x:n8(),y:n8()});function so(e){return[e("x"),e("y")]}function vS(e){return e===void 0||e===1}function hT({scale:e,scaleX:t,scaleY:r}){return!vS(e)||!vS(t)||!vS(r)}function hh(e){return hT(e)||cU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function cU(e){return a8(e.x)||a8(e.y)}function a8(e){return e&&e!=="0%"}function ob(e,t,r){const n=e-r,a=t*n;return r+a}function i8(e,t,r,n,a){return a!==void 0&&(e=ob(e,a,n)),ob(e,r,n)+t}function dT(e,t=0,r=1,n,a){e.min=i8(e.min,t,r,n,a),e.max=i8(e.max,t,r,n,a)}function uU(e,{x:t,y:r}){dT(e.x,t.translate,t.scale,t.originPoint),dT(e.y,r.translate,r.scale,r.originPoint)}const s8=.999999999999,o8=1.0000000000001;function Voe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&y0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,uU(e,s)),n&&hh(i.latestValues)&&y0(e,i.latestValues))}t.x<o8&&t.x>s8&&(t.x=1),t.y<o8&&t.y>s8&&(t.y=1)}function v0(e,t){e.min=e.min+t,e.max=e.max+t}function l8(e,t,r,n,a=.5){const i=Ln(e.min,e.max,a);dT(e,t,r,i,n)}function y0(e,t){l8(e.x,t.x,t.scaleX,t.scale,t.originX),l8(e.y,t.y,t.scaleY,t.scale,t.originY)}function fU(e,t){return sU(joe(e.getBoundingClientRect(),t))}function Uoe(e,t,r){const n=fU(e,r),{scroll:a}=t;return a&&(v0(n.x,a.offset.x),v0(n.y,a.offset.y)),n}const hU=({current:e})=>e?e.ownerDocument.defaultView:null,c8=(e,t)=>Math.abs(e-t);function zoe(e,t){const r=c8(e.x,t.x),n=c8(e.y,t.y);return Math.sqrt(r**2+n**2)}class dU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=zoe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:g}=f,{timestamp:m}=Ja;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yS(h,this.transformPagePoint),Fn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xS(f.type==="pointercancel"?this.lastMoveEventInfo:yS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,v),g&&g(f,v)},!AN(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=W1(t),o=yS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ja;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,xS(o,this.history)),this.removeListeners=U1(Cg(this.contextWindow,"pointermove",this.handlePointerMove),Cg(this.contextWindow,"pointerup",this.handlePointerUp),Cg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Rc(this.updatePoint)}}function yS(e,t){return t?{point:t(e.point)}:e}function u8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xS({point:e},t){return{point:e,delta:u8(e,pU(t)),offset:u8(e,qoe(t)),velocity:Woe(t,.1)}}function qoe(e){return e[0]}function pU(e){return e[e.length-1]}function Woe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=pU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>nl(t)));)r--;if(!n)return{x:0,y:0};const i=Ll(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Hoe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ln(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ln(r,e,n.max):Math.min(e,r)),e}function f8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Goe(e,{top:t,left:r,bottom:n,right:a}){return{x:f8(e.x,r,a),y:f8(e.y,t,n)}}function h8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Koe(e,t){return{x:h8(e.x,t.x),y:h8(e.y,t.y)}}function Yoe(e,t){let r=.5;const n=Ui(e),a=Ui(t);return a>n?r=lp(t.min,t.max-n,e.min):n>a&&(r=lp(e.min,e.max-a,t.min)),Lc(0,1,r)}function Xoe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const pT=.35;function Qoe(e=pT){return e===!1?e=0:e===!0&&(e=pT),{x:d8(e,"left","right"),y:d8(e,"top","bottom")}}function d8(e,t,r){return{min:p8(e,t),max:p8(e,r)}}function p8(e,t){return typeof e=="number"?e:e[t]||0}const Joe=new WeakMap;class Zoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(W1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:g}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),so(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ml.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[v];_&&(y=Ui(_)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Fn.postRender(()=>g(u,f)),uT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(d&&this.currentDirection===null){this.currentDirection=ele(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>so(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new dU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:hU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Fn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ix(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Hoe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&m0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Goe(n.layoutBox,t):this.constraints=!1,this.elastic=Qoe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&so(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Xoe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!m0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Uoe(n,a.root,this.visualElement.getTransformPagePoint());let s=Koe(a.layout.layoutBox,i);if(r){const o=r(Doe(s));this.hasMutatedConstraints=!!o,o&&(s=sU(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=so(u=>{if(!ix(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return uT(this.visualElement,t),n.start(jN(t,n,0,r,this.visualElement,!1))}stopAnimation(){so(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){so(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){so(r=>{const{drag:n}=this.getProps();if(!ix(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Ln(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!m0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};so(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Yoe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),so(s=>{if(!ix(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Ln(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Joe.set(this.visualElement,this);const t=this.visualElement.current,r=Cg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();m0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Fn.read(n);const s=Iv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(so(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=pT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ix(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ele(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class tle extends Mf{constructor(t){super(t),this.removeGroupControls=mo,this.removeListeners=mo,this.controls=new Zoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mo}unmount(){this.removeGroupControls(),this.removeListeners()}}const m8=e=>(t,r)=>{e&&Fn.postRender(()=>e(t,r))};class rle extends Mf{constructor(){super(...arguments),this.removePointerDownListener=mo}onPointerDown(t){this.session=new dU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:hU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:m8(t),onStart:m8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Fn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Cg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function g8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ar.test(e))e=parseFloat(e);else return e;const r=g8(e,t.target.x),n=g8(e,t.target.y);return`${r}% ${n}%`}},nle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Tf.parse(e);if(a.length>5)return n;const i=Tf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Ln(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class ale extends H.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Use(ile),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),i2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Fn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),SN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mU(e){const[t,r]=UV(),n=H.useContext(tN);return p.jsx(ale,{...e,layoutGroup:n,switchLayoutGroup:H.useContext(KV),isPresent:t,safeToRemove:r})}const ile={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:nle};function gU(e,t,r){const n=Ba(e)?e:Yh(e);return n.start(jN("",n,t,r)),n.animation}const sle=(e,t)=>e.depth-t.depth;class ole{constructor(){this.children=[],this.isDirty=!1}add(t){aN(this.children,t),this.isDirty=!0}remove(t){u5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sle),this.isDirty=!1,this.children.forEach(t)}}function lle(e,t){const r=hs.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Rc(n),e(i-t))};return Fn.setup(n,!0),()=>Rc(n)}const vU=["TopLeft","TopRight","BottomLeft","BottomRight"],cle=vU.length,v8=e=>typeof e=="string"?parseFloat(e):e,y8=e=>typeof e=="number"||ar.test(e);function ule(e,t,r,n,a,i){a?(e.opacity=Ln(0,r.opacity??1,fle(n)),e.opacityExit=Ln(t.opacity??1,0,hle(n))):i&&(e.opacity=Ln(t.opacity??1,r.opacity??1,n));for(let s=0;s<cle;s++){const o=`border${vU[s]}Radius`;let l=x8(t,o),c=x8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||y8(l)===y8(c)?(e[o]=Math.max(Ln(v8(l),v8(c),n),0),(Ml.test(c)||Ml.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Ln(t.rotate||0,r.rotate||0,n))}function x8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fle=yU(0,.5,nV),hle=yU(.5,.95,mo);function yU(e,t,r){return n=>n<e?0:n>t?1:r(lp(e,t,n))}function b8(e,t){e.min=t.min,e.max=t.max}function eo(e,t){b8(e.x,t.x),b8(e.y,t.y)}function w8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function _8(e,t,r,n,a){return e-=t,e=ob(e,1/r,n),a!==void 0&&(e=ob(e,1/a,n)),e}function dle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Ml.test(t)&&(t=parseFloat(t),t=Ln(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Ln(i.min,i.max,n);e===i&&(o-=t),e.min=_8(e.min,t,r,o,a),e.max=_8(e.max,t,r,o,a)}function S8(e,t,[r,n,a],i,s){dle(e,t[r],t[n],t[a],t.scale,i,s)}const ple=["x","scaleX","originX"],mle=["y","scaleY","originY"];function A8(e,t,r,n){S8(e.x,t,ple,r?r.x:void 0,n?n.x:void 0),S8(e.y,t,mle,r?r.y:void 0,n?n.y:void 0)}function T8(e){return e.translate===0&&e.scale===1}function xU(e){return T8(e.x)&&T8(e.y)}function E8(e,t){return e.min===t.min&&e.max===t.max}function gle(e,t){return E8(e.x,t.x)&&E8(e.y,t.y)}function k8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function bU(e,t){return k8(e.x,t.x)&&k8(e.y,t.y)}function N8(e){return Ui(e.x)/Ui(e.y)}function C8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vle{constructor(){this.members=[]}add(t){aN(this.members,t),t.scheduleRender()}remove(t){if(u5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const bS=["","X","Y","Z"],xle={visibility:"hidden"},ble=1e3;let wle=0;function wS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function wU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=nU(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Fn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&wU(n)}function _U({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=wle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ale),this.nodes.forEach(Cle),this.nodes.forEach(Ple),this.nodes.forEach(Tle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ole)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new sN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=TN(s)&&!VV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=lle(f,250),i2.hasAnimatedSinceResize&&(i2.hasAnimatedSinceResize=!1,this.nodes.forEach(O8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Lle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!bU(this.targetLayout,d),w=!f&&h;if(this.options.layoutRoot||this.resumeFrom||w||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,w);const _={...wN(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||O8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Rc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ole),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(P8);return}this.isUpdating||this.nodes.forEach(kle),this.isUpdating=!1,this.nodes.forEach(Nle),this.nodes.forEach(_le),this.nodes.forEach(Sle),this.clearAllSnapshots();const o=hs.now();Ja.delta=Lc(0,1e3/60,o-Ja.timestamp),Ja.timestamp=o,Ja.isProcessing=!0,fS.update.process(Ja),fS.preRender.process(Ja),fS.render.process(Ja),Ja.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,SN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ele),this.sharedNodes.forEach(Ile)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Fn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Fn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ui(this.snapshot.measuredBox.x)&&!Ui(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!xU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||hh(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Mle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Hn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Rle))){const{scroll:u}=this.root;u&&(v0(o.x,u.offset.x),v0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Hn();if(eo(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&eo(o,s),v0(o.x,f.offset.x),v0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Hn();eo(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&y0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hh(u.latestValues)&&y0(l,u.latestValues)}return hh(this.latestValues)&&y0(l,this.latestValues),l}removeTransform(s){const o=Hn();eo(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hh(c.latestValues))continue;hT(c.latestValues)&&c.updateSnapshot();const u=Hn(),f=c.measurePageBox();eo(u,f),A8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hh(this.latestValues)&&A8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ja.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ja.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Og(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Boe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):eo(this.target,this.layout.layoutBox),uU(this.target,this.targetDelta)):eo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Og(this.relativeTargetOrigin,this.target,d.target),eo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hT(this.parent.latestValues)||cU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ja.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;eo(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Voe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Hn());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(w8(this.prevProjectionDelta.x,this.projectionDelta.x),w8(this.prevProjectionDelta.y,this.projectionDelta.y)),Pg(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!C8(this.projectionDelta.x,this.prevProjectionDelta.x)||!C8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=g0(),this.projectionDelta=g0(),this.projectionDeltaWithTransform=g0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=g0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Hn(),d=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=d!==g,v=this.getStack(),y=!v||v.members.length<=1,w=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(jle));this.animationProgress=0;let _;this.mixTargetDelta=I=>{const P=I/1e3;I8(f.x,s.x,P),I8(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Og(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dle(this.relativeTarget,this.relativeTargetOrigin,h,P),_&&gle(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Hn()),eo(_,this.relativeTarget)),m&&(this.animationValues=u,ule(u,c,this.latestValues,P,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Rc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Fn.update(()=>{i2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yh(0)),this.currentAnimation=gU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ble),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&SU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hn();const f=Ui(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Ui(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}eo(o,l),y0(o,u),Pg(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new vle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&wS("z",s,c,this.animationValues);for(let u=0;u<bS.length;u++)wS(`rotate${bS[u]}`,s,c,this.animationValues),wS(`skew${bS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=a2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=a2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!hh(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=yle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in Pv){if(u[d]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Pv[d],y=o.transform==="none"?u[d]:g(u[d],c);if(m){const w=m.length;for(let _=0;_<w;_++)o[m[_]]=y}else v?this.options.visualElement.renderState.vars[d]=y:o[d]=y}return this.options.layoutId&&(o.pointerEvents=c===this?a2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(P8),this.root.sharedNodes.clear()}}}function _le(e){e.updateLayout()}function Sle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?so(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Ui(h);h.min=n[f].min,h.max=h.min+d}):SU(i,t.layoutBox,n)&&so(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=Ui(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=g0();Pg(o,n,t.layoutBox);const l=g0();s?Pg(l,e.applyTransform(a,!0),t.measuredBox):Pg(l,n,t.layoutBox);const c=!xU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const g=Hn();Og(g,t.layoutBox,h.layoutBox);const m=Hn();Og(m,n,d.layoutBox),bU(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ale(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Tle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ele(e){e.clearSnapshot()}function P8(e){e.clearMeasurements()}function kle(e){e.isLayoutDirty=!1}function Nle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cle(e){e.resolveTargetDelta()}function Ple(e){e.calcProjection()}function Ole(e){e.resetSkewAndRotation()}function Ile(e){e.removeLeadSnapshot()}function I8(e,t,r){e.translate=Ln(t.translate,0,r),e.scale=Ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function D8(e,t,r,n){e.min=Ln(t.min,r.min,n),e.max=Ln(t.max,r.max,n)}function Dle(e,t,r,n){D8(e.x,t.x,r.x,n),D8(e.y,t.y,r.y,n)}function jle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Lle={duration:.45,ease:[.4,0,.1,1]},j8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),L8=j8("applewebkit/")&&!j8("chrome/")?Math.round:mo;function M8(e){e.min=L8(e.min),e.max=L8(e.max)}function Mle(e){M8(e.x),M8(e.y)}function SU(e,t,r){return e==="position"||e==="preserve-aspect"&&!$oe(N8(t),N8(r),.2)}function Rle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Fle=_U({attachResizeListener:(e,t)=>Iv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_S={current:void 0},AU=_U({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_S.current){const e=new Fle({});e.mount(window),e.setOptions({layoutScroll:!0}),_S.current=e}return _S.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$le={pan:{Feature:rle},drag:{Feature:tle,ProjectionNode:AU,MeasureLayout:mU}};function R8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Fn.postRender(()=>i(t,W1(t)))}class Ble extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=pse(t,(r,n)=>(R8(this.node,n,"Start"),a=>R8(this.node,a,"End"))))}unmount(){}}class Vle extends Mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=U1(Iv(this.node.current,"focus",()=>this.onFocus()),Iv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function F8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Fn.postRender(()=>i(t,W1(t)))}class Ule extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=yse(t,(r,n)=>(F8(this.node,n,"Start"),(a,{success:i})=>F8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mT=new WeakMap,SS=new WeakMap,zle=e=>{const t=mT.get(e.target);t&&t(e)},qle=e=>{e.forEach(zle)};function Wle({root:e,...t}){const r=e||document;SS.has(r)||SS.set(r,{});const n=SS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(qle,{root:e,...t})),n[a]}function Hle(e,t,r){const n=Wle(t);return mT.set(e,r),n.observe(e),()=>{mT.delete(e),n.unobserve(e)}}const Gle={some:0,all:1};class Kle extends Mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Gle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Hle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Yle(t,r))&&this.startObserver()}unmount(){}}function Yle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Xle={inView:{Feature:Kle},tap:{Feature:Ule},focus:{Feature:Vle},hover:{Feature:Ble}},Qle={layout:{ProjectionNode:AU,MeasureLayout:mU}},gT={current:null},TU={current:!1};function Jle(){if(TU.current=!0,!!rN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gT.current=e.matches;e.addListener(t),t()}else gT.current=!1}const Dv=new WeakMap;function Zle(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ba(a))e.addValue(n,a);else if(Ba(i))e.addValue(n,Yh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Yh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const $8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class EU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=hs.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Fn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=p5(r),this.isVariantNode=HV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Ba(d)&&d.set(l[h],!1)}}mount(t){this.current=t,Dv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),TU.current||Jle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Rc(this.notifyUpdate),Rc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Kp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Fn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cp){const r=cp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<$8.length;n++){const a=$8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Zle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Yh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(GB(n)||YB(n))?n=parseFloat(n):!wse(n)&&Tf.test(r)&&(n=LV(t,r)),this.setBaseTarget(t,Ba(n)?n.get():n)),Ba(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=IN(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ba(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new sN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class kU extends EU{constructor(){super(...arguments),this.KeyframeResolver=use}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ba(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function NU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function ece(e){return window.getComputedStyle(e)}class CU extends kU{constructor(){super(...arguments),this.type="html",this.renderInstance=NU}readValueFromInstance(t,r){var n;if(Kp.has(r))return(n=this.projection)!=null&&n.isProjecting?nT(r):kie(t,r);{const a=ece(t),i=(cN(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return fU(t,r)}build(t,r,n){CN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return DN(t,r,n)}}const PU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tce(e,t,r,n){NU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(PU.has(a)?a:NN(a),t.attrs[a])}class OU extends kU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kp.has(r)){const n=jV(r);return n&&n.default||0}return r=PU.has(r)?r:NN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return rU(t,r,n)}build(t,r,n){JV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){tce(t,r,n,a)}mount(t){this.isSVGTag=eU(t.tagName),super.mount(t)}}const rce=(e,t)=>ON(e)?new OU(t):new CU(t,{allowProjection:e!==H.Fragment}),nce=ioe({...Ooe,...Xle,...$le,...Qle},rce),Gn=Pse(nce);function vT(e){const t=V1(()=>Yh(e)),{isStatic:r}=H.useContext(f5);if(r){const[,n]=H.useState(e);H.useEffect(()=>t.on("change",n),[])}return t}function IU(e,t){const r=vT(t()),n=()=>r.set(t());return n(),nN(()=>{const a=()=>Fn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Rc(n)}}),r}function ace(e){Ng.current=[],e();const t=IU(Ng.current,e);return Ng.current=void 0,t}function B8(e,t,r,n){if(typeof e=="function")return ace(e);const a=typeof t=="function"?t:xse(t,r,n);return Array.isArray(e)?V8(e,a):V8([e],([i])=>a(i))}function V8(e,t){const r=V1(()=>[]);return IU(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function MN(e){return typeof e=="object"&&!Array.isArray(e)}function DU(e,t,r,n){return typeof e=="string"&&MN(t)?MV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function ice(e,t,r){return e*(t+1)}function U8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function sce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(u5(e,a),n--)}}function oce(e,t,r,n,a,i){sce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Ln(a,i,n[s]),easing:oV(r,s)})}function lce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function cce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const uce="easeInOut";function fce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,U8(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=U8(f,y.at,u,c));let w=0;const _=(I,P,D,E=0,A=0)=>{const b=hce(I),{delay:O=0,times:T=SV(b),type:N="keyframes",repeat:j,repeatType:K,repeatDelay:J=0,...X}=P;let{ease:Z=t.ease||"easeOut",duration:q}=P;const U=typeof O=="function"?O(E,A):O,te=b.length,z=xN(N)?N:a==null?void 0:a[N];if(te<=2&&z){let G=100;if(te===2&&mce(b)){const ce=b[1]-b[0];G=Math.abs(ce)}const Y={...X};q!==void 0&&(Y.duration=nl(q));const se=xV(Y,G,z);Z=se.ease,q=se.duration}q??(q=i);const C=f+U;T.length===1&&T[0]===0&&(T[1]=1);const R=T.length-b.length;if(R>0&&_V(T,R),b.length===1&&b.unshift(null),j){q=ice(q,j);const G=[...b],Y=[...T];Z=Array.isArray(Z)?[...Z]:[Z];const se=[...Z];for(let ce=0;ce<j;ce++){b.push(...G);for(let re=0;re<G.length;re++)T.push(Y[re]+(ce+1)),Z.push(re===0?"linear":oV(se,re-1))}lce(T,j)}const V=C+q;oce(D,b,Z,T,C,V),w=Math.max(U+q,w),h=Math.max(V,h)};if(Ba(m)){const I=z8(m,o);_(v,y,q8("default",I))}else{const I=DU(m,v,n,l),P=I.length;for(let D=0;D<P;D++){v=v,y=y;const E=I[D],A=z8(E,o);for(const b in v)_(v[b],dce(y,b),q8(b,A),D,P)}}u=f,f+=w}return o.forEach((d,g)=>{for(const m in d){const v=d[m];v.sort(cce);const y=[],w=[],_=[];for(let P=0;P<v.length;P++){const{at:D,value:E,easing:A}=v[P];y.push(E),w.push(lp(0,h,D)),_.push(A||"easeOut")}w[0]!==0&&(w.unshift(0),y.unshift(y[0]),_.unshift(uce)),w[w.length-1]!==1&&(w.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const I=s.get(g);I.keyframes[m]=y,I.transition[m]={...t,duration:h,ease:_,times:w,...r}}}),s}function z8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function q8(e,t){return t[e]||(t[e]=[]),t[e]}function hce(e){return Array.isArray(e)?e:[e]}function dce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const pce=e=>typeof e=="number",mce=e=>e.every(pce);function gce(e,t){return e in t}class vce extends EU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(gce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Hn()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function yce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=TN(e)&&!VV(e)?new OU(t):new CU(t);r.mount(e),Dv.set(e,r)}function xce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new vce(t);r.mount(e),Dv.set(e,r)}function bce(e,t){return Ba(e)||typeof e=="number"||typeof e=="string"&&!MN(t)}function jU(e,t,r,n){const a=[];if(bce(e,t))a.push(gU(e,MN(t)&&t.default||t,r&&(r.default||r)));else{const i=DU(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?yce:xce;Dv.has(l)||c(l);const u=Dv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...LN(u,{...t,transition:f},{}))}}return a}function wce(e,t,r){const n=[];return fce(e,t,r,{spring:Nv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...jU(o,i,s))}),n}function _ce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Sce(e){function t(r,n,a){let i=[];return _ce(r)?i=wce(r,n,e):i=jU(r,n,a,e),new Jie(i)}return t}const W8=Sce(),Ace=()=>{const{user:e,logout:t}=xa(),r=P1(),{isDarkMode:n}=Xr(),[a,i]=H.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:p.jsx(fZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:p.jsx(Hi,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:p.jsx(vZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:p.jsx(mZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:p.jsx(aZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:p.jsx(iZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:p.jsx(dZ,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:p.jsx(bZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:p.jsx(nZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:p.jsx(tZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:p.jsx(xZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return p.jsxs(Gn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[p.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx(Gn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:p.jsx(tS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:p.jsx(Gn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),p.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>p.jsx(Gn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:p.jsx("div",{className:"group relative",children:p.jsx(tS,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>p.jsxs(p.Fragment,{children:[p.jsx(Gn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),p.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),p.jsxs("div",{className:"flex items-center gap-4",children:[e&&p.jsxs(Gn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),p.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsx(Gn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx(dO,{size:20})})]}),p.jsx(Gn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?p.jsx(pv,{size:24}):p.jsx(pZ,{size:24})})]})]})}),p.jsx(zV,{children:a&&p.jsx(Gn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:p.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>p.jsx(Gn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:p.jsx(tS,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:p.jsxs(Gn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,p.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),p.jsx(Gn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Gn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),p.jsxs(Gn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(dO,{size:18}),p.jsx("span",{children:"Logout"})]})]})})]})})})]})},Tce=()=>{const{isAuthenticated:e}=xa(),t=P1(),{isDarkMode:r}=Xr();return Ie.useEffect(()=>{e||t("/login")},[e,t]),e?p.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[p.jsx(Ace,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:p.jsx(MJ,{})})]}):null},LU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=H.useState(!1),[s,o]=H.useState(!1);H.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:p.jsx(E4,{className:"text-green-500",size:20}),error:p.jsx(pO,{className:"text-red-500",size:20}),warning:p.jsx(Hh,{className:"text-yellow-500",size:20}),info:p.jsx(uZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return p.jsx("div",{className:"fixed top-4 right-4 z-50",children:p.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:p.jsx(pO,{size:18})})]})})},MU=H.createContext(void 0),Kc=()=>{const e=H.useContext(MU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ece=({children:e})=>{const[t,r]=H.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return p.jsxs(MU.Provider,{value:{showToast:n},children:[e,t&&p.jsx(LU,{message:t.message,type:t.type,onClose:a})]})},wt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=Xr(),l=i??o;return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsxs("div",{className:"relative",children:[r&&p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ie.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),p.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Iu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=H.useState(!1),{isDarkMode:l}=Xr(),c=a??l,u=()=>{o(!s)};return p.jsxs("div",{className:"relative",children:[p.jsx(wt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),p.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?p.jsx(cZ,{size:18}):p.jsx(k4,{size:18})})]})},dt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return p.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},kce=()=>{const[e,t]=H.useState(""),[r,n]=H.useState(""),[a,i]=H.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=xa(),{showToast:u}=Kc(),{isDarkMode:f,toggleDarkMode:h}=Xr(),d=P1();H.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return p.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[p.jsx(Gn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"max-w-md p-8 text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),p.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),p.jsx(Gn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[p.jsx(gZ,{size:48,className:"mx-auto text-blue-600"}),p.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),p.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),p.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),p.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?p.jsx(X$,{size:20}):p.jsx(Y$,{size:20})})]}),a&&p.jsx(Gn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),p.jsxs("form",{onSubmit:g,className:"space-y-6",children:[p.jsx(wt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:p.jsx(N4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),p.jsx(Iu,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),p.jsx(dt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Za=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=Xr(),i=vT(0),s=vT(0),o=B8(i,Math.round),l=B8(s,Math.round);return Ie.useEffect(()=>{if(typeof t=="number"){const c=W8(i,t,{duration:1});if(n){const u=W8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),p.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),p.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?p.jsx(Gn.span,{children:o}):t}),n&&p.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||p.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),p.jsx(Gn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&p.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),p.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},Hu=()=>{const{isDarkMode:e}=Xr();return p.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),p.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:p.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},AS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=Xr();return p.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&p.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:p.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),p.jsx("div",{className:"p-6",children:t})]})};function Kr(e){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kr(e)}function Vl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function on(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function hn(e){on(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Kr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Nce(e,t){on(2,arguments);var r=hn(e),n=Vl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Cce(e,t){on(2,arguments);var r=hn(e).getTime(),n=Vl(t);return new Date(r+n)}var Pce={};function H1(){return Pce}function yT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function lb(e){on(1,arguments);var t=hn(e);return t.setHours(0,0,0,0),t}function s2(e,t){on(2,arguments);var r=hn(e),n=hn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var RU=6e4,FU=36e5;function Oce(e){return on(1,arguments),e instanceof Date||Kr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ice(e){if(on(1,arguments),!Oce(e)&&typeof e!="number")return!1;var t=hn(e);return!isNaN(Number(t))}function Dce(e,t){on(2,arguments);var r=hn(e),n=hn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function jce(e,t){return on(2,arguments),hn(e).getTime()-hn(t).getTime()}var H8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Lce="trunc";function Mce(e){return e?H8[e]:H8[Lce]}function jv(e){on(1,arguments);var t=hn(e);return t.setHours(23,59,59,999),t}function Rce(e){on(1,arguments);var t=hn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fce(e){on(1,arguments);var t=hn(e);return jv(t).getTime()===Rce(t).getTime()}function $ce(e,t){on(2,arguments);var r=hn(e),n=hn(t),a=s2(r,n),i=Math.abs(Dce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=s2(r,n)===-a;Fce(hn(e))&&i===1&&s2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Bce(e,t,r){on(2,arguments);var n=jce(e,t)/1e3;return Mce(void 0)(n)}function Vce(e,t){on(2,arguments);var r=Vl(t);return Cce(e,-r)}var Uce=864e5;function zce(e){on(1,arguments);var t=hn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Uce)+1}function cb(e){on(1,arguments);var t=1,r=hn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function $U(e){on(1,arguments);var t=hn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=cb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=cb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function qce(e){on(1,arguments);var t=$U(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=cb(r);return n}var Wce=6048e5;function Hce(e){on(1,arguments);var t=hn(e),r=cb(t).getTime()-qce(t).getTime();return Math.round(r/Wce)+1}function ub(e,t){var r,n,a,i,s,o,l,c;on(1,arguments);var u=H1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=hn(e),d=h.getUTCDay(),g=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function BU(e,t){var r,n,a,i,s,o,l,c;on(1,arguments);var u=hn(e),f=u.getUTCFullYear(),h=H1(),d=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,d),g.setUTCHours(0,0,0,0);var m=ub(g,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var y=ub(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Gce(e,t){var r,n,a,i,s,o,l,c;on(1,arguments);var u=H1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=BU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var g=ub(d,t);return g}var Kce=6048e5;function Yce(e,t){on(1,arguments);var r=hn(e),n=ub(r,t).getTime()-Gce(r,t).getTime();return Math.round(n/Kce)+1}function an(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var ku={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return an(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):an(n+1,2)},d:function(t,r){return an(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return an(t.getUTCHours()%12||12,r.length)},H:function(t,r){return an(t.getUTCHours(),r.length)},m:function(t,r){return an(t.getUTCMinutes(),r.length)},s:function(t,r){return an(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return an(i,r.length)}},Ud={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return ku.y(t,r)},Y:function(t,r,n,a){var i=BU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return an(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):an(s,r.length)},R:function(t,r){var n=$U(t);return an(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return an(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return an(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return an(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return ku.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return an(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Yce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):an(i,r.length)},I:function(t,r,n){var a=Hce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):an(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ku.d(t,r)},D:function(t,r,n){var a=zce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):an(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return an(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return an(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return an(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Ud.noon:a===0?i=Ud.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Ud.evening:a>=12?i=Ud.afternoon:a>=4?i=Ud.morning:i=Ud.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return ku.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ku.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):an(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):an(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ku.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ku.s(t,r)},S:function(t,r){return ku.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return K8(s);case"XXXX":case"XX":return dh(s);case"XXXXX":case"XXX":default:return dh(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return K8(s);case"xxxx":case"xx":return dh(s);case"xxxxx":case"xxx":default:return dh(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+G8(s,":");case"OOOO":default:return"GMT"+dh(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+G8(s,":");case"zzzz":default:return"GMT"+dh(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return an(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return an(s,r.length)}};function G8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+an(i,2)}function K8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+an(Math.abs(e)/60,2)}return dh(e,t)}function dh(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=an(Math.floor(a/60),2),s=an(a%60,2);return n+i+r+s}var Y8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},VU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Qce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return Y8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",Y8(a,r)).replace("{{time}}",VU(i,r))},Jce={p:VU,P:Qce},Zce=["D","DD"],eue=["YY","YYYY"];function tue(e){return Zce.indexOf(e)!==-1}function rue(e){return eue.indexOf(e)!==-1}function X8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aue=function(t,r,n){var a,i=nue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function TS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var iue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lue={date:TS({formats:iue,defaultWidth:"full"}),time:TS({formats:sue,defaultWidth:"full"}),dateTime:TS({formats:oue,defaultWidth:"full"})},cue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uue=function(t,r,n,a){return cue[t]};function Mm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var fue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},due={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yue={ordinalNumber:vue,era:Mm({values:fue,defaultWidth:"wide"}),quarter:Mm({values:hue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Mm({values:due,defaultWidth:"wide"}),day:Mm({values:pue,defaultWidth:"wide"}),dayPeriod:Mm({values:mue,defaultWidth:"wide",formattingValues:gue,defaultFormattingWidth:"wide"})};function Rm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?bue(o,function(f){return f.test(s)}):xue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function xue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function bue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function wue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var _ue=/^(\d+)(th|st|nd|rd)?/i,Sue=/\d+/i,Aue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tue={any:[/^b/i,/^(a|c)/i]},Eue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kue={any:[/1/i,/2/i,/3/i,/4/i]},Nue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Due={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jue={ordinalNumber:wue({matchPattern:_ue,parsePattern:Sue,valueCallback:function(t){return parseInt(t,10)}}),era:Rm({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any"}),quarter:Rm({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rm({matchPatterns:Nue,defaultMatchWidth:"wide",parsePatterns:Cue,defaultParseWidth:"any"}),day:Rm({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Oue,defaultParseWidth:"any"}),dayPeriod:Rm({matchPatterns:Iue,defaultMatchWidth:"any",parsePatterns:Due,defaultParseWidth:"any"})},UU={code:"en-US",formatDistance:aue,formatLong:lue,formatRelative:uue,localize:yue,match:jue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Lue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rue=/^'([^]*?)'?$/,Fue=/''/g,$ue=/[a-zA-Z]/;function Wt(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v;on(2,arguments);var y=String(t),w=H1(),_=(n=(a=void 0)!==null&&a!==void 0?a:w.locale)!==null&&n!==void 0?n:UU,I=Vl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:w.firstWeekContainsDate)!==null&&s!==void 0?s:(c=w.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(I>=1&&I<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Vl((f=(h=(d=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&d!==void 0?d:w.weekStartsOn)!==null&&h!==void 0?h:(m=w.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var D=hn(e);if(!Ice(D))throw new RangeError("Invalid time value");var E=yT(D),A=Vce(D,E),b={firstWeekContainsDate:I,weekStartsOn:P,locale:_,_originalDate:D},O=y.match(Mue).map(function(T){var N=T[0];if(N==="p"||N==="P"){var j=Jce[N];return j(T,_.formatLong)}return T}).join("").match(Lue).map(function(T){if(T==="''")return"'";var N=T[0];if(N==="'")return Bue(T);var j=Xce[N];if(j)return rue(T)&&X8(T,t,String(e)),tue(T)&&X8(T,t,String(e)),j(A,T,_.localize,b);if(N.match($ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return T}).join("");return O}function Bue(e){var t=e.match(Rue);return t?t[1].replace(Fue,"'"):e}function zU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Vue(e){return zU({},e)}var Q8=1440,Uue=2520,ES=43200,zue=86400;function que(e,t,r){var n,a;on(2,arguments);var i=H1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:UU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=s2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=zU(Vue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=hn(t),u=hn(e)):(c=hn(e),u=hn(t));var f=Bce(u,c),h=(yT(u)-yT(c))/1e3,d=Math.round((f-h)/60),g;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<Q8){var m=Math.round(d/60);return s.formatDistance("aboutXHours",m,l)}else{if(d<Uue)return s.formatDistance("xDays",1,l);if(d<ES){var v=Math.round(d/Q8);return s.formatDistance("xDays",v,l)}else if(d<zue)return g=Math.round(d/ES),s.formatDistance("aboutXMonths",g,l)}if(g=$ce(u,c),g<12){var y=Math.round(d/ES);return s.formatDistance("xMonths",y,l)}else{var w=g%12,_=Math.floor(g/12);return w<3?s.formatDistance("aboutXYears",_,l):w<9?s.formatDistance("overXYears",_,l):s.formatDistance("almostXYears",_+1,l)}}function Wue(e,t){return on(1,arguments),que(e,Date.now(),t)}function xr(e,t){on(2,arguments);var r=Vl(t);return Nce(e,-r)}function Hue(e,t){var r;on(1,arguments);var n=Vl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Xue(e),i;if(a.date){var s=Que(a.date,n);i=Jue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Zue(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=efe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var sx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xue(e){var t={},r=e.split(sx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],sx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(sx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=sx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Que(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Jue(e,t){if(t===null)return new Date(NaN);var r=e.match(Gue);if(!r)return new Date(NaN);var n=!!r[4],a=Fm(r[1]),i=Fm(r[2])-1,s=Fm(r[3]),o=Fm(r[4]),l=Fm(r[5])-1;if(n)return ife(t,o,l)?tfe(t,o,l):new Date(NaN);var c=new Date(0);return!nfe(t,i,s)||!afe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Fm(e){return e?parseInt(e):1}function Zue(e){var t=e.match(Kue);if(!t)return NaN;var r=kS(t[1]),n=kS(t[2]),a=kS(t[3]);return sfe(r,n,a)?r*FU+n*RU+a*1e3:NaN}function kS(e){return e&&parseFloat(e.replace(",","."))||0}function efe(e){if(e==="Z")return 0;var t=e.match(Yue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ofe(n,a)?r*(n*FU+a*RU):NaN}function tfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var rfe=[31,null,31,30,31,30,31,31,30,31,30,31];function qU(e){return e%400===0||e%4===0&&e%100!==0}function nfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(rfe[t]||(qU(e)?29:28))}function afe(e,t){return t>=1&&t<=(qU(e)?366:365)}function ife(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function sfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ofe(e,t){return t>=0&&t<=59}const lfe=()=>{const[e,t]=H.useState(!0),[r,n]=H.useState([]),[a,i]=H.useState([]),[s,o]=H.useState([]),[l,c]=H.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=Xr(),f=async()=>{t(!0);try{const m=new Date,v=xr(m,30),y=xr(m,1),w=m,_=sr(Et(at,"orders"),lr("createdAt",">=",Xt.fromDate(v)),lr("createdAt","<=",Xt.fromDate(m))),I=sr(Et(at,"orders"),lr("createdAt",">=",Xt.fromDate(y)),lr("createdAt","<=",Xt.fromDate(w))),P=sr(Et(at,"inventory")),D=sr(Et(at,"inventory"),lr("lastUpdated",">=",Xt.fromDate(y)),lr("lastUpdated","<=",Xt.fromDate(w))),[E,A,b,O]=await Promise.all([ur(_),ur(I),ur(P),ur(D)]),T=E.docs.map($e=>({id:$e.id,...$e.data()})),N=A.docs.map($e=>({id:$e.id,...$e.data()})),j=A.docs.length,K=b.docs.reduce(($e,Xe)=>{const Fe=Xe.data();return $e+(Fe.quantity||0)},0),J=O.docs.reduce(($e,Xe)=>{const Fe=Xe.data();return $e+(Fe.quantityChange||0)},0),X=b.docs.reduce(($e,Xe)=>{const Fe=Xe.data();return $e+(Fe.quantity||0)*(Fe.price||0)},0),Z=T.length,q=N.reduce(($e,Xe)=>$e+(Xe.totalAmount||0),0),U=sr(Et(at,"inventory")),z=(await ur(U)).docs.map($e=>({id:$e.id,...$e.data()})),C=z.filter($e=>$e.quantity<=10),R=z.filter($e=>$e.quantity>10&&$e.quantity<=25);console.log("All stock items:",z),console.log("Critical items:",C),console.log("Low stock items:",R),i(C),o(R);const V=new Date,G=lb(V),Y=jv(V),se=lb(xr(V,1)),ce=jv(xr(V,1)),re=sr(Et(at,"activityLogs"),lr("time",">=",G.toISOString()),lr("time","<=",Y.toISOString())),he=sr(Et(at,"activityLogs"),lr("time",">=",se.toISOString()),lr("time","<=",ce.toISOString())),[be,B]=await Promise.all([ur(re),ur(he)]),Te=be.docs.map($e=>$e.data()),_e=B.docs.map($e=>$e.data()),ge=Te.reduce(($e,Xe)=>{const Fe=Xe.detail.match(/(\d+) units deducted/);return $e+(Fe?parseInt(Fe[1]):0)},0),ee=_e.reduce(($e,Xe)=>{const Fe=Xe.detail.match(/(\d+) units deducted/);return $e+(Fe?parseInt(Fe[1]):0)},0),Ae=Te.reduce(($e,Xe)=>{const Fe=Xe.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return $e+(Fe?parseInt(Fe[1]):0)},0),Oe=Te.reduce(($e,Xe)=>{const Fe=Xe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Fe){const[,Qe,ct]=Fe,rt=b.docs.find(gt=>gt.data().name===Qe);if(rt){const gt=rt.data().price||0;return $e+parseInt(ct)*gt}}return $e},0),Me=Te.reduce(($e,Xe)=>{const Fe=Xe.detail.toLowerCase();if(/reason:\s*damaged/i.test(Fe)||/damaged/i.test(Fe)||/damageditems/i.test(Fe)||/damaged items/i.test(Fe)){const Qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ct of Qe){const rt=Fe.match(ct);if(rt)if(rt.length===3){const gt=parseInt(rt[1]),yt=parseInt(rt[2]);return $e+Math.abs(gt-yt)}else return $e+parseInt(rt[1])}return $e+1}return $e},0),Ke=_e.reduce(($e,Xe)=>{const Fe=Xe.detail.toLowerCase();if(/reason:\s*damaged/i.test(Fe)||/damaged/i.test(Fe)||/damageditems/i.test(Fe)||/damaged items/i.test(Fe)){const Qe=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ct of Qe){const rt=Fe.match(ct);if(rt)if(rt.length===3){const gt=parseInt(rt[1]),yt=parseInt(rt[2]);return $e+Math.abs(gt-yt)}else return $e+parseInt(rt[1])}return $e+1}return $e},0);c({totalOrders:Z,totalStock:K,totalInventoryValue:X,todayDamagedProducts:Me,yesterdayDamagedProducts:Ke,yesterdayOrders:j,yesterdayStockChange:J,yesterdayRevenue:q,totalDeductions:ge,yesterdayDeductions:ee,todayStockAdditions:Ae,todayInventoryValueAdditions:Oe})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=sr(Et(at,"activityLogs"),$a("time","desc"),e2(5)),y=(await ur(m)).docs.map(w=>({id:w.id,...w.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},d=async()=>{await Promise.all([f(),h()])};H.useEffect(()=>{d()},[]);const g=()=>{const{isDarkMode:m}=Xr();return p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>p.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return p.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),p.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),p.jsx(dt,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(Ls,{size:16,className:e?"animate-spin":""})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?p.jsxs(p.Fragment,{children:[p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Za,{title:"Total Stock",value:l.totalStock,icon:p.jsx(Z0,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:p.jsx(Hi,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),p.jsx(Za,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:p.jsx(Q$,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),p.jsx(Za,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:p.jsx(Hh,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),p.jsx(Za,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:p.jsx(V2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:p.jsx(Hi,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(AS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):r.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),p.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Wue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),p.jsx(AS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):s.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.jsx(AS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):a.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},Mn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=Xr(),o=H.useRef(null);if(H.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),H.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),p.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),p.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:p.jsx(pv,{size:20})})]}),p.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},ld=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=H.useState(!1);return H.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),p.jsx(Mn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(Oc,{size:32,className:"text-blue-500"})}),p.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&p.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var WU=1252,cfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],RN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},FN=function(e){cfe.indexOf(e)!=-1&&(WU=RN[0]=e)};function ufe(){FN(1252)}var Jo=function(e){FN(e)};function HU(){Jo(1200),ufe()}function J8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function ffe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function GU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var og=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?ffe(e.slice(2)):t==254&&r==255?GU(e.slice(2)):t==65279?e.slice(1):e},ox=function(t){return String.fromCharCode(t)},Z8=function(t){return String.fromCharCode(t)},$u,Gu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function eD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Gu.charAt(i)+Gu.charAt(s)+Gu.charAt(o)+Gu.charAt(l);return t}function Us(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Gu.indexOf(e.charAt(c++)),s=Gu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Gu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Gu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Ir=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),cd=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ef(e){return Ir?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function tD(e){return Ir?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Xo=function(t){return Ir?cd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function ud(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $N(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return $N(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Bu=Ir?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:cd(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function hfe(e){for(var t=[],r=0,n=e.length+250,a=Ef(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ef(65535),n=65530)}return t.push(a.slice(0,r)),Bu(t)}var Yi=/\u0000/g,lg=/[\u0001-\u0006]/g;function I0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Zo(e,t){var r=""+e;return r.length>=t?r:Qn("0",t-r.length)+r}function BN(e,t){var r=""+e;return r.length>=t?r:Qn(" ",t-r.length)+r}function fb(e,t){var r=""+e;return r.length>=t?r:r+Qn(" ",t-r.length)}function dfe(e,t){var r=""+Math.round(e);return r.length>=t?r:Qn("0",t-r.length)+r}function pfe(e,t){var r=""+e;return r.length>=t?r:Qn("0",t-r.length)+r}var rD=Math.pow(2,32);function zd(e,t){if(e>rD||e<-rD)return dfe(e,t);var r=Math.round(e);return pfe(r,t)}function hb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var nD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],NS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function mfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var br={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},aD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function db(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function kh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=_fe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var KU=new Date(1899,11,31,0,0,0),vfe=KU.getTime(),yfe=new Date(1900,2,1,0,0,0);function YU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=yfe&&(r+=24*60*60*1e3),(r-(vfe+(e.getTimezoneOffset()-KU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function VN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bfe(e){var t=e<0?12:11,r=VN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function wfe(e){var t=VN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Lv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bfe(e):t===10?r=e.toFixed(10).substr(0,12):r=wfe(e),VN(xfe(r.toUpperCase()))}function Xh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Lv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return bo(14,YU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function _fe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Sfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return NS[r.m-1][1];case 5:return NS[r.m-1][0];default:return NS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return nD[r.q][0];default:return nD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Zo(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Zo(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Zo(l,c):"";return u}function Ku(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var XU=/%/g;function Afe(e,t,r){var n=t.replace(XU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Qn("%",a)}function Tfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function QU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+QU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var JU=/# (\?+)( ?)\/( ?)(\d+)/;function Efe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Qn(" ",e[1].length+1+e[4].length):BN(s,e[1].length)+e[2]+"/"+e[3]+Zo(o,e[4].length))}function kfe(e,t,r){return r+(t===0?"":""+t)+Qn(" ",e[1].length+2+e[4].length)}var ZU=/^#*0*\.([0#]+)/,ez=/\).*[0#]/,tz=/\(###\) ###\\?-####/;function Bi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function iD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function sD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Nfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Cfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function io(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ez)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?io("n",n,r):"("+io("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Tfe(e,t,r);if(t.indexOf("%")!==-1)return Afe(e,t,r);if(t.indexOf("E")!==-1)return QU(t,r);if(t.charCodeAt(0)===36)return"$"+io(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+zd(l,t.length);if(t.match(/^[#?]+$/))return a=zd(r,0),a==="0"&&(a=""),a.length>t.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(JU))return Efe(i,l,c);if(t.match(/^#+0+$/))return c+zd(l,t.length-t.indexOf("0"));if(i=t.match(ZU))return a=iD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Qn("0",Bi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+iD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ku(zd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+io(e,t,-r):Ku(""+(Math.floor(r)+Nfe(r,i[1].length)))+"."+Zo(sD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return io(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=I0(io(e,t.replace(/[\\-]/g,""),r)),s=0,I0(I0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(tz))return a=io(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=db(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fb(o[2],s),u.length<i[4].length&&(u=Bi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=db(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+fb(o[2],s):Qn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=zd(r,0),t.length<=a.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Bi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=sD(r,i[1].length),r<0?"-"+io(e,t,-r):Ku(Cfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Zo(0,3-g.length):"")+g})+"."+Zo(s,i[1].length);switch(t){case"###,##0.00":return io(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Ku(zd(l,0));return d!=="0"?c+d:"";case"###,###.00":return io(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return io(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Ofe(e,t,r){var n=t.replace(XU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Qn("%",a)}function rz(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+rz(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _l(e,t,r){if(e.charCodeAt(0)===40&&!t.match(ez)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_l("n",n,r):"("+_l("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pfe(e,t,r);if(t.indexOf("%")!==-1)return Ofe(e,t,r);if(t.indexOf("E")!==-1)return rz(t,r);if(t.charCodeAt(0)===36)return"$"+_l(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Zo(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(JU))return kfe(i,l,c);if(t.match(/^#+0+$/))return c+Zo(l,t.length-t.indexOf("0"));if(i=t.match(ZU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Qn("0",Bi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Ku(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Ku(""+r)+"."+Qn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return _l(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=I0(_l(e,t.replace(/[\\-]/g,""),r)),s=0,I0(I0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(tz))return a=_l(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=db(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fb(o[2],s),u.length<i[4].length&&(u=Bi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=db(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+fb(o[2],s):Qn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Bi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Ku(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?Zo(0,3-g.length):"")+g})+"."+Zo(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Ku(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return _l(e,t.slice(0,t.lastIndexOf(".")),r)+Bi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bc(e,t,r){return(r|0)===r?_l(e,t,r):io(e,t,r)}function Ife(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var nz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":hb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(nz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Dfe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!hb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),g=d==="("||d===")"?d:"t";a[a.length]={t:g,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=kh(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=kh(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=kh(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(nz)){if(c==null&&(c=kh(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,w;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(w=a[s].v.match(/\.0+$/))&&(y=Math.max(y,w[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",I;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Sfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(I=s+1;a[I]!=null&&((o=a[I].t)==="?"||o==="D"||(o===" "||o==="t")&&a[I+1]!=null&&(a[I+1].t==="?"||a[I+1].t==="t"&&a[I+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[I].v==="/"||a[I].v===" "&&a[I+1]!=null&&a[I+1].t=="?"));)a[s].v+=a[I].v,a[I]={v:"",t:";"},++I;_+=a[s].v,s=I-1;break;case"G":a[s].t="t",a[s].v=Xh(t,r);break}var P="",D,E;if(_.length>0){_.charCodeAt(0)==40?(D=t<0&&_.charCodeAt(0)===45?-t:t,E=bc("n",_,D)):(D=t<0&&n>1?-t:t,E=bc("n",_,D),D<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),I=E.length-1;var A=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){A=s;break}var b=a.length;if(A===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(I>=a[s].v.length-1?(I-=a[s].v.length,a[s].v=E.substr(I+1,a[s].v.length)):I<0?a[s].v="":(a[s].v=E.substr(0,I+1),I=-1),a[s].t="t",b=s);I>=0&&b<a.length&&(a[b].v=E.substr(0,I+1)+a[b].v)}else if(A!==a.length&&E.indexOf("E")===-1){for(I=E.indexOf(".")-1,s=A;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)I>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=E.charAt(I--)+P);a[s].v=P,a[s].t="t",b=s}for(I>=0&&b<a.length&&(a[b].v=E.substr(0,I+1)+a[b].v),I=E.indexOf(".")+1,s=A;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==A)){for(u=a[s].v.indexOf(".")>-1&&s===A?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)I<E.length&&(P+=E.charAt(I++));a[s].v=P,a[s].t="t",b=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(D=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=bc(a[s].t,a[s].v,D),a[s].t="t");var O="";for(s=0;s!==a.length;++s)a[s]!=null&&(O+=a[s].v);return O}var oD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function lD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function jfe(e,t){var r=Ife(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(oD),o=r[1].match(oD);return lD(t,s)?[n,r[0]]:lD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function bo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:br)[e],n==null&&(n=r.table&&r.table[aD[e]]||br[aD[e]]),n==null&&(n=gfe[e]||"General");break}if(hb(n,0))return Xh(t,r);t instanceof Date&&(t=YU(t,r.date1904));var a=jfe(n,t);if(hb(a[1]))return Xh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Dfe(a[1],t,r,a[0])}function Mh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(br[r]==null){t<0&&(t=r);continue}if(br[r]==e){t=r;break}}t<0&&(t=391)}return br[t]=e,t}function az(){br=mfe()}var Lfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},iz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Mfe(e){var t=typeof e=="number"?br[e]:e;return t=t.replace(iz,"(\\d+)"),new RegExp("^"+t+"$")}function Rfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(iz)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Ffe=function(){var e={};e.version="1.2.0";function t(){for(var E=0,A=new Array(256),b=0;b!=256;++b)E=b,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,A[b]=E;return typeof Int32Array<"u"?new Int32Array(A):A}var r=t();function n(E){var A=0,b=0,O=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(O=0;O!=256;++O)T[O]=E[O];for(O=0;O!=256;++O)for(b=E[O],A=256+O;A<4096;A+=256)b=T[A]=b>>>8^E[b&255];var N=[];for(O=1;O!=16;++O)N[O-1]=typeof Int32Array<"u"?T.subarray(O*256,O*256+256):T.slice(O*256,O*256+256);return N}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],g=a[9],m=a[10],v=a[11],y=a[12],w=a[13],_=a[14];function I(E,A){for(var b=A^-1,O=0,T=E.length;O<T;)b=b>>>8^r[(b^E.charCodeAt(O++))&255];return~b}function P(E,A){for(var b=A^-1,O=E.length-15,T=0;T<O;)b=_[E[T++]^b&255]^w[E[T++]^b>>8&255]^y[E[T++]^b>>16&255]^v[E[T++]^b>>>24]^m[E[T++]]^g[E[T++]]^d[E[T++]]^h[E[T++]]^f[E[T++]]^u[E[T++]]^c[E[T++]]^l[E[T++]]^o[E[T++]]^s[E[T++]]^i[E[T++]]^r[E[T++]];for(O+=15;T<O;)b=b>>>8^r[(b^E[T++])&255];return~b}function D(E,A){for(var b=A^-1,O=0,T=E.length,N=0,j=0;O<T;)N=E.charCodeAt(O++),N<128?b=b>>>8^r[(b^N)&255]:N<2048?(b=b>>>8^r[(b^(192|N>>6&31))&255],b=b>>>8^r[(b^(128|N&63))&255]):N>=55296&&N<57344?(N=(N&1023)+64,j=E.charCodeAt(O++)&1023,b=b>>>8^r[(b^(240|N>>8&7))&255],b=b>>>8^r[(b^(128|N>>2&63))&255],b=b>>>8^r[(b^(128|j>>6&15|(N&3)<<4))&255],b=b>>>8^r[(b^(128|j&63))&255]):(b=b>>>8^r[(b^(224|N>>12&15))&255],b=b>>>8^r[(b^(128|N>>6&63))&255],b=b>>>8^r[(b^(128|N&63))&255]);return~b}return e.table=r,e.bstr=I,e.buf=P,e.str=D,e}(),Fr=function(){var t={};t.version="1.2.1";function r(ie,xe){for(var pe=ie.split("/"),me=xe.split("/"),ye=0,we=0,Be=Math.min(pe.length,me.length);ye<Be;++ye){if(we=pe[ye].length-me[ye].length)return we;if(pe[ye]!=me[ye])return pe[ye]<me[ye]?-1:1}return pe.length-me.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var xe=ie.lastIndexOf("/");return xe===-1?ie:ie.slice(0,xe+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var xe=ie.lastIndexOf("/");return xe===-1?ie:ie.slice(xe+1)}function i(ie,xe){typeof xe=="string"&&(xe=new Date(xe));var pe=xe.getHours();pe=pe<<6|xe.getMinutes(),pe=pe<<5|xe.getSeconds()>>>1,ie.write_shift(2,pe);var me=xe.getFullYear()-1980;me=me<<4|xe.getMonth()+1,me=me<<5|xe.getDate(),ie.write_shift(2,me)}function s(ie){var xe=ie.read_shift(2)&65535,pe=ie.read_shift(2)&65535,me=new Date,ye=pe&31;pe>>>=5;var we=pe&15;pe>>>=4,me.setMilliseconds(0),me.setFullYear(pe+1980),me.setMonth(we-1),me.setDate(ye);var Be=xe&31;xe>>>=5;var Ge=xe&63;return xe>>>=6,me.setHours(xe),me.setMinutes(Ge),me.setSeconds(Be<<1),me}function o(ie){ti(ie,0);for(var xe={},pe=0;ie.l<=ie.length-4;){var me=ie.read_shift(2),ye=ie.read_shift(2),we=ie.l+ye,Be={};switch(me){case 21589:pe=ie.read_shift(1),pe&1&&(Be.mtime=ie.read_shift(4)),ye>5&&(pe&2&&(Be.atime=ie.read_shift(4)),pe&4&&(Be.ctime=ie.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}ie.l=we,xe[me]=Be}return xe}var l;function c(){return l||(l={})}function u(ie,xe){if(ie[0]==80&&ie[1]==75)return vr(ie,xe);if((ie[0]|32)==109&&(ie[1]|32)==105)return bt(ie,xe);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var pe=3,me=512,ye=0,we=0,Be=0,Ge=0,Ve=0,Ue=[],He=ie.slice(0,512);ti(He,0);var pt=f(He);switch(pe=pt[0],pe){case 3:me=512;break;case 4:me=4096;break;case 0:if(pt[1]==0)return vr(ie,xe);default:throw new Error("Major Version: Expected 3 or 4 saw "+pe)}me!==512&&(He=ie.slice(0,me),ti(He,28));var Tt=ie.slice(0,me);h(He,pe);var Lt=He.read_shift(4,"i");if(pe===3&&Lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Lt);He.l+=4,Be=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Ge=He.read_shift(4,"i"),ye=He.read_shift(4,"i"),Ve=He.read_shift(4,"i"),we=He.read_shift(4,"i");for(var _t=-1,Ot=0;Ot<109&&(_t=He.read_shift(4,"i"),!(_t<0));++Ot)Ue[Ot]=_t;var Qt=d(ie,me);v(Ve,we,Qt,me,Ue);var jr=w(Qt,Be,Ue,me);jr[Be].name="!Directory",ye>0&&Ge!==j&&(jr[Ge].name="!MiniFAT"),jr[Ue[0]].name="!FAT",jr.fat_addrs=Ue,jr.ssz=me;var Lr={},cn=[],Di=[],To=[];_(Be,jr,Qt,cn,ye,Lr,Di,Ge),g(Di,To,cn),cn.shift();var xs={FileIndex:Di,FullPaths:To};return xe&&xe.raw&&(xs.raw={header:Tt,sectors:Qt}),xs}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(K,"Header Signature: "),ie.l+=16;var xe=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),xe]}function h(ie,xe){var pe=9;switch(ie.l+=2,pe=ie.read_shift(2)){case 9:if(xe!=3)throw new Error("Sector Shift: Expected 9 saw "+pe);break;case 12:if(xe!=4)throw new Error("Sector Shift: Expected 12 saw "+pe);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+pe)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function d(ie,xe){for(var pe=Math.ceil(ie.length/xe)-1,me=[],ye=1;ye<pe;++ye)me[ye-1]=ie.slice(ye*xe,(ye+1)*xe);return me[pe-1]=ie.slice(pe*xe),me}function g(ie,xe,pe){for(var me=0,ye=0,we=0,Be=0,Ge=0,Ve=pe.length,Ue=[],He=[];me<Ve;++me)Ue[me]=He[me]=me,xe[me]=pe[me];for(;Ge<He.length;++Ge)me=He[Ge],ye=ie[me].L,we=ie[me].R,Be=ie[me].C,Ue[me]===me&&(ye!==-1&&Ue[ye]!==ye&&(Ue[me]=Ue[ye]),we!==-1&&Ue[we]!==we&&(Ue[me]=Ue[we])),Be!==-1&&(Ue[Be]=me),ye!==-1&&me!=Ue[me]&&(Ue[ye]=Ue[me],He.lastIndexOf(ye)<Ge&&He.push(ye)),we!==-1&&me!=Ue[me]&&(Ue[we]=Ue[me],He.lastIndexOf(we)<Ge&&He.push(we));for(me=1;me<Ve;++me)Ue[me]===me&&(we!==-1&&Ue[we]!==we?Ue[me]=Ue[we]:ye!==-1&&Ue[ye]!==ye&&(Ue[me]=Ue[ye]));for(me=1;me<Ve;++me)if(ie[me].type!==0){if(Ge=me,Ge!=Ue[Ge])do Ge=Ue[Ge],xe[me]=xe[Ge]+"/"+xe[me];while(Ge!==0&&Ue[Ge]!==-1&&Ge!=Ue[Ge]);Ue[me]=-1}for(xe[0]+="/",me=1;me<Ve;++me)ie[me].type!==2&&(xe[me]+="/")}function m(ie,xe,pe){for(var me=ie.start,ye=ie.size,we=[],Be=me;pe&&ye>0&&Be>=0;)we.push(xe.slice(Be*N,Be*N+N)),ye-=N,Be=yh(pe,Be*4);return we.length===0?Sa(0):Bu(we).slice(0,ie.size)}function v(ie,xe,pe,me,ye){var we=j;if(ie===j){if(xe!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Be=pe[ie],Ge=(me>>>2)-1;if(!Be)return;for(var Ve=0;Ve<Ge&&(we=yh(Be,Ve*4))!==j;++Ve)ye.push(we);v(yh(Be,me-4),xe-1,pe,me,ye)}}function y(ie,xe,pe,me,ye){var we=[],Be=[];ye||(ye=[]);var Ge=me-1,Ve=0,Ue=0;for(Ve=xe;Ve>=0;){ye[Ve]=!0,we[we.length]=Ve,Be.push(ie[Ve]);var He=pe[Math.floor(Ve*4/me)];if(Ue=Ve*4&Ge,me<4+Ue)throw new Error("FAT boundary crossed: "+Ve+" 4 "+me);if(!ie[He])break;Ve=yh(ie[He],Ue)}return{nodes:we,data:yD([Be])}}function w(ie,xe,pe,me){var ye=ie.length,we=[],Be=[],Ge=[],Ve=[],Ue=me-1,He=0,pt=0,Tt=0,Lt=0;for(He=0;He<ye;++He)if(Ge=[],Tt=He+xe,Tt>=ye&&(Tt-=ye),!Be[Tt]){Ve=[];var _t=[];for(pt=Tt;pt>=0;){_t[pt]=!0,Be[pt]=!0,Ge[Ge.length]=pt,Ve.push(ie[pt]);var Ot=pe[Math.floor(pt*4/me)];if(Lt=pt*4&Ue,me<4+Lt)throw new Error("FAT boundary crossed: "+pt+" 4 "+me);if(!ie[Ot]||(pt=yh(ie[Ot],Lt),_t[pt]))break}we[Tt]={nodes:Ge,data:yD([Ve])}}return we}function _(ie,xe,pe,me,ye,we,Be,Ge){for(var Ve=0,Ue=me.length?2:0,He=xe[ie].data,pt=0,Tt=0,Lt;pt<He.length;pt+=128){var _t=He.slice(pt,pt+128);ti(_t,64),Tt=_t.read_shift(2),Lt=HN(_t,0,Tt-Ue),me.push(Lt);var Ot={name:Lt,type:_t.read_shift(1),color:_t.read_shift(1),L:_t.read_shift(4,"i"),R:_t.read_shift(4,"i"),C:_t.read_shift(4,"i"),clsid:_t.read_shift(16),state:_t.read_shift(4,"i"),start:0,size:0},Qt=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);Qt!==0&&(Ot.ct=I(_t,_t.l-8));var jr=_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2)+_t.read_shift(2);jr!==0&&(Ot.mt=I(_t,_t.l-8)),Ot.start=_t.read_shift(4,"i"),Ot.size=_t.read_shift(4,"i"),Ot.size<0&&Ot.start<0&&(Ot.size=Ot.type=0,Ot.start=j,Ot.name=""),Ot.type===5?(Ve=Ot.start,ye>0&&Ve!==j&&(xe[Ve].name="!StreamData")):Ot.size>=4096?(Ot.storage="fat",xe[Ot.start]===void 0&&(xe[Ot.start]=y(pe,Ot.start,xe.fat_addrs,xe.ssz)),xe[Ot.start].name=Ot.name,Ot.content=xe[Ot.start].data.slice(0,Ot.size)):(Ot.storage="minifat",Ot.size<0?Ot.size=0:Ve!==j&&Ot.start!==j&&xe[Ve]&&(Ot.content=m(Ot,xe[Ve].data,(xe[Ge]||{}).data))),Ot.content&&ti(Ot.content,0),we[Lt]=Ot,Be.push(Ot)}}function I(ie,xe){return new Date((Os(ie,xe+4)/1e7*Math.pow(2,32)+Os(ie,xe)/1e7-11644473600)*1e3)}function P(ie,xe){return c(),u(l.readFileSync(ie),xe)}function D(ie,xe){var pe=xe&&xe.type;switch(pe||Ir&&Buffer.isBuffer(ie)&&(pe="buffer"),pe||"base64"){case"file":return P(ie,xe);case"base64":return u(Xo(Us(ie)),xe);case"binary":return u(Xo(ie),xe)}return u(ie,xe)}function E(ie,xe){var pe=xe||{},me=pe.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=me+"/",ie.FileIndex[0]={name:me,type:5}),pe.CLSID&&(ie.FileIndex[0].clsid=pe.CLSID),A(ie)}function A(ie){var xe="Sh33tJ5";if(!Fr.find(ie,"/"+xe)){var pe=Sa(4);pe[0]=55,pe[1]=pe[3]=50,pe[2]=54,ie.FileIndex.push({name:xe,type:2,content:pe,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+xe),b(ie)}}function b(ie,xe){E(ie);for(var pe=!1,me=!1,ye=ie.FullPaths.length-1;ye>=0;--ye){var we=ie.FileIndex[ye];switch(we.type){case 0:me?pe=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(we.R*we.L*we.C)&&(pe=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(pe=!0);break;default:pe=!0;break}}if(!(!pe&&!xe)){var Be=new Date(1987,1,19),Ge=0,Ve=Object.create?Object.create(null):{},Ue=[];for(ye=0;ye<ie.FullPaths.length;++ye)Ve[ie.FullPaths[ye]]=!0,ie.FileIndex[ye].type!==0&&Ue.push([ie.FullPaths[ye],ie.FileIndex[ye]]);for(ye=0;ye<Ue.length;++ye){var He=n(Ue[ye][0]);me=Ve[He],me||(Ue.push([He,{name:a(He).replace("/",""),type:1,clsid:X,ct:Be,mt:Be,content:null}]),Ve[He]=!0)}for(Ue.sort(function(Lt,_t){return r(Lt[0],_t[0])}),ie.FullPaths=[],ie.FileIndex=[],ye=0;ye<Ue.length;++ye)ie.FullPaths[ye]=Ue[ye][0],ie.FileIndex[ye]=Ue[ye][1];for(ye=0;ye<Ue.length;++ye){var pt=ie.FileIndex[ye],Tt=ie.FullPaths[ye];if(pt.name=a(Tt).replace("/",""),pt.L=pt.R=pt.C=-(pt.color=1),pt.size=pt.content?pt.content.length:0,pt.start=0,pt.clsid=pt.clsid||X,ye===0)pt.C=Ue.length>1?1:-1,pt.size=0,pt.type=5;else if(Tt.slice(-1)=="/"){for(Ge=ye+1;Ge<Ue.length&&n(ie.FullPaths[Ge])!=Tt;++Ge);for(pt.C=Ge>=Ue.length?-1:Ge,Ge=ye+1;Ge<Ue.length&&n(ie.FullPaths[Ge])!=n(Tt);++Ge);pt.R=Ge>=Ue.length?-1:Ge,pt.type=1}else n(ie.FullPaths[ye+1]||"")==n(Tt)&&(pt.R=ye+1),pt.type=2}}}function O(ie,xe){var pe=xe||{};if(pe.fileType=="mad")return Ye(ie,pe);switch(b(ie),pe.fileType){case"zip":return pn(ie,pe)}var me=function(Lt){for(var _t=0,Ot=0,Qt=0;Qt<Lt.FileIndex.length;++Qt){var jr=Lt.FileIndex[Qt];if(jr.content){var Lr=jr.content.length;Lr>0&&(Lr<4096?_t+=Lr+63>>6:Ot+=Lr+511>>9)}}for(var cn=Lt.FullPaths.length+3>>2,Di=_t+7>>3,To=_t+127>>7,xs=Di+Ot+cn+To,Zi=xs+127>>7,bs=Zi<=109?0:Math.ceil((Zi-109)/127);xs+Zi+bs+127>>7>Zi;)bs=++Zi<=109?0:Math.ceil((Zi-109)/127);var Wa=[1,bs,Zi,To,cn,Ot,_t,0];return Lt.FileIndex[0].size=_t<<6,Wa[7]=(Lt.FileIndex[0].start=Wa[0]+Wa[1]+Wa[2]+Wa[3]+Wa[4]+Wa[5])+(Wa[6]+7>>3),Wa}(ie),ye=Sa(me[7]<<9),we=0,Be=0;{for(we=0;we<8;++we)ye.write_shift(1,J[we]);for(we=0;we<8;++we)ye.write_shift(2,0);for(ye.write_shift(2,62),ye.write_shift(2,3),ye.write_shift(2,65534),ye.write_shift(2,9),ye.write_shift(2,6),we=0;we<3;++we)ye.write_shift(2,0);for(ye.write_shift(4,0),ye.write_shift(4,me[2]),ye.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),ye.write_shift(4,0),ye.write_shift(4,4096),ye.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:j),ye.write_shift(4,me[3]),ye.write_shift(-4,me[1]?me[0]-1:j),ye.write_shift(4,me[1]),we=0;we<109;++we)ye.write_shift(-4,we<me[2]?me[1]+we:-1)}if(me[1])for(Be=0;Be<me[1];++Be){for(;we<236+Be*127;++we)ye.write_shift(-4,we<me[2]?me[1]+we:-1);ye.write_shift(-4,Be===me[1]-1?j:Be+1)}var Ge=function(Lt){for(Be+=Lt;we<Be-1;++we)ye.write_shift(-4,we+1);Lt&&(++we,ye.write_shift(-4,j))};for(Be=we=0,Be+=me[1];we<Be;++we)ye.write_shift(-4,Z.DIFSECT);for(Be+=me[2];we<Be;++we)ye.write_shift(-4,Z.FATSECT);Ge(me[3]),Ge(me[4]);for(var Ve=0,Ue=0,He=ie.FileIndex[0];Ve<ie.FileIndex.length;++Ve)He=ie.FileIndex[Ve],He.content&&(Ue=He.content.length,!(Ue<4096)&&(He.start=Be,Ge(Ue+511>>9)));for(Ge(me[6]+7>>3);ye.l&511;)ye.write_shift(-4,Z.ENDOFCHAIN);for(Be=we=0,Ve=0;Ve<ie.FileIndex.length;++Ve)He=ie.FileIndex[Ve],He.content&&(Ue=He.content.length,!(!Ue||Ue>=4096)&&(He.start=Be,Ge(Ue+63>>6)));for(;ye.l&511;)ye.write_shift(-4,Z.ENDOFCHAIN);for(we=0;we<me[4]<<2;++we){var pt=ie.FullPaths[we];if(!pt||pt.length===0){for(Ve=0;Ve<17;++Ve)ye.write_shift(4,0);for(Ve=0;Ve<3;++Ve)ye.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)ye.write_shift(4,0);continue}He=ie.FileIndex[we],we===0&&(He.start=He.size?He.start-1:j);var Tt=we===0&&pe.root||He.name;if(Ue=2*(Tt.length+1),ye.write_shift(64,Tt,"utf16le"),ye.write_shift(2,Ue),ye.write_shift(1,He.type),ye.write_shift(1,He.color),ye.write_shift(-4,He.L),ye.write_shift(-4,He.R),ye.write_shift(-4,He.C),He.clsid)ye.write_shift(16,He.clsid,"hex");else for(Ve=0;Ve<4;++Ve)ye.write_shift(4,0);ye.write_shift(4,He.state||0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,0),ye.write_shift(4,He.start),ye.write_shift(4,He.size),ye.write_shift(4,0)}for(we=1;we<ie.FileIndex.length;++we)if(He=ie.FileIndex[we],He.size>=4096)if(ye.l=He.start+1<<9,Ir&&Buffer.isBuffer(He.content))He.content.copy(ye,ye.l,0,He.size),ye.l+=He.size+511&-512;else{for(Ve=0;Ve<He.size;++Ve)ye.write_shift(1,He.content[Ve]);for(;Ve&511;++Ve)ye.write_shift(1,0)}for(we=1;we<ie.FileIndex.length;++we)if(He=ie.FileIndex[we],He.size>0&&He.size<4096)if(Ir&&Buffer.isBuffer(He.content))He.content.copy(ye,ye.l,0,He.size),ye.l+=He.size+63&-64;else{for(Ve=0;Ve<He.size;++Ve)ye.write_shift(1,He.content[Ve]);for(;Ve&63;++Ve)ye.write_shift(1,0)}if(Ir)ye.l=ye.length;else for(;ye.l<ye.length;)ye.write_shift(1,0);return ye}function T(ie,xe){var pe=ie.FullPaths.map(function(Ve){return Ve.toUpperCase()}),me=pe.map(function(Ve){var Ue=Ve.split("/");return Ue[Ue.length-(Ve.slice(-1)=="/"?2:1)]}),ye=!1;xe.charCodeAt(0)===47?(ye=!0,xe=pe[0].slice(0,-1)+xe):ye=xe.indexOf("/")!==-1;var we=xe.toUpperCase(),Be=ye===!0?pe.indexOf(we):me.indexOf(we);if(Be!==-1)return ie.FileIndex[Be];var Ge=!we.match(lg);for(we=we.replace(Yi,""),Ge&&(we=we.replace(lg,"!")),Be=0;Be<pe.length;++Be)if((Ge?pe[Be].replace(lg,"!"):pe[Be]).replace(Yi,"")==we||(Ge?me[Be].replace(lg,"!"):me[Be]).replace(Yi,"")==we)return ie.FileIndex[Be];return null}var N=64,j=-2,K="d0cf11e0a1b11ae1",J=[208,207,17,224,161,177,26,225],X="00000000000000000000000000000000",Z={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:K,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:X,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function q(ie,xe,pe){c();var me=O(ie,pe);l.writeFileSync(xe,me)}function U(ie){for(var xe=new Array(ie.length),pe=0;pe<ie.length;++pe)xe[pe]=String.fromCharCode(ie[pe]);return xe.join("")}function te(ie,xe){var pe=O(ie,xe);switch(xe&&xe.type||"buffer"){case"file":return c(),l.writeFileSync(xe.filename,pe),pe;case"binary":return typeof pe=="string"?pe:U(pe);case"base64":return eD(typeof pe=="string"?pe:U(pe));case"buffer":if(Ir)return Buffer.isBuffer(pe)?pe:cd(pe);case"array":return typeof pe=="string"?Xo(pe):pe}return pe}var z;function C(ie){try{var xe=ie.InflateRaw,pe=new xe;if(pe._processChunk(new Uint8Array([3,0]),pe._finishFlushFlag),pe.bytesRead)z=ie;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function R(ie,xe){if(!z)return Pt(ie,xe);var pe=z.InflateRaw,me=new pe,ye=me._processChunk(ie.slice(ie.l),me._finishFlushFlag);return ie.l+=me.bytesRead,ye}function V(ie){return z?z.deflateRawSync(ie):xt(ie)}var G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],se=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(ie){var xe=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(xe>>16|xe>>8|xe)&255}for(var re=typeof Uint8Array<"u",he=re?new Uint8Array(256):[],be=0;be<256;++be)he[be]=ce(be);function B(ie,xe){var pe=he[ie&255];return xe<=8?pe>>>8-xe:(pe=pe<<8|he[ie>>8&255],xe<=16?pe>>>16-xe:(pe=pe<<8|he[ie>>16&255],pe>>>24-xe))}function Te(ie,xe){var pe=xe&7,me=xe>>>3;return(ie[me]|(pe<=6?0:ie[me+1]<<8))>>>pe&3}function _e(ie,xe){var pe=xe&7,me=xe>>>3;return(ie[me]|(pe<=5?0:ie[me+1]<<8))>>>pe&7}function ge(ie,xe){var pe=xe&7,me=xe>>>3;return(ie[me]|(pe<=4?0:ie[me+1]<<8))>>>pe&15}function ee(ie,xe){var pe=xe&7,me=xe>>>3;return(ie[me]|(pe<=3?0:ie[me+1]<<8))>>>pe&31}function Ae(ie,xe){var pe=xe&7,me=xe>>>3;return(ie[me]|(pe<=1?0:ie[me+1]<<8))>>>pe&127}function Oe(ie,xe,pe){var me=xe&7,ye=xe>>>3,we=(1<<pe)-1,Be=ie[ye]>>>me;return pe<8-me||(Be|=ie[ye+1]<<8-me,pe<16-me)||(Be|=ie[ye+2]<<16-me,pe<24-me)||(Be|=ie[ye+3]<<24-me),Be&we}function Me(ie,xe,pe){var me=xe&7,ye=xe>>>3;return me<=5?ie[ye]|=(pe&7)<<me:(ie[ye]|=pe<<me&255,ie[ye+1]=(pe&7)>>8-me),xe+3}function Ke(ie,xe,pe){var me=xe&7,ye=xe>>>3;return pe=(pe&1)<<me,ie[ye]|=pe,xe+1}function $e(ie,xe,pe){var me=xe&7,ye=xe>>>3;return pe<<=me,ie[ye]|=pe&255,pe>>>=8,ie[ye+1]=pe,xe+8}function Xe(ie,xe,pe){var me=xe&7,ye=xe>>>3;return pe<<=me,ie[ye]|=pe&255,pe>>>=8,ie[ye+1]=pe&255,ie[ye+2]=pe>>>8,xe+16}function Fe(ie,xe){var pe=ie.length,me=2*pe>xe?2*pe:xe+5,ye=0;if(pe>=xe)return ie;if(Ir){var we=tD(me);if(ie.copy)ie.copy(we);else for(;ye<ie.length;++ye)we[ye]=ie[ye];return we}else if(re){var Be=new Uint8Array(me);if(Be.set)Be.set(ie);else for(;ye<pe;++ye)Be[ye]=ie[ye];return Be}return ie.length=me,ie}function Qe(ie){for(var xe=new Array(ie),pe=0;pe<ie;++pe)xe[pe]=0;return xe}function ct(ie,xe,pe){var me=1,ye=0,we=0,Be=0,Ge=0,Ve=ie.length,Ue=re?new Uint16Array(32):Qe(32);for(we=0;we<32;++we)Ue[we]=0;for(we=Ve;we<pe;++we)ie[we]=0;Ve=ie.length;var He=re?new Uint16Array(Ve):Qe(Ve);for(we=0;we<Ve;++we)Ue[ye=ie[we]]++,me<ye&&(me=ye),He[we]=0;for(Ue[0]=0,we=1;we<=me;++we)Ue[we+16]=Ge=Ge+Ue[we-1]<<1;for(we=0;we<Ve;++we)Ge=ie[we],Ge!=0&&(He[we]=Ue[Ge+16]++);var pt=0;for(we=0;we<Ve;++we)if(pt=ie[we],pt!=0)for(Ge=B(He[we],me)>>me-pt,Be=(1<<me+4-pt)-1;Be>=0;--Be)xe[Ge|Be<<pt]=pt&15|we<<4;return me}var rt=re?new Uint16Array(512):Qe(512),gt=re?new Uint16Array(32):Qe(32);if(!re){for(var yt=0;yt<512;++yt)rt[yt]=0;for(yt=0;yt<32;++yt)gt[yt]=0}(function(){for(var ie=[],xe=0;xe<32;xe++)ie.push(5);ct(ie,gt,32);var pe=[];for(xe=0;xe<=143;xe++)pe.push(8);for(;xe<=255;xe++)pe.push(9);for(;xe<=279;xe++)pe.push(7);for(;xe<=287;xe++)pe.push(8);ct(pe,rt,288)})();var At=function(){for(var xe=re?new Uint8Array(32768):[],pe=0,me=0;pe<se.length-1;++pe)for(;me<se[pe+1];++me)xe[me]=pe;for(;me<32768;++me)xe[me]=29;var ye=re?new Uint8Array(259):[];for(pe=0,me=0;pe<Y.length-1;++pe)for(;me<Y[pe+1];++me)ye[me]=pe;function we(Ge,Ve){for(var Ue=0;Ue<Ge.length;){var He=Math.min(65535,Ge.length-Ue),pt=Ue+He==Ge.length;for(Ve.write_shift(1,+pt),Ve.write_shift(2,He),Ve.write_shift(2,~He&65535);He-- >0;)Ve[Ve.l++]=Ge[Ue++]}return Ve.l}function Be(Ge,Ve){for(var Ue=0,He=0,pt=re?new Uint16Array(32768):[];He<Ge.length;){var Tt=Math.min(65535,Ge.length-He);if(Tt<10){for(Ue=Me(Ve,Ue,+(He+Tt==Ge.length)),Ue&7&&(Ue+=8-(Ue&7)),Ve.l=Ue/8|0,Ve.write_shift(2,Tt),Ve.write_shift(2,~Tt&65535);Tt-- >0;)Ve[Ve.l++]=Ge[He++];Ue=Ve.l*8;continue}Ue=Me(Ve,Ue,+(He+Tt==Ge.length)+2);for(var Lt=0;Tt-- >0;){var _t=Ge[He];Lt=(Lt<<5^_t)&32767;var Ot=-1,Qt=0;if((Ot=pt[Lt])&&(Ot|=He&-32768,Ot>He&&(Ot-=32768),Ot<He))for(;Ge[Ot+Qt]==Ge[He+Qt]&&Qt<250;)++Qt;if(Qt>2){_t=ye[Qt],_t<=22?Ue=$e(Ve,Ue,he[_t+1]>>1)-1:($e(Ve,Ue,3),Ue+=5,$e(Ve,Ue,he[_t-23]>>5),Ue+=3);var jr=_t<8?0:_t-4>>2;jr>0&&(Xe(Ve,Ue,Qt-Y[_t]),Ue+=jr),_t=xe[He-Ot],Ue=$e(Ve,Ue,he[_t]>>3),Ue-=3;var Lr=_t<4?0:_t-2>>1;Lr>0&&(Xe(Ve,Ue,He-Ot-se[_t]),Ue+=Lr);for(var cn=0;cn<Qt;++cn)pt[Lt]=He&32767,Lt=(Lt<<5^Ge[He])&32767,++He;Tt-=Qt-1}else _t<=143?_t=_t+48:Ue=Ke(Ve,Ue,1),Ue=$e(Ve,Ue,he[_t]),pt[Lt]=He&32767,++He}Ue=$e(Ve,Ue,0)-1}return Ve.l=(Ue+7)/8|0,Ve.l}return function(Ve,Ue){return Ve.length<8?we(Ve,Ue):Be(Ve,Ue)}}();function xt(ie){var xe=Sa(50+Math.floor(ie.length*1.1)),pe=At(ie,xe);return xe.slice(0,pe)}var nt=re?new Uint16Array(32768):Qe(32768),qt=re?new Uint16Array(32768):Qe(32768),$t=re?new Uint16Array(128):Qe(128),Hr=1,ke=1;function Je(ie,xe){var pe=ee(ie,xe)+257;xe+=5;var me=ee(ie,xe)+1;xe+=5;var ye=ge(ie,xe)+4;xe+=4;for(var we=0,Be=re?new Uint8Array(19):Qe(19),Ge=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,Ue=re?new Uint8Array(8):Qe(8),He=re?new Uint8Array(8):Qe(8),pt=Be.length,Tt=0;Tt<ye;++Tt)Be[G[Tt]]=we=_e(ie,xe),Ve<we&&(Ve=we),Ue[we]++,xe+=3;var Lt=0;for(Ue[0]=0,Tt=1;Tt<=Ve;++Tt)He[Tt]=Lt=Lt+Ue[Tt-1]<<1;for(Tt=0;Tt<pt;++Tt)(Lt=Be[Tt])!=0&&(Ge[Tt]=He[Lt]++);var _t=0;for(Tt=0;Tt<pt;++Tt)if(_t=Be[Tt],_t!=0){Lt=he[Ge[Tt]]>>8-_t;for(var Ot=(1<<7-_t)-1;Ot>=0;--Ot)$t[Lt|Ot<<_t]=_t&7|Tt<<3}var Qt=[];for(Ve=1;Qt.length<pe+me;)switch(Lt=$t[Ae(ie,xe)],xe+=Lt&7,Lt>>>=3){case 16:for(we=3+Te(ie,xe),xe+=2,Lt=Qt[Qt.length-1];we-- >0;)Qt.push(Lt);break;case 17:for(we=3+_e(ie,xe),xe+=3;we-- >0;)Qt.push(0);break;case 18:for(we=11+Ae(ie,xe),xe+=7;we-- >0;)Qt.push(0);break;default:Qt.push(Lt),Ve<Lt&&(Ve=Lt);break}var jr=Qt.slice(0,pe),Lr=Qt.slice(pe);for(Tt=pe;Tt<286;++Tt)jr[Tt]=0;for(Tt=me;Tt<30;++Tt)Lr[Tt]=0;return Hr=ct(jr,nt,286),ke=ct(Lr,qt,30),xe}function kt(ie,xe){if(ie[0]==3&&!(ie[1]&3))return[Ef(xe),2];for(var pe=0,me=0,ye=tD(xe||1<<18),we=0,Be=ye.length>>>0,Ge=0,Ve=0;!(me&1);){if(me=_e(ie,pe),pe+=3,me>>>1)me>>1==1?(Ge=9,Ve=5):(pe=Je(ie,pe),Ge=Hr,Ve=ke);else{pe&7&&(pe+=8-(pe&7));var Ue=ie[pe>>>3]|ie[(pe>>>3)+1]<<8;if(pe+=32,Ue>0)for(!xe&&Be<we+Ue&&(ye=Fe(ye,we+Ue),Be=ye.length);Ue-- >0;)ye[we++]=ie[pe>>>3],pe+=8;continue}for(;;){!xe&&Be<we+32767&&(ye=Fe(ye,we+32767),Be=ye.length);var He=Oe(ie,pe,Ge),pt=me>>>1==1?rt[He]:nt[He];if(pe+=pt&15,pt>>>=4,!(pt>>>8&255))ye[we++]=pt;else{if(pt==256)break;pt-=257;var Tt=pt<8?0:pt-4>>2;Tt>5&&(Tt=0);var Lt=we+Y[pt];Tt>0&&(Lt+=Oe(ie,pe,Tt),pe+=Tt),He=Oe(ie,pe,Ve),pt=me>>>1==1?gt[He]:qt[He],pe+=pt&15,pt>>>=4;var _t=pt<4?0:pt-2>>1,Ot=se[pt];for(_t>0&&(Ot+=Oe(ie,pe,_t),pe+=_t),!xe&&Be<Lt&&(ye=Fe(ye,Lt+100),Be=ye.length);we<Lt;)ye[we]=ye[we-Ot],++we}}}return xe?[ye,pe+7>>>3]:[ye.slice(0,we),pe+7>>>3]}function Pt(ie,xe){var pe=ie.slice(ie.l||0),me=kt(pe,xe);return ie.l+=me[1],me[0]}function fr(ie,xe){if(ie)typeof console<"u"&&console.error(xe);else throw new Error(xe)}function vr(ie,xe){var pe=ie;ti(pe,0);var me=[],ye=[],we={FileIndex:me,FullPaths:ye};E(we,{root:xe.root});for(var Be=pe.length-4;(pe[Be]!=80||pe[Be+1]!=75||pe[Be+2]!=5||pe[Be+3]!=6)&&Be>=0;)--Be;pe.l=Be+4,pe.l+=4;var Ge=pe.read_shift(2);pe.l+=6;var Ve=pe.read_shift(4);for(pe.l=Ve,Be=0;Be<Ge;++Be){pe.l+=20;var Ue=pe.read_shift(4),He=pe.read_shift(4),pt=pe.read_shift(2),Tt=pe.read_shift(2),Lt=pe.read_shift(2);pe.l+=8;var _t=pe.read_shift(4),Ot=o(pe.slice(pe.l+pt,pe.l+pt+Tt));pe.l+=pt+Tt+Lt;var Qt=pe.l;pe.l=_t+4,Cr(pe,Ue,He,we,Ot),pe.l=Qt}return we}function Cr(ie,xe,pe,me,ye){ie.l+=2;var we=ie.read_shift(2),Be=ie.read_shift(2),Ge=s(ie);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=ie.read_shift(4),Ue=ie.read_shift(4),He=ie.read_shift(4),pt=ie.read_shift(2),Tt=ie.read_shift(2),Lt="",_t=0;_t<pt;++_t)Lt+=String.fromCharCode(ie[ie.l++]);if(Tt){var Ot=o(ie.slice(ie.l,ie.l+Tt));(Ot[21589]||{}).mt&&(Ge=Ot[21589].mt),((ye||{})[21589]||{}).mt&&(Ge=ye[21589].mt)}ie.l+=Tt;var Qt=ie.slice(ie.l,ie.l+Ue);switch(Be){case 8:Qt=R(ie,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var jr=!1;we&8&&(Ve=ie.read_shift(4),Ve==134695760&&(Ve=ie.read_shift(4),jr=!0),Ue=ie.read_shift(4),He=ie.read_shift(4)),Ue!=xe&&fr(jr,"Bad compressed size: "+xe+" != "+Ue),He!=pe&&fr(jr,"Bad uncompressed size: "+pe+" != "+He),Ct(me,Lt,Qt,{unsafe:!0,mt:Ge})}function pn(ie,xe){var pe=xe||{},me=[],ye=[],we=Sa(1),Be=pe.compression?8:0,Ge=0,Ve=0,Ue=0,He=0,pt=0,Tt=ie.FullPaths[0],Lt=Tt,_t=ie.FileIndex[0],Ot=[],Qt=0;for(Ve=1;Ve<ie.FullPaths.length;++Ve)if(Lt=ie.FullPaths[Ve].slice(Tt.length),_t=ie.FileIndex[Ve],!(!_t.size||!_t.content||Lt=="Sh33tJ5")){var jr=He,Lr=Sa(Lt.length);for(Ue=0;Ue<Lt.length;++Ue)Lr.write_shift(1,Lt.charCodeAt(Ue)&127);Lr=Lr.slice(0,Lr.l),Ot[pt]=Ffe.buf(_t.content,0);var cn=_t.content;Be==8&&(cn=V(cn)),we=Sa(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,Ge),we.write_shift(2,Be),_t.mt?i(we,_t.mt):we.write_shift(4,0),we.write_shift(-4,Ot[pt]),we.write_shift(4,cn.length),we.write_shift(4,_t.content.length),we.write_shift(2,Lr.length),we.write_shift(2,0),He+=we.length,me.push(we),He+=Lr.length,me.push(Lr),He+=cn.length,me.push(cn),we=Sa(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,Ge),we.write_shift(2,Be),we.write_shift(4,0),we.write_shift(-4,Ot[pt]),we.write_shift(4,cn.length),we.write_shift(4,_t.content.length),we.write_shift(2,Lr.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,jr),Qt+=we.l,ye.push(we),Qt+=Lr.length,ye.push(Lr),++pt}return we=Sa(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,pt),we.write_shift(2,pt),we.write_shift(4,Qt),we.write_shift(4,He),we.write_shift(2,0),Bu([Bu(me),Bu(ye),we])}var Pr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ht(ie,xe){if(ie.ctype)return ie.ctype;var pe=ie.name||"",me=pe.match(/\.([^\.]+)$/);return me&&Pr[me[1]]||xe&&(me=(pe=xe).match(/[\.\\]([^\.\\])+$/),me&&Pr[me[1]])?Pr[me[1]]:"application/octet-stream"}function Sr(ie){for(var xe=eD(ie),pe=[],me=0;me<xe.length;me+=76)pe.push(xe.slice(me,me+76));return pe.join(`\r
`)+`\r
`}function qa(ie){var xe=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var He=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});xe=xe.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),xe.charAt(0)==`
`&&(xe="=0D"+xe.slice(1)),xe=xe.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var pe=[],me=xe.split(`\r
`),ye=0;ye<me.length;++ye){var we=me[ye];if(we.length==0){pe.push("");continue}for(var Be=0;Be<we.length;){var Ge=76,Ve=we.slice(Be,Be+Ge);Ve.charAt(Ge-1)=="="?Ge--:Ve.charAt(Ge-2)=="="?Ge-=2:Ve.charAt(Ge-3)=="="&&(Ge-=3),Ve=we.slice(Be,Be+Ge),Be+=Ge,Be<we.length&&(Ve+="="),pe.push(Ve)}}return pe.join(`\r
`)}function In(ie){for(var xe=[],pe=0;pe<ie.length;++pe){for(var me=ie[pe];pe<=ie.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ie[++pe];xe.push(me)}for(var ye=0;ye<xe.length;++ye)xe[ye]=xe[ye].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return Xo(xe.join(`\r
`))}function Ee(ie,xe,pe){for(var me="",ye="",we="",Be,Ge=0;Ge<10;++Ge){var Ve=xe[Ge];if(!Ve||Ve.match(/^\s*$/))break;var Ue=Ve.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":me=Ue[2].trim();break;case"content-type":we=Ue[2].trim();break;case"content-transfer-encoding":ye=Ue[2].trim();break}}switch(++Ge,ye.toLowerCase()){case"base64":Be=Xo(Us(xe.slice(Ge).join("")));break;case"quoted-printable":Be=In(xe.slice(Ge));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ye)}var He=Ct(ie,me.slice(pe.length),Be,{unsafe:!0});we&&(He.ctype=we)}function bt(ie,xe){if(U(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var pe=xe&&xe.root||"",me=(Ir&&Buffer.isBuffer(ie)?ie.toString("binary"):U(ie)).split(`\r
`),ye=0,we="";for(ye=0;ye<me.length;++ye)if(we=me[ye],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),pe||(pe=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,pe.length)!=pe))for(;pe.length>0&&(pe=pe.slice(0,pe.length-1),pe=pe.slice(0,pe.lastIndexOf("/")+1),we.slice(0,pe.length)!=pe););var Be=(me[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Ge="--"+(Be[1]||""),Ve=[],Ue=[],He={FileIndex:Ve,FullPaths:Ue};E(He);var pt,Tt=0;for(ye=0;ye<me.length;++ye){var Lt=me[ye];Lt!==Ge&&Lt!==Ge+"--"||(Tt++&&Ee(He,me.slice(pt,ye),pe),pt=ye)}return He}function Ye(ie,xe){var pe=xe||{},me=pe.boundary||"SheetJS";me="------="+me;for(var ye=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],we=ie.FullPaths[0],Be=we,Ge=ie.FileIndex[0],Ve=1;Ve<ie.FullPaths.length;++Ve)if(Be=ie.FullPaths[Ve].slice(we.length),Ge=ie.FileIndex[Ve],!(!Ge.size||!Ge.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Qt){return"_x"+Qt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Qt){return"_u"+Qt.charCodeAt(0).toString(16)+"_"});for(var Ue=Ge.content,He=Ir&&Buffer.isBuffer(Ue)?Ue.toString("binary"):U(Ue),pt=0,Tt=Math.min(1024,He.length),Lt=0,_t=0;_t<=Tt;++_t)(Lt=He.charCodeAt(_t))>=32&&Lt<128&&++pt;var Ot=pt>=Tt*4/5;ye.push(me),ye.push("Content-Location: "+(pe.root||"file:///C:/SheetJS/")+Be),ye.push("Content-Transfer-Encoding: "+(Ot?"quoted-printable":"base64")),ye.push("Content-Type: "+Ht(Ge,Be)),ye.push(""),ye.push(Ot?qa(He):Sr(He))}return ye.push(me+`--\r
`),ye.join(`\r
`)}function Gt(ie){var xe={};return E(xe,ie),xe}function Ct(ie,xe,pe,me){var ye=me&&me.unsafe;ye||E(ie);var we=!ye&&Fr.find(ie,xe);if(!we){var Be=ie.FullPaths[0];xe.slice(0,Be.length)==Be?Be=xe:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+xe).replace("//","/")),we={name:a(xe),type:2},ie.FileIndex.push(we),ie.FullPaths.push(Be),ye||Fr.utils.cfb_gc(ie)}return we.content=pe,we.size=pe?pe.length:0,me&&(me.CLSID&&(we.clsid=me.CLSID),me.mt&&(we.mt=me.mt),me.ct&&(we.ct=me.ct)),we}function ft(ie,xe){E(ie);var pe=Fr.find(ie,xe);if(pe){for(var me=0;me<ie.FileIndex.length;++me)if(ie.FileIndex[me]==pe)return ie.FileIndex.splice(me,1),ie.FullPaths.splice(me,1),!0}return!1}function Nt(ie,xe,pe){E(ie);var me=Fr.find(ie,xe);if(me){for(var ye=0;ye<ie.FileIndex.length;++ye)if(ie.FileIndex[ye]==me)return ie.FileIndex[ye].name=a(pe),ie.FullPaths[ye]=pe,!0}return!1}function gr(ie){b(ie,!0)}return t.find=T,t.read=D,t.parse=u,t.write=te,t.writeFile=q,t.utils={cfb_new:Gt,cfb_add:Ct,cfb_del:ft,cfb_mov:Nt,cfb_gc:gr,ReadShift:Ig,CheckField:kz,prep_blob:ti,bconcat:Bu,use_zlib:C,_deflateRaw:xt,_inflateRaw:Pt,consts:Z},t}();function $fe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ul(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function UN(e){for(var t=[],r=Ul(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var pb=new Date(1899,11,30,0,0,0);function Xi(e,t){var r=e.getTime(),n=pb.getTime()+(e.getTimezoneOffset()-pb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var sz=new Date,Bfe=pb.getTime()+(sz.getTimezoneOffset()-pb.getTimezoneOffset())*6e4,cD=sz.getTimezoneOffset();function m5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bfe),t.getTimezoneOffset()!==cD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-cD)*6e4),t}function Vfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var uD=new Date("2017-02-19T19:06:09.000Z"),oz=isNaN(uD.getFullYear())?new Date("2/19/17"):uD,Ufe=oz.getFullYear()==2017;function Ua(e,t){var r=new Date(e);if(Ufe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(oz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Qh(e,t){if(Ir&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ug(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ug(GU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ug(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ug(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ii(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ii(e[r]));return t}function Qn(e,t){for(var r="";r.length<t;)r+=e;return r}function al(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var zfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function up(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&zfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var qfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function lz(e){return e?e.content&&e.type?Qh(e.content,!0):e.data?og(e.data):e.asNodeBuffer&&Ir?og(e.asNodeBuffer().toString("binary")):e.asBinary?og(e.asBinary()):e._data&&e._data.getContent?og(Qh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function cz(e){if(!e)return null;if(e.data)return J8(e.data);if(e.asNodeBuffer&&Ir)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?J8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Wfe(e){return e&&e.name.slice(-4)===".bin"?cz(e):lz(e)}function oo(e,t){for(var r=e.FullPaths||Ul(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function zN(e,t){var r=oo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function da(e,t,r){if(!r)return Wfe(zN(e,t));if(!t)return null;try{return da(e,t)}catch{return null}}function Is(e,t,r){if(!r)return lz(zN(e,t));if(!t)return null;try{return Is(e,t)}catch{return null}}function Hfe(e,t,r){return cz(zN(e,t))}function fD(e){for(var t=e.FullPaths||Ul(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Gfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Ir?n=cd(r):n=hfe(r),Fr.utils.cfb_add(e,t,n)}Fr.utils.cfb_add(e,t,r)}else e.file(t,r)}function uz(e,t){switch(t.type){case"base64":return Fr.read(e,{type:"base64"});case"binary":return Fr.read(e,{type:"binary"});case"buffer":case"array":return Fr.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function cg(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var fz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Kfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,hD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Yfe=/<[^>]*>/g,Ii=fz.match(hD)?hD:Yfe,Xfe=/<\w*:/,Qfe=/<(\/?)\w+:/;function ir(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Kfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function ql(e){return e.replace(Qfe,"<$1")}var hz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jfe=UN(hz),zr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return hz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Zfe=/[&<>'"]/g,ehe=/[\u0000-\u001f]/g;function qN(e){var t=e+"";return t.replace(Zfe,function(r){return Jfe[r]}).replace(/\n/g,"<br/>").replace(ehe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var dD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Dn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function CS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function pD(e){var t=Ef(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function mD(e){return cd(e,"binary").toString("utf8")}var lx="foo bar bazâð£",Sn=Ir&&(mD(lx)==CS(lx)&&mD||pD(lx)==CS(lx)&&pD)||CS,ug=Ir?function(e){return cd(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Mv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),dz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),the=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),rhe=/<\/?(?:vt:)?variant>/g,nhe=/<(?:vt:)([^>]*)>([\s\S]*)</;function gD(e,t){var r=ir(e),n=e.match(the(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(rhe,"").match(nhe);s&&a.push({v:Sn(s[2]),t:s[1]})}),a}var ahe=/(^\s|\s$|\n)/;function ihe(e){return Ul(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function she(e,t,r){return"<"+e+(r!=null?ihe(r):"")+(t!=null?(t.match(ahe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function WN(e){if(Ir&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return Sn(ud($N(e)));throw new Error("Bad input format: expected Buffer or string")}var Rv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ohe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lhe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function che(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function uhe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var vD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},yD=Ir?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:cd(t)})):vD(e)}:vD,xD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(pc(e,a)));return n.join("").replace(Yi,"")},HN=Ir?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Yi,""):xD(e,t,r)}:xD,bD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},pz=Ir?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):bD(e,t,r)}:bD,wD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Zd(e,a)));return n.join("")},G1=Ir?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):wD(t,r,n)}:wD,mz=function(e,t){var r=Os(e,t);return r>0?G1(e,t+4,t+4+r-1):""},gz=mz,vz=function(e,t){var r=Os(e,t);return r>0?G1(e,t+4,t+4+r-1):""},yz=vz,xz=function(e,t){var r=2*Os(e,t);return r>0?G1(e,t+4,t+4+r-1):""},bz=xz,wz=function(t,r){var n=Os(t,r);return n>0?HN(t,r+4,r+4+n):""},_z=wz,Sz=function(e,t){var r=Os(e,t);return r>0?G1(e,t+4,t+4+r):""},Az=Sz,Tz=function(e,t){return che(e,t)},mb=Tz,Ez=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Ir&&(gz=function(t,r){if(!Buffer.isBuffer(t))return mz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},yz=function(t,r){if(!Buffer.isBuffer(t))return vz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bz=function(t,r){if(!Buffer.isBuffer(t))return xz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},_z=function(t,r){if(!Buffer.isBuffer(t))return wz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Az=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},mb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Tz(t,r)},Ez=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Zd=function(e,t){return e[t]},pc=function(e,t){return e[t+1]*256+e[t]},fhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Os=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},hhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Ig(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Ir&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(pc(this,c)),c+=2;e*=2;break;case"utf8":r=G1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=HN(this,this.l,this.l+e);break;case"wstr":return Ig.call(this,e,"dbcs");case"lpstr-ansi":r=gz(this,this.l),e=4+Os(this,this.l);break;case"lpstr-cp":r=yz(this,this.l),e=4+Os(this,this.l);break;case"lpwstr":r=bz(this,this.l),e=4+2*Os(this,this.l);break;case"lpp4":e=4+Os(this,this.l),r=_z(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Os(this,this.l),r=Az(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Zd(this,this.l+e++))!==0;)i.push(ox(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=pc(this,this.l+e))!==0;)i.push(ox(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Zd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ox(pc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Zd(this,c),this.l=c+1,o=Ig.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(ox(Zd(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Zd(this,this.l),this.l++,n;case 2:return n=(t==="i"?fhe:pc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yh:hhe)(this,this.l),this.l+=4,n):(a=Os(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=mb(this,this.l):a=mb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=pz(this,this.l,e);break}}return this.l+=e,r}var dhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},phe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},mhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ghe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)mhe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dhe(this,t,this.l);break;case 8:if(n=8,r==="f"){uhe(this,t,this.l);break}case 16:break;case-4:n=4,phe(this,t,this.l);break}return this.l+=n,this}function kz(e,t){var r=pz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ti(e,t){e.l=t,e.read_shift=Ig,e.chk=kz,e.write_shift=ghe}function Oi(e,t){e.l+=t}function Sa(e){var t=Ef(e);return ti(t,0),t}function Yc(e,t,r){if(e){var n,a,i;ti(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=wb[o]||wb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function xT(){var e=[],t=Ir?256:2048,r=function(c){var u=Sa(c);return ti(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Bu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function Dg(e,t,r){var n=ii(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function _D(e,t,r){var n=ii(e);return n.s=Dg(n.s,t.s,r),n.e=Dg(n.e,t.s,r),n}function jg(e,t){if(e.cRel&&e.c<0)for(e=ii(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ii(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=mr(e);return!e.cRel&&e.cRel!=null&&(r=xhe(r)),!e.rRel&&e.rRel!=null&&(r=vhe(r)),r}function PS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Ea(e.s.c)+":"+(e.e.cRel?"":"$")+Ea(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+si(e.s.r)+":"+(e.e.rRel?"":"$")+si(e.e.r):jg(e.s,t.biff)+":"+jg(e.e,t.biff)}function GN(e){return parseInt(yhe(e),10)-1}function si(e){return""+(e+1)}function vhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yhe(e){return e.replace(/\$(\d+)$/,"$1")}function KN(e){for(var t=bhe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Ea(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function xhe(e){return e.replace(/^([A-Z])/,"$$$1")}function bhe(e){return e.replace(/^\$([A-Z])/,"$1")}function whe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function zi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function mr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Xp(e){var t=e.indexOf(":");return t==-1?{s:zi(e),e:zi(e)}:{s:zi(e.slice(0,t)),e:zi(e.slice(t+1))}}function Br(e,t){return typeof t>"u"||typeof t=="number"?Br(e.s,e.e):(typeof e!="string"&&(e=mr(e)),typeof t!="string"&&(t=mr(t)),e==t?e:e+":"+t)}function Zn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function SD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=bo(e.z,r?Xi(t):t)}catch{}try{return e.w=bo((e.XF||{}).numFmtId||(r?14:0),r?Xi(t):t)}catch{return""+t}}function Fc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?dd[e.v]||e.v:t==null?SD(e,e.v):SD(e,t))}function Rf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Nz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?zi(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Zn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||br[14],n.cellDates?(d.t="d",d.w=bo(d.z,Xi(d.v))):(d.t="n",d.v=Xi(d.v),d.w=bo(d.z,d.v))):d.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(d.z=i[g][m].z),i[g][m]=d;else{var v=mr({c:m,r:g});i[v]&&i[v].z&&(d.z=i[v].z),i[v]=d}}}return c.s.c<1e7&&(i["!ref"]=Br(c)),i}function Qp(e,t){return Nz(null,e,t)}function _he(e){return e.read_shift(4,"i")}function Ci(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function She(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function YN(e,t){var r=e.l,n=e.read_shift(1),a=Ci(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(She(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Ahe=YN;function _o(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function fd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var The=Ci;function XN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ehe=Ci,bT=XN;function QN(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?mb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yh(t,0)>>2;return r?a/100:a}function Cz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var hd=Cz;function Ei(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function khe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Rh[a];c&&(t.rgb=$v(c));break;case 2:t.rgb=$v([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Nhe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Pz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Che(e){return Pz(e,1)}function Phe(e){return Pz(e,2)}var JN=2,ss=3,cx=11,AD=12,gb=19,ux=64,Ohe=65,Ihe=71,Dhe=4108,jhe=4126,ja=80,Oz=81,Lhe=[ja,Oz],Mhe={1:{n:"CodePage",t:JN},2:{n:"Category",t:ja},3:{n:"PresentationFormat",t:ja},4:{n:"ByteCount",t:ss},5:{n:"LineCount",t:ss},6:{n:"ParagraphCount",t:ss},7:{n:"SlideCount",t:ss},8:{n:"NoteCount",t:ss},9:{n:"HiddenCount",t:ss},10:{n:"MultimediaClipCount",t:ss},11:{n:"ScaleCrop",t:cx},12:{n:"HeadingPairs",t:Dhe},13:{n:"TitlesOfParts",t:jhe},14:{n:"Manager",t:ja},15:{n:"Company",t:ja},16:{n:"LinksUpToDate",t:cx},17:{n:"CharacterCount",t:ss},19:{n:"SharedDoc",t:cx},22:{n:"HyperlinksChanged",t:cx},23:{n:"AppVersion",t:ss,p:"version"},24:{n:"DigSig",t:Ohe},26:{n:"ContentType",t:ja},27:{n:"ContentStatus",t:ja},28:{n:"Language",t:ja},29:{n:"Version",t:ja},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}},Rhe={1:{n:"CodePage",t:JN},2:{n:"Title",t:ja},3:{n:"Subject",t:ja},4:{n:"Author",t:ja},5:{n:"Keywords",t:ja},6:{n:"Comments",t:ja},7:{n:"Template",t:ja},8:{n:"LastAuthor",t:ja},9:{n:"RevNumber",t:ja},10:{n:"EditTime",t:ux},11:{n:"LastPrinted",t:ux},12:{n:"CreatedDate",t:ux},13:{n:"ModifiedDate",t:ux},14:{n:"PageCount",t:ss},15:{n:"WordCount",t:ss},16:{n:"CharCount",t:ss},17:{n:"Thumbnail",t:Ihe},18:{n:"Application",t:ja},19:{n:"DocSecurity",t:ss},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}},TD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Fhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function $he(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Bhe=$he([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Rh=ii(Bhe),dd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Iz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},ED={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Vhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Uhe(e){var t=Vhe();if(!e||!e.match)return t;var r={};if((e.match(Ii)||[]).forEach(function(n){var a=ir(n);switch(a[0].replace(Xfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[ED[a.ContentType]]!==void 0&&t[ED[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ohe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var x0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Lg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ii)||[]).forEach(function(a){var i=ir(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:cg(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var zhe="application/vnd.oasis.opendocument.spreadsheet";function qhe(e,t){for(var r=WN(e),n,a;n=Rv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=ir(n[0],!1),a.path=="/"&&a.type!==zhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Mg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Whe=function(){for(var e=new Array(Mg.length),t=0;t<Mg.length;++t){var r=Mg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Dz(e){var t={};e=Sn(e);for(var r=0;r<Mg.length;++r){var n=Mg[r],a=e.match(Whe[r]);a!=null&&a.length>0&&(t[n[1]]=zr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ua(t[n[1]]))}return t}var Hhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function jz(e,t,r,n){var a=[];if(typeof e=="string")a=gD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?gD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Ghe(e,t,r){var n={};return t||(t={}),e=Sn(e),Hhe.forEach(function(a){var i=(e.match(Mv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=zr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&jz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Khe=/<[^>]+>[^<]*/g;function Yhe(e,t){var r={},n="",a=e.match(Khe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=ir(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=zr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=zr(u);break;case"bool":r[n]=Dn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ua(u);break;case"cy":case"error":r[n]=zr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Xhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},OS;function Qhe(e,t,r){OS||(OS=UN(Xhe)),t=OS[t]||t,e[t]=r}function ZN(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Lz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Mz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function Rz(e,t,r){return t===31?Mz(e):Lz(e,t,r)}function _T(e,t,r){return Rz(e,t,r===!1?0:4)}function Jhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return Rz(e,t,0)}function Zhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Yi,""),e.l-a&2&&(e.l+=2)}return r}function ede(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Yi,"");return r}function tde(e){var t=e.l,r=vb(e,Oz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=vb(e,ss);return[r,n]}function rde(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(tde(e));return r}function kD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Yi,"").replace(lg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Fz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function nde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function vb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==AD&&n!==t&&Lhe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===AD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Lz(e,n,4).replace(Yi,"");case 31:return Mz(e);case 64:return ZN(e);case 65:return Fz(e);case 71:return nde(e);case 80:return _T(e,n,!i.raw).replace(Yi,"");case 81:return Jhe(e,n).replace(Yi,"");case 4108:return rde(e);case 4126:case 4127:return n==4127?Zhe(e):ede(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function ND(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(w,_){return w[1]-_[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=vb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Jo(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=vb(e,JN),Jo(o),l!==-1){var m=e.l;e.l=i[l][1],c=kD(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=kD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Fz(e);break;case 30:e.l+=4,y=_T(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=_T(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ra(e,4);break;case 64:e.l+=4,y=Ua(ZN(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function CD(e,t,r){var n=e.content;if(!n)return{};ti(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Fr.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=ND(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=ND(n,null)}catch{}for(d in g)h[d]=g[d];return h.FMTID=[i,s],h}function Nu(e,t){return e.read_shift(t),null}function ade(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ra(e,t){return e.read_shift(t)===1}function pa(e){return e.read_shift(2,"u")}function $z(e,t){return ade(e,t,pa)}function ide(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function K1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function sde(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Jh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function Y1(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Jh(e,n,r)}function pd(e,t,r){if(r.biff>5)return Y1(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ode(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function lde(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Yi,"");return n&&(e.l+=24),a}function cde(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Yi,"");return r+s}function ude(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return lde(e);case"0303000000000000c000000000000046":return cde(e);default:throw new Error("Unsupported Moniker "+r)}}function fx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Yi,""):"";return r}function fde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=fx(e,r-e.l)),a&128&&(s=fx(e,r-e.l)),(a&257)===257&&(o=fx(e,r-e.l)),(a&257)===1&&(l=ude(e,r-e.l)),a&8&&(c=fx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=ZN(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Bz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Vz(e,t){var r=Bz(e);return r[3]=0,r}function Wl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function hde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dde(e,t,r){return t===0?"":pd(e,t,r)}function pde(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Uz(e){var t=e.read_shift(2),r=QN(e);return[t,r]}function mde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=K1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function g5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function zz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var gde=zz;function qz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function vde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function yde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function di(e){e.l+=2,e.l+=e.read_shift(2)}var xde={0:di,4:di,5:di,6:di,7:yde,8:di,9:di,10:di,11:di,12:di,13:vde,14:di,15:di,16:di,17:di,18:di,19:di,20:di,21:qz};function bde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(xde[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function hx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function wde(e,t){return t===0||e.read_shift(2),1200}function _de(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=pd(e,0,r);return e.read_shift(t+n-e.l),a}function Sde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ade(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=K1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Tde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(sde(e));return i.Count=n,i.Unique=a,i}function Ede(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function kde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Nde(e){var t=hde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Cde(e){return e.read_shift(2),e.read_shift(4)}function PD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Pde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Ode(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Ide(){}function Dde(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=K1(e,0,r),n}function jde(e){var t=Wl(e);return t.isst=e.read_shift(4),t}function Lde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Wl(e);r.biff==2&&e.l++;var i=Y1(e,n-e.l,r);return a.val=i,a}function Mde(e,t,r){var n=e.read_shift(2),a=pd(e,0,r);return[n,a]}var Rde=pd;function OD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Fde(e){var t=e.read_shift(2),r=e.read_shift(2),n=Uz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function $de(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Uz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Bde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Vde(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Fhe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Ude(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Vde(e,t,n.fStyle,r),n}function zde(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function ID(e,t,r){var n=Wl(e);(r.biff==2||t==9)&&++e.l;var a=ide(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function qde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Wl(e),a=Ei(e);return n.val=a,n}var DD=dde;function Wde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Jh(e,i),o=[];n>e.l;)o.push(Y1(e));return[i,a,s,o]}function jD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=mde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Hde=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function LD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Jh(e,s,r);a&32&&(c=Hde[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:kge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Wz(e,t,r){if(r.biff<8)return Gde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(pde(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Gde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=K1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Kde(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Jh(e,n,r),s=Jh(e,a,r);return[i,s]}function Yde(e,t,r){var n=zz(e);e.l++;var a=e.read_shift(1);return t-=8,[Nge(e,t,r),a,n]}function MD(e,t,r){var n=gde(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Tge(e,t,r)]}function Xde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Qde(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=pd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Jde(e,t,r){return Qde(e,t,r)}function Zde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(g5(e));return r}function e0e(e,t,r){if(r&&r.biff<8)return r0e(e,t,r);var n=qz(e),a=bde(e,t-22,n[1]);return{cmo:n,ft:a}}var t0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function r0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((t0e[n]||Oi)(e,t,r)),{cmo:[a,n,i],ft:s}}function n0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=ode(e,6,r);var o=e.read_shift(2);e.read_shift(2),pa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Jh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function a0e(e,t){var r=g5(e);e.l+=16;var n=fde(e,t-24);return[r,n]}function i0e(e,t){e.read_shift(2);var r=g5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Yi,""),[r,n]}function s0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=TD[r]||r,r=e.read_shift(2),t[1]=TD[r]||r,t}function o0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Vz(e));return r}function l0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Vz(e));return r}function c0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Hz(e,t,r){if(!r.cellStyles)return Oi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function u0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ei(e),r.footer=Ei(e),e.l+=2),r}function f0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var h0e=Wl,d0e=$z,p0e=Y1;function m0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function g0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Wl(e);++e.l;var a=pd(e,t-7,r);return n.t="str",n.val=a,n}function v0e(e){var t=Wl(e);++e.l;var r=Ei(e);return t.t="n",t.val=r,t}function y0e(e){var t=Wl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function x0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function b0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function w0e(e,t,r){var n=e.l+t,a=Wl(e),i=e.read_shift(2),s=Jh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var _0e=[2,3,48,49,131,139,140,245],RD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=UN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Ef(1);switch(l.type){case"base64":u=Xo(Us(o));break;case"binary":u=Xo(o);break;case"buffer":case"array":u=o;break}ti(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),w=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(w=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var _=[],I={},P=Math.min(u.length,f==2?521:v-10-(d?264:0)),D=g?32:11;u.l<P&&u[u.l]!=13;)switch(I={},I.name=$u.utils.decode(w,u.slice(u.l,u.l+D)).replace(/[\u0000\r\n].*$/g,""),u.l+=D,I.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(I.offset=u.read_shift(4)),I.len=u.read_shift(1),f==2&&(I.offset=u.read_shift(2)),I.dec=u.read_shift(1),I.name.length&&_.push(I),f!=2&&(u.l+=g?13:14),I.type){case"B":(!d||I.len!=8)&&l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+I.name+":"+I.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+I.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var E=0,A=0;for(c[0]=[],A=0;A!=_.length;++A)c[0][A]=_[A].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++E]=[],A=0,A=0;A!=_.length;++A){var b=u.slice(u.l,u.l+_[A].len);u.l+=_[A].len,ti(b,0);var O=$u.utils.decode(w,b);switch(_[A].type){case"C":O.trim().length&&(c[E][A]=O.replace(/\s+$/,""));break;case"D":O.length===8?c[E][A]=new Date(+O.slice(0,4),+O.slice(4,6)-1,+O.slice(6,8)):c[E][A]=O;break;case"F":c[E][A]=parseFloat(O.trim());break;case"+":case"I":c[E][A]=g?b.read_shift(-4,"i")^2147483648:b.read_shift(4,"i");break;case"L":switch(O.trim().toUpperCase()){case"Y":case"T":c[E][A]=!0;break;case"N":case"F":c[E][A]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+O+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][A]="##MEMO##"+(g?parseInt(O.trim(),10):b.read_shift(4));break;case"N":O=O.replace(/\u0000/g,"").trim(),O&&O!="."&&(c[E][A]=+O||0);break;case"@":c[E][A]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":c[E][A]=new Date((b.read_shift(4)-2440588)*864e5+b.read_shift(4));break;case"Y":c[E][A]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][A]=-b.read_shift(-8,"f");break;case"B":if(d&&_[A].len==8){c[E][A]=b.read_shift(8,"f");break}case"G":case"P":b.l+=_[A].len;break;case"0":if(_[A].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[A].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Qp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Rf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Jo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=xT(),f=CT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,w=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var _=Zn(o["!ref"]),I=[],P=[],D=[];for(m=0;m<=_.e.c-_.s.c;++m){var E="",A="",b=0,O=[];for(v=0;v<d.length;++v)d[v][m]!=null&&O.push(d[v][m]);if(O.length==0||h[m]==null){I[m]="?";continue}for(v=0;v<O.length;++v){switch(typeof O[v]){case"number":A="B";break;case"string":A="C";break;case"boolean":A="L";break;case"object":A=O[v]instanceof Date?"D":"C";break;default:A="C"}b=Math.max(b,String(O[v]).length),E=E&&E!=A?"C":A}b>250&&(b=250),A=((g[m]||{}).DBF||{}).type,A=="C"&&g[m].DBF.len>b&&(b=g[m].DBF.len),E=="B"&&A=="N"&&(E="N",D[m]=g[m].DBF.dec,b=g[m].DBF.len),P[m]=E=="C"||A=="N"?b:i[E]||0,w+=P[m],I[m]=E}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,d.length),T.write_shift(2,296+32*y),T.write_shift(2,w),m=0;m<4;++m)T.write_shift(4,0);for(T.write_shift(4,0|(+t[WU]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var N=u.next(32),j=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);N.write_shift(1,j,"sbcs"),N.write_shift(1,I[m]=="?"?"C":I[m],"sbcs"),N.write_shift(4,v),N.write_shift(1,P[m]||i[I[m]]||0),N.write_shift(1,D[m]||0),N.write_shift(1,2),N.write_shift(4,0),N.write_shift(1,0),N.write_shift(4,0),N.write_shift(4,0),v+=P[m]||i[I[m]]||0}var K=u.next(264);for(K.write_shift(4,13),m=0;m<65;++m)K.write_shift(4,0);for(m=0;m<d.length;++m){var J=u.next(w);for(J.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(I[v]){case"L":J.write_shift(1,d[m][v]==null?63:d[m][v]?84:70);break;case"B":J.write_shift(8,d[m][v]||0,"f");break;case"N":var X="0";for(typeof d[m][v]=="number"&&(X=d[m][v].toFixed(D[v]||0)),y=0;y<P[v]-X.length;++y)J.write_shift(1,32);J.write_shift(1,X,"sbcs");break;case"D":d[m][v]?(J.write_shift(4,("0000"+d[m][v].getFullYear()).slice(-4),"sbcs"),J.write_shift(2,("00"+(d[m][v].getMonth()+1)).slice(-2),"sbcs"),J.write_shift(2,("00"+d[m][v].getDate()).slice(-2),"sbcs")):J.write_shift(8,"00000000","sbcs");break;case"C":var Z=String(d[m][v]!=null?d[m][v]:"").slice(0,P[v]);for(J.write_shift(1,Z,"sbcs"),y=0;y<P[v]-Z.length;++y)J.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),S0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ul(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var g=e[d];return typeof g=="number"?Z8(g):g},n=function(h,d,g){var m=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:Z8(m)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i(Us(h),d);case"binary":return i(h,d);case"buffer":return i(Ir&&Buffer.isBuffer(h)?h.toString("binary"):ud(h),d);case"array":return i(Qh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,w=0,_=[],I=[],P=null,D={},E=[],A=[],b=[],O=0,T;for(+d.codepage>=0&&Jo(+d.codepage);y!==g.length;++y){O=0;var N=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=N.replace(/;;/g,"\0").split(";").map(function(G){return G.replace(/\u0000/g,";")}),K=j[0],J;if(N.length>0)switch(K){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&I.push(N.slice(3).replace(/;;/g,";"));break;case"C":var X=!1,Z=!1,q=!1,U=!1,te=-1,z=-1;for(w=1;w<j.length;++w)switch(j[w].charAt(0)){case"A":break;case"X":v=parseInt(j[w].slice(1))-1,Z=!0;break;case"Y":for(m=parseInt(j[w].slice(1))-1,Z||(v=0),T=_.length;T<=m;++T)_[T]=[];break;case"K":J=j[w].slice(1),J.charAt(0)==='"'?J=J.slice(1,J.length-1):J==="TRUE"?J=!0:J==="FALSE"?J=!1:isNaN(al(J))?isNaN(up(J).getDate())||(J=Ua(J)):(J=al(J),P!==null&&Yp(P)&&(J=m5(J))),X=!0;break;case"E":U=!0;var C=D0(j[w].slice(1),{r:m,c:v});_[m][v]=[_[m][v],C];break;case"S":q=!0,_[m][v]=[_[m][v],"S5S"];break;case"G":break;case"R":te=parseInt(j[w].slice(1))-1;break;case"C":z=parseInt(j[w].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}if(X&&(_[m][v]&&_[m][v].length==2?_[m][v][0]=J:_[m][v]=J,P=null),q){if(U)throw new Error("SYLK shared formula cannot have own formula");var R=te>-1&&_[te][z];if(!R||!R[1])throw new Error("SYLK shared formula cannot find base");_[m][v][1]=rq(R[1],{r:m-te,c:v-z})}break;case"F":var V=0;for(w=1;w<j.length;++w)switch(j[w].charAt(0)){case"X":v=parseInt(j[w].slice(1))-1,++V;break;case"Y":for(m=parseInt(j[w].slice(1))-1,T=_.length;T<=m;++T)_[T]=[];break;case"M":O=parseInt(j[w].slice(1))/20;break;case"F":break;case"G":break;case"P":P=I[parseInt(j[w].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(b=j[w].slice(1).split(" "),T=parseInt(b[0],10);T<=parseInt(b[1],10);++T)O=parseInt(b[2],10),A[T-1]=O===0?{hidden:!0}:{wch:O},fp(A[T-1]);break;case"C":v=parseInt(j[w].slice(1))-1,A[v]||(A[v]={});break;case"R":m=parseInt(j[w].slice(1))-1,E[m]||(E[m]={}),O>0?(E[m].hpt=O,E[m].hpx=Bv(O)):O===0&&(E[m].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}V<1&&(P=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+N)}}return E.length>0&&(D["!rows"]=E),A.length>0&&(D["!cols"]=A),d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),[_,D]}function s(h,d){var g=a(h,d),m=g[0],v=g[1],y=Qp(m,d);return Ul(v).forEach(function(w){y[w]=v[w]}),y}function o(h,d){return Rf(s(h,d),d)}function l(h,d,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+cme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,d){d.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=xb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=bb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,d){d.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*Zz(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,d){var g=["ID;PWXL;N;E"],m=[],v=Zn(h["!ref"]),y,w=Array.isArray(h),_=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var I=v.s.r;I<=v.e.r;++I)for(var P=v.s.c;P<=v.e.c;++P){var D=mr({r:I,c:P});y=w?(h[I]||[])[P]:h[D],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,I,P))}return g.join(_)+_+m.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),A0e=function(){function e(i,s){switch(s.type){case"base64":return t(Us(i),s);case"binary":return t(i,s);case"buffer":return t(Ir&&Buffer.isBuffer(i)?i.toString("binary"):ud(i),s);case"array":return t(Qh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+d){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(al(g))?isNaN(up(g).getDate())?f[l][c]=g:f[l][c]=Ua(g):f[l][c]=al(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Qp(e(i,s),s)}function n(i,s){return Rf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Zn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=mr({r:d,c:g});if(f=h?(l[d]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=bo(f.z||br[14],Xi(Ua(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,w=c.join(y);return w}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),T0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==d.length;++v){var w=d[v].trim().split(":");if(w[0]==="cell"){var _=zi(w[1]);if(y.length<=_.r)for(g=y.length;g<=_.r;++g)y[g]||(y[g]=[]);switch(g=_.r,m=_.c,w[2]){case"t":y[g][m]=e(w[3]);break;case"v":y[g][m]=+w[3];break;case"vtf":var I=w[w.length-1];case"vtc":switch(w[3]){case"nl":y[g][m]=!!+w[4];break;default:y[g][m]=+w[4];break}w[2]=="vtf"&&(y[g][m]=[y[g][m],I])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Qp(r(f,h),h)}function a(f,h){return Rf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,m="",v=Xp(f["!ref"]),y=Array.isArray(f),w=v.s.r;w<=v.e.r;++w)for(var _=v.s.c;_<=v.e.c;++_)if(m=mr({r:w,c:_}),g=y?(f[w]||[])[_]:f[m],!(!g||g.v==null||g.t==="z")){switch(d=["cell",m,"t"],g.t){case"s":case"str":d.push(t(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=t(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var I=Xi(Ua(g.v));d[2]="vtc",d[3]="nd",d[4]=""+I,d[5]=g.w||bo(g.z||br[14],I);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),Fv=function(){function e(u,f,h,d,g){g.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(al(u))?isNaN(up(u).getDate())?f[h][d]=u:f[h][d]=Ua(u):f[h][d]=al(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,w=0;w<=m;++w)y=g[w].indexOf(" "),y==-1?y=g[w].length:y++,v=Math.max(v,y);for(w=0;w<=m;++w){d[w]=[];var _=0;for(e(g[w].slice(0,v).trim(),d,w,_,h),_=1;_<=(g[w].length-v)/10+1;++_)e(g[w].slice(v+(_-1)*10,v+_*10).trim(),d,w,_,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,g=0;d<u.length;++d)(g=u.charCodeAt(d))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},d="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var v=0,y=0,w=0,_=0,I=0,P=d.charCodeAt(0),D=!1,E=0,A=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var b=h.dateNF!=null?Mfe(h.dateNF):null;function O(){var T=u.slice(_,I),N={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)N.t="z";else if(h.raw)N.t="s",N.v=T;else if(T.trim().length===0)N.t="s",N.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(N.t="s",N.v=T.slice(2,-1).replace(/""/g,'"')):fme(T)?(N.t="n",N.f=T.slice(1)):(N.t="s",N.v=T);else if(T=="TRUE")N.t="b",N.v=!0;else if(T=="FALSE")N.t="b",N.v=!1;else if(!isNaN(w=al(T)))N.t="n",h.cellText!==!1&&(N.w=T),N.v=w;else if(!isNaN(up(T).getDate())||b&&T.match(b)){N.z=h.dateNF||br[14];var j=0;b&&T.match(b)&&(T=Rfe(T,h.dateNF,T.match(b)||[]),j=1),h.cellDates?(N.t="d",N.v=Ua(T,j)):(N.t="n",N.v=Xi(Ua(T,j))),h.cellText!==!1&&(N.w=bo(N.z,N.v instanceof Date?Xi(N.v):N.v)),h.cellNF||delete N.z}else N.t="s",N.v=T;if(N.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=N):g[mr({c:y,r:v})]=N),_=I+1,A=u.charCodeAt(_),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),E==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;I<u.length;++I)switch(E=u.charCodeAt(I)){case 34:A===34&&(D=!D);break;case P:case 10:case 13:if(!D&&O())break e;break}return I-_>0&&O(),g["!ref"]=Br(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Qp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:oC(u,f);switch(f.type){case"base64":h=Us(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof $u<"u"?h=$u.utils.decode(f.codepage,u):h=Ir&&Buffer.isBuffer(u)?u.toString("binary"):ud(u);break;case"array":h=Qh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=Sn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=Sn(h):f.type=="binary"&&typeof $u<"u"&&f.codepage&&(h=$u.utils.decode(f.codepage,$u.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?T0e.to_sheet(f.type=="string"?h:Sn(h),f):s(h,f)}function l(u,f){return Rf(o(u,f),f)}function c(u){for(var f=[],h=Zn(u["!ref"]),d,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var w=mr({r:m,c:y});if(d=g?(u[m]||[])[y]:u[w],!d||d.v==null){v.push("          ");continue}for(var _=(d.w||(Fc(d),d.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function E0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=S0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return Fv.to_workbook(e,t)}}var Rg=function(){function e(C,R,V){if(C){ti(C,C.l||0);for(var G=V.Enum||te;C.l<C.length;){var Y=C.read_shift(2),se=G[Y]||G[65535],ce=C.read_shift(2),re=C.l+ce,he=se.f&&se.f(C,ce,V);if(C.l=re,R(he,se,Y))return}}}function t(C,R){switch(R.type){case"base64":return r(Xo(Us(C)),R);case"binary":return r(Xo(C),R);case"buffer":case"array":return r(C,R)}throw"Unsupported type "+R.type}function r(C,R){if(!C)return C;var V=R||{},G=V.dense?[]:{},Y="Sheet1",se="",ce=0,re={},he=[],be=[],B={s:{r:0,c:0},e:{r:0,c:0}},Te=V.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)V.Enum=te,e(C,function(Ae,Oe,Me){switch(Me){case 0:V.vers=Ae,Ae>=4096&&(V.qpro=!0);break;case 6:B=Ae;break;case 204:Ae&&(se=Ae);break;case 222:se=Ae;break;case 15:case 51:V.qpro||(Ae[1].v=Ae[1].v.slice(1));case 13:case 14:case 16:Me==14&&(Ae[2]&112)==112&&(Ae[2]&15)>1&&(Ae[2]&15)<15&&(Ae[1].z=V.dateNF||br[14],V.cellDates&&(Ae[1].t="d",Ae[1].v=m5(Ae[1].v))),V.qpro&&Ae[3]>ce&&(G["!ref"]=Br(B),re[Y]=G,he.push(Y),G=V.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},ce=Ae[3],Y=se||"Sheet"+(ce+1),se="");var Ke=V.dense?(G[Ae[0].r]||[])[Ae[0].c]:G[mr(Ae[0])];if(Ke){Ke.t=Ae[1].t,Ke.v=Ae[1].v,Ae[1].z!=null&&(Ke.z=Ae[1].z),Ae[1].f!=null&&(Ke.f=Ae[1].f);break}V.dense?(G[Ae[0].r]||(G[Ae[0].r]=[]),G[Ae[0].r][Ae[0].c]=Ae[1]):G[mr(Ae[0])]=Ae[1];break}},V);else if(C[2]==26||C[2]==14)V.Enum=z,C[2]==14&&(V.qpro=!0,C.l=0),e(C,function(Ae,Oe,Me){switch(Me){case 204:Y=Ae;break;case 22:Ae[1].v=Ae[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ae[3]>ce&&(G["!ref"]=Br(B),re[Y]=G,he.push(Y),G=V.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},ce=Ae[3],Y="Sheet"+(ce+1)),Te>0&&Ae[0].r>=Te)break;V.dense?(G[Ae[0].r]||(G[Ae[0].r]=[]),G[Ae[0].r][Ae[0].c]=Ae[1]):G[mr(Ae[0])]=Ae[1],B.e.c<Ae[0].c&&(B.e.c=Ae[0].c),B.e.r<Ae[0].r&&(B.e.r=Ae[0].r);break;case 27:Ae[14e3]&&(be[Ae[14e3][0]]=Ae[14e3][1]);break;case 1537:be[Ae[0]]=Ae[1],Ae[0]==ce&&(Y=Ae[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(G["!ref"]=Br(B),re[se||Y]=G,he.push(se||Y),!be.length)return{SheetNames:he,Sheets:re};for(var _e={},ge=[],ee=0;ee<be.length;++ee)re[he[ee]]?(ge.push(be[ee]||he[ee]),_e[be[ee]]=re[be[ee]]||re[he[ee]]):(ge.push(be[ee]),_e[be[ee]]={"!ref":"A1"});return{SheetNames:ge,Sheets:_e}}function n(C,R){var V=R||{};if(+V.codepage>=0&&Jo(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var G=xT(),Y=Zn(C["!ref"]),se=Array.isArray(C),ce=[];Ro(G,0,i(1030)),Ro(G,6,l(Y));for(var re=Math.min(Y.e.r,8191),he=Y.s.r;he<=re;++he)for(var be=si(he),B=Y.s.c;B<=Y.e.c;++B){he===Y.s.r&&(ce[B]=Ea(B));var Te=ce[B]+be,_e=se?(C[he]||[])[B]:C[Te];if(!(!_e||_e.t=="z"))if(_e.t=="n")(_e.v|0)==_e.v&&_e.v>=-32768&&_e.v<=32767?Ro(G,13,d(he,B,_e.v)):Ro(G,14,m(he,B,_e.v));else{var ge=Fc(_e);Ro(G,15,f(he,B,ge.slice(0,239)))}}return Ro(G,1),G.end()}function a(C,R){var V=R||{};if(+V.codepage>=0&&Jo(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var G=xT();Ro(G,0,s(C));for(var Y=0,se=0;Y<C.SheetNames.length;++Y)(C.Sheets[C.SheetNames[Y]]||{})["!ref"]&&Ro(G,27,U(C.SheetNames[Y],se++));var ce=0;for(Y=0;Y<C.SheetNames.length;++Y){var re=C.Sheets[C.SheetNames[Y]];if(!(!re||!re["!ref"])){for(var he=Zn(re["!ref"]),be=Array.isArray(re),B=[],Te=Math.min(he.e.r,8191),_e=he.s.r;_e<=Te;++_e)for(var ge=si(_e),ee=he.s.c;ee<=he.e.c;++ee){_e===he.s.r&&(B[ee]=Ea(ee));var Ae=B[ee]+ge,Oe=be?(re[_e]||[])[ee]:re[Ae];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")Ro(G,23,O(_e,ee,ce,Oe.v));else{var Me=Fc(Oe);Ro(G,22,E(_e,ee,ce,Me.slice(0,239)))}}++ce}}return Ro(G,1),G.end()}function i(C){var R=Sa(2);return R.write_shift(2,C),R}function s(C){var R=Sa(26);R.write_shift(2,4096),R.write_shift(2,4),R.write_shift(4,0);for(var V=0,G=0,Y=0,se=0;se<C.SheetNames.length;++se){var ce=C.SheetNames[se],re=C.Sheets[ce];if(!(!re||!re["!ref"])){++Y;var he=Xp(re["!ref"]);V<he.e.r&&(V=he.e.r),G<he.e.c&&(G=he.e.c)}}return V>8191&&(V=8191),R.write_shift(2,V),R.write_shift(1,Y),R.write_shift(1,G),R.write_shift(2,0),R.write_shift(2,0),R.write_shift(1,1),R.write_shift(1,2),R.write_shift(4,0),R.write_shift(4,0),R}function o(C,R,V){var G={s:{c:0,r:0},e:{c:0,r:0}};return R==8&&V.qpro?(G.s.c=C.read_shift(1),C.l++,G.s.r=C.read_shift(2),G.e.c=C.read_shift(1),C.l++,G.e.r=C.read_shift(2),G):(G.s.c=C.read_shift(2),G.s.r=C.read_shift(2),R==12&&V.qpro&&(C.l+=2),G.e.c=C.read_shift(2),G.e.r=C.read_shift(2),R==12&&V.qpro&&(C.l+=2),G.s.c==65535&&(G.s.c=G.e.c=G.s.r=G.e.r=0),G)}function l(C){var R=Sa(8);return R.write_shift(2,C.s.c),R.write_shift(2,C.s.r),R.write_shift(2,C.e.c),R.write_shift(2,C.e.r),R}function c(C,R,V){var G=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(G[0].c=C.read_shift(1),G[3]=C.read_shift(1),G[0].r=C.read_shift(2),C.l+=2):(G[2]=C.read_shift(1),G[0].c=C.read_shift(2),G[0].r=C.read_shift(2)),G}function u(C,R,V){var G=C.l+R,Y=c(C,R,V);if(Y[1].t="s",V.vers==20768){C.l++;var se=C.read_shift(1);return Y[1].v=C.read_shift(se,"utf8"),Y}return V.qpro&&C.l++,Y[1].v=C.read_shift(G-C.l,"cstr"),Y}function f(C,R,V){var G=Sa(7+V.length);G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,C),G.write_shift(1,39);for(var Y=0;Y<G.length;++Y){var se=V.charCodeAt(Y);G.write_shift(1,se>=128?95:se)}return G.write_shift(1,0),G}function h(C,R,V){var G=c(C,R,V);return G[1].v=C.read_shift(2,"i"),G}function d(C,R,V){var G=Sa(7);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,C),G.write_shift(2,V,"i"),G}function g(C,R,V){var G=c(C,R,V);return G[1].v=C.read_shift(8,"f"),G}function m(C,R,V){var G=Sa(13);return G.write_shift(1,255),G.write_shift(2,R),G.write_shift(2,C),G.write_shift(8,V,"f"),G}function v(C,R,V){var G=C.l+R,Y=c(C,R,V);if(Y[1].v=C.read_shift(8,"f"),V.qpro)C.l=G;else{var se=C.read_shift(2);I(C.slice(C.l,C.l+se),Y),C.l+=se}return Y}function y(C,R,V){var G=R&32768;return R&=-32769,R=(G?C:0)+(R>=8192?R-16384:R),(G?"":"$")+(V?Ea(R):si(R))}var w={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function I(C,R){ti(C,0);for(var V=[],G=0,Y="",se="",ce="",re="";C.l<C.length;){var he=C[C.l++];switch(he){case 0:V.push(C.read_shift(8,"f"));break;case 1:se=y(R[0].c,C.read_shift(2),!0),Y=y(R[0].r,C.read_shift(2),!1),V.push(se+Y);break;case 2:{var be=y(R[0].c,C.read_shift(2),!0),B=y(R[0].r,C.read_shift(2),!1);se=y(R[0].c,C.read_shift(2),!0),Y=y(R[0].r,C.read_shift(2),!1),V.push(be+B+":"+se+Y)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(C.read_shift(2));break;case 6:{for(var Te="";he=C[C.l++];)Te+=String.fromCharCode(he);V.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:re=V.pop(),ce=V.pop(),V.push(["AND","OR"][he-20]+"("+ce+","+re+")");break;default:if(he<32&&_[he])re=V.pop(),ce=V.pop(),V.push(ce+_[he]+re);else if(w[he]){if(G=w[he][1],G==69&&(G=C[C.l++]),G>V.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+V.join("|")+"|");return}var _e=V.slice(-G);V.length-=G,V.push(w[he][0]+"("+_e.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}V.length==1?R[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function P(C){var R=[{c:0,r:0},{t:"n",v:0},0];return R[0].r=C.read_shift(2),R[3]=C[C.l++],R[0].c=C[C.l++],R}function D(C,R){var V=P(C);return V[1].t="s",V[1].v=C.read_shift(R-4,"cstr"),V}function E(C,R,V,G){var Y=Sa(6+G.length);Y.write_shift(2,C),Y.write_shift(1,V),Y.write_shift(1,R),Y.write_shift(1,39);for(var se=0;se<G.length;++se){var ce=G.charCodeAt(se);Y.write_shift(1,ce>=128?95:ce)}return Y.write_shift(1,0),Y}function A(C,R){var V=P(C);V[1].v=C.read_shift(2);var G=V[1].v>>1;if(V[1].v&1)switch(G&7){case 0:G=(G>>3)*5e3;break;case 1:G=(G>>3)*500;break;case 2:G=(G>>3)/20;break;case 3:G=(G>>3)/200;break;case 4:G=(G>>3)/2e3;break;case 5:G=(G>>3)/2e4;break;case 6:G=(G>>3)/16;break;case 7:G=(G>>3)/64;break}return V[1].v=G,V}function b(C,R){var V=P(C),G=C.read_shift(4),Y=C.read_shift(4),se=C.read_shift(2);if(se==65535)return G===0&&Y===3221225472?(V[1].t="e",V[1].v=15):G===0&&Y===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var ce=se&32768;return se=(se&32767)-16446,V[1].v=(1-ce*2)*(Y*Math.pow(2,se+32)+G*Math.pow(2,se)),V}function O(C,R,V,G){var Y=Sa(14);if(Y.write_shift(2,C),Y.write_shift(1,V),Y.write_shift(1,R),G==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var se=0,ce=0,re=0,he=0;return G<0&&(se=1,G=-G),ce=Math.log2(G)|0,G/=Math.pow(2,ce-31),he=G>>>0,he&2147483648||(G/=2,++ce,he=G>>>0),G-=he,he|=2147483648,he>>>=0,G*=Math.pow(2,32),re=G>>>0,Y.write_shift(4,re),Y.write_shift(4,he),ce+=16383+(se?32768:0),Y.write_shift(2,ce),Y}function T(C,R){var V=b(C);return C.l+=R-14,V}function N(C,R){var V=P(C),G=C.read_shift(4);return V[1].v=G>>6,V}function j(C,R){var V=P(C),G=C.read_shift(8,"f");return V[1].v=G,V}function K(C,R){var V=j(C);return C.l+=R-10,V}function J(C,R){return C[C.l+R-1]==0?C.read_shift(R,"cstr"):""}function X(C,R){var V=C[C.l++];V>R-1&&(V=R-1);for(var G="";G.length<V;)G+=String.fromCharCode(C[C.l++]);return G}function Z(C,R,V){if(!(!V.qpro||R<21)){var G=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var Y=C.read_shift(R-21,"cstr");return[G,Y]}}function q(C,R){for(var V={},G=C.l+R;C.l<G;){var Y=C.read_shift(2);if(Y==14e3){for(V[Y]=[0,""],V[Y][0]=C.read_shift(2);C[C.l];)V[Y][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return V}function U(C,R){var V=Sa(5+C.length);V.write_shift(2,14e3),V.write_shift(2,R);for(var G=0;G<C.length;++G){var Y=C.charCodeAt(G);V[V.l++]=Y>127?95:Y}return V[V.l++]=0,V}var te={0:{n:"BOF",f:pa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:J},222:{n:"SHEETNAMELP",f:X},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:D},23:{n:"NUMBER17",f:b},24:{n:"NUMBER18",f:A},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:N},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:K},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:J},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Z},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function k0e(e){var t={},r=e.match(Ii),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=ir(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=RN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var N0e=function(){var e=Mv("t"),t=Mv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:zr(s[1])},l=i.match(t);return l&&(o.s=k0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),C0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),P0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,O0e=/<(?:\w+:)?r>/,I0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function eC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=zr(Sn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Sn(e),r&&(n.h=qN(n.t))):e.match(O0e)&&(n.r=Sn(e),n.t=zr(Sn((e.replace(I0e,"").match(P0e)||[]).join("").replace(Ii,""))),r&&(n.h=C0e(N0e(n.r)))),n):{t:""}}var D0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,j0e=/<(?:\w+:)?(?:si|sstItem)>/g,L0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function M0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(D0e);if(a){n=a[2].replace(j0e,"").split(L0e);for(var i=0;i!=n.length;++i){var s=eC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=ir(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function R0e(e){return[e.read_shift(4),e.read_shift(4)]}function F0e(e,t){var r=[],n=!1;return Yc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Gz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function wc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function $0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function B0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function V0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(B0e(e));return t}function U0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function z0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function q0e(e){var t=z0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Kz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Yz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function W0e(e){var t=wc(e);switch(t.Minor){case 2:return[t.Minor,H0e(e)];case 3:return[t.Minor,G0e()];case 4:return[t.Minor,K0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function H0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Kz(e,r),a=Yz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function G0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function K0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ii,function(i){var s=ir(i);switch(ql(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Y0e(e,t){var r={},n=r.EncryptionVersionInfo=wc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Kz(e,a),t-=a,r.EncryptionVerifier=Yz(e,t),r}function X0e(e){var t={},r=t.EncryptionVersionInfo=wc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Q0e(e){var t=0,r,n=Gz(e),a=n.length+1,i,s,o,l,c;for(r=Ef(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Xz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Gz(s),l=i(o),c=o.length,u=Ef(16),f=0;f!=16;++f)u[f]=0;var h,d,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),J0e=function(e,t,r,n,a){a||(a=t),n||(n=Xz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Z0e=function(e){var t=0,r=Xz(e);return function(n){var a=J0e("",n,t,r);return t=a[1],a[0]}};function epe(e,t,r,n){var a={key:pa(e),verificationBytes:pa(e)};return r.password&&(a.verifier=Q0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Z0e(r.password)),a}function tpe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=X0e(e):n.Data=Y0e(e,t),n}function rpe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?tpe(e,t-2,n):epe(e,r.biff>=8?t:t-2,r,n),n}var npe=function(){function e(a,i){switch(i.type){case"base64":return t(Us(a),i);case"binary":return t(a,i);case"buffer":return t(Ir&&Buffer.isBuffer(a)?a.toString("binary"):ud(a),i);case"array":return t(Qh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(d,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[mr({r:f,c:m})]=y}break}d=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Br(c),o}function r(a,i){return Rf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Zn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=mr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Fc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function ape(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function $v(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ipe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function spe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function yb(e,t){if(t===0)return e;var r=ipe(ape(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),$v(spe(r))}var Qz=6,ope=15,lpe=1,Vi=Qz;function xb(e){return Math.floor((e+Math.round(128/Vi)/256)*Vi)}function bb(e){return Math.floor((e-5)/Vi*100+.5)/100}function ST(e){return Math.round((e*Vi+5)/Vi*256)/256}function IS(e){return ST(bb(xb(e)))}function tC(e){var t=Math.abs(e-IS(e)),r=Vi;if(t>.005)for(Vi=lpe;Vi<ope;++Vi)Math.abs(e-IS(e))<=t&&(t=Math.abs(e-IS(e)),r=Vi);Vi=r}function fp(e){e.width?(e.wpx=xb(e.width),e.wch=bb(e.wpx),e.MDW=Vi):e.wpx?(e.wch=bb(e.wpx),e.width=ST(e.wch),e.MDW=Vi):typeof e.wch=="number"&&(e.width=ST(e.wch),e.wpx=xb(e.width),e.MDW=Vi),e.customWidth&&delete e.customWidth}var cpe=96,Jz=cpe;function Zz(e){return e*96/Jz}function Bv(e){return e*Jz/96}var upe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function fpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=ir(s);switch(ql(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Dn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Dn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function hpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=ir(s);switch(ql(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function dpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=ir(s);switch(ql(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=Sn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Dn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Dn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Dn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Dn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Dn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Dn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Dn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=RN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Dn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Rh[a.color.index];a.color.index==81&&(l=Rh[1]),l||(l=Rh[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=yb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function ppe(e,t,r){t.NumberFmt=[];for(var n=Ul(br),a=0;a<n.length;++a)t.NumberFmt[n[a]]=br[n[a]];var i=e[0].match(Ii);if(i)for(a=0;a<i.length;++a){var s=ir(i[a]);switch(ql(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=zr(Sn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Mh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var dx=["numFmtId","fillId","fontId","borderId","xfId"],px=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function mpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ii)||[]).forEach(function(i){var s=ir(i),o=0;switch(ql(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<dx.length;++o)n[dx[o]]&&(n[dx[o]]=parseInt(n[dx[o]],10));for(o=0;o<px.length;++o)n[px[o]]&&(n[px[o]]=Dn(n[px[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Dn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var gpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&ppe(f,u,c),(f=o.match(a))&&dpe(f,u,l,c),(f=o.match(n))&&hpe(f,u,l,c),(f=o.match(i))&&fpe(f,u,l,c),(f=o.match(r))&&mpe(f,u,c),u}}();function vpe(e,t){var r=e.read_shift(2),n=Ci(e);return[r,n]}function ype(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Nhe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=khe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(e),n}var xpe=Oi;function bpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var wpe=Oi;function _pe(e,t,r){var n={};n.NumberFmt=[];for(var a in br)n.NumberFmt[a]=br[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Yc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Mh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=yb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Spe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ape(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ii)||[]).forEach(function(a){var i=ir(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Spe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Tpe(){}function Epe(){}var kpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Npe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Cpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ppe(e,t,r){t.themeElements={};var n;[["clrScheme",kpe,Ape],["fontScheme",Npe,Tpe],["fmtScheme",Cpe,Epe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Ope=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function eq(e,t){(!e||e.length===0)&&(e=Ipe());var r,n={};if(!(r=e.match(Ope)))throw new Error("themeElements not found in theme");return Ppe(r[0],n,t),n.raw=e,n}function Ipe(e,t){var r=[fz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Dpe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=uz(i,{type:"array"})}catch{return}var o=Is(s,"theme/theme/theme1.xml",!0);if(o)return eq(o,r)}}function jpe(e){return e.read_shift(4)}function Lpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Mpe(e,4);break;case 2:t.xclrValue=Bz(e);break;case 3:t.xclrValue=jpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Mpe(e,t){return Oi(e,t)}function Rpe(e,t){return Oi(e,t)}function Fpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Lpe(e);break;case 6:n[1]=Rpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function $pe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Fpe(e,r-e.l));return{ixfe:n,ext:i}}function Bpe(e,t){t.forEach(function(r){switch(r[0]){}})}function Vpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ci(e)}}function Upe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function zpe(e){return e.l+=4,e.read_shift(4)!=0}function qpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Yc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Wpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ii,function(o){var l=ir(o);switch(ql(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Hpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ii)||[]).forEach(function(n){var a=ir(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Gpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=mr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Kpe(e,t,r){var n=[];return Yc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Ype(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Yc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Xpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function FD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=zi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Zn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Br(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Qpe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=ir(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=zi(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&eC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Jpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ii,function(o,l){var c=ir(o);switch(ql(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Zpe(e,t){var r=[],n=!1;return e.replace(Ii,function(i){var s=ir(i);switch(ql(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function eme(e){var t={};t.iauthor=e.read_shift(4);var r=hd(e);return t.rfx=r.s,t.ref=mr(r.s),e.l+=16,t}var tme=Ci;function rme(e,t){var r=[],n=[],a={},i=!1;return Yc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var nme="application/vnd.ms-office.vbaProject";function ame(e){var t=Fr.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Fr.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Fr.write(t)}function ime(){return{"!type":"dialog"}}function sme(){return{"!type":"dialog"}}function ome(){return{"!type":"macro"}}function lme(){return{"!type":"macro"}}var D0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Ea(u)+(l?"":"$")+si(c)}return function(a,i){return t=i,a.replace(e,r)}}(),tq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cme=function(){return function(t,r){return t.replace(tq,function(n,a,i,s,o,l){var c=KN(s)-(i?0:r.c),u=GN(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function rq(e,t){return e.replace(tq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Ea(KN(i)+t.c))+(s=="$"?s+o:si(GN(o)+t.r))})}function ume(e,t,r){var n=Xp(t),a=n.s,i=zi(r),s={r:i.r-a.r,c:i.c-a.c};return rq(e,s)}function fme(e){return e.length!=1}function $D(e){return e.replace(/_xlfn\./g,"")}function fa(e){e.l+=1}function kf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function nq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return aq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=kf(e),o=kf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function aq(e){var t=kf(e),r=kf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function hme(e,t,r){if(r.biff<8)return aq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=kf(e),s=kf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function iq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return dme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=kf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function dme(e){var t=kf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function pme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function mme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function gme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function vme(e,t,r){var n=(e[e.l++]&96)>>5,a=nq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function yme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=nq(e,i,r);return[n,a,s]}function xme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function bme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function wme(e,t,r){var n=(e[e.l++]&96)>>5,a=hme(e,t-1,r);return[n,a]}function _me(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function BD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Sme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Ame(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Tme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Eme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function kme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function sq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nme(e){return e.read_shift(2),sq(e)}function Cme(e){return e.read_shift(2),sq(e)}function Pme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=iq(e,0,r);return[n,a]}function Ome(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=mme(e,0,r);return[n,a]}function Ime(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=iq(e,0,r);return[n,a,i]}function Dme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[jge[a],cq[a],n]}function jme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Lme(e);return[a,(i[0]===0?cq:Dge)[i[1]]]}function Lme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Mme(e,t,r){e.l+=r&&r.biff==2?3:4}function Rme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Fme(e){return e.l++,dd[e.read_shift(1)]}function $me(e){return e.l++,e.read_shift(2)}function Bme(e){return e.l++,e.read_shift(1)!==0}function Vme(e){return e.l++,Ei(e)}function Ume(e,t,r){return e.l++,K1(e,t-1,r)}function zme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ra(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=dd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ei(e);break;case 2:r[1]=pd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function qme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?hd:g5)(e));return a}function Wme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=zme(e,r.biff);return s}function Hme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Gme(e,t,r){if(r.biff==5)return Kme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Kme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Yme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Xme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Qme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Jme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Zme=Oi,ege=Oi,tge=Oi;function X1(e,t,r){return e.l+=2,[pme(e)]}function rC(e){return e.l+=6,[]}var rge=X1,nge=rC,age=rC,ige=X1;function oq(e){return e.l+=2,[pa(e),e.read_shift(2)&1]}var sge=X1,oge=oq,lge=rC,cge=X1,uge=X1,fge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=fge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function dge(e){return e.l+=2,[e.read_shift(4)]}function pge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function mge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function vge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function yge(e){return e.l+=4,[0,0]}var VD={1:{n:"PtgExp",f:Rme},2:{n:"PtgTbl",f:tge},3:{n:"PtgAdd",f:fa},4:{n:"PtgSub",f:fa},5:{n:"PtgMul",f:fa},6:{n:"PtgDiv",f:fa},7:{n:"PtgPower",f:fa},8:{n:"PtgConcat",f:fa},9:{n:"PtgLt",f:fa},10:{n:"PtgLe",f:fa},11:{n:"PtgEq",f:fa},12:{n:"PtgGe",f:fa},13:{n:"PtgGt",f:fa},14:{n:"PtgNe",f:fa},15:{n:"PtgIsect",f:fa},16:{n:"PtgUnion",f:fa},17:{n:"PtgRange",f:fa},18:{n:"PtgUplus",f:fa},19:{n:"PtgUminus",f:fa},20:{n:"PtgPercent",f:fa},21:{n:"PtgParen",f:fa},22:{n:"PtgMissArg",f:fa},23:{n:"PtgStr",f:Ume},26:{n:"PtgSheet",f:pge},27:{n:"PtgEndSheet",f:mge},28:{n:"PtgErr",f:Fme},29:{n:"PtgBool",f:Bme},30:{n:"PtgInt",f:$me},31:{n:"PtgNum",f:Vme},32:{n:"PtgArray",f:_me},33:{n:"PtgFunc",f:Dme},34:{n:"PtgFuncVar",f:jme},35:{n:"PtgName",f:Hme},36:{n:"PtgRef",f:Pme},37:{n:"PtgArea",f:vme},38:{n:"PtgMemArea",f:Yme},39:{n:"PtgMemErr",f:Zme},40:{n:"PtgMemNoMem",f:ege},41:{n:"PtgMemFunc",f:Xme},42:{n:"PtgRefErr",f:Qme},43:{n:"PtgAreaErr",f:xme},44:{n:"PtgRefN",f:Ome},45:{n:"PtgAreaN",f:wme},46:{n:"PtgMemAreaN",f:gge},47:{n:"PtgMemNoMemN",f:vge},57:{n:"PtgNameX",f:Gme},58:{n:"PtgRef3d",f:Ime},59:{n:"PtgArea3d",f:yme},60:{n:"PtgRefErr3d",f:Jme},61:{n:"PtgAreaErr3d",f:bme},255:{}},xge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bge={1:{n:"PtgElfLel",f:oq},2:{n:"PtgElfRw",f:cge},3:{n:"PtgElfCol",f:rge},6:{n:"PtgElfRwV",f:uge},7:{n:"PtgElfColV",f:ige},10:{n:"PtgElfRadical",f:sge},11:{n:"PtgElfRadicalS",f:lge},13:{n:"PtgElfColS",f:nge},15:{n:"PtgElfColSV",f:age},16:{n:"PtgElfRadicalLel",f:oge},25:{n:"PtgList",f:hge},29:{n:"PtgSxName",f:dge},255:{}},wge={0:{n:"PtgAttrNoop",f:yge},1:{n:"PtgAttrSemi",f:kme},2:{n:"PtgAttrIf",f:Tme},4:{n:"PtgAttrChoose",f:Sme},8:{n:"PtgAttrGoto",f:Ame},16:{n:"PtgAttrSum",f:Mme},32:{n:"PtgAttrBaxcel",f:BD},33:{n:"PtgAttrBaxcel",f:BD},64:{n:"PtgAttrSpace",f:Nme},65:{n:"PtgAttrSpaceSemi",f:Cme},128:{n:"PtgAttrIfError",f:Eme},255:{}};function Q1(e,t,r,n){if(n.biff<8)return Oi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Wme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=qme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Oi(e,t)),i}function J1(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=VD[i]||VD[xge[i]],(i===24||i===25)&&(a=(i===24?bge:wge)[e[e.l+1]]),!a||!a.f?Oi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function _ge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Sge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Age(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function lq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function UD(e,t,r){var n=lq(e,t,r);return n=="#REF"?n:Age(n,r)}function wi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,w=e[0].length;y<w;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Qn(" ",e[0][m][1][1]);break;case 1:v=Qn("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Sge[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=Dg(_[1][1],s,a),o.push(jg(u,i));break;case"PtgRefN":u=r?Dg(_[1][1],r,a):_[1][1],o.push(jg(u,i));break;case"PtgRef3d":f=_[1][1],u=Dg(_[1][2],s,a),g=UD(n,f,a),o.push(g+"!"+jg(u,i));break;case"PtgFunc":case"PtgFuncVar":var I=_[1][0],P=_[1][1];I||(I=0),I&=127;var D=I==0?[]:o.slice(-I);o.length-=I,P==="User"&&(P=D.shift()),o.push(P+"("+D.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":d=_D(_[1][1],r?{s:r}:s,a),o.push(PS(d,a));break;case"PtgArea":d=_D(_[1][1],s,a),o.push(PS(d,a));break;case"PtgArea3d":f=_[1][1],d=_[1][2],g=UD(n,f,a),o.push(g+"!"+PS(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],A=E?E.Name:"SH33TJSNAME"+String(h);A&&A.slice(0,6)=="_xlfn."&&!a.xlfn&&(A=A.slice(6)),o.push(A);break;case"PtgNameX":var b=_[1][1];h=_[1][2];var O;if(a.biff<=5)b<0&&(b=-b),n[b]&&(O=n[b][h]);else{var T="";if(((n[b]||[])[0]||[])[0]==14849||(((n[b]||[])[0]||[])[0]==1025?n[b][h]&&n[b][h].itab>0&&(T=n.SheetNames[n[b][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[b]&&n[b][h])T+=n[b][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var N=(lq(n,b,a)||"").split(";;");N[h-1]?T=N[h-1]:T+="SH33TJSERRX"}o.push(T);break}O||(O={Name:"SH33TJSERRY"}),o.push(O.Name);break;case"PtgParen":var j="(",K=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:j=Qn(" ",e[0][m][1][1])+j;break;case 3:j=Qn("\r",e[0][m][1][1])+j;break;case 4:K=Qn(" ",e[0][m][1][1])+K;break;case 5:K=Qn("\r",e[0][m][1][1])+K;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(j+o.pop()+K);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var J={c:r.c,r:r.r};if(n.sharedf[mr(u)]){var X=n.sharedf[mr(u)];o.push(wi(X,s,J,n,a))}else{var Z=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(wi(c[1],s,J,n,a)),Z=!0;break}Z||o.push(_[1])}break;case"PtgArray":o.push("{"+_ge(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&q.indexOf(e[0][y][0])==-1){_=e[0][m];var U=!0;switch(_[1][0]){case 4:U=!1;case 0:v=Qn(" ",_[1][1]);break;case 5:U=!1;case 1:v=Qn("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((U?v:"")+o.pop()+(U?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Tge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Oi(e,t-2)];var o=J1(e,s,r);return t!==s+a&&(i=Q1(e,t-s-a,o,r)),e.l=n,[o,i]}function Ege(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Oi(e,t-2)];var o=J1(e,s,r);return t!==s+a&&(i=Q1(e,t-s-a,o,r)),e.l=n,[o,i]}function kge(e,t,r,n){var a=e.l+t,i=J1(e,n,r),s;return a!==e.l&&(s=Q1(e,a-e.l,i,r)),[i,s]}function Nge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=J1(e,i,r);return i==65535?[[],Oi(e,t-2)]:(t!==i+2&&(a=Q1(e,n-i-2,s,r)),[s,a])}function Cge(e){var t;if(pc(e,e.l+6)!==65535)return[Ei(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function DS(e,t,r){var n=e.l+t,a=Wl(e);r.biff==2&&++e.l;var i=Cge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Ege(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function v5(e,t,r){var n=e.read_shift(4),a=J1(e,n,r),i=e.read_shift(4),s=i>0?Q1(e,i,a,r):null;return[a,s]}var Pge=v5,y5=v5,Oge=v5,Ige=v5,Dge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},cq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function zD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function jS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Fg={},j0={};function $g(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function uq(e,t,r,n,a,i){try{n.cellNF&&(e.z=br[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ua(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(br[t]==null&&Mh(Lfe[t]||"General",t),e.t==="e")e.w=e.w||dd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v);else if(e.t==="d"){var s=Xi(e.v);(s|0)===s?e.w=s.toString(10):e.w=Lv(s)}else{if(e.v===void 0)return"";e.w=Xh(e.v,j0)}else e.t==="d"?e.w=bo(t,Xi(e.v),j0):e.w=bo(t,e.v,j0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=yb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=yb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Lge(e,t){var r=Zn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Br(r))}var Mge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Rge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Fge=/<(?:\w:)?hyperlink [^>]*>/mg,$ge=/"(\w*:\w*)"/,Bge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Vge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Uge=/<(?:\w:)?pageMargins[^>]*\/>/g,fq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,zge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,qge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Wge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Rge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(fq);h?nC(h[0],o,a,r):(h=c.match(zge))&&Hge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var g=c.slice(d,d+50).match($ge);g&&Lge(o,g[1])}var m=c.match(qge);m&&m[1]&&Jge(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Bge);y&&Yge(v,y)}f&&Zge(f[1],o,t,l,i,s);var w=u.match(Vge);w&&(o["!autofilter"]=Xge(w[0]));var _=[],I=u.match(Mge);if(I)for(d=0;d!=I.length;++d)_[d]=Zn(I[d].slice(I[d].indexOf('"')+1));var P=u.match(Fge);P&&Gge(o,P,n);var D=u.match(Uge);if(D&&(o["!margins"]=Kge(ir(D[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Br(l)),t.sheetRows>0&&o["!ref"]){var E=Zn(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Br(E))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function nC(e,t,r,n){var a=ir(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=zr(Sn(a.codeName)))}function Hge(e,t,r,n,a){nC(e.slice(0,e.indexOf(">")),r,n,a)}function Gge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=ir(Sn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+zr(i.location))):(i.Target="#"+zr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Zn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=mr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Kge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Yge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=ir(t[n],!0);a.hidden&&(a.hidden=Dn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,tC(a.width)),fp(a);i<=s;)e[i++]=ii(a)}}function Xge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Qge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Jge(e,t){t.Views||(t.Views=[{}]),(e.match(Qge)||[]).forEach(function(r,n){var a=ir(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Dn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Zge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Mv("v"),s=Mv("f");return function(l,c,u,f,h,d){for(var g=0,m="",v=[],y=[],w=0,_=0,I=0,P="",D,E,A=0,b=0,O,T,N=0,j=0,K=Array.isArray(d.CellXf),J,X=[],Z=[],q=Array.isArray(c),U=[],te={},z=!1,C=!!u.sheetStubs,R=l.split(t),V=0,G=R.length;V!=G;++V){m=R[V].trim();var Y=m.length;if(Y!==0){var se=0;e:for(g=0;g<Y;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(E=ir(m.slice(se,g),!0),A=E.r!=null?parseInt(E.r,10):A+1,b=-1,u.sheetRows&&u.sheetRows<A)continue;te={},z=!1,E.ht&&(z=!0,te.hpt=parseFloat(E.ht),te.hpx=Bv(te.hpt)),E.hidden=="1"&&(z=!0,te.hidden=!0),E.outlineLevel!=null&&(z=!0,te.level=+E.outlineLevel),z&&(U[A-1]=te)}break;case"<":se=g;break}if(se>=g)break;if(E=ir(m.slice(se,g),!0),A=E.r!=null?parseInt(E.r,10):A+1,b=-1,!(u.sheetRows&&u.sheetRows<A)){f.s.r>A-1&&(f.s.r=A-1),f.e.r<A-1&&(f.e.r=A-1),u&&u.cellStyles&&(te={},z=!1,E.ht&&(z=!0,te.hpt=parseFloat(E.ht),te.hpx=Bv(te.hpt)),E.hidden=="1"&&(z=!0,te.hidden=!0),E.outlineLevel!=null&&(z=!0,te.level=+E.outlineLevel),z&&(U[A-1]=te)),v=m.slice(g).split(e);for(var ce=0;ce!=v.length&&v[ce].trim().charAt(0)=="<";++ce);for(v=v.slice(ce),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),w=g,_=0,I=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(w=0,P=y[1],_=0;_!=P.length&&!((I=P.charCodeAt(_)-64)<1||I>26);++_)w=26*w+I;--w,b=w}else++b;for(_=0;_!=m.length&&m.charCodeAt(_)!==62;++_);if(++_,E=ir(m.slice(0,_),!0),E.r||(E.r=mr({r:A-1,c:b})),P=m.slice(_),D={t:""},(y=P.match(i))!=null&&y[1]!==""&&(D.v=zr(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(D.f=zr(Sn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(D.f=$D(D.f)),y[0].indexOf('t="array"')>-1)D.F=(P.match(a)||[])[1],D.F.indexOf(":")>-1&&X.push([Zn(D.F),D.F]);else if(y[0].indexOf('t="shared"')>-1){T=ir(y[0]);var re=zr(Sn(y[1]));u.xlfn||(re=$D(re)),Z[parseInt(T.si,10)]=[T,re,E.r]}}else(y=P.match(/<f[^>]*\/>/))&&(T=ir(y[0]),Z[T.si]&&(D.f=ume(Z[T.si][1],Z[T.si][2],E.r)));var he=zi(E.r);for(_=0;_<X.length;++_)he.r>=X[_][0].s.r&&he.r<=X[_][0].e.r&&he.c>=X[_][0].s.c&&he.c<=X[_][0].e.c&&(D.F=X[_][1])}if(E.t==null&&D.v===void 0)if(D.f||D.F)D.v=0,D.t="n";else if(C)D.t="z";else continue;else D.t=E.t||"n";switch(f.s.c>b&&(f.s.c=b),f.e.c<b&&(f.e.c=b),D.t){case"n":if(D.v==""||D.v==null){if(!C)continue;D.t="z"}else D.v=parseFloat(D.v);break;case"s":if(typeof D.v>"u"){if(!C)continue;D.t="z"}else O=Fg[parseInt(D.v,10)],D.v=O.t,D.r=O.r,u.cellHTML&&(D.h=O.h);break;case"str":D.t="s",D.v=D.v!=null?Sn(D.v):"",u.cellHTML&&(D.h=qN(D.v));break;case"inlineStr":y=P.match(n),D.t="s",y!=null&&(O=eC(y[1]))?(D.v=O.t,u.cellHTML&&(D.h=O.h)):D.v="";break;case"b":D.v=Dn(D.v);break;case"d":u.cellDates?D.v=Ua(D.v,1):(D.v=Xi(Ua(D.v,1)),D.t="n");break;case"e":(!u||u.cellText!==!1)&&(D.w=D.v),D.v=Iz[D.v];break}if(N=j=0,J=null,K&&E.s!==void 0&&(J=d.CellXf[E.s],J!=null&&(J.numFmtId!=null&&(N=J.numFmtId),u.cellStyles&&J.fillId!=null&&(j=J.fillId))),uq(D,N,j,u,h,d),u.cellDates&&K&&D.t=="n"&&Yp(br[N])&&(D.t="d",D.v=m5(D.v)),E.cm&&u.xlmeta){var be=(u.xlmeta.Cell||[])[+E.cm-1];be&&be.type=="XLDAPR"&&(D.D=!0)}if(q){var B=zi(E.r);c[B.r]||(c[B.r]=[]),c[B.r][B.c]=D}else c[E.r]=D}}}}U.length>0&&(c["!rows"]=U)}}();function eve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var tve=hd;function rve(){}function nve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=The(e),r}function ave(e){var t=_o(e);return[t]}function ive(e){var t=fd(e);return[t]}function sve(e){var t=_o(e),r=e.read_shift(1);return[t,r,"b"]}function ove(e){var t=fd(e),r=e.read_shift(1);return[t,r,"b"]}function lve(e){var t=_o(e),r=e.read_shift(1);return[t,r,"e"]}function cve(e){var t=fd(e),r=e.read_shift(1);return[t,r,"e"]}function uve(e){var t=_o(e),r=e.read_shift(4);return[t,r,"s"]}function fve(e){var t=fd(e),r=e.read_shift(4);return[t,r,"s"]}function hve(e){var t=_o(e),r=Ei(e);return[t,r,"n"]}function hq(e){var t=fd(e),r=Ei(e);return[t,r,"n"]}function dve(e){var t=_o(e),r=QN(e);return[t,r,"n"]}function pve(e){var t=fd(e),r=QN(e);return[t,r,"n"]}function mve(e){var t=_o(e),r=YN(e);return[t,r,"is"]}function gve(e){var t=_o(e),r=Ci(e);return[t,r,"str"]}function vve(e){var t=fd(e),r=Ci(e);return[t,r,"str"]}function yve(e,t,r){var n=e.l+t,a=_o(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function xve(e,t,r){var n=e.l+t,a=_o(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function bve(e,t,r){var n=e.l+t,a=_o(e);a.r=r["!row"];var i=Ei(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function wve(e,t,r){var n=e.l+t,a=_o(e);a.r=r["!row"];var i=Ci(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}var _ve=hd;function Sve(e,t){var r=e.l+t,n=hd(e),a=XN(e),i=Ci(e),s=Ci(e),o=Ci(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Ave(){}function Tve(e,t,r){var n=e.l+t,a=Cz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Pge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Eve(e,t,r){var n=e.l+t,a=hd(e),i=[a];if(r.cellFormula){var s=Ige(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var kve=["left","right","top","bottom","header","footer"];function Nve(e){var t={};return kve.forEach(function(r){t[r]=Ei(e)}),t}function Cve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Pve(){}function Ove(){}function Ive(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,g,m,v,y,w,_,I,P,D=[];o.biff=12,o["!row"]=0;var E=0,A=!1,b=[],O={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=O,T.arrayf=b,T.SheetNames=a.SheetNames||a.Sheets.map(function(q){return q.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var N=0;N<a.Names.length;++N)T[0][N+1]=a.Names[N];var j=[],K=[],J=!1;wb[16]={n:"BrtShortReal",f:hq};var X;if(Yc(e,function(U,te,z){if(!h)switch(z){case 148:c=U;break;case 0:d=U,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),I=si(v=d.r),o["!row"]=d.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=Bv(U.hpt)),K[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:U[2]},U[2]){case"n":g.v=U[1];break;case"s":_=Fg[U[1]],g.v=_.t,g.r=_.r;break;case"b":g.v=!!U[1];break;case"e":g.v=U[1],o.cellText!==!1&&(g.w=dd[g.v]);break;case"str":g.t="s",g.v=U[1];break;case"is":g.t="s",g.v=U[1].t;break}if((m=s.CellXf[U[0].iStyleRef])&&uq(g,m.numFmtId,null,o,i,s),y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ea(y)+I]=g,o.cellFormula){for(A=!1,E=0;E<b.length;++E){var C=b[E];d.r>=C[0].s.r&&d.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(g.F=Br(C[0]),A=!0)}!A&&U.length>3&&(g.f=U[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Yp(br[m.numFmtId])){var R=kh(g.v);R&&(g.t="d",g.v=new Date(R.y,R.m-1,R.d,R.H,R.M,R.S,R.u))}X&&(X.type=="XLDAPR"&&(g.D=!0),X=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Ea(y)+I]=g,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),X&&(X.type=="XLDAPR"&&(g.D=!0),X=void 0);break;case 176:D.push(U);break;case 49:X=((o.xlmeta||{}).Cell||[])[U-1];break;case 494:var V=n["!id"][U.relId];for(V?(U.Target=V.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=V):U.relId==""&&(U.Target="#"+U.loc),v=U.rfx.s.r;v<=U.rfx.e.r;++v)for(y=U.rfx.s.c;y<=U.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=U):(w=mr({c:y,r:v}),l[w]||(l[w]={t:"z",v:void 0}),l[w].l=U);break;case 426:if(!o.cellFormula)break;b.push(U),P=o.dense?l[v][y]:l[Ea(y)+I],P.f=wi(U[1],u,{r:d.r,c:y},T,o),P.F=Br(U[0]);break;case 427:if(!o.cellFormula)break;O[mr(U[0].s)]=U[1],P=o.dense?l[v][y]:l[Ea(y)+I],P.f=wi(U[1],u,{r:d.r,c:y},T,o);break;case 60:if(!o.cellStyles)break;for(;U.e>=U.s;)j[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},J||(J=!0,tC(U.w/256)),fp(j[U.e+1]);break;case 161:l["!autofilter"]={ref:Br(U)};break;case 476:l["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(l["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!te.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Br(c||u)),o.sheetRows&&l["!ref"]){var Z=Zn(l["!ref"]);o.sheetRows<=+Z.e.r&&(Z.e.r=o.sheetRows-1,Z.e.r>u.e.r&&(Z.e.r=u.e.r),Z.e.r<Z.s.r&&(Z.s.r=Z.e.r),Z.e.c>u.e.c&&(Z.e.c=u.e.c),Z.e.c<Z.s.c&&(Z.s.c=Z.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Br(Z))}return D.length>0&&(l["!merges"]=D),j.length>0&&(l["!cols"]=j),K.length>0&&(l["!rows"]=K),l}function Dve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=zr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function jve(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Dve(f);u.s.r=u.s.c=0,u.e.c=o,c=Ea(o),h[0].forEach(function(d,g){s[c+si(g)]={t:"n",v:d,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Br(u)),s}function Lve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(fq);return o&&nC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Mve(e,t){e.l+=10;var r=Ci(e);return{name:r}}function Rve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Yc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var dq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Fve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$ve=[],Bve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function qD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Dn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function WD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Dn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function pq(e){WD(e.WBProps,dq),WD(e.CalcPr,Bve),qD(e.WBView,Fve),qD(e.Sheets,$ve),j0.date1904=Dn(e.WBProps.date1904)}var Vve="][*?/\\".split("");function Uve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var zve=/<\w+:workbook/;function qve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ii,function(l,c){var u=ir(l);switch(ql(u[0])){case"<?xml":break;case"<workbook":l.match(zve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":dq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Dn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=Sn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=zr(Sn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=Sn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Dn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=zr(Sn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),lhe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return pq(r),r}function Wve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bT(e),r.name=Ci(e),r}function Hve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ci(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Gve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Kve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ehe(e),s=Oge(e,0,r),o=XN(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Yve(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],wb[16]={n:"BrtFRTArchID$",f:Gve},Yc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=wi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),pq(r),r.Names=i,r.supbooks=s,r}function Xve(e,t,r){return t.slice(-4)===".bin"?Yve(e,r):qve(e,r)}function Qve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ive(e,n,r,a,i,s,o):Wge(e,n,r,a,i,s,o)}function Jve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Rve(e,n,r,a,i):Lve(e,n,r,a,i)}function Zve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ome():lme()}function e1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ime():sme()}function t1e(e,t,r,n){return t.slice(-4)===".bin"?_pe(e,r,n):gpe(e,r,n)}function r1e(e,t,r){return eq(e,r)}function n1e(e,t,r){return t.slice(-4)===".bin"?F0e(e,r):M0e(e,r)}function a1e(e,t,r){return t.slice(-4)===".bin"?rme(e,r):Qpe(e,r)}function i1e(e,t,r){return t.slice(-4)===".bin"?Kpe(e):Hpe(e)}function s1e(e,t,r,n){return r.slice(-4)===".bin"?Ype(e,t,r,n):void 0}function o1e(e,t,r){return t.slice(-4)===".bin"?qpe(e,t,r):Wpe(e,t,r)}var mq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,gq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Mo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(mq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(gq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function l1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(mq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(gq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Bg;function c1e(e,t){var r=Bg[e]||zr(e);return r==="General"?Xh(t):bo(r,t)}function u1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Dn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ua(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[zr(t)]=a}function f1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||dd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v):e.w=Xh(e.v):e.w=c1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Bg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Yp(n)){var a=kh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function h1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=upe[n.Pattern]||n.Pattern)}e[t.ID]=t}function d1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dn(e);break;case"String":n.t="s",n.r=dD(zr(e)),n.v=e.indexOf("<")>-1?zr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ua(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=zr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Iz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=dD(t||e));break}if(f1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=zr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=D0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=D0("RC:RC",a):n.ArrayRange&&(n.F=D0(n.ArrayRange,a),l.push([Zn(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(d.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function p1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function LS(e,t){var r=t||{};az();var n=og(WN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Sn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ii(r);return s.type="string",Fv.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Oe){a.indexOf("<"+Oe)>=0&&(i=!0)}),i)return S1e(n,r);Bg={"General Number":"General","General Date":br[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":br[15],"Short Date":br[14],"Long Time":br[19],"Medium Time":br[18],"Short Time":br[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:br[2],Standard:br[4],Percent:br[10],Scientific:br[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",g={},m={},v=Mo('<Data ss:Type="String">'),y=0,w=0,_=0,I={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},D={},E="",A=0,b=[],O={},T={},N=0,j=[],K=[],J={},X=[],Z,q=!1,U=[],te=[],z={},C=0,R=0,V={Sheets:[],WBProps:{date1904:!1}},G={};Rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Y="";o=Rv.exec(n);)switch(o[3]=(Y=o[3]).toLowerCase()){case"data":if(Y=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?d1e(n.slice(y,o.index),E,v,l[l.length-1][0]=="comment"?J:g,{c:w,r:_},P,X[w],m,U,r):(E="",v=Mo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(K.length>0&&(g.c=K),(!r.sheetRows||r.sheetRows>_)&&g.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][w]=g):h[Ea(w)+si(_)]=g),g.HRef&&(g.l={Target:zr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=w+(parseInt(g.MergeAcross,10)|0),R=_+(parseInt(g.MergeDown,10)|0),b.push({s:{c:w,r:_},e:{c:C,r:R}})),!r.sheetStubs)g.MergeAcross?w=C+1:++w;else if(g.MergeAcross||g.MergeDown){for(var se=w;se<=C;++se)for(var ce=_;ce<=R;++ce)(se>w||ce>_)&&(r.dense?(h[ce]||(h[ce]=[]),h[ce][se]={t:"z"}):h[Ea(se)+si(ce)]={t:"z"});w=C+1}else++w;else g=l1e(o[0]),g.Index&&(w=+g.Index-1),w<I.s.c&&(I.s.c=w),w>I.e.c&&(I.e.c=w),o[0].slice(-2)==="/>"&&++w,K=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<I.s.r&&(I.s.r=_),_>I.e.r&&(I.e.r=_),o[0].slice(-2)==="/>"&&(m=Mo(o[0]),m.Index&&(_=+m.Index-1)),w=0,++_):(m=Mo(o[0]),m.Index&&(_=+m.Index-1),z={},(m.AutoFitHeight=="0"||m.Height)&&(z.hpx=parseInt(m.Height,10),z.hpt=Zz(z.hpx),te[_]=z),m.Hidden=="1"&&(z.hidden=!0,te[_]=z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),I.s.r<=I.e.r&&I.s.c<=I.e.c&&(h["!ref"]=Br(I),r.sheetRows&&r.sheetRows<=I.e.r&&(h["!fullref"]=h["!ref"],I.e.r=r.sheetRows-1,h["!ref"]=Br(I))),b.length&&(h["!merges"]=b),X.length>0&&(h["!cols"]=X),te.length>0&&(h["!rows"]=te),u[d]=h}else I={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=w=0,l.push([o[3],!1]),c=Mo(o[0]),d=zr(c.Name),h=r.dense?[]:{},b=[],U=[],te=[],G={name:d,Hidden:0},V.Sheets.push(G);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),X=[],q=!1}break;case"style":o[1]==="/"?h1e(P,D,r):D=Mo(o[0]);break;case"numberformat":D.nf=zr(Mo(o[0]).Format||"General"),Bg[D.nf]&&(D.nf=Bg[D.nf]);for(var re=0;re!=392&&br[re]!=D.nf;++re);if(re==392){for(re=57;re!=392;++re)if(br[re]==null){Mh(D.nf,re);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Z=Mo(o[0]),Z.Hidden&&(Z.hidden=!0,delete Z.Hidden),Z.Width&&(Z.wpx=parseInt(Z.Width,10)),!q&&Z.wpx>10){q=!0,Vi=Qz;for(var he=0;he<X.length;++he)X[he]&&fp(X[he])}q&&fp(Z),X[Z.Index-1||X.length]=Z;for(var be=0;be<+Z.Span;++be)X[X.length]=ii(Z);break;case"namedrange":if(o[1]==="/")break;V.Names||(V.Names=[]);var B=ir(o[0]),Te={Name:B.Name,Ref:D0(B.RefersTo.slice(1),{r:0,c:0})};V.Sheets.length>0&&(Te.Sheet=V.Sheets.length-1),V.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(A,o.index):A=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;D.Interior=Mo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Qhe(O,Y,n.slice(N,o.index)):N=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));p1e(J),K.push(J)}else l.push([o[3],!1]),c=Mo(o[0]),J={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var _e=Mo(o[0]);h["!autofilter"]={ref:D0(_e.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return QD(n,r);var ge=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ge=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ge=!1}break;case"excelworkbook":switch(o[3]){case"date1904":V.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ge=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ge=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(N,o.index)){case"SheetHidden":G.Hidden=1;break;case"SheetVeryHidden":G.Hidden=2;break}else N=o.index+o[0].length;break;case"header":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+ir(o[0]).Margin)||(h["!margins"].header=+ir(o[0]).Margin);break;case"footer":h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+ir(o[0]).Margin)||(h["!margins"].footer=+ir(o[0]).Margin);break;case"pagemargins":var ee=ir(o[0]);h["!margins"]||$g(h["!margins"]={},"xlml"),isNaN(+ee.Top)||(h["!margins"].top=+ee.Top),isNaN(+ee.Left)||(h["!margins"].left=+ee.Left),isNaN(+ee.Right)||(h["!margins"].right=+ee.Right),isNaN(+ee.Bottom)||(h["!margins"].bottom=+ee.Bottom);break;case"displayrighttoleft":V.Views||(V.Views=[]),V.Views[0]||(V.Views[0]={}),V.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ge=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ge=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ge=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ge=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ge=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ge=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ge=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ge=!1}break;case"smarttags":break;default:ge=!1;break}if(ge||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?u1e(T,Y,j,n.slice(N,o.index)):(j=o,N=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ae={};return!r.bookSheets&&!r.bookProps&&(Ae.Sheets=u),Ae.SheetNames=f,Ae.Workbook=V,Ae.SSF=ii(br),Ae.Props=O,Ae.Custprops=T,Ae}function AT(e,t){switch(sC(t=t||{}),t.type||"base64"){case"base64":return LS(Us(e),t);case"binary":case"buffer":case"file":return LS(e,t);case"array":return LS(ud(e),t)}}function m1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Che(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Phe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var g1e=[60,1084,2066,2165,2175];function v1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=pc(r,r.l),c=TT[l],u=0;c!=null&&g1e.indexOf(l)>-1;)i=pc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=TT[l=pc(r,r.l)];var f=Bu(s);ti(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function wl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=br[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||dd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Lv(e.v):e.w=Xh(e.v):e.w=bo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Yp(br[n]||String(n))){var a=kh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function mx(e,t,r){return{v:e,ixfe:t,t:r}}function y1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,g,m,v,y={},w=[],_,I,P=[],D=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},A={},b=function(xt){return xt<8?Rh[xt]:xt<64&&D[xt-8]||Rh[xt]},O=function(xt,nt,qt){var $t=nt.XF.data;if(!(!$t||!$t.patternType||!qt||!qt.cellStyles)){nt.s={},nt.s.patternType=$t.patternType;var Hr;(Hr=$v(b($t.icvFore)))&&(nt.s.fgColor={rgb:Hr}),(Hr=$v(b($t.icvBack)))&&(nt.s.bgColor={rgb:Hr})}},T=function(xt,nt,qt){if(!(z>1)&&!(qt.sheetRows&&xt.r>=qt.sheetRows)){if(qt.cellStyles&&nt.XF&&nt.XF.data&&O(xt,nt,qt),delete nt.ixfe,delete nt.XF,f=xt,h=mr(xt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),xt.r<s.s.r&&(s.s.r=xt.r),xt.c<s.s.c&&(s.s.c=xt.c),xt.r+1>s.e.r&&(s.e.r=xt.r+1),xt.c+1>s.e.c&&(s.e.c=xt.c+1),qt.cellFormula&&nt.f){for(var $t=0;$t<w.length;++$t)if(!(w[$t][0].s.c>xt.c||w[$t][0].s.r>xt.r)&&!(w[$t][0].e.c<xt.c||w[$t][0].e.r<xt.r)){nt.F=Br(w[$t][0]),(w[$t][0].s.c!=xt.c||w[$t][0].s.r!=xt.r)&&delete nt.f,nt.f&&(nt.f=""+wi(w[$t][1],s,xt,U,N));break}}qt.dense?(a[xt.r]||(a[xt.r]=[]),a[xt.r][xt.c]=nt):a[h]=nt}},N={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:w,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(N.password=t.password);var j,K=[],J=[],X=[],Z=[],q=!1,U=[];U.SheetNames=N.snames,U.sharedf=N.sharedf,U.arrayf=N.arrayf,U.names=[],U.XTI=[];var te=0,z=0,C=0,R=[],V=[],G;N.codepage=1200,Jo(1200);for(var Y=!1;e.l<e.length-1;){var se=e.l,ce=e.read_shift(2);if(ce===0&&te===10)break;var re=e.l===e.length?0:e.read_shift(2),he=TT[ce];if(he&&he.f){if(t.bookSheets&&te===133&&ce!==133)break;if(te=ce,he.r===2||he.r==12){var be=e.read_shift(2);if(re-=2,!N.enc&&be!==ce&&((be&255)<<8|be>>8)!==ce)throw new Error("rt mismatch: "+be+"!="+ce);he.r==12&&(e.l+=10,re-=10)}var B={};if(ce===10?B=he.f(e,re,N):B=v1e(ce,he,e,re,N),z==0&&[9,521,1033,2057].indexOf(te)===-1)continue;switch(ce){case 34:r.opts.Date1904=E.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(N.enc||(e.l=0),N.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:N.lastuser=B;break;case 66:var Te=Number(B);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}Jo(N.codepage=Te),Y=!0;break;case 317:N.rrtabid=B;break;case 25:N.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:N.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(B);break;case 430:U.push([B]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(B);break;case 24:case 536:G={Name:B.Name,Ref:wi(B.rgce,s,null,U,N)},B.itab>0&&(G.Sheet=B.itab-1),U.names.push(G),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(V[B.itab-1]={ref:Br(B.rgce[0][0][1][2])});break;case 22:N.ExternCount=B;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(B),U.XTI=U.XTI.concat(B);break;case 2196:if(N.biff<8)break;G!=null&&(G.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&N.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,N.snames.push(B.name);break;case 10:{if(--z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Br(s),t.sheetRows&&t.sheetRows<=s.e.r){var _e=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Br(s),s.e.r=_e}s.e.r++,s.e.c++}K.length>0&&(a["!merges"]=K),J.length>0&&(a["!objects"]=J),X.length>0&&(a["!cols"]=X),Z.length>0&&(a["!rows"]=Z),E.Sheets.push(A)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(N.biff===8&&(N.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),N.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(N.biff=5,Y=!0,Jo(N.codepage=28591)),N.biff==8&&B.BIFFVer==0&&B.dt==16&&(N.biff=2),z++)break;if(a=t.dense?[]:{},N.biff<8&&!Y&&(Y=!0,Jo(N.codepage=t.codepage||1252)),N.biff<5||B.BIFFVer==0&&B.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ge={pos:e.l-re,name:c};i[ge.pos]=ge,N.snames.push(c)}else c=(i[se]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),K=[],J=[],N.arrayf=w=[],X=[],Z=[],q=!1,A={Hidden:(i[se]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[mr({c:B.c,r:B.r})])&&++B.c,_={ixfe:B.ixfe,XF:P[B.ixfe]||{},v:B.val,t:"n"},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t);break;case 5:case 517:_={ixfe:B.ixfe,XF:P[B.ixfe],v:B.val,t:B.t},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t);break;case 638:_={ixfe:B.ixfe,XF:P[B.ixfe],v:B.rknum,t:"n"},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t);break;case 189:for(var ee=B.c;ee<=B.C;++ee){var Ae=B.rkrec[ee-B.c][0];_={ixfe:Ae,XF:P[Ae],v:B.rkrec[ee-B.c][1],t:"n"},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:ee,r:B.r},_,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){o=B;break}if(_=mx(B.val,B.cell.ixfe,B.tt),_.XF=P[_.ixfe],t.cellFormula){var Oe=B.formula;if(Oe&&Oe[0]&&Oe[0][0]&&Oe[0][0][0]=="PtgExp"){var Me=Oe[0][0][1][0],Ke=Oe[0][0][1][1],$e=mr({r:Me,c:Ke});y[$e]?_.f=""+wi(B.formula,s,B.cell,U,N):_.F=((t.dense?(a[Me]||[])[Ke]:a[$e])||{}).F}else _.f=""+wi(B.formula,s,B.cell,U,N)}C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T(B.cell,_,t),o=B}break;case 7:case 519:if(o)o.val=B,_=mx(B,o.cell.ixfe,"s"),_.XF=P[_.ixfe],t.cellFormula&&(_.f=""+wi(o.formula,s,o.cell,U,N)),C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{w.push(B);var Xe=mr(B[0].s);if(d=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Xe],t.cellFormula&&d){if(!o||!Xe||!d)break;d.f=""+wi(B[1],s,B[0],U,N),d.F=Br(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[mr(o.cell)]=B[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[mr(o.cell)],(d||{}).f=""+wi(B[0],s,f,U,N)}}break;case 253:_=mx(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(_.h=l[B.isst].h),_.XF=P[_.ixfe],C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:B.ixfe,XF:P[B.ixfe],t:"z"},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t));break;case 190:if(t.sheetStubs)for(var Fe=B.c;Fe<=B.C;++Fe){var Qe=B.ixfe[Fe-B.c];_={ixfe:Qe,XF:P[Qe],t:"z"},C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:Fe,r:B.r},_,t)}break;case 214:case 516:case 4:_=mx(B.val,B.ixfe,"s"),_.XF=P[_.ixfe],C>0&&(_.z=R[_.ixfe>>8&63]),wl(_,t,r.opts.Date1904),T({c:B.c,r:B.r},_,t);break;case 0:case 512:z===1&&(s=B);break;case 252:l=B;break;case 1054:if(N.biff==4){R[C++]=B[1];for(var ct=0;ct<C+163&&br[ct]!=B[1];++ct);ct>=163&&Mh(B[1],C+163)}else Mh(B[1],B[0]);break;case 30:{R[C++]=B;for(var rt=0;rt<C+163&&br[rt]!=B;++rt);rt>=163&&Mh(B,C+163)}break;case 229:K=K.concat(B);break;case 93:J[B.cmo[0]]=N.lastobj=B;break;case 438:N.lastobj.TxO=B;break;case 127:N.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[mr({c:m,r:v})],d&&(d.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[mr({c:m,r:v})],d&&d.l&&(d.l.Tooltip=B[1]);break;case 28:{if(N.biff<=5&&N.biff>=2)break;d=t.dense?(a[B[0].r]||[])[B[0].c]:a[mr(B[0])];var gt=J[B[2]];d||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),d=a[B[0].r][B[0].c]={t:"z"}):d=a[mr(B[0])]={t:"z"},s.e.r=Math.max(s.e.r,B[0].r),s.s.r=Math.min(s.s.r,B[0].r),s.e.c=Math.max(s.e.c,B[0].c),s.s.c=Math.min(s.s.c,B[0].c)),d.c||(d.c=[]),g={a:B[1],t:gt.TxO.t},d.c.push(g)}break;case 2173:Bpe(P[B.ixfe],B.ext);break;case 125:{if(!N.cellStyles)break;for(;B.e>=B.s;)X[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},q||(q=!0,tC(B.w/256)),fp(X[B.e+1])}break;case 520:{var yt={};B.level!=null&&(Z[B.r]=yt,yt.level=B.level),B.hidden&&(Z[B.r]=yt,yt.hidden=!0),B.hpt&&(Z[B.r]=yt,yt.hpt=B.hpt,yt.hpx=Bv(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||$g(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=B;break;case 161:a["!margins"]||$g(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(E.Views[0].RTL=!0);break;case 146:D=B;break;case 2198:j=B;break;case 140:I=B;break;case 442:c?A.CodeName=B||A.name:E.WBProps.CodeName=B||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=re}return r.SheetNames=Ul(i).sort(function(At,xt){return Number(At)-Number(xt)}).map(function(At){return i[At].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&V.forEach(function(At,xt){r.Sheets[r.SheetNames[xt]]["!autofilter"]=At}),r.Strings=l,r.SSF=ii(br),N.enc&&(r.Encryption=N.enc),j&&(r.Themes=j),r.Metadata={},I!==void 0&&(r.Metadata.Country=I),U.names.length>0&&(E.Names=U.names),r.Workbook=E,r}var HD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function x1e(e,t,r){var n=Fr.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=CD(n,Mhe,HD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Fr.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=CD(s,Rhe,HD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(jz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function vq(e,t){t||(t={}),sC(t),HU(),t.codepage&&FN(t.codepage);var r,n;if(e.FullPaths){if(Fr.find(e,"/encryption"))throw new Error("File is password-protected");r=Fr.find(e,"!CompObj"),n=Fr.find(e,"/Workbook")||Fr.find(e,"/Book")}else{switch(t.type){case"base64":e=Xo(Us(e));break;case"binary":e=Xo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ti(e,0),n={content:e}}var a,i;if(r&&m1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Ir?"buffer":"array";if(n&&n.content)a=y1e(n.content,t);else if((i=Fr.find(e,"PerfectOffice_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else if((i=Fr.find(e,"NativeContent_MAIN"))&&i.content)a=Rg.to_workbook(i.content,(t.type=s,t));else throw(i=Fr.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Fr.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=ame(e))}var o={};return e.FullPaths&&x1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var wb={0:{f:eve},1:{f:ave},2:{f:dve},3:{f:lve},4:{f:sve},5:{f:hve},6:{f:gve},7:{f:uve},8:{f:wve},9:{f:bve},10:{f:yve},11:{f:xve},12:{f:ive},13:{f:pve},14:{f:cve},15:{f:ove},16:{f:hq},17:{f:vve},18:{f:fve},19:{f:YN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Kve},40:{},42:{},43:{f:ype},44:{f:vpe},45:{f:xpe},46:{f:wpe},47:{f:bpe},48:{},49:{f:_he},50:{},51:{f:Upe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Hz},62:{f:mve},63:{f:Gpe},64:{f:Pve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Cve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nve},148:{f:tve,p:16},151:{f:Ave},152:{},153:{f:Hve},154:{},155:{},156:{f:Wve},157:{},158:{},159:{T:1,f:R0e},160:{T:-1},161:{T:1,f:hd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_ve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Vpe},336:{T:-1},337:{f:zpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Wz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Tve},427:{f:Eve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Nve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:rve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tme},633:{T:1},634:{T:-1},635:{T:1,f:eme},636:{T:-1},637:{f:Ahe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Mve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ove},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},TT={6:{f:DS},10:{f:Nu},12:{f:pa},13:{f:pa},14:{f:ra},15:{f:ra},16:{f:Ei},17:{f:ra},18:{f:ra},19:{f:pa},20:{f:DD},21:{f:DD},23:{f:Wz},24:{f:LD},25:{f:ra},26:{},27:{},28:{f:Jde},29:{},34:{f:ra},35:{f:jD},38:{f:Ei},39:{f:Ei},40:{f:Ei},41:{f:Ei},42:{f:ra},43:{f:ra},47:{f:rpe},49:{f:Dde},51:{f:pa},60:{},61:{f:Pde},64:{f:ra},65:{f:Ide},66:{f:pa},77:{},80:{},81:{},82:{},85:{f:pa},89:{},90:{},91:{},92:{f:_de},93:{f:e0e},94:{},95:{f:ra},96:{},97:{},99:{f:ra},125:{f:Hz},128:{f:zde},129:{f:Sde},130:{f:pa},131:{f:ra},132:{f:ra},133:{f:Ade},134:{},140:{f:s0e},141:{f:pa},144:{},146:{f:l0e},151:{},152:{},153:{},154:{},155:{},156:{f:pa},157:{},158:{},160:{f:d0e},161:{f:u0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:$de},190:{f:Bde},193:{f:Nu},197:{},198:{},199:{},200:{},201:{},202:{f:ra},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pa},220:{},221:{f:ra},222:{},224:{f:Ude},225:{f:wde},226:{f:Nu},227:{},229:{f:Zde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Tde},253:{f:jde},255:{f:Ede},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:$z},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ra},353:{f:Nu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Wde},431:{f:ra},432:{},433:{},434:{},437:{},438:{f:n0e},439:{f:ra},440:{f:a0e},441:{},442:{f:Y1},443:{},444:{f:pa},445:{},446:{},448:{f:Nu},449:{f:Cde,r:2},450:{f:Nu},512:{f:OD},513:{f:h0e},515:{f:qde},516:{f:Lde},517:{f:ID},519:{f:p0e},520:{f:kde},523:{},545:{f:MD},549:{f:PD},566:{},574:{f:Ode},638:{f:Fde},659:{},1048:{},1054:{f:Mde},1084:{},1212:{f:Yde},2048:{f:i0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:hx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Nu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:c0e,r:12},2173:{f:$pe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ra,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Kde,r:12},2197:{},2198:{f:Dpe,r:12},2199:{},2200:{},2201:{},2202:{f:Xde,r:12},2203:{f:Nu},2204:{},2205:{},2206:{},2207:{},2211:{f:Nde},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:f0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:o0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:OD},1:{},2:{f:y0e},3:{f:v0e},4:{f:g0e},5:{f:ID},7:{f:x0e},8:{},9:{f:hx},11:{},22:{f:pa},30:{f:Rde},31:{},32:{},33:{f:MD},36:{},37:{f:PD},50:{f:b0e},62:{},52:{},67:{},68:{f:pa},69:{},86:{},126:{},127:{f:m0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:w0e},223:{},234:{},354:{},421:{},518:{f:DS},521:{f:hx},536:{f:LD},547:{f:jD},561:{},579:{},1030:{f:DS},1033:{f:hx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Ro(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Ez(r)&&e.push(r)}}function GD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=qfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var w=y[o].trim();if(w.match(/<t[dh]/i)){for(var _=w,I=0;_.charAt(0)=="<"&&(I=_.indexOf(">"))>-1;)_=_.slice(I+1);for(var P=0;P<g.length;++P){var D=g[P];D.s.c==u&&D.s.r<c&&c<=D.e.r&&(u=D.e.c+1,P=-1)}var E=ir(w.slice(0,w.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var A=E.t||E["data-t"]||"";if(!_.length){u+=h;continue}if(_=dz(_),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!_.length){u+=h;continue}var b={t:"s",v:_};r.raw||!_.trim().length||A=="s"||(_==="TRUE"?b={t:"b",v:!0}:_==="FALSE"?b={t:"b",v:!1}:isNaN(al(_))?isNaN(up(_).getDate())||(b={t:"d",v:Ua(_)},r.cellDates||(b={t:"n",v:Xi(b.v)}),b.z=r.dateNF||br[14]):b={t:"n",v:al(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=b):n[mr({r:c,c:u})]=b,u+=h}}}}return n["!ref"]=Br(d),g.length&&(n["!merges"]=g),n}function b1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=mr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||qN(f.w||(Fc(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(she("td",h,d))}}var g="<tr>";return g+i.join("")+"</tr>"}var w1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_1e="</body></html>";function S1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rf(GD(r[0],t),t);var n=lC();return r.forEach(function(a,i){cC(n,GD(a,t),"Sheet"+(i+1))}),n}function A1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function T1e(e,t){var r=t||{},n=r.header!=null?r.header:w1e,a=r.footer!=null?r.footer:_1e,i=[n],s=Xp(e["!ref"]);r.dense=Array.isArray(e),i.push(A1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(b1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function yq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?zi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Xp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,w=0,_=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var I=o[g];if(KD(I)){if(n.display)continue;d[m]={hidden:!0}}var P=I.children;for(v=y=0;v<P.length;++v){var D=P[v];if(!(n.display&&KD(D))){var E=D.hasAttribute("data-v")?D.getAttribute("data-v"):D.hasAttribute("v")?D.getAttribute("v"):dz(D.innerHTML),A=D.getAttribute("data-z")||D.getAttribute("z");for(h=0;h<f.length;++h){var b=f[h];b.s.c==y+i&&b.s.r<m+a&&m+a<=b.e.r&&(y=b.e.c+1-i,h=-1)}_=+D.getAttribute("colspan")||1,((w=+D.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(w||1)-1,c:y+i+(_||1)-1}});var O={t:"s",v:E},T=D.getAttribute("data-t")||D.getAttribute("t")||"";E!=null&&(E.length==0?O.t=T||"z":n.raw||E.trim().length==0||T=="s"||(E==="TRUE"?O={t:"b",v:!0}:E==="FALSE"?O={t:"b",v:!1}:isNaN(al(E))?isNaN(up(E).getDate())||(O={t:"d",v:Ua(E)},n.cellDates||(O={t:"n",v:Xi(O.v)}),O.z=n.dateNF||br[14]):O={t:"n",v:al(E)})),O.z===void 0&&A!=null&&(O.z=A);var N="",j=D.getElementsByTagName("A");if(j&&j.length)for(var K=0;K<j.length&&!(j[K].hasAttribute("href")&&(N=j[K].getAttribute("href"),N.charAt(0)!="#"));++K);N&&N.charAt(0)!="#"&&(O.l={Target:N}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=O):e[mr({c:y+i,r:m+a})]=O,c.e.c<y+i&&(c.e.c=y+i),y+=_}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Br(c),m>=l&&(e["!fullref"]=Br((c.e.r=o.length-g+m-1+a,c))),e}function xq(e,t){var r=t||{},n=r.dense?[]:{};return yq(n,e,t)}function E1e(e,t){return Rf(xq(e,t),t)}function KD(e){var t="",r=k1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function k1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function N1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=zr(t.replace(/<[^>]*>/g,""));return[r]}var YD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function bq(e,t){var r=t||{},n=WN(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],g=r.dense?[]:{},m,v,y={value:""},w="",_=0,I=[],P=-1,D=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},A=0,b={},O=[],T={},N=0,j=0,K=[],J=1,X=1,Z=[],q={Names:[]},U={},te=["",""],z=[],C={},R="",V=0,G=!1,Y=!1,se=0;for(Rv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Rv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?g["!ref"]=Br(E):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(g["!fullref"]=g["!ref"],E.e.r=r.sheetRows-1,g["!ref"]=Br(E)),O.length&&(g["!merges"]=O),K.length&&(g["!rows"]=K),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=g,Y=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=ir(m[0],!1),P=D=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,g=r.dense?[]:{},O=[],K=[],Y=!0);break;case"table-row-group":m[1]==="/"?--A:++A;break;case"table-row":case"行":if(m[1]==="/"){P+=J,J=1;break}if(f=ir(m[0],!1),f.行号?P=f.行号-1:P==-1&&(P=0),J=+f["number-rows-repeated"]||1,J<10)for(se=0;se<J;++se)A>0&&(K[P+se]={level:A});D=-1;break;case"covered-table-cell":m[1]!=="/"&&++D,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][D]={t:"z"}):g[mr({r:P,c:D})]={t:"z"}),w="",I=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++D,y=ir(m[0],!1),X=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=zD(zr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=zr(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][D]=v):g[mr({r:P,c:D})]=v),D+=X-1;else if(m[1]!=="/"){++D,w="",_=0,I=[],X=1;var ce=J?P+J-1:P;if(D>E.e.c&&(E.e.c=D),D<E.s.c&&(E.s.c=D),P<E.s.r&&(E.s.r=P),ce>E.e.r&&(E.e.r=ce),y=ir(m[0],!1),z=[],C={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=zr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(N=parseInt(y["number-matrix-rows-spanned"],10)||0,j=parseInt(y["number-matrix-columns-spanned"],10)||0,T={s:{r:P,c:D},e:{r:P+N-1,c:D+j-1}},v.F=Br(T),Z.push([T,v.F])),y.formula)v.f=zD(y.formula);else for(se=0;se<Z.length;++se)P>=Z[se][0].s.r&&P<=Z[se][0].e.r&&D>=Z[se][0].s.c&&D<=Z[se][0].e.c&&(v.F=Z[se][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(N=parseInt(y["number-rows-spanned"],10)||0,j=parseInt(y["number-columns-spanned"],10)||0,T={s:{r:P,c:D},e:{r:P+N-1,c:D+j-1}},O.push(T)),y["number-columns-repeated"]&&(X=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Dn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Ua(y["date-value"]),r.cellDates||(v.t="n",v.v=Xi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Vfe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=m5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(w=zr(y["string-value"]),I=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(G=!1,v.t==="s"&&(v.v=w||"",I.length&&(v.R=I),G=_==0),U.Target&&(v.l=U),z.length>0&&(v.c=z,z=[]),w&&r.cellText!==!1&&(v.w=w),G&&(v.t="z",delete v.v),(!G||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var re=0;re<J;++re){if(X=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+re]||(g[P+re]=[]),g[P+re][D]=re==0?v:ii(v);--X>0;)g[P+re][D+X]=ii(v);else for(g[mr({r:P+re,c:D})]=v;--X>0;)g[mr({r:P+re,c:D+X})]=ii(v);E.e.c<=D&&(E.e.c=D)}X=parseInt(y["number-columns-repeated"]||"1",10),D+=X-1,X=0,v={},w="",I=[]}U={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;C.t=w,I.length&&(C.R=I),C.a=R,z.push(C)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);R="",V=0,w="",_=0,I=[];break;case"creator":m[1]==="/"?R=n.slice(V,m.index):V=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);w="",_=0,I=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(b[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=ir(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ir(m[0],!1),l+=YD[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=ir(m[0],!1),l+=YD[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=ir(m[0],!1),te=jS(s["cell-range-address"]);var he={Name:s.name,Ref:te[0]+"!"+te[1]};Y&&(he.Sheet=d.length),q.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var be=N1e(n.slice(_,m.index));w=(w.length>0?w+`
`:"")+be[0]}else ir(m[0],!1),_=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{te=jS(ir(m[0])["target-range-address"]),h[te[0]]["!autofilter"]={ref:te[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(U=ir(m[0],!1),!U.href)break;U.Target=zr(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(te=jS(U.Target.slice(1)),U.Target="#"+te[0]+"!"+te[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var B={Sheets:h,SheetNames:d,Workbook:q};return r.bookSheets&&delete B.Sheets,B}function XD(e,t){t=t||{},oo(e,"META-INF/manifest.xml")&&qhe(da(e,"META-INF/manifest.xml"),t);var r=Is(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=bq(Sn(r),t);return oo(e,"meta.xml")&&(n.Props=Dz(da(e,"meta.xml"))),n}function QD(e,t){return bq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function aC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ET(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):Sn(ud(e))}function kT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function JD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function C1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Vv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Ca(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ni(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Vv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Vv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function iC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function P1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Vv(e,n),i=Ni(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Ca(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Ni(o.data),c=Ca(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Ca(i[3][0].data)>>>0>0),r.push(s)}return r}function O1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Vv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[kT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=kT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function I1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(O1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return kT(t)}function D1e(e,t,r,n){var a=aC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+JD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=JD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function j1e(e,t,r){var n=aC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=C1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function L1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return D1e(e,t,r,e[0]);case 5:return j1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function ff(e){var t=Ni(e);return Vv(t[1][0].data)}function ZD(e,t){var r=Ni(t.data),n=Ca(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ni(s.data),l=Ca(o[1][0].data)>>>0;switch(n){case 1:i[l]=ET(o[3][0].data);break;case 8:{var c=e[ff(o[9][0].data)][0],u=Ni(c.data),f=e[ff(u[1][0].data)][0],h=Ca(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=Ni(f.data);i[l]=d[3].map(function(g){return ET(g.data)}).join("")}break}}),i}function M1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g,m,v=Ni(e),y=Ca(v[1][0].data)>>>0,w=Ca(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Ca(v[8][0].data)>0||!1,I,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)I=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)I=(d=(h=v[4])==null?void 0:h[0])==null?void 0:d.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var D=_?4:1,E=aC(I),A=[],b=0;b<I.length/2;++b){var O=E.getUint16(b*2,!0);O<65535&&A.push([b,O])}if(A.length!=w)throw"Expected ".concat(w," cells, found ").concat(A.length);var T=[];for(b=0;b<A.length-1;++b)T[A[b][0]]=P.subarray(A[b][1]*D,A[b+1][1]*D);return A.length>=1&&(T[A[A.length-1][0]]=P.subarray(A[A.length-1][1]*D)),{R:y,cells:T}}function R1e(e,t){var r,n=Ni(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Ca(n[7][0].data)>>>0>0?1:0:-1,i=iC(n[5],function(s){return M1e(s,a)});return{nrows:Ca(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function F1e(e,t,r){var n,a=Ni(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Ca(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Ca(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Br(i);var s=Ni(a[4][0].data),o=ZD(e,e[ff(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?ZD(e,e[ff(s[17][0].data)][0]):[],c=Ni(s[3][0].data),u=0;c[1].forEach(function(f){var h=Ni(f.data),d=e[ff(h[2][0].data)][0],g=Ca(d.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=R1e(e,d);m.data.forEach(function(v,y){v.forEach(function(w,_){var I=mr({r:u+y,c:_}),P=L1e(w,o,l);P&&(r[I]=P)})}),u+=m.nrows})}function $1e(e,t){var r=Ni(t.data),n={"!ref":"A1"},a=e[ff(r[2][0].data)],i=Ca(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return F1e(e,a[0],n),n}function B1e(e,t){var r,n=Ni(t.data),a={name:(r=n[1])!=null&&r[0]?ET(n[1][0].data):"",sheets:[]},i=iC(n[2],ff);return i.forEach(function(s){e[s].forEach(function(o){var l=Ca(o.meta[1][0].data);l==6e3&&a.sheets.push($1e(e,o))})}),a}function V1e(e,t){var r=lC(),n=Ni(t.data),a=iC(n[1],ff);if(a.forEach(function(i){e[i].forEach(function(s){var o=Ca(s.meta[1][0].data);if(o==2){var l=B1e(e,s);l.sheets.forEach(function(c,u){cC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function MS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=I1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=P1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Ca(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Ca(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return V1e(i,o)}function U1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sC(e){U1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function z1e(e){return x0.WS.indexOf(e)>-1?"sheet":e==x0.CS?"chart":e==x0.DS?"dialog":e==x0.MS?"macro":e&&e.length?e:"sheet"}function q1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,z1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function W1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Lg(Is(e,r,!0),t);var h=da(e,t),d;switch(o){case"sheet":d=Qve(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=Jve(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var g=cg(d["!drawel"].Target,t),m=wT(g),v=Xpe(Is(e,g,!0),Lg(Is(e,m,!0),g)),y=cg(v,g),w=wT(y);d=jve(Is(e,y,!0),y,l,Lg(Is(e,w,!0),y),c,d);break;case"macro":d=Zve(h,t,a,l,i[n],c,u,f);break;case"dialog":d=e1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var _=[];i&&i[n]&&Ul(i[n]).forEach(function(I){var P="";if(i[n][I].Type==x0.CMNT){P=cg(i[n][I].Target,t);var D=a1e(da(e,P,!0),P,l);if(!D||!D.length)return;FD(d,D,!1)}i[n][I].Type==x0.TCMNT&&(P=cg(i[n][I].Target,t),_=_.concat(Jpe(da(e,P,!0),l)))}),_&&_.length&&FD(d,_,!0,l.people||[])}catch(I){if(l.WTF)throw I}}function to(e){return e.charAt(0)=="/"?e.slice(1):e}function H1e(e,t){if(az(),t=t||{},sC(t),oo(e,"META-INF/manifest.xml")||oo(e,"objectdata.xml"))return XD(e,t);if(oo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof MS<"u"){if(e.FileIndex)return MS(e);var r=Fr.utils.cfb_new();return fD(e).forEach(function(K){Gfe(r,K,Hfe(e,K))}),MS(r)}throw new Error("Unsupported NUMBERS file")}if(!oo(e,"[Content_Types].xml"))throw oo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):oo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=fD(e),a=Uhe(Is(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",da(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!da(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Fg=[],a.sst)try{Fg=n1e(da(e,to(a.sst)),a.sst,t)}catch(K){if(t.WTF)throw K}t.cellStyles&&a.themes.length&&(l=r1e(Is(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=t1e(da(e,to(a.style)),a.style,l,t))}a.links.map(function(K){try{var J=Lg(Is(e,wT(to(K))),K);return s1e(da(e,to(K)),J,K,t)}catch{}});var u=Xve(da(e,to(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=da(e,to(a.coreprops[0]),!0),h&&(f=Dz(h)),a.extprops.length!==0&&(h=da(e,to(a.extprops[0]),!0),h&&Ghe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=Is(e,to(a.custprops[0]),!0),h&&(d=Yhe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(J){return J.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=d),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=i1e(da(e,to(a.calcchain)),a.calcchain));var v=0,y={},w,_;{var I=u.Sheets;f.Worksheets=I.length,f.SheetNames=[];for(var P=0;P!=I.length;++P)f.SheetNames[P]=I[P].name}var D=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),A=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");oo(e,A)||(A="xl/_rels/workbook."+D+".rels");var b=Lg(Is(e,A,!0),A.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=o1e(da(e,to(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Zpe(da(e,to(a.people[0])),t)),b&&(b=q1e(b,u.Sheets));var O=da(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var T="sheet";if(b&&b[v]?(w="xl/"+b[v][1].replace(/[\/]?xl\//,""),oo(e,w)||(w=b[v][1]),oo(e,w)||(w=A.replace(/_rels\/.*$/,"")+b[v][1]),T=b[v][2]):(w="xl/worksheets/sheet"+(v+1-O)+"."+D,w=w.replace(/sheet0\./,"sheet.")),_=w.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var N=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==v&&(N=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[v].toLowerCase()&&(N=1);if(!N)continue e}}W1e(e,w,_,f.SheetNames[v],v,y,s,T,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:Fg,Styles:c,Themes:l,SSF:ii(br)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(K,J){K=K.replace(/^Root Entry[\/]/,""),g.keys.push(K),g.files[K]=e.FileIndex[J]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=da(e,to(a.vba[0]),!0):a.defaults&&a.defaults.bin===nme&&(g.vbaraw=da(e,"xl/vbaProject.bin",!0))),g}function G1e(e,t){var r=t||{},n="Workbook",a=Fr.find(e,n);try{if(n="/!DataSpaces/Version",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if($0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=V0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=U0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);q0e(a.content)}catch{}if(n="/EncryptionInfo",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=W0e(a.content);if(n="/EncryptedPackage",a=Fr.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function oC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Us(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function K1e(e,t){return Fr.find(e,"EncryptedPackage")?G1e(e,t):vq(e,t)}function Y1e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Ir&&Buffer.isBuffer(e)?"buffer":"base64"),r=uz(n,a),H1e(r,a)}function wq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return AT(e.slice(r),t);default:break e}return Fv.to_workbook(e,t)}function X1e(e,t){var r="",n=oC(e,t);switch(t.type){case"base64":r=Us(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Qh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Sn(r)),t.type="binary",wq(r,t)}function Q1e(e,t){var r=e;return t.type=="base64"&&(r=Us(r)),r=$u.utils.decode(1200,r.slice(2),"str"),t.type="binary",wq(r,t)}function J1e(e){return e.match(/[^\x00-\x7F]/)?ug(e):e}function RS(e,t,r,n){return n?(r.type="string",Fv.to_workbook(e,r)):Fv.to_workbook(t,r)}function NT(e,t){HU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return NT(new Uint8Array(e),(r=ii(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),j0={},r.dateNF&&(j0.dateNF=r.dateNF),r.type||(r.type=Ir&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Ir?"buffer":"binary",n=$fe(e),typeof Uint8Array<"u"&&!Ir&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=J1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ii(r),r.type="array",NT($N(n),r)}switch((a=oC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return K1e(Fr.read(n,r),r);break;case 9:if(a[1]<=8)return vq(n,r);break;case 60:return AT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return E0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return A0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Y1e(n,r):RS(e,n,r,i);case 239:return a[3]===60?AT(n,r):RS(e,n,r,i);case 255:if(a[1]===254)return Q1e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Rg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Rg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return RD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return npe.to_workbook(n,r);break;case 10:case 13:case 32:return X1e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?RD.to_workbook(n,r):RS(e,n,r,i)}function Z1e(e,t,r,n,a,i,s,o){var l=si(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var g=s?e[r][d]:e[n[d]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[d]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&m===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:Fc(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function CT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Zn(u);break;case"number":l=Zn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=si(l.s.r),h=[],d=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,w=0,_={};v&&!e[y]&&(e[y]=[]);var I=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(w=l.s.c;w<=l.e.c;++w)if(!(I[w]||{}).hidden)switch(h[w]=Ea(w),r=v?e[y][w]:e[h[w]+f],n){case 1:i[w]=w-l.s.c;break;case 2:i[w]=h[w];break;case 3:i[w]=c.header[w-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Fc(r,null,c),m=_[s]||0,!m)_[s]=1;else{do o=s+"_"+m++;while(_[o]);_[s]=m,_[o]=1}i[w]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var D=Z1e(e,l,y,h,n,i,v,c);(D.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[g++]=D.row)}return d.length=g,d}var ej=/"/g;function eye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=si(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:Fc(d,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(ej,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(ej,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function _q(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Zn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Ea(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(d[v]||{}).hidden||(u=eye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function tye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=_q(e,t);return r}function rye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Zn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Ea(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=si(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Sq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?zi(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Zn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(m,v){Ul(m).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var w=m[y],_="z",I="",P=mr({c:o+d,r:s+v+a});c=Uv(i,P),w&&typeof w=="object"&&!(w instanceof Date)?i[P]=w:(typeof w=="number"?_="n":typeof w=="boolean"?_="b":typeof w=="string"?_="s":w instanceof Date?(_="d",n.cellDates||(_="n",w=Xi(w)),I=n.dateNF||br[14]):w===null&&n.nullError&&(_="e",w=0),c?(c.t=_,c.v=w,delete c.w,delete c.R,I&&(c.z=I)):i[P]=c={t:_,v:w},I&&(c.z=I))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=si(s);if(a)for(d=0;d<h.length;++d)i[Ea(d+o)+g]={t:"s",v:h[d]};return i["!ref"]=Br(u),i}function nye(e,t){return Sq(null,e,t)}function Uv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=zi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?Uv(e,mr(t)):Uv(e,mr({r:t,c:r||0}))}function aye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function lC(){return{SheetNames:[],Sheets:{}}}function cC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Uve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function iye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=aye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function sye(e,t){return e.z=t,e}function Aq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function oye(e,t,r){return Aq(e,"#"+t,r)}function lye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function cye(e,t,r,n){for(var a=typeof t!="string"?t:Zn(t),i=typeof t=="string"?t:Br(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=Uv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var uye={encode_col:Ea,encode_row:si,encode_cell:mr,encode_range:Br,decode_col:KN,decode_row:GN,split_cell:whe,decode_cell:zi,decode_range:Xp,format_cell:Fc,sheet_add_aoa:Nz,sheet_add_json:Sq,sheet_add_dom:yq,aoa_to_sheet:Qp,json_to_sheet:nye,table_to_sheet:xq,table_to_book:E1e,sheet_to_csv:_q,sheet_to_txt:tye,sheet_to_json:CT,sheet_to_html:T1e,sheet_to_formulae:rye,sheet_to_row_object_array:CT,sheet_get_cell:Uv,book_new:lC,book_append_sheet:cC,book_set_sheet_visibility:iye,cell_set_number_format:sye,cell_set_hyperlink:Aq,cell_set_internal_link:oye,cell_add_comment:lye,sheet_set_array_formula:cye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},Tq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Qm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(b){var O=P(b);O.chunkSize=parseInt(O.chunkSize),b.step||b.chunk||(O.chunkSize=null),this._handle=new m(O),(this._handle.streamer=this)._config=O}).call(this,A),this.parseChunk=function(b,O){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let j=this._config.newline;j||(N=this._config.quoteChar||'"',j=this._handle.guessLineEndings(b,N)),b=[...b.split(j).slice(T)].join(j)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(N=this._config.beforeFirstChunk(b))!==void 0&&(b=N),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+b,N=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(b=N.meta.cursor,T=(this._finished||(this._partialLine=T.substring(b-this._baseIndex),this._baseIndex=b),N&&N.data&&(this._rowCount+=N.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:N,workerId:c.WORKER_ID,finished:T});else if(E(this._config.chunk)&&!O){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=N=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!T||!E(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(b){E(this._config.error)?this._config.error(b):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:b,finished:!1})}}function f(A){var b;(A=A||{}).chunkSize||(A.chunkSize=c.RemoteChunkSize),u.call(this,A),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(b=new XMLHttpRequest,this._config.withCredentials&&(b.withCredentials=this._config.withCredentials),i||(b.onload=D(this._chunkLoaded,this),b.onerror=D(this._chunkError,this)),b.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var O,T=this._config.downloadRequestHeaders;for(O in T)b.setRequestHeader(O,T[O])}var N;this._config.chunkSize&&(N=this._start+this._config.chunkSize-1,b.setRequestHeader("Range","bytes="+this._start+"-"+N));try{b.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&b.status===0&&this._chunkError()}},this._chunkLoaded=function(){b.readyState===4&&(b.status<200||400<=b.status?this._chunkError():(this._start+=this._config.chunkSize||b.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(b),this.parseChunk(b.responseText)))},this._chunkError=function(O){O=b.statusText||O,this._sendError(new Error(O))}}function h(A){(A=A||{}).chunkSize||(A.chunkSize=c.LocalChunkSize),u.call(this,A);var b,O,T=typeof FileReader<"u";this.stream=function(N){this._input=N,O=N.slice||N.webkitSlice||N.mozSlice,T?((b=new FileReader).onload=D(this._chunkLoaded,this),b.onerror=D(this._chunkError,this)):b=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var N=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),N=O.call(N,this._start,j)),b.readAsText(N,this._config.encoding));T||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(N){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(N.target.result)},this._chunkError=function(){this._sendError(b.error)}}function d(A){var b;u.call(this,A=A||{}),this.stream=function(O){return b=O,this._nextChunk()},this._nextChunk=function(){var O,T;if(!this._finished)return O=this._config.chunkSize,b=O?(T=b.substring(0,O),b.substring(O)):(T=b,""),this._finished=!b,this.parseChunk(T)}}function g(A){u.call(this,A=A||{});var b=[],O=!0,T=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(N){this._input=N,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&b.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),b.length?this.parseChunk(b.shift()):O=!0},this._streamData=D(function(N){try{b.push(typeof N=="string"?N:N.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(b.shift()))}catch(j){this._streamError(j)}},this),this._streamError=D(function(N){this._streamCleanUp(),this._sendError(N)},this),this._streamEnd=D(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=D(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(A){var b,O,T,N,j=Math.pow(2,53),K=-j,J=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,X=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,Z=this,q=0,U=0,te=!1,z=!1,C=[],R={data:[],errors:[],meta:{}};function V(ce){return A.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function G(){if(R&&T&&(se("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),T=!1),A.skipEmptyLines&&(R.data=R.data.filter(function(be){return!V(be)})),Y()){let be=function(B,Te){E(A.transformHeader)&&(B=A.transformHeader(B,Te)),C.push(B)};if(R)if(Array.isArray(R.data[0])){for(var ce=0;Y()&&ce<R.data.length;ce++)R.data[ce].forEach(be);R.data.splice(0,1)}else R.data.forEach(be)}function re(be,B){for(var Te=A.header?{}:[],_e=0;_e<be.length;_e++){var ge=_e,ee=be[_e],ee=((Ae,Oe)=>(Me=>(A.dynamicTypingFunction&&A.dynamicTyping[Me]===void 0&&(A.dynamicTyping[Me]=A.dynamicTypingFunction(Me)),(A.dynamicTyping[Me]||A.dynamicTyping)===!0))(Ae)?Oe==="true"||Oe==="TRUE"||Oe!=="false"&&Oe!=="FALSE"&&((Me=>{if(J.test(Me)&&(Me=parseFloat(Me),K<Me&&Me<j))return 1})(Oe)?parseFloat(Oe):X.test(Oe)?new Date(Oe):Oe===""?null:Oe):Oe)(ge=A.header?_e>=C.length?"__parsed_extra":C[_e]:ge,ee=A.transform?A.transform(ee,ge):ee);ge==="__parsed_extra"?(Te[ge]=Te[ge]||[],Te[ge].push(ee)):Te[ge]=ee}return A.header&&(_e>C.length?se("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+_e,U+B):_e<C.length&&se("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+_e,U+B)),Te}var he;R&&(A.header||A.dynamicTyping||A.transform)&&(he=1,!R.data.length||Array.isArray(R.data[0])?(R.data=R.data.map(re),he=R.data.length):R.data=re(R.data,0),A.header&&R.meta&&(R.meta.fields=C),U+=he)}function Y(){return A.header&&C.length===0}function se(ce,re,he,be){ce={type:ce,code:re,message:he},be!==void 0&&(ce.row=be),R.errors.push(ce)}E(A.step)&&(N=A.step,A.step=function(ce){R=ce,Y()?G():(G(),R.data.length!==0&&(q+=ce.data.length,A.preview&&q>A.preview?O.abort():(R.data=R.data[0],N(R,Z))))}),this.parse=function(ce,re,he){var be=A.quoteChar||'"',be=(A.newline||(A.newline=this.guessLineEndings(ce,be)),T=!1,A.delimiter?E(A.delimiter)&&(A.delimiter=A.delimiter(ce),R.meta.delimiter=A.delimiter):((be=((B,Te,_e,ge,ee)=>{var Ae,Oe,Me,Ke;ee=ee||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var $e=0;$e<ee.length;$e++){for(var Xe,Fe=ee[$e],Qe=0,ct=0,rt=0,gt=(Me=void 0,new y({comments:ge,delimiter:Fe,newline:Te,preview:10}).parse(B)),yt=0;yt<gt.data.length;yt++)_e&&V(gt.data[yt])?rt++:(Xe=gt.data[yt].length,ct+=Xe,Me===void 0?Me=Xe:0<Xe&&(Qe+=Math.abs(Xe-Me),Me=Xe));0<gt.data.length&&(ct/=gt.data.length-rt),(Oe===void 0||Qe<=Oe)&&(Ke===void 0||Ke<ct)&&1.99<ct&&(Oe=Qe,Ae=Fe,Ke=ct)}return{successful:!!(A.delimiter=Ae),bestDelimiter:Ae}})(ce,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=be.bestDelimiter:(T=!0,A.delimiter=c.DefaultDelimiter),R.meta.delimiter=A.delimiter),P(A));return A.preview&&A.header&&be.preview++,b=ce,O=new y(be),R=O.parse(b,re,he),G(),te?{meta:{paused:!0}}:R||{meta:{paused:!1}}},this.paused=function(){return te},this.pause=function(){te=!0,O.abort(),b=E(A.chunk)?"":b.substring(O.getCharIndex())},this.resume=function(){Z.streamer._halted?(te=!1,Z.streamer.parseChunk(b,!0)):setTimeout(Z.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,O.abort(),R.meta.aborted=!0,E(A.complete)&&A.complete(R),b=""},this.guessLineEndings=function(B,be){B=B.substring(0,1048576);var be=new RegExp(v(be)+"([^]*?)"+v(be),"gm"),he=(B=B.replace(be,"")).split("\r"),be=B.split(`
`),B=1<be.length&&be[0].length<he[0].length;if(he.length===1||B)return`
`;for(var Te=0,_e=0;_e<he.length;_e++)he[_e][0]===`
`&&Te++;return Te>=he.length/2?`\r
`:"\r"}}function v(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(A){var b=(A=A||{}).delimiter,O=A.newline,T=A.comments,N=A.step,j=A.preview,K=A.fastMode,J=null,X=!1,Z=A.quoteChar==null?'"':A.quoteChar,q=Z;if(A.escapeChar!==void 0&&(q=A.escapeChar),(typeof b!="string"||-1<c.BAD_DELIMITERS.indexOf(b))&&(b=","),T===b)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var U=0,te=!1;this.parse=function(z,C,R){if(typeof z!="string")throw new Error("Input must be a string");var V=z.length,G=b.length,Y=O.length,se=T.length,ce=E(N),re=[],he=[],be=[],B=U=0;if(!z)return Qe();if(K||K!==!1&&z.indexOf(Z)===-1){for(var Te=z.split(O),_e=0;_e<Te.length;_e++){if(be=Te[_e],U+=be.length,_e!==Te.length-1)U+=O.length;else if(R)return Qe();if(!T||be.substring(0,se)!==T){if(ce){if(re=[],Ke(be.split(b)),ct(),te)return Qe()}else Ke(be.split(b));if(j&&j<=_e)return re=re.slice(0,j),Qe(!0)}}return Qe()}for(var ge=z.indexOf(b,U),ee=z.indexOf(O,U),Ae=new RegExp(v(q)+v(Z),"g"),Oe=z.indexOf(Z,U);;)if(z[U]===Z)for(Oe=U,U++;;){if((Oe=z.indexOf(Z,Oe+1))===-1)return R||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:re.length,index:U}),Xe();if(Oe===V-1)return Xe(z.substring(U,Oe).replace(Ae,Z));if(Z===q&&z[Oe+1]===q)Oe++;else if(Z===q||Oe===0||z[Oe-1]!==q){ge!==-1&&ge<Oe+1&&(ge=z.indexOf(b,Oe+1));var Me=$e((ee=ee!==-1&&ee<Oe+1?z.indexOf(O,Oe+1):ee)===-1?ge:Math.min(ge,ee));if(z.substr(Oe+1+Me,G)===b){be.push(z.substring(U,Oe).replace(Ae,Z)),z[U=Oe+1+Me+G]!==Z&&(Oe=z.indexOf(Z,U)),ge=z.indexOf(b,U),ee=z.indexOf(O,U);break}if(Me=$e(ee),z.substring(Oe+1+Me,Oe+1+Me+Y)===O){if(be.push(z.substring(U,Oe).replace(Ae,Z)),Fe(Oe+1+Me+Y),ge=z.indexOf(b,U),Oe=z.indexOf(Z,U),ce&&(ct(),te))return Qe();if(j&&re.length>=j)return Qe(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:re.length,index:U}),Oe++}}else if(T&&be.length===0&&z.substring(U,U+se)===T){if(ee===-1)return Qe();U=ee+Y,ee=z.indexOf(O,U),ge=z.indexOf(b,U)}else if(ge!==-1&&(ge<ee||ee===-1))be.push(z.substring(U,ge)),U=ge+G,ge=z.indexOf(b,U);else{if(ee===-1)break;if(be.push(z.substring(U,ee)),Fe(ee+Y),ce&&(ct(),te))return Qe();if(j&&re.length>=j)return Qe(!0)}return Xe();function Ke(rt){re.push(rt),B=U}function $e(rt){var gt=0;return gt=rt!==-1&&(rt=z.substring(Oe+1,rt))&&rt.trim()===""?rt.length:gt}function Xe(rt){return R||(rt===void 0&&(rt=z.substring(U)),be.push(rt),U=V,Ke(be),ce&&ct()),Qe()}function Fe(rt){U=rt,Ke(be),be=[],ee=z.indexOf(O,U)}function Qe(rt){if(A.header&&!C&&re.length&&!X){var gt=re[0],yt=Object.create(null),At=new Set(gt);let xt=!1;for(let nt=0;nt<gt.length;nt++){let qt=gt[nt];if(yt[qt=E(A.transformHeader)?A.transformHeader(qt,nt):qt]){let $t,Hr=yt[qt];for(;$t=qt+"_"+Hr,Hr++,At.has($t););At.add($t),gt[nt]=$t,yt[qt]++,xt=!0,(J=J===null?{}:J)[$t]=qt}else yt[qt]=1,gt[nt]=qt;At.add(qt)}xt&&console.warn("Duplicate headers found and renamed."),X=!0}return{data:re,errors:he,meta:{delimiter:b,linebreak:O,aborted:te,truncated:!!rt,cursor:B+(C||0),renamedHeaders:J}}}function ct(){N(Qe()),re=[],he=[]}},this.abort=function(){te=!0},this.getCharIndex=function(){return U}}function w(A){var b=A.data,O=o[b.workerId],T=!1;if(b.error)O.userError(b.error,b.file);else if(b.results&&b.results.data){var N={abort:function(){T=!0,_(b.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(E(O.userStep)){for(var j=0;j<b.results.data.length&&(O.userStep({data:b.results.data[j],errors:b.results.errors,meta:b.results.meta},N),!T);j++);delete b.results}else E(O.userChunk)&&(O.userChunk(b.results,N,b.file),delete b.results)}b.finished&&!T&&_(b.workerId,b.results)}function _(A,b){var O=o[A];E(O.userComplete)&&O.userComplete(b),O.terminate(),delete o[A]}function I(){throw new Error("Not implemented.")}function P(A){if(typeof A!="object"||A===null)return A;var b,O=Array.isArray(A)?[]:{};for(b in A)O[b]=P(A[b]);return O}function D(A,b){return function(){A.apply(b,arguments)}}function E(A){return typeof A=="function"}return c.parse=function(A,b){var O=(b=b||{}).dynamicTyping||!1;if(E(O)&&(b.dynamicTypingFunction=O,O={}),b.dynamicTyping=O,b.transform=!!E(b.transform)&&b.transform,!b.worker||!c.WORKERS_SUPPORTED)return O=null,c.NODE_STREAM_INPUT,typeof A=="string"?(A=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(A),O=new(b.download?f:d)(b)):A.readable===!0&&E(A.read)&&E(A.on)?O=new g(b):(n.File&&A instanceof File||A instanceof Object)&&(O=new h(b)),O.stream(A);(O=(()=>{var T;return!!c.WORKERS_SUPPORTED&&(T=(()=>{var N=n.URL||n.webkitURL||null,j=r.toString();return c.BLOB_URL||(c.BLOB_URL=N.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(T=new n.Worker(T)).onmessage=w,T.id=l++,o[T.id]=T)})()).userStep=b.step,O.userChunk=b.chunk,O.userComplete=b.complete,O.userError=b.error,b.step=E(b.step),b.chunk=E(b.chunk),b.complete=E(b.complete),b.error=E(b.error),delete b.worker,O.postMessage({input:A,config:b,workerId:O.id})},c.unparse=function(A,b){var O=!1,T=!0,N=",",j=`\r
`,K='"',J=K+K,X=!1,Z=null,q=!1,U=((()=>{if(typeof b=="object"){if(typeof b.delimiter!="string"||c.BAD_DELIMITERS.filter(function(C){return b.delimiter.indexOf(C)!==-1}).length||(N=b.delimiter),typeof b.quotes!="boolean"&&typeof b.quotes!="function"&&!Array.isArray(b.quotes)||(O=b.quotes),typeof b.skipEmptyLines!="boolean"&&typeof b.skipEmptyLines!="string"||(X=b.skipEmptyLines),typeof b.newline=="string"&&(j=b.newline),typeof b.quoteChar=="string"&&(K=b.quoteChar),typeof b.header=="boolean"&&(T=b.header),Array.isArray(b.columns)){if(b.columns.length===0)throw new Error("Option columns is empty");Z=b.columns}b.escapeChar!==void 0&&(J=b.escapeChar+K),b.escapeFormulae instanceof RegExp?q=b.escapeFormulae:typeof b.escapeFormulae=="boolean"&&b.escapeFormulae&&(q=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(K),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return te(null,A,X);if(typeof A[0]=="object")return te(Z||Object.keys(A[0]),A,X)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||Z),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),te(A.fields||[],A.data||[],X);throw new Error("Unable to serialize unrecognized input");function te(C,R,V){var G="",Y=(typeof C=="string"&&(C=JSON.parse(C)),typeof R=="string"&&(R=JSON.parse(R)),Array.isArray(C)&&0<C.length),se=!Array.isArray(R[0]);if(Y&&T){for(var ce=0;ce<C.length;ce++)0<ce&&(G+=N),G+=z(C[ce],ce);0<R.length&&(G+=j)}for(var re=0;re<R.length;re++){var he=(Y?C:R[re]).length,be=!1,B=Y?Object.keys(R[re]).length===0:R[re].length===0;if(V&&!Y&&(be=V==="greedy"?R[re].join("").trim()==="":R[re].length===1&&R[re][0].length===0),V==="greedy"&&Y){for(var Te=[],_e=0;_e<he;_e++){var ge=se?C[_e]:_e;Te.push(R[re][ge])}be=Te.join("").trim()===""}if(!be){for(var ee=0;ee<he;ee++){0<ee&&!B&&(G+=N);var Ae=Y&&se?C[ee]:ee;G+=z(R[re][Ae],ee)}re<R.length-1&&(!V||0<he&&!B)&&(G+=j)}}return G}function z(C,R){var V,G;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(G=!1,q&&typeof C=="string"&&q.test(C)&&(C="'"+C,G=!0),V=C.toString().replace(U,J),(G=G||O===!0||typeof O=="function"&&O(C,R)||Array.isArray(O)&&O[R]||((Y,se)=>{for(var ce=0;ce<se.length;ce++)if(-1<Y.indexOf(se[ce]))return!0;return!1})(V,c.BAD_DELIMITERS)||-1<V.indexOf(N)||V.charAt(0)===" "||V.charAt(V.length-1)===" ")?K+V+K:V)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(A){var b=A.config||{},O=[];return this.each(function(j){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var K=0;K<this.files.length;K++)O.push({file:this.files[K],inputElem:this,instanceConfig:a.extend({},b)})}),T(),this;function T(){if(O.length===0)E(A.complete)&&A.complete();else{var j,K,J,X,Z=O[0];if(E(A.before)){var q=A.before(Z.file,Z.inputElem);if(typeof q=="object"){if(q.action==="abort")return j="AbortError",K=Z.file,J=Z.inputElem,X=q.reason,void(E(A.error)&&A.error({name:j},K,J,X));if(q.action==="skip")return void N();typeof q.config=="object"&&(Z.instanceConfig=a.extend(Z.instanceConfig,q.config))}else if(q==="skip")return void N()}var U=Z.instanceConfig.complete;Z.instanceConfig.complete=function(te){E(U)&&U(te,Z.file,Z.inputElem),N()},c.parse(Z.file,Z.instanceConfig)}}function N(){O.splice(0,1),T()}}),s&&(n.onmessage=function(A){A=A.data,c.WORKER_ID===void 0&&A&&(c.WORKER_ID=A.workerId),typeof A.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(A.input,A.config),finished:!0}):(n.File&&A.input instanceof File||A.input instanceof Object)&&(A=c.parse(A.input,A.config))&&n.postMessage({workerId:c.WORKER_ID,results:A,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(Tq);var fye=Tq.exports;const hye=dn(fye),Eq=()=>{const{user:e}=xa(),{isDarkMode:t}=Xr(),[r,n]=H.useState(!1),[a,i]=H.useState([]),[s,o]=H.useState(!1),[l,c]=H.useState({name:"",unit:"",barcode:""}),[u,f]=H.useState(null),[h,d]=H.useState(null),[g,m]=H.useState(!1),[v,y]=H.useState(!1),[w,_]=H.useState(null),[I,P]=H.useState(null),[D,E]=H.useState(!1),[A,b]=H.useState(""),[O,T]=H.useState(null),[N,j]=H.useState(null),K=Ie.useRef(null),[J,X]=H.useState(null);H.useEffect(()=>{Z(),q()},[]);const Z=async Y=>{o(!0);try{let se;if(Y&&Y.trim()!==""){const ce=sr(Et(at,"scannedProducts"),lr("name",">=",Y),lr("name","<=",Y+""),$a("name"),e2(100)),re=sr(Et(at,"scannedProducts"),lr("barcode",">=",Y),lr("barcode","<=",Y+""),$a("barcode"),e2(100)),[he,be]=await Promise.all([ur(ce),ur(re)]),B=[...he.docs,...be.docs].reduce((Te,_e)=>(Te.some(ge=>ge.id===_e.id)||Te.push(_e),Te),[]);i(B.map(Te=>{const _e=Te.data();return{id:Te.id,name:_e.name,unit:_e.unit,barcode:_e.barcode,createdAt:_e.createdAt instanceof Xt?_e.createdAt.toDate():new Date(_e.createdAt)}}))}else{se=sr(Et(at,"scannedProducts"),$a("createdAt","desc"),e2(100));const re=(await ur(se)).docs.map(he=>{const be=he.data();return{id:he.id,name:be.name,unit:be.unit,barcode:be.barcode,createdAt:be.createdAt instanceof Xt?be.createdAt.toDate():new Date(be.createdAt)}});i(re)}}catch{f("Failed to fetch products")}finally{o(!1)}},q=async()=>{try{const Y=Et(at,"scannedProducts"),se=await eN(Y);X(se.data().count)}catch{X(null)}},U=Y=>{Y?(c({name:Y.name||"",unit:Y.unit||"",barcode:Y.barcode||""}),d(Y)):(c({name:"",unit:"",barcode:""}),d(null)),n(!0),f(null)},te=()=>{n(!1),f(null)},z=Y=>{c({...l,[Y.target.name]:Y.target.value})},C=async Y=>{c(se=>({...se,barcode:Y})),m(!1),_(null),y(!0);try{const ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Y}`,he=await(await fetch(ce)).json();if(he&&he.items&&he.items.length>0){const be=he.items[0];c(B=>({...B,name:be.title||B.name}))}else _("No product info found for this barcode.")}catch{_("Failed to fetch product info.")}finally{y(!1)}},R=async Y=>{if(Y.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("All fields are required");return}o(!0);try{const se=l.name.toUpperCase();if(h){const ce=en(at,"scannedProducts",h.id);if(await Fa(ce,{name:se,unit:l.unit,barcode:l.barcode}),e&&h){const re=[];h.name!==se&&re.push(`name from "${h.name}" to "${se}"`),h.unit!==l.unit&&re.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&re.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),re.length>0&&await Or(Et(at,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${se}": ${re.join(", ")}`,time:new Date().toISOString()})}}else await Or(Et(at,"scannedProducts"),{name:se,unit:l.unit,barcode:l.barcode,createdAt:Xt.fromDate(new Date)}),e&&await Or(Et(at,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${se}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),Z()}catch{f("Failed to save product")}finally{o(!1)}},V=async()=>{if(I){E(!0);try{const Y=a.find(se=>se.id===I);await op(en(at,"scannedProducts",I)),e&&Y&&await Or(Et(at,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${Y.name}" with barcode ${Y.barcode}`,time:new Date().toISOString()}),P(null),Z()}catch{}finally{E(!1)}}},G=async Y=>{var re;const se=(re=Y.target.files)==null?void 0:re[0];if(!se)return;let ce=[];try{if(se.name.endsWith(".csv")){const he=await se.text(),B=hye.parse(he,{header:!0}).data;ce=B.map(_e=>{var ge,ee,Ae;return{name:((ge=_e.Description)==null?void 0:ge.toString().trim())||"",unit:((ee=_e.Unit)==null?void 0:ee.toString().trim())||"",barcode:((Ae=_e.EAN)==null?void 0:Ae.toString().trim())||""}}).filter(_e=>_e.name||_e.unit||_e.barcode);const Te=B.length-ce.length;Te>0&&(console.log(`${Te} rows skipped (all columns empty).`),j({type:"error",message:`${Te} rows skipped (all columns empty).`}))}else if(se.name.endsWith(".xlsx")){const he=await se.arrayBuffer(),be=NT(he,{type:"array"}),B=be.Sheets[be.SheetNames[0]],Te=uye.sheet_to_json(B);ce=Te.map(ge=>{var ee,Ae,Oe;return{name:((ee=ge.Description)==null?void 0:ee.toString().trim())||"",unit:((Ae=ge.Unit)==null?void 0:Ae.toString().trim())||"",barcode:((Oe=ge.EAN)==null?void 0:Oe.toString().trim())||""}}).filter(ge=>ge.name||ge.unit||ge.barcode);const _e=Te.length-ce.length;_e>0&&(console.log(`${_e} rows skipped (all columns empty).`),j({type:"error",message:`${_e} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),j({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ce.length===0){console.log("No valid products found in file."),j({type:"error",message:"No valid products found in file."});return}for(const he of ce)await Or(Et(at,"scannedProducts"),{name:he.name.toUpperCase(),unit:he.unit,barcode:he.barcode,createdAt:Xt.fromDate(new Date)});e&&await Or(Et(at,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ce.length} products from file "${se.name}"`,time:new Date().toISOString()}),j({type:"success",message:`Uploaded ${ce.length} products successfully!`}),console.log(`Uploaded ${ce.length} products successfully!`),Z()}catch{console.log("Failed to upload products."),j({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?p.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):p.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",J!==null?J:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),p.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[p.jsx(dt,{variant:"secondary",onClick:()=>Z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:p.jsx(Ls,{size:18,className:s?"animate-spin":""})}),p.jsx(dt,{icon:p.jsx(SZ,{size:18}),onClick:()=>{var Y;return(Y=K.current)==null?void 0:Y.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),p.jsx("input",{type:"file",accept:".csv,.xlsx",ref:K,onChange:G,style:{display:"none"}}),p.jsx(dt,{icon:p.jsx(Hi,{size:18}),onClick:()=>U(),className:"w-full md:w-auto",children:"Add Product"})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(wt,{type:"text",placeholder:"Search by name or barcode",value:A,onChange:Y=>{const se=Y.target.value;b(se),Z(se.toUpperCase())},className:"pl-10",fullWidth:!0}),p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:p.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[p.jsx("circle",{cx:"7",cy:"7",r:"6"}),p.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),p.jsx(Mn,{isOpen:r,onClose:te,title:h?"Edit Product":"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsx(wt,{label:"Product Name",name:"name",value:l.name,onChange:z,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(wt,{label:"Unit",name:"unit",value:l.unit,onChange:z,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(wt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:z,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){_(null),y(!0);try{await C(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?p.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),u&&p.jsx("div",{className:"text-red-500 text-sm",children:u}),w&&p.jsxs("div",{className:"text-red-500 text-sm",children:[w," Please enter details manually."]}),v&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),p.jsx(dt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),p.jsx(ld,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:C}),p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:p.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[p.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?p.jsx("tr",{children:p.jsx("td",{colSpan:5,style:{border:0,padding:0},children:p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:5,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((Y,se)=>p.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:se*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>T(Y),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:Y.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Y.unit}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Y.barcode}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Wt(Y.createdAt,"MMM d, yyyy, h:mm a")}),p.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[p.jsx("button",{onClick:ce=>{ce.stopPropagation(),U(Y)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:ce=>{ce.stopPropagation(),P(Y.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:D&&I===Y.id,children:p.jsx($s,{size:16})})]})]},Y.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):a.length===0?p.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(Y=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>T(Y),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Y.name}),p.jsx("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:Y.unit})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(dt,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),U(Y)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(dt,{variant:"ghost",size:"sm",onClick:se=>{se.stopPropagation(),P(Y.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:D&&I===Y.id,children:p.jsx($s,{size:16})})]})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Y.barcode})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Wt(Y.createdAt,"MMM d, yyyy, h:mm a")})]})]},Y.id))}),p.jsx(Mn,{isOpen:!!I,onClose:()=>P(null),title:"Delete Product",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{children:"Are you sure you want to delete this product?"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(dt,{variant:"secondary",onClick:()=>P(null),disabled:D,children:"Cancel"}),p.jsxs(dt,{variant:"danger",onClick:V,isLoading:D,className:"flex items-center justify-center",children:[D&&p.jsx(cs,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),p.jsx(Mn,{isOpen:!!O,onClose:()=>T(null),title:O?O.name:"Product Details",size:"xl",children:O&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:O.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:O.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Wt(O.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),N&&p.jsx(LU,{type:N.type,message:N.message,onClose:()=>j(null)})]})]})},dye=()=>{const{user:e}=xa();if(!e)return null;switch(e.role){case"admin":return p.jsx(lfe,{});case"staff":return p.jsx(Eq,{});default:return null}},$r=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=Xr();return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>p.jsx("option",{value:o.value,children:o.label},o.value))}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},pye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=xa(),[a,i]=H.useState({name:"",unit:"",barcode:""}),[s,o]=H.useState(null),[l,c]=H.useState(!1),[u,f]=H.useState(!1),[h,d]=H.useState(!1),[g,m]=H.useState(null),v=I=>{i({...a,[I.target.name]:I.target.value})},y=async I=>{i(P=>({...P,barcode:I})),f(!1),m(null),d(!0);try{const D=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${I}`,A=await(await fetch(D)).json();if(A&&A.items&&A.items.length>0){const b=A.items[0];i(O=>({...O,name:b.title||O.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{d(!1)}},w=async I=>{if(I.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await Or(Et(at,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:Xt.fromDate(new Date)}),n&&await Or(Et(at,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},_=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return p.jsxs(p.Fragment,{children:[p.jsx(Mn,{isOpen:e,onClose:_,title:"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:w,className:"space-y-4",children:[p.jsx(wt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(wt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(wt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),d(!0);try{await y(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?p.jsx(cs,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),s&&p.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&p.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(cs,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),p.jsx(dt,{type:"submit",isLoading:l,children:"Add"})]})]})}),p.jsx(ld,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},mye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=Xr();return p.jsx(Mn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(dv,{size:24}),p.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(dt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),p.jsx(dt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},hf=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},gye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],vye=e=>hf(e),FS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],yye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=xa(),[a,i]=H.useState({name:"",price:"",unit:"",supplier:FS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:"supply & serve"}),[s,o]=H.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=H.useState({}),[u,f]=H.useState(!1),[h,d]=H.useState(!1),[g,m]=H.useState(""),{isDarkMode:v}=Xr(),[y,w]=H.useState(null),[_,I]=H.useState(!1),[P,D]=H.useState(null),[E,A]=H.useState(!1),[b,O]=H.useState(""),[T,N]=H.useState(!1),[j,K]=H.useState(null),[J,X]=H.useState(null),[Z,q]=H.useState(!1),[U,te]=H.useState(""),[z,C]=H.useState(!1),R=H.useRef(null);H.useEffect(()=>{a.storeName==="supply & serve"&&a.fulfillmentType!=="mf"&&i(ee=>({...ee,fulfillmentType:"mf"}))},[a.storeName,a.fulfillmentType]);const V=ee=>{const{name:Ae,value:Oe}=ee.target;i(Me=>({...Me,[Ae]:Oe})),Ae==="supplier"&&(A(Oe==="other"),Oe!=="other"&&O("")),l[Ae]&&c(Me=>{const Ke={...Me};return delete Ke[Ae],Ke}),Ae==="barcode"&&Oe.length===13&&!_?(R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Oe.length===13&&re(Oe)},500)):Ae==="barcode"&&Oe.length!==13&&R.current&&(clearTimeout(R.current),R.current=null)},G=(ee,Ae,Oe)=>{o(Me=>{const Ke=[...Me];if(Ke[ee]={...Ke[ee],[Ae]:Oe},Ae==="locationCode"&&(Ke[ee].shelfNumber="0"),Ae==="shelfNumber"){const $e=Ke[ee].locationCode,Xe=hf($e).length-1;parseInt(Oe)>Xe&&(Ke[ee].shelfNumber="0")}return Ke})},Y=()=>{o(ee=>[...ee,{locationCode:"A1",shelfNumber:"0",quantity:""}])},se=ee=>{o(Ae=>Ae.filter((Oe,Me)=>Me!==ee))},ce=async ee=>{i(Oe=>({...Oe,barcode:ee})),w(null),D(null),I(!0);let Ae=!1;try{const Oe=sr(Et(at,"scannedProducts"),lr("barcode","==",ee)),Me=await ur(Oe);if(Me.empty){const $e=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${ee}`,Fe=await(await fetch($e)).json();if(Fe&&Fe.items&&Fe.items.length>0){const Qe=Fe.items[0];i(ct=>({...ct,name:Qe.title||ct.name})),w("Product name auto-filled from external database."),Ae=!0}else w("No product found for this barcode. Please enter details manually.")}else{const Ke=Me.docs[0].data();i($e=>({...$e,name:Ke.name||$e.name,unit:Ke.unit||$e.unit})),w("Product name and unit auto-filled from scanned products."),Ae=!0}}catch{D("Failed to fetch product info."),w("Failed to search for product. Please enter details manually.")}finally{I(!1),!Ae&&ee.length===13&&setTimeout(()=>{re(ee)},100)}},re=async ee=>{const Ae=ee||a.barcode;if(!(!Ae||_)){D(null),I(!0);try{const Oe=sr(Et(at,"scannedProducts"),lr("barcode","==",Ae)),Me=await ur(Oe);if(!Me.empty){const Qe=Me.docs[0].data();i(ct=>({...ct,name:Qe.name||ct.name,unit:Qe.unit||ct.unit})),w("Product name and unit auto-filled from scanned products."),I(!1);return}const $e=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ae}`,Fe=await(await fetch($e)).json();if(Fe&&Fe.items&&Fe.items.length>0){const Qe=Fe.items[0];i(ct=>({...ct,name:Qe.title||ct.name})),w("Product name auto-filled from UPC database.")}else D("No product info found for this barcode.")}catch{D("Failed to fetch product info.")}finally{I(!1)}}},he=()=>{const ee={};return a.name.trim()||(ee.name="Product name is required"),s.forEach((Ae,Oe)=>{Ae.quantity?(isNaN(Number(Ae.quantity))||Number(Ae.quantity)<0)&&(ee[`location_${Oe}_quantity`]="Quantity must be a positive number"):ee[`location_${Oe}_quantity`]="Quantity is required"}),c(ee),Object.keys(ee).length===0},be=async ee=>{if(ee.preventDefault(),he()){const Ae=a.supplier||FS[0].value,Oe=a.storeName||"supply & serve",Me=s.map($e=>({name:a.name,quantity:parseInt($e.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:Ae==="other"?b:Ae,locationCode:$e.locationCode,shelfNumber:$e.shelfNumber,asin:a.asin||null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Oe==="other"?g:Oe})),Ke=Me.find($e=>r.some(Xe=>Xe.name.trim().toLowerCase()===$e.name.trim().toLowerCase()&&(Xe.barcode||"")===($e.barcode||"")&&Xe.locationCode===$e.locationCode&&Xe.shelfNumber===$e.shelfNumber));if(Ke){X({name:Ke.name,location:`${Ke.locationCode}-${Ke.shelfNumber}`}),K(Me),N(!0);return}try{await e(Me)}catch($e){console.error("Error adding stock:",$e)}}},B=async()=>{if(j){try{await e(j)}catch(ee){console.error("Error adding stock:",ee)}N(!1),K(null),X(null)}},Te=()=>{N(!1),K(null),X(null)},_e=()=>{C(!0)},ge=()=>{te("Product has been successfully added to the database!"),q(!0)};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:be,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Product Name",name:"name",value:a.name,onChange:V,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx("div",{children:p.jsx($r,{label:"Supplier",name:"supplier",value:a.supplier,onChange:V,options:FS,required:!0,fullWidth:!0})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&p.jsx(wt,{label:"Price",name:"price",type:"number",value:a.price,onChange:V,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!E&&p.jsx(wt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:V,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),E&&p.jsx(wt,{label:"Other Supplier",value:b,onChange:ee=>O(ee.target.value),placeholder:"Enter supplier name",required:E,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E&&p.jsx(wt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:V,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),p.jsx(dt,{type:"button",onClick:Y,variant:"primary",icon:p.jsx(Hi,{size:18}),children:"Add Location"})]}),s.map((ee,Ae)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[p.jsx($r,{label:"Location Code",value:ee.locationCode,onChange:Oe=>G(Ae,"locationCode",Oe.target.value),options:gye,required:!0,fullWidth:!0}),p.jsx($r,{label:"Shelf Number",value:ee.shelfNumber,onChange:Oe=>G(Ae,"shelfNumber",Oe.target.value),options:vye(ee.locationCode),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Quantity",type:"number",value:ee.quantity,onChange:Oe=>G(Ae,"quantity",Oe.target.value),error:l[`location_${Ae}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&p.jsx(dt,{type:"button",onClick:()=>se(Ae),variant:"danger",icon:p.jsx($s,{size:18}),children:"Remove"})]},Ae))]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx($r,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:V,options:a.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?p.jsx($r,{label:"Status",name:"status",value:a.status,onChange:V,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(wt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(wt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:V,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:()=>re(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:_,children:_?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(wt,{label:"ASIN (seperated by commas, if multiple)",name:"asin",value:a.asin,onChange:V,placeholder:"Enter Amazon ASIN",fullWidth:!0}),P&&p.jsxs("div",{className:"text-red-500 text-sm",children:[P," Please enter details manually."]}),y&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx("div",{children:p.jsx($r,{label:"Store Name",value:a.storeName,onChange:ee=>{const Ae=ee.target.value;i(Oe=>({...Oe,storeName:Ae,fulfillmentType:Ae==="supply & serve"?"mf":Oe.fulfillmentType})),d(Ae==="other"),Ae!=="other"&&m("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(wt,{type:"text",value:g,onChange:ee=>m(ee.target.value),placeholder:"Enter store name",required:h})]})}),p.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(dt,{type:"button",onClick:_e,variant:"primary",icon:p.jsx(Hi,{size:18}),children:"Add New Product"}),p.jsx(dt,{type:"submit",isLoading:t,variant:"success",icon:p.jsx(Hi,{size:18}),children:"Confirm"})]})})]}),p.jsx(ld,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:ce}),p.jsx(pye,{isOpen:z,onClose:()=>C(!1),onSuccess:ge}),p.jsx(mye,{isOpen:T,onClose:Te,onConfirm:B,title:"Duplicate Stock Detected",message:J?`A product with the same name and barcode already exists at location ${J.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),p.jsx(Mn,{isOpen:Z,onClose:()=>q(!1),title:"Success!",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[p.jsx(oZ,{size:24}),p.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:U})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx(dt,{variant:"primary",onClick:()=>q(!1),children:"OK"})})]})})]})},xye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],bye=e=>hf(e),wye=["supply & serve","APHY","AZTEC","ZK"],tj=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],_ye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=Xr(),{user:i}=xa(),[s,o]=H.useState(null),l=e.storeName,c=l&&!wye.includes(l),u=tj.some(j=>j.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,g]=H.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=H.useState(c),[y,w]=H.useState(c?l:""),[_,I]=H.useState(f==="other"),[P,D]=H.useState(h),[E,A]=H.useState(!1);H.useEffect(()=>{d.storeName==="supply & serve"&&d.fulfillmentType!=="mf"&&g(j=>({...j,fulfillmentType:"mf"}))},[d.storeName,d.fulfillmentType]);const b=j=>{const{name:K,value:J}=j.target;if(K==="damagedItems"){const X=Number(J),Z=Number(d.quantity);if(X<0){o("Damaged items cannot be negative");return}o(null),g(q=>({...q,damagedItems:J,quantity:(Z-(X-Number(q.damagedItems))).toString()}));return}K==="supplier"&&(I(J==="other"),J!=="other"&&D("")),g(X=>({...X,[K]:J}))},O=j=>{g(K=>({...K,barcode:j})),A(!1)},T=async j=>{if(j.preventDefault(),N())try{const K={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?P:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?y:d.storeName,barcode:d.barcode||null};await t(K,e)}catch(K){console.error("Error updating stock:",K),o("Failed to update stock. Please try again.")}},N=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Product Name",name:"name",value:d.name,onChange:b,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?p.jsx($r,{label:"Status",name:"status",value:d.status,onChange:b,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(wt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:b,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&p.jsx(wt,{label:"Price",name:"price",type:"number",value:d.price,onChange:b,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),p.jsx(wt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:b,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),p.jsx($r,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:b,options:d.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx($r,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:b,options:xye,required:!0,fullWidth:!0}),p.jsx($r,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:b,options:bye(d.locationCode),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(wt,{label:"Barcode",name:"barcode",value:d.barcode||"",onChange:b,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44},disabled:(i==null?void 0:i.role)!=="admin"}),(i==null?void 0:i.role)==="admin"&&p.jsx("button",{type:"button",onClick:()=>A(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(wt,{label:"ASIN",name:"asin",value:d.asin,onChange:b,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx($r,{label:"Supplier",name:"supplier",value:d.supplier,onChange:b,options:tj,required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),p.jsx($r,{value:d.storeName,onChange:j=>{const K=j.target.value;g(J=>({...J,storeName:K,fulfillmentType:K==="supply & serve"?"mf":J.fulfillmentType})),v(K==="other"),K!=="other"&&w("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_&&p.jsx(wt,{label:"Other Supplier",value:P,onChange:j=>D(j.target.value),placeholder:"Enter supplier name",required:_,fullWidth:!0}),m&&!_&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(wt,{type:"text",value:y,onChange:j=>w(j.target.value),placeholder:"Enter store name",required:m})]}),m&&_&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(wt,{type:"text",value:y,onChange:j=>w(j.target.value),placeholder:"Enter store name",required:m})]}),p.jsxs("div",{children:[p.jsx(wt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:b,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(dt,{type:"submit",isLoading:n,icon:p.jsx(Hi,{size:18}),children:"Update Product"})}),p.jsx(ld,{isOpen:E,onClose:()=>A(!1),onBarcodeScanned:O})]})},Sye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Aye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=H.useState([]),[i,s]=H.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=H.useState({}),[c,u]=H.useState(!1),[f,h]=H.useState(null),[d,g]=H.useState(!1),[m,v]=H.useState(null),y=H.useRef(null);H.useEffect(()=>{a(hf(i.locationCode))},[]),H.useEffect(()=>{a(hf(i.locationCode));const A=hf(i.locationCode).length-1;parseInt(i.shelfNumber)>A&&s(b=>({...b,shelfNumber:"0"}))},[i.locationCode]);const w=A=>{const{name:b,value:O}=A.target;s(T=>({...T,[b]:O})),o[b]&&l(T=>{const N={...T};return delete N[b],N}),b==="barcode"&&O.length===13&&!d?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{O.length===13&&P(O)},500)):b==="barcode"&&O.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},_=()=>{u(!0)},I=async A=>{s(O=>({...O,barcode:A})),h(null),v(null),g(!0);let b=!1;try{const O=sr(Et(at,"scannedProducts"),lr("barcode","==",A)),T=await ur(O);if(T.empty){const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${A}`,J=await(await fetch(j)).json();if(J&&J.items&&J.items.length>0){const X=J.items[0];s(Z=>({...Z,name:X.title||Z.name})),h("Product name auto-filled from external database."),b=!0}else h("No product found for this barcode. Please enter details manually.")}else{const N=T.docs[0].data();s(j=>({...j,name:N.name||j.name})),h("Product name auto-filled from scanned products."),b=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!b&&A.length===13&&setTimeout(()=>{P(A)},100)}},P=async A=>{const b=A||i.barcode;if(!(!b||d)){v(null),g(!0);try{const O=sr(Et(at,"scannedProducts"),lr("barcode","==",b)),T=await ur(O);if(T.empty){const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${b}`,J=await(await fetch(j)).json();if(J&&J.items&&J.items.length>0){const X=J.items[0];s(Z=>({...Z,name:X.title||Z.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const N=T.docs[0].data();s(j=>({...j,name:N.name||j.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},D=()=>{const A={};return i.name.trim()||(A.name="Product name is required"),i.locationCode||(A.locationCode="Location is required"),i.shelfNumber||(A.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(A.quantity="Quantity must be greater than 0"),l(A),Object.keys(A).length===0},E=async A=>{if(A.preventDefault(),!D())return;const b={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([b]),t()}catch(O){console.error("Error adding stock:",O)}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsx(wt,{label:"Product Name",name:"name",value:i.name,onChange:w,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx($r,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:w,options:Sye,error:o.locationCode,required:!0,fullWidth:!0}),p.jsx($r,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:w,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(wt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:w,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!d){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:d,children:d?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),m&&p.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),d&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),p.jsx(wt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:w,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),p.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(dt,{type:"submit",isLoading:r,icon:p.jsx(Hi,{size:18}),children:"Quick Add"}),p.jsx(dt,{type:"button",onClick:_,variant:"primary",icon:p.jsx(Oc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),p.jsx(ld,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:I})]})},uC=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=Xr(),{user:a}=xa();return r?p.jsx(Mn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"mb-4 flex items-center justify-between",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),p.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),p.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>p.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:Wt(r.lastUpdated,"MMM d, yyyy")})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),p.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),p.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),p.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[p.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),p.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[p.jsx("span",{children:"0"}),p.jsx("span",{children:"Critical: <10"}),p.jsx("span",{children:"Low: 10-25"}),p.jsx("span",{children:"25+"})]})]})]})}):null},_b=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=Xr();return p.jsx(Mn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(dv,{size:24}),p.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(dt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),p.jsx(dt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Tye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,locationCode:a,shelfNumber:i,existingProducts:s,newProductName:o})=>{const l=s.length,c=s.reduce((u,f)=>u+f.quantity,0);return p.jsx(Mn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(dv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",p.jsxs("strong",{children:[a,"-",i]})," already contains products."]}),p.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),p.jsx("ul",{className:"mt-2 space-y-1",children:s.map((u,f)=>p.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",u.name," (",u.quantity," units)"]},f))}),p.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",l," product",l!==1?"s":""," (",c," units)"]})]}),p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",p.jsx("strong",{children:o})," to this location?"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(dt,{variant:"secondary",onClick:n,children:"Cancel"}),p.jsx(dt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},Eye=()=>{const[e,t]=H.useState(""),[r,n]=H.useState(""),[a,i]=H.useState("name"),[s,o]=H.useState(!1),[l,c]=H.useState(!1),[u,f]=H.useState(!1),[h,d]=H.useState(!1),[g,m]=H.useState(!1),[v,y]=H.useState(null),[w,_]=H.useState([]),[I,P]=H.useState(new Set),[D,E]=H.useState(!1),{showToast:A}=Kc(),{isDarkMode:b}=Xr(),{user:O}=xa(),[T,N]=H.useState(!1),[j,K]=H.useState(null),[J,X]=H.useState(!1),[Z,q]=H.useState(!1),[U,te]=H.useState(null),[z,C]=H.useState(null),[R,V]=H.useState(null),[G,Y]=H.useState(!1),[se,ce]=H.useState("all"),[re,he]=H.useState(!1),[be,B]=H.useState(null);H.useEffect(()=>{const ke=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(ke)}},[e]);const Te=H.useCallback(async()=>{m(!0);try{const ke=sr(Et(at,"inventory"),$a("name")),kt=(await ur(ke)).docs.map(Pt=>{const fr=Pt.data();return{id:Pt.id,...fr,lastUpdated:fr.lastUpdated instanceof Xt?fr.lastUpdated.toDate():new Date(fr.lastUpdated)}});_(kt)}catch(ke){console.error("Error fetching stock items:",ke),A("Failed to fetch stock items","error")}finally{m(!1)}},[A]),_e=H.useCallback(async()=>{try{const ke=Et(at,"inventory"),Je=await eN(ke);B(Je.data().count)}catch{B(null)}},[]);H.useEffect(()=>{Te(),_e()},[Te,_e]),H.useEffect(()=>{const ke=Je=>{const kt=Je.target;kt.closest(".store-filter-dropdown")||Y(!1),kt.closest(".status-filter-dropdown")||he(!1)};return(G||re)&&document.addEventListener("mousedown",ke),()=>{document.removeEventListener("mousedown",ke)}},[G,re]);const ge=H.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),ee=H.useMemo(()=>["supply & serve","APHY","AZTEC","ZK"],[]),Ae=H.useMemo(()=>{const ke=r.toLowerCase();return w.filter(Je=>{const kt=Je.name.toLowerCase().includes(ke),Pt=`${Je.locationCode} - ${Je.shelfNumber}`.toLowerCase().includes(ke),fr=Je.asin?Je.asin.split(",").some(Pr=>Pr.trim().toLowerCase().includes(ke)):!1,vr=Je.barcode?Je.barcode.toLowerCase().includes(ke):!1,Cr=R?R.storeName==="other"?!ee.includes(Je.storeName)&&Je.fulfillmentType===R.fulfillmentType:Je.storeName===R.storeName&&Je.fulfillmentType===R.fulfillmentType:!0,pn=se==="all"||Je.status===se;return(kt||Pt||fr||vr)&&Cr&&pn}).sort((Je,kt)=>a==="name"?Je.name.localeCompare(kt.name):a==="quantity"?kt.quantity-Je.quantity:a==="price"?kt.price-Je.price:a==="date"?new Date(kt.lastUpdated).getTime()-new Date(Je.lastUpdated).getTime():0)},[w,r,R,se,a,ee]),Oe=H.useCallback((ke,Je)=>w.filter(kt=>kt.locationCode===ke&&kt.shelfNumber===Je),[w]),Me=H.useCallback(async ke=>{const Je=[];for(const kt of ke){const Pt=Oe(kt.locationCode,kt.shelfNumber);Pt.length>0&&Je.push({locationCode:kt.locationCode,shelfNumber:kt.shelfNumber,products:Pt})}if(Je.length>0){const kt=Je[0];C({locationCode:kt.locationCode,shelfNumber:kt.shelfNumber,existingProducts:kt.products,newProductName:ke[0].name}),te(ke),q(!0);return}await Ke(ke)},[Oe]),Ke=H.useCallback(async ke=>{m(!0);try{const Je=[];for(const kt of ke){const Pt=await Or(Et(at,"inventory"),{...kt,lastUpdated:Xt.fromDate(new Date)});Je.push({...kt,id:Pt.id,lastUpdated:new Date})}if(O){const kt=ke.reduce((fr,vr)=>fr+vr.quantity,0),Pt=ke.map(fr=>`${fr.quantity} at ${fr.locationCode}-${fr.shelfNumber}`).join(", ");await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`added new product "${ke[0].name}" with total quantity ${kt} (${Pt})`,time:new Date().toISOString()})}_(kt=>[...kt,...Je]),o(!1),X(!1),A("Stock items added successfully","success")}catch(Je){console.error("Error adding stock:",Je),A("Failed to add stock items","error")}finally{m(!1)}},[O,A]),$e=H.useCallback(async()=>{U&&(await Ke(U),q(!1),te(null),C(null))},[U,Ke]),Xe=H.useCallback(()=>{q(!1),te(null),C(null)},[]),Fe=H.useCallback(async(ke,Je)=>{m(!0);try{const kt=new Date,Pt={},fr=[];if(ke.name!==Je.name&&(Pt.name=ke.name,fr.push(`name from "${Je.name}" to "${ke.name}"`)),ke.price!==Je.price){Pt.price=ke.price;const vr=Number(Je.price||0).toFixed(2),Cr=Number(ke.price||0).toFixed(2);fr.push(`price from £${vr} to £${Cr}`)}if((ke.locationCode!==Je.locationCode||ke.shelfNumber!==Je.shelfNumber)&&(Pt.locationCode=ke.locationCode,Pt.shelfNumber=ke.shelfNumber,fr.push(`location from ${Je.locationCode}-${Je.shelfNumber} to ${ke.locationCode}-${ke.shelfNumber}`)),ke.supplier!==Je.supplier&&(Pt.supplier=ke.supplier,fr.push(`supplier from "${Je.supplier||"none"}" to "${ke.supplier||"none"}"`)),ke.asin!==Je.asin&&(Pt.asin=ke.asin,fr.push(`ASIN from "${Je.asin||"none"}" to "${ke.asin||"none"}"`)),ke.status!==Je.status&&(Pt.status=ke.status,fr.push(`status from "${Je.status}" to "${ke.status}"`)),ke.damagedItems!==Je.damagedItems&&(Pt.damagedItems=ke.damagedItems,fr.push(`damaged items from ${Je.damagedItems} to ${ke.damagedItems}`)),ke.fulfillmentType!==Je.fulfillmentType&&(Pt.fulfillmentType=ke.fulfillmentType,fr.push(`fulfillment type from "${Je.fulfillmentType.toUpperCase()}" to "${ke.fulfillmentType.toUpperCase()}"`)),ke.storeName!==Je.storeName&&(Pt.storeName=ke.storeName,fr.push(`store name from "${Je.storeName}" to "${ke.storeName}"`)),ke.unit!==Je.unit&&(Pt.unit=ke.unit,fr.push(`unit from "${Je.unit||"none"}" to "${ke.unit||"none"}"`)),ke.barcode!==Je.barcode&&(Pt.barcode=ke.barcode,fr.push(`barcode from "${Je.barcode||"none"}" to "${ke.barcode||"none"}"`)),Object.keys(Pt).length>0){const vr=en(at,"inventory",ke.id);await Fa(vr,{...Pt,lastUpdated:Xt.fromDate(kt)}),O&&fr.length>0&&await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`edited product "${ke.name}": ${fr.join(", ")}`,time:kt.toISOString()});const Cr=w.map(pn=>pn.id===ke.id?{...pn,...Pt,lastUpdated:kt}:pn);_(Cr),A("Stock details updated successfully","success"),c(!1),y(null)}if(ke.quantity>Je.quantity)K({itemId:ke.id,newQuantity:ke.quantity}),N(!0),c(!1);else if(ke.quantity!==Je.quantity){const vr=en(at,"inventory",ke.id);await Fa(vr,{quantity:ke.quantity,lastUpdated:Xt.fromDate(kt)}),O&&await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`edited product "${ke.name}": quantity from ${Je.quantity} to ${ke.quantity}`,time:kt.toISOString()});const Cr=w.map(pn=>pn.id===ke.id?{...pn,quantity:ke.quantity,lastUpdated:kt}:pn);_(Cr),A("Stock quantity updated","success"),c(!1),y(null)}else c(!1),y(null)}catch(kt){console.error("Error updating stock:",kt),A("Failed to update stock item","error")}finally{m(!1)}},[w,O,A]),Qe=H.useCallback(async()=>{if(j){m(!0);try{const{itemId:ke,newQuantity:Je}=j,kt=new Date,Pt=w.find(Cr=>Cr.id===ke),fr=en(at,"inventory",ke);await Fa(fr,{quantity:Je,lastUpdated:Xt.fromDate(kt)}),O&&Pt&&await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`edited product "${Pt.name}": quantity from ${Pt.quantity} to ${Je}`,time:kt.toISOString()});const vr=w.map(Cr=>Cr.id===ke?{...Cr,quantity:Je,lastUpdated:kt}:Cr);_(vr),A("Stock quantity updated successfully","success"),y(null)}catch(ke){console.error("Error updating quantity:",ke),A("Failed to update quantity","error")}finally{m(!1),N(!1),K(null)}}},[j,w,O,A]),ct=H.useCallback(async ke=>{m(!0);try{const Je=w.find(kt=>kt.id===ke);await op(en(at,"inventory",ke)),O&&Je&&await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`deleted product "${Je.name}" (${Je.quantity} units) from location ${Je.locationCode}-${Je.shelfNumber}`,time:new Date().toISOString()}),_(w.filter(kt=>kt.id!==ke)),f(!1),y(null),A("Stock item deleted successfully","success")}catch(Je){console.error("Error deleting stock:",Je),A("Failed to delete stock item","error")}finally{m(!1)}},[w,O,A]),rt=H.useCallback(ke=>{y(ke)},[]),gt=H.useCallback((ke,Je)=>{ke.stopPropagation(),y(Je),c(!0)},[]),yt=H.useCallback((ke,Je)=>{ke.stopPropagation(),y(Je),f(!0)},[]),At=H.useCallback(()=>{I.size===Ae.length?P(new Set):P(new Set(Ae.map(ke=>ke.id)))},[Ae,I.size]),xt=H.useCallback(ke=>{const Je=new Set(I);Je.has(ke)?Je.delete(ke):Je.add(ke),P(Je)},[I]),nt=H.useCallback(async()=>{if(I.size!==0){m(!0);try{const ke=w.filter(kt=>I.has(kt.id)),Je=Array.from(I).map(kt=>op(en(at,"inventory",kt)));if(await Promise.all(Je),O){const kt=ke.map(Pt=>`"${Pt.name}" (${Pt.quantity} units) from ${Pt.locationCode}-${Pt.shelfNumber}`).join(", ");await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`Bulk deleted ${I.size} products: ${kt}`,time:new Date().toISOString()})}_(w.filter(kt=>!I.has(kt.id))),P(new Set),E(!1),d(!1),A(`Successfully deleted ${I.size} items`,"success")}catch(ke){console.error("Error deleting items:",ke),A("Failed to delete selected items","error")}finally{m(!1)}}},[v,w,O,A]),qt=H.useCallback(async()=>{if(I.size!==0){m(!0);try{const ke=w.filter(kt=>I.has(kt.id)&&kt.status==="pending");if(ke.length===0){A("No pending items selected to activate","error");return}const Je=ke.map(kt=>Fa(en(at,"inventory",kt.id),{status:"active",lastUpdated:Xt.fromDate(new Date)}));if(await Promise.all(Je),O){const kt=ke.map(Pt=>`"${Pt.name}" from ${Pt.locationCode}-${Pt.shelfNumber}`).join(", ");await Or(Et(at,"activityLogs"),{user:O.name,role:O.role,detail:`Bulk activated ${ke.length} pending products: ${kt}`,time:new Date().toISOString()})}_(w.map(kt=>I.has(kt.id)&&kt.status==="pending"?{...kt,status:"active",lastUpdated:new Date}:kt)),P(new Set),E(!1),A(`Successfully activated ${ke.length} items`,"success")}catch(ke){console.error("Error activating items:",ke),A("Failed to activate selected items","error")}finally{m(!1)}}},[v,w,O,A]),$t=H.useCallback(()=>{E(!D),D||P(new Set)},[D]),Hr=H.useCallback(({item:ke})=>p.jsxs("tr",{className:`hover:${b?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>rt(ke),children:[D&&p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,onClick:Je=>Je.stopPropagation(),children:p.jsx("input",{type:"checkbox",checked:I.has(ke.id),onChange:()=>xt(ke.id),className:`h-4 w-4 text-blue-600 rounded ${b?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-blue-400":"text-blue-700"} font-medium`,children:ke.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:ke.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ke.status==="active"?"Active":"Pending"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ke.fulfillmentType.toUpperCase()})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:[ke.locationCode," - ",ke.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:ke.asin?ke.asin.split(",").length>3?ke.asin.split(",").slice(0,3).map(Je=>Je.trim()).join(", ")+"...":ke.asin.split(",").map(Je=>Je.trim()).join(", "):"-"}),(O==null?void 0:O.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(ke.price)>0?`£${Number(ke.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(ke.quantity*ke.price)>0?`£${Number(ke.quantity*ke.price).toFixed(2)}`:"(Not set)"})]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ke.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),ke.quantity>10&&ke.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),p.jsx("span",{children:ke.quantity})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(ke.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:Je=>gt(Je,ke),className:`p-1 ${b?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:Je=>yt(Je,ke),className:`p-1 ${b?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx($s,{size:16})})]})})]},ke.id),[D,I,b,O,rt,xt,gt,yt]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:`text-2xl font-bold ${b?"text-white":"text-gray-900"}`,children:"Inbound"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${b?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",be!==null?be:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?p.jsxs(p.Fragment,{children:[se==="pending"&&p.jsxs(dt,{onClick:qt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||I.size===0,children:[p.jsx(yZ,{size:16}),"Go Live (",I.size,")"]}),p.jsxs(dt,{onClick:()=>d(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:g||I.size===0,children:[p.jsx($s,{size:16}),"Delete Selected (",I.size,")"]}),p.jsx(dt,{onClick:$t,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(dt,{onClick:$t,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Kx,{size:16}),"Select Items"]}),p.jsxs(dt,{variant:"secondary",onClick:()=>X(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Hi,{size:16}),"Quick Add"]}),p.jsxs(dt,{variant:"primary",onClick:()=>o(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Hi,{size:16}),"Add New Stock"]})]})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(wt,{type:"text",placeholder:"Search by name, location, ASIN or barcode",value:e,onChange:ke=>t(ke.target.value),className:"pl-10"})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx($r,{value:a,onChange:ke=>i(ke.target.value),options:ge})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>he(!re),className:`flex items-center gap-2 ${se!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[se==="all"?"Status Filter":se==="active"?"Active":"Pending",p.jsx(vf,{size:16})]}),re&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${se==="all"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ce("all"),he(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${se==="active"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ce("active"),he(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${se==="pending"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{ce("pending"),he(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{ce("all"),he(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>Y(!G),className:`flex items-center gap-2 ${R?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[R?`${R.storeName==="other"?"Other":R.storeName} - ${R.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(vf,{size:16})]}),G&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(ke=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===ke?b?"bg-slate-700":"bg-slate-100":""}`,children:ke}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[ke!=="supply & serve"&&p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===ke&&(R==null?void 0:R.fulfillmentType)==="fba"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{V({storeName:ke,fulfillmentType:"fba"}),Y(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(R==null?void 0:R.storeName)===ke&&(R==null?void 0:R.fulfillmentType)==="mf"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{V({storeName:ke,fulfillmentType:"mf"}),Y(!1)},children:"MF"})]})]},ke)),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{V(null),Y(!1)},children:"Clear Filter"})})]})})]})]}),p.jsx(dt,{variant:"secondary",onClick:Te,className:`flex items-center gap-2 ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(Ls,{size:16,className:g?"animate-spin":""})})]}),g?p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(cs,{className:`w-8 h-8 ${b?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:b?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Ae.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${b?"divide-slate-700":"divide-slate-200"} ${b?"bg-slate-800":"bg-white"} rounded-lg border ${b?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:b?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[D&&p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:I.size===Ae.length,onChange:At,className:`h-4 w-4 text-blue-600 rounded ${b?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),p.jsx("span",{children:"Select"})]})}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(O==null?void 0:O.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:Ae.map((ke,Je)=>p.jsx(Hr,{item:ke,index:Je},ke.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-4",children:Ae.map(ke=>p.jsxs("div",{className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>rt(ke),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${b?"text-blue-400":"text-blue-700"}`,children:ke.name}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ke.status==="active"?"Active":"Pending"}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ke.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ke.fulfillmentType.toUpperCase()})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[ke.locationCode," - ",ke.shelfNumber]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:ke.quantity})]}),ke.asin&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:ke.asin})]}),(O==null?void 0:O.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(ke.price)>0?`£${Number(ke.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Total: ",p.jsx("span",{className:"font-medium",children:Number(ke.quantity*ke.price)>0?`£${Number(ke.quantity*ke.price).toFixed(2)}`:"(Not set)"})]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:Wt(new Date(ke.lastUpdated),"MMM d, yyyy")})]})]}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsxs(dt,{size:"sm",variant:"secondary",onClick:Je=>{Je.stopPropagation(),gt(Je,ke)},children:[p.jsx(sl,{size:14})," Edit"]}),p.jsxs(dt,{size:"sm",variant:"danger",onClick:Je=>{Je.stopPropagation(),yt(Je,ke)},children:[p.jsx($s,{size:14})," Delete"]})]})]},ke.id))})]}):p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:b?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Mn,{isOpen:s,onClose:()=>o(!1),title:"Add New Stock Item",size:"xl",children:p.jsx(yye,{onSubmit:Me,isLoading:g,existingStockItems:w})}),p.jsx(Mn,{isOpen:J,onClose:()=>X(!1),title:"Quick Add Stock",size:"md",children:p.jsx(Aye,{onSubmit:Me,onClose:()=>X(!1),isLoading:g})}),p.jsx(Mn,{isOpen:l,onClose:()=>c(!1),title:"Edit Stock",size:"xl",children:v&&p.jsx(_ye,{item:v,onSubmit:Fe,onCancel:()=>c(!1),isLoading:g})}),v&&p.jsx(_b,{isOpen:u,onClose:()=>{f(!1),y(null)},onConfirm:()=>ct(v.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${v.name}"? This action cannot be undone.`,isLoading:g}),v&&!l&&!u&&!T&&p.jsx(uC,{isOpen:!!v,onClose:()=>y(null),item:v}),p.jsx(_b,{isOpen:h,onClose:()=>{d(!1),P(new Set)},onConfirm:nt,title:"Delete Selected Items",message:`Are you sure you want to delete ${I.size} selected item${I.size>1?"s":""}? This action cannot be undone.`,isLoading:g}),p.jsx(Mn,{isOpen:T,onClose:()=>{N(!1),K(null)},title:"Confirm Quantity Update",children:p.jsxs("div",{children:[p.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),p.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[p.jsx(dt,{variant:"secondary",onClick:()=>{N(!1),K(null)},children:"No"}),p.jsx(dt,{onClick:Qe,isLoading:g,children:"Yes"})]})]})}),z&&p.jsx(Tye,{isOpen:Z,onClose:Xe,onConfirm:$e,onCancel:Xe,locationCode:z.locationCode,shelfNumber:z.shelfNumber,existingProducts:z.existingProducts,newProductName:z.newProductName})]})},kye=()=>{const{isDarkMode:e}=Xr(),{showToast:t}=Kc(),{user:r}=xa();xa();const[n,a]=H.useState(!1),[i,s]=H.useState([]),[o,l]=H.useState(""),[c,u]=H.useState(null),[f,h]=H.useState(""),[d,g]=H.useState(null),[m,v]=H.useState("all"),[y,w]=H.useState("all"),[_,I]=H.useState(!1),[P,D]=H.useState(!1),[E,A]=H.useState(null),b=async z=>{if(r)try{await Or(Et(at,"activityLogs"),{user:r.name,role:r.role,detail:z,time:new Date().toISOString()})}catch(C){console.error("Failed to log activity:",C)}},O=H.useCallback(async()=>{a(!0);try{const z=sr(Et(at,"inventory"),$a("name")),R=(await ur(z)).docs.map(V=>{const G=V.data();return{id:V.id,...G,lastUpdated:G.lastUpdated instanceof Xt?G.lastUpdated.toDate():new Date(G.lastUpdated)}});s(R)}catch(z){console.error("Failed to fetch inventory",z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),T=H.useCallback(async()=>{try{const z=Et(at,"inventory"),C=await eN(z);g(C.data().count)}catch{g(null)}},[]);H.useEffect(()=>{O(),T()},[O,T]),H.useEffect(()=>{const z=C=>{const R=C.target;R.closest(".damage-filter-dropdown")||I(!1),R.closest(".duplicate-filter-dropdown")||D(!1)};return(_||P)&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[_,P]);const N=H.useMemo(()=>{const z={};for(const C of i){const R=(C.name||"").trim().toLowerCase();if(!R)continue;const V=`${C.locationCode||""}-${C.shelfNumber||""}`.trim().toLowerCase();z[R]||(z[R]=new Set),z[R].add(V)}return z},[i]),K=((z,C)=>{const[R,V]=H.useState(z);return H.useEffect(()=>{const G=setTimeout(()=>V(z),C);return()=>clearTimeout(G)},[z,C]),R})(o,300),J=H.useMemo(()=>{const z=K.trim().toLowerCase();return i.filter(C=>{var B,Te;const R=((B=C.name)==null?void 0:B.toLowerCase())||"",V=(C.asin||"").toLowerCase(),G=(C.barcode||"").toLowerCase(),Y=z?R.includes(z)||V.includes(z)||G.includes(z):!0,se=m==="all"?!0:m==="damaged"?(C.damagedItems||0)>0:(C.damagedItems||0)<=0,ce=(C.name||"").trim().toLowerCase(),he=(ce&&((Te=N[ce])==null?void 0:Te.size)||0)>1;return Y&&se&&(y==="all"?!0:y==="duplicates"?he:!he)})},[i,K,m,y,N]),X=H.useMemo(()=>K.trim()?J.reduce((z,C)=>z+(C.quantity||0),0):0,[J,K]),Z=H.useMemo(()=>{var re;const z=J.length;let C=0,R=0,V=0,G=0,Y=0;for(const he of J){(he.damagedItems||0)>0&&C++,he.status==="active"&&R++,he.status==="pending"&&V++,Number(he.price)>0&&G++;const be=(he.name||"").trim().toLowerCase();(be&&((re=N[be])==null?void 0:re.size)||0)>1&&Y++}const se=z-Y,ce=z-G;return{total:z,damaged:C,duplicates:Y,unique:se,active:R,pending:V,priceSet:G,noPrice:ce}},[J,N]),q=z=>{u(z.id),h(z.price!=null?String(z.price):"")},U=()=>{u(null),h("")},te=async z=>{const C=Number(f);if(Number.isNaN(C)||C<0){t("Enter a valid non-negative price","error");return}a(!0);try{const R=new Date,V=en(at,"inventory",z.id);await Fa(V,{price:C,lastUpdated:Xt.fromDate(R)}),await b(`updated price for ${z.name} (barcode: ${z.barcode}) from £${z.price||0} to £${C.toFixed(2)}`),s(G=>G.map(Y=>Y.id===z.id?{...Y,price:C,lastUpdated:R}:Y)),t("Price updated","success"),u(null),h("")}catch(R){console.error("Failed to update price",R),t("Failed to update price","error")}finally{a(!1)}};return p.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[p.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[p.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",d!==null?d:p.jsx("span",{className:"animate-pulse",children:"..."})]}),p.jsxs(dt,{variant:"secondary",onClick:()=>{O(),T()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[p.jsx(Ls,{size:14,className:n?"animate-spin":""}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[K.trim()?p.jsx(Za,{title:"Total Quantity",value:X,icon:p.jsx(Z0,{size:20,className:"text-blue-600"})}):p.jsx(Za,{title:"Products",value:Z.total,icon:p.jsx(Z0,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Damaged",value:Z.damaged,icon:p.jsx(Hh,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Duplicates",value:Z.duplicates,icon:p.jsx(lZ,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Unique",value:Z.unique,icon:p.jsx(E4,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[p.jsx(Za,{title:"Active",value:Z.active,icon:p.jsx(E4,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Pending",value:Z.pending,icon:p.jsx(Hh,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"With Price",value:Z.priceSet,icon:p.jsx(V2,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"No Price",value:Z.noPrice,icon:p.jsx(V2,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(yf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(wt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:z=>l(z.target.value),className:"pl-10 text-sm sm:text-base"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>I(!_),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),p.jsx(vf,{size:16})]}),_&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),I(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),I(!1)},children:"Damaged"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),I(!1)},children:"Not Damaged"})]})})]}),p.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>D(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),p.jsx(vf,{size:16})]}),P&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("all"),D(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("duplicates"),D(!1)},children:"Duplicates Only"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{w("unique"),D(!1)},children:"Unique Only"})]})})]})]})]}),n?p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[p.jsx(cs,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):J.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),p.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:J.map(z=>p.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:z.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:z.asin?z.asin.split(",").length>3?z.asin.split(",").slice(0,3).map(C=>C.trim()).join(", ")+"...":z.asin.split(",").map(C=>C.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===z.id?p.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:C=>C.stopPropagation(),children:[p.jsx(wt,{type:"number",step:"0.01",value:f,onChange:C=>h(C.target.value),className:"w-28 text-right"}),p.jsx(dt,{size:"sm",onClick:()=>te(z),isLoading:n,children:p.jsx(fO,{size:14})}),p.jsx(dt,{size:"sm",variant:"secondary",onClick:U,disabled:n,children:p.jsx(pv,{size:14})})]}):p.jsx("button",{onClick:C=>{C.stopPropagation(),q(z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:z.quantity}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:z.barcode||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:p.jsx("button",{onClick:()=>A(z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:p.jsx(k4,{size:16})})})]},z.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-3",children:J.map(z=>{var C;return p.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:z.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:((C=z.asin)==null?void 0:C.split(",")[0])||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",p.jsx("span",{className:"font-medium",children:z.barcode||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",p.jsx("span",{className:"font-medium",children:z.quantity})]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"No price"}),p.jsxs("div",{className:"flex gap-1",children:[c===z.id?p.jsxs(p.Fragment,{children:[p.jsx(dt,{size:"sm",onClick:()=>te(z),isLoading:n,children:p.jsx(fO,{size:12})}),p.jsx(dt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),U()},disabled:n,children:p.jsx(pv,{size:12})})]}):p.jsx(dt,{size:"sm",variant:"secondary",onClick:R=>{R.stopPropagation(),q(z)},children:p.jsx(sl,{size:12})}),p.jsx(dt,{size:"sm",variant:"secondary",onClick:()=>A(z),children:p.jsx(k4,{size:12})})]})]})]}),c===z.id&&p.jsx("div",{className:"mt-1",children:p.jsx(wt,{type:"number",step:"0.01",value:f,onChange:R=>h(R.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},z.id)})})]}):p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),E&&p.jsx(uC,{isOpen:!!E,onClose:()=>A(null),item:E})]})},fC=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=Xr(),[o,l]=H.useState(!1),c=d=>{const g=d.target.value?new Date(d.target.value):null;r(g)},u=d=>{const g=d.target.value?new Date(d.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${Wt(e,"MMM d, yyyy")} - ${Wt(t,"MMM d, yyyy")}`:e?`From ${Wt(e,"MMM d, yyyy")}`:t?`To ${Wt(t,"MMM d, yyyy")}`:"Select date range";return p.jsxs("div",{className:`relative ${i}`,children:[p.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p.jsx(sZ,{className:"h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&p.jsx("span",{onClick:d=>{d.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),f())},children:p.jsx(pv,{className:"h-3 w-3"})})]}),o&&p.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),p.jsx("input",{type:"date",value:e?Wt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),p.jsx("input",{type:"date",value:t?Wt(t,"yyyy-MM-dd"):"",onChange:u,min:e?Wt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[p.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),p.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},gx=["supply & serve","APHY","AZTEC","ZK"],Nye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=H.useState(""),[s,o]=H.useState("stock sold"),[l,c]=H.useState(""),[u,f]=H.useState(e.storeName||gx[0]||""),[h,d]=H.useState(""),[g,m]=H.useState([]),[v,y]=H.useState(""),[w,_]=H.useState(!1),{isDarkMode:I}=Xr(),D=[...gx.includes(e.storeName)?gx:[e.storeName,...gx],"other"];H.useEffect(()=>{(async()=>{_(!0);try{let N=sr(Et(at,"inventory"),lr("barcode","==",e.barcode)),j=await ur(N);if(j.empty&&e.barcode){const X=String(e.barcode).trim();N=sr(Et(at,"inventory"),lr("barcode","==",X)),j=await ur(N)}j.empty&&e.name&&(N=sr(Et(at,"inventory"),lr("name","==",e.name)),j=await ur(N));const K=[];j.docs.forEach(X=>{const Z=X.data();Z.locationCode&&Z.shelfNumber&&K.push({locationCode:Z.locationCode,shelfNumber:Z.shelfNumber,quantity:Z.quantity||0})});const J=K.filter((X,Z,q)=>Z===q.findIndex(U=>U.locationCode===X.locationCode&&U.shelfNumber===X.shelfNumber)).sort((X,Z)=>X.locationCode.localeCompare(Z.locationCode));m(J),J.length>0&&y(`${J[0].locationCode}-${J[0].shelfNumber}`)}catch(N){console.error("Error fetching locations:",N)}finally{_(!1)}})()},[e.barcode]);const E=async T=>{T.preventDefault();const N=Number(a);if(!a||N<0)return;const j=A();if(N>j||!v)return;const K=s==="other"?l:s,J=u==="other"?h.trim():u.trim(),[X,Z]=v.split("-");await t({id:e.id,quantity:e.quantity-N,reason:K,storeName:J,locationCode:X,shelfNumber:Z})},A=()=>{if(!v)return e.quantity;const[T,N]=v.split("-"),j=g.find(K=>K.locationCode===T&&K.shelfNumber===N);return j?j.quantity:e.quantity},O=(()=>{const T=Number(a);if(!a||T<0)return"Quantity to deduct must be 0 or greater";const N=A();return T>N?`Cannot deduct more than current stock at selected location (${N} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":!u.trim()||u==="other"&&!h.trim()?"Please select or enter the store name":v?null:"Please select a location":"Please select a reason"})();return p.jsxs("form",{onSubmit:E,className:`space-y-6 ${I?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${I?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${I?"text-white":"text-gray-900"}`,children:e.name}),p.jsx("p",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:v&&p.jsxs("span",{className:` ${I?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",A()," units"]})}),p.jsxs("p",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),w?p.jsxs("div",{className:`flex items-center gap-2 text-sm ${I?"text-slate-400":"text-slate-500"}`,children:[p.jsx(cs,{size:16,className:"animate-spin"}),"Loading locations..."]}):g.length>0?p.jsx($r,{id:"location",value:v,onChange:T=>y(T.target.value),required:!0,options:[{value:"",label:"Select a location"},...g.map(T=>({value:`${T.locationCode}-${T.shelfNumber}`,label:`${T.locationCode} - Shelf ${T.shelfNumber} (${T.quantity} units)${T.quantity===0?" - Out of Stock":""}`}))],className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`}):p.jsx("div",{className:`text-sm ${I?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(wt,{id:"deductQuantity",type:"number",min:"0",max:A(),value:a,onChange:T=>i(T.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`}),v&&p.jsxs("p",{className:`text-xs ${I?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",A()," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx($r,{id:"reason",value:s,onChange:T=>o(T.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(wt,{id:"otherReason",type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Enter the reason",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${I?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx($r,{id:"storeName",value:u,onChange:T=>f(T.target.value),options:D.map(T=>({value:T,label:T==="other"?"Other":T})),required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`}),u==="other"&&p.jsx(wt,{id:"otherStoreName",type:"text",value:h,onChange:T=>d(T.target.value),placeholder:"Enter store name",required:!0,className:`${I?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${O?"border-red-500 focus:border-red-500":""}`})]}),O?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${I?"text-red-400":"text-red-600"}`,children:[p.jsx(Hh,{size:16}),p.jsx("span",{children:O})]}):p.jsx("p",{className:`text-xs ${I?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),p.jsx(dt,{type:"submit",disabled:n||!!O,className:"min-w-[100px]",children:n?p.jsxs(p.Fragment,{children:[p.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Cye=()=>{const{isDarkMode:e}=Xr(),{showToast:t}=Kc(),{user:r}=xa(),[n,a]=H.useState(!1),[i,s]=H.useState([]),[o,l]=H.useState(!1),[c,u]=H.useState([]),[f,h]=H.useState([]),[d,g]=H.useState(null),[m,v]=H.useState(null),[y,w]=H.useState(null),[_,I]=H.useState(!1),[P,D]=H.useState(!1),[E,A]=H.useState(""),[b,O]=H.useState(!1),[T,N]=H.useState(null),[j,K]=H.useState(null),[J,X]=H.useState(0),[Z,q]=H.useState(new Set),[U,te]=H.useState(!1),[z,C]=H.useState(new Set),[R,V]=H.useState(new Set),[G,Y]=H.useState(""),[se,ce]=H.useState([]),[re,he]=H.useState(!1),[be,B]=H.useState("name"),[Te,_e]=H.useState(!1),[ge,ee]=H.useState(null),[Ae,Oe]=H.useState(null),[Me,Ke]=H.useState("all"),$e=Ee=>{const bt=new Date,Ye=new Date(bt.getFullYear(),bt.getMonth(),bt.getDate());return Ee.createdAt<Ye&&Ee.status==="completed"},Xe=Ee=>{if(!ge&&!Ae)return!0;const bt=Ee.createdAt;return ge&&Ae?bt>=ge&&bt<=Ae:ge?bt>=ge:Ae?bt<=Ae:!0},Fe=()=>{const Ee=new Set(i.map(bt=>bt.createdBy));return Array.from(Ee).sort()},Qe=Ee=>Me==="all"?!0:Ee.createdBy===Me,ct=i.filter(Ee=>P?$e(Ee)&&Xe(Ee)&&Qe(Ee):_?Ee.status==="completed"&&!$e(Ee):Ee.status!=="completed"),rt=async Ee=>{if(r)try{await Or(Et(at,"activityLogs"),{user:r.name,role:r.role,detail:Ee,time:new Date().toISOString()})}catch(bt){console.error("Failed to log activity:",bt)}},gt=Ee=>{if(Ee<60)return`${Ee}s`;if(Ee<3600){const bt=Math.floor(Ee/60),Ye=Ee%60;return`${bt}m ${Ye}s`}else{const bt=Math.floor(Ee/3600),Ye=Math.floor(Ee%3600/60),Gt=Ee%60;return`${bt}h ${Ye}m ${Gt}s`}},yt=H.useCallback(async()=>{a(!0),I(!1),D(!1),ee(null),Oe(null),Ke("all"),C(new Set);try{const Ee=sr(Et(at,"jobs"),$a("createdAt","desc")),Ye=(await ur(Ee)).docs.map(Ct=>{const ft=Ct.data();return{id:Ct.id,jobId:ft.jobId||"",createdAt:ft.createdAt instanceof Xt?ft.createdAt.toDate():new Date,createdBy:ft.createdBy||"Unknown",status:ft.status||"picking",picker:ft.picker??null,packer:ft.packer??null,items:Array.isArray(ft.items)?ft.items.map(Nt=>({barcode:String(Nt.barcode||""),name:Nt.name??null,asin:Nt.asin??null,quantity:Number(Nt.quantity||1),verified:!!Nt.verified,locationCode:Nt.locationCode,shelfNumber:Nt.shelfNumber,reason:Nt.reason||"Unknown",storeName:Nt.storeName||"Unknown"})):[],pickingTime:ft.pickingTime||0}}),Gt=await Promise.all(Ye.map(async Ct=>{const ft=await Promise.all(Ct.items.map(async Nt=>{if(Nt.name)return Nt;try{const gr=sr(Et(at,"inventory"),lr("barcode","==",Nt.barcode)),ie=await ur(gr);if(!ie.empty){const xe=ie.docs[0].data();return{...Nt,name:xe.name||null}}}catch(gr){console.error("Error fetching product name for barcode:",Nt.barcode,gr)}return Nt}));return{...Ct,items:ft}}));s(Gt)}catch(Ee){console.error(Ee),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);H.useEffect(()=>{yt()},[yt]),H.useEffect(()=>()=>{C(new Set),V(new Set)},[i]);const At=Ee=>{V(bt=>{const Ye=new Set(bt);return Ye.has(Ee)?Ye.delete(Ee):Ye.add(Ee),Ye})};H.useEffect(()=>{let Ee;return j&&(Ee=setInterval(()=>{const Ye=Math.floor((new Date().getTime()-j.getTime())/1e3);X(Ye)},1e3)),()=>{Ee&&clearInterval(Ee)}},[j]);const xt=()=>{A(""),u([]),h([]),K(new Date),X(0),l(!0)},nt=async Ee=>{try{const bt=sr(Et(at,"inventory"),lr("barcode","==",Ee));return!(await ur(bt)).empty}catch(bt){return console.error("Error checking barcode:",bt),!1}},qt=async Ee=>{Ee.preventDefault();const bt=E.trim();if(!bt)return;if(!await nt(bt)){t(`Product with barcode ${bt} does not exist`,"error");return}try{const Gt=sr(Et(at,"inventory"),lr("barcode","==",bt)),Ct=await ur(Gt);if(!Ct.empty){const ft=Ct.docs[0].data(),Nt={...ft,id:Ct.docs[0].id,lastUpdated:ft.lastUpdated instanceof Xt?ft.lastUpdated.toDate():new Date(ft.lastUpdated)};N(Nt),O(!0),l(!1)}}catch(Gt){console.error("Error fetching stock item:",Gt),t("Error fetching stock item details","error")}},$t=async Ee=>{if(!T)return;const bt=T.quantity-Ee.quantity,Ye=sr(Et(at,"inventory"),lr("barcode","==",T.barcode),lr("locationCode","==",Ee.locationCode),lr("shelfNumber","==",Ee.shelfNumber)),Gt=await ur(Ye);if(Gt.empty){t("Stock item not found for this location","error");return}const Ct={...T,id:Gt.docs[0].id,quantity:Gt.docs[0].data().quantity||0};h(ft=>[...ft,{stockItem:Ct,deductedQuantity:bt,reason:Ee.reason,storeName:Ee.storeName,locationCode:Ee.locationCode,shelfNumber:Ee.shelfNumber}]),T.barcode&&u(ft=>{const Nt=T.barcode,gr=ft.findIndex(ie=>ie.barcode===Nt&&ie.locationCode===Ee.locationCode&&ie.shelfNumber===Ee.shelfNumber);if(gr>=0){const ie=[...ft];return ie[gr]={...ie[gr],quantity:ie[gr].quantity+bt},ie}else return[...ft,{barcode:Nt,name:T.name,quantity:bt,verified:!1,locationCode:Ee.locationCode,shelfNumber:Ee.shelfNumber,reason:Ee.reason,storeName:Ee.storeName}]}),t("Item added to job","success"),O(!1),N(null),l(!0),A(""),ke()},Hr=()=>{O(!1),N(null),l(!0),ke()},ke=()=>{Y(""),ce([]),B("name"),_e(!1)},Je=()=>{ee(null),Oe(null)},kt=()=>{ee(null),Oe(null),Ke("all")},Pt=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(U){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}te(!0),a(!0);try{for(const Ye of f){const Gt=en(at,"inventory",Ye.stockItem.id);await Fa(Gt,{quantity:Ye.stockItem.quantity-Ye.deductedQuantity,lastUpdated:Ah()}),await Or(Et(at,"activityLogs"),{detail:`${Ye.deductedQuantity} units deducted from stock "${Ye.stockItem.name}"  (Reason: ${Ye.reason}, Store: ${Ye.storeName}) by ${r==null?void 0:r.role} from location ${Ye.locationCode} shelf ${Ye.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const Ye of c)if(!f.some(Ct=>Ct.stockItem.barcode===Ye.barcode&&Ct.locationCode===Ye.locationCode&&Ct.shelfNumber===Ye.shelfNumber)){const Ct=sr(Et(at,"inventory"),lr("barcode","==",Ye.barcode),lr("locationCode","==",Ye.locationCode),lr("shelfNumber","==",Ye.shelfNumber)),ft=await ur(Ct);if(!ft.empty){const Nt=ft.docs[0],ie=Nt.data().quantity||0;await Fa(en(at,"inventory",Nt.id),{quantity:ie-Ye.quantity,lastUpdated:Ah()})}}const Ee=Date.now().toString(),bt=await Or(Et(at,"jobs"),{jobId:Ee,createdAt:Ah(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:J});await Fa(bt,{docId:bt.id}),await rt(`created new job ${Ee} with ${c.length} items (${c.reduce((Ye,Gt)=>Ye+Gt.quantity,0)} total units)`),t(`Job ${Ee} created and awaiting pack`,"success"),l(!1),u([]),h([]),A(""),K(null),X(0),yt()}catch(Ee){console.error(Ee),t("Failed to create job","error")}finally{a(!1),te(!1)}},fr=async Ee=>{try{await Fa(en(at,"jobs",Ee.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||Ee.picker||null}),await rt(`completed picking for job ${Ee.jobId} with ${Ee.items.length} items (${Ee.items.reduce((bt,Ye)=>bt+Ye.quantity,0)} total units)`),t(`Job ${Ee.jobId} completed and awaiting pack`,"success"),yt()}catch{t("Failed to update job","error")}},vr=async(Ee,bt,Ye)=>{const Gt=`${Ee.id}-${bt}`;q(Ct=>new Set(Ct).add(Gt));try{if(!Ee.id||!bt){t("Invalid job or barcode","error");return}C(Ye?Ct=>new Set(Ct).add(Gt):Ct=>{const ft=new Set(Ct);return ft.delete(Gt),ft})}catch(Ct){console.error("Error verifying item:",Ct),t("Failed to verify item","error")}finally{q(Ct=>{const ft=new Set(Ct);return ft.delete(Gt),ft})}},Cr=async Ee=>{try{const bt=Array.from(z).filter(Ct=>Ct.startsWith(Ee.id)).map(Ct=>Ct.split("-")[1]),Ye=Ee.items.filter(Ct=>Ct.verified||bt.includes(Ct.barcode)).length,Gt=Ee.items.map(Ct=>({...Ct,verified:bt.includes(Ct.barcode)||Ct.verified}));await Fa(en(at,"jobs",Ee.id),{status:"completed",packer:(r==null?void 0:r.name)||Ee.packer||null,items:Gt}),await rt(`completed packing for job ${Ee.jobId} with ${Ee.items.length} items (${Ee.items.reduce((Ct,ft)=>Ct+ft.quantity,0)} total units) - ${Ye} items verified`),C(Ct=>{const ft=new Set(Ct);return bt.forEach(Nt=>{ft.delete(`${Ee.id}-${Nt}`)}),ft}),t(`Job ${Ee.jobId} completed successfully with ${Ye}/${Ee.items.length} items verified`,"success"),yt()}catch(bt){console.error("Error completing job:",bt),t("Failed to complete job","error")}},pn=Ee=>{w(Ee)},Pr=async()=>{if(y)try{await rt(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((Ee,bt)=>Ee+bt.quantity,0)} total units))`),await op(en(at,"jobs",y.id)),C(Ee=>{const bt=new Set(Ee);return y.items.forEach(Ye=>{bt.delete(`${y.id}-${Ye.barcode}`)}),bt}),t("Job deleted","success"),w(null),yt()}catch{t("Failed to delete job","error")}},Ht=async(Ee,bt,Ye,Gt)=>{try{const Ct=[...Ee.items];Ct[bt]={...Ct[bt],barcode:Ye,quantity:Gt},await Fa(en(at,"jobs",Ee.id),{items:Ct}),await rt(`updated job item in job ${Ee.jobId}: barcode ${Ee.items[bt].barcode} → ${Ye}, quantity ${Ee.items[bt].quantity} → ${Gt}`),t("Job item updated successfully","success"),v(null),yt()}catch{t("Failed to update job item","error")}},Sr=async(Ee,bt)=>{try{const Ye=Ee.items.filter((Gt,Ct)=>Ct!==bt);await Fa(en(at,"jobs",Ee.id),{items:Ye}),await rt(`removed item ${Ee.items[bt].barcode} (qty: ${Ee.items[bt].quantity}) from job ${Ee.jobId}`),t("Job item removed successfully","success"),yt()}catch{t("Failed to remove job item","error")}},qa=async(Ee,bt)=>{if(!Ee.trim()){ce([]);return}he(!0);try{let Ye;switch(bt){case"barcode":Ye=sr(Et(at,"inventory"),lr("barcode","==",Ee.trim()));break;case"asin":Ye=sr(Et(at,"inventory"),lr("asin","==",Ee.trim()));break;case"name":default:Ye=sr(Et(at,"inventory"),lr("name",">=",Ee.trim().toUpperCase()),lr("name","<=",Ee.trim().toUpperCase()+""));break}const Ct=(await ur(Ye)).docs.map(ft=>{const Nt=ft.data();return{id:ft.id,name:Nt.name||"",quantity:Nt.quantity||0,price:Nt.price||0,unit:Nt.unit||null,supplier:Nt.supplier||null,lastUpdated:Nt.lastUpdated instanceof Xt?Nt.lastUpdated.toDate():new Date,locationCode:Nt.locationCode||"",shelfNumber:Nt.shelfNumber||"",barcode:Nt.barcode||null,asin:Nt.asin||null,status:Nt.status||"pending",damagedItems:Nt.damagedItems||0,fulfillmentType:Nt.fulfillmentType||"fba",storeName:Nt.storeName||""}});ce(Ct)}catch(Ye){console.error("Search error:",Ye),t("Failed to search inventory","error"),ce([])}finally{he(!1)}},In=({job:Ee})=>{const bt=Ee.status==="awaiting_pack",Ye=Ee.status==="picking",Gt=Ee.status==="completed",Ct=R.has(Ee.id);return p.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[p.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:p.jsx("div",{className:"flex flex-col gap-3",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[p.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[p.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:p.jsx(hO,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[p.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",Ee.jobId]}),p.jsx("button",{onClick:()=>At(Ee.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:Ct?p.jsxs(p.Fragment,{children:[p.jsx(K$,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",Ee.items.length,")"]}):p.jsxs(p.Fragment,{children:[p.jsx(vf,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",Ee.items.length,")"]})})]}),p.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",Ee.createdBy," • ",Ee.createdAt.toLocaleString(),Ee.pickingTime&&Ee.pickingTime>0&&p.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",gt(Ee.pickingTime)]})]}),!Ct&&Ee.items.length>0&&p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[Ee.items.length," item",Ee.items.length!==1?"s":""," • Total Qty: ",Ee.items.reduce((ft,Nt)=>ft+Nt.quantity,0),bt&&p.jsxs("span",{className:"ml-2",children:["• Verified: ",Ee.items.filter(ft=>ft.verified||z.has(`${Ee.id}-${ft.barcode}`)).length,"/",Ee.items.length]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Gt?"bg-green-100 text-green-700":bt?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Gt?"Completed":bt?"Awaiting Pack":"Picking"}),p.jsx(dt,{variant:"secondary",onClick:yt,size:"sm",className:"h-8 w-8 p-0",children:p.jsx(Ls,{size:14})}),p.jsx(dt,{variant:"danger",onClick:()=>pn(Ee),size:"sm",className:"h-8 w-8 p-0",children:p.jsx($s,{size:14})})]})]})})}),Ct&&p.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[Ye&&p.jsxs(dt,{onClick:()=>O(!0),className:"flex items-center gap-1",size:"sm",children:[p.jsx(hO,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),bt&&p.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",Ee.items.filter(ft=>ft.verified||z.has(`${Ee.id}-${ft.barcode}`)).length,"/",Ee.items.length," items verified"]})]}),p.jsxs("div",{className:"space-y-3",children:[Ee.items.map((ft,Nt)=>p.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===Ee.id&&(m==null?void 0:m.itemIndex)===Nt?p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[p.jsx(wt,{value:m.barcode,onChange:gr=>v({...m,barcode:gr.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),p.jsx(wt,{type:"number",value:m.quantity.toString(),onChange:gr=>v({...m,quantity:Number(gr.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(dt,{size:"sm",onClick:()=>Ht(Ee,Nt,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),p.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:ft.name||ft.barcode}),ft.name&&p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",ft.barcode]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[bt&&p.jsx(dt,{variant:ft.verified||z.has(`${Ee.id}-${ft.barcode}`)?"success":"primary",size:"sm",onClick:()=>vr(Ee,ft.barcode,!(ft.verified||z.has(`${Ee.id}-${ft.barcode}`))),disabled:Z.has(`${Ee.id}-${ft.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${ft.verified||z.has(`${Ee.id}-${ft.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:Z.has(`${Ee.id}-${ft.barcode}`)?p.jsx(Ls,{size:12,className:"animate-spin"}):p.jsx("span",{className:"hidden sm:inline",children:ft.verified||z.has(`${Ee.id}-${ft.barcode}`)?"Verified":"Verify"})}),bt&&!m&&p.jsxs(p.Fragment,{children:[p.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>v({jobId:Ee.id,itemIndex:Nt,barcode:ft.barcode,quantity:ft.quantity,locationCode:ft.locationCode,shelfNumber:ft.shelfNumber,reason:ft.reason,storeName:ft.storeName}),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Edit item",children:p.jsx(wZ,{size:16})}),p.jsx(dt,{variant:"danger",size:"sm",onClick:()=>Sr(Ee,Nt),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:p.jsx($s,{size:16})})]})]})]}),p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[p.jsxs("div",{children:["Qty: ",ft.quantity]}),ft.locationCode&&ft.shelfNumber&&p.jsxs("div",{children:["Location: ",ft.locationCode,"-",ft.shelfNumber]}),ft.reason&&p.jsxs("div",{children:["Reason: ",ft.reason]}),ft.storeName&&p.jsxs("div",{children:["Store: ",ft.storeName]})]})]})},`${ft.barcode}-${Nt}-${Ee.id}`)),Ee.items.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[Ye&&p.jsxs(dt,{onClick:()=>fr(Ee),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[p.jsx(Kx,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),bt&&p.jsxs(dt,{onClick:()=>Cr(Ee),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[p.jsx(Kx,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsx("div",{className:"flex flex-col gap-2",children:p.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":_?"Completed":"Active"," Jobs"]})}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(dt,{variant:"secondary",onClick:yt,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:p.jsx(Ls,{size:16,className:n?"animate-spin":""})}),p.jsxs(dt,{onClick:xt,className:"flex items-center gap-1",size:"sm",children:[p.jsx(Hi,{size:16})," ",p.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),p.jsx(dt,{variant:!_&&!P?"primary":"secondary",onClick:()=>{I(!1),D(!1)},size:"sm",children:"Active Jobs"}),p.jsx(dt,{variant:_?"primary":"secondary",onClick:()=>{I(!0),D(!1)},size:"sm",children:"Completed Jobs"}),p.jsx(dt,{variant:P?"primary":"secondary",onClick:()=>{I(!1),D(!0)},size:"sm",children:"Archived Jobs"})]})]}),p.jsx("div",{className:"flex flex-col gap-4",children:P&&p.jsx("div",{className:"w-full",children:p.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),p.jsxs("select",{value:Me,onChange:Ee=>Ke(Ee.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[p.jsx("option",{value:"all",children:"All Users"}),Fe().map(Ee=>p.jsx("option",{value:Ee,children:Ee},Ee))]})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),p.jsx(fC,{startDate:ge,endDate:Ae,onStartDateChange:ee,onEndDateChange:Oe,onClear:Je,className:"w-full"})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(dt,{variant:"secondary",onClick:kt,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),p.jsxs("div",{className:"space-y-4",children:[P&&(ge||Ae||Me!=="all")&&p.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[p.jsx("span",{className:"font-medium",children:"Active Filters:"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[Me!=="all"&&p.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",Me]}),ge&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",ge.toLocaleDateString()]}),Ae&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",Ae.toLocaleDateString()]}),p.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[ct.length," jobs found"]})]})]})}),ct.map(Ee=>p.jsx(In,{job:Ee},Ee.id)),ct.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{children:"No archived jobs found."}),(ge||Ae||Me!=="all")&&p.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):_?"No completed jobs found.":"No active jobs found."})]}),p.jsx(Mn,{isOpen:o,onClose:()=>{l(!1),K(null),X(0),_e(!1)},title:Te?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:p.jsxs("div",{className:"space-y-4",children:[!Te&&p.jsx("div",{className:"flex justify-start",children:p.jsxs("button",{onClick:()=>_e(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[p.jsx(yf,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]})}),Te&&p.jsxs("div",{className:"space-y-4",children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("button",{onClick:()=>_e(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[p.jsx(rZ,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]})}),p.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(Ee=>p.jsx("button",{onClick:()=>B(Ee),className:`px-3 py-1 text-xs rounded-md transition-colors ${be===Ee?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:Ee.charAt(0).toUpperCase()+Ee.slice(1)},Ee))}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[p.jsx(wt,{value:G,onChange:Ee=>Y(Ee.target.value),placeholder:`Search by ${be}...`,className:"flex-1",onKeyPress:Ee=>Ee.key==="Enter"&&qa(G,be)}),p.jsx(dt,{onClick:()=>qa(G,be),disabled:re||!G.trim(),size:"sm",className:"px-4",children:re?p.jsx(Ls,{size:14,className:"animate-spin"}):"Search"})]}),se.length>0&&p.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[p.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",se.length," product",se.length!==1?"s":"",":"]}),se.map(Ee=>p.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[p.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:Ee.name}),p.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[Ee.barcode&&p.jsxs("span",{className:"mr-3",children:["Barcode: ",Ee.barcode]}),Ee.asin&&p.jsxs("span",{className:"mr-3",children:["ASIN: ",Ee.asin]}),Ee.locationCode&&Ee.shelfNumber&&p.jsxs("span",{className:"mr-3",children:["Location: ",Ee.locationCode,"-",Ee.shelfNumber]}),p.jsxs("span",{className:"mr-3",children:["Qty: ",Ee.quantity]}),p.jsxs("span",{children:["Store: ",Ee.storeName]})]})]},Ee.id))]}),G&&se.length===0&&!re&&p.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',G,'"']})]}),!Te&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),p.jsxs("form",{onSubmit:qt,className:"flex gap-2",children:[p.jsx(wt,{name:"manualBarcode",type:"text",value:E,onChange:Ee=>A(Ee.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),p.jsxs(dt,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[p.jsx(Hi,{size:16})," Add"]})]})]}),p.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!Te&&c.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),p.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((Ee,bt)=>p.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(d==null?void 0:d.index)===bt?p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx(wt,{value:d.barcode,onChange:Ye=>g({...d,barcode:Ye.target.value}),className:"w-24 text-sm"}),p.jsx(wt,{type:"number",value:d.quantity,onChange:Ye=>g({...d,quantity:Number(Ye.target.value)||1}),className:"w-16 text-sm",min:"1"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(dt,{size:"sm",onClick:()=>{const Ye=c[bt].quantity,Gt=Number(d.quantity),Ct=Gt-Ye;u(ft=>{const Nt=[...ft];return Nt[bt]={...Nt[bt],barcode:d.barcode,quantity:Gt,reason:d.reason||"Unknown",storeName:d.storeName||"Unknown",name:d.name||null},Nt}),h(ft=>{const Nt=[...ft],gr=Nt.findIndex(ie=>ie.stockItem.barcode===d.barcode&&ie.locationCode===c[bt].locationCode&&ie.shelfNumber===c[bt].shelfNumber);return gr>=0&&(Nt[gr]={...Nt[gr],deductedQuantity:Nt[gr].deductedQuantity+Ct}),Nt}),g(null)},className:"h-6 px-2",children:"✓"}),p.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"truncate block font-medium",children:Ee.name||Ee.barcode}),Ee.name&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",Ee.barcode]}),Ee.locationCode&&Ee.shelfNumber&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",Ee.locationCode," - Shelf ",Ee.shelfNumber]}),Ee.reason&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",Ee.reason]}),Ee.storeName&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",Ee.storeName]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",Ee.quantity]}),p.jsx(dt,{variant:"secondary",size:"sm",onClick:()=>g({index:bt,barcode:Ee.barcode,quantity:Ee.quantity,reason:Ee.reason,storeName:Ee.storeName,name:Ee.name}),className:"h-6 px-2",children:"Edit"}),p.jsx("button",{type:"button",onClick:()=>{u(Ye=>Ye.filter((Gt,Ct)=>Ct!==bt)),h(Ye=>{const Gt=c[bt];return Ye.filter(Ct=>!(Ct.stockItem.barcode===Gt.barcode&&Ct.locationCode===Gt.locationCode&&Ct.shelfNumber===Gt.shelfNumber))})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${Ee.barcode}-${Ee.locationCode}-${Ee.shelfNumber}-${bt}`))}),p.jsx("div",{className:"pt-2",children:p.jsxs(dt,{onClick:Pt,disabled:c.length===0||U,isLoading:U,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[p.jsx(Kx,{size:16}),U?"Creating Job...":"Finish Picking"]})})]})]})}),p.jsx(_b,{isOpen:!!y,onClose:()=>w(null),onConfirm:Pr,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),p.jsx(Mn,{isOpen:b,onClose:()=>O(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:T&&p.jsx(Nye,{item:T,onSubmit:$t,onCancel:Hr,isLoading:!1})})]})},Pye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return p.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},kq=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return p.jsx(Pye,{variant:t(),children:r()})},Oye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=Xr();return p.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),p.jsxs("div",{className:"flex items-center gap-2",children:[r,p.jsx(kq,{status:e.status})]})]}),p.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),p.jsx("div",{className:"space-y-1 mb-3",children:p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),p.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),p.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[p.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:Wt(e.createdAt,"MMM d, yyyy")}),p.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},Iye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),p.jsx(Mn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),p.jsx("div",{className:"mt-1",children:p.jsx(kq,{status:r.status})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),p.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),p.jsx("p",{className:"text-slate-800",children:r.createdAt?Wt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),p.jsx("p",{className:"text-slate-800",children:r.updatedAt?Wt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),p.jsx("p",{className:"text-slate-800",children:r.shippedTime?Wt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),p.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),p.jsx("tfoot",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),p.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),p.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),p.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,Sb=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:xr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:xr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:xr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:xr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:xr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:xr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:xr(new Date,6),locationCode:"D2",shelfNumber:4}],Dye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:xr(new Date,1),updatedAt:xr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:xr(new Date,2),updatedAt:xr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:xr(new Date,5),updatedAt:xr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:xr(new Date,10),updatedAt:xr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:xr(new Date,15),updatedAt:xr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];Dye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:Wt(xr(new Date,29-t),"MMM dd"),amount:r}});xr(new Date,1),xr(new Date,1),xr(new Date,3),xr(new Date,4),xr(new Date,5);const jye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Lye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],$S={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},rj={street:"",city:"",state:"",zipCode:"",country:""};function Mye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Rye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,nj=e=>Rye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},Fye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=H.useState(""),[s,o]=H.useState(""),[l,c]=H.useState("pending"),[u,f]=H.useState(""),[h,d]=H.useState([{...$S}]),[g,m]=H.useState({...rj}),[v,y]=H.useState({...rj}),[w,_]=H.useState("Credit Card"),[I,P]=H.useState(""),[D,E]=H.useState([]),[A,b]=H.useState(!1);H.useEffect(()=>{e&&(i(Mye()),f(Wt(new Date,"yyyy-MM-dd")),d([{...$S}]),c("pending"))},[e]),H.useEffect(()=>{e&&(async()=>{b(!0);try{const X=sr(Et(at,"inventory"),$a("name")),q=(await ur(X)).docs.map(U=>({id:U.id,...U.data()}));E(q.length>0?q:Sb)}catch{E(Sb)}finally{b(!1)}})()},[e]);const O=(J,X,Z)=>{d(q=>q.map((U,te)=>{if(te!==J)return U;if(X==="productName"){const z=D.find(C=>C.name===Z);return z?{...U,productId:z.id,productName:z.name,unitPrice:z.price,quantity:1,totalPrice:z.price*1}:U}if(X==="quantity"){const z=Number(Z);return{...U,quantity:z,totalPrice:U.unitPrice*z}}return{...U,[X]:Z}}))},T=()=>{d([...h,{...$S}])},N=J=>{d(X=>X.filter((Z,q)=>q!==J))},j=(J,X,Z)=>{J==="shipping"?m(q=>({...nj(q),[X]:Z})):y(q=>({...nj(q),[X]:Z}))},K=J=>{if(J.preventDefault(),h.some(q=>!q.productId||!q.productName)){alert("Please select a product for each order item.");return}const X=new Date,Z={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):X,updatedAt:X,items:h.map((q,U)=>({...q,id:`item${U+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:w,totalAmount:h.reduce((q,U)=>q+(U.totalPrice||0),0)};I&&(Z.notes=I),r(Z),t()};return p.jsx(Mn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:p.jsxs("form",{onSubmit:K,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(wt,{label:"Customer Name",value:s,onChange:J=>o(J.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx($r,{label:"Status",value:l,onChange:J=>c(J.target.value),options:jye,required:!0,fullWidth:!0,disabled:!0}),p.jsx($r,{label:"Payment Method",value:w,onChange:J=>_(J.target.value),options:Lye,required:!0,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx(wt,{label:"Order Date",type:"date",value:u,onChange:J=>f(J.target.value),required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((J,X)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx($r,{label:"Product Name",value:J.productName,onChange:Z=>O(X,"productName",Z.target.value),options:[{value:"",label:"Select product..."},...D.map(Z=>({value:Z.name,label:Z.name}))],required:!0,fullWidth:!0,disabled:A}),p.jsx(wt,{label:"Quantity",type:"number",value:J.quantity,onChange:Z=>O(X,"quantity",Number(Z.target.value)),min:1,required:!0,fullWidth:!0,disabled:!J.productName}),p.jsx(wt,{label:"Unit Price",type:"number",value:J.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(wt,{label:"Total Price",type:"number",value:J.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(dt,{type:"button",variant:"danger",size:"sm",icon:p.jsx($s,{size:16}),onClick:()=>N(X),children:"Remove"})]},X)),p.jsx(dt,{type:"button",variant:"primary",icon:p.jsx(Hi,{size:16}),onClick:T,disabled:A,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(wt,{label:"Street",value:g.street,onChange:J=>j("shipping","street",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"City",value:g.city,onChange:J=>j("shipping","city",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"State",value:g.state,onChange:J=>j("shipping","state",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Zip Code",value:g.zipCode,onChange:J=>j("shipping","zipCode",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Country",value:g.country,onChange:J=>j("shipping","country",J.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(wt,{label:"Street",value:v.street,onChange:J=>j("billing","street",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"City",value:v.city,onChange:J=>j("billing","city",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"State",value:v.state,onChange:J=>j("billing","state",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Zip Code",value:v.zipCode,onChange:J=>j("billing","zipCode",J.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Country",value:v.country,onChange:J=>j("billing","country",J.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(wt,{label:"Notes (optional)",value:I,onChange:J=>P(J.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(dt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},$ye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Bye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],aj={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},ij={street:"",city:"",state:"",zipCode:"",country:""},Vye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=H.useState(""),[o,l]=H.useState(""),[c,u]=H.useState("pending"),[f,h]=H.useState(""),[d,g]=H.useState(""),[m,v]=H.useState([{...aj}]),[y,w]=H.useState({...ij}),[_,I]=H.useState({...ij}),[P,D]=H.useState("Credit Card"),[E,A]=H.useState(""),[b,O]=H.useState([]),[T,N]=H.useState(!1);H.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(Wt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(te=>({...te}))),w(a.shippingAddress),I(a.billingAddress),D(a.paymentMethod),A(a.notes||""),a.status==="shipped"&&a.shippedTime?g(Wt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),H.useEffect(()=>{e&&(async()=>{N(!0);try{const z=sr(Et(at,"inventory"),$a("name")),R=(await ur(z)).docs.map(V=>({id:V.id,...V.data()}));O(R.length>0?R:Sb)}catch{O(Sb)}finally{N(!1)}})()},[e]);const j=(te,z,C)=>{v(R=>R.map((V,G)=>{if(G!==te)return V;if(z==="productName"){const Y=b.find(se=>se.name===C);return Y?{...V,productId:Y.id,productName:Y.name,unitPrice:Y.price,quantity:1,totalPrice:Y.price*1}:V}if(z==="quantity"){const Y=Number(C);return{...V,quantity:Y,totalPrice:V.unitPrice*Y}}return{...V,[z]:C}}))},K=()=>{v([...m,{...aj}])},J=te=>{v(z=>z.filter((C,R)=>R!==te))},X=(te,z,C)=>{te==="shipping"?w(R=>({...U(R),[z]:C})):I(R=>({...U(R),[z]:C}))},Z=te=>{if(te.preventDefault(),m.some(R=>!R.productId||!R.productName)){alert("Please select a product for each order item.");return}const z={orderNumber:i,customerName:o,status:c,items:m.map((R,V)=>{let G;return typeof R.id=="string"&&R.id?G=R.id:G=`item${V+1}`,{...R,id:G}}),shippingAddress:y,billingAddress:_,paymentMethod:P,totalAmount:m.reduce((R,V)=>R+(V.totalPrice||0),0)};E&&(z.notes=E),c==="shipped"&&d?z.shippedTime=Hue(d):a!=null&&a.shippedTime&&c!=="shipped"&&(z.shippedTime=null);const C={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...z};r(C),t()},q=te=>typeof te=="object"&&te!==null&&!Array.isArray(te)&&"street"in te&&"city"in te&&"state"in te&&"zipCode"in te&&"country"in te,U=te=>q(te)?te:{street:"",city:"",state:"",zipCode:"",country:""};return p.jsx(Mn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:p.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(wt,{label:"Customer Name",value:o,onChange:te=>l(te.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx($r,{label:"Status",value:c,onChange:te=>u(te.target.value),options:$ye,required:!0,fullWidth:!0}),p.jsx($r,{label:"Payment Method",value:P,onChange:te=>D(te.target.value),options:Bye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Order Date",type:"date",value:f,onChange:te=>h(te.target.value),required:!0,fullWidth:!0}),c==="shipped"&&p.jsx(wt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:te=>g(te.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((te,z)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx($r,{label:"Product Name",value:te.productName,onChange:C=>j(z,"productName",C.target.value),options:[{value:"",label:"Select product..."},...b.map(C=>({value:C.name,label:C.name}))],required:!0,fullWidth:!0,disabled:T}),p.jsx(wt,{label:"Quantity",type:"number",value:te.quantity,onChange:C=>j(z,"quantity",Number(C.target.value)),min:1,required:!0,fullWidth:!0,disabled:!te.productName}),p.jsx(wt,{label:"Unit Price",type:"number",value:te.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(wt,{label:"Total Price",type:"number",value:te.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(dt,{type:"button",variant:"danger",size:"sm",icon:p.jsx($s,{size:16}),onClick:()=>J(z),children:"Remove"})]},z)),p.jsx(dt,{type:"button",variant:"primary",icon:p.jsx(Hi,{size:16}),onClick:K,disabled:T,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(wt,{label:"Street",value:y.street,onChange:te=>X("shipping","street",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"City",value:y.city,onChange:te=>X("shipping","city",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"State",value:y.state,onChange:te=>X("shipping","state",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Zip Code",value:y.zipCode,onChange:te=>X("shipping","zipCode",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Country",value:y.country,onChange:te=>X("shipping","country",te.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(wt,{label:"Street",value:_.street,onChange:te=>X("billing","street",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"City",value:_.city,onChange:te=>X("billing","city",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"State",value:_.state,onChange:te=>X("billing","state",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Zip Code",value:_.zipCode,onChange:te=>X("billing","zipCode",te.target.value),required:!0,fullWidth:!0}),p.jsx(wt,{label:"Country",value:_.country,onChange:te=>X("billing","country",te.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(wt,{label:"Notes (optional)",value:E,onChange:te=>A(te.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(dt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(dt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Uye=()=>{const[e,t]=H.useState(""),[r,n]=H.useState("all"),[a,i]=H.useState("date"),[s,o]=H.useState(null),[l,c]=H.useState("grid"),[u,f]=H.useState(!1),[h,d]=H.useState(!1),[g,m]=H.useState([]),[v,y]=H.useState(null),[w,_]=H.useState(!1),{showToast:I}=Kc(),{user:P}=xa(),{isDarkMode:D}=Xr(),E=async()=>{d(!0);try{const q=sr(Et(at,"orders"),$a("createdAt","desc")),te=(await ur(q)).docs.map(z=>{const C=z.data();return{id:z.id,orderNumber:C.orderNumber||"",customerName:C.customerName||"",items:C.items||[],status:C.status||"pending",createdAt:C.createdAt instanceof Xt?C.createdAt.toDate():new Date(C.createdAt),updatedAt:C.updatedAt instanceof Xt?C.updatedAt.toDate():new Date(C.updatedAt),shippingAddress:C.shippingAddress||{},billingAddress:C.billingAddress||{},paymentMethod:C.paymentMethod||"",totalAmount:C.totalAmount||0,notes:C.notes||"",shippedTime:C.shippedTime instanceof Xt?C.shippedTime.toDate():C.shippedTime?new Date(C.shippedTime):void 0}});m(te)}catch(q){console.error("Error fetching orders:",q),I("Failed to fetch orders","error")}finally{d(!1)}};H.useEffect(()=>{E()},[]);const A=g.filter(q=>{const U=q.orderNumber.toLowerCase().includes(e.toLowerCase())||q.customerName.toLowerCase().includes(e.toLowerCase()),te=r==="all"||q.status===r;return U&&te}).sort((q,U)=>a==="date"?new Date(U.createdAt).getTime()-new Date(q.createdAt).getTime():a==="amount"?U.totalAmount-q.totalAmount:0),b=q=>{o(q)},O=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],T=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],N=async q=>{d(!0);try{console.log("Adding new order with status:",q.status),await Or(Et(at,"orders"),{...q,createdAt:Ah(),updatedAt:Ah()}),await Or(Et(at,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${q.orderNumber} for '${q.customerName}' with ${q.items.length} items (${q.items.map(U=>`${U.quantity} ${U.productName}`).join(", ")}) - Total: $${q.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),q.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await vx(q.items,!0)),await E(),f(!1),I("Order added successfully!","success")}catch(U){console.error("Error in handleAddOrder:",U),alert("Error adding order: "+((U==null?void 0:U.message)||U))}finally{d(!1)}},j=async q=>{d(!0);try{const U=en(at,"orders",q.id),z=(await Tv(U)).data();console.log("Previous order status:",z==null?void 0:z.status),console.log("New order status:",q.status);const C={status:q.status,updatedAt:Ah()},R=[];if((z==null?void 0:z.status)!==q.status&&R.push(`status from "${z==null?void 0:z.status}" to "${q.status}"`),(z==null?void 0:z.customerName)!==q.customerName&&R.push(`customer from "${z==null?void 0:z.customerName}" to "${q.customerName}"`),JSON.stringify(z==null?void 0:z.items)!==JSON.stringify(q.items)){const G=[];q.items.forEach(Y=>{const se=z==null?void 0:z.items.find(ce=>ce.id===Y.id);se?se.quantity!==Y.quantity&&G.push(`changed ${Y.productName} quantity from ${se.quantity} to ${Y.quantity}`):G.push(`added ${Y.quantity} ${Y.productName}`)}),z==null||z.items.forEach(Y=>{q.items.find(se=>se.id===Y.id)||G.push(`removed ${Y.quantity} ${Y.productName}`)}),G.length>0&&R.push(`items: ${G.join(", ")}`)}(z==null?void 0:z.totalAmount)!==q.totalAmount&&R.push(`total amount from $${z==null?void 0:z.totalAmount.toFixed(2)} to $${q.totalAmount.toFixed(2)}`),q.status==="shipped"&&(z==null?void 0:z.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await vx(q.items,!0),q.shippedTime?C.shippedTime=Xt.fromDate(q.shippedTime):C.shippedTime=Ah()):(z==null?void 0:z.status)==="shipped"&&q.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await vx(q.items,!1),C.shippedTime=EI()):(q.status==="cancelled"||q.status==="returned")&&(z==null?void 0:z.status)!=="cancelled"&&(z==null?void 0:z.status)!=="returned"?(console.log(`Status changed to ${q.status}, restoring inventory...`),await vx(q.items,!1),C.shippedTime=EI()):z!=null&&z.shippedTime&&(C.shippedTime=Xt.fromDate(z.shippedTime));const{...V}=q;Object.assign(C,V),await Fa(U,C),R.length>0&&await Or(Et(at,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${q.orderNumber}: ${R.join("; ")}`,time:new Date().toISOString()}),await E(),y(null),I("Order updated successfully!","success")}catch(U){console.error("Error updating order:",U),I("Failed to update order","error")}finally{d(!1)}},K=()=>{y(null)},J=async q=>{d(!0);try{const U=en(at,"orders",q),z=(await Tv(U)).data();z&&(await Or(Et(at,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${z.orderNumber} for '${z.customerName}' with ${z.items.length} items (${z.items.map(C=>`${C.quantity} ${C.productName}`).join(", ")}) - Total: $${z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await op(U),await E(),_(!1),o(null),I("Order deleted successfully!","success"))}catch(U){console.error("Error deleting order:",U),I("Failed to delete order","error")}finally{d(!1)}},X=(q,U)=>{q.stopPropagation(),o(U),_(!0)},Z=(q,U)=>{q.stopPropagation(),y(U)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${D?"text-white":"text-slate-800"}`,children:"Current Orders"}),p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),p.jsx(dt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:p.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsx("div",{className:"md:flex-1",children:p.jsx(wt,{placeholder:"Search by order number or customer...",value:e,onChange:q=>t(q.target.value),icon:p.jsx(yf,{size:18}),fullWidth:!0})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx($r,{options:O,value:r,onChange:q=>n(q.target.value)}),p.jsx($r,{options:T,value:a,onChange:q=>i(q.target.value)})]})]}),p.jsx("div",{className:"flex justify-end mb-4",children:p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":D?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[p.jsx(hZ,{size:18,className:"inline mr-1"})," Grid"]}),p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":D?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[p.jsx(_Z,{size:18,className:"inline mr-1"})," Table"]})]})}),h?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx(cs,{className:`w-8 h-8 ${D?"text-blue-400":"text-blue-500"} animate-spin`}),p.jsx("p",{className:`mt-2 ${D?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?A.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(q=>p.jsx("div",{className:"flex flex-col",children:p.jsx(Oye,{order:q,onClick:()=>b(q),editButton:p.jsx("button",{onClick:U=>Z(U,q),className:`p-2 ${D?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:p.jsx(sl,{className:`w-4 h-4 ${D?"text-blue-400":"text-blue-500"}`})})})},q.id))}):p.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):A.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${D?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[p.jsx("thead",{className:D?"bg-slate-900":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${D?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`${D?"divide-slate-700":"divide-slate-200"}`,children:A.map(q=>p.jsxs("tr",{className:`${D?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>b(q),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-blue-400":"text-blue-700"} font-medium`,children:q.orderNumber}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"}`,children:q.customerName}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"} capitalize`,children:q.status}),p.jsx("td",{className:`px-4 py-3 text-sm ${D?"text-slate-300":"text-slate-800"}`,children:new Date(q.createdAt).toLocaleDateString()}),p.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${D?"text-slate-200":"text-slate-900"} text-right`,children:["$",q.totalAmount.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:U=>{U.stopPropagation(),y(q)},className:`p-1 ${D?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(sl,{size:16})}),p.jsx("button",{onClick:U=>X(U,q),className:`p-1 ${D?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx($s,{size:16})})]})})]},q.id))})]})}):p.jsx("div",{className:`text-center py-12 ${D?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${D?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&p.jsx(Iye,{isOpen:!!s,onClose:()=>o(null),order:s}),p.jsx(Fye,{isOpen:u,onClose:()=>f(!1),onAdd:N,isLoading:h}),p.jsx(Vye,{isOpen:!!v,onClose:K,onEdit:j,isLoading:h,order:v}),s&&p.jsx(_b,{isOpen:w,onClose:()=>{_(!1),o(null)},onConfirm:()=>J(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},vx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Tae(at),n=[];for(const a of e){const i=en(at,"inventory",a.productId),s=await Tv(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await Or(Et(at,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},zye="modulepreload",qye=function(e){return"/"+e},sj={},PT=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=qye(l),l in sj)return;sj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":zye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var ki=Uint8Array,Rs=Uint16Array,hC=Int32Array,x5=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b5=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OT=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Nq=function(e,t){for(var r=new Rs(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new hC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Cq=Nq(x5,2),Pq=Cq.b,IT=Cq.r;Pq[28]=258,IT[258]=28;var Oq=Nq(b5,0),Wye=Oq.b,oj=Oq.r,DT=new Rs(32768);for(var Pn=0;Pn<32768;++Pn){var Cu=(Pn&43690)>>1|(Pn&21845)<<1;Cu=(Cu&52428)>>2|(Cu&13107)<<2,Cu=(Cu&61680)>>4|(Cu&3855)<<4,DT[Pn]=((Cu&65280)>>8|(Cu&255)<<8)>>1}var Rl=function(e,t,r){for(var n=e.length,a=0,i=new Rs(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Rs(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Rs(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[DT[f]>>l]=c}else for(o=new Rs(n),a=0;a<n;++a)e[a]&&(o[a]=DT[s[e[a]-1]++]>>15-e[a]);return o},Nf=new ki(288);for(var Pn=0;Pn<144;++Pn)Nf[Pn]=8;for(var Pn=144;Pn<256;++Pn)Nf[Pn]=9;for(var Pn=256;Pn<280;++Pn)Nf[Pn]=7;for(var Pn=280;Pn<288;++Pn)Nf[Pn]=8;var zv=new ki(32);for(var Pn=0;Pn<32;++Pn)zv[Pn]=5;var Hye=Rl(Nf,9,0),Gye=Rl(Nf,9,1),Kye=Rl(zv,5,0),Yye=Rl(zv,5,1),BS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Fo=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},VS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},dC=function(e){return(e+7)/8|0},Iq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ki(e.subarray(t,r))},Xye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],qo=function(e,t,r){var n=new Error(t||Xye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,qo),!r)throw n;return n},Qye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ki(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new ki(a*3));var c=function(be){var B=r.length;if(be>B){var Te=new ki(Math.max(B*2,be));Te.set(r),r=Te}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!d){u=Fo(e,f,1);var w=Fo(e,f+1,3);if(f+=3,w)if(w==1)d=Gye,g=Yye,m=9,v=5;else if(w==2){var D=Fo(e,f,31)+257,E=Fo(e,f+10,15)+4,A=D+Fo(e,f+5,31)+1;f+=14;for(var b=new ki(A),O=new ki(19),T=0;T<E;++T)O[OT[T]]=Fo(e,f+T*3,7);f+=E*3;for(var N=BS(O),j=(1<<N)-1,K=Rl(O,N,1),T=0;T<A;){var J=K[Fo(e,f,j)];f+=J&15;var _=J>>4;if(_<16)b[T++]=_;else{var X=0,Z=0;for(_==16?(Z=3+Fo(e,f,3),f+=2,X=b[T-1]):_==17?(Z=3+Fo(e,f,7),f+=3):_==18&&(Z=11+Fo(e,f,127),f+=7);Z--;)b[T++]=X}}var q=b.subarray(0,D),U=b.subarray(D);m=BS(q),v=BS(U),d=Rl(q,m,1),g=Rl(U,v,1)}else qo(1);else{var _=dC(f)+4,I=e[_-4]|e[_-3]<<8,P=_+I;if(P>a){l&&qo(0);break}o&&c(h+I),r.set(e.subarray(_,P),h),t.b=h+=I,t.p=f=P*8,t.f=u;continue}if(f>y){l&&qo(0);break}}o&&c(h+131072);for(var te=(1<<m)-1,z=(1<<v)-1,C=f;;C=f){var X=d[VS(e,f)&te],R=X>>4;if(f+=X&15,f>y){l&&qo(0);break}if(X||qo(2),R<256)r[h++]=R;else if(R==256){C=f,d=null;break}else{var V=R-254;if(R>264){var T=R-257,G=x5[T];V=Fo(e,f,(1<<G)-1)+Pq[T],f+=G}var Y=g[VS(e,f)&z],se=Y>>4;Y||qo(3),f+=Y&15;var U=Wye[se];if(se>3){var G=b5[se];U+=VS(e,f)&(1<<G)-1,f+=G}if(f>y){l&&qo(0);break}o&&c(h+131072);var ce=h+V;if(h<U){var re=i-U,he=Math.min(U,ce);for(re+h<0&&qo(3);h<he;++h)r[h]=n[re+h]}for(;h<ce;++h)r[h]=r[h-U]}}t.l=d,t.p=C,t.b=h,t.f=u,d&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?Iq(r,0,h):r.subarray(0,h)},lc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$m=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},US=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:jq,l:0};if(a==1){var s=new ki(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,D){return P.f-D.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new Rs(h+1),g=jT(r[u-1],d,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(D,E){return d[E.s]-d[D.s]||D.f-E.f});n<a;++n){var w=i[n].s;if(d[w]>t)m+=y-(1<<g-d[w]),d[w]=t;else break}for(m>>=v;m>0;){var _=i[n].s;d[_]<t?m-=1<<t-d[_]++-1:++n}for(;n>=0&&m;--n){var I=i[n].s;d[I]==t&&(--d[I],++m)}g=t}return{t:new ki(d),l:g}},jT=function(e,t,r){return e.s==-1?Math.max(jT(e.l,t,r+1),jT(e.r,t,r+1)):t[e.s]=r},lj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Rs(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Bm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Dq=function(e,t,r){var n=r.length,a=dC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},cj=function(e,t,r,n,a,i,s,o,l,c,u){lc(t,u++,r),++a[256];for(var f=US(a,15),h=f.t,d=f.l,g=US(i,15),m=g.t,v=g.l,y=lj(h),w=y.c,_=y.n,I=lj(m),P=I.c,D=I.n,E=new Rs(19),A=0;A<w.length;++A)++E[w[A]&31];for(var A=0;A<P.length;++A)++E[P[A]&31];for(var b=US(E,7),O=b.t,T=b.l,N=19;N>4&&!O[OT[N-1]];--N);var j=c+5<<3,K=Bm(a,Nf)+Bm(i,zv)+s,J=Bm(a,h)+Bm(i,m)+s+14+3*N+Bm(E,O)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&j<=K&&j<=J)return Dq(t,u,e.subarray(l,l+c));var X,Z,q,U;if(lc(t,u,1+(J<K)),u+=2,J<K){X=Rl(h,d,0),Z=h,q=Rl(m,v,0),U=m;var te=Rl(O,T,0);lc(t,u,_-257),lc(t,u+5,D-1),lc(t,u+10,N-4),u+=14;for(var A=0;A<N;++A)lc(t,u+3*A,O[OT[A]]);u+=3*N;for(var z=[w,P],C=0;C<2;++C)for(var R=z[C],A=0;A<R.length;++A){var V=R[A]&31;lc(t,u,te[V]),u+=O[V],V>15&&(lc(t,u,R[A]>>5&127),u+=R[A]>>12)}}else X=Hye,Z=Nf,q=Kye,U=zv;for(var A=0;A<o;++A){var G=n[A];if(G>255){var V=G>>18&31;$m(t,u,X[V+257]),u+=Z[V+257],V>7&&(lc(t,u,G>>23&31),u+=x5[V]);var Y=G&31;$m(t,u,q[Y]),u+=U[Y],Y>3&&($m(t,u,G>>5&8191),u+=b5[Y])}else $m(t,u,X[G]),u+=Z[G]}return $m(t,u,X[256]),u+Z[256]},Jye=new hC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),jq=new ki(0),Zye=function(e,t,r,n,a,i){var s=i.z||e.length,o=new ki(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=Jye[t-1],h=f>>13,d=f&8191,g=(1<<r)-1,m=i.p||new Rs(32768),v=i.h||new Rs(g+1),y=Math.ceil(r/3),w=2*y,_=function(_e){return(e[_e]^e[_e+1]<<y^e[_e+2]<<w)&g},I=new hC(25e3),P=new Rs(288),D=new Rs(32),E=0,A=0,b=i.i||0,O=0,T=i.w||0,N=0;b+2<s;++b){var j=_(b),K=b&32767,J=v[j];if(m[K]=J,v[j]=K,T<=b){var X=s-b;if((E>7e3||O>24576)&&(X>423||!c)){u=cj(e,l,0,I,P,D,A,O,N,b-N,u),O=E=A=0,N=b;for(var Z=0;Z<286;++Z)P[Z]=0;for(var Z=0;Z<30;++Z)D[Z]=0}var q=2,U=0,te=d,z=K-J&32767;if(X>2&&j==_(b-z))for(var C=Math.min(h,X)-1,R=Math.min(32767,b),V=Math.min(258,X);z<=R&&--te&&K!=J;){if(e[b+q]==e[b+q-z]){for(var G=0;G<V&&e[b+G]==e[b+G-z];++G);if(G>q){if(q=G,U=z,G>C)break;for(var Y=Math.min(z,G-2),se=0,Z=0;Z<Y;++Z){var ce=b-z+Z&32767,re=m[ce],he=ce-re&32767;he>se&&(se=he,J=ce)}}}K=J,J=m[K],z+=K-J&32767}if(U){I[O++]=268435456|IT[q]<<18|oj[U];var be=IT[q]&31,B=oj[U]&31;A+=x5[be]+b5[B],++P[257+be],++D[B],T=b+q,++E}else I[O++]=e[b],++P[e[b]]}}for(b=Math.max(b,T);b<s;++b)I[O++]=e[b],++P[e[b]];u=cj(e,l,c,I,P,D,A,O,N,b-N,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=b,i.w=T)}else{for(var b=i.w||0;b<s+c;b+=65535){var Te=b+65535;Te>=s&&(l[u/8|0]=c,Te=s),u=Dq(l,u+1,e.subarray(b,Te))}i.i=s}return Iq(o,0,n+dC(u)+a)},Lq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},exe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new ki(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Zye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Mq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},txe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Lq();a.p(t.dictionary),Mq(e,2,a.d())}},rxe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&qo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&qo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function LT(e,t){t||(t={});var r=Lq();r.p(e);var n=exe(e,t,t.dictionary?6:2,4);return txe(n,t),Mq(n,n.length-4,r.d()),n}function nxe(e,t){return Qye(e.subarray(rxe(e,t),-4),{i:2},t,t)}var axe=typeof TextDecoder<"u"&&new TextDecoder,ixe=0;try{axe.decode(jq,{stream:!0}),ixe=1}catch{}var er=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zS(){er.console&&typeof er.console.log=="function"&&er.console.log.apply(er.console,arguments)}var vn={log:zS,warn:function(e){er.console&&(typeof er.console.warn=="function"?er.console.warn.apply(er.console,arguments):zS.call(null,arguments))},error:function(e){er.console&&(typeof er.console.error=="function"?er.console.error.apply(er.console,arguments):zS(e))}};function qS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ph(n.response,t,r)},n.onerror=function(){vn.error("could not download file")},n.send()}function uj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function yx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Vg,MT,ph=er.saveAs||((typeof window>"u"?"undefined":Kr(window))!=="object"||window!==er?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=er.URL||er.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?uj(a.href)?qS(e,t,r):yx(a,a.target="_blank"):yx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){yx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(uj(e))qS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){yx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Kr(i)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return qS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(er.HTMLElement)||er.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Kr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=er.URL||er.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Rq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function WS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=pi(r,n,a,i,t[0],7,-680876936),i=pi(i,r,n,a,t[1],12,-389564586),a=pi(a,i,r,n,t[2],17,606105819),n=pi(n,a,i,r,t[3],22,-1044525330),r=pi(r,n,a,i,t[4],7,-176418897),i=pi(i,r,n,a,t[5],12,1200080426),a=pi(a,i,r,n,t[6],17,-1473231341),n=pi(n,a,i,r,t[7],22,-45705983),r=pi(r,n,a,i,t[8],7,1770035416),i=pi(i,r,n,a,t[9],12,-1958414417),a=pi(a,i,r,n,t[10],17,-42063),n=pi(n,a,i,r,t[11],22,-1990404162),r=pi(r,n,a,i,t[12],7,1804603682),i=pi(i,r,n,a,t[13],12,-40341101),a=pi(a,i,r,n,t[14],17,-1502002290),r=mi(r,n=pi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=mi(i,r,n,a,t[6],9,-1069501632),a=mi(a,i,r,n,t[11],14,643717713),n=mi(n,a,i,r,t[0],20,-373897302),r=mi(r,n,a,i,t[5],5,-701558691),i=mi(i,r,n,a,t[10],9,38016083),a=mi(a,i,r,n,t[15],14,-660478335),n=mi(n,a,i,r,t[4],20,-405537848),r=mi(r,n,a,i,t[9],5,568446438),i=mi(i,r,n,a,t[14],9,-1019803690),a=mi(a,i,r,n,t[3],14,-187363961),n=mi(n,a,i,r,t[8],20,1163531501),r=mi(r,n,a,i,t[13],5,-1444681467),i=mi(i,r,n,a,t[2],9,-51403784),a=mi(a,i,r,n,t[7],14,1735328473),r=gi(r,n=mi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=gi(i,r,n,a,t[8],11,-2022574463),a=gi(a,i,r,n,t[11],16,1839030562),n=gi(n,a,i,r,t[14],23,-35309556),r=gi(r,n,a,i,t[1],4,-1530992060),i=gi(i,r,n,a,t[4],11,1272893353),a=gi(a,i,r,n,t[7],16,-155497632),n=gi(n,a,i,r,t[10],23,-1094730640),r=gi(r,n,a,i,t[13],4,681279174),i=gi(i,r,n,a,t[0],11,-358537222),a=gi(a,i,r,n,t[3],16,-722521979),n=gi(n,a,i,r,t[6],23,76029189),r=gi(r,n,a,i,t[9],4,-640364487),i=gi(i,r,n,a,t[12],11,-421815835),a=gi(a,i,r,n,t[15],16,530742520),r=vi(r,n=gi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=vi(i,r,n,a,t[7],10,1126891415),a=vi(a,i,r,n,t[14],15,-1416354905),n=vi(n,a,i,r,t[5],21,-57434055),r=vi(r,n,a,i,t[12],6,1700485571),i=vi(i,r,n,a,t[3],10,-1894986606),a=vi(a,i,r,n,t[10],15,-1051523),n=vi(n,a,i,r,t[1],21,-2054922799),r=vi(r,n,a,i,t[8],6,1873313359),i=vi(i,r,n,a,t[15],10,-30611744),a=vi(a,i,r,n,t[6],15,-1560198380),n=vi(n,a,i,r,t[13],21,1309151649),r=vi(r,n,a,i,t[4],6,-145523070),i=vi(i,r,n,a,t[11],10,-1120210379),a=vi(a,i,r,n,t[2],15,718787259),n=vi(n,a,i,r,t[9],21,-343485551),e[0]=Yu(r,e[0]),e[1]=Yu(n,e[1]),e[2]=Yu(a,e[2]),e[3]=Yu(i,e[3])}function w5(e,t,r,n,a,i){return t=Yu(Yu(t,e),Yu(n,i)),Yu(t<<a|t>>>32-a,r)}function pi(e,t,r,n,a,i,s){return w5(t&r|~t&n,e,t,a,i,s)}function mi(e,t,r,n,a,i,s){return w5(t&n|r&~n,e,t,a,i,s)}function gi(e,t,r,n,a,i,s){return w5(t^r^n,e,t,a,i,s)}function vi(e,t,r,n,a,i,s){return w5(r^(t|~n),e,t,a,i,s)}function Fq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)WS(n,sxe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(WS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,WS(n,a),n}function sxe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Vg=er.atob.bind(er),MT=er.btoa.bind(er);var fj="0123456789abcdef".split("");function oxe(e){for(var t="",r=0;r<4;r++)t+=fj[e>>8*r+4&15]+fj[e>>8*r&15];return t}function lxe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function RT(e){return Fq(e).map(lxe).join("")}var cxe=function(e){for(var t=0;t<e.length;t++)e[t]=oxe(e[t]);return e.join("")}(Fq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yu(e,t){if(cxe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function FT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,g="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hj={print:4,modify:8,copy:16,"annot-forms":32};function e0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(hj.perm!==void 0)throw new Error("Invalid permission: "+o);a+=hj[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=RT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=FT(this.encryptionKey,this.padding)}function t0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function dj(e){if(Kr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){er.console&&vn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ab(e){if(!(this instanceof Ab))return new Ab(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function $q(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xh(e,t,r,n,a){if(!(this instanceof xh))return new xh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,$q.call(this,n,a)}function b0(e,t,r,n,a){if(!(this instanceof b0))return new b0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,$q.call(this,n,a)}function Zt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Kr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=dj;var g="1.3",m=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var y=d.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function I(){this.saveGraphicsState(),ee(new Ye(nt,0,0,-nt,0,ci()*nt).toString()+" cm"),this.setFontSize(this.getFontSize()/nt),c="n",_=w.ADVANCED}function P(){this.restoreGraphicsState(),c="S",_=w.COMPAT}var D=d.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};d.advancedAPI=function(L){var ne=_===w.COMPAT;return ne&&I.call(this),typeof L!="function"||(L(this),ne&&P.call(this)),this},d.compatAPI=function(L){var ne=_===w.ADVANCED;return ne&&P.call(this),typeof L!="function"||(L(this),ne&&I.call(this)),this},d.isAdvancedAPI=function(){return _===w.ADVANCED};var E,A=function(L){if(_!==w.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},b=d.roundToPrecision=d.__private__.roundToPrecision=function(L,ne){var Se=t||ne;if(isNaN(L)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Se).replace(/0+$/,"")};E=d.hpf=d.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return b(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return b(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return b(L,16)};var O=d.f2=d.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return b(L,2)},T=d.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return b(L,3)},N=d.scale=d.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?L*nt:_===w.ADVANCED?L:void 0},j=function(L){return _===w.COMPAT?ci()-L:_===w.ADVANCED?L:void 0},K=function(L){return N(j(L))};d.__private__.setPrecision=d.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var J,X="00000000000000000000000000000000",Z=d.__private__.getFileId=function(){return X},q=d.__private__.setFileId=function(L){return X=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():X.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Tn=new e0(u.userPermissions,u.userPassword,u.ownerPassword,X)),X};d.setFileId=function(L){return q(L),this},d.getFileId=function(){return Z()};var U=d.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Se=ne<0?"+":"-",Ne=Math.floor(Math.abs(ne/60)),Le=Math.abs(ne%60),et=[Se,V(Ne),"'",V(Le),"'"].join("");return["D:",L.getFullYear(),V(L.getMonth()+1),V(L.getDate()),V(L.getHours()),V(L.getMinutes()),V(L.getSeconds()),et].join("")},te=d.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Se=parseInt(L.substr(6,2),10)-1,Ne=parseInt(L.substr(8,2),10),Le=parseInt(L.substr(10,2),10),et=parseInt(L.substr(12,2),10),mt=parseInt(L.substr(14,2),10);return new Date(ne,Se,Ne,Le,et,mt,0)},z=d.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=U(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return J=ne},C=d.__private__.getCreationDate=function(L){var ne=J;return L==="jsDate"&&(ne=te(J)),ne};d.setCreationDate=function(L){return z(L),this},d.getCreationDate=function(L){return C(L)};var R,V=d.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},G=d.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Y=0,se=[],ce=[],re=0,he=[],be=[],B=!1,Te=ce,_e=function(){Y=0,re=0,ce=[],se=[],he=[],pe=gr(),me=gr()};d.__private__.setCustomOutputDestination=function(L){B=!0,Te=L};var ge=function(L){B||(Te=L)};d.__private__.resetCustomOutputDestination=function(){B=!1,Te=ce};var ee=d.__private__.out=function(L){return L=L.toString(),re+=L.length+1,Te.push(L),Te},Ae=d.__private__.write=function(L){return ee(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Oe=d.__private__.getArrayBuffer=function(L){for(var ne=L.length,Se=new ArrayBuffer(ne),Ne=new Uint8Array(Se);ne--;)Ne[ne]=L.charCodeAt(ne);return Se},Me=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Me};var Ke=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(L){return Ke=_===w.ADVANCED?L/nt:L,this};var $e,Xe=d.__private__.getFontSize=d.getFontSize=function(){return _===w.COMPAT?Ke:Ke*nt},Fe=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(L){return Fe=L,this},d.__private__.getR2L=d.getR2L=function(){return Fe};var Qe,ct=d.__private__.setZoomMode=function(L){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))$e=L;else if(isNaN(L)){if(ne.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');$e=L}else $e=parseInt(L,10)};d.__private__.getZoomMode=function(){return $e};var rt,gt=d.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Qe=L};d.__private__.getPageMode=function(){return Qe};var yt=d.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');rt=L};d.__private__.getLayoutMode=function(){return rt},d.__private__.setDisplayMode=d.setDisplayMode=function(L,ne,Se){return ct(L),yt(ne),gt(Se),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(L){if(Object.keys(At).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[L]},d.__private__.getDocumentProperties=function(){return At},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(L){for(var ne in At)At.hasOwnProperty(ne)&&L[ne]&&(At[ne]=L[ne]);return this},d.__private__.setDocumentProperty=function(L,ne){if(Object.keys(At).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[L]=ne};var xt,nt,qt,$t,Hr,ke={},Je={},kt=[],Pt={},fr={},vr={},Cr={},pn=null,Pr=0,Ht=[],Sr=new dj(d),qa=e.hotfixes||[],In={},Ee={},bt=[],Ye=function L(ne,Se,Ne,Le,et,mt){if(!(this instanceof L))return new L(ne,Se,Ne,Le,et,mt);isNaN(ne)&&(ne=1),isNaN(Se)&&(Se=0),isNaN(Ne)&&(Ne=0),isNaN(Le)&&(Le=1),isNaN(et)&&(et=0),isNaN(mt)&&(mt=0),this._matrix=[ne,Se,Ne,Le,et,mt]};Object.defineProperty(Ye.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ye.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ye.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ye.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ye.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ye.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ye.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ye.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ye.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ye.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ye.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ye.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ye.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ye.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ye.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ye.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ye.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},Ye.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Se=L.sx*this.shy+L.shy*this.sy,Ne=L.shx*this.sx+L.sy*this.shx,Le=L.shx*this.shy+L.sy*this.sy,et=L.tx*this.sx+L.ty*this.shx+this.tx,mt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ye(ne,Se,Ne,Le,et,mt)},Ye.prototype.decompose=function(){var L=this.sx,ne=this.shy,Se=this.shx,Ne=this.sy,Le=this.tx,et=this.ty,mt=Math.sqrt(L*L+ne*ne),jt=(L/=mt)*Se+(ne/=mt)*Ne;Se-=L*jt,Ne-=ne*jt;var S=Math.sqrt(Se*Se+Ne*Ne);return jt/=S,L*(Ne/=S)<ne*(Se/=S)&&(L=-L,ne=-ne,jt=-jt,mt=-mt),{scale:new Ye(mt,0,0,S,0,0),translate:new Ye(1,0,0,1,Le,et),rotate:new Ye(L,ne,-ne,L,0,0),skew:new Ye(1,0,jt,1,0,0)}},Ye.prototype.toString=function(L){return this.join(" ")},Ye.prototype.inversed=function(){var L=this.sx,ne=this.shy,Se=this.shx,Ne=this.sy,Le=this.tx,et=this.ty,mt=1/(L*Ne-ne*Se),jt=Ne*mt,S=-ne*mt,F=-Se*mt,Q=L*mt;return new Ye(jt,S,F,Q,-jt*Le-F*et,-S*Le-Q*et)},Ye.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Se=L.x*this.shy+L.y*this.sy+this.ty;return new Zl(ne,Se)},Ye.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Se=this.applyToPoint(new Zl(L.x+L.w,L.y+L.h));return new fu(ne.x,ne.y,Se.x-ne.x,Se.y-ne.y)},Ye.prototype.clone=function(){var L=this.sx,ne=this.shy,Se=this.shx,Ne=this.sy,Le=this.tx,et=this.ty;return new Ye(L,ne,Se,Ne,Le,et)},d.Matrix=Ye;var Gt=d.matrixMult=function(L,ne){return ne.multiply(L)},Ct=new Ye(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ct;var ft=function(L,ne){if(!fr[L]){var Se=(ne instanceof xh?"Sh":"P")+(Object.keys(Pt).length+1).toString(10);ne.id=Se,fr[L]=Se,Pt[Se]=ne,Sr.publish("addPattern",ne)}};d.ShadingPattern=xh,d.TilingPattern=b0,d.addShadingPattern=function(L,ne){return A("addShadingPattern()"),ft(L,ne),this},d.beginTilingPattern=function(L){A("beginTilingPattern()"),hu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},d.endTilingPattern=function(L,ne){A("endTilingPattern()"),ne.stream=be[R].join(`
`),ft(L,ne),Sr.publish("endTilingPattern",ne),bt.pop().restore()};var Nt=d.__private__.newObject=function(){var L=gr();return ie(L,!0),L},gr=d.__private__.newObjectDeferred=function(){return Y++,se[Y]=function(){return re},Y},ie=function(L,ne){return ne=typeof ne=="boolean"&&ne,se[L]=re,ne&&ee(L+" 0 obj"),L},xe=d.__private__.newAdditionalObject=function(){var L={objId:gr(),content:""};return he.push(L),L},pe=gr(),me=gr(),ye=d.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Se=parseFloat(ne[0]);ne=[Se,Se,Se,"r"]}for(var Ne="#",Le=0;Le<3;Le++)Ne+=("0"+Math.floor(255*parseFloat(ne[Le])).toString(16)).slice(-2);return Ne},we=d.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Se=L.ch1,Ne=L.ch2,Le=L.ch3,et=L.ch4,mt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var jt=new Rq(Se);if(jt.ok)Se=jt.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var S=parseInt(Se.substr(1),16);Se=S>>16&255,Ne=S>>8&255,Le=255&S}if(Ne===void 0||et===void 0&&Se===Ne&&Ne===Le)if(typeof Se=="string")ne=Se+" "+mt[0];else switch(L.precision){case 2:ne=O(Se/255)+" "+mt[0];break;case 3:default:ne=T(Se/255)+" "+mt[0]}else if(et===void 0||Kr(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return ne=["1.","1.","1.",mt[1]].join(" ");if(typeof Se=="string")ne=[Se,Ne,Le,mt[1]].join(" ");else switch(L.precision){case 2:ne=[O(Se/255),O(Ne/255),O(Le/255),mt[1]].join(" ");break;default:case 3:ne=[T(Se/255),T(Ne/255),T(Le/255),mt[1]].join(" ")}}else if(typeof Se=="string")ne=[Se,Ne,Le,et,mt[2]].join(" ");else switch(L.precision){case 2:ne=[O(Se),O(Ne),O(Le),O(et),mt[2]].join(" ");break;case 3:default:ne=[T(Se),T(Ne),T(Le),T(et),mt[2]].join(" ")}return ne},Be=d.__private__.getFilters=function(){return s},Ge=d.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Se=L.filters||Be(),Ne=L.alreadyAppliedFilters||[],Le=L.addLength1||!1,et=ne.length,mt=L.objectId,jt=function(hr){return hr};if(u!==null&&mt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(jt=Tn.encryptor(mt,0));var S={};Se===!0&&(Se=["FlateEncode"]);var F=L.additionalKeyValues||[],Q=(S=Zt.API.processDataByFilters!==void 0?Zt.API.processDataByFilters(ne,Se):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(S.data.length!==0&&(F.push({key:"Length",value:S.data.length}),Le===!0&&F.push({key:"Length1",value:et})),Q.length!=0)if(Q.split("/").length-1==1)F.push({key:"Filter",value:Q});else{F.push({key:"Filter",value:"["+Q+"]"});for(var ue=0;ue<F.length;ue+=1)if(F[ue].key==="DecodeParms"){for(var je=[],We=0;We<S.reverseChain.split("/").length-1;We+=1)je.push("null");je.push(F[ue].value),F[ue].value="["+je.join(" ")+"]"}}ee("<<");for(var vt=0;vt<F.length;vt++)ee("/"+F[vt].key+" "+F[vt].value);ee(">>"),S.data.length!==0&&(ee("stream"),ee(jt(S.data)),ee("endstream"))},Ve=d.__private__.putPage=function(L){var ne=L.number,Se=L.data,Ne=L.objId,Le=L.contentsObjId;ie(Ne,!0),ee("<</Type /Page"),ee("/Parent "+L.rootDictionaryObjId+" 0 R"),ee("/Resources "+L.resourceDictionaryObjId+" 0 R"),ee("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ee("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ee("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ee("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&ee("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ee("/UserUnit "+L.userUnit),Sr.publish("putPage",{objId:Ne,pageContext:Ht[ne],pageNumber:ne,page:Se}),ee("/Contents "+Le+" 0 R"),ee(">>"),ee("endobj");var et=Se.join(`
`);return _===w.ADVANCED&&(et+=`
Q`),ie(Le,!0),Ge({data:et,filters:Be(),objectId:Le}),ee("endobj"),Ne},Ue=d.__private__.putPages=function(){var L,ne,Se=[];for(L=1;L<=Pr;L++)Ht[L].objId=gr(),Ht[L].contentsObjId=gr();for(L=1;L<=Pr;L++)Se.push(Ve({number:L,data:be[L],objId:Ht[L].objId,contentsObjId:Ht[L].contentsObjId,mediaBox:Ht[L].mediaBox,cropBox:Ht[L].cropBox,bleedBox:Ht[L].bleedBox,trimBox:Ht[L].trimBox,artBox:Ht[L].artBox,userUnit:Ht[L].userUnit,rootDictionaryObjId:pe,resourceDictionaryObjId:me}));ie(pe,!0),ee("<</Type /Pages");var Ne="/Kids [";for(ne=0;ne<Pr;ne++)Ne+=Se[ne]+" 0 R ";ee(Ne+"]"),ee("/Count "+Pr),ee(">>"),ee("endobj"),Sr.publish("postPutPages")},He=function(L){Sr.publish("putFont",{font:L,out:ee,newObject:Nt,putStream:Ge}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nt(),ee("<<"),ee("/Type /Font"),ee("/BaseFont /"+t0(L.postScriptName)),ee("/Subtype /Type1"),typeof L.encoding=="string"&&ee("/Encoding /"+L.encoding),ee("/FirstChar 32"),ee("/LastChar 255"),ee(">>"),ee("endobj"))},pt=function(){for(var L in ke)ke.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&He(ke[L])},Tt=function(L){L.objectNumber=Nt();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Se=L.pages[1].join(`
`);Ge({data:Se,additionalKeyValues:ne,objectId:L.objectNumber}),ee("endobj")},Lt=function(){for(var L in In)In.hasOwnProperty(L)&&Tt(In[L])},_t=function(L,ne){var Se,Ne=[],Le=1/(ne-1);for(Se=0;Se<1;Se+=Le)Ne.push(Se);if(Ne.push(1),L[0].offset!=0){var et={offset:0,color:L[0].color};L.unshift(et)}if(L[L.length-1].offset!=1){var mt={offset:1,color:L[L.length-1].color};L.push(mt)}for(var jt="",S=0,F=0;F<Ne.length;F++){for(Se=Ne[F];Se>L[S+1].offset;)S++;var Q=L[S].offset,ue=(Se-Q)/(L[S+1].offset-Q),je=L[S].color,We=L[S+1].color;jt+=G(Math.round((1-ue)*je[0]+ue*We[0]).toString(16))+G(Math.round((1-ue)*je[1]+ue*We[1]).toString(16))+G(Math.round((1-ue)*je[2]+ue*We[2]).toString(16))}return jt.trim()},Ot=function(L,ne){ne||(ne=21);var Se=Nt(),Ne=_t(L.colors,ne),Le=[];Le.push({key:"FunctionType",value:"0"}),Le.push({key:"Domain",value:"[0.0 1.0]"}),Le.push({key:"Size",value:"["+ne+"]"}),Le.push({key:"BitsPerSample",value:"8"}),Le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ge({data:Ne,additionalKeyValues:Le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),ee("endobj"),L.objectNumber=Nt(),ee("<< /ShadingType "+L.type),ee("/ColorSpace /DeviceRGB");var et="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?et+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):et+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),ee(et+="]"),L.matrix&&ee("/Matrix ["+L.matrix.toString()+"]"),ee("/Function "+Se+" 0 R"),ee("/Extend [true true]"),ee(">>"),ee("endobj")},Qt=function(L,ne){var Se=gr(),Ne=Nt();ne.push({resourcesOid:Se,objectOid:Ne}),L.objectNumber=Ne;var Le=[];Le.push({key:"Type",value:"/Pattern"}),Le.push({key:"PatternType",value:"1"}),Le.push({key:"PaintType",value:"1"}),Le.push({key:"TilingType",value:"1"}),Le.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),Le.push({key:"XStep",value:E(L.xStep)}),Le.push({key:"YStep",value:E(L.yStep)}),Le.push({key:"Resources",value:Se+" 0 R"}),L.matrix&&Le.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ge({data:L.stream,additionalKeyValues:Le,objectId:L.objectNumber}),ee("endobj")},jr=function(L){var ne;for(ne in Pt)Pt.hasOwnProperty(ne)&&(Pt[ne]instanceof xh?Ot(Pt[ne]):Pt[ne]instanceof b0&&Qt(Pt[ne],L))},Lr=function(L){for(var ne in L.objectNumber=Nt(),ee("<<"),L)switch(ne){case"opacity":ee("/ca "+O(L[ne]));break;case"stroke-opacity":ee("/CA "+O(L[ne]))}ee(">>"),ee("endobj")},cn=function(){var L;for(L in vr)vr.hasOwnProperty(L)&&Lr(vr[L])},Di=function(){for(var L in ee("/XObject <<"),In)In.hasOwnProperty(L)&&In[L].objectNumber>=0&&ee("/"+L+" "+In[L].objectNumber+" 0 R");Sr.publish("putXobjectDict"),ee(">>")},To=function(){Tn.oid=Nt(),ee("<<"),ee("/Filter /Standard"),ee("/V "+Tn.v),ee("/R "+Tn.r),ee("/U <"+Tn.toHexString(Tn.U)+">"),ee("/O <"+Tn.toHexString(Tn.O)+">"),ee("/P "+Tn.P),ee(">>"),ee("endobj")},xs=function(){for(var L in ee("/Font <<"),ke)ke.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&ee("/"+L+" "+ke[L].objectNumber+" 0 R");ee(">>")},Zi=function(){if(Object.keys(Pt).length>0){for(var L in ee("/Shading <<"),Pt)Pt.hasOwnProperty(L)&&Pt[L]instanceof xh&&Pt[L].objectNumber>=0&&ee("/"+L+" "+Pt[L].objectNumber+" 0 R");Sr.publish("putShadingPatternDict"),ee(">>")}},bs=function(L){if(Object.keys(Pt).length>0){for(var ne in ee("/Pattern <<"),Pt)Pt.hasOwnProperty(ne)&&Pt[ne]instanceof d.TilingPattern&&Pt[ne].objectNumber>=0&&Pt[ne].objectNumber<L&&ee("/"+ne+" "+Pt[ne].objectNumber+" 0 R");Sr.publish("putTilingPatternDict"),ee(">>")}},Wa=function(){if(Object.keys(vr).length>0){var L;for(L in ee("/ExtGState <<"),vr)vr.hasOwnProperty(L)&&vr[L].objectNumber>=0&&ee("/"+L+" "+vr[L].objectNumber+" 0 R");Sr.publish("putGStateDict"),ee(">>")}},An=function(L){ie(L.resourcesOid,!0),ee("<<"),ee("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),xs(),Zi(),bs(L.objectOid),Wa(),Di(),ee(">>"),ee("endobj")},zf=function(){var L=[];pt(),cn(),Lt(),jr(L),Sr.publish("putResources"),L.forEach(An),An({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Sr.publish("postPutResources")},qf=function(){Sr.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var ne=he[L];ie(ne.objId,!0),ee(ne.content),ee("endobj")}Sr.publish("postPutAdditionalObjects")},bd=function(L){Je[L.fontName]=Je[L.fontName]||{},Je[L.fontName][L.fontStyle]=L.id},Wf=function(L,ne,Se,Ne,Le){var et={id:"F"+(Object.keys(ke).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Se,encoding:Ne,isStandardFont:Le||!1,metadata:{}};return Sr.publish("addFont",{font:et,instance:this}),ke[et.id]=et,bd(et),et.id},wd=function(L){for(var ne=0,Se=Me.length;ne<Se;ne++){var Ne=Wf.call(this,L[ne][0],L[ne][1],L[ne][2],Me[ne][3],!0);f===!1&&(h[Ne]=!0);var Le=L[ne][0].split("-");bd({id:Ne,fontName:Le[0],fontStyle:Le[1]||""})}Sr.publish("addFonts",{fonts:ke,dictionary:Je})},es=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ne){var ne=Ne.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Se="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!er.console)throw new Error(Se);er.console.error(Se,Ne),er.alert&&alert(Se)}},L.foo.bar=L,L.foo},Zc=function(L,ne){var Se,Ne,Le,et,mt,jt,S,F,Q;if(Le=(ne=ne||{}).sourceEncoding||"Unicode",mt=ne.outputEncoding,(ne.autoencode||mt)&&ke[xt].metadata&&ke[xt].metadata[Le]&&ke[xt].metadata[Le].encoding&&(et=ke[xt].metadata[Le].encoding,!mt&&ke[xt].encoding&&(mt=ke[xt].encoding),!mt&&et.codePages&&(mt=et.codePages[0]),typeof mt=="string"&&(mt=et[mt]),mt)){for(S=!1,jt=[],Se=0,Ne=L.length;Se<Ne;Se++)(F=mt[L.charCodeAt(Se)])?jt.push(String.fromCharCode(F)):jt.push(L[Se]),jt[Se].charCodeAt(0)>>8&&(S=!0);L=jt.join("")}for(Se=L.length;S===void 0&&Se!==0;)L.charCodeAt(Se-1)>>8&&(S=!0),Se--;if(!S)return L;for(jt=ne.noBOM?[]:[254,255],Se=0,Ne=L.length;Se<Ne;Se++){if((Q=(F=L.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");jt.push(Q),jt.push(F-(Q<<8))}return String.fromCharCode.apply(void 0,jt)},qn=d.__private__.pdfEscape=d.pdfEscape=function(L,ne){return Zc(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ji=d.__private__.beginPage=function(L){be[++Pr]=[],Ht[Pr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Hf(Pr),ge(be[R])},Kl=function(L,ne){var Se,Ne,Le;switch(r=ne||r,typeof L=="string"&&(Se=y(L.toLowerCase()),Array.isArray(Se)&&(Ne=Se[0],Le=Se[1])),Array.isArray(L)&&(Ne=L[0]*nt,Le=L[1]*nt),isNaN(Ne)&&(Ne=a[0],Le=a[1]),(Ne>14400||Le>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),Le=Math.min(14400,Le)),a=[Ne,Le],r.substr(0,1)){case"l":Le>Ne&&(a=[Le,Ne]);break;case"p":Ne>Le&&(a=[Le,Ne])}ji(a),Qf(Xf),ee(Ha),eh!==0&&ee(eh+" J"),uu!==0&&ee(uu+" j"),Sr.publish("addPage",{pageNumber:Pr})},eu=function(L){L>0&&L<=Pr&&(be.splice(L,1),Ht.splice(L,1),Pr--,R>Pr&&(R=Pr),this.setPage(R))},Hf=function(L){L>0&&L<=Pr&&(R=L)},tn=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return be.length-1},Yl=function(L,ne,Se){var Ne,Le=void 0;return Se=Se||{},L=L!==void 0?L:ke[xt].fontName,ne=ne!==void 0?ne:ke[xt].fontStyle,Ne=L.toLowerCase(),Je[Ne]!==void 0&&Je[Ne][ne]!==void 0?Le=Je[Ne][ne]:Je[L]!==void 0&&Je[L][ne]!==void 0?Le=Je[L][ne]:Se.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),Le||Se.noFallback||(Le=Je.times[ne])==null&&(Le=Je.times.normal),Le},Xl=d.__private__.putInfo=function(){var L=Nt(),ne=function(Ne){return Ne};for(var Se in u!==null&&(ne=Tn.encryptor(L,0)),ee("<<"),ee("/Producer ("+qn(ne("jsPDF "+Zt.version))+")"),At)At.hasOwnProperty(Se)&&At[Se]&&ee("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+qn(ne(At[Se]))+")");ee("/CreationDate ("+qn(ne(J))+")"),ee(">>"),ee("endobj")},Eo=d.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||pe;switch(Nt(),ee("<<"),ee("/Type /Catalog"),ee("/Pages "+ne+" 0 R"),$e||($e="fullwidth"),$e){case"fullwidth":ee("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ee("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ee("/OpenAction [3 0 R /Fit]");break;case"original":ee("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+$e;Se.substr(Se.length-1)==="%"&&($e=parseInt($e)/100),typeof $e=="number"&&ee("/OpenAction [3 0 R /XYZ null null "+O($e)+"]")}switch(rt||(rt="continuous"),rt){case"continuous":ee("/PageLayout /OneColumn");break;case"single":ee("/PageLayout /SinglePage");break;case"two":case"twoleft":ee("/PageLayout /TwoColumnLeft");break;case"tworight":ee("/PageLayout /TwoColumnRight")}Qe&&ee("/PageMode /"+Qe),Sr.publish("putCatalog"),ee(">>"),ee("endobj")},um=d.__private__.putTrailer=function(){ee("trailer"),ee("<<"),ee("/Size "+(Y+1)),ee("/Root "+Y+" 0 R"),ee("/Info "+(Y-1)+" 0 R"),u!==null&&ee("/Encrypt "+Tn.oid+" 0 R"),ee("/ID [ <"+X+"> <"+X+"> ]"),ee(">>")},_d=d.__private__.putHeader=function(){ee("%PDF-"+g),ee("%ºß¬à")},fm=d.__private__.putXRef=function(){var L="0000000000";ee("xref"),ee("0 "+(Y+1)),ee("0000000000 65535 f ");for(var ne=1;ne<=Y;ne++)typeof se[ne]=="function"?ee((L+se[ne]()).slice(-10)+" 00000 n "):se[ne]!==void 0?ee((L+se[ne]).slice(-10)+" 00000 n "):ee("0000000000 00000 n ")},ko=d.__private__.buildDocument=function(){_e(),ge(ce),Sr.publish("buildDocument"),_d(),Ue(),qf(),zf(),u!==null&&To(),Xl(),Eo();var L=re;return fm(),um(),ee("startxref"),ee(""+L),ee("%%EOF"),ge(be[R]),ce.join(`
`)},tu=d.__private__.getBlob=function(L){return new Blob([Oe(L)],{type:"application/pdf"})},ru=d.output=d.__private__.output=es(function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return ko();case"save":d.save(ne.filename);break;case"arraybuffer":return Oe(ko());case"blob":return tu(ko());case"bloburi":case"bloburl":if(er.URL!==void 0&&typeof er.URL.createObjectURL=="function")return er.URL&&er.URL.createObjectURL(tu(ko()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Ne=ko();try{Se=MT(Ne)}catch{Se=MT(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(Le=ne.pdfObjectUrl,et="");var mt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",jt=er.open();return jt!==null&&jt.document.write(mt),jt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(er)==="[object Window]"){var S='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',F=er.open();if(F!==null){F.document.write(S);var Q=this;F.document.documentElement.querySelector("#pdfViewer").onload=function(){F.document.title=ne.filename,F.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Q.output("bloburl"))}}return F}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(er)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',je=er.open();if(je!==null&&(je.document.write(ue),je.document.title=ne.filename),je||typeof safari>"u")return je;break;case"datauri":case"dataurl":return er.document.location.href=this.output("datauristring",ne);default:return null}}),hl=function(L){return Array.isArray(qa)===!0&&qa.indexOf(L)>-1};switch(n){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);nt=n}var Tn=null;z(),q();var Sd=function(L){return u!==null?Tn.encryptor(L,0):function(ne){return ne}},Gf=d.__private__.getPageInfo=d.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ht[L].objId,pageNumber:L,pageContext:Ht[L]}},nr=d.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in Ht)if(Ht[ne].objId===L)break;return Gf(ne)},dl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ht[R].objId,pageNumber:R,pageContext:Ht[R]}};d.addPage=function(){return Kl.apply(this,arguments),this},d.setPage=function(){return Hf.apply(this,arguments),ge.call(this,be[R]),this},d.insertPage=function(L){return this.addPage(),this.movePage(R,L),this},d.movePage=function(L,ne){var Se,Ne;if(L>ne){Se=be[L],Ne=Ht[L];for(var Le=L;Le>ne;Le--)be[Le]=be[Le-1],Ht[Le]=Ht[Le-1];be[ne]=Se,Ht[ne]=Ne,this.setPage(ne)}else if(L<ne){Se=be[L],Ne=Ht[L];for(var et=L;et<ne;et++)be[et]=be[et+1],Ht[et]=Ht[et+1];be[ne]=Se,Ht[ne]=Ne,this.setPage(ne)}return this},d.deletePage=function(){return eu.apply(this,arguments),this},d.__private__.text=d.text=function(L,ne,Se,Ne,Le){var et,mt,jt,S,F,Q,ue,je,We,vt=(Ne=Ne||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Se=="string"||Array.isArray(Se))){var hr=Se;Se=ne,ne=L,L=hr}if(arguments[3]instanceof Ye?(A("The transform parameter of text() with a Matrix value"),We=Le):(jt=arguments[4],S=arguments[5],Kr(ue=arguments[3])==="object"&&ue!==null||(typeof jt=="string"&&(S=jt,jt=null),typeof ue=="string"&&(S=ue,ue=null),typeof ue=="number"&&(jt=ue,ue=null),Ne={flags:ue,angle:jt,align:S})),isNaN(ne)||isNaN(Se)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return vt;var Tr="",dr=!1,Jr=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Qr,mn=vt.internal.scaleFactor;function Io(xn){return xn=xn.split("	").join(Array(Ne.TabLen||9).join(" ")),qn(xn,ue)}function Ga(xn){for(var bn,ta=xn.concat(),wa=[],ac=ta.length;ac--;)typeof(bn=ta.shift())=="string"?wa.push(bn):Array.isArray(xn)&&(bn.length===1||bn[1]===void 0&&bn[2]===void 0)?wa.push(bn[0]):wa.push([bn[0],bn[1],bn[2]]);return wa}function vl(xn,bn){var ta;if(typeof xn=="string")ta=bn(xn)[0];else if(Array.isArray(xn)){for(var wa,ac,bm=xn.concat(),Md=[],dy=bm.length;dy--;)typeof(wa=bm.shift())=="string"?Md.push(bn(wa)[0]):Array.isArray(wa)&&typeof wa[0]=="string"&&(ac=bn(wa[0],wa[1],wa[2]),Md.push([ac[0],ac[1],ac[2]]));ta=Md}return ta}var yl=!1,dm=!0;if(typeof L=="string")yl=!0;else if(Array.isArray(L)){var pm=L.concat();mt=[];for(var Nd,Ka=pm.length;Ka--;)(typeof(Nd=pm.shift())!="string"||Array.isArray(Nd)&&typeof Nd[0]!="string")&&(dm=!1);yl=dm}if(yl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Cd=Ke/vt.internal.scaleFactor,Pd=Cd*(Jr-1);switch(Ne.baseline){case"bottom":Se-=Pd;break;case"top":Se+=Cd-Pd;break;case"hanging":Se+=Cd-2*Pd;break;case"middle":Se+=Cd/2-Pd}if((Q=Ne.maxWidth||0)>0&&(typeof L=="string"?L=vt.splitTextToSize(L,Q):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(xn,bn){return xn.concat(vt.splitTextToSize(bn,Q))},[]))),et={text:L,x:ne,y:Se,options:Ne,mutex:{pdfEscape:qn,activeFontKey:xt,fonts:ke,activeFontSize:Ke}},Sr.publish("preProcessText",et),L=et.text,jt=(Ne=et.options).angle,!(We instanceof Ye)&&jt&&typeof jt=="number"){jt*=Math.PI/180,Ne.rotationDirection===0&&(jt=-jt),_===w.ADVANCED&&(jt=-jt);var Od=Math.cos(jt),mm=Math.sin(jt);We=new Ye(Od,mm,-mm,Od,0,0)}else jt&&jt instanceof Ye&&(We=jt);_!==w.ADVANCED||We||(We=Ct),(F=Ne.charSpace||Jl)!==void 0&&(Tr+=E(N(F))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(je=Ne.horizontalScale)!==void 0&&(Tr+=E(100*je)+` Tz
`),Ne.lang;var ts=-1,u_=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,gm=vt.internal.getCurrentPageInfo().pageContext;switch(u_){case 0:case!1:case"fill":ts=0;break;case 1:case!0:case"stroke":ts=1;break;case 2:case"fillThenStroke":ts=2;break;case 3:case"invisible":ts=3;break;case 4:case"fillAndAddForClipping":ts=4;break;case 5:case"strokeAndAddPathForClipping":ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ts=6;break;case 7:case"addToPathForClipping":ts=7}var cy=gm.usedRenderingMode!==void 0?gm.usedRenderingMode:-1;ts!==-1?Tr+=ts+` Tr
`:cy!==-1&&(Tr+=`0 Tr
`),ts!==-1&&(gm.usedRenderingMode=ts),S=Ne.align||"left";var Gs,Id=Ke*Jr,uy=vt.internal.pageSize.getWidth(),fy=ke[xt];F=Ne.charSpace||Jl,Q=Ne.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var mu=[],th=function(xn){return vt.getStringUnitWidth(xn,{font:fy,charSpace:F,fontSize:Ke,doKerning:!1})*Ke/mn};if(Object.prototype.toString.call(L)==="[object Array]"){var rs;mt=Ga(L),S!=="left"&&(Gs=mt.map(th));var Li,gu=0;if(S==="right"){ne-=Gs[0],L=[],Ka=mt.length;for(var tc=0;tc<Ka;tc++)tc===0?(Li=Ss(ne),rs=ba(Se)):(Li=N(gu-Gs[tc]),rs=-Id),L.push([mt[tc],Li,rs]),gu=Gs[tc]}else if(S==="center"){ne-=Gs[0]/2,L=[],Ka=mt.length;for(var rc=0;rc<Ka;rc++)rc===0?(Li=Ss(ne),rs=ba(Se)):(Li=N((gu-Gs[rc])/2),rs=-Id),L.push([mt[rc],Li,rs]),gu=Gs[rc]}else if(S==="left"){L=[],Ka=mt.length;for(var Dd=0;Dd<Ka;Dd++)L.push(mt[Dd])}else if(S==="justify"&&fy.encoding==="Identity-H"){L=[],Ka=mt.length,Q=Q!==0?Q:uy;for(var nc=0,ea=0;ea<Ka;ea++)if(rs=ea===0?ba(Se):-Id,Li=ea===0?Ss(ne):nc,ea<Ka-1){var vm=N((Q-Gs[ea])/(mt[ea].split(" ").length-1)),Mi=mt[ea].split(" ");L.push([Mi[0]+" ",Li,rs]),nc=0;for(var Ks=1;Ks<Mi.length;Ks++){var jd=(th(Mi[Ks-1]+" "+Mi[Ks])-th(Mi[Ks]))*mn+vm;Ks==Mi.length-1?L.push([Mi[Ks],jd,0]):L.push([Mi[Ks]+" ",jd,0]),nc-=jd}}else L.push([mt[ea],Li,rs]);L.push(["",nc,0])}else{if(S!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Ka=mt.length,Q=Q!==0?Q:uy,ea=0;ea<Ka;ea++)rs=ea===0?ba(Se):-Id,Li=ea===0?Ss(ne):0,ea<Ka-1?mu.push(E(N((Q-Gs[ea])/(mt[ea].split(" ").length-1)))):mu.push(0),L.push([mt[ea],Li,rs])}}var hy=typeof Ne.R2L=="boolean"?Ne.R2L:Fe;hy===!0&&(L=vl(L,function(xn,bn,ta){return[xn.split("").reverse().join(""),bn,ta]})),et={text:L,x:ne,y:Se,options:Ne,mutex:{pdfEscape:qn,activeFontKey:xt,fonts:ke,activeFontSize:Ke}},Sr.publish("postProcessText",et),L=et.text,dr=et.mutex.isHex||!1;var ym=ke[xt].encoding;ym!=="WinAnsiEncoding"&&ym!=="StandardEncoding"||(L=vl(L,function(xn,bn,ta){return[Io(xn),bn,ta]})),mt=Ga(L),L=[];for(var rh,nh,vu,ah=0,Ld=1,ih=Array.isArray(mt[0])?Ld:ah,yu="",xm=function(xn,bn,ta){var wa="";return ta instanceof Ye?(ta=typeof Ne.angle=="number"?Gt(ta,new Ye(1,0,0,1,xn,bn)):Gt(new Ye(1,0,0,1,xn,bn),ta),_===w.ADVANCED&&(ta=Gt(new Ye(1,0,0,-1,0,0),ta)),wa=ta.join(" ")+` Tm
`):wa=E(xn)+" "+E(bn)+` Td
`,wa},Ys=0;Ys<mt.length;Ys++){switch(yu="",ih){case Ld:vu=(dr?"<":"(")+mt[Ys][0]+(dr?">":")"),rh=parseFloat(mt[Ys][1]),nh=parseFloat(mt[Ys][2]);break;case ah:vu=(dr?"<":"(")+mt[Ys]+(dr?">":")"),rh=Ss(ne),nh=ba(Se)}mu!==void 0&&mu[Ys]!==void 0&&(yu=mu[Ys]+` Tw
`),Ys===0?L.push(yu+xm(rh,nh,We)+vu):ih===ah?L.push(yu+vu):ih===Ld&&L.push(yu+xm(rh,nh,We)+vu)}L=ih===ah?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Xs=`BT
/`;return Xs+=xt+" "+Ke+` Tf
`,Xs+=E(Ke*Jr)+` TL
`,Xs+=Po+`
`,Xs+=Tr,Xs+=L,ee(Xs+="ET"),h[xt]=!0,vt};var hm=d.__private__.clip=d.clip=function(L){return ee(L==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return hm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ee("n"),this};var Hs=d.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(L){return Hs(L)&&(c=L),this};var Ad=d.__private__.getStyle=d.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},ws=d.close=function(){return ee("h"),this};d.stroke=function(){return ee("S"),this},d.fill=function(L){return nu("f",L),this},d.fillEvenOdd=function(L){return nu("f*",L),this},d.fillStroke=function(L){return nu("B",L),this},d.fillStrokeEvenOdd=function(L){return nu("B*",L),this};var nu=function(L,ne){Kr(ne)==="object"?iu(ne,L):ee(L)},Kf=function(L){L===null||_===w.ADVANCED&&L===void 0||(L=Ad(L),ee(L))};function au(L,ne,Se,Ne,Le){var et=new b0(ne||this.boundingBox,Se||this.xStep,Ne||this.yStep,this.gState,Le||this.matrix);et.stream=this.stream;var mt=L+"$$"+this.cloneIndex+++"$$";return ft(mt,et),et}var iu=function(L,ne){var Se=fr[L.key],Ne=Pt[Se];if(Ne instanceof xh)ee("q"),ee(Td(ne)),Ne.gState&&d.setGState(Ne.gState),ee(L.matrix.toString()+" cm"),ee("/"+Se+" sh"),ee("Q");else if(Ne instanceof b0){var Le=new Ye(1,0,0,-1,0,ci());L.matrix&&(Le=Le.multiply(L.matrix||Ct),Se=au.call(Ne,L.key,L.boundingBox,L.xStep,L.yStep,Le).id),ee("q"),ee("/Pattern cs"),ee("/"+Se+" scn"),Ne.gState&&d.setGState(Ne.gState),ee(ne),ee("Q")}},Td=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},No=d.moveTo=function(L,ne){return ee(E(N(L))+" "+E(K(ne))+" m"),this},_s=d.lineTo=function(L,ne){return ee(E(N(L))+" "+E(K(ne))+" l"),this},Co=d.curveTo=function(L,ne,Se,Ne,Le,et){return ee([E(N(L)),E(K(ne)),E(N(Se)),E(K(Ne)),E(N(Le)),E(K(et)),"c"].join(" ")),this};d.__private__.line=d.line=function(L,ne,Se,Ne,Le){if(isNaN(L)||isNaN(ne)||isNaN(Se)||isNaN(Ne)||!Hs(Le))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[Se-L,Ne-ne]],L,ne,[1,1],Le||"S"):this.lines([[Se-L,Ne-ne]],L,ne,[1,1]).stroke()},d.__private__.lines=d.lines=function(L,ne,Se,Ne,Le,et){var mt,jt,S,F,Q,ue,je,We,vt,hr,Tr,dr;if(typeof L=="number"&&(dr=Se,Se=ne,ne=L,L=dr),Ne=Ne||[1,1],et=et||!1,isNaN(ne)||isNaN(Se)||!Array.isArray(L)||!Array.isArray(Ne)||!Hs(Le)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(No(ne,Se),mt=Ne[0],jt=Ne[1],F=L.length,hr=ne,Tr=Se,S=0;S<F;S++)(Q=L[S]).length===2?(hr=Q[0]*mt+hr,Tr=Q[1]*jt+Tr,_s(hr,Tr)):(ue=Q[0]*mt+hr,je=Q[1]*jt+Tr,We=Q[2]*mt+hr,vt=Q[3]*jt+Tr,hr=Q[4]*mt+hr,Tr=Q[5]*jt+Tr,Co(ue,je,We,vt,hr,Tr));return et&&ws(),Kf(Le),this},d.path=function(L){for(var ne=0;ne<L.length;ne++){var Se=L[ne],Ne=Se.c;switch(Se.op){case"m":No(Ne[0],Ne[1]);break;case"l":_s(Ne[0],Ne[1]);break;case"c":Co.apply(this,Ne);break;case"h":ws()}}return this},d.__private__.rect=d.rect=function(L,ne,Se,Ne,Le){if(isNaN(L)||isNaN(ne)||isNaN(Se)||isNaN(Ne)||!Hs(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(Ne=-Ne),ee([E(N(L)),E(K(ne)),E(N(Se)),E(N(Ne)),"re"].join(" ")),Kf(Le),this},d.__private__.triangle=d.triangle=function(L,ne,Se,Ne,Le,et,mt){if(isNaN(L)||isNaN(ne)||isNaN(Se)||isNaN(Ne)||isNaN(Le)||isNaN(et)||!Hs(mt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-L,Ne-ne],[Le-Se,et-Ne],[L-Le,ne-et]],L,ne,[1,1],mt,!0),this},d.__private__.roundedRect=d.roundedRect=function(L,ne,Se,Ne,Le,et,mt){if(isNaN(L)||isNaN(ne)||isNaN(Se)||isNaN(Ne)||isNaN(Le)||isNaN(et)||!Hs(mt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var jt=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*Se),et=Math.min(et,.5*Ne),this.lines([[Se-2*Le,0],[Le*jt,0,Le,et-et*jt,Le,et],[0,Ne-2*et],[0,et*jt,-Le*jt,et,-Le,et],[2*Le-Se,0],[-Le*jt,0,-Le,-et*jt,-Le,-et],[0,2*et-Ne],[0,-et*jt,Le*jt,-et,Le,-et]],L+Le,ne,[1,1],mt,!0),this},d.__private__.ellipse=d.ellipse=function(L,ne,Se,Ne,Le){if(isNaN(L)||isNaN(ne)||isNaN(Se)||isNaN(Ne)||!Hs(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*Se,mt=4/3*(Math.SQRT2-1)*Ne;return No(L+Se,ne),Co(L+Se,ne-mt,L+et,ne-Ne,L,ne-Ne),Co(L-et,ne-Ne,L-Se,ne-mt,L-Se,ne),Co(L-Se,ne+mt,L-et,ne+Ne,L,ne+Ne),Co(L+et,ne+Ne,L+Se,ne+mt,L+Se,ne),Kf(Le),this},d.__private__.circle=d.circle=function(L,ne,Se,Ne){if(isNaN(L)||isNaN(ne)||isNaN(Se)||!Hs(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Se,Se,Ne)},d.setFont=function(L,ne,Se){return Se&&(ne=D(ne,Se)),xt=Yl(L,ne,{disableWarning:!1}),this};var Yf=d.__private__.getFont=d.getFont=function(){return ke[Yl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var L,ne,Se={};for(L in Je)if(Je.hasOwnProperty(L))for(ne in Se[L]=[],Je[L])Je[L].hasOwnProperty(ne)&&Se[L].push(ne);return Se},d.addFont=function(L,ne,Se,Ne,Le){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(Se=D(Se,Ne)),Le=Le||"Identity-H",Wf.call(this,L,ne,Se,Le)};var Qr,Xf=e.lineWidth||.200025,su=d.__private__.getLineWidth=d.getLineWidth=function(){return Xf},Qf=d.__private__.setLineWidth=d.setLineWidth=function(L){return Xf=L,ee(E(N(L))+" w"),this};d.__private__.setLineDash=Zt.API.setLineDash=Zt.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Se){return E(N(Se))}).join(" "),ne=E(N(ne)),ee("["+L+"] "+ne+" d"),this};var Jf=d.__private__.getLineHeight=d.getLineHeight=function(){return Ke*Qr};d.__private__.getLineHeight=d.getLineHeight=function(){return Ke*Qr};var Zf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Qr=L),this},Ql=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Qr};Zf(e.lineHeight);var Ss=d.__private__.getHorizontalCoordinate=function(L){return N(L)},ba=d.__private__.getVerticalCoordinate=function(L){return _===w.ADVANCED?L:Ht[R].mediaBox.topRightY-Ht[R].mediaBox.bottomLeftY-N(L)},Ed=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(L){return E(Ss(L))},pl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(L){return E(ba(L))},Ha=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ye(Ha)},d.__private__.setStrokeColor=d.setDrawColor=function(L,ne,Se,Ne){return Ha=we({ch1:L,ch2:ne,ch3:Se,ch4:Ne,pdfColorType:"draw",precision:2}),ee(Ha),this};var ou=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ye(ou)},d.__private__.setFillColor=d.setFillColor=function(L,ne,Se,Ne){return ou=we({ch1:L,ch2:ne,ch3:Se,ch4:Ne,pdfColorType:"fill",precision:2}),ee(ou),this};var Po=e.textColor||"0 g",lu=d.__private__.getTextColor=d.getTextColor=function(){return ye(Po)};d.__private__.setTextColor=d.setTextColor=function(L,ne,Se,Ne){return Po=we({ch1:L,ch2:ne,ch3:Se,ch4:Ne,pdfColorType:"text",precision:3}),this};var Jl=e.charSpace,cu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Jl||0)};d.__private__.setCharSpace=d.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jl=L,this};var eh=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(L){var ne=d.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=ne,ee(ne+" J"),this};var uu=0;d.__private__.setLineJoin=d.setLineJoin=function(L){var ne=d.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=ne,ee(ne+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ee(E(N(L))+" M"),this},d.GState=Ab,d.setGState=function(L){(L=typeof L=="string"?vr[Cr[L]]:ml(null,L)).equals(pn)||(ee("/"+L.id+" gs"),pn=L)};var ml=function(L,ne){if(!L||!Cr[L]){var Se=!1;for(var Ne in vr)if(vr.hasOwnProperty(Ne)&&vr[Ne].equals(ne)){Se=!0;break}if(Se)ne=vr[Ne];else{var Le="GS"+(Object.keys(vr).length+1).toString(10);vr[Le]=ne,ne.id=Le}return L&&(Cr[L]=ne.id),Sr.publish("addGState",ne),ne}};d.addGState=function(L,ne){return ml(L,ne),this},d.saveGraphicsState=function(){return ee("q"),kt.push({key:xt,size:Ke,color:Po}),this},d.restoreGraphicsState=function(){ee("Q");var L=kt.pop();return xt=L.key,Ke=L.size,Po=L.color,pn=null,this},d.setCurrentTransformationMatrix=function(L){return ee(L.toString()+" cm"),this},d.comment=function(L){return ee("#"+L),this};var Zl=function(L,ne){var Se=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(et){isNaN(et)||(Se=parseFloat(et))}});var Ne=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(et){isNaN(et)||(Ne=parseFloat(et))}});var Le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Le},set:function(et){Le=et.toString()}}),this},fu=function(L,ne,Se,Ne){Zl.call(this,L,ne),this.type="rect";var Le=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Le},set:function(mt){isNaN(mt)||(Le=parseFloat(mt))}});var et=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(mt){isNaN(mt)||(et=parseFloat(mt))}}),this},ec=function(){this.page=Pr,this.currentPage=R,this.pages=be.slice(0),this.pagesContext=Ht.slice(0),this.x=qt,this.y=$t,this.matrix=Hr,this.width=gl(R),this.height=ci(R),this.outputDestination=Te,this.id="",this.objectNumber=-1};ec.prototype.restore=function(){Pr=this.page,R=this.currentPage,Ht=this.pagesContext,be=this.pages,qt=this.x,$t=this.y,Hr=this.matrix,du(R,this.width),pu(R,this.height),Te=this.outputDestination};var hu=function(L,ne,Se,Ne,Le){bt.push(new ec),Pr=R=0,be=[],qt=L,$t=ne,Hr=Le,ji([Se,Ne])},kd=function(L){if(Ee[L])bt.pop().restore();else{var ne=new ec,Se="Xo"+(Object.keys(In).length+1).toString(10);ne.id=Se,Ee[L]=Se,In[Se]=ne,Sr.publish("addFormObject",ne),bt.pop().restore()}};for(var Oo in d.beginFormObject=function(L,ne,Se,Ne,Le){return hu(L,ne,Se,Ne,Le),this},d.endFormObject=function(L){return kd(L),this},d.doFormObject=function(L,ne){var Se=In[Ee[L]];return ee("q"),ee(ne.toString()+" cm"),ee("/"+Se.id+" Do"),ee("Q"),this},d.getFormObject=function(L){var ne=In[Ee[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},d.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(ph(tu(ko()),L),typeof ph.unload=="function"&&er.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(Se,Ne){try{var Le=ph(tu(ko()),L);typeof ph.unload=="function"&&er.setTimeout&&setTimeout(ph.unload,911),Se(Le)}catch(et){Ne(et.message)}})},Zt.API)Zt.API.hasOwnProperty(Oo)&&(Oo==="events"&&Zt.API.events.length?function(L,ne){var Se,Ne,Le;for(Le=ne.length-1;Le!==-1;Le--)Se=ne[Le][0],Ne=ne[Le][1],L.subscribe.apply(L,[Se].concat(typeof Ne=="function"?[Ne]:Ne))}(Sr,Zt.API.events):d[Oo]=Zt.API[Oo]);var gl=d.getPageWidth=function(L){return(Ht[L=L||R].mediaBox.topRightX-Ht[L].mediaBox.bottomLeftX)/nt},du=d.setPageWidth=function(L,ne){Ht[L].mediaBox.topRightX=ne*nt+Ht[L].mediaBox.bottomLeftX},ci=d.getPageHeight=function(L){return(Ht[L=L||R].mediaBox.topRightY-Ht[L].mediaBox.bottomLeftY)/nt},pu=d.setPageHeight=function(L,ne){Ht[L].mediaBox.topRightY=ne*nt+Ht[L].mediaBox.bottomLeftY};return d.internal={pdfEscape:qn,getStyle:Ad,getFont:Yf,getFontSize:Xe,getCharSpace:cu,getTextColor:lu,getLineHeight:Jf,getLineHeightFactor:Ql,getLineWidth:su,write:Ae,getHorizontalCoordinate:Ss,getVerticalCoordinate:ba,getCoordinateString:Ed,getVerticalCoordinateString:pl,collections:{},newObject:Nt,newAdditionalObject:xe,newObjectDeferred:gr,newObjectDeferredBegin:ie,getFilters:Be,putStream:Ge,events:Sr,scaleFactor:nt,pageSize:{getWidth:function(){return gl(R)},setWidth:function(L){du(R,L)},getHeight:function(){return ci(R)},setHeight:function(L){pu(R,L)}},encryptionOptions:u,encryption:Tn,getEncryptor:Sd,output:ru,getNumberOfPages:tn,pages:be,out:ee,f2:O,f3:T,getPageInfo:Gf,getPageInfoByObjId:nr,getCurrentPageInfo:dl,getPDFVersion:m,Point:Zl,Rectangle:fu,Matrix:Ye,hasHotfix:hl},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return gl(R)},set:function(L){du(R,L)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ci(R)},set:function(L){pu(R,L)},enumerable:!0,configurable:!0}),wd.call(d,Me),xt="F1",Kl(a,r),Sr.publish("initialized"),d}e0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},e0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},e0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},e0.prototype.processOwnerPassword=function(e,t){return FT(RT(t).substr(0,5),e)},e0.prototype.encryptor=function(e,t){var r=RT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return FT(r,n)}},Ab.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Kr(e)!==Kr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Zt.API={events:[]},Zt.version="3.0.1";var Kn=Zt.API,pC=1,md=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},pr=function(e){return e.toFixed(2)},Pu=function(e){return e.toFixed(5)};Kn.__acroform__={};var vs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pj=function(e){return e*pC},Sl=function(e){var t=new Vq,r=zt.internal.getHeight(e)||0,n=zt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(pr(n)),Number(pr(r))],t},uxe=Kn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},fxe=Kn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},hxe=Kn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ia=Kn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hxe(e,t-1)},sa=Kn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return uxe(e,t-1)},oa=Kn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return fxe(e,t-1)},dxe=Kn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(pr(l.lowerLeft_X)),Number(pr(l.lowerLeft_Y)),Number(pr(l.upperRight_X)),Number(pr(l.upperRight_Y))]},pxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$T(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+pr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Sl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$T=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=zt.internal.getHeight(e)||0;s=s<0?-s:s;var o=zt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,N,j){if(T+1<a.length){var K=N+" "+a[T+1][0];return xx(K,e,j).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=xx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+xx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var I=!1;if(a[_].length!==1&&v!==a[_].length-1){if((f+2)*(w+2)+2>s)continue e;y+=a[_][v],I=!0,m=_,_--}else{y=(y+=a[_][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(_),D=l(P,y,i),E=_>=a.length-1;if(D&&!E){y+=" ",v=0;continue}if(D||E){if(E)m=P;else if(e.multiline&&(f+2)*(w+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(w+2)+2>s)continue e;m=P}}for(var A="",b=g;b<=m;b++){var O=a[b];if(e.multiline){if(b===m){A+=O[v]+" ",v=(v+1)%O.length;continue}if(b===g){A+=O[O.length-1]+" ";continue}}A+=O[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,u=xx(A,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=pr(c)+" "+pr(d)+` Td
`,t+="("+md(A)+`) Tj
`,t+=-pr(c)+` 0 Td
`,d=-(i+2),u=0,g=I?m:m+1,w++,y=""}break}return n.text=t,n.fontSize=i,n},xx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},mxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},gxe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},vxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Kr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},yxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(mxe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Uq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&gxe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=dxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=zt.createDefaultAppearanceStream(o),Kr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=pxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&vxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Bq=Kn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Kr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+md(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},HS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+md(n(e))+")"},Nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nl.prototype.toString=function(){return this.objId+" 0 R"},Nl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Bq(a,this.objId,this.scope)}):a instanceof Nl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Vq=function(){Nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};vs(Vq,Nl);var Uq=function(){Nl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+md(r(e))+")"}},set:function(r){e=r}})};vs(Uq,Nl);var cl=function e(){Nl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ia(t,3)},set:function(y){y?this.F=sa(t,3):this.F=oa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Tb)return;i="FieldObject"+e.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+md(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/pC:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Tb||this instanceof Fh))return HS(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ra?h:HS(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ra?y:y.substr(0,1)==="("?qd(y.substr(1,y.length-2)):qd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra?qd(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ra?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ra?d:HS(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof Ra?y:y.substr(0,1)==="("?qd(y.substr(1,y.length-2)):qd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ra?qd(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Ra?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,1)},set:function(y){y?this.Ff=sa(this.Ff,1):this.Ff=oa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,2)},set:function(y){y?this.Ff=sa(this.Ff,2):this.Ff=oa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,3)},set:function(y){y?this.Ff=sa(this.Ff,3):this.Ff=oa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};vs(cl,Nl);var L0=function(){cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Bq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,18)},set:function(r){r?this.Ff=sa(this.Ff,18):this.Ff=oa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sa(this.Ff,19):this.Ff=oa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,20)},set:function(r){r?(this.Ff=sa(this.Ff,20),t.sort()):this.Ff=oa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,22)},set:function(r){r?this.Ff=sa(this.Ff,22):this.Ff=oa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,23)},set:function(r){r?this.Ff=sa(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,27)},set:function(r){r?this.Ff=sa(this.Ff,27):this.Ff=oa(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(L0,cl);var M0=function(){L0.call(this),this.fontName="helvetica",this.combo=!1};vs(M0,L0);var R0=function(){M0.call(this),this.combo=!0};vs(R0,M0);var o2=function(){R0.call(this),this.edit=!0};vs(o2,R0);var Ra=function(){cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,15)},set:function(r){r?this.Ff=sa(this.Ff,15):this.Ff=oa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,16)},set:function(r){r?this.Ff=sa(this.Ff,16):this.Ff=oa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,17)},set:function(r){r?this.Ff=sa(this.Ff,17):this.Ff=oa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,26)},set:function(r){r?this.Ff=sa(this.Ff,26):this.Ff=oa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+md(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Kr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};vs(Ra,cl);var l2=function(){Ra.call(this),this.pushButton=!0};vs(l2,Ra);var F0=function(){Ra.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};vs(F0,Ra);var Tb=function(){var e,t;cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+md(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Kr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=zt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(Tb,cl),F0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},F0.prototype.createOption=function(e){var t=new Tb;return t.Parent=this,t.optionName=e,this.Kids.push(t),xxe.call(this.scope,t),t};var c2=function(){Ra.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=zt.CheckBox.createAppearanceStream()};vs(c2,Ra);var Fh=function(){cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,13)},set:function(t){t?this.Ff=sa(this.Ff,13):this.Ff=oa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,21)},set:function(t){t?this.Ff=sa(this.Ff,21):this.Ff=oa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,23)},set:function(t){t?this.Ff=sa(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,24)},set:function(t){t?this.Ff=sa(this.Ff,24):this.Ff=oa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,25)},set:function(t){t?this.Ff=sa(this.Ff,25):this.Ff=oa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,26)},set:function(t){t?this.Ff=sa(this.Ff,26):this.Ff=oa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(Fh,cl);var u2=function(){Fh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,14)},set:function(e){e?this.Ff=sa(this.Ff,14):this.Ff=oa(this.Ff,14)}}),this.password=!0};vs(u2,Fh);var zt={CheckBox:{createAppearanceStream:function(){return{N:{On:zt.CheckBox.YesNormal},D:{On:zt.CheckBox.YesPushDown,Off:zt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$T(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+pr(zt.internal.getWidth(e))+" "+pr(zt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+pr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=zt.internal.getHeight(e),s=zt.internal.getWidth(e),o=$T(e,e.caption);return a.push("1 g"),a.push("0 0 "+pr(s)+" "+pr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+pr(s-1)+" "+pr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+pr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(zt.internal.getWidth(e))+" "+pr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Circle.YesNormal,t.D[e]=zt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=zt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pu(zt.internal.getWidth(e)/2)+" "+Pu(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zt.internal.Bezier_C).toFixed(5)),s=Number((n*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pu(zt.internal.getWidth(e)/2)+" "+Pu(zt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pu(zt.internal.getWidth(e)/2)+" "+Pu(zt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=zt.internal.getWidth(e)<=zt.internal.getHeight(e)?zt.internal.getWidth(e)/4:zt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*zt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pu(zt.internal.getWidth(e)/2)+" "+Pu(zt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:zt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=zt.RadioButton.Cross.YesNormal,t.D[e]=zt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=zt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+pr(zt.internal.getWidth(e)-2)+" "+pr(zt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(pr(n.x1.x)+" "+pr(n.x1.y)+" m"),r.push(pr(n.x2.x)+" "+pr(n.x2.y)+" l"),r.push(pr(n.x4.x)+" "+pr(n.x4.y)+" m"),r.push(pr(n.x3.x)+" "+pr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=zt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+pr(zt.internal.getWidth(e))+" "+pr(zt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+pr(zt.internal.getWidth(e)-2)+" "+pr(zt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(pr(r.x1.x)+" "+pr(r.x1.y)+" m"),n.push(pr(r.x2.x)+" "+pr(r.x2.y)+" l"),n.push(pr(r.x4.x)+" "+pr(r.x4.y)+" m"),n.push(pr(r.x3.x)+" "+pr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+pr(zt.internal.getWidth(e))+" "+pr(zt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};zt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=zt.internal.getWidth(e),r=zt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},zt.internal.getWidth=function(e){var t=0;return Kr(e)==="object"&&(t=pj(e.Rect[2])),t},zt.internal.getHeight=function(e){var t=0;return Kr(e)==="object"&&(t=pj(e.Rect[3])),t};var xxe=Kn.addField=function(e){if(yxe(this,e),!(e instanceof cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Kn.AcroFormChoiceField=L0,Kn.AcroFormListBox=M0,Kn.AcroFormComboBox=R0,Kn.AcroFormEditBox=o2,Kn.AcroFormButton=Ra,Kn.AcroFormPushButton=l2,Kn.AcroFormRadioButton=F0,Kn.AcroFormCheckBox=c2,Kn.AcroFormTextField=Fh,Kn.AcroFormPasswordField=u2,Kn.AcroFormAppearance=zt,Kn.AcroForm={ChoiceField:L0,ListBox:M0,ComboBox:R0,EditBox:o2,Button:Ra,PushButton:l2,RadioButton:F0,CheckBox:c2,TextField:Fh,PasswordField:u2,Appearance:zt},Zt.AcroForm={ChoiceField:L0,ListBox:M0,ComboBox:R0,EditBox:o2,Button:Ra,PushButton:l2,RadioButton:F0,CheckBox:c2,TextField:Fh,PasswordField:u2,Appearance:zt};function zq(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,N){var j,K,J,X,Z,q=t;if((N=N||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(D(T))for(Z in r)for(J=r[Z],j=0;j<J.length;j+=1){for(X=!0,K=0;K<J[j].length;K+=1)if(J[j][K]!==void 0&&J[j][K]!==T[K]){X=!1;break}if(X===!0){q=Z;break}}else for(Z in r)for(J=r[Z],j=0;j<J.length;j+=1){for(X=!0,K=0;K<J[j].length;K+=1)if(J[j][K]!==void 0&&J[j][K]!==T.charCodeAt(K)){X=!1;break}if(X===!0){q=Z;break}}return q===t&&N!==t&&(q=N),q},a=function T(N){for(var j=this.internal.write,K=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);N.objectId=this.internal.newObject();var X=[];if(X.push({key:"Type",value:"/XObject"}),X.push({key:"Subtype",value:"/Image"}),X.push({key:"Width",value:N.width}),X.push({key:"Height",value:N.height}),N.colorSpace===v.INDEXED?X.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(N.palette.length/3-1)+" "+("sMask"in N&&N.sMask!==void 0?N.objectId+2:N.objectId+1)+" 0 R]"}):(X.push({key:"ColorSpace",value:"/"+N.colorSpace}),N.colorSpace===v.DEVICE_CMYK&&X.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),X.push({key:"BitsPerComponent",value:N.bitsPerComponent}),"decodeParameters"in N&&N.decodeParameters!==void 0&&X.push({key:"DecodeParms",value:"<<"+N.decodeParameters+">>"}),"transparency"in N&&Array.isArray(N.transparency)){for(var Z="",q=0,U=N.transparency.length;q<U;q++)Z+=N.transparency[q]+" "+N.transparency[q]+" ";X.push({key:"Mask",value:"["+Z+"]"})}N.sMask!==void 0&&X.push({key:"SMask",value:N.objectId+1+" 0 R"});var te=N.filter!==void 0?["/"+N.filter]:void 0;if(K({data:N.data,additionalKeyValues:X,alreadyAppliedFilters:te,objectId:N.objectId}),j("endobj"),"sMask"in N&&N.sMask!==void 0){var z="/Predictor "+N.predictor+" /Colors 1 /BitsPerComponent "+N.bitsPerComponent+" /Columns "+N.width,C={width:N.width,height:N.height,colorSpace:"DeviceGray",bitsPerComponent:N.bitsPerComponent,decodeParameters:z,data:N.sMask};"filter"in N&&(C.filter=N.filter),T.call(this,C)}if(N.colorSpace===v.INDEXED){var R=this.internal.newObject();K({data:A(new Uint8Array(N.palette)),objectId:R}),j("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var N in T)a.call(this,T[N])},s=function(){var T,N=this.internal.collections.addImage_images,j=this.internal.write;for(var K in N)j("/I"+(T=N[K]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return Kr(T)==="object"&&T.nodeType===1},h=function(T,N){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var j=""+T.getAttribute("src");if(j.indexOf("data:image/")===0)return Vg(unescape(j).split("base64,").pop());var K=e.loadFile(j,!0);if(K!==void 0)return K}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var J;switch(N){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return Vg(T.toDataURL(J,1).split("base64,").pop())}},d=function(T){var N=this.internal.collections.addImage_images;if(N){for(var j in N)if(T===N[j].alias)return N[j]}},g=function(T,N,j){return T||N||(T=-96,N=-96),T<0&&(T=-1*j.width*72/T/this.internal.scaleFactor),N<0&&(N=-1*j.height*72/N/this.internal.scaleFactor),T===0&&(T=N*j.width/j.height),N===0&&(N=T*j.height/j.width),[T,N]},m=function(T,N,j,K,J,X){var Z=g.call(this,j,K,J),q=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,te=l.call(this);if(j=Z[0],K=Z[1],te[J.index]=J,X){X*=Math.PI/180;var z=Math.cos(X),C=Math.sin(X),R=function(G){return G.toFixed(4)},V=[R(z),R(C),R(-1*C),R(z),0,0,"cm"]}this.internal.write("q"),X?(this.internal.write([1,"0","0",1,q(T),U(N+K),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([q(j),"0","0",q(K),"0","0","cm"].join(" "))):this.internal.write([q(j),"0","0",q(K),q(T),U(N+K),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=e.__addimage__.sHashCode=function(T){var N,j,K=0;if(typeof T=="string")for(j=T.length,N=0;N<j;N++)K=(K<<5)-K+T.charCodeAt(N),K|=0;else if(D(T))for(j=T.byteLength/2,N=0;N<j;N++)K=(K<<5)-K+T[N],K|=0;return K},_=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var N=!0;return T.length===0&&(N=!1),T.length%4!=0&&(N=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(N=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(N=!1),N},I=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var N=T.indexOf(",");return N<0?null:T.substring(0,N).trim().endsWith("base64")?T.substring(N+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return P()&&T instanceof ArrayBuffer};var D=e.__addimage__.isArrayBufferView=function(T){return P()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(T){for(var N=T.length,j=new Uint8Array(N),K=0;K<N;K++)j[K]=T.charCodeAt(K);return j},A=e.__addimage__.arrayBufferToBinaryString=function(T){for(var N="",j=D(T)?T:new Uint8Array(T),K=0;K<j.length;K+=8192)N+=String.fromCharCode.apply(null,j.subarray(K,K+8192));return N};e.addImage=function(){var T,N,j,K,J,X,Z,q,U;if(typeof arguments[1]=="number"?(N=t,j=arguments[1],K=arguments[2],J=arguments[3],X=arguments[4],Z=arguments[5],q=arguments[6],U=arguments[7]):(N=arguments[1],j=arguments[2],K=arguments[3],J=arguments[4],X=arguments[5],Z=arguments[6],q=arguments[7],U=arguments[8]),Kr(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var te=T;T=te.imageData,N=te.format||N||t,j=te.x||j||0,K=te.y||K||0,J=te.w||te.width||J,X=te.h||te.height||X,Z=te.alias||Z,q=te.compression||q,U=te.rotation||te.angle||U}var z=this.internal.getFilters();if(q===void 0&&z.indexOf("FlateEncode")!==-1&&(q="SLOW"),isNaN(j)||isNaN(K))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=b.call(this,T,N,Z,q);return m.call(this,j,K,J,X,C,U),this};var b=function(T,N,j,K){var J,X,Z;if(typeof T=="string"&&n(T)===t){T=unescape(T);var q=O(T,!1);(q!==""||(q=e.loadFile(T,!0))!==void 0)&&(T=q)}if(f(T)&&(T=h(T,N)),N=n(T,N),!u(N))throw new Error("addImage does not support files of type '"+N+"', please ensure that a plugin for '"+N+"' support is added.");if(((Z=j)==null||Z.length===0)&&(j=function(U){return typeof U=="string"||D(U)?w(U):D(U.data)?w(U.data):null}(T)),(J=d.call(this,j))||(P()&&(T instanceof Uint8Array||N==="RGBA"||(X=T,T=E(T))),J=this["process"+N.toUpperCase()](T,c.call(this),j,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:y.NONE}(K),X)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},O=e.__addimage__.convertBase64ToBinaryString=function(T,N){N=typeof N!="boolean"||N;var j,K="";if(typeof T=="string"){var J;j=(J=I(T))!==null&&J!==void 0?J:T;try{K=Vg(j)}catch(X){if(N)throw _(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+X.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return K};e.getImageProperties=function(T){var N,j,K="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((K=O(T,!1))===""&&(K=e.loadFile(T)||""),T=K),j=n(T),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!P()||T instanceof Uint8Array||(T=E(T)),!(N=this["process"+j.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return N.fileType=j,N}})(Zt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Zt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(y(w))+") >>",m.content=i;var _=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var D=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+D+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Zt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,w="",_=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(_++,typeof(y=y[m.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(y),y=r,_=0),v===m.length-1&&(y=r,w+=m.charAt(v-(_-1)),v-=_-1,_=0)):(y=r,w+=m.charAt(v-_),v-=_,_=0);return w};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},d=function(m){var v=0,y=0,w=0,_="",I="",P="",D=(m=m||"").split("\\s+"),E=[];for(v=0;v<D.length;v+=1){for(E.push(""),y=0;y<D[v].length;y+=1)_=D[v][y],I=D[v][y-1],P=D[v][y+1],s(_)?(w=h(_,I,P),E[v]+=w!==-1?String.fromCharCode(t[_.charCodeAt(0)][w]):_):E[v]+=_;E[v]=f(E[v])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var w=0;for(y=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?y.push([d(v[w][0]),v[w][1],v[w][2]]):y.push([d(v[w])]);m=y}else m=d(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(Zt.API),Zt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Zt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,I){return _.concat(v.splitTextToSize(I,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)d<(m=this.getStringUnitWidth(l[w],{font:f})*u)&&(d=m);return d!==0&&(g=l.length),{w:d/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,g,m,v,y=[],w=[],_=[],I={},P={},D=[],E=[],A=(h=h||{}).autoSize||!1,b=h.printHeaders!==!1,O=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),N=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",K=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=b,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=N,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=K,this.setFontSize(O),f==null)w=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Kr(f[0])==="object")for(y=f.map(function(te){return te.name}),w=f.map(function(te){return te.prompt||te.name||""}),_=f.map(function(te){return te.align||"left"}),d=0;d<f.length;d+=1)P[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,_=y.map(function(){return"left"}));if(A||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(I[v=y[d]]=u.map(function(te){return te[v]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=I[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)D.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,D)+N+N,D=[]}if(b){var J={};for(d=0;d<y.length;d+=1)J[y[d]]={},J[y[d]].text=w[d],J[y[d]].align=_[d];var X=o.call(this,J,P);E=y.map(function(te){return new i(l,c,P[te],X,J[te].text,void 0,J[te].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var Z=f.reduce(function(te,z){return te[z.name]=z.align,te},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var q=o.call(this,u[d],P);for(m=0;m<y.length;m+=1){var U=u[d][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:m,data:U},this),s.call(this,new i(l,c,P[y[m]],q,U,d+2,Z[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,g){return Math.max(d,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(Zt.API);var qq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Wq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],BT=zq(Wq),Hq=[100,200,300,400,500,600,700,800,900],bxe=zq(Hq);function VT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return qq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof BT[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function mj(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var wxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},gj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function _xe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},wxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=VT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+vj(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=BT[l],f=u<=BT.normal?-1:1,h=mj(c,Wq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=qq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=bxe[l],f=mj(c,Hq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+vj(i)+"'.");return s}function yj(e){return e.trimLeft()}function Sxe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Axe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var bx,xj,bj,GS=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var R=C;Object.defineProperty(this,"pdf",{get:function(){return R}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ge){V=!!ge}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(ge){G=!!ge}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(ge){isNaN(ge)||(Y=ge)}});var se=0;Object.defineProperty(this,"posY",{get:function(){return se},set:function(ge){isNaN(ge)||(se=ge)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ge){var ee;typeof ge=="number"?ee=[ge,ge,ge,ge]:((ee=new Array(4))[0]=ge[0],ee[1]=ge.length>=2?ge[1]:ee[0],ee[2]=ge.length>=3?ge[2]:ee[0],ee[3]=ge.length>=4?ge[3]:ee[1]),c.margin=ee}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(ge){ce=ge}});var re=0;Object.defineProperty(this,"lastBreak",{get:function(){return re},set:function(ge){re=ge}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(ge){he=ge}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ge){ge instanceof u&&(c=ge)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ge){c.path=ge}});var be=[];Object.defineProperty(this,"ctxStack",{get:function(){return be},set:function(ge){be=ge}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ge){var ee;ee=h(ge),this.ctx.fillStyle=ee.style,this.ctx.isFillTransparent=ee.a===0,this.ctx.fillOpacity=ee.a,this.pdf.setFillColor(ee.r,ee.g,ee.b,{a:ee.a}),this.pdf.setTextColor(ee.r,ee.g,ee.b,{a:ee.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ge){var ee=h(ge);this.ctx.strokeStyle=ee.style,this.ctx.isStrokeTransparent=ee.a===0,this.ctx.strokeOpacity=ee.a,ee.a===0?this.pdf.setDrawColor(255,255,255):(ee.a,this.pdf.setDrawColor(ee.r,ee.g,ee.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ge){["butt","round","square"].indexOf(ge)!==-1&&(this.ctx.lineCap=ge,this.pdf.setLineCap(ge))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ge){isNaN(ge)||(this.ctx.lineWidth=ge,this.pdf.setLineWidth(ge))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ge){["bevel","round","miter"].indexOf(ge)!==-1&&(this.ctx.lineJoin=ge,this.pdf.setLineJoin(ge))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ge){isNaN(ge)||(this.ctx.miterLimit=ge,this.pdf.setMiterLimit(ge))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ge){this.ctx.textBaseline=ge}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ge){["right","end","center","left","start"].indexOf(ge)!==-1&&(this.ctx.textAlign=ge)}});var B=null;function Te(ge,ee){if(B===null){var Ae=function(Oe){var Me=[];return Object.keys(Oe).forEach(function(Ke){Oe[Ke].forEach(function($e){var Xe=null;switch($e){case"bold":Xe={family:Ke,weight:"bold"};break;case"italic":Xe={family:Ke,style:"italic"};break;case"bolditalic":Xe={family:Ke,weight:"bold",style:"italic"};break;case"":case"normal":Xe={family:Ke}}Xe!==null&&(Xe.ref={name:Ke,style:$e},Me.push(Xe))})}),Me}(ge.getFontList());B=function(Oe){for(var Me={},Ke=0;Ke<Oe.length;++Ke){var $e=VT(Oe[Ke]),Xe=$e.family,Fe=$e.stretch,Qe=$e.style,ct=$e.weight;Me[Xe]=Me[Xe]||{},Me[Xe][Fe]=Me[Xe][Fe]||{},Me[Xe][Fe][Qe]=Me[Xe][Fe][Qe]||{},Me[Xe][Fe][Qe][ct]=$e}return Me}(Ae.concat(ee))}return B}var _e=null;Object.defineProperty(this,"fontFaces",{get:function(){return _e},set:function(ge){B=null,_e=ge}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ge){var ee;if(this.ctx.font=ge,(ee=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ge))!==null){var Ae=ee[1];ee[2];var Oe=ee[3],Me=ee[4];ee[5];var Ke=ee[6],$e=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Me)[2];Me=Math.floor($e==="px"?parseFloat(Me)*this.pdf.internal.scaleFactor:$e==="em"?parseFloat(Me)*this.pdf.getFontSize():parseFloat(Me)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Me);var Xe=function(At){var xt,nt,qt=[],$t=At.trim();if($t==="")return GS;if($t in gj)return[gj[$t]];for(;$t!=="";){switch(nt=null,xt=($t=yj($t)).charAt(0)){case'"':case"'":nt=Sxe($t.substring(1),xt);break;default:nt=Axe($t)}if(nt===null||(qt.push(nt[0]),($t=yj(nt[1]))!==""&&$t.charAt(0)!==","))return GS;$t=$t.replace(/^,/,"")}return qt}(Ke);if(this.fontFaces){var Fe=_xe(Te(this.pdf,this.fontFaces),Xe.map(function(At){return{family:At,stretch:"normal",weight:Oe,style:Ae}}));this.pdf.setFont(Fe.ref.name,Fe.ref.style)}else{var Qe="";(Oe==="bold"||parseInt(Oe,10)>=700||Ae==="bold")&&(Qe="bold"),Ae==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var ct="",rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Xe.length;gt++){if(this.pdf.internal.getFont(Xe[gt],Qe,{noFallback:!0,disableWarning:!0})!==void 0){ct=Xe[gt];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(Xe[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ct=Xe[gt],Qe="bold";else if(this.pdf.internal.getFont(Xe[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ct=Xe[gt],Qe="normal";break}}if(ct===""){for(var yt=0;yt<Xe.length;yt++)if(rt[Xe[yt]]){ct=rt[Xe[yt]];break}}ct=ct===""?"Times":ct,this.pdf.setFont(ct,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ge){this.ctx.globalCompositeOperation=ge}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ge){this.ctx.globalAlpha=ge}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ge){this.ctx.lineDashOffset=ge,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ge){this.ctx.lineDash=ge,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ge){this.ctx.ignoreClearRect=!!ge}})};f.prototype.setLineDash=function(C){this.lineDash=C},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){I.call(this,"fill",!1)},f.prototype.stroke=function(){I.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(C,R){if(isNaN(C)||isNaN(R))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(C,R));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(C,R)},f.prototype.closePath=function(){var C=new s(0,0),R=0;for(R=this.path.length-1;R!==-1;R--)if(this.path[R].type==="begin"&&Kr(this.path[R+1])==="object"&&typeof this.path[R+1].x=="number"){C=new s(this.path[R+1].x,this.path[R+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},f.prototype.lineTo=function(C,R){if(isNaN(C)||isNaN(R))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(C,R));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},f.prototype.quadraticCurveTo=function(C,R,V,G){if(isNaN(V)||isNaN(G)||isNaN(C)||isNaN(R))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new s(V,G)),se=this.ctx.transform.applyToPoint(new s(C,R));this.path.push({type:"qct",x1:se.x,y1:se.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new s(Y.x,Y.y)},f.prototype.bezierCurveTo=function(C,R,V,G,Y,se){if(isNaN(Y)||isNaN(se)||isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(Y,se)),re=this.ctx.transform.applyToPoint(new s(C,R)),he=this.ctx.transform.applyToPoint(new s(V,G));this.path.push({type:"bct",x1:re.x,y1:re.y,x2:he.x,y2:he.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},f.prototype.arc=function(C,R,V,G,Y,se){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G)||isNaN(Y))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(se=!!se,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s(C,R));C=ce.x,R=ce.y;var re=this.ctx.transform.applyToPoint(new s(0,V)),he=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(re.x-he.x,2)+Math.pow(re.y-he.y,2))}Math.abs(Y-G)>=2*Math.PI&&(G=0,Y=2*Math.PI),this.path.push({type:"arc",x:C,y:R,radius:V,startAngle:G,endAngle:Y,counterclockwise:se})},f.prototype.arcTo=function(C,R,V,G,Y){throw new Error("arcTo not implemented.")},f.prototype.rect=function(C,R,V,G){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,R),this.lineTo(C+V,R),this.lineTo(C+V,R+G),this.lineTo(C,R+G),this.lineTo(C,R),this.lineTo(C+V,R),this.lineTo(C,R)},f.prototype.fillRect=function(C,R,V,G){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,R,V,G),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},f.prototype.strokeRect=function(C,R,V,G){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,R,V,G),this.stroke())},f.prototype.clearRect=function(C,R,V,G){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,R,V,G))},f.prototype.save=function(C){C=typeof C!="boolean"||C;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(R),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},f.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var R=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(R),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(C){var R,V,G,Y;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))R=0,V=0,G=0,Y=0;else{var se=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(se!==null)R=parseInt(se[1]),V=parseInt(se[2]),G=parseInt(se[3]),Y=1;else if((se=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)R=parseInt(se[1]),V=parseInt(se[2]),G=parseInt(se[3]),Y=parseFloat(se[4]);else{if(Y=1,typeof C=="string"&&C.charAt(0)!=="#"){var ce=new Rq(C);C=ce.ok?ce.toHex():"#000000"}C.length===4?(R=C.substring(1,2),R+=R,V=C.substring(2,3),V+=V,G=C.substring(3,4),G+=G):(R=C.substring(1,3),V=C.substring(3,5),G=C.substring(5,7)),R=parseInt(R,16),V=parseInt(V,16),G=parseInt(G,16)}}return{r:R,g:V,b:G,a:Y,style:C}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(C,R,V,G){if(isNaN(R)||isNaN(V)||typeof C!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!d.call(this)){var Y=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;N.call(this,{text:C,x:R,y:V,scale:se,angle:Y,align:this.textAlign,maxWidth:G})}},f.prototype.strokeText=function(C,R,V,G){if(isNaN(R)||isNaN(V)||typeof C!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){G=isNaN(G)?void 0:G;var Y=q(this.ctx.transform.rotation),se=this.ctx.transform.scaleX;N.call(this,{text:C,x:R,y:V,scale:se,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:G})}},f.prototype.measureText=function(C){if(typeof C!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var R=this.pdf,V=this.pdf.internal.scaleFactor,G=R.internal.getFontSize(),Y=R.getStringUnitWidth(C)*G/R.internal.scaleFactor,se=function(ce){var re=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return re}}),this};return new se({width:Y*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(C,R){if(isNaN(C)||isNaN(R))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(C,0,0,R,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(C){if(isNaN(C))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var R=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(R)},f.prototype.translate=function(C,R){if(isNaN(C)||isNaN(R))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,C,R);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(C,R,V,G,Y,se){if(isNaN(C)||isNaN(R)||isNaN(V)||isNaN(G)||isNaN(Y)||isNaN(se))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(C,R,V,G,Y,se);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.setTransform=function(C,R,V,G,Y,se){C=isNaN(C)?1:C,R=isNaN(R)?0:R,V=isNaN(V)?0:V,G=isNaN(G)?1:G,Y=isNaN(Y)?0:Y,se=isNaN(se)?0:se,this.ctx.transform=new l(C,R,V,G,Y,se)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(C,R,V,G,Y,se,ce,re,he){var be=this.pdf.getImageProperties(C),B=1,Te=1,_e=1,ge=1;G!==void 0&&re!==void 0&&(_e=re/G,ge=he/Y,B=be.width/G*re/G,Te=be.height/Y*he/Y),se===void 0&&(se=R,ce=V,R=0,V=0),G!==void 0&&re===void 0&&(re=G,he=Y),G===void 0&&re===void 0&&(re=be.width,he=be.height);for(var ee,Ae=this.ctx.transform.decompose(),Oe=q(Ae.rotate.shx),Me=new l,Ke=(Me=(Me=(Me=Me.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale)).applyToRectangle(new o(se-R*_e,ce-V*ge,G*B,Y*Te)),$e=v.call(this,Ke),Xe=[],Fe=0;Fe<$e.length;Fe+=1)Xe.indexOf($e[Fe])===-1&&Xe.push($e[Fe]);if(_(Xe),this.autoPaging)for(var Qe=Xe[0],ct=Xe[Xe.length-1],rt=Qe;rt<ct+1;rt++){this.pdf.setPage(rt);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=rt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],xt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=rt===1?0:At+(rt-2)*xt;if(this.ctx.clip_path.length!==0){var qt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ee,this.posX+this.margin[3],-nt+yt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=qt}var $t=JSON.parse(JSON.stringify(Ke));$t=w([$t],this.posX+this.margin[3],-nt+yt+this.ctx.prevPageLastElemOffset)[0];var Hr=(rt>Qe||rt<ct)&&m.call(this);Hr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,xt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",$t.x,$t.y,$t.w,$t.h,null,null,Oe),Hr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Oe)};var v=function(C,R,V){var G=[];R=R||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":G.push(Math.floor((C.y+Y)/V)+1);break;case"arc":G.push(Math.floor((C.y+Y-C.radius)/V)+1),G.push(Math.floor((C.y+Y+C.radius)/V)+1);break;case"qct":var se=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);G.push(Math.floor((se.y+Y)/V)+1),G.push(Math.floor((se.y+se.h+Y)/V)+1);break;case"bct":var ce=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);G.push(Math.floor((ce.y+Y)/V)+1),G.push(Math.floor((ce.y+ce.h+Y)/V)+1);break;case"rect":G.push(Math.floor((C.y+Y)/V)+1),G.push(Math.floor((C.y+C.h+Y)/V)+1)}for(var re=0;re<G.length;re+=1)for(;this.pdf.internal.getNumberOfPages()<G[re];)y.call(this);return G},y=function(){var C=this.fillStyle,R=this.strokeStyle,V=this.font,G=this.lineCap,Y=this.lineWidth,se=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=R,this.font=V,this.lineCap=G,this.lineWidth=Y,this.lineJoin=se},w=function(C,R,V){for(var G=0;G<C.length;G++)switch(C[G].type){case"bct":C[G].x2+=R,C[G].y2+=V;case"qct":C[G].x1+=R,C[G].y1+=V;case"mt":case"lt":case"arc":default:C[G].x+=R,C[G].y+=V}return C},_=function(C){return C.sort(function(R,V){return R-V})},I=function(C,R){for(var V,G,Y=this.fillStyle,se=this.strokeStyle,ce=this.lineCap,re=this.lineWidth,he=Math.abs(re*this.ctx.transform.scaleX),be=this.lineJoin,B=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),_e=[],ge=0;ge<Te.length;ge++)if(Te[ge].x!==void 0)for(var ee=v.call(this,Te[ge]),Ae=0;Ae<ee.length;Ae+=1)_e.indexOf(ee[Ae])===-1&&_e.push(ee[Ae]);for(var Oe=0;Oe<_e.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<_e[Oe];)y.call(this);if(_(_e),this.autoPaging)for(var Me=_e[0],Ke=_e[_e.length-1],$e=Me;$e<Ke+1;$e++){this.pdf.setPage($e),this.fillStyle=Y,this.strokeStyle=se,this.lineCap=ce,this.lineWidth=he,this.lineJoin=be;var Xe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Fe=$e===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ct=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=$e===1?0:Qe+($e-2)*ct;if(this.ctx.clip_path.length!==0){var gt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-rt+Fe+this.ctx.prevPageLastElemOffset),P.call(this,C,!0),this.path=gt}if(G=JSON.parse(JSON.stringify(B)),this.path=w(G,this.posX+this.margin[3],-rt+Fe+this.ctx.prevPageLastElemOffset),R===!1||$e===0){var yt=($e>Me||$e<Ke)&&m.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xe,ct,null).clip().discardPath()),P.call(this,C,R),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=re}else this.lineWidth=he,P.call(this,C,R),this.lineWidth=re;this.path=B},P=function(C,R){if((C!=="stroke"||R||!g.call(this))&&(C==="stroke"||R||!d.call(this))){for(var V,G,Y=[],se=this.path,ce=0;ce<se.length;ce++){var re=se[ce];switch(re.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:re,deltas:[],abs:[]});break;case"lt":var he=Y.length;if(se[ce-1]&&!isNaN(se[ce-1].x)&&(V=[re.x-se[ce-1].x,re.y-se[ce-1].y],he>0)){for(;he>=0;he--)if(Y[he-1].close!==!0&&Y[he-1].begin!==!0){Y[he-1].deltas.push(V),Y[he-1].abs.push(re);break}}break;case"bct":V=[re.x1-se[ce-1].x,re.y1-se[ce-1].y,re.x2-se[ce-1].x,re.y2-se[ce-1].y,re.x-se[ce-1].x,re.y-se[ce-1].y],Y[Y.length-1].deltas.push(V);break;case"qct":var be=se[ce-1].x+2/3*(re.x1-se[ce-1].x),B=se[ce-1].y+2/3*(re.y1-se[ce-1].y),Te=re.x+2/3*(re.x1-re.x),_e=re.y+2/3*(re.y1-re.y),ge=re.x,ee=re.y;V=[be-se[ce-1].x,B-se[ce-1].y,Te-se[ce-1].x,_e-se[ce-1].y,ge-se[ce-1].x,ee-se[ce-1].y],Y[Y.length-1].deltas.push(V);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(re)}}G=R?null:C==="stroke"?"stroke":"fill";for(var Ae=!1,Oe=0;Oe<Y.length;Oe++)if(Y[Oe].arc)for(var Me=Y[Oe].abs,Ke=0;Ke<Me.length;Ke++){var $e=Me[Ke];$e.type==="arc"?A.call(this,$e.x,$e.y,$e.radius,$e.startAngle,$e.endAngle,$e.counterclockwise,void 0,R,!Ae):j.call(this,$e.x,$e.y),Ae=!0}else if(Y[Oe].close===!0)this.pdf.internal.out("h"),Ae=!1;else if(Y[Oe].begin!==!0){var Xe=Y[Oe].start.x,Fe=Y[Oe].start.y;K.call(this,Y[Oe].deltas,Xe,Fe),Ae=!0}G&&b.call(this,G),R&&O.call(this)}},D=function(C){var R=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=R*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-V;case"top":return C+R-V;case"hanging":return C+R-2*V;case"middle":return C+R/2-V;case"ideographic":return C;case"alphabetic":default:return C}},E=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(R,V){this.colorStops.push([R,V])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(C,R,V,G,Y,se,ce,re,he){for(var be=X.call(this,V,G,Y,se),B=0;B<be.length;B++){var Te=be[B];B===0&&(he?T.call(this,Te.x1+C,Te.y1+R):j.call(this,Te.x1+C,Te.y1+R)),J.call(this,C,R,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}re?O.call(this):b.call(this,ce)},b=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,R){this.pdf.internal.out(r(C)+" "+n(R)+" m")},N=function(C){var R;switch(C.align){case"right":case"end":R="right";break;case"center":R="center";break;case"left":case"start":default:R="left"}var V=this.pdf.getTextDimensions(C.text),G=D.call(this,C.y),Y=E.call(this,G)-V.h,se=this.ctx.transform.applyToPoint(new s(C.x,G)),ce=this.ctx.transform.decompose(),re=new l;re=(re=(re=re.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var he,be,B,Te=this.ctx.transform.applyToRectangle(new o(C.x,G,V.w,V.h)),_e=re.applyToRectangle(new o(C.x,Y,V.w,V.h)),ge=v.call(this,_e),ee=[],Ae=0;Ae<ge.length;Ae+=1)ee.indexOf(ge[Ae])===-1&&ee.push(ge[Ae]);if(_(ee),this.autoPaging)for(var Oe=ee[0],Me=ee[ee.length-1],Ke=Oe;Ke<Me+1;Ke++){this.pdf.setPage(Ke);var $e=Ke===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[2],Qe=Fe-this.margin[0],ct=this.pdf.internal.pageSize.width-this.margin[1],rt=ct-this.margin[3],gt=Ke===1?0:Xe+(Ke-2)*Qe;if(this.ctx.clip_path.length!==0){var yt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(he,this.posX+this.margin[3],-1*gt+$e),P.call(this,"fill",!0),this.path=yt}var At=w([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-gt+$e+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*C.scale),B=this.lineWidth,this.lineWidth=B*C.scale);var xt=this.autoPaging!=="text";if(xt||At.y+At.h<=Fe){if(xt||At.y>=$e&&At.x<=ct){var nt=xt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||ct-At.x)[0],qt=w([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-gt+$e+this.ctx.prevPageLastElemOffset)[0],$t=xt&&(Ke>Oe||Ke<Me)&&m.call(this);$t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Qe,null).clip().discardPath()),this.pdf.text(nt,qt.x,qt.y,{angle:C.angle,align:R,renderingMode:C.renderingMode}),$t&&this.pdf.restoreGraphicsState()}}else At.y<Fe&&(this.ctx.prevPageLastElemOffset+=Fe-At.y);C.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=B)}else C.scale>=.01&&(be=this.pdf.internal.getFontSize(),this.pdf.setFontSize(be*C.scale),B=this.lineWidth,this.lineWidth=B*C.scale),this.pdf.text(C.text,se.x+this.posX,se.y+this.posY,{angle:C.angle,align:R,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(be),this.lineWidth=B)},j=function(C,R,V,G){V=V||0,G=G||0,this.pdf.internal.out(r(C+V)+" "+n(R+G)+" l")},K=function(C,R,V){return this.pdf.lines(C,R,V,null,null)},J=function(C,R,V,G,Y,se,ce,re){this.pdf.internal.out([t(a(V+C)),t(i(G+R)),t(a(Y+C)),t(i(se+R)),t(a(ce+C)),t(i(re+R)),"c"].join(" "))},X=function(C,R,V,G){for(var Y=2*Math.PI,se=Math.PI/2;R>V;)R-=Y;var ce=Math.abs(V-R);ce<Y&&G&&(ce=Y-ce);for(var re=[],he=G?-1:1,be=R;ce>1e-5;){var B=be+he*Math.min(ce,se);re.push(Z.call(this,C,be,B)),ce-=Math.abs(B-be),be=B}return re},Z=function(C,R,V){var G=(V-R)/2,Y=C*Math.cos(G),se=C*Math.sin(G),ce=Y,re=-se,he=ce*ce+re*re,be=he+ce*Y+re*se,B=4/3*(Math.sqrt(2*he*be)-be)/(ce*se-re*Y),Te=ce-B*re,_e=re+B*ce,ge=Te,ee=-_e,Ae=G+R,Oe=Math.cos(Ae),Me=Math.sin(Ae);return{x1:C*Math.cos(R),y1:C*Math.sin(R),x2:Te*Oe-_e*Me,y2:Te*Me+_e*Oe,x3:ge*Oe-ee*Me,y3:ge*Me+ee*Oe,x4:C*Math.cos(V),y4:C*Math.sin(V)}},q=function(C){return 180*C/Math.PI},U=function(C,R,V,G,Y,se){var ce=C+.5*(V-C),re=R+.5*(G-R),he=Y+.5*(V-Y),be=se+.5*(G-se),B=Math.min(C,Y,ce,he),Te=Math.max(C,Y,ce,he),_e=Math.min(R,se,re,be),ge=Math.max(R,se,re,be);return new o(B,_e,Te-B,ge-_e)},te=function(C,R,V,G,Y,se,ce,re){var he,be,B,Te,_e,ge,ee,Ae,Oe,Me,Ke,$e,Xe,Fe,Qe=V-C,ct=G-R,rt=Y-V,gt=se-G,yt=ce-Y,At=re-se;for(be=0;be<41;be++)Oe=(ee=(B=C+(he=be/40)*Qe)+he*((_e=V+he*rt)-B))+he*(_e+he*(Y+he*yt-_e)-ee),Me=(Ae=(Te=R+he*ct)+he*((ge=G+he*gt)-Te))+he*(ge+he*(se+he*At-ge)-Ae),be==0?(Ke=Oe,$e=Me,Xe=Oe,Fe=Me):(Ke=Math.min(Ke,Oe),$e=Math.min($e,Me),Xe=Math.max(Xe,Oe),Fe=Math.max(Fe,Me));return new o(Math.round(Ke),Math.round($e),Math.round(Xe-Ke),Math.round(Fe-$e))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,R,V=(C=this.ctx.lineDash,R=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:R}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Zt.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,g+33,m+33)):o.push(122);return function(v,y){for(var w=y;w>0;w--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,w){for(var _=w;_>0;_--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=LT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Zt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(Zt.API),function(e){function t(){return(er.html2canvas?Promise.resolve(er.html2canvas):PT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(er.DOMPurify?Promise.resolve(er.DOMPurify):PT(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Kr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],g=d.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||Zt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Zt.getPageSize=function(s,o,l){if(Kr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(d=m,m=g,g=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(d=m,m=g,g=d)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(VT):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(Zt.API),Zt.API.addJS=function(e){return bj=e,this.internal.events.subscribe("postPutResources",function(){bx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(bx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),xj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+bj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){bx!==void 0&&xj!==void 0&&this.internal.out("/Names <</JavaScript "+bx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Zt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=d,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}d=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(Zt.API);var Wd,wx,wj,_j,Sj,Txe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,g,m,v,y,w,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var I,P;for(P=[],I=0;I<4;++I)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(w=0;0<=m?w<m:w>m;0<=m?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,v.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,g){var m,v,y,w,_,I,P,D,E,A,b,O,T,N,j,K,J,X,Z,q,U,te=Math.ceil((c.width-f)/d),z=Math.ceil((c.height-h)/g),C=c.width==te&&c.height==z;for(N=s*te,O=C?o:new Uint8Array(N*z),I=i.length,T=0,v=0;T<z&&l<I;){switch(i[l++]){case 0:for(w=J=0;J<N;w=J+=1)O[v++]=i[l++];break;case 1:for(w=X=0;X<N;w=X+=1)m=i[l++],_=w<s?0:O[v-s],O[v++]=(m+_)%256;break;case 2:for(w=Z=0;Z<N;w=Z+=1)m=i[l++],y=(w-w%s)/s,j=T&&O[(T-1)*N+y*s+w%s],O[v++]=(j+m)%256;break;case 3:for(w=q=0;q<N;w=q+=1)m=i[l++],y=(w-w%s)/s,_=w<s?0:O[v-s],j=T&&O[(T-1)*N+y*s+w%s],O[v++]=(m+Math.floor((_+j)/2))%256;break;case 4:for(w=U=0;U<N;w=U+=1)m=i[l++],y=(w-w%s)/s,_=w<s?0:O[v-s],T===0?j=K=0:(j=O[(T-1)*N+y*s+w%s],K=y&&O[(T-1)*N+(y-1)*s+w%s]),P=_+j-K,D=Math.abs(P-_),A=Math.abs(P-j),b=Math.abs(P-K),E=D<=A&&D<=b?_:A<=b?j:K,O[v++]=(m+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!C){var R=((h+T*g)*c.width+f)*s,V=T*N;for(w=0;w<te;w+=1){for(var G=0;G<s;G+=1)o[R++]=O[V++];R+=(d-1)*s}}T++}}return i=nxe(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)d=m?4*s[u/4]:h,v=f[d++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[d++]:255,h=d;else for(;u<g;)d=m?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(er)==="[object Window]"){try{t=er.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,g;if(d=o++%c,g=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Exe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),d=m>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,I=e[t++],P=I>>6&1,D=1<<(7&I)+1,E=o,A=l,b=!1;I>>7&&(b=!0,E=t,A=D,t+=3*D);var O=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:v,y,width:w,height:_,has_local_palette:b,palette_offset:E,palette_size:A,data_offset:O,data_length:t-O,transparent_index:h,interlaced:!!P,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(N){if(N<0||N>=u.length)throw new Error("Frame index out of range.");return u[N]},this.decodeAndBlitFrameBGRA=function(N,j){var K=this.frameInfo(N),J=K.width*K.height,X=new Uint8Array(J);Aj(e,K.data_offset,X,J);var Z=K.palette_offset,q=K.transparent_index;q===null&&(q=256);var U=K.width,te=r-U,z=U,C=4*(K.y*r+K.x),R=4*((K.y+K.height)*r+K.x),V=C,G=4*te;K.interlaced===!0&&(G+=4*r*7);for(var Y=8,se=0,ce=X.length;se<ce;++se){var re=X[se];if(z===0&&(z=U,(V+=G)>=R&&(G=4*te+4*r*(Y-1),V=C+(U+te)*(Y<<1),Y>>=1)),re===q)V+=4;else{var he=e[Z+3*re],be=e[Z+3*re+1],B=e[Z+3*re+2];j[V++]=B,j[V++]=be,j[V++]=he,j[V++]=255}--z}},this.decodeAndBlitFrameRGBA=function(N,j){var K=this.frameInfo(N),J=K.width*K.height,X=new Uint8Array(J);Aj(e,K.data_offset,X,J);var Z=K.palette_offset,q=K.transparent_index;q===null&&(q=256);var U=K.width,te=r-U,z=U,C=4*(K.y*r+K.x),R=4*((K.y+K.height)*r+K.x),V=C,G=4*te;K.interlaced===!0&&(G+=4*r*7);for(var Y=8,se=0,ce=X.length;se<ce;++se){var re=X[se];if(z===0&&(z=U,(V+=G)>=R&&(G=4*te+4*r*(Y-1),V=C+(U+te)*(Y<<1),Y>>=1)),re===q)V+=4;else{var he=e[Z+3*re],be=e[Z+3*re+1],B=e[Z+3*re+2];j[V++]=he,j[V++]=be,j[V++]=B,j[V++]=255}--z}}}function Aj(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,w=0,_=y;_>i;)_=g[_]>>8,++w;var I=_;if(h+w+(y!==v?1:0)>n)return void vn.log("Warning, gif stream longer than expected.");r[h++]=I;var P=h+=w;for(y!==v&&(r[h++]=I),_=y;w--;)_=g[_],r[--P]=255&_,_>>=8;m!==null&&o<4096&&(g[o++]=m<<8|I,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&vn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function KS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),g=new Array(64),m=[],v=0,y=7,w=new Array(64),_=new Array(64),I=new Array(64),P=new Array(256),D=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],b=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],N=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],K=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function X(C,R){for(var V=0,G=0,Y=new Array,se=1;se<=16;se++){for(var ce=1;ce<=C[se];ce++)Y[R[G]]=[],Y[R[G]][0]=V,Y[R[G]][1]=se,G++,V++;V*=2}return Y}function Z(C){for(var R=C[0],V=C[1]-1;V>=0;)R&1<<V&&(v|=1<<y),V--,--y<0&&(v==255?(q(255),q(0)):q(v),y=7,v=0)}function q(C){m.push(C)}function U(C){q(C>>8&255),q(255&C)}function te(C,R,V,G,Y){for(var se,ce=Y[0],re=Y[240],he=function(Me,Ke){var $e,Xe,Fe,Qe,ct,rt,gt,yt,At,xt,nt=0;for(At=0;At<8;++At){$e=Me[nt],Xe=Me[nt+1],Fe=Me[nt+2],Qe=Me[nt+3],ct=Me[nt+4],rt=Me[nt+5],gt=Me[nt+6];var qt=$e+(yt=Me[nt+7]),$t=$e-yt,Hr=Xe+gt,ke=Xe-gt,Je=Fe+rt,kt=Fe-rt,Pt=Qe+ct,fr=Qe-ct,vr=qt+Pt,Cr=qt-Pt,pn=Hr+Je,Pr=Hr-Je;Me[nt]=vr+pn,Me[nt+4]=vr-pn;var Ht=.707106781*(Pr+Cr);Me[nt+2]=Cr+Ht,Me[nt+6]=Cr-Ht;var Sr=.382683433*((vr=fr+kt)-(Pr=ke+$t)),qa=.5411961*vr+Sr,In=1.306562965*Pr+Sr,Ee=.707106781*(pn=kt+ke),bt=$t+Ee,Ye=$t-Ee;Me[nt+5]=Ye+qa,Me[nt+3]=Ye-qa,Me[nt+1]=bt+In,Me[nt+7]=bt-In,nt+=8}for(nt=0,At=0;At<8;++At){$e=Me[nt],Xe=Me[nt+8],Fe=Me[nt+16],Qe=Me[nt+24],ct=Me[nt+32],rt=Me[nt+40],gt=Me[nt+48];var Gt=$e+(yt=Me[nt+56]),Ct=$e-yt,ft=Xe+gt,Nt=Xe-gt,gr=Fe+rt,ie=Fe-rt,xe=Qe+ct,pe=Qe-ct,me=Gt+xe,ye=Gt-xe,we=ft+gr,Be=ft-gr;Me[nt]=me+we,Me[nt+32]=me-we;var Ge=.707106781*(Be+ye);Me[nt+16]=ye+Ge,Me[nt+48]=ye-Ge;var Ve=.382683433*((me=pe+ie)-(Be=Nt+Ct)),Ue=.5411961*me+Ve,He=1.306562965*Be+Ve,pt=.707106781*(we=ie+Nt),Tt=Ct+pt,Lt=Ct-pt;Me[nt+40]=Lt+Ue,Me[nt+24]=Lt-Ue,Me[nt+8]=Tt+He,Me[nt+56]=Tt-He,nt++}for(At=0;At<64;++At)xt=Me[At]*Ke[At],d[At]=xt>0?xt+.5|0:xt-.5|0;return d}(C,R),be=0;be<64;++be)g[E[be]]=he[be];var B=g[0]-V;V=g[0],B==0?Z(G[0]):(Z(G[h[se=32767+B]]),Z(f[se]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return Z(ce),V;for(var _e,ge=1;ge<=Te;){for(var ee=ge;g[ge]==0&&ge<=Te;)++ge;var Ae=ge-ee;if(Ae>=16){_e=Ae>>4;for(var Oe=1;Oe<=_e;++Oe)Z(re);Ae&=15}se=32767+g[ge],Z(Y[(Ae<<4)+h[se]]),Z(f[se]),ge++}return Te!=63&&Z(ce),V}function z(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(R){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var Y=s((V[G]*R+50)/100);Y=Math.min(Math.max(Y,1),255),o[E[G]]=Y}for(var se=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var re=s((se[ce]*R+50)/100);re=Math.min(Math.max(re,1),255),l[E[ce]]=re}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],be=0,B=0;B<8;B++)for(var Te=0;Te<8;Te++)c[be]=1/(o[E[be]]*he[B]*he[Te]*8),u[be]=1/(l[E[be]]*he[B]*he[Te]*8),be++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,R){R&&z(R),m=new Array,v=0,y=7,U(65496),U(65504),U(16),q(74),q(70),q(73),q(70),q(0),q(1),q(1),q(0),U(1),U(1),q(0),q(0),function(){U(65499),U(132),q(0);for(var Xe=0;Xe<64;Xe++)q(o[Xe]);q(1);for(var Fe=0;Fe<64;Fe++)q(l[Fe])}(),function(Xe,Fe){U(65472),U(17),q(8),U(Fe),U(Xe),q(3),q(1),q(17),q(0),q(2),q(17),q(1),q(3),q(17),q(1)}(C.width,C.height),function(){U(65476),U(418),q(0);for(var Xe=0;Xe<16;Xe++)q(A[Xe+1]);for(var Fe=0;Fe<=11;Fe++)q(b[Fe]);q(16);for(var Qe=0;Qe<16;Qe++)q(O[Qe+1]);for(var ct=0;ct<=161;ct++)q(T[ct]);q(1);for(var rt=0;rt<16;rt++)q(N[rt+1]);for(var gt=0;gt<=11;gt++)q(j[gt]);q(17);for(var yt=0;yt<16;yt++)q(K[yt+1]);for(var At=0;At<=161;At++)q(J[At])}(),U(65498),U(12),q(3),q(1),q(0),q(2),q(17),q(3),q(17),q(0),q(63),q(0);var V=0,G=0,Y=0;v=0,y=7,this.encode.displayName="_encode_";for(var se,ce,re,he,be,B,Te,_e,ge,ee=C.data,Ae=C.width,Oe=C.height,Me=4*Ae,Ke=0;Ke<Oe;){for(se=0;se<Me;){for(be=Me*Ke+se,Te=-1,_e=0,ge=0;ge<64;ge++)B=be+(_e=ge>>3)*Me+(Te=4*(7&ge)),Ke+_e>=Oe&&(B-=Me*(Ke+1+_e-Oe)),se+Te>=Me&&(B-=se+Te-Me+4),ce=ee[B++],re=ee[B++],he=ee[B++],w[ge]=(D[ce]+D[re+256>>0]+D[he+512>>0]>>16)-128,_[ge]=(D[ce+768>>0]+D[re+1024>>0]+D[he+1280>>0]>>16)-128,I[ge]=(D[ce+1280>>0]+D[re+1536>>0]+D[he+1792>>0]>>16)-128;V=te(w,c,V,t,n),G=te(_,u,G,r,a),Y=te(I,u,Y,r,a),se+=32}Ke+=8}if(y>=0){var $e=[];$e[1]=y+1,$e[0]=(1<<y+1)-1,Z($e)}return U(65497),new Uint8Array(m)},e=e||50,function(){for(var C=String.fromCharCode,R=0;R<256;R++)P[R]=C(R)}(),t=X(A,b),r=X(N,j),n=X(O,T),a=X(K,J),function(){for(var C=1,R=2,V=1;V<=15;V++){for(var G=C;G<R;G++)h[32767+G]=V,f[32767+G]=[],f[32767+G][1]=V,f[32767+G][0]=G;for(var Y=-(R-1);Y<=-C;Y++)h[32767+Y]=V,f[32767+Y]=[],f[32767+Y][1]=V,f[32767+Y][0]=R-1+Y;C<<=1,R<<=1}}(),function(){for(var C=0;C<256;C++)D[C]=19595*C,D[C+256>>0]=38470*C,D[C+512>>0]=7471*C+32768,D[C+768>>0]=-11059*C,D[C+1024>>0]=-21709*C,D[C+1280>>0]=32768*C+8421375,D[C+1536>>0]=-27439*C,D[C+1792>>0]=-5329*C}(),z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function $o(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Tj(e){function t(A){if(!A)throw Error("assert :P")}function r(A,b,O){for(var T=0;4>T;T++)if(A[b+T]!=O.charCodeAt(T))return!0;return!1}function n(A,b,O,T,N){for(var j=0;j<N;j++)A[b+j]=O[T+j]}function a(A,b,O,T){for(var N=0;N<T;N++)A[b+N]=O}function i(A){return new Int32Array(A)}function s(A,b){for(var O=[],T=0;T<A;T++)O.push(new b);return O}function o(A,b){var O=[];return function T(N,j,K){for(var J=K[j],X=0;X<J&&(N.push(K.length>j+1?[]:new b),!(K.length<j+1));X++)T(N[X],j+1,K)}(O,0,A),O}var l=function(){var A=this;function b(x,k){for(var M=1<<k-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function O(x,k,M,W,ae){t(!(W%M));do x[k+(W-=M)]=ae;while(0<W)}function T(x,k,M,W,ae){if(t(2328>=ae),512>=ae)var oe=i(512);else if((oe=i(ae))==null)return 0;return function(le,fe,de,ve,Ce,ze){var qe,Re,lt=fe,Ze=1<<de,Pe=i(16),De=i(16);for(t(Ce!=0),t(ve!=null),t(le!=null),t(0<de),Re=0;Re<Ce;++Re){if(15<ve[Re])return 0;++Pe[ve[Re]]}if(Pe[0]==Ce)return 0;for(De[1]=0,qe=1;15>qe;++qe){if(Pe[qe]>1<<qe)return 0;De[qe+1]=De[qe]+Pe[qe]}for(Re=0;Re<Ce;++Re)qe=ve[Re],0<ve[Re]&&(ze[De[qe]++]=Re);if(De[15]==1)return(ve=new N).g=0,ve.value=ze[0],O(le,lt,1,Ze,ve),Ze;var it,ht=-1,ot=Ze-1,Ft=0,Dt=1,Yt=1,Mt=1<<de;for(Re=0,qe=1,Ce=2;qe<=de;++qe,Ce<<=1){if(Dt+=Yt<<=1,0>(Yt-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe])(ve=new N).g=qe,ve.value=ze[Re++],O(le,lt+Ft,Ce,Mt,ve),Ft=b(Ft,qe)}for(qe=de+1,Ce=2;15>=qe;++qe,Ce<<=1){if(Dt+=Yt<<=1,0>(Yt-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe]){if(ve=new N,(Ft&ot)!=ht){for(lt+=Mt,it=1<<(ht=qe)-de;15>ht&&!(0>=(it-=Pe[ht]));)++ht,it<<=1;Ze+=Mt=1<<(it=ht-de),le[fe+(ht=Ft&ot)].g=it+de,le[fe+ht].value=lt-fe-ht}ve.g=qe-de,ve.value=ze[Re++],O(le,lt+(Ft>>de),Ce,Mt,ve),Ft=b(Ft,qe)}}return Dt!=2*De[15]-1?0:Ze}(x,k,M,W,ae,oe)}function N(){this.value=this.g=0}function j(){this.value=this.g=0}function K(){this.G=s(5,N),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ka,j)}function J(x,k,M,W){t(x!=null),t(k!=null),t(2147483648>W),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=M,x.Jd=k,x.Yc=M+W,x.Zc=4<=W?M+W-4+1:M,se(x)}function X(x,k){for(var M=0;0<k--;)M|=re(x,128)<<k;return M}function Z(x,k){var M=X(x,k);return ce(x)?-M:M}function q(x,k,M,W){var ae,oe=0;for(t(x!=null),t(k!=null),t(4294967288>W),x.Sb=W,x.Ra=0,x.u=0,x.h=0,4<W&&(W=4),ae=0;ae<W;++ae)oe+=k[M+ae]<<8*ae;x.Ra=oe,x.bb=W,x.oa=k,x.pa=M}function U(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Od-8>>>0,++x.bb,x.u-=8;V(x)&&(x.h=1,x.u=0)}function te(x,k){if(t(0<=k),!x.h&&k<=Pd){var M=R(x)&Cd[k];return x.u+=k,U(x),M}return x.h=1,x.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function R(x){return x.Ra>>>(x.u&Od-1)>>>0}function V(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Od}function G(x,k){x.u=k,x.h=V(x)}function Y(x){x.u>=mm&&(t(x.u>=mm),U(x))}function se(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ce(x){return X(x,1)}function re(x,k){var M=x.Ca;0>x.b&&se(x);var W=x.b,ae=M*k>>>8,oe=(x.I>>>W>ae)+0;for(oe?(M-=ae,x.I-=ae+1<<W>>>0):M=ae+1,W=M,ae=0;256<=W;)ae+=8,W>>=8;return W=7^ae+ts[W],x.b-=W,x.Ca=(M<<W)-1,oe}function he(x,k,M){x[k+0]=M>>24&255,x[k+1]=M>>16&255,x[k+2]=M>>8&255,x[k+3]=M>>0&255}function be(x,k){return x[k+0]<<0|x[k+1]<<8}function B(x,k){return be(x,k)|x[k+2]<<16}function Te(x,k){return be(x,k)|be(x,k+2)<<16}function _e(x,k){var M=1<<k;return t(x!=null),t(0<k),x.X=i(M),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function ge(x,k){t(x!=null),t(k!=null),t(x.Xa==k.Xa),n(k.X,0,x.X,0,1<<k.Xa)}function ee(){this.X=[],this.Xa=this.Mb=0}function Ae(x,k,M,W){t(M!=null),t(W!=null);var ae=M[0],oe=W[0];return ae==0&&(ae=(x*oe+k/2)/k),oe==0&&(oe=(k*ae+x/2)/x),0>=ae||0>=oe?0:(M[0]=ae,W[0]=oe,1)}function Oe(x,k){return x+(1<<k)-1>>>k}function Me(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function Ke(x,k){A[k]=function(M,W,ae,oe,le,fe,de){var ve;for(ve=0;ve<le;++ve){var Ce=A[x](fe[de+ve-1],ae,oe+ve);fe[de+ve]=Me(M[W+ve],Ce)}}}function $e(){this.ud=this.hd=this.jd=0}function Xe(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function Fe(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Qe(x,k){return Fe(x+(x-k+.5>>1))}function ct(x,k,M){return Math.abs(k-M)-Math.abs(x-M)}function rt(x,k,M,W,ae,oe,le){for(W=oe[le-1],M=0;M<ae;++M)oe[le+M]=W=Me(x[k+M],W)}function gt(x,k,M,W,ae){var oe;for(oe=0;oe<M;++oe){var le=x[k+oe],fe=le>>8&255,de=16711935&(de=(de=16711935&le)+((fe<<16)+fe));W[ae+oe]=(4278255360&le)+de>>>0}}function yt(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function At(x,k,M,W,ae,oe){var le;for(le=0;le<W;++le){var fe=k[M+le],de=fe>>>8,ve=fe,Ce=255&(Ce=(Ce=fe>>>16)+((x.jd<<24>>24)*(de<<24>>24)>>>5));ve=255&(ve=(ve=ve+((x.hd<<24>>24)*(de<<24>>24)>>>5))+((x.ud<<24>>24)*(Ce<<24>>24)>>>5)),ae[oe+le]=(4278255360&fe)+(Ce<<16)+ve}}function xt(x,k,M,W,ae){A[k]=function(oe,le,fe,de,ve,Ce,ze,qe,Re){for(de=ze;de<qe;++de)for(ze=0;ze<Re;++ze)ve[Ce++]=ae(fe[W(oe[le++])])},A[x]=function(oe,le,fe,de,ve,Ce,ze){var qe=8>>oe.b,Re=oe.Ea,lt=oe.K[0],Ze=oe.w;if(8>qe)for(oe=(1<<oe.b)-1,Ze=(1<<qe)-1;le<fe;++le){var Pe,De=0;for(Pe=0;Pe<Re;++Pe)Pe&oe||(De=W(de[ve++])),Ce[ze++]=ae(lt[De&Ze]),De>>=qe}else A["VP8LMapColor"+M](de,ve,lt,Ze,Ce,ze,le,fe,Re)}}function nt(x,k,M,W,ae){for(M=k+M;k<M;){var oe=x[k++];W[ae++]=oe>>16&255,W[ae++]=oe>>8&255,W[ae++]=oe>>0&255}}function qt(x,k,M,W,ae){for(M=k+M;k<M;){var oe=x[k++];W[ae++]=oe>>16&255,W[ae++]=oe>>8&255,W[ae++]=oe>>0&255,W[ae++]=oe>>24&255}}function $t(x,k,M,W,ae){for(M=k+M;k<M;){var oe=(le=x[k++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;W[ae++]=oe,W[ae++]=le}}function Hr(x,k,M,W,ae){for(M=k+M;k<M;){var oe=(le=x[k++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;W[ae++]=oe,W[ae++]=le}}function ke(x,k,M,W,ae){for(M=k+M;k<M;){var oe=x[k++];W[ae++]=oe>>0&255,W[ae++]=oe>>8&255,W[ae++]=oe>>16&255}}function Je(x,k,M,W,ae,oe){if(oe==0)for(M=k+M;k<M;)he(W,((oe=x[k++])[0]>>24|oe[1]>>8&65280|oe[2]<<8&16711680|oe[3]<<24)>>>0),ae+=32;else n(W,ae,x,k,M)}function kt(x,k){A[k][0]=A[x+"0"],A[k][1]=A[x+"1"],A[k][2]=A[x+"2"],A[k][3]=A[x+"3"],A[k][4]=A[x+"4"],A[k][5]=A[x+"5"],A[k][6]=A[x+"6"],A[k][7]=A[x+"7"],A[k][8]=A[x+"8"],A[k][9]=A[x+"9"],A[k][10]=A[x+"10"],A[k][11]=A[x+"11"],A[k][12]=A[x+"12"],A[k][13]=A[x+"13"],A[k][14]=A[x+"0"],A[k][15]=A[x+"0"]}function Pt(x){return x==d_||x==p_||x==xy||x==m_}function fr(){this.eb=[],this.size=this.A=this.fb=0}function vr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Cr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new fr,this.f.kb=new vr,this.sd=null}function pn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ht(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Sr(x,k){var M=x.T,W=k.ba.f.RGBA,ae=W.eb,oe=W.fb+x.ka*W.A,le=Js[k.ba.S],fe=x.y,de=x.O,ve=x.f,Ce=x.N,ze=x.ea,qe=x.W,Re=k.cc,lt=k.dc,Ze=k.Mc,Pe=k.Nc,De=x.ka,it=x.ka+x.T,ht=x.U,ot=ht+1>>1;for(De==0?le(fe,de,null,null,ve,Ce,ze,qe,ve,Ce,ze,qe,ae,oe,null,null,ht):(le(k.ec,k.fc,fe,de,Re,lt,Ze,Pe,ve,Ce,ze,qe,ae,oe-W.A,ae,oe,ht),++M);De+2<it;De+=2)Re=ve,lt=Ce,Ze=ze,Pe=qe,Ce+=x.Rc,qe+=x.Rc,oe+=2*W.A,le(fe,(de+=2*x.fa)-x.fa,fe,de,Re,lt,Ze,Pe,ve,Ce,ze,qe,ae,oe-W.A,ae,oe,ht);return de+=x.fa,x.j+it<x.o?(n(k.ec,k.fc,fe,de,ht),n(k.cc,k.dc,ve,Ce,ot),n(k.Mc,k.Nc,ze,qe,ot),M--):1&it||le(fe,de,null,null,ve,Ce,ze,qe,ve,Ce,ze,qe,ae,oe+W.A,null,null,ht),M}function qa(x,k,M){var W=x.F,ae=[x.J];if(W!=null){var oe=x.U,le=k.ba.S,fe=le==yy||le==xy;k=k.ba.f.RGBA;var de=[0],ve=x.ka;de[0]=x.T,x.Kb&&(ve==0?--de[0]:(--ve,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(de[0]=x.o-x.j-ve));var Ce=k.eb;ve=k.fb+ve*k.A,x=bn(W,ae[0],x.width,oe,de,Ce,ve+(fe?0:3),k.A),t(M==de),x&&Pt(le)&&Xs(Ce,ve,fe,oe,de,k.A)}return 0}function In(x){var k=x.ma,M=k.ba.S,W=11>M,ae=M==gy||M==vy||M==yy||M==h_||M==12||Pt(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!dm(k.Oa,x,ae?11:12))return 0;if(ae&&Pt(M)&&mt(),x.da)alert("todo:use_scaling");else{if(W){if(k.Ib=Ht,x.Kb){if(M=x.U+1>>1,k.memory=i(x.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=Sr,mt()}}else alert("todo:EmitYUV");ae&&(k.Jb=qa,W&&Le())}if(W&&!IP){for(x=0;256>x;++x)tY[x]=89858*(x-128)+wy>>by,aY[x]=-22014*(x-128)+wy,nY[x]=-45773*(x-128),rY[x]=113618*(x-128)+wy>>by;for(x=_m;x<y_;++x)k=76283*(x-16)+wy>>by,iY[x-_m]=Jr(k,255),sY[x-_m]=Jr(k+8>>4,15);IP=1}return 1}function Ee(x){var k=x.ma,M=x.U,W=x.T;return t(!(1&x.ka)),0>=M||0>=W?0:(M=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,M),k.Dc+=M,1)}function bt(x){x.ma.memory=null}function Ye(x,k,M,W){return te(x,8)!=47?0:(k[0]=te(x,14)+1,M[0]=te(x,14)+1,W[0]=te(x,1),te(x,3)!=0?0:!x.h)}function Gt(x,k){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+te(k,M)+1}function Ct(x,k){return 120<k?k-120:1<=(M=((M=VK[k-1])>>4)*x+(8-(15&M)))?M:1;var M}function ft(x,k,M){var W=R(M),ae=x[k+=255&W].g-8;return 0<ae&&(G(M,M.u+8),W=R(M),k+=x[k].value,k+=W&(1<<ae)-1),G(M,M.u+x[k].g),x[k].value}function Nt(x,k,M){return M.g+=x.g,M.value+=x.value<<k>>>0,t(8>=M.g),x.g}function gr(x,k,M){var W=x.xc;return t((k=W==0?0:x.vc[x.md*(M>>W)+(k>>W)])<x.Wb),x.Ya[k]}function ie(x,k,M,W){var ae=x.ab,oe=x.c*k,le=x.C;k=le+k;var fe=M,de=W;for(W=x.Ta,M=x.Ua;0<ae--;){var ve=x.gc[ae],Ce=le,ze=k,qe=fe,Re=de,lt=(de=W,fe=M,ve.Ea);switch(t(Ce<ze),t(ze<=ve.nc),ve.hc){case 2:cy(qe,Re,(ze-Ce)*lt,de,fe);break;case 0:var Ze=Ce,Pe=ze,De=de,it=fe,ht=(Mt=ve).Ea;Ze==0&&(u_(qe,Re,null,null,1,De,it),rt(qe,Re+1,0,0,ht-1,De,it+1),Re+=ht,it+=ht,++Ze);for(var ot=1<<Mt.b,Ft=ot-1,Dt=Oe(ht,Mt.b),Yt=Mt.K,Mt=Mt.w+(Ze>>Mt.b)*Dt;Ze<Pe;){var Gr=Yt,rn=Mt,Vr=1;for(gm(qe,Re,De,it-ht,1,De,it);Vr<ht;){var Er=(Vr&~Ft)+ot;Er>ht&&(Er=ht),(0,mu[Gr[rn++]>>8&15])(qe,Re+ +Vr,De,it+Vr-ht,Er-Vr,De,it+Vr),Vr=Er}Re+=ht,it+=ht,++Ze&Ft||(Mt+=Dt)}ze!=ve.nc&&n(de,fe-lt,de,fe+(ze-Ce-1)*lt,lt);break;case 1:for(lt=qe,Pe=Re,ht=(qe=ve.Ea)-(it=qe&~(De=(Re=1<<ve.b)-1)),Ze=Oe(qe,ve.b),ot=ve.K,ve=ve.w+(Ce>>ve.b)*Ze;Ce<ze;){for(Ft=ot,Dt=ve,Yt=new $e,Mt=Pe+it,Gr=Pe+qe;Pe<Mt;)yt(Ft[Dt++],Yt),th(Yt,lt,Pe,Re,de,fe),Pe+=Re,fe+=Re;Pe<Gr&&(yt(Ft[Dt++],Yt),th(Yt,lt,Pe,ht,de,fe),Pe+=ht,fe+=ht),++Ce&De||(ve+=Ze)}break;case 3:if(qe==de&&Re==fe&&0<ve.b){for(Pe=de,qe=lt=fe+(ze-Ce)*lt-(it=(ze-Ce)*Oe(ve.Ea,ve.b)),Re=de,De=fe,Ze=[],it=(ht=it)-1;0<=it;--it)Ze[it]=Re[De+it];for(it=ht-1;0<=it;--it)Pe[qe+it]=Ze[it];Gs(ve,Ce,ze,de,lt,de,fe)}else Gs(ve,Ce,ze,qe,Re,de,fe)}fe=W,de=M}de!=M&&n(W,M,fe,de,oe)}function xe(x,k){var M=x.V,W=x.Ba+x.c*x.C,ae=k-x.C;if(t(k<=x.l.o),t(16>=ae),0<ae){var oe=x.l,le=x.Ta,fe=x.Ua,de=oe.width;if(ie(x,ae,M,W),ae=fe=[fe],t((M=x.C)<(W=k)),t(oe.v<oe.va),W>oe.o&&(W=oe.o),M<oe.j){var ve=oe.j-M;M=oe.j,ae[0]+=ve*de}if(M>=W?M=0:(ae[0]+=4*oe.v,oe.ka=M-oe.j,oe.U=oe.va-oe.v,oe.T=W-M,M=1),M){if(fe=fe[0],11>(M=x.ca).S){var Ce=M.f.RGBA,ze=(W=M.S,ae=oe.U,oe=oe.T,ve=Ce.eb,Ce.A),qe=oe;for(Ce=Ce.fb+x.Ma*Ce.A;0<qe--;){var Re=le,lt=fe,Ze=ae,Pe=ve,De=Ce;switch(W){case my:rs(Re,lt,Ze,Pe,De);break;case gy:Li(Re,lt,Ze,Pe,De);break;case d_:Li(Re,lt,Ze,Pe,De),Xs(Pe,De,0,Ze,1,0);break;case _P:rc(Re,lt,Ze,Pe,De);break;case vy:Je(Re,lt,Ze,Pe,De,1);break;case p_:Je(Re,lt,Ze,Pe,De,1),Xs(Pe,De,0,Ze,1,0);break;case yy:Je(Re,lt,Ze,Pe,De,0);break;case xy:Je(Re,lt,Ze,Pe,De,0),Xs(Pe,De,1,Ze,1,0);break;case h_:gu(Re,lt,Ze,Pe,De);break;case m_:gu(Re,lt,Ze,Pe,De),xn(Pe,De,Ze,1,0);break;case SP:tc(Re,lt,Ze,Pe,De);break;default:t(0)}fe+=de,Ce+=ze}x.Ma+=oe}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=k,t(x.C<=x.i)}function pe(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var M=x.Ya[k].G,W=x.Ya[k].H;if(0<M[1][W[1]+0].g||0<M[2][W[2]+0].g||0<M[3][W[3]+0].g)return 0}return 1}function me(x,k,M,W,ae,oe){if(x.Z!=0){var le=x.qd,fe=x.rd;for(t(bu[x.Z]!=null);k<M;++k)bu[x.Z](le,fe,W,ae,W,ae,oe),le=W,fe=ae,ae+=oe;x.qd=le,x.rd=fe}}function ye(x,k){var M=x.l.ma,W=M.Z==0||M.Z==1?x.l.j:x.C;if(W=x.C<W?W:x.C,t(k<=x.l.o),k>W){var ae=x.l.width,oe=M.ca,le=M.tb+ae*W,fe=x.V,de=x.Ba+x.c*W,ve=x.gc;t(x.ab==1),t(ve[0].hc==3),uy(ve[0],W,k,fe,de,oe,le),me(M,W,k,oe,le,ae)}x.C=x.Ma=k}function we(x,k,M,W,ae,oe,le){var fe=x.$/W,de=x.$%W,ve=x.m,Ce=x.s,ze=M+x.$,qe=ze;ae=M+W*ae;var Re=M+W*oe,lt=280+Ce.ua,Ze=x.Pb?fe:16777216,Pe=0<Ce.ua?Ce.Wa:null,De=Ce.wc,it=ze<Re?gr(Ce,de,fe):null;t(x.C<oe),t(Re<=ae);var ht=!1;e:for(;;){for(;ht||ze<Re;){var ot=0;if(fe>=Ze){var Ft=ze-M;t((Ze=x).Pb),Ze.wd=Ze.m,Ze.xd=Ft,0<Ze.s.ua&&ge(Ze.s.Wa,Ze.s.vb),Ze=fe+zK}if(de&De||(it=gr(Ce,de,fe)),t(it!=null),it.Qb&&(k[ze]=it.qb,ht=!0),!ht)if(Y(ve),it.jc){ot=ve,Ft=k;var Dt=ze,Yt=it.pd[R(ot)&Ka-1];t(it.jc),256>Yt.g?(G(ot,ot.u+Yt.g),Ft[Dt]=Yt.value,ot=0):(G(ot,ot.u+Yt.g-256),t(256<=Yt.value),ot=Yt.value),ot==0&&(ht=!0)}else ot=ft(it.G[0],it.H[0],ve);if(ve.h)break;if(ht||256>ot){if(!ht)if(it.nd)k[ze]=(it.qb|ot<<8)>>>0;else{if(Y(ve),ht=ft(it.G[1],it.H[1],ve),Y(ve),Ft=ft(it.G[2],it.H[2],ve),Dt=ft(it.G[3],it.H[3],ve),ve.h)break;k[ze]=(Dt<<24|ht<<16|ot<<8|Ft)>>>0}if(ht=!1,++ze,++de>=W&&(de=0,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(x,fe),Pe!=null))for(;qe<ze;)ot=k[qe++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot}else if(280>ot){if(ot=Gt(ot-256,ve),Ft=ft(it.G[4],it.H[4],ve),Y(ve),Ft=Ct(W,Ft=Gt(Ft,ve)),ve.h)break;if(ze-M<Ft||ae-ze<ot)break e;for(Dt=0;Dt<ot;++Dt)k[ze+Dt]=k[ze+Dt-Ft];for(ze+=ot,de+=ot;de>=W;)de-=W,++fe,le!=null&&fe<=oe&&!(fe%16)&&le(x,fe);if(t(ze<=ae),de&De&&(it=gr(Ce,de,fe)),Pe!=null)for(;qe<ze;)ot=k[qe++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot}else{if(!(ot<lt))break e;for(ht=ot-280,t(Pe!=null);qe<ze;)ot=k[qe++],Pe.X[(506832829*ot&4294967295)>>>Pe.Mb]=ot;ot=ze,t(!(ht>>>(Ft=Pe).Xa)),k[ot]=Ft.X[ht],ht=!0}ht||t(ve.h==V(ve))}if(x.Pb&&ve.h&&ze<ae)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ge(x.s.vb,x.s.Wa);else{if(ve.h)break e;le!=null&&le(x,fe>oe?oe:fe),x.a=0,x.$=ze-M}return 1}return x.a=3,0}function Be(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,t(x!=null)}function Ge(){var x=new kd;return x==null?null:(x.a=0,x.xb=EP,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),cy=gt,th=At,rs=nt,Li=qt,gu=$t,tc=Hr,rc=ke,A.VP8LMapColor32b=Id,A.VP8LMapColor8b=fy,x)}function Ve(x,k,M,W,ae){var oe=1,le=[x],fe=[k],de=W.m,ve=W.s,Ce=null,ze=0;e:for(;;){if(M)for(;oe&&te(de,1);){var qe=le,Re=fe,lt=W,Ze=1,Pe=lt.m,De=lt.gc[lt.ab],it=te(Pe,2);if(lt.Oc&1<<it)oe=0;else{switch(lt.Oc|=1<<it,De.hc=it,De.Ea=qe[0],De.nc=Re[0],De.K=[null],++lt.ab,t(4>=lt.ab),it){case 0:case 1:De.b=te(Pe,3)+2,Ze=Ve(Oe(De.Ea,De.b),Oe(De.nc,De.b),0,lt,De.K),De.K=De.K[0];break;case 3:var ht,ot=te(Pe,8)+1,Ft=16<ot?0:4<ot?1:2<ot?2:3;if(qe[0]=Oe(De.Ea,Ft),De.b=Ft,ht=Ze=Ve(ot,1,0,lt,De.K)){var Dt,Yt=ot,Mt=De,Gr=1<<(8>>Mt.b),rn=i(Gr);if(rn==null)ht=0;else{var Vr=Mt.K[0],Er=Mt.w;for(rn[0]=Mt.K[0][0],Dt=1;Dt<1*Yt;++Dt)rn[Dt]=Me(Vr[Er+Dt],rn[Dt-1]);for(;Dt<4*Gr;++Dt)rn[Dt]=0;Mt.K[0]=null,Mt.K[0]=rn,ht=1}}Ze=ht;break;case 2:break;default:t(0)}oe=Ze}}if(le=le[0],fe=fe[0],oe&&te(de,1)&&!(oe=1<=(ze=te(de,4))&&11>=ze)){W.a=3;break e}var gn;if(gn=oe)t:{var un,yr,ca,ns=W,ua=le,as=fe,nn=ze,Ts=M,Es=ns.m,Oa=ns.s,Ya=[null],Ri=1,Zs=0,xl=UK[nn];r:for(;;){if(Ts&&te(Es,1)){var Ia=te(Es,3)+2,sc=Oe(ua,Ia),sh=Oe(as,Ia),Rd=sc*sh;if(!Ve(sc,sh,0,ns,Ya))break r;for(Ya=Ya[0],Oa.xc=Ia,un=0;un<Rd;++un){var wu=Ya[un]>>8&65535;Ya[un]=wu,wu>=Ri&&(Ri=wu+1)}}if(Es.h)break r;for(yr=0;5>yr;++yr){var Wn=AP[yr];!yr&&0<nn&&(Wn+=1<<nn),Zs<Wn&&(Zs=Wn)}var x_=s(Ri*xl,N),LP=Ri,MP=s(LP,K);if(MP==null)var Sy=null;else t(65536>=LP),Sy=MP;var Sm=i(Zs);if(Sy==null||Sm==null||x_==null){ns.a=1;break r}var Ay=x_;for(un=ca=0;un<Ri;++un){var jo=Sy[un],Fd=jo.G,$d=jo.H,RP=0,Ty=1,FP=0;for(yr=0;5>yr;++yr){Wn=AP[yr],Fd[yr]=Ay,$d[yr]=ca,!yr&&0<nn&&(Wn+=1<<nn);a:{var Ey,b_=Wn,ky=ns,Am=Sm,cY=Ay,uY=ca,w_=0,_u=ky.m,fY=te(_u,1);if(a(Am,0,0,b_),fY){var hY=te(_u,1)+1,dY=te(_u,1),$P=te(_u,dY==0?1:8);Am[$P]=1,hY==2&&(Am[$P=te(_u,8)]=1);var Ny=1}else{var BP=i(19),VP=te(_u,4)+4;if(19<VP){ky.a=3;var Cy=0;break a}for(Ey=0;Ey<VP;++Ey)BP[BK[Ey]]=te(_u,3);var __=void 0,Tm=void 0,UP=ky,pY=BP,Py=b_,zP=Am,S_=0,Su=UP.m,qP=8,WP=s(128,N);n:for(;T(WP,0,7,pY,19);){if(te(Su,1)){var mY=2+2*te(Su,3);if((__=2+te(Su,mY))>Py)break n}else __=Py;for(Tm=0;Tm<Py&&__--;){Y(Su);var HP=WP[0+(127&R(Su))];G(Su,Su.u+HP.g);var Bd=HP.value;if(16>Bd)zP[Tm++]=Bd,Bd!=0&&(qP=Bd);else{var gY=Bd==16,GP=Bd-16,vY=FK[GP],KP=te(Su,RK[GP])+vY;if(Tm+KP>Py)break n;for(var yY=gY?qP:0;0<KP--;)zP[Tm++]=yY}}S_=1;break n}S_||(UP.a=3),Ny=S_}(Ny=Ny&&!_u.h)&&(w_=T(cY,uY,8,Am,b_)),Ny&&w_!=0?Cy=w_:(ky.a=3,Cy=0)}if(Cy==0)break r;if(Ty&&$K[yr]==1&&(Ty=Ay[ca].g==0),RP+=Ay[ca].g,ca+=Cy,3>=yr){var Em,A_=Sm[0];for(Em=1;Em<Wn;++Em)Sm[Em]>A_&&(A_=Sm[Em]);FP+=A_}}if(jo.nd=Ty,jo.Qb=0,Ty&&(jo.qb=(Fd[3][$d[3]+0].value<<24|Fd[1][$d[1]+0].value<<16|Fd[2][$d[2]+0].value)>>>0,RP==0&&256>Fd[0][$d[0]+0].value&&(jo.Qb=1,jo.qb+=Fd[0][$d[0]+0].value<<8)),jo.jc=!jo.Qb&&6>FP,jo.jc){var Oy,oc=jo;for(Oy=0;Oy<Ka;++Oy){var Au=Oy,Tu=oc.pd[Au],Iy=oc.G[0][oc.H[0]+Au];256<=Iy.value?(Tu.g=Iy.g+256,Tu.value=Iy.value):(Tu.g=0,Tu.value=0,Au>>=Nt(Iy,8,Tu),Au>>=Nt(oc.G[1][oc.H[1]+Au],16,Tu),Au>>=Nt(oc.G[2][oc.H[2]+Au],0,Tu),Nt(oc.G[3][oc.H[3]+Au],24,Tu))}}}Oa.vc=Ya,Oa.Wb=Ri,Oa.Ya=Sy,Oa.yc=x_,gn=1;break t}gn=0}if(!(oe=gn)){W.a=3;break e}if(0<ze){if(ve.ua=1<<ze,!_e(ve.Wa,ze)){W.a=1,oe=0;break e}}else ve.ua=0;var T_=W,YP=le,xY=fe,E_=T_.s,k_=E_.xc;if(T_.c=YP,T_.i=xY,E_.md=Oe(YP,k_),E_.wc=k_==0?-1:(1<<k_)-1,M){W.xb=XK;break e}if((Ce=i(le*fe))==null){W.a=1,oe=0;break e}oe=(oe=we(W,Ce,0,le,fe,fe,null))&&!de.h;break e}return oe?(ae!=null?ae[0]=Ce:(t(Ce==null),t(M)),W.$=0,M||Be(ve)):Be(ve),oe}function Ue(x,k){var M=x.c*x.i,W=M+k+16*k;return t(x.c<=k),x.V=i(W),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+k,1)}function He(x,k){var M=x.C,W=k-M,ae=x.V,oe=x.Ba+x.c*M;for(t(k<=x.l.o);0<W;){var le=16<W?16:W,fe=x.l.ma,de=x.l.width,ve=de*le,Ce=fe.ca,ze=fe.tb+de*M,qe=x.Ta,Re=x.Ua;ie(x,le,ae,oe),ta(qe,Re,Ce,ze,ve),me(fe,M,M+le,Ce,ze,de),W-=le,ae+=le*x.c,M+=le}t(M==k),x.C=x.Ma=k}function pt(){this.ub=this.yd=this.td=this.Rb=0}function Tt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Lt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function _t(){this.Yb=function(){var x=[];return function k(M,W,ae){for(var oe=ae[W],le=0;le<oe&&(M.push(ae.length>W+1?[]:0),!(ae.length<W+1));le++)k(M[le],W+1,ae)}(x,0,[3,11]),x}()}function Ot(){this.jb=i(3),this.Wc=o([4,8],_t),this.Xc=o([4,17],_t)}function Qt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function Lr(){this.Na=this.la=0}function cn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function To(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new bs}function xs(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Zi(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new pt,this.Kc=new Tt,this.ed=new Qt,this.Qa=new Lt,this.Ic=this.$c=this.Aa=0,this.D=new To,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,z),this.ia=0,this.pb=s(4,cn),this.Pa=new Ot,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new xs),this.Hd=0,this.rb=Array(new Lr),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=o([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function bs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wa(){var x=new Zi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,wm||(wm=bd)),x}function An(x,k,M){return x.a==0&&(x.a=k,x.sc=M,x.cb=0),0}function zf(x,k,M){return 3<=M&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function qf(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return An(x,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,W=k.w,ae=k.ha;if(4>ae)return An(x,7,"Truncated header.");var oe=M[W+0]|M[W+1]<<8|M[W+2]<<16,le=x.Od;if(le.Rb=!(1&oe),le.td=oe>>1&7,le.yd=oe>>4&1,le.ub=oe>>5,3<le.td)return An(x,3,"Incorrect keyframe parameters.");if(!le.yd)return An(x,4,"Frame not displayable.");W+=3,ae-=3;var fe=x.Kc;if(le.Rb){if(7>ae)return An(x,7,"cannot parse picture header");if(!zf(M,W,ae))return An(x,3,"Bad code word");fe.c=16383&(M[W+4]<<8|M[W+3]),fe.Td=M[W+4]>>6,fe.i=16383&(M[W+6]<<8|M[W+5]),fe.Ud=M[W+6]>>6,W+=7,ae-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,k.width=fe.c,k.height=fe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((oe=x.Pa).jb,0,255,oe.jb.length),t((oe=x.Qa)!=null),oe.Cb=0,oe.Bb=0,oe.Fb=1,a(oe.Zb,0,0,oe.Zb.length),a(oe.Lb,0,0,oe.Lb)}if(le.ub>ae)return An(x,7,"bad partition length");J(oe=x.m,M,W,le.ub),W+=le.ub,ae-=le.ub,le.Rb&&(fe.Ld=ce(oe),fe.Kd=ce(oe)),fe=x.Qa;var de,ve=x.Pa;if(t(oe!=null),t(fe!=null),fe.Cb=ce(oe),fe.Cb){if(fe.Bb=ce(oe),ce(oe)){for(fe.Fb=ce(oe),de=0;4>de;++de)fe.Zb[de]=ce(oe)?Z(oe,7):0;for(de=0;4>de;++de)fe.Lb[de]=ce(oe)?Z(oe,6):0}if(fe.Bb)for(de=0;3>de;++de)ve.jb[de]=ce(oe)?X(oe,8):255}else fe.Bb=0;if(oe.Ka)return An(x,3,"cannot parse segment header");if((fe=x.ed).zd=ce(oe),fe.Tb=X(oe,6),fe.wb=X(oe,3),fe.Pc=ce(oe),fe.Pc&&ce(oe)){for(ve=0;4>ve;++ve)ce(oe)&&(fe.vd[ve]=Z(oe,6));for(ve=0;4>ve;++ve)ce(oe)&&(fe.od[ve]=Z(oe,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,oe.Ka)return An(x,3,"cannot parse filter header");var Ce=ae;if(ae=de=W,W=de+Ce,fe=Ce,x.Xb=(1<<X(x.m,2))-1,Ce<3*(ve=x.Xb))M=7;else{for(de+=3*ve,fe-=3*ve,Ce=0;Ce<ve;++Ce){var ze=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;ze>fe&&(ze=fe),J(x.Jc[+Ce],M,de,ze),de+=ze,fe-=ze,ae+=3}J(x.Jc[+ve],M,de,fe),M=de<W?0:5}if(M!=0)return An(x,M,"cannot parse partitions");for(M=X(de=x.m,7),ae=ce(de)?Z(de,4):0,W=ce(de)?Z(de,4):0,fe=ce(de)?Z(de,4):0,ve=ce(de)?Z(de,4):0,de=ce(de)?Z(de,4):0,Ce=x.Qa,ze=0;4>ze;++ze){if(Ce.Cb){var qe=Ce.Zb[ze];Ce.Fb||(qe+=M)}else{if(0<ze){x.pb[ze]=x.pb[0];continue}qe=M}var Re=x.pb[ze];Re.Sc[0]=g_[Jr(qe+ae,127)],Re.Sc[1]=v_[Jr(qe+0,127)],Re.Eb[0]=2*g_[Jr(qe+W,127)],Re.Eb[1]=101581*v_[Jr(qe+fe,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=g_[Jr(qe+ve,117)],Re.Qc[1]=v_[Jr(qe+de,127)],Re.lc=qe+de}if(!le.Rb)return An(x,4,"Not a key frame.");for(ce(oe),le=x.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(W=0;3>W;++W)for(fe=0;11>fe;++fe)ve=re(oe,KK[M][ae][W][fe])?X(oe,8):HK[M][ae][W][fe],le.Wc[M][ae].Yb[W][fe]=ve;for(ae=0;17>ae;++ae)le.Xc[M][ae]=le.Wc[M][YK[ae]]}return x.kc=ce(oe),x.kc&&(x.Bd=X(oe,8)),x.cb=1}function bd(x,k,M,W,ae,oe,le){var fe=k[ae].Yb[M];for(M=0;16>ae;++ae){if(!re(x,fe[M+0]))return ae;for(;!re(x,fe[M+1]);)if(fe=k[++ae].Yb[0],M=0,ae==16)return 16;var de=k[ae+1].Yb;if(re(x,fe[M+2])){var ve=x,Ce=0;if(re(ve,(qe=fe)[(ze=M)+3]))if(re(ve,qe[ze+6])){for(fe=0,ze=2*(Ce=re(ve,qe[ze+8]))+(qe=re(ve,qe[ze+9+Ce])),Ce=0,qe=qK[ze];qe[fe];++fe)Ce+=Ce+re(ve,qe[fe]);Ce+=3+(8<<ze)}else re(ve,qe[ze+7])?(Ce=7+2*re(ve,165),Ce+=re(ve,145)):Ce=5+re(ve,159);else Ce=re(ve,qe[ze+4])?3+re(ve,qe[ze+5]):2;fe=de[2]}else Ce=1,fe=de[1];de=le+WK[ae],0>(ve=x).b&&se(ve);var ze,qe=ve.b,Re=(ze=ve.Ca>>1)-(ve.I>>qe)>>31;--ve.b,ve.Ca+=Re,ve.Ca|=1,ve.I-=(ze+1&Re)<<qe,oe[de]=((Ce^Re)-Re)*W[(0<ae)+0]}return 16}function Wf(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function wd(x,k){if(x==null)return 0;if(k==null)return An(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!qf(x,k))return 0;if(t(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var M=_y[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-M>>4,x.zb=k.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+M>>4,x.Hb=k.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var W=x.ed;for(M=0;4>M;++M){var ae;if(x.Qa.Cb){var oe=x.Qa.Lb[M];x.Qa.Fb||(oe+=W.Tb)}else oe=W.Tb;for(ae=0;1>=ae;++ae){var le=x.gd[M][ae],fe=oe;if(W.Pc&&(fe+=W.vd[0],ae&&(fe+=W.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var de=fe;0<W.wb&&(de=4<W.wb?de>>2:de>>1)>9-W.wb&&(de=9-W.wb),1>de&&(de=1),le.dd=de,le.tc=2*fe+de,le.ld=40<=fe?2:15<=fe?1:0}else le.tc=0;le.La=ae}}}M=0}else An(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=lY);e:{M=x.Ic,W=4*(de=x.za);var ve=32*de,Ce=de+1,ze=0<x.L?de*(0<x.Aa?2:1):0,qe=(x.Aa==2?2:1)*de;if((le=W+832+(ae=3*(16*M+_y[x.L])/2*ve)+(oe=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=An(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,fe=x.Fc,x.Ac=le,x.Bc=fe,fe+=W,x.Gd=s(ve,xs),x.Hd=0,x.rb=s(Ce+1,Lr),x.sb=1,x.wa=ze?s(ze,jr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=de),t(!0),x.oc=le,x.pc=fe,fe+=832,x.ya=s(qe,Di),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=de),x.R=16*de,x.B=8*de,de=(ve=_y[x.L])*x.R,ve=ve/2*x.B,x.sa=le,x.ta=fe+de,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ve,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ve,x.$c=0,fe+=ae,x.mb=oe?le:null,x.nb=oe?fe:null,t(fe+oe<=x.Fc+x.Vb),Wf(x),a(x.Ac,x.Bc,0,W),M=1}}if(M){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!dy){for(M=-255;255>=M;++M)wa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ac[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)bm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Md[255+M]=0>M?0:255<M?255:M;dy=1}Dd=Xl,nc=eu,vm=Hf,Mi=tn,Ks=Yl,ea=Kl,jd=ou,hy=Po,ym=cu,rh=eh,nh=lu,vu=Jl,ah=uu,Ld=ml,ih=Ql,yu=Ss,xm=ba,Ys=Ed,Do[0]=Hs,Do[1]=um,Do[2]=dl,Do[3]=hm,Do[4]=Ad,Do[5]=nu,Do[6]=ws,Do[7]=Kf,Do[8]=iu,Do[9]=au,xu[0]=hl,xu[1]=fm,xu[2]=ko,xu[3]=tu,xu[4]=Tn,xu[5]=Sd,xu[6]=Gf,ic[0]=Co,ic[1]=_d,ic[2]=Td,ic[3]=No,ic[4]=Qr,ic[5]=Yf,ic[6]=Xf,M=1}else M=0}M&&(M=function(Re,lt){for(Re.M=0;Re.M<Re.Va;++Re.M){var Ze,Pe=Re.Jc[Re.M&Re.Xb],De=Re.m,it=Re;for(Ze=0;Ze<it.za;++Ze){var ht=De,ot=it,Ft=ot.Ac,Dt=ot.Bc+4*Ze,Yt=ot.zc,Mt=ot.ya[ot.aa+Ze];if(ot.Qa.Bb?Mt.$b=re(ht,ot.Pa.jb[0])?2+re(ht,ot.Pa.jb[2]):re(ht,ot.Pa.jb[1]):Mt.$b=0,ot.kc&&(Mt.Ad=re(ht,ot.Bd)),Mt.Za=!re(ht,145)+0,Mt.Za){var Gr=Mt.Ob,rn=0;for(ot=0;4>ot;++ot){var Vr,Er=Yt[0+ot];for(Vr=0;4>Vr;++Vr){Er=GK[Ft[Dt+Vr]][Er];for(var gn=TP[re(ht,Er[0])];0<gn;)gn=TP[2*gn+re(ht,Er[gn])];Er=-gn,Ft[Dt+Vr]=Er}n(Gr,rn,Ft,Dt,4),rn+=4,Yt[0+ot]=Er}}else Er=re(ht,156)?re(ht,128)?1:3:re(ht,163)?2:0,Mt.Ob[0]=Er,a(Ft,Dt,Er,4),a(Yt,0,Er,4);Mt.Dd=re(ht,142)?re(ht,114)?re(ht,183)?1:3:2:0}if(it.m.Ka)return An(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(it=Pe,ht=(De=Re).rb[De.sb-1],Ft=De.rb[De.sb+De.ja],Ze=De.ya[De.aa+De.ja],Dt=De.kc?Ze.Ad:0)ht.la=Ft.la=0,Ze.Za||(ht.Na=Ft.Na=0),Ze.Hc=0,Ze.Gc=0,Ze.ia=0;else{var un,yr;if(ht=Ft,Ft=it,Dt=De.Pa.Xc,Yt=De.ya[De.aa+De.ja],Mt=De.pb[Yt.$b],ot=Yt.ad,Gr=0,rn=De.rb[De.sb-1],Er=Vr=0,a(ot,Gr,0,384),Yt.Za)var ca=0,ns=Dt[3];else{gn=i(16);var ua=ht.Na+rn.Na;if(ua=wm(Ft,Dt[1],ua,Mt.Eb,0,gn,0),ht.Na=rn.Na=(0<ua)+0,1<ua)Dd(gn,0,ot,Gr);else{var as=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)ot[Gr+gn]=as}ca=1,ns=Dt[0]}var nn=15&ht.la,Ts=15&rn.la;for(gn=0;4>gn;++gn){var Es=1&Ts;for(as=yr=0;4>as;++as)nn=nn>>1|(Es=(ua=wm(Ft,ns,ua=Es+(1&nn),Mt.Sc,ca,ot,Gr))>ca)<<7,yr=yr<<2|(3<ua?3:1<ua?2:ot[Gr+0]!=0),Gr+=16;nn>>=4,Ts=Ts>>1|Es<<7,Vr=(Vr<<8|yr)>>>0}for(ns=nn,ca=Ts>>4,un=0;4>un;un+=2){for(yr=0,nn=ht.la>>4+un,Ts=rn.la>>4+un,gn=0;2>gn;++gn){for(Es=1&Ts,as=0;2>as;++as)ua=Es+(1&nn),nn=nn>>1|(Es=0<(ua=wm(Ft,Dt[2],ua,Mt.Qc,0,ot,Gr)))<<3,yr=yr<<2|(3<ua?3:1<ua?2:ot[Gr+0]!=0),Gr+=16;nn>>=2,Ts=Ts>>1|Es<<5}Er|=yr<<4*un,ns|=nn<<4<<un,ca|=(240&Ts)<<un}ht.la=ns,rn.la=ca,Yt.Hc=Vr,Yt.Gc=Er,Yt.ia=43690&Er?0:Mt.ia,Dt=!(Vr|Er)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[Ze.$b][Ze.Za],De.wa[De.Y+De.ja].La|=!Dt),it.Ka)return An(Re,7,"Premature end-of-file encountered.")}if(Wf(Re),De=lt,it=1,Ze=(Pe=Re).D,ht=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Ze.M=Pe.M,Ze.uc=ht,vl(Pe,Ze),it=1,Ze=(yr=Pe.D).Nb,ht=(Er=_y[Pe.L])*Pe.R,Ft=Er/2*Pe.B,gn=16*Ze*Pe.R,as=8*Ze*Pe.B,Dt=Pe.sa,Yt=Pe.ta-ht+gn,Mt=Pe.qa,ot=Pe.ra-Ft+as,Gr=Pe.Ha,rn=Pe.Ia-Ft+as,Ts=(nn=yr.M)==0,Vr=nn>=Pe.Va-1,Pe.Aa==2&&vl(Pe,yr),yr.uc)for(Es=(ua=Pe).D.M,t(ua.D.uc),yr=ua.yb;yr<ua.Hb;++yr){ca=yr,ns=Es;var Oa=(Ya=(Wn=ua).D).Nb;un=Wn.R;var Ya=Ya.wa[Ya.Y+ca],Ri=Wn.sa,Zs=Wn.ta+16*Oa*un+16*ca,xl=Ya.dd,Ia=Ya.tc;if(Ia!=0)if(t(3<=Ia),Wn.L==1)0<ca&&yu(Ri,Zs,un,Ia+4),Ya.La&&Ys(Ri,Zs,un,Ia),0<ns&&ih(Ri,Zs,un,Ia+4),Ya.La&&xm(Ri,Zs,un,Ia);else{var sc=Wn.B,sh=Wn.qa,Rd=Wn.ra+8*Oa*sc+8*ca,wu=Wn.Ha,Wn=Wn.Ia+8*Oa*sc+8*ca;Oa=Ya.ld,0<ca&&(hy(Ri,Zs,un,Ia+4,xl,Oa),rh(sh,Rd,wu,Wn,sc,Ia+4,xl,Oa)),Ya.La&&(vu(Ri,Zs,un,Ia,xl,Oa),Ld(sh,Rd,wu,Wn,sc,Ia,xl,Oa)),0<ns&&(jd(Ri,Zs,un,Ia+4,xl,Oa),ym(sh,Rd,wu,Wn,sc,Ia+4,xl,Oa)),Ya.La&&(nh(Ri,Zs,un,Ia,xl,Oa),ah(sh,Rd,wu,Wn,sc,Ia,xl,Oa))}}if(Pe.ia&&alert("todo:DitherRow"),De.put!=null){if(yr=16*nn,nn=16*(nn+1),Ts?(De.y=Pe.sa,De.O=Pe.ta+gn,De.f=Pe.qa,De.N=Pe.ra+as,De.ea=Pe.Ha,De.W=Pe.Ia+as):(yr-=Er,De.y=Dt,De.O=Yt,De.f=Mt,De.N=ot,De.ea=Gr,De.W=rn),Vr||(nn-=Er),nn>De.o&&(nn=De.o),De.F=null,De.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&yr<nn&&(De.J=pu(Pe,De,yr,nn-yr),De.F=Pe.mb,De.F==null&&De.F.length==0)){it=An(Pe,3,"Could not decode alpha data.");break e}yr<De.j&&(Er=De.j-yr,yr=De.j,t(!(1&Er)),De.O+=Pe.R*Er,De.N+=Pe.B*(Er>>1),De.W+=Pe.B*(Er>>1),De.F!=null&&(De.J+=De.width*Er)),yr<nn&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=yr-De.j,De.U=De.va-De.v,De.T=nn-yr,it=De.put(De))}Ze+1!=Pe.Ic||Vr||(n(Pe.sa,Pe.ta-ht,Dt,Yt+16*Pe.R,ht),n(Pe.qa,Pe.ra-Ft,Mt,ot+8*Pe.B,Ft),n(Pe.Ha,Pe.Ia-Ft,Gr,rn+8*Pe.B,Ft))}if(!it)return An(Re,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),M&=1}return M?(x.cb=0,M):0}function es(x,k,M,W,ae){ae=x[k+M+32*W]+(ae>>3),x[k+M+32*W]=-256&ae?0>ae?0:255:ae}function Zc(x,k,M,W,ae,oe){es(x,k,0,M,W+ae),es(x,k,1,M,W+oe),es(x,k,2,M,W-oe),es(x,k,3,M,W-ae)}function qn(x){return(20091*x>>16)+x}function ji(x,k,M,W){var ae,oe=0,le=i(16);for(ae=0;4>ae;++ae){var fe=x[k+0]+x[k+8],de=x[k+0]-x[k+8],ve=(35468*x[k+4]>>16)-qn(x[k+12]),Ce=qn(x[k+4])+(35468*x[k+12]>>16);le[oe+0]=fe+Ce,le[oe+1]=de+ve,le[oe+2]=de-ve,le[oe+3]=fe-Ce,oe+=4,k++}for(ae=oe=0;4>ae;++ae)fe=(x=le[oe+0]+4)+le[oe+8],de=x-le[oe+8],ve=(35468*le[oe+4]>>16)-qn(le[oe+12]),es(M,W,0,0,fe+(Ce=qn(le[oe+4])+(35468*le[oe+12]>>16))),es(M,W,1,0,de+ve),es(M,W,2,0,de-ve),es(M,W,3,0,fe-Ce),oe++,W+=32}function Kl(x,k,M,W){var ae=x[k+0]+4,oe=35468*x[k+4]>>16,le=qn(x[k+4]),fe=35468*x[k+1]>>16;Zc(M,W,0,ae+le,x=qn(x[k+1]),fe),Zc(M,W,1,ae+oe,x,fe),Zc(M,W,2,ae-oe,x,fe),Zc(M,W,3,ae-le,x,fe)}function eu(x,k,M,W,ae){ji(x,k,M,W),ae&&ji(x,k+16,M,W+4)}function Hf(x,k,M,W){nc(x,k+0,M,W,1),nc(x,k+32,M,W+128,1)}function tn(x,k,M,W){var ae;for(x=x[k+0]+4,ae=0;4>ae;++ae)for(k=0;4>k;++k)es(M,W,k,ae,x)}function Yl(x,k,M,W){x[k+0]&&Mi(x,k+0,M,W),x[k+16]&&Mi(x,k+16,M,W+4),x[k+32]&&Mi(x,k+32,M,W+128),x[k+48]&&Mi(x,k+48,M,W+128+4)}function Xl(x,k,M,W){var ae,oe=i(16);for(ae=0;4>ae;++ae){var le=x[k+0+ae]+x[k+12+ae],fe=x[k+4+ae]+x[k+8+ae],de=x[k+4+ae]-x[k+8+ae],ve=x[k+0+ae]-x[k+12+ae];oe[0+ae]=le+fe,oe[8+ae]=le-fe,oe[4+ae]=ve+de,oe[12+ae]=ve-de}for(ae=0;4>ae;++ae)le=(x=oe[0+4*ae]+3)+oe[3+4*ae],fe=oe[1+4*ae]+oe[2+4*ae],de=oe[1+4*ae]-oe[2+4*ae],ve=x-oe[3+4*ae],M[W+0]=le+fe>>3,M[W+16]=ve+de>>3,M[W+32]=le-fe>>3,M[W+48]=ve-de>>3,W+=64}function Eo(x,k,M){var W,ae=k-32,oe=As,le=255-x[ae-1];for(W=0;W<M;++W){var fe,de=oe,ve=le+x[k-1];for(fe=0;fe<M;++fe)x[k+fe]=de[ve+x[ae+fe]];k+=32}}function um(x,k){Eo(x,k,4)}function _d(x,k){Eo(x,k,8)}function fm(x,k){Eo(x,k,16)}function ko(x,k){var M;for(M=0;16>M;++M)n(x,k+32*M,x,k-32,16)}function tu(x,k){var M;for(M=16;0<M;--M)a(x,k,x[k-1],16),k+=32}function ru(x,k,M){var W;for(W=0;16>W;++W)a(k,M+32*W,x,16)}function hl(x,k){var M,W=16;for(M=0;16>M;++M)W+=x[k-1+32*M]+x[k+M-32];ru(W>>5,x,k)}function Tn(x,k){var M,W=8;for(M=0;16>M;++M)W+=x[k-1+32*M];ru(W>>4,x,k)}function Sd(x,k){var M,W=8;for(M=0;16>M;++M)W+=x[k+M-32];ru(W>>4,x,k)}function Gf(x,k){ru(128,x,k)}function nr(x,k,M){return x+2*k+M+2>>2}function dl(x,k){var M,W=k-32;for(W=new Uint8Array([nr(x[W-1],x[W+0],x[W+1]),nr(x[W+0],x[W+1],x[W+2]),nr(x[W+1],x[W+2],x[W+3]),nr(x[W+2],x[W+3],x[W+4])]),M=0;4>M;++M)n(x,k+32*M,W,0,W.length)}function hm(x,k){var M=x[k-1],W=x[k-1+32],ae=x[k-1+64],oe=x[k-1+96];he(x,k+0,16843009*nr(x[k-1-32],M,W)),he(x,k+32,16843009*nr(M,W,ae)),he(x,k+64,16843009*nr(W,ae,oe)),he(x,k+96,16843009*nr(ae,oe,oe))}function Hs(x,k){var M,W=4;for(M=0;4>M;++M)W+=x[k+M-32]+x[k-1+32*M];for(W>>=3,M=0;4>M;++M)a(x,k+32*M,W,4)}function Ad(x,k){var M=x[k-1+0],W=x[k-1+32],ae=x[k-1+64],oe=x[k-1-32],le=x[k+0-32],fe=x[k+1-32],de=x[k+2-32],ve=x[k+3-32];x[k+0+96]=nr(W,ae,x[k-1+96]),x[k+1+96]=x[k+0+64]=nr(M,W,ae),x[k+2+96]=x[k+1+64]=x[k+0+32]=nr(oe,M,W),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=nr(le,oe,M),x[k+3+64]=x[k+2+32]=x[k+1+0]=nr(fe,le,oe),x[k+3+32]=x[k+2+0]=nr(de,fe,le),x[k+3+0]=nr(ve,de,fe)}function ws(x,k){var M=x[k+1-32],W=x[k+2-32],ae=x[k+3-32],oe=x[k+4-32],le=x[k+5-32],fe=x[k+6-32],de=x[k+7-32];x[k+0+0]=nr(x[k+0-32],M,W),x[k+1+0]=x[k+0+32]=nr(M,W,ae),x[k+2+0]=x[k+1+32]=x[k+0+64]=nr(W,ae,oe),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=nr(ae,oe,le),x[k+3+32]=x[k+2+64]=x[k+1+96]=nr(oe,le,fe),x[k+3+64]=x[k+2+96]=nr(le,fe,de),x[k+3+96]=nr(fe,de,de)}function nu(x,k){var M=x[k-1+0],W=x[k-1+32],ae=x[k-1+64],oe=x[k-1-32],le=x[k+0-32],fe=x[k+1-32],de=x[k+2-32],ve=x[k+3-32];x[k+0+0]=x[k+1+64]=oe+le+1>>1,x[k+1+0]=x[k+2+64]=le+fe+1>>1,x[k+2+0]=x[k+3+64]=fe+de+1>>1,x[k+3+0]=de+ve+1>>1,x[k+0+96]=nr(ae,W,M),x[k+0+64]=nr(W,M,oe),x[k+0+32]=x[k+1+96]=nr(M,oe,le),x[k+1+32]=x[k+2+96]=nr(oe,le,fe),x[k+2+32]=x[k+3+96]=nr(le,fe,de),x[k+3+32]=nr(fe,de,ve)}function Kf(x,k){var M=x[k+0-32],W=x[k+1-32],ae=x[k+2-32],oe=x[k+3-32],le=x[k+4-32],fe=x[k+5-32],de=x[k+6-32],ve=x[k+7-32];x[k+0+0]=M+W+1>>1,x[k+1+0]=x[k+0+64]=W+ae+1>>1,x[k+2+0]=x[k+1+64]=ae+oe+1>>1,x[k+3+0]=x[k+2+64]=oe+le+1>>1,x[k+0+32]=nr(M,W,ae),x[k+1+32]=x[k+0+96]=nr(W,ae,oe),x[k+2+32]=x[k+1+96]=nr(ae,oe,le),x[k+3+32]=x[k+2+96]=nr(oe,le,fe),x[k+3+64]=nr(le,fe,de),x[k+3+96]=nr(fe,de,ve)}function au(x,k){var M=x[k-1+0],W=x[k-1+32],ae=x[k-1+64],oe=x[k-1+96];x[k+0+0]=M+W+1>>1,x[k+2+0]=x[k+0+32]=W+ae+1>>1,x[k+2+32]=x[k+0+64]=ae+oe+1>>1,x[k+1+0]=nr(M,W,ae),x[k+3+0]=x[k+1+32]=nr(W,ae,oe),x[k+3+32]=x[k+1+64]=nr(ae,oe,oe),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=oe}function iu(x,k){var M=x[k-1+0],W=x[k-1+32],ae=x[k-1+64],oe=x[k-1+96],le=x[k-1-32],fe=x[k+0-32],de=x[k+1-32],ve=x[k+2-32];x[k+0+0]=x[k+2+32]=M+le+1>>1,x[k+0+32]=x[k+2+64]=W+M+1>>1,x[k+0+64]=x[k+2+96]=ae+W+1>>1,x[k+0+96]=oe+ae+1>>1,x[k+3+0]=nr(fe,de,ve),x[k+2+0]=nr(le,fe,de),x[k+1+0]=x[k+3+32]=nr(M,le,fe),x[k+1+32]=x[k+3+64]=nr(W,M,le),x[k+1+64]=x[k+3+96]=nr(ae,W,M),x[k+1+96]=nr(oe,ae,W)}function Td(x,k){var M;for(M=0;8>M;++M)n(x,k+32*M,x,k-32,8)}function No(x,k){var M;for(M=0;8>M;++M)a(x,k,x[k-1],8),k+=32}function _s(x,k,M){var W;for(W=0;8>W;++W)a(k,M+32*W,x,8)}function Co(x,k){var M,W=8;for(M=0;8>M;++M)W+=x[k+M-32]+x[k-1+32*M];_s(W>>4,x,k)}function Yf(x,k){var M,W=4;for(M=0;8>M;++M)W+=x[k+M-32];_s(W>>3,x,k)}function Qr(x,k){var M,W=4;for(M=0;8>M;++M)W+=x[k-1+32*M];_s(W>>3,x,k)}function Xf(x,k){_s(128,x,k)}function su(x,k,M){var W=x[k-M],ae=x[k+0],oe=3*(ae-W)+f_[1020+x[k-2*M]-x[k+M]],le=py[112+(oe+4>>3)];x[k-M]=As[255+W+py[112+(oe+3>>3)]],x[k+0]=As[255+ae-le]}function Qf(x,k,M,W){var ae=x[k+0],oe=x[k+M];return Qs[255+x[k-2*M]-x[k-M]]>W||Qs[255+oe-ae]>W}function Jf(x,k,M,W){return 4*Qs[255+x[k-M]-x[k+0]]+Qs[255+x[k-2*M]-x[k+M]]<=W}function Zf(x,k,M,W,ae){var oe=x[k-3*M],le=x[k-2*M],fe=x[k-M],de=x[k+0],ve=x[k+M],Ce=x[k+2*M],ze=x[k+3*M];return 4*Qs[255+fe-de]+Qs[255+le-ve]>W?0:Qs[255+x[k-4*M]-oe]<=ae&&Qs[255+oe-le]<=ae&&Qs[255+le-fe]<=ae&&Qs[255+ze-Ce]<=ae&&Qs[255+Ce-ve]<=ae&&Qs[255+ve-de]<=ae}function Ql(x,k,M,W){var ae=2*W+1;for(W=0;16>W;++W)Jf(x,k+W,M,ae)&&su(x,k+W,M)}function Ss(x,k,M,W){var ae=2*W+1;for(W=0;16>W;++W)Jf(x,k+W*M,1,ae)&&su(x,k+W*M,1)}function ba(x,k,M,W){var ae;for(ae=3;0<ae;--ae)Ql(x,k+=4*M,M,W)}function Ed(x,k,M,W){var ae;for(ae=3;0<ae;--ae)Ss(x,k+=4,M,W)}function pl(x,k,M,W,ae,oe,le,fe){for(oe=2*oe+1;0<ae--;){if(Zf(x,k,M,oe,le))if(Qf(x,k,M,fe))su(x,k,M);else{var de=x,ve=k,Ce=M,ze=de[ve-2*Ce],qe=de[ve-Ce],Re=de[ve+0],lt=de[ve+Ce],Ze=de[ve+2*Ce],Pe=27*(it=f_[1020+3*(Re-qe)+f_[1020+ze-lt]])+63>>7,De=18*it+63>>7,it=9*it+63>>7;de[ve-3*Ce]=As[255+de[ve-3*Ce]+it],de[ve-2*Ce]=As[255+ze+De],de[ve-Ce]=As[255+qe+Pe],de[ve+0]=As[255+Re-Pe],de[ve+Ce]=As[255+lt-De],de[ve+2*Ce]=As[255+Ze-it]}k+=W}}function Ha(x,k,M,W,ae,oe,le,fe){for(oe=2*oe+1;0<ae--;){if(Zf(x,k,M,oe,le))if(Qf(x,k,M,fe))su(x,k,M);else{var de=x,ve=k,Ce=M,ze=de[ve-Ce],qe=de[ve+0],Re=de[ve+Ce],lt=py[112+((Ze=3*(qe-ze))+4>>3)],Ze=py[112+(Ze+3>>3)],Pe=lt+1>>1;de[ve-2*Ce]=As[255+de[ve-2*Ce]+Pe],de[ve-Ce]=As[255+ze+Ze],de[ve+0]=As[255+qe-lt],de[ve+Ce]=As[255+Re-Pe]}k+=W}}function ou(x,k,M,W,ae,oe){pl(x,k,M,1,16,W,ae,oe)}function Po(x,k,M,W,ae,oe){pl(x,k,1,M,16,W,ae,oe)}function lu(x,k,M,W,ae,oe){var le;for(le=3;0<le;--le)Ha(x,k+=4*M,M,1,16,W,ae,oe)}function Jl(x,k,M,W,ae,oe){var le;for(le=3;0<le;--le)Ha(x,k+=4,1,M,16,W,ae,oe)}function cu(x,k,M,W,ae,oe,le,fe){pl(x,k,ae,1,8,oe,le,fe),pl(M,W,ae,1,8,oe,le,fe)}function eh(x,k,M,W,ae,oe,le,fe){pl(x,k,1,ae,8,oe,le,fe),pl(M,W,1,ae,8,oe,le,fe)}function uu(x,k,M,W,ae,oe,le,fe){Ha(x,k+4*ae,ae,1,8,oe,le,fe),Ha(M,W+4*ae,ae,1,8,oe,le,fe)}function ml(x,k,M,W,ae,oe,le,fe){Ha(x,k+4,1,ae,8,oe,le,fe),Ha(M,W+4,1,ae,8,oe,le,fe)}function Zl(){this.ba=new Cr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function fu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ec(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function hu(){this.ua=0,this.Wa=new ee,this.vb=new ee,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new K,this.yc=new N}function kd(){this.xb=this.a=0,this.l=new bs,this.ca=new Cr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new hu,this.ab=0,this.gc=s(4,ec),this.Oc=0}function Oo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new bs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gl(x,k,M,W,ae,oe,le){for(x=x==null?0:x[k+0],k=0;k<le;++k)ae[oe+k]=x+M[W+k]&255,x=ae[oe+k]}function du(x,k,M,W,ae,oe,le){var fe;if(x==null)gl(null,null,M,W,ae,oe,le);else for(fe=0;fe<le;++fe)ae[oe+fe]=x[k+fe]+M[W+fe]&255}function ci(x,k,M,W,ae,oe,le){if(x==null)gl(null,null,M,W,ae,oe,le);else{var fe,de=x[k+0],ve=de,Ce=de;for(fe=0;fe<le;++fe)ve=Ce+(de=x[k+fe])-ve,Ce=M[W+fe]+(-256&ve?0>ve?0:255:ve)&255,ve=de,ae[oe+fe]=Ce}}function pu(x,k,M,W){var ae=k.width,oe=k.o;if(t(x!=null&&k!=null),0>M||0>=W||M+W>oe)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new Oo,(le=x.ga==null)||(le=k.width*k.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var fe=x.Fa,de=x.P,ve=x.qc,Ce=x.mb,ze=x.nb,qe=de+1,Re=ve-1,lt=le.l;if(t(fe!=null&&Ce!=null&&k!=null),bu[0]=null,bu[1]=gl,bu[2]=du,bu[3]=ci,le.ca=Ce,le.tb=ze,le.c=k.width,le.i=k.height,t(0<le.c&&0<le.i),1>=ve)k=0;else if(le.$a=fe[de+0]>>0&3,le.Z=fe[de+0]>>2&3,le.Lc=fe[de+0]>>4&3,de=fe[de+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||de)k=0;else if(lt.put=Ee,lt.ac=In,lt.bc=bt,lt.ma=le,lt.width=k.width,lt.height=k.height,lt.Da=k.Da,lt.v=k.v,lt.va=k.va,lt.j=k.j,lt.o=k.o,le.$a)e:{t(le.$a==1),k=Ge();t:for(;;){if(k==null){k=0;break e}if(t(le!=null),le.mc=k,k.c=le.c,k.i=le.i,k.l=le.l,k.l.ma=le,k.l.width=le.c,k.l.height=le.i,k.a=0,q(k.m,fe,qe,Re),!Ve(le.c,le.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&pe(k.s)?(le.ic=1,fe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(fe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(le.ic=0,k=Ue(k,le.c)),!k))break t;k=1;break e}le.mc=null,k=0}else k=Re>=le.c*le.i;le=!k}if(le)return null;x.ga.Lc!=1?x.Ga=0:W=oe-M}t(x.ga!=null),t(M+W<=oe);e:{if(k=(fe=x.ga).c,oe=fe.l.o,fe.$a==0){if(qe=x.rc,Re=x.Vc,lt=x.Fa,de=x.P+1+M*k,ve=x.mb,Ce=x.nb+M*k,t(de<=x.P+x.qc),fe.Z!=0)for(t(bu[fe.Z]!=null),le=0;le<W;++le)bu[fe.Z](qe,Re,lt,de,ve,Ce,k),qe=ve,Re=Ce,Ce+=k,de+=k;else for(le=0;le<W;++le)n(ve,Ce,lt,de,k),qe=ve,Re=Ce,Ce+=k,de+=k;x.rc=qe,x.Vc=Re}else{if(t(fe.mc!=null),k=M+W,t((le=fe.mc)!=null),t(k<=le.i),le.C>=k)k=1;else if(fe.ic||Le(),fe.ic){fe=le.V,qe=le.Ba,Re=le.c;var Ze=le.i,Pe=(lt=1,de=le.$/Re,ve=le.$%Re,Ce=le.m,ze=le.s,le.$),De=Re*Ze,it=Re*k,ht=ze.wc,ot=Pe<it?gr(ze,ve,de):null;t(Pe<=De),t(k<=Ze),t(pe(ze));t:for(;;){for(;!Ce.h&&Pe<it;){if(ve&ht||(ot=gr(ze,ve,de)),t(ot!=null),Y(Ce),256>(Ze=ft(ot.G[0],ot.H[0],Ce)))fe[qe+Pe]=Ze,++Pe,++ve>=Re&&(ve=0,++de<=k&&!(de%16)&&ye(le,de));else{if(!(280>Ze)){lt=0;break t}Ze=Gt(Ze-256,Ce);var Ft,Dt=ft(ot.G[4],ot.H[4],Ce);if(Y(Ce),!(Pe>=(Dt=Ct(Re,Dt=Gt(Dt,Ce)))&&De-Pe>=Ze)){lt=0;break t}for(Ft=0;Ft<Ze;++Ft)fe[qe+Pe+Ft]=fe[qe+Pe+Ft-Dt];for(Pe+=Ze,ve+=Ze;ve>=Re;)ve-=Re,++de<=k&&!(de%16)&&ye(le,de);Pe<it&&ve&ht&&(ot=gr(ze,ve,de))}t(Ce.h==V(Ce))}ye(le,de>k?k:de);break t}!lt||Ce.h&&Pe<De?(lt=0,le.a=Ce.h?5:3):le.$=Pe,k=lt}else k=we(le,le.V,le.Ba,le.c,le.i,k,He);if(!k){W=0;break e}}M+W>=oe&&(x.Cc=1),W=1}if(!W)return null;if(x.Cc&&((W=x.ga)!=null&&(W.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ae}function L(x,k,M,W,ae,oe){for(;0<ae--;){var le,fe=x,de=k+(M?1:0),ve=x,Ce=k+(M?0:3);for(le=0;le<W;++le){var ze=ve[Ce+4*le];ze!=255&&(ze*=32897,fe[de+4*le+0]=fe[de+4*le+0]*ze>>23,fe[de+4*le+1]=fe[de+4*le+1]*ze>>23,fe[de+4*le+2]=fe[de+4*le+2]*ze>>23)}k+=oe}}function ne(x,k,M,W,ae){for(;0<W--;){var oe;for(oe=0;oe<M;++oe){var le=x[k+2*oe+0],fe=15&(ve=x[k+2*oe+1]),de=4369*fe,ve=(240&ve|ve>>4)*de>>16;x[k+2*oe+0]=(240&le|le>>4)*de>>16&240|(15&le|le<<4)*de>>16>>4&15,x[k+2*oe+1]=240&ve|fe}k+=ae}}function Se(x,k,M,W,ae,oe,le,fe){var de,ve,Ce=255;for(ve=0;ve<ae;++ve){for(de=0;de<W;++de){var ze=x[k+de];oe[le+4*de]=ze,Ce&=ze}k+=M,le+=fe}return Ce!=255}function Ne(x,k,M,W,ae){var oe;for(oe=0;oe<ae;++oe)M[W+oe]=x[k+oe]>>8}function Le(){Xs=L,xn=ne,bn=Se,ta=Ne}function et(x,k,M){A[x]=function(W,ae,oe,le,fe,de,ve,Ce,ze,qe,Re,lt,Ze,Pe,De,it,ht){var ot,Ft=ht-1>>1,Dt=fe[de+0]|ve[Ce+0]<<16,Yt=ze[qe+0]|Re[lt+0]<<16;t(W!=null);var Mt=3*Dt+Yt+131074>>2;for(k(W[ae+0],255&Mt,Mt>>16,Ze,Pe),oe!=null&&(Mt=3*Yt+Dt+131074>>2,k(oe[le+0],255&Mt,Mt>>16,De,it)),ot=1;ot<=Ft;++ot){var Gr=fe[de+ot]|ve[Ce+ot]<<16,rn=ze[qe+ot]|Re[lt+ot]<<16,Vr=Dt+Gr+Yt+rn+524296,Er=Vr+2*(Gr+Yt)>>3;Mt=Er+Dt>>1,Dt=(Vr=Vr+2*(Dt+rn)>>3)+Gr>>1,k(W[ae+2*ot-1],255&Mt,Mt>>16,Ze,Pe+(2*ot-1)*M),k(W[ae+2*ot-0],255&Dt,Dt>>16,Ze,Pe+(2*ot-0)*M),oe!=null&&(Mt=Vr+Yt>>1,Dt=Er+rn>>1,k(oe[le+2*ot-1],255&Mt,Mt>>16,De,it+(2*ot-1)*M),k(oe[le+2*ot+0],255&Dt,Dt>>16,De,it+(2*ot+0)*M)),Dt=Gr,Yt=rn}1&ht||(Mt=3*Dt+Yt+131074>>2,k(W[ae+ht-1],255&Mt,Mt>>16,Ze,Pe+(ht-1)*M),oe!=null&&(Mt=3*Yt+Dt+131074>>2,k(oe[le+ht-1],255&Mt,Mt>>16,De,it+(ht-1)*M)))}}function mt(){Js[my]=QK,Js[gy]=kP,Js[_P]=JK,Js[vy]=NP,Js[yy]=CP,Js[h_]=PP,Js[SP]=ZK,Js[d_]=kP,Js[p_]=NP,Js[xy]=CP,Js[m_]=PP}function jt(x){return x&~eY?0>x?0:255:x>>OP}function S(x,k){return jt((19077*x>>8)+(26149*k>>8)-14234)}function F(x,k,M){return jt((19077*x>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function Q(x,k){return jt((19077*x>>8)+(33050*k>>8)-17685)}function ue(x,k,M,W,ae){W[ae+0]=S(x,M),W[ae+1]=F(x,k,M),W[ae+2]=Q(x,k)}function je(x,k,M,W,ae){W[ae+0]=Q(x,k),W[ae+1]=F(x,k,M),W[ae+2]=S(x,M)}function We(x,k,M,W,ae){var oe=F(x,k,M);k=oe<<3&224|Q(x,k)>>3,W[ae+0]=248&S(x,M)|oe>>5,W[ae+1]=k}function vt(x,k,M,W,ae){var oe=240&Q(x,k)|15;W[ae+0]=240&S(x,M)|F(x,k,M)>>4,W[ae+1]=oe}function hr(x,k,M,W,ae){W[ae+0]=255,ue(x,k,M,W,ae+1)}function Tr(x,k,M,W,ae){je(x,k,M,W,ae),W[ae+3]=255}function dr(x,k,M,W,ae){ue(x,k,M,W,ae),W[ae+3]=255}function Jr(x,k){return 0>x?0:x>k?k:x}function mn(x,k,M){A[x]=function(W,ae,oe,le,fe,de,ve,Ce,ze){for(var qe=Ce+(-2&ze)*M;Ce!=qe;)k(W[ae+0],oe[le+0],fe[de+0],ve,Ce),k(W[ae+1],oe[le+0],fe[de+0],ve,Ce+M),ae+=2,++le,++de,Ce+=2*M;1&ze&&k(W[ae+0],oe[le+0],fe[de+0],ve,Ce)}}function Io(x,k,M){return M==0?x==0?k==0?6:5:k==0?4:0:M}function Ga(x,k,M,W,ae){switch(x>>>30){case 3:nc(k,M,W,ae,0);break;case 2:ea(k,M,W,ae);break;case 1:Mi(k,M,W,ae)}}function vl(x,k){var M,W,ae=k.M,oe=k.Nb,le=x.oc,fe=x.pc+40,de=x.oc,ve=x.pc+584,Ce=x.oc,ze=x.pc+600;for(M=0;16>M;++M)le[fe+32*M-1]=129;for(M=0;8>M;++M)de[ve+32*M-1]=129,Ce[ze+32*M-1]=129;for(0<ae?le[fe-1-32]=de[ve-1-32]=Ce[ze-1-32]=129:(a(le,fe-32-1,127,21),a(de,ve-32-1,127,9),a(Ce,ze-32-1,127,9)),W=0;W<x.za;++W){var qe=k.ya[k.aa+W];if(0<W){for(M=-1;16>M;++M)n(le,fe+32*M-4,le,fe+32*M+12,4);for(M=-1;8>M;++M)n(de,ve+32*M-4,de,ve+32*M+4,4),n(Ce,ze+32*M-4,Ce,ze+32*M+4,4)}var Re=x.Gd,lt=x.Hd+W,Ze=qe.ad,Pe=qe.Hc;if(0<ae&&(n(le,fe-32,Re[lt].y,0,16),n(de,ve-32,Re[lt].f,0,8),n(Ce,ze-32,Re[lt].ea,0,8)),qe.Za){var De=le,it=fe-32+16;for(0<ae&&(W>=x.za-1?a(De,it,Re[lt].y[15],4):n(De,it,Re[lt+1].y,0,4)),M=0;4>M;M++)De[it+128+M]=De[it+256+M]=De[it+384+M]=De[it+0+M];for(M=0;16>M;++M,Pe<<=2)De=le,it=fe+DP[M],Do[qe.Ob[M]](De,it),Ga(Pe,Ze,16*+M,De,it)}else if(De=Io(W,ae,qe.Ob[0]),xu[De](le,fe),Pe!=0)for(M=0;16>M;++M,Pe<<=2)Ga(Pe,Ze,16*+M,le,fe+DP[M]);for(M=qe.Gc,De=Io(W,ae,qe.Dd),ic[De](de,ve),ic[De](Ce,ze),Pe=Ze,De=de,it=ve,255&(qe=M>>0)&&(170&qe?vm(Pe,256,De,it):Ks(Pe,256,De,it)),qe=Ce,Pe=ze,255&(M>>=8)&&(170&M?vm(Ze,320,qe,Pe):Ks(Ze,320,qe,Pe)),ae<x.Ub-1&&(n(Re[lt].y,0,le,fe+480,16),n(Re[lt].f,0,de,ve+224,8),n(Re[lt].ea,0,Ce,ze+224,8)),M=8*oe*x.B,Re=x.sa,lt=x.ta+16*W+16*oe*x.R,Ze=x.qa,qe=x.ra+8*W+M,Pe=x.Ha,De=x.Ia+8*W+M,M=0;16>M;++M)n(Re,lt+M*x.R,le,fe+32*M,16);for(M=0;8>M;++M)n(Ze,qe+M*x.B,de,ve+32*M,8),n(Pe,De+M*x.B,Ce,ze+32*M,8)}}function yl(x,k,M,W,ae,oe,le,fe,de){var ve=[0],Ce=[0],ze=0,qe=de!=null?de.kd:0,Re=de??new fu;if(x==null||12>M)return 7;Re.data=x,Re.w=k,Re.ha=M,k=[k],M=[M],Re.gb=[Re.gb];e:{var lt=k,Ze=M,Pe=Re.gb;if(t(x!=null),t(Ze!=null),t(Pe!=null),Pe[0]=0,12<=Ze[0]&&!r(x,lt[0],"RIFF")){if(r(x,lt[0]+8,"WEBP")){Pe=3;break e}var De=Te(x,lt[0]+4);if(12>De||4294967286<De){Pe=3;break e}if(qe&&De>Ze[0]-8){Pe=7;break e}Pe[0]=De,lt[0]+=12,Ze[0]-=12}Pe=0}if(Pe!=0)return Pe;for(De=0<Re.gb[0],M=M[0];;){e:{var it=x;Ze=k,Pe=M;var ht=ve,ot=Ce,Ft=lt=[0];if((Mt=ze=[ze])[0]=0,8>Pe[0])Pe=7;else{if(!r(it,Ze[0],"VP8X")){if(Te(it,Ze[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Dt=Te(it,Ze[0]+8),Yt=1+B(it,Ze[0]+12);if(2147483648<=Yt*(it=1+B(it,Ze[0]+15))){Pe=3;break e}Ft!=null&&(Ft[0]=Dt),ht!=null&&(ht[0]=Yt),ot!=null&&(ot[0]=it),Ze[0]+=18,Pe[0]-=18,Mt[0]=1}Pe=0}}if(ze=ze[0],lt=lt[0],Pe!=0)return Pe;if(Ze=!!(2&lt),!De&&ze)return 3;if(oe!=null&&(oe[0]=!!(16&lt)),le!=null&&(le[0]=Ze),fe!=null&&(fe[0]=0),le=ve[0],lt=Ce[0],ze&&Ze&&de==null){Pe=0;break}if(4>M){Pe=7;break}if(De&&ze||!De&&!ze&&!r(x,k[0],"ALPH")){M=[M],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Dt=x,Pe=k,De=M;var Mt=Re.gb;ht=Re.na,ot=Re.P,Ft=Re.Sa,Yt=22,t(Dt!=null),t(De!=null),it=Pe[0];var Gr=De[0];for(t(ht!=null),t(Ft!=null),ht[0]=null,ot[0]=null,Ft[0]=0;;){if(Pe[0]=it,De[0]=Gr,8>Gr){Pe=7;break e}var rn=Te(Dt,it+4);if(4294967286<rn){Pe=3;break e}var Vr=8+rn+1&-2;if(Yt+=Vr,0<Mt&&Yt>Mt){Pe=3;break e}if(!r(Dt,it,"VP8 ")||!r(Dt,it,"VP8L")){Pe=0;break e}if(Gr[0]<Vr){Pe=7;break e}r(Dt,it,"ALPH")||(ht[0]=Dt,ot[0]=it+8,Ft[0]=rn),it+=Vr,Gr-=Vr}}if(M=M[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Pe!=0)break}M=[M],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if(Mt=x,Pe=k,De=M,ht=Re.gb[0],ot=Re.Ja,Ft=Re.xa,Dt=Pe[0],it=!r(Mt,Dt,"VP8 "),Yt=!r(Mt,Dt,"VP8L"),t(Mt!=null),t(De!=null),t(ot!=null),t(Ft!=null),8>De[0])Pe=7;else{if(it||Yt){if(Mt=Te(Mt,Dt+4),12<=ht&&Mt>ht-12){Pe=3;break e}if(qe&&Mt>De[0]-8){Pe=7;break e}ot[0]=Mt,Pe[0]+=8,De[0]-=8,Ft[0]=Yt}else Ft[0]=5<=De[0]&&Mt[Dt+0]==47&&!(Mt[Dt+4]>>5),ot[0]=De[0];Pe=0}if(M=M[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],k=k[0],Pe!=0)break;if(4294967286<Re.Ja)return 3;if(fe==null||Ze||(fe[0]=Re.xa?2:1),le=[le],lt=[lt],Re.xa){if(5>M){Pe=7;break}fe=le,qe=lt,Ze=oe,x==null||5>M?x=0:5<=M&&x[k+0]==47&&!(x[k+4]>>5)?(De=[0],Mt=[0],ht=[0],q(ot=new C,x,k,M),Ye(ot,De,Mt,ht)?(fe!=null&&(fe[0]=De[0]),qe!=null&&(qe[0]=Mt[0]),Ze!=null&&(Ze[0]=ht[0]),x=1):x=0):x=0}else{if(10>M){Pe=7;break}fe=lt,x==null||10>M||!zf(x,k+3,M-3)?x=0:(qe=x[k+0]|x[k+1]<<8|x[k+2]<<16,Ze=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Re.Ja||!Ze||!x?x=0:(le&&(le[0]=Ze),fe&&(fe[0]=x),x=1))}if(!x||(le=le[0],lt=lt[0],ze&&(ve[0]!=le||Ce[0]!=lt)))return 3;de!=null&&(de[0]=Re,de.offset=k-de.w,t(4294967286>k-de.w),t(de.offset==de.ha-M));break}return Pe==0||Pe==7&&ze&&de==null?(oe!=null&&(oe[0]|=Re.na!=null&&0<Re.na.length),W!=null&&(W[0]=le),ae!=null&&(ae[0]=lt),0):Pe}function dm(x,k,M){var W=k.width,ae=k.height,oe=0,le=0,fe=W,de=ae;if(k.Da=x!=null&&0<x.Da,k.Da&&(fe=x.cd,de=x.bd,oe=x.v,le=x.j,11>M||(oe&=-2,le&=-2),0>oe||0>le||0>=fe||0>=de||oe+fe>W||le+de>ae))return 0;if(k.v=oe,k.j=le,k.va=oe+fe,k.o=le+de,k.U=fe,k.T=de,k.da=x!=null&&0<x.da,k.da){if(!Ae(fe,de,M=[x.ib],oe=[x.hb]))return 0;k.ib=M[0],k.hb=oe[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*W/4&&k.hb<3*ae/4,k.Kb=0),1}function pm(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function Nd(x,k,M,W){if(W==null||0>=x||0>=k)return 2;if(M!=null){if(M.Da){var ae=M.cd,oe=M.bd,le=-2&M.v,fe=-2&M.j;if(0>le||0>fe||0>=ae||0>=oe||le+ae>x||fe+oe>k)return 2;x=ae,k=oe}if(M.da){if(!Ae(x,k,ae=[M.ib],oe=[M.hb]))return 2;x=ae[0],k=oe[0]}}W.width=x,W.height=k;e:{var de=W.width,ve=W.height;if(x=W.S,0>=de||0>=ve||!(x>=my&&13>x))x=2;else{if(0>=W.Rd&&W.sd==null){le=oe=ae=k=0;var Ce=(fe=de*jP[x])*ve;if(11>x||(oe=(ve+1)/2*(k=(de+1)/2),x==12&&(le=(ae=de)*ve)),(ve=i(Ce+2*oe+le))==null){x=1;break e}W.sd=ve,11>x?((de=W.f.RGBA).eb=ve,de.fb=0,de.A=fe,de.size=Ce):((de=W.f.kb).y=ve,de.O=0,de.fa=fe,de.Fd=Ce,de.f=ve,de.N=0+Ce,de.Ab=k,de.Cd=oe,de.ea=ve,de.W=0+Ce+oe,de.Db=k,de.Ed=oe,x==12&&(de.F=ve,de.J=0+Ce+2*oe),de.Tc=le,de.lb=ae)}if(k=1,ae=W.S,oe=W.width,le=W.height,ae>=my&&13>ae)if(11>ae)x=W.f.RGBA,k&=(fe=Math.abs(x.A))*(le-1)+oe<=x.size,k&=fe>=oe*jP[ae],k&=x.eb!=null;else{x=W.f.kb,fe=(oe+1)/2,Ce=(le+1)/2,de=Math.abs(x.fa),ve=Math.abs(x.Ab);var ze=Math.abs(x.Db),qe=Math.abs(x.lb),Re=qe*(le-1)+oe;k&=de*(le-1)+oe<=x.Fd,k&=ve*(Ce-1)+fe<=x.Cd,k=(k&=ze*(Ce-1)+fe<=x.Ed)&de>=oe&ve>=fe&ze>=fe,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,ae==12&&(k&=qe>=oe,k&=Re<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||M!=null&&M.fd&&(x=pm(W)),x}var Ka=64,Cd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Pd=24,Od=32,mm=8,ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ke("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(x){return x},A.Predictor2=function(x,k,M){return k[M+0]},A.Predictor3=function(x,k,M){return k[M+1]},A.Predictor4=function(x,k,M){return k[M-1]},A.Predictor5=function(x,k,M){return Xe(Xe(x,k[M+1]),k[M+0])},A.Predictor6=function(x,k,M){return Xe(x,k[M-1])},A.Predictor7=function(x,k,M){return Xe(x,k[M+0])},A.Predictor8=function(x,k,M){return Xe(k[M-1],k[M+0])},A.Predictor9=function(x,k,M){return Xe(k[M+0],k[M+1])},A.Predictor10=function(x,k,M){return Xe(Xe(x,k[M-1]),Xe(k[M+0],k[M+1]))},A.Predictor11=function(x,k,M){var W=k[M+0];return 0>=ct(W>>24&255,x>>24&255,(k=k[M-1])>>24&255)+ct(W>>16&255,x>>16&255,k>>16&255)+ct(W>>8&255,x>>8&255,k>>8&255)+ct(255&W,255&x,255&k)?W:x},A.Predictor12=function(x,k,M){var W=k[M+0];return(Fe((x>>24&255)+(W>>24&255)-((k=k[M-1])>>24&255))<<24|Fe((x>>16&255)+(W>>16&255)-(k>>16&255))<<16|Fe((x>>8&255)+(W>>8&255)-(k>>8&255))<<8|Fe((255&x)+(255&W)-(255&k)))>>>0},A.Predictor13=function(x,k,M){var W=k[M-1];return(Qe((x=Xe(x,k[M+0]))>>24&255,W>>24&255)<<24|Qe(x>>16&255,W>>16&255)<<16|Qe(x>>8&255,W>>8&255)<<8|Qe(x>>0&255,W>>0&255))>>>0};var u_=A.PredictorAdd0;A.PredictorAdd1=rt,Ke("Predictor2","PredictorAdd2"),Ke("Predictor3","PredictorAdd3"),Ke("Predictor4","PredictorAdd4"),Ke("Predictor5","PredictorAdd5"),Ke("Predictor6","PredictorAdd6"),Ke("Predictor7","PredictorAdd7"),Ke("Predictor8","PredictorAdd8"),Ke("Predictor9","PredictorAdd9"),Ke("Predictor10","PredictorAdd10"),Ke("Predictor11","PredictorAdd11"),Ke("Predictor12","PredictorAdd12"),Ke("Predictor13","PredictorAdd13");var gm=A.PredictorAdd2;xt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),xt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var cy,Gs=A.ColorIndexInverseTransform,Id=A.MapARGB,uy=A.VP8LColorIndexInverseTransformAlpha,fy=A.MapAlpha,mu=A.VP8LPredictorsAdd=[];mu.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var th,rs,Li,gu,tc,rc,Dd,nc,ea,vm,Mi,Ks,jd,hy,ym,rh,nh,vu,ah,Ld,ih,yu,xm,Ys,Xs,xn,bn,ta,wa=i(511),ac=i(2041),bm=i(225),Md=i(767),dy=0,f_=ac,py=bm,As=Md,Qs=wa,my=0,gy=1,_P=2,vy=3,yy=4,h_=5,SP=6,d_=7,p_=8,xy=9,m_=10,RK=[2,3,7],FK=[3,3,11],AP=[280,256,256,256,40],$K=[0,1,1,1,0],BK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],VK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],UK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zK=8,g_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wm=null,qK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],WK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],TP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],HK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],GK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],KK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],YK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],xu=[],Do=[],ic=[],XK=1,EP=2,bu=[],Js=[];et("UpsampleRgbLinePair",ue,3),et("UpsampleBgrLinePair",je,3),et("UpsampleRgbaLinePair",dr,4),et("UpsampleBgraLinePair",Tr,4),et("UpsampleArgbLinePair",hr,4),et("UpsampleRgba4444LinePair",vt,2),et("UpsampleRgb565LinePair",We,2);var QK=A.UpsampleRgbLinePair,JK=A.UpsampleBgrLinePair,kP=A.UpsampleRgbaLinePair,NP=A.UpsampleBgraLinePair,CP=A.UpsampleArgbLinePair,PP=A.UpsampleRgba4444LinePair,ZK=A.UpsampleRgb565LinePair,by=16,wy=1<<by-1,_m=-227,y_=482,OP=6,eY=(256<<OP)-1,IP=0,tY=i(256),rY=i(256),nY=i(256),aY=i(256),iY=i(y_-_m),sY=i(y_-_m);mn("YuvToRgbRow",ue,3),mn("YuvToBgrRow",je,3),mn("YuvToRgbaRow",dr,4),mn("YuvToBgraRow",Tr,4),mn("YuvToArgbRow",hr,4),mn("YuvToRgba4444Row",vt,2),mn("YuvToRgb565Row",We,2);var DP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_y=[0,2,8],oY=[8,7,6,4,4,2,2,2,1,1,1,1],lY=1;this.WebPDecodeRGBA=function(x,k,M,W,ae){var oe=gy,le=new Zl,fe=new Cr;le.ba=fe,fe.S=oe,fe.width=[fe.width],fe.height=[fe.height];var de=fe.width,ve=fe.height,Ce=new pn;if(Ce==null||x==null)var ze=2;else t(Ce!=null),ze=yl(x,k,M,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(ze!=0?de=0:(de!=null&&(de[0]=Ce.width[0]),ve!=null&&(ve[0]=Ce.height[0]),de=1),de){fe.width=fe.width[0],fe.height=fe.height[0],W!=null&&(W[0]=fe.width),ae!=null&&(ae[0]=fe.height);e:{if(W=new bs,(ae=new fu).data=x,ae.w=k,ae.ha=M,ae.kd=1,k=[0],t(ae!=null),((x=yl(ae.data,ae.w,ae.ha,null,null,null,k,null,ae))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(t(le!=null),W.data=ae.data,W.w=ae.w+ae.offset,W.ha=ae.ha-ae.offset,W.put=Ee,W.ac=In,W.bc=bt,W.ma=le,ae.xa){if((x=Ge())==null){le=1;break e}if(function(qe,Re){var lt=[0],Ze=[0],Pe=[0];t:for(;;){if(qe==null)return 0;if(Re==null)return qe.a=2,0;if(qe.l=Re,qe.a=0,q(qe.m,Re.data,Re.w,Re.ha),!Ye(qe.m,lt,Ze,Pe)){qe.a=3;break t}if(qe.xb=EP,Re.width=lt[0],Re.height=Ze[0],!Ve(lt[0],Ze[0],1,qe,null))break t;return 1}return t(qe.a!=0),0}(x,W)){if(W=(k=Nd(W.width,W.height,le.Oa,le.ba))==0){t:{W=x;r:for(;;){if(W==null){W=0;break t}if(t(W.s.yc!=null),t(W.s.Ya!=null),t(0<W.s.Wb),t((M=W.l)!=null),t((ae=M.ma)!=null),W.xb!=0){if(W.ca=ae.ba,W.tb=ae.tb,t(W.ca!=null),!dm(ae.Oa,M,vy)){W.a=2;break r}if(!Ue(W,M.width)||M.da)break r;if((M.da||Pt(W.ca.S))&&Le(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&Le()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!_e(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!we(W,W.V,W.Ba,W.c,W.i,M.o,xe))break r;ae.Dc=W.Ma,W=1;break t}t(W.a!=0),W=0}W=!W}W&&(k=x.a)}else k=x.a}else{if((x=new Wa)==null){le=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,qf(x,W)){if((k=Nd(W.width,W.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((ae=x)!=null),M!=null){if(0<(de=0>(de=M.Md)?0:100<de?255:255*de/100)){for(ve=Ce=0;4>ve;++ve)12>(ze=ae.pb[ve]).lc&&(ze.ia=de*oY[0>ze.lc?0:ze.lc]>>3),Ce|=ze.ia;Ce&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}wd(x,W)||(k=x.a)}}else k=x.a}k==0&&le.Oa!=null&&le.Oa.fd&&(k=pm(le.ba))}le=k}oe=le!=0?null:11>oe?fe.f.RGBA.eb:fe.f.kb.y}else oe=null;return oe};var jP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(A,b){for(var O="",T=0;T<4;T++)O+=String.fromCharCode(A[b++]);return O}function u(A,b){return(A[b+0]<<0|A[b+1]<<8|A[b+2]<<16)>>>0}function f(A,b){return(A[b+0]<<0|A[b+1]<<8|A[b+2]<<16|A[b+3]<<24)>>>0}new l;var h=[0],d=[0],g=[],m=new l,v=e,y=function(A,b){var O={},T=0,N=!1,j=0,K=0;if(O.frames=[],!function(R,V,G,Y){for(var se=0;se<Y;se++)if(R[V+se]!=G.charCodeAt(se))return!0;return!1}(A,b,"RIFF",4)){for(f(A,b+=4),b+=8;b<A.length;){var J=c(A,b),X=f(A,b+=4);b+=4;var Z=X+(1&X);switch(J){case"VP8 ":case"VP8L":O.frames[T]===void 0&&(O.frames[T]={}),(te=O.frames[T]).src_off=N?K:b-8,te.src_size=j+X+8,T++,N&&(N=!1,j=0,K=0);break;case"VP8X":(te=O.header={}).feature_flags=A[b];var q=b+4;te.canvas_width=1+u(A,q),q+=3,te.canvas_height=1+u(A,q),q+=3;break;case"ALPH":N=!0,j=Z+8,K=b-8;break;case"ANIM":(te=O.header).bgcolor=f(A,b),q=b+4,te.loop_count=(z=A)[(C=q)+0]<<0|z[C+1]<<8,q+=2;break;case"ANMF":var U,te;(te=O.frames[T]={}).offset_x=2*u(A,b),b+=3,te.offset_y=2*u(A,b),b+=3,te.width=1+u(A,b),b+=3,te.height=1+u(A,b),b+=3,te.duration=u(A,b),b+=3,U=A[b++],te.dispose=1&U,te.blend=U>>1&1}J!="ANMF"&&(b+=Z)}var z,C;return O}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,_=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],d=[w.canvas_width];for(var I=0;I<_.length&&_[I].blend!=0;I++);}var P=_[0],D=m.WebPDecodeRGBA(v,P.src_off,P.src_size,d,h);P.rgba=D,P.imgwidth=d[0],P.imgheight=h[0];for(var E=0;E<d[0]*h[0]*4;E++)g[E]=D[E];return this.width=d,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof LT=="function"},r=function(h,d,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,d,g,y);var w=LT(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(w)},n=function(h,d,g,m){for(var v,y,w,_=h.length/d,I=new Uint8Array(h.length+_),P=u(),D=0;D<_;D+=1){if(w=D*d,v=h.subarray(w,w+d),m)I.set(m(v,g,y),w+D);else{for(var E,A=P.length,b=[];E<A;E+=1)b[E]=P[E](v,g,y);var O=f(b.concat());I.set(b[O],w+D)}y=v}return I},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-d]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,d,g){var m,v=[],y=h.length;v[0]=2;for(var w=0;w<y;w+=1)m=g&&g[w]||0,v[w+1]=h[w]-m+256&255;return v},o=function(h,d,g){var m,v,y=[],w=h.length;y[0]=3;for(var _=0;_<w;_+=1)m=h[_-d]||0,v=g&&g[_]||0,y[_+1]=h[_]+256-(m+v>>>1)&255;return y},l=function(h,d,g){var m,v,y,w,_=[],I=h.length;_[0]=4;for(var P=0;P<I;P+=1)m=h[P-d]||0,v=g&&g[P]||0,y=g&&g[P-d]||0,w=c(m,v,y),_[P+1]=h[P]-w+256&255;return _},c=function(h,d,g){if(h===d&&d===g)return h;var m=Math.abs(d-g),v=Math.abs(h-g),y=Math.abs(h+d-g-g);return m<=v&&m<=y?h:v<=y?d:g},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,g,m){var v,y,w,_,I,P,D,E,A,b,O,T,N,j,K,J=this.decode.FLATE_DECODE,X="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new Txe(h)).imgData,y=w.bits,v=w.colorSpace,I=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){A=(E=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,O=new Uint8Array(A*w.colors),b=new Uint8Array(A);var Z,q=w.pixelBitlength-w.bits;for(j=0,K=0;j<A;j++){for(N=E[j],Z=0;Z<q;)O[K++]=N>>>Z&255,Z+=w.bits;b[j]=N>>>Z&255}}if(w.bits===16){A=(E=new Uint32Array(w.decodePixels().buffer)).length,O=new Uint8Array(A*(32/w.pixelBitlength)*w.colors),b=new Uint8Array(A*(32/w.pixelBitlength)),T=w.colors>1,j=0,K=0;for(var U=0;j<A;)N=E[j++],O[K++]=N>>>0&255,T&&(O[K++]=N>>>16&255,N=E[j++],O[K++]=N>>>0&255),b[U++]=N>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(O,w.width*w.colors,w.colors,m),D=r(b,w.width,1,m)):(h=O,D=b,J=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,z=0;for(j=0,A=te.length;j<A;++j)z+=te[j];if((z/=255)===A-1&&te.indexOf(0)!==-1)_=[te.indexOf(0)];else if(z!==A){for(E=w.decodePixels(),b=new Uint8Array(E.length),j=0,A=E.length;j<A;j++)b[j]=te[E[j]];D=r(b,w.width,1)}}var C=function(R){var V;switch(R){case e.image_compression.FAST:V=11;break;case e.image_compression.MEDIUM:V=13;break;case e.image_compression.SLOW:V=14;break;default:V=12}return V}(m);return J===this.decode.FLATE_DECODE&&(X="/Predictor "+C+" "),X+="/Colors "+I+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:g,data:h,index:d,filter:J,decodeParameters:X,transparency:_,palette:P,sMask:D,predictor:C,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:v}}}})(Zt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new Exe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new KS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(Zt.API),$o.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},$o.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){vn.log("bit decode error:"+r)}},$o.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},$o.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},$o.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},$o.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},$o.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},$o.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},$o.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},$o.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new $o(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new KS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Zt.API),Tj.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Tj(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new KS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(Zt.API),Zt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Zt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Wd=Zt.API,wx=Wd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Kr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},wj=Wd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Wd.processArabic&&(e=Wd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:wx.apply(this,arguments).reduce(function(i,s){return i+s},0)},_j=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},Sj=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,g=0,m=e.split(" "),v=wx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),w=[];m.map(function(I){(I=I.split(/\s*\n/)).length>1?w=w.concat(I.map(function(P,D){return(D&&P.length?`
`:"")+P})):w.push(I[0])}),m=w,l=wj.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var _=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),h+d+(g=(a=wx.apply(this,[n,r])).reduce(function(I,P){return I+P},0))>t||_){if(g>t){for(o=_j.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(I,P){return I+P},0)}else u=[n];f.push(u),h=g+l,d=v}else u.push(n),h+=d+g,d=v}return c=l?function(I,P){return(P?y:"")+I.join(" ")}:function(I){return I.join(" ")},f.map(c)},Wd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Sj.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=i(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Kr(h)!=="object")throw new Error("Don't know what to do with value type "+Kr(h)+".");g=s(h)}v.push(d+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,g,m,v={},y=1,w=v,_=[],I="",P="",D=f.length-1,E=1;E<D;E+=1)(m=f[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(_.push([w,g]),w={},g=void 0):m=="}"?((d=_.pop())[0][d[1]]=w,g=void 0,w=d[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(I+=r[m],g=parseInt(I,16)*y,y=1,I=""):I+=m:r.hasOwnProperty(m)?(P+=r[m],w[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(Zt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Vg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(Zt),function(e){function t(){return(er.canvg?Promise.resolve(er.canvg):PT(()=>import("./index.es-CS5DgI8d.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Zt.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),Zt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Zt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Kr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(Zt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,g){return d-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<h.length;g++)d+=String.fromCharCode(h[g]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+t0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+t0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+t0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+t0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+t0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,g=f.fonts,m=d,v="",y=0,w="",_=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(w=o,m=d,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),s||w[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=w[y]:v+="";var I="";return parseInt(m.slice(1))<14||_==="WinAnsiEncoding"?I=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(I=r(v,g[m])),f.isHex=!0,{text:I,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(Zt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Zt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var I=function(T){var N=T.charCodeAt(),j=N>>8,K=m[j];return K!==void 0?f[256*K+(255&N)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},P=function(T){for(var N,j=0;j<T.length;j++){if((N=I(T.charAt(j)))==="L")return!1;if(N==="R")return!0}return!1},D=function(T,N,j,K){var J,X,Z,q,U=N[K];switch(U){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(U="AN");break;case"AL":w=!0,U="R";break;case"WS":U="N";break;case"CS":K<1||K+1>=N.length||(J=j[K-1])!=="EN"&&J!=="AN"||(X=N[K+1])!=="EN"&&X!=="AN"?U="N":w&&(X="AN"),U=X===J?X:"N";break;case"ES":U=(J=K>0?j[K-1]:"B")==="EN"&&K+1<N.length&&N[K+1]==="EN"?"EN":"N";break;case"ET":if(K>0&&j[K-1]==="EN"){U="EN";break}if(w){U="N";break}for(Z=K+1,q=N.length;Z<q&&N[Z]==="ET";)Z++;U=Z<q&&N[Z]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(q=N.length,Z=K+1;Z<q&&N[Z]==="NSM";)Z++;if(Z<q){var te=T[K],z=te>=1425&&te<=2303||te===64286;if(J=N[Z],z&&(J==="R"||J==="AL")){U="R";break}}}U=K<1||(J=N[K-1])==="B"?"N":j[K-1];break;case"B":w=!1,a=!0,U=_;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":U="N"}return U},E=function(T,N,j){var K=T.split("");return j&&A(K,j,{hiLevel:_}),K.reverse(),N&&N.reverse(),K.join("")},A=function(T,N,j){var K,J,X,Z,q,U=-1,te=T.length,z=0,C=[],R=_?d:h,V=[];for(w=!1,a=!1,i=!1,J=0;J<te;J++)V[J]=I(T[J]);for(X=0;X<te;X++){if(q=z,C[X]=D(T,V,C,X),K=240&(z=R[q][g[C[X]]]),z&=15,N[X]=Z=R[z][5],K>0)if(K===16){for(J=U;J<X;J++)N[J]=1;U=-1}else U=-1;if(R[z][6])U===-1&&(U=X);else if(U>-1){for(J=U;J<X;J++)N[J]=Z;U=-1}V[X]==="B"&&(N[X]=0),j.hiLevel|=Z}i&&function(G,Y,se){for(var ce=0;ce<se;ce++)if(G[ce]==="S"){Y[ce]=_;for(var re=ce-1;re>=0&&G[re]==="WS";re--)Y[re]=_}}(V,N,te)},b=function(T,N,j,K,J){if(!(J.hiLevel<T)){if(T===1&&_===1&&!a)return N.reverse(),void(j&&j.reverse());for(var X,Z,q,U,te=N.length,z=0;z<te;){if(K[z]>=T){for(q=z+1;q<te&&K[q]>=T;)q++;for(U=z,Z=q-1;U<Z;U++,Z--)X=N[U],N[U]=N[Z],N[Z]=X,j&&(X=j[U],j[U]=j[Z],j[Z]=X);z=q}z++}}},O=function(T,N,j){var K=T.split(""),J={hiLevel:_};return j||(j=[]),A(K,j,J),function(X,Z,q){if(q.hiLevel!==0&&u)for(var U,te=0;te<X.length;te++)Z[te]===1&&(U=v.indexOf(X[te]))>=0&&(X[te]=v[U+1])}(K,j,J),b(2,K,N,j,J),b(1,K,N,j,J),K.join("")};return this.__bidiEngine__.doBidiReorder=function(T,N,j){if(function(J,X){if(X)for(var Z=0;Z<J.length;Z++)X[Z]=Z;o===void 0&&(o=P(J)),c===void 0&&(c=P(J))}(T,N),s||!l||c)if(s&&l&&o^c)_=o?1:0,T=E(T,N,j);else if(!s&&l&&c)_=o?1:0,T=O(T,N,j),T=E(T,N);else if(!s||o||l||c){if(s&&!l&&o^c)T=E(T,N),o?(_=0,T=O(T,N,j)):(_=1,T=O(T,N,j),T=E(T,N));else if(s&&o&&!l&&c)_=1,T=O(T,N,j),T=E(T,N);else if(!s&&!l&&o^c){var K=u;o?(_=1,T=O(T,N,j),_=0,u=!1,T=O(T,N,j),u=K):(_=0,T=O(T,N,j),T=E(T,N),_=1,u=!1,T=O(T,N,j),u=K,T=E(T,N))}}else _=0,T=O(T,N,j);else _=o?1:0,T=O(T,N,j);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Zt),Zt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Cf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Vxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kxe(this.contents),this.head=new Cxe(this),this.name=new jxe(this),this.cmap=new Gq(this),this.toUnicode={},this.hhea=new Pxe(this),this.maxp=new Lxe(this),this.hmtx=new Mxe(this),this.post=new Ixe(this),this.os2=new Oxe(this),this.loca=new Bxe(this),this.glyf=new Rxe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ul,Cf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),kxe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,g,m;for(m in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new Cf).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Kq.call(r);r.length%4;)r.push(0);for(i=new Cf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),Nxe={}.hasOwnProperty,Hl=function(e,t){for(var r in t)Nxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ul=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Cxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Cf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),Ej=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,w,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var I,P;for(P=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var I,P;for(P=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)P.push(t.readUInt16());return P}(),c=function(){var I,P;for(P=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)P.push(t.readUInt16());return P}(),u=function(){var I,P;for(P=[],l=I=0;0<=h?I<h:I>h;l=0<=h?++I:--I)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var I,P;for(P=[],l=I=0;0<=a?I<a:I>a;l=0<=a?++I:--I)P.push(t.readUInt16());return P}(),l=y=0,_=i.length;y<_;l=++y)for(v=i[l],n=w=g=m[l];g<=v?w<=v:w>=v;n=g<=v?++w:--w)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,w,_,I,P,D,E,A,b,O,T,N,j,K,J,X,Z,q,U,te,z,C,R,V,G,Y,se,ce,re,he,be,B;switch(K=new Cf,s=Object.keys(t).sort(function(Te,_e){return Te-_e}),r){case"macroman":for(m=0,v=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),w={0:0},i={},J=0,U=s.length;J<U;J++)w[re=t[a=s[J]]]==null&&(w[re]=++m),i[a]={old:t[a],new:w[t[a]]},v[a]=w[t[a]];return K.writeUInt16(1),K.writeUInt16(0),K.writeUInt32(12),K.writeUInt16(0),K.writeUInt16(262),K.writeUInt16(0),K.write(v),{charMap:i,subtable:K.data,maxGlyphID:m+1};case"unicode":for(N=[],f=[],_=0,w={},n={},y=c=null,X=0,te=s.length;X<te;X++)w[P=t[a=s[X]]]==null&&(w[P]=++_),n[a]={old:P,new:w[P]},o=w[P]-a,y!=null&&o===c||(y&&f.push(y),N.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),N.push(65535),O=2*(b=N.length),A=2*Math.pow(Math.log(b)/Math.LN2,2),h=Math.log(A/2)/Math.LN2,E=2*b-A,l=[],D=[],d=[],g=Z=0,z=N.length;Z<z;g=++Z){if(T=N[g],u=f[g],T===65535){l.push(0),D.push(0);break}if(T-(j=n[T].new)>=32768)for(l.push(0),D.push(2*(d.length+b-g)),a=q=T;T<=u?q<=u:q>=u;a=T<=u?++q:--q)d.push(n[a].new);else l.push(j-T),D.push(0)}for(K.writeUInt16(3),K.writeUInt16(1),K.writeUInt32(12),K.writeUInt16(4),K.writeUInt16(16+8*b+2*d.length),K.writeUInt16(0),K.writeUInt16(O),K.writeUInt16(A),K.writeUInt16(h),K.writeUInt16(E),se=0,C=f.length;se<C;se++)a=f[se],K.writeUInt16(a);for(K.writeUInt16(0),ce=0,R=N.length;ce<R;ce++)a=N[ce],K.writeUInt16(a);for(he=0,V=l.length;he<V;he++)o=l[he],K.writeUInt16(o);for(be=0,G=D.length;be<G;be++)I=D[be],K.writeUInt16(I);for(B=0,Y=d.length;B<Y;B++)m=d[B],K.writeUInt16(m);return{charMap:n,subtable:K.data,maxGlyphID:_+1}}},e}(),Gq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Ej(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Ej.encode(r,n),(i=new Cf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Pxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Oxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),Ixe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),Dxe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},jxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new Dxe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Lxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Mxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Kq=[].slice,Rxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Cf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new $xe(l,u,h,c,f):new Fxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),Fxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),$xe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Cf(Kq.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Bxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Vxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y;for(a in n=Gq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=n.charMap)d[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in d||(d[g]=h++);return u=function(w){var _,I;for(_ in I={},w)I[w[_]]=_;return I}(d),f=Object.keys(u).sort(function(w,_){return w-_}),m=function(){var w,_,I;for(I=[],w=0,_=f.length;w<_;w++)o=f[w],I.push(u[o]);return I}(),i=this.font.glyf.encode(s,m,d),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();Zt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Yq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var kj={},$0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:kj=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return kj||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),UT=function(e,t){return UT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},UT(e,t)};function Xq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");UT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Qq=function(e){Xq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Uxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function zxe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Eb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function Jq(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Zq(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Zq(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function _5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function eW(e,t){var r=_5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function qxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=YS(t,function(_){return a.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var l=YS(t,function(_){return a.getComputedStyle(_).color});l!=null&&(i.textColor=l);var c=Hxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=YS(t,function(_){return a.getComputedStyle(_)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Wxe(n);y&&(i.fontStyle=y);var w=(n.fontFamily||"").toLowerCase();return e.indexOf(w)!==-1&&(i.font=w),i}function Wxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function YS(e,t){var r=tW(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function tW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:tW(e.parentElement,t):r}function Hxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=_5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function rW(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var g=o.rows[d],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Gxe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Gxe(e,t,r,n,a,i){for(var s=new Qq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=qxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Kxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Kxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Yxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function mc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function nW(e,t){var r=new $0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Yxe(a,n,t);var i=mc({},a,n,t),s;typeof window<"u"&&(s=window);var o=Xxe(a,n,t),l=Qxe(a,n,t),c=Jxe(r,i),u=e2e(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function Xxe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=mc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(g){return g[l]||{}});n[l]=mc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Qxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Jxe(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g=_5(t.margin,40/e.scaleFactor()),m=(r=Zxe(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(w?"plain":"striped"),I=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:w,theme:_,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:I,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function Zxe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function e2e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=rW(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||t2e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function t2e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var zT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),r2e=function(e){Xq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(zT),n2e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new r2e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new zT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new zT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),aW=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Qq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),iW=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=_5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),a2e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function i2e(e,t){s2e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=qT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=qT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),l2e(t),c2e(t,e),o2e(t)}function s2e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=eW(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Eb(c.text,c.styles,e)+f;var h=Eb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function qT(e,t,r){for(var n=t,a=e.reduce(function(d,g){return d+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=qT(h,t,r))}return t}function o2e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function l2e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function c2e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Nj(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Nj(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function Nj(e,t,r,n,a){return e.map(function(i){return u2e(i,t,r,n,a)})}function u2e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Eb(e,r,n))return e;for(;t<Eb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function sW(e,t){var r=new $0(e),n=f2e(t,r.scaleFactor()),a=new n2e(t,n);return i2e(r,a),r.applyStyles(r.userStyles),a}function f2e(e,t){var r=e.content,n=d2e(r.columns);if(r.head.length===0){var a=Cj(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Cj(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:XS("head",r.head,n,s,i,t),body:XS("body",r.body,n,s,i,t),foot:XS("foot",r.foot,n,s,i,t)}}function XS(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(d===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var w={};typeof y=="object"&&!Array.isArray(y)&&(w=(y==null?void 0:y.styles)||{});var _=p2e(e,v,c,a,n,i,w),I=new iW(y,_,e);f[v.dataKey]=I,f[v.index]=I,d=I.colSpan-1,s[v.index]={left:I.rowSpan-1,times:d}}else d--,h++;else s[v.index].left--,d=s[v.index].times,u++}return new aW(l,c,e,f)});return o}function Cj(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=h2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function h2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function d2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new a2e(a,t,r)})}function p2e(e,t,r,n,a,i,s){var o=zxe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=mc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?mc({},o.alternateRow,a.alternateRowStyles):{},d=Uxe(i),g=mc({},d,c,h,f);return mc(g,s)}function m2e(e,t,r){var n;r===void 0&&(r={});var a=eW(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(g){return g.dataKey===h||g.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function g2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=m2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function oW(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new $0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(cW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=mc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?v2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return $c(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var g=d===t.body.length-1;kb(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return $c(u,t,h,i,t.columns)})),Jq(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function v2e(e,t,r,n){var a=g2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Ug(e,t,r,n,c.columns,!0):Pj(e,t,n,c.columns),y2e(e,t,r,n,c.columns),QS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Ug(e,t,r,n,u,!0):Pj(e,t,n,u),c=Oj(e,t,s+1,n,u),QS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Ug(e,t,r,n,h.columns,!0),Oj(e,t,s+1,n,h.columns,f),QS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function Pj(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return $c(e,t,i,r,n)})}function y2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;kb(e,t,i,o,r,n,a)})}function Oj(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=lW(e,t,u,n);l.canEntireRowFit(f,a)&&($c(e,t,l,n,a),o=r+c)}),o}function QS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return $c(e,t,i,r,n)})}function x2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function b2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new iW(c.raw,c.styles,c.section);u=mc(u,c),u.text=[];var f=x2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new aW(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function w2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function kb(e,t,r,n,a,i,s){var o=lW(e,t,n,i);if(r.canEntireRowFit(o,s))$c(e,t,r,i,s);else if(w2e(e,r,o,t)){var l=b2e(r,o,t,e);$c(e,t,r,i,s),Ug(e,t,a,i,s),kb(e,t,l,n,a,i,s)}else Ug(e,t,a,i,s),kb(e,t,r,n,a,i,s)}function $c(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}_2e(e,l,n);var u=l.getTextPos();Yq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function _2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Zq(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),S2e(e,t,r,n.lineWidth))}function S2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function lW(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Ug(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return $c(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;Jq(e,t,r,n),cW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return $c(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function cW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function A2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=nW(this,n),i=sW(this,a);return oW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Yq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return $0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){$0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new $0(this),i=rW(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var JS;function T2e(e,t){var r=nW(e,t),n=sW(e,r);oW(e,n)}try{if(typeof window<"u"&&window){var Ij=window,Dj=Ij.jsPDF||((JS=Ij.jspdf)===null||JS===void 0?void 0:JS.jsPDF);Dj&&A2e(Dj)}}catch(e){console.error("Could not apply autoTable plugin",e)}const E2e=()=>{const[e,t]=H.useState([]),[r,n]=H.useState(!0),[a,i]=H.useState(new Date),[s,o]=H.useState(new Date),[l,c]=H.useState("all"),[u,f]=H.useState("all"),[h,d]=H.useState(""),[g,m]=H.useState([]),{showToast:v}=Kc(),{isDarkMode:y}=Xr(),{user:w}=xa(),_=async()=>{try{const T=(await ur(Et(at,"users"))).docs.map(N=>({id:N.id,...N.data()}));m(T)}catch(O){console.error("Error fetching users:",O),v("Failed to fetch users","error")}},I=async()=>{n(!0);try{let O=sr(Et(at,"activityLogs"),$a("time","desc"));a&&s?O=sr(Et(at,"activityLogs"),lr("time",">=",lb(a).toISOString()),lr("time","<=",jv(s).toISOString()),$a("time","desc")):a?O=sr(Et(at,"activityLogs"),lr("time",">=",lb(a).toISOString()),$a("time","desc")):s&&(O=sr(Et(at,"activityLogs"),lr("time","<=",jv(s).toISOString()),$a("time","desc")));let N=(await ur(O)).docs.map(j=>({id:j.id,user:j.data().user,role:j.data().role,detail:j.data().detail,time:j.data().time}));if(w&&w.role==="staff"&&(N=N.filter(j=>j.role!=="admin")),l!=="all"&&(N=N.filter(j=>j.user===l)),u!=="all"&&(N=N.filter(j=>{const K=j.detail.toLowerCase();return u==="inbound"?K.includes("added new product")||K.includes("edited product")||K.includes("quantity from")||K.includes("quantity to"):u==="outbound"?K.includes("units deducted from stock")||K.includes("deducted from stock"):!0})),h.trim()){const j=h.toLowerCase();N=N.filter(K=>{const J=K.detail.toLowerCase(),X=K.user.toLowerCase(),Z=K.role.toLowerCase(),q=J.match(/"([^"]+)"/),U=q?q[1].toLowerCase():"";return J.includes(j)||X.includes(j)||Z.includes(j)||U.includes(j)})}t(N)}catch(O){console.error("Error fetching activity logs:",O),v("Failed to fetch activity logs","error")}finally{n(!1)}};H.useEffect(()=>{_()},[]),H.useEffect(()=>{I()},[a,s,l,u,h,w]);const P=()=>{let O=g;return w&&w.role==="staff"&&(O=g.filter(T=>T.role!=="admin")),[{value:"all",label:"All Users"},...O.map(T=>({value:T.name,label:T.name}))]},D=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],E=()=>{i(null),o(null)},A=()=>{try{const T=[["User","Role","Activity","Time"].join(","),...e.map(J=>[J.user,J.role,`"${J.detail.replace(/"/g,'""')}"`,Wt(new Date(J.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),N=new Blob([T],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),K=URL.createObjectURL(N);j.setAttribute("href",K),j.setAttribute("download",`activity_logs_${Wt(new Date,"yyyy-MM-dd")}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(O){console.error("Error exporting to CSV:",O),v("Failed to export to CSV","error")}},b=()=>{var O,T;try{const N=new Zt;N.setFontSize(16),N.text("Activity Logs Report",14,15),N.setFontSize(10);const j=a&&s?`${Wt(a,"MMM d, yyyy")} - ${Wt(s,"MMM d, yyyy")}`:a?`From ${Wt(a,"MMM d, yyyy")}`:s?`To ${Wt(s,"MMM d, yyyy")}`:"All Time";N.text(`Date Range: ${j}`,14,25),N.text(`User Filter: ${(O=P().find(K=>K.value===l))==null?void 0:O.label}`,14,30),N.text(`Activity Filter: ${(T=D.find(K=>K.value===u))==null?void 0:T.label}`,14,35),T2e(N,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(K=>[K.user,K.role,K.detail,Wt(new Date(K.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),N.save(`activity_logs_${Wt(new Date,"yyyy-MM-dd")}.pdf`)}catch(N){console.error("Error exporting to PDF:",N),v("Failed to export to PDF","error")}};return p.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:p.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),p.jsxs("button",{onClick:b,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:p.jsx(wt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:O=>d(O.target.value),className:"w-full sm:w-96",icon:p.jsx(yf,{size:16})})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[p.jsx($r,{value:l,onChange:O=>c(O.target.value),options:P(),className:"w-full sm:w-40"}),p.jsx($r,{value:u,onChange:O=>f(O.target.value),options:D,className:"w-full sm:w-40"}),p.jsx(fC,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:E,className:"w-full sm:w-80"}),p.jsx(dt,{variant:"secondary",onClick:I,className:"flex items-center gap-2 w-full sm:w-auto",children:p.jsx(Ls,{size:16})})]})]}),r?p.jsx("div",{className:"flex justify-center items-center h-32",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:p.jsx(zV,{children:e.map(O=>p.jsxs(Gn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:O.user}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:O.role}),p.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:O.detail}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(O.time),"MMM d, yyyy h:mm:ss a")})]},O.id))})})]})}),p.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(O=>p.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:O.user}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:O.role})]}),p.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[p.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),p.jsx("span",{className:"text-sm",children:O.detail})]}),p.jsx("div",{className:"text-xs mt-1",children:p.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",p.jsx("span",{className:"font-medium",children:Wt(new Date(O.time),"MMM d, yyyy h:mm:ss a")})]})})]},O.id))})]}):p.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function uW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=uW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function qr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=uW(e))&&(n&&(n+=" "),n+=t);return n}var k2e=Array.isArray,ys=k2e,N2e=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,fW=N2e,C2e=fW,P2e=typeof self=="object"&&self&&self.Object===Object&&self,O2e=C2e||P2e||Function("return this")(),Gl=O2e,I2e=Gl,D2e=I2e.Symbol,Z1=D2e,jj=Z1,hW=Object.prototype,j2e=hW.hasOwnProperty,L2e=hW.toString,Vm=jj?jj.toStringTag:void 0;function M2e(e){var t=j2e.call(e,Vm),r=e[Vm];try{e[Vm]=void 0;var n=!0}catch{}var a=L2e.call(e);return n&&(t?e[Vm]=r:delete e[Vm]),a}var R2e=M2e,F2e=Object.prototype,$2e=F2e.toString;function B2e(e){return $2e.call(e)}var V2e=B2e,Lj=Z1,U2e=R2e,z2e=V2e,q2e="[object Null]",W2e="[object Undefined]",Mj=Lj?Lj.toStringTag:void 0;function H2e(e){return e==null?e===void 0?W2e:q2e:Mj&&Mj in Object(e)?U2e(e):z2e(e)}var Xc=H2e;function G2e(e){return e!=null&&typeof e=="object"}var Qc=G2e,K2e=Xc,Y2e=Qc,X2e="[object Symbol]";function Q2e(e){return typeof e=="symbol"||Y2e(e)&&K2e(e)==X2e}var Jp=Q2e,J2e=ys,Z2e=Jp,ebe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tbe=/^\w*$/;function rbe(e,t){if(J2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Z2e(e)?!0:tbe.test(e)||!ebe.test(e)||t!=null&&e in Object(t)}var mC=rbe;function nbe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ff=nbe;const Zp=dn(Ff);var abe=Xc,ibe=Ff,sbe="[object AsyncFunction]",obe="[object Function]",lbe="[object GeneratorFunction]",cbe="[object Proxy]";function ube(e){if(!ibe(e))return!1;var t=abe(e);return t==obe||t==lbe||t==sbe||t==cbe}var gC=ube;const wr=dn(gC);var fbe=Gl,hbe=fbe["__core-js_shared__"],dbe=hbe,ZS=dbe,Rj=function(){var e=/[^.]+$/.exec(ZS&&ZS.keys&&ZS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function pbe(e){return!!Rj&&Rj in e}var mbe=pbe,gbe=Function.prototype,vbe=gbe.toString;function ybe(e){if(e!=null){try{return vbe.call(e)}catch{}try{return e+""}catch{}}return""}var dW=ybe,xbe=gC,bbe=mbe,wbe=Ff,_be=dW,Sbe=/[\\^$.*+?()[\]{}|]/g,Abe=/^\[object .+?Constructor\]$/,Tbe=Function.prototype,Ebe=Object.prototype,kbe=Tbe.toString,Nbe=Ebe.hasOwnProperty,Cbe=RegExp("^"+kbe.call(Nbe).replace(Sbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pbe(e){if(!wbe(e)||bbe(e))return!1;var t=xbe(e)?Cbe:Abe;return t.test(_be(e))}var Obe=Pbe;function Ibe(e,t){return e==null?void 0:e[t]}var Dbe=Ibe,jbe=Obe,Lbe=Dbe;function Mbe(e,t){var r=Lbe(e,t);return jbe(r)?r:void 0}var gd=Mbe,Rbe=gd,Fbe=Rbe(Object,"create"),S5=Fbe,Fj=S5;function $be(){this.__data__=Fj?Fj(null):{},this.size=0}var Bbe=$be;function Vbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ube=Vbe,zbe=S5,qbe="__lodash_hash_undefined__",Wbe=Object.prototype,Hbe=Wbe.hasOwnProperty;function Gbe(e){var t=this.__data__;if(zbe){var r=t[e];return r===qbe?void 0:r}return Hbe.call(t,e)?t[e]:void 0}var Kbe=Gbe,Ybe=S5,Xbe=Object.prototype,Qbe=Xbe.hasOwnProperty;function Jbe(e){var t=this.__data__;return Ybe?t[e]!==void 0:Qbe.call(t,e)}var Zbe=Jbe,ewe=S5,twe="__lodash_hash_undefined__";function rwe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ewe&&t===void 0?twe:t,this}var nwe=rwe,awe=Bbe,iwe=Ube,swe=Kbe,owe=Zbe,lwe=nwe;function em(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}em.prototype.clear=awe;em.prototype.delete=iwe;em.prototype.get=swe;em.prototype.has=owe;em.prototype.set=lwe;var cwe=em;function uwe(){this.__data__=[],this.size=0}var fwe=uwe;function hwe(e,t){return e===t||e!==e&&t!==t}var vC=hwe,dwe=vC;function pwe(e,t){for(var r=e.length;r--;)if(dwe(e[r][0],t))return r;return-1}var A5=pwe,mwe=A5,gwe=Array.prototype,vwe=gwe.splice;function ywe(e){var t=this.__data__,r=mwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():vwe.call(t,r,1),--this.size,!0}var xwe=ywe,bwe=A5;function wwe(e){var t=this.__data__,r=bwe(t,e);return r<0?void 0:t[r][1]}var _we=wwe,Swe=A5;function Awe(e){return Swe(this.__data__,e)>-1}var Twe=Awe,Ewe=A5;function kwe(e,t){var r=this.__data__,n=Ewe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Nwe=kwe,Cwe=fwe,Pwe=xwe,Owe=_we,Iwe=Twe,Dwe=Nwe;function tm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tm.prototype.clear=Cwe;tm.prototype.delete=Pwe;tm.prototype.get=Owe;tm.prototype.has=Iwe;tm.prototype.set=Dwe;var T5=tm,jwe=gd,Lwe=Gl,Mwe=jwe(Lwe,"Map"),yC=Mwe,$j=cwe,Rwe=T5,Fwe=yC;function $we(){this.size=0,this.__data__={hash:new $j,map:new(Fwe||Rwe),string:new $j}}var Bwe=$we;function Vwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Uwe=Vwe,zwe=Uwe;function qwe(e,t){var r=e.__data__;return zwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var E5=qwe,Wwe=E5;function Hwe(e){var t=Wwe(this,e).delete(e);return this.size-=t?1:0,t}var Gwe=Hwe,Kwe=E5;function Ywe(e){return Kwe(this,e).get(e)}var Xwe=Ywe,Qwe=E5;function Jwe(e){return Qwe(this,e).has(e)}var Zwe=Jwe,e5e=E5;function t5e(e,t){var r=e5e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var r5e=t5e,n5e=Bwe,a5e=Gwe,i5e=Xwe,s5e=Zwe,o5e=r5e;function rm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rm.prototype.clear=n5e;rm.prototype.delete=a5e;rm.prototype.get=i5e;rm.prototype.has=s5e;rm.prototype.set=o5e;var xC=rm,pW=xC,l5e="Expected a function";function bC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(l5e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(bC.Cache||pW),r}bC.Cache=pW;var mW=bC;const c5e=dn(mW);var u5e=mW,f5e=500;function h5e(e){var t=u5e(e,function(n){return r.size===f5e&&r.clear(),n}),r=t.cache;return t}var d5e=h5e,p5e=d5e,m5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g5e=/\\(\\)?/g,v5e=p5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(m5e,function(r,n,a,i){t.push(a?i.replace(g5e,"$1"):n||r)}),t}),y5e=v5e;function x5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var wC=x5e,Bj=Z1,b5e=wC,w5e=ys,_5e=Jp,S5e=1/0,Vj=Bj?Bj.prototype:void 0,Uj=Vj?Vj.toString:void 0;function gW(e){if(typeof e=="string")return e;if(w5e(e))return b5e(e,gW)+"";if(_5e(e))return Uj?Uj.call(e):"";var t=e+"";return t=="0"&&1/e==-S5e?"-0":t}var A5e=gW,T5e=A5e;function E5e(e){return e==null?"":T5e(e)}var vW=E5e,k5e=ys,N5e=mC,C5e=y5e,P5e=vW;function O5e(e,t){return k5e(e)?e:N5e(e,t)?[e]:C5e(P5e(e))}var yW=O5e,I5e=Jp,D5e=1/0;function j5e(e){if(typeof e=="string"||I5e(e))return e;var t=e+"";return t=="0"&&1/e==-D5e?"-0":t}var k5=j5e,L5e=yW,M5e=k5;function R5e(e,t){t=L5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[M5e(t[r++])];return r&&r==n?e:void 0}var _C=R5e,F5e=_C;function $5e(e,t,r){var n=e==null?void 0:F5e(e,t);return n===void 0?r:n}var xW=$5e;const go=dn(xW);function B5e(e){return e==null}var V5e=B5e;const Nr=dn(V5e);var U5e=Xc,z5e=ys,q5e=Qc,W5e="[object String]";function H5e(e){return typeof e=="string"||!z5e(e)&&q5e(e)&&U5e(e)==W5e}var G5e=H5e;const Zh=dn(G5e);var bW={exports:{}},ln={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=Symbol.for("react.element"),AC=Symbol.for("react.portal"),N5=Symbol.for("react.fragment"),C5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),O5=Symbol.for("react.provider"),I5=Symbol.for("react.context"),K5e=Symbol.for("react.server_context"),D5=Symbol.for("react.forward_ref"),j5=Symbol.for("react.suspense"),L5=Symbol.for("react.suspense_list"),M5=Symbol.for("react.memo"),R5=Symbol.for("react.lazy"),Y5e=Symbol.for("react.offscreen"),wW;wW=Symbol.for("react.module.reference");function So(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case SC:switch(e=e.type,e){case N5:case P5:case C5:case j5:case L5:return e;default:switch(e=e&&e.$$typeof,e){case K5e:case I5:case D5:case R5:case M5:case O5:return e;default:return t}}case AC:return t}}}ln.ContextConsumer=I5;ln.ContextProvider=O5;ln.Element=SC;ln.ForwardRef=D5;ln.Fragment=N5;ln.Lazy=R5;ln.Memo=M5;ln.Portal=AC;ln.Profiler=P5;ln.StrictMode=C5;ln.Suspense=j5;ln.SuspenseList=L5;ln.isAsyncMode=function(){return!1};ln.isConcurrentMode=function(){return!1};ln.isContextConsumer=function(e){return So(e)===I5};ln.isContextProvider=function(e){return So(e)===O5};ln.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===SC};ln.isForwardRef=function(e){return So(e)===D5};ln.isFragment=function(e){return So(e)===N5};ln.isLazy=function(e){return So(e)===R5};ln.isMemo=function(e){return So(e)===M5};ln.isPortal=function(e){return So(e)===AC};ln.isProfiler=function(e){return So(e)===P5};ln.isStrictMode=function(e){return So(e)===C5};ln.isSuspense=function(e){return So(e)===j5};ln.isSuspenseList=function(e){return So(e)===L5};ln.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N5||e===P5||e===C5||e===j5||e===L5||e===Y5e||typeof e=="object"&&e!==null&&(e.$$typeof===R5||e.$$typeof===M5||e.$$typeof===O5||e.$$typeof===I5||e.$$typeof===D5||e.$$typeof===wW||e.getModuleId!==void 0)};ln.typeOf=So;bW.exports=ln;var X5e=bW.exports,Q5e=Xc,J5e=Qc,Z5e="[object Number]";function e_e(e){return typeof e=="number"||J5e(e)&&Q5e(e)==Z5e}var _W=e_e;const t_e=dn(_W);var r_e=_W;function n_e(e){return r_e(e)&&e!=+e}var a_e=n_e;const ey=dn(a_e);var el=function(t){return t===0?0:t>0?1:-1},Nh=function(t){return Zh(t)&&t.indexOf("%")===t.length-1},It=function(t){return t_e(t)&&!ey(t)},ka=function(t){return It(t)||Zh(t)},i_e=0,ty=function(t){var r=++i_e;return"".concat(t||"").concat(r)},ed=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!It(t)&&!Zh(t))return n;var i;if(Nh(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ey(i)&&(i=n),a&&i>r&&(i=r),i},Vu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},s_e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Yo=function(t,r){return It(t)&&It(r)?function(n){return t+n*(r-t)}:function(){return r}};function Nb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):go(n,t))===r})}var o_e=function(t,r){return It(t)&&It(r)?t-r:Zh(t)&&Zh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function B0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WT(e){"@babel/helpers - typeof";return WT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WT(e)}var l_e=["viewBox","children"],c_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],zj=["points","pathLength"],eA={svg:l_e,polygon:zj,polyline:zj},TC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(H.isValidElement(t)&&(n=t.props),!Zp(n))return null;var a={};return Object.keys(n).forEach(function(i){TC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},u_e=function(t,r,n){return function(a){return t(r,n,a),null}},Pb=function(t,r,n){if(!Zp(t)||WT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];TC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=u_e(s,r,n))}),a},f_e=["children"],h_e=["children"];function qj(e,t){if(e==null)return{};var r=d_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function d_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HT(e){"@babel/helpers - typeof";return HT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HT(e)}var Wj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_c=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Hj=null,tA=null,EC=function e(t){if(t===Hj&&Array.isArray(tA))return tA;var r=[];return H.Children.forEach(t,function(n){Nr(n)||(X5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tA=r,Hj=t,r};function vo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return _c(a)}):n=[_c(t)],EC(e).forEach(function(a){var i=go(a,"type.displayName")||go(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ps(e,t){var r=vo(e,t);return r&&r[0]}var Gj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!It(n)||n<=0||!It(a)||a<=0)},p_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],m_e=function(t){return t&&t.type&&Zh(t.type)&&p_e.indexOf(t.type)>=0},g_e=function(t){return t&&HT(t)==="object"&&"clipDot"in t},v_e=function(t,r,n,a){var i,s=(i=eA==null?void 0:eA[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!wr(t)&&(a&&s.includes(r)||c_e.includes(r))||n&&TC.includes(r)},Dr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(H.isValidElement(t)&&(a=t.props),!Zp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;v_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},GT=function e(t,r){if(t===r)return!0;var n=H.Children.count(t);if(n!==H.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Kj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Kj(i,s))return!1}return!0},Kj=function(t,r){if(Nr(t)&&Nr(r))return!0;if(!Nr(t)&&!Nr(r)){var n=t.props||{},a=n.children,i=qj(n,f_e),s=r.props||{},o=s.children,l=qj(s,h_e);return a&&o?B0(i,l)&&GT(a,o):!a&&!o?B0(i,l):!1}return!1},Yj=function(t,r){var n=[],a={};return EC(t).forEach(function(i,s){if(m_e(i))n.push(i);else if(i){var o=_c(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},y_e=function(t){var r=t&&t.type;return r&&Wj[r]?Wj[r]:null},x_e=function(t,r){return EC(r).indexOf(t)},b_e=["children","width","height","viewBox","className","style","title","desc"];function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function w_e(e,t){if(e==null)return{};var r=__e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function __e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=w_e(e,b_e),u=a||{width:r,height:n,x:0,y:0},f=qr("recharts-surface",i);return Ie.createElement("svg",KT({},Dr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ie.createElement("title",null,o),Ie.createElement("desc",null,l),t)}var S_e=["children","className"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function A_e(e,t){if(e==null)return{};var r=T_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function T_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var la=Ie.forwardRef(function(e,t){var r=e.children,n=e.className,a=A_e(e,S_e),i=qr("recharts-layer",n);return Ie.createElement("g",XT({className:i},Dr(a,!0),{ref:t}),r)}),Sc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function E_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var k_e=E_e,N_e=k_e;function C_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:N_e(e,t,r)}var P_e=C_e,O_e="\\ud800-\\udfff",I_e="\\u0300-\\u036f",D_e="\\ufe20-\\ufe2f",j_e="\\u20d0-\\u20ff",L_e=I_e+D_e+j_e,M_e="\\ufe0e\\ufe0f",R_e="\\u200d",F_e=RegExp("["+R_e+O_e+L_e+M_e+"]");function $_e(e){return F_e.test(e)}var SW=$_e;function B_e(e){return e.split("")}var V_e=B_e,AW="\\ud800-\\udfff",U_e="\\u0300-\\u036f",z_e="\\ufe20-\\ufe2f",q_e="\\u20d0-\\u20ff",W_e=U_e+z_e+q_e,H_e="\\ufe0e\\ufe0f",G_e="["+AW+"]",QT="["+W_e+"]",JT="\\ud83c[\\udffb-\\udfff]",K_e="(?:"+QT+"|"+JT+")",TW="[^"+AW+"]",EW="(?:\\ud83c[\\udde6-\\uddff]){2}",kW="[\\ud800-\\udbff][\\udc00-\\udfff]",Y_e="\\u200d",NW=K_e+"?",CW="["+H_e+"]?",X_e="(?:"+Y_e+"(?:"+[TW,EW,kW].join("|")+")"+CW+NW+")*",Q_e=CW+NW+X_e,J_e="(?:"+[TW+QT+"?",QT,EW,kW,G_e].join("|")+")",Z_e=RegExp(JT+"(?="+JT+")|"+J_e+Q_e,"g");function eSe(e){return e.match(Z_e)||[]}var tSe=eSe,rSe=V_e,nSe=SW,aSe=tSe;function iSe(e){return nSe(e)?aSe(e):rSe(e)}var sSe=iSe,oSe=P_e,lSe=SW,cSe=sSe,uSe=vW;function fSe(e){return function(t){t=uSe(t);var r=lSe(t)?cSe(t):void 0,n=r?r[0]:t.charAt(0),a=r?oSe(r,1).join(""):t.slice(1);return n[e]()+a}}var hSe=fSe,dSe=hSe,pSe=dSe("toUpperCase"),mSe=pSe;const F5=dn(mSe);function wn(e){return function(){return e}}const PW=Math.cos,Ob=Math.sin,fl=Math.sqrt,Ib=Math.PI,$5=2*Ib,ZT=Math.PI,eE=2*ZT,mh=1e-6,gSe=eE-mh;function OW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class ySe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OW:vSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>mh)if(!(Math.abs(f*l-c*u)>mh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,g=a-o,m=l*l+c*c,v=d*d+g*g,y=Math.sqrt(m),w=Math.sqrt(h),_=i*Math.tan((ZT-Math.acos((m+h-v)/(2*y*w)))/2),I=_/w,P=_/y;Math.abs(I-1)>mh&&this._append`L${t+I*u},${r+I*f}`,this._append`A${i},${i},0,0,${+(f*d>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>mh||Math.abs(this._y1-u)>mh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%eE+eE),h>gSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>mh&&this._append`A${n},${n},0,${+(h>=ZT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function kC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ySe(t)}function NC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IW(e){this._context=e}IW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function B5(e){return new IW(e)}function DW(e){return e[0]}function jW(e){return e[1]}function LW(e,t){var r=wn(!0),n=null,a=B5,i=null,s=kC(o);e=typeof e=="function"?e:e===void 0?DW:wn(e),t=typeof t=="function"?t:t===void 0?jW:wn(t);function o(l){var c,u=(l=NC(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:wn(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:wn(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:wn(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function _x(e,t,r){var n=null,a=wn(!0),i=null,s=B5,o=null,l=kC(c);e=typeof e=="function"?e:e===void 0?DW:wn(+e),t=typeof t=="function"?t:wn(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?jW:wn(+r);function c(f){var h,d,g,m=(f=NC(f)).length,v,y=!1,w,_=new Array(m),I=new Array(m);for(i==null&&(o=s(w=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(_[g],I[g]);o.lineEnd(),o.areaEnd()}y&&(_[h]=+e(v,h,f),I[h]=+t(v,h,f),o.point(n?+n(v,h,f):_[h],r?+r(v,h,f):I[h]))}if(w)return o=null,w+""||null}function u(){return LW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:wn(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:wn(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:wn(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:wn(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:wn(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:wn(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:wn(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class MW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xSe(e){return new MW(e,!0)}function bSe(e){return new MW(e,!1)}const CC={draw(e,t){const r=fl(t/Ib);e.moveTo(r,0),e.arc(0,0,r,0,$5)}},wSe={draw(e,t){const r=fl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},RW=fl(1/3),_Se=RW*2,SSe={draw(e,t){const r=fl(t/_Se),n=r*RW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ASe={draw(e,t){const r=fl(t),n=-r/2;e.rect(n,n,r,r)}},TSe=.8908130915292852,FW=Ob(Ib/10)/Ob(7*Ib/10),ESe=Ob($5/10)*FW,kSe=-PW($5/10)*FW,NSe={draw(e,t){const r=fl(t*TSe),n=ESe*r,a=kSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=$5*i/5,o=PW(s),l=Ob(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},rA=fl(3),CSe={draw(e,t){const r=-fl(t/(rA*3));e.moveTo(0,r*2),e.lineTo(-rA*r,-r),e.lineTo(rA*r,-r),e.closePath()}},ro=-.5,no=fl(3)/2,tE=1/fl(12),PSe=(tE/2+1)*3,OSe={draw(e,t){const r=fl(t/PSe),n=r/2,a=r*tE,i=n,s=r*tE+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(ro*n-no*a,no*n+ro*a),e.lineTo(ro*i-no*s,no*i+ro*s),e.lineTo(ro*o-no*l,no*o+ro*l),e.lineTo(ro*n+no*a,ro*a-no*n),e.lineTo(ro*i+no*s,ro*s-no*i),e.lineTo(ro*o+no*l,ro*l-no*o),e.closePath()}};function ISe(e,t){let r=null,n=kC(a);e=typeof e=="function"?e:wn(e||CC),t=typeof t=="function"?t:wn(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:wn(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:wn(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Db(){}function jb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function $W(e){this._context=e}$W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function DSe(e){return new $W(e)}function BW(e){this._context=e}BW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jSe(e){return new BW(e)}function VW(e){this._context=e}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LSe(e){return new VW(e)}function UW(e){this._context=e}UW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function MSe(e){return new UW(e)}function Xj(e){return e<0?-1:1}function Qj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Xj(i)+Xj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Jj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nA(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Lb(e){this._context=e}Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nA(this,this._t0,Jj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nA(this,Jj(this,r=Qj(this,e,t)),r);break;default:nA(this,this._t0,r=Qj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zW(e){this._context=new qW(e)}(zW.prototype=Object.create(Lb.prototype)).point=function(e,t){Lb.prototype.point.call(this,t,e)};function qW(e){this._context=e}qW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function RSe(e){return new Lb(e)}function FSe(e){return new zW(e)}function WW(e){this._context=e}WW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zj(e),a=Zj(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zj(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function $Se(e){return new WW(e)}function V5(e,t){this._context=e,this._t=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function BSe(e){return new V5(e,.5)}function VSe(e){return new V5(e,0)}function USe(e){return new V5(e,1)}function hp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function rE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function zSe(e,t){return e[t]}function qSe(e){const t=[];return t.key=e,t}function WSe(){var e=wn([]),t=rE,r=hp,n=zSe;function a(i){var s=Array.from(e.apply(this,arguments),qSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=NC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:wn(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:wn(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?rE:typeof i=="function"?i:wn(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??hp,a):r},a}function HSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}hp(e,t)}}function GSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hp(e,t)}}function KSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;d+=v-y}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,hp(e,t)}}function qv(e){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qv(e)}var YSe=["type","size","sizeType"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}function eL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eL(Object(r),!0).forEach(function(n){XSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XSe(e,t,r){return t=QSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QSe(e){var t=JSe(e,"string");return qv(t)=="symbol"?t:t+""}function JSe(e,t){if(qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZSe(e,t){if(e==null)return{};var r=eAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var HW={symbolCircle:CC,symbolCross:wSe,symbolDiamond:SSe,symbolSquare:ASe,symbolStar:NSe,symbolTriangle:CSe,symbolWye:OSe},tAe=Math.PI/180,rAe=function(t){var r="symbol".concat(F5(t));return HW[r]||CC},nAe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*tAe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},aAe=function(t,r){HW["symbol".concat(F5(t))]=r},PC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=ZSe(t,YSe),c=tL(tL({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=rAe(n),y=ISe().type(v).size(nAe(i,o,n));return y()},f=c.className,h=c.cx,d=c.cy,g=Dr(c,!0);return h===+h&&d===+d&&i===+i?Ie.createElement("path",nE({},g,{className:qr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};PC.registerSymbol=aAe;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}function rL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function iAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(r),!0).forEach(function(n){Wv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,KW(n.key),n)}}function lAe(e,t,r){return t&&oAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cAe(e,t,r){return t=Mb(t),uAe(e,GW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function uAe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fAe(e)}function fAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function hAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function Wv(e,t,r){return t=KW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KW(e){var t=dAe(e,"string");return dp(t)=="symbol"?t:t+""}function dAe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ao=32,OC=function(e){function t(){return sAe(this,t),cAe(this,t,arguments)}return hAe(t,e),lAe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=ao/2,s=ao/6,o=ao/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ie.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ao,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ie.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(ao,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ie.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(ao/8,"h").concat(ao,"v").concat(ao*3/4,"h").concat(-ao,"z"),className:"recharts-legend-icon"});if(Ie.isValidElement(n.legendIcon)){var c=iAe({},n);return delete c.legendIcon,Ie.cloneElement(n.legendIcon,c)}return Ie.createElement(PC,{fill:l,cx:i,cy:i,size:ao,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:ao,height:ao},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,g){var m=d.formatter||l,v=qr(Wv(Wv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=wr(d.value)?null:d.value;Sc(!wr(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=d.inactive?c:d.color;return Ie.createElement("li",aE({className:v,style:f,key:"legend-item-".concat(g)},Pb(n.props,d,g)),Ie.createElement(YT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Ie.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},m?m(y,d,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ie.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(H.PureComponent);Wv(OC,"displayName","Legend");Wv(OC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var pAe=T5;function mAe(){this.__data__=new pAe,this.size=0}var gAe=mAe;function vAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var yAe=vAe;function xAe(e){return this.__data__.get(e)}var bAe=xAe;function wAe(e){return this.__data__.has(e)}var _Ae=wAe,SAe=T5,AAe=yC,TAe=xC,EAe=200;function kAe(e,t){var r=this.__data__;if(r instanceof SAe){var n=r.__data__;if(!AAe||n.length<EAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new TAe(n)}return r.set(e,t),this.size=r.size,this}var NAe=kAe,CAe=T5,PAe=gAe,OAe=yAe,IAe=bAe,DAe=_Ae,jAe=NAe;function nm(e){var t=this.__data__=new CAe(e);this.size=t.size}nm.prototype.clear=PAe;nm.prototype.delete=OAe;nm.prototype.get=IAe;nm.prototype.has=DAe;nm.prototype.set=jAe;var YW=nm,LAe="__lodash_hash_undefined__";function MAe(e){return this.__data__.set(e,LAe),this}var RAe=MAe;function FAe(e){return this.__data__.has(e)}var $Ae=FAe,BAe=xC,VAe=RAe,UAe=$Ae;function Rb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new BAe;++t<r;)this.add(e[t])}Rb.prototype.add=Rb.prototype.push=VAe;Rb.prototype.has=UAe;var XW=Rb;function zAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var QW=zAe;function qAe(e,t){return e.has(t)}var JW=qAe,WAe=XW,HAe=QW,GAe=JW,KAe=1,YAe=2;function XAe(e,t,r,n,a,i){var s=r&KAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&YAe?new WAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!HAe(t,function(y,w){if(!GAe(d,w)&&(g===y||a(g,y,r,n,i)))return d.push(w)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var ZW=XAe,QAe=Gl,JAe=QAe.Uint8Array,ZAe=JAe;function e4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var t4e=e4e;function r4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var IC=r4e,nL=Z1,aL=ZAe,n4e=vC,a4e=ZW,i4e=t4e,s4e=IC,o4e=1,l4e=2,c4e="[object Boolean]",u4e="[object Date]",f4e="[object Error]",h4e="[object Map]",d4e="[object Number]",p4e="[object RegExp]",m4e="[object Set]",g4e="[object String]",v4e="[object Symbol]",y4e="[object ArrayBuffer]",x4e="[object DataView]",iL=nL?nL.prototype:void 0,aA=iL?iL.valueOf:void 0;function b4e(e,t,r,n,a,i,s){switch(r){case x4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case y4e:return!(e.byteLength!=t.byteLength||!i(new aL(e),new aL(t)));case c4e:case u4e:case d4e:return n4e(+e,+t);case f4e:return e.name==t.name&&e.message==t.message;case p4e:case g4e:return e==t+"";case h4e:var o=i4e;case m4e:var l=n&o4e;if(o||(o=s4e),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=l4e,s.set(e,t);var u=a4e(o(e),o(t),n,a,i,s);return s.delete(e),u;case v4e:if(aA)return aA.call(e)==aA.call(t)}return!1}var w4e=b4e;function _4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var eH=_4e,S4e=eH,A4e=ys;function T4e(e,t,r){var n=t(e);return A4e(e)?n:S4e(n,r(e))}var E4e=T4e;function k4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var N4e=k4e;function C4e(){return[]}var P4e=C4e,O4e=N4e,I4e=P4e,D4e=Object.prototype,j4e=D4e.propertyIsEnumerable,sL=Object.getOwnPropertySymbols,L4e=sL?function(e){return e==null?[]:(e=Object(e),O4e(sL(e),function(t){return j4e.call(e,t)}))}:I4e,M4e=L4e;function R4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var F4e=R4e,$4e=Xc,B4e=Qc,V4e="[object Arguments]";function U4e(e){return B4e(e)&&$4e(e)==V4e}var z4e=U4e,oL=z4e,q4e=Qc,tH=Object.prototype,W4e=tH.hasOwnProperty,H4e=tH.propertyIsEnumerable,G4e=oL(function(){return arguments}())?oL:function(e){return q4e(e)&&W4e.call(e,"callee")&&!H4e.call(e,"callee")},DC=G4e,Fb={exports:{}};function K4e(){return!1}var Y4e=K4e;Fb.exports;(function(e,t){var r=Gl,n=Y4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Fb,Fb.exports);var rH=Fb.exports,X4e=9007199254740991,Q4e=/^(?:0|[1-9]\d*)$/;function J4e(e,t){var r=typeof e;return t=t??X4e,!!t&&(r=="number"||r!="symbol"&&Q4e.test(e))&&e>-1&&e%1==0&&e<t}var jC=J4e,Z4e=9007199254740991;function eTe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Z4e}var LC=eTe,tTe=Xc,rTe=LC,nTe=Qc,aTe="[object Arguments]",iTe="[object Array]",sTe="[object Boolean]",oTe="[object Date]",lTe="[object Error]",cTe="[object Function]",uTe="[object Map]",fTe="[object Number]",hTe="[object Object]",dTe="[object RegExp]",pTe="[object Set]",mTe="[object String]",gTe="[object WeakMap]",vTe="[object ArrayBuffer]",yTe="[object DataView]",xTe="[object Float32Array]",bTe="[object Float64Array]",wTe="[object Int8Array]",_Te="[object Int16Array]",STe="[object Int32Array]",ATe="[object Uint8Array]",TTe="[object Uint8ClampedArray]",ETe="[object Uint16Array]",kTe="[object Uint32Array]",kn={};kn[xTe]=kn[bTe]=kn[wTe]=kn[_Te]=kn[STe]=kn[ATe]=kn[TTe]=kn[ETe]=kn[kTe]=!0;kn[aTe]=kn[iTe]=kn[vTe]=kn[sTe]=kn[yTe]=kn[oTe]=kn[lTe]=kn[cTe]=kn[uTe]=kn[fTe]=kn[hTe]=kn[dTe]=kn[pTe]=kn[mTe]=kn[gTe]=!1;function NTe(e){return nTe(e)&&rTe(e.length)&&!!kn[tTe(e)]}var CTe=NTe;function PTe(e){return function(t){return e(t)}}var nH=PTe,$b={exports:{}};$b.exports;(function(e,t){var r=fW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})($b,$b.exports);var OTe=$b.exports,ITe=CTe,DTe=nH,lL=OTe,cL=lL&&lL.isTypedArray,jTe=cL?DTe(cL):ITe,aH=jTe,LTe=F4e,MTe=DC,RTe=ys,FTe=rH,$Te=jC,BTe=aH,VTe=Object.prototype,UTe=VTe.hasOwnProperty;function zTe(e,t){var r=RTe(e),n=!r&&MTe(e),a=!r&&!n&&FTe(e),i=!r&&!n&&!a&&BTe(e),s=r||n||a||i,o=s?LTe(e.length,String):[],l=o.length;for(var c in e)(t||UTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||$Te(c,l)))&&o.push(c);return o}var qTe=zTe,WTe=Object.prototype;function HTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||WTe;return e===r}var GTe=HTe;function KTe(e,t){return function(r){return e(t(r))}}var iH=KTe,YTe=iH,XTe=YTe(Object.keys,Object),QTe=XTe,JTe=GTe,ZTe=QTe,eEe=Object.prototype,tEe=eEe.hasOwnProperty;function rEe(e){if(!JTe(e))return ZTe(e);var t=[];for(var r in Object(e))tEe.call(e,r)&&r!="constructor"&&t.push(r);return t}var nEe=rEe,aEe=gC,iEe=LC;function sEe(e){return e!=null&&iEe(e.length)&&!aEe(e)}var ry=sEe,oEe=qTe,lEe=nEe,cEe=ry;function uEe(e){return cEe(e)?oEe(e):lEe(e)}var U5=uEe,fEe=E4e,hEe=M4e,dEe=U5;function pEe(e){return fEe(e,dEe,hEe)}var mEe=pEe,uL=mEe,gEe=1,vEe=Object.prototype,yEe=vEe.hasOwnProperty;function xEe(e,t,r,n,a,i){var s=r&gEe,o=uL(e),l=o.length,c=uL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:yEe.call(t,h)))return!1}var d=i.get(e),g=i.get(t);if(d&&g)return d==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],w=t[h];if(n)var _=s?n(w,y,h,t,e,i):n(y,w,h,e,t,i);if(!(_===void 0?y===w||a(y,w,r,n,i):_)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var I=e.constructor,P=t.constructor;I!=P&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var bEe=xEe,wEe=gd,_Ee=Gl,SEe=wEe(_Ee,"DataView"),AEe=SEe,TEe=gd,EEe=Gl,kEe=TEe(EEe,"Promise"),NEe=kEe,CEe=gd,PEe=Gl,OEe=CEe(PEe,"Set"),sH=OEe,IEe=gd,DEe=Gl,jEe=IEe(DEe,"WeakMap"),LEe=jEe,sE=AEe,oE=yC,lE=NEe,cE=sH,uE=LEe,oH=Xc,am=dW,fL="[object Map]",MEe="[object Object]",hL="[object Promise]",dL="[object Set]",pL="[object WeakMap]",mL="[object DataView]",REe=am(sE),FEe=am(oE),$Ee=am(lE),BEe=am(cE),VEe=am(uE),gh=oH;(sE&&gh(new sE(new ArrayBuffer(1)))!=mL||oE&&gh(new oE)!=fL||lE&&gh(lE.resolve())!=hL||cE&&gh(new cE)!=dL||uE&&gh(new uE)!=pL)&&(gh=function(e){var t=oH(e),r=t==MEe?e.constructor:void 0,n=r?am(r):"";if(n)switch(n){case REe:return mL;case FEe:return fL;case $Ee:return hL;case BEe:return dL;case VEe:return pL}return t});var UEe=gh,iA=YW,zEe=ZW,qEe=w4e,WEe=bEe,gL=UEe,vL=ys,yL=rH,HEe=aH,GEe=1,xL="[object Arguments]",bL="[object Array]",Sx="[object Object]",KEe=Object.prototype,wL=KEe.hasOwnProperty;function YEe(e,t,r,n,a,i){var s=vL(e),o=vL(t),l=s?bL:gL(e),c=o?bL:gL(t);l=l==xL?Sx:l,c=c==xL?Sx:c;var u=l==Sx,f=c==Sx,h=l==c;if(h&&yL(e)){if(!yL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new iA),s||HEe(e)?zEe(e,t,r,n,a,i):qEe(e,t,l,r,n,a,i);if(!(r&GEe)){var d=u&&wL.call(e,"__wrapped__"),g=f&&wL.call(t,"__wrapped__");if(d||g){var m=d?e.value():e,v=g?t.value():t;return i||(i=new iA),a(m,v,r,n,i)}}return h?(i||(i=new iA),WEe(e,t,r,n,a,i)):!1}var XEe=YEe,QEe=XEe,_L=Qc;function lH(e,t,r,n,a){return e===t?!0:e==null||t==null||!_L(e)&&!_L(t)?e!==e&&t!==t:QEe(e,t,r,n,lH,a)}var MC=lH,JEe=YW,ZEe=MC,e3e=1,t3e=2;function r3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new JEe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?ZEe(u,c,e3e|t3e,n,f):h))return!1}}return!0}var n3e=r3e,a3e=Ff;function i3e(e){return e===e&&!a3e(e)}var cH=i3e,s3e=cH,o3e=U5;function l3e(e){for(var t=o3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,s3e(a)]}return t}var c3e=l3e;function u3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var uH=u3e,f3e=n3e,h3e=c3e,d3e=uH;function p3e(e){var t=h3e(e);return t.length==1&&t[0][2]?d3e(t[0][0],t[0][1]):function(r){return r===e||f3e(r,e,t)}}var m3e=p3e;function g3e(e,t){return e!=null&&t in Object(e)}var v3e=g3e,y3e=yW,x3e=DC,b3e=ys,w3e=jC,_3e=LC,S3e=k5;function A3e(e,t,r){t=y3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=S3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&_3e(a)&&w3e(s,a)&&(b3e(e)||x3e(e)))}var T3e=A3e,E3e=v3e,k3e=T3e;function N3e(e,t){return e!=null&&k3e(e,t,E3e)}var C3e=N3e,P3e=MC,O3e=xW,I3e=C3e,D3e=mC,j3e=cH,L3e=uH,M3e=k5,R3e=1,F3e=2;function $3e(e,t){return D3e(e)&&j3e(t)?L3e(M3e(e),t):function(r){var n=O3e(r,e);return n===void 0&&n===t?I3e(r,e):P3e(t,n,R3e|F3e)}}var B3e=$3e;function V3e(e){return e}var im=V3e;function U3e(e){return function(t){return t==null?void 0:t[e]}}var z3e=U3e,q3e=_C;function W3e(e){return function(t){return q3e(t,e)}}var H3e=W3e,G3e=z3e,K3e=H3e,Y3e=mC,X3e=k5;function Q3e(e){return Y3e(e)?G3e(X3e(e)):K3e(e)}var J3e=Q3e,Z3e=m3e,eke=B3e,tke=im,rke=ys,nke=J3e;function ake(e){return typeof e=="function"?e:e==null?tke:typeof e=="object"?rke(e)?eke(e[0],e[1]):Z3e(e):nke(e)}var $f=ake;function ike(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var fH=ike;function ske(e){return e!==e}var oke=ske;function lke(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var cke=lke,uke=fH,fke=oke,hke=cke;function dke(e,t,r){return t===t?hke(e,t,r):uke(e,fke,r)}var pke=dke,mke=pke;function gke(e,t){var r=e==null?0:e.length;return!!r&&mke(e,t,0)>-1}var vke=gke;function yke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var xke=yke;function bke(){}var wke=bke,sA=sH,_ke=wke,Ske=IC,Ake=1/0,Tke=sA&&1/Ske(new sA([,-0]))[1]==Ake?function(e){return new sA(e)}:_ke,Eke=Tke,kke=XW,Nke=vke,Cke=xke,Pke=JW,Oke=Eke,Ike=IC,Dke=200;function jke(e,t,r){var n=-1,a=Nke,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Cke;else if(i>=Dke){var c=t?null:Oke(e);if(c)return Ike(c);s=!1,a=Pke,l=new kke}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Lke=jke,Mke=$f,Rke=Lke;function Fke(e,t){return e&&e.length?Rke(e,Mke(t)):[]}var $ke=Fke;const SL=dn($ke);function hH(e,t,r){return t===!0?SL(e,r):wr(t)?SL(e,t):e}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var Bke=["ref"];function AL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AL(Object(r),!0).forEach(function(n){z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pH(n.key),n)}}function Uke(e,t,r){return t&&TL(e.prototype,t),r&&TL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zke(e,t,r){return t=Bb(t),qke(e,dH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function qke(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wke(e)}function Wke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function Hke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function z5(e,t,r){return t=pH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=Gke(e,"string");return pp(t)=="symbol"?t:t+""}function Gke(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kke(e,t){if(e==null)return{};var r=Yke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Xke(e){return e.value}function Qke(e,t){if(Ie.isValidElement(e))return Ie.cloneElement(e,t);if(typeof e=="function")return Ie.createElement(e,t);t.ref;var r=Kke(t,Bke);return Ie.createElement(OC,r)}var EL=1,Ac=function(e){function t(){var r;Vke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=zke(this,t,[].concat(a)),z5(r,"lastBoundingBox",{width:-1,height:-1}),r}return Hke(t,e),Uke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>EL||Math.abs(a.height-this.lastBoundingBox.height)>EL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cc(cc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=cc(cc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ie.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Qke(i,cc(cc({},this.props),{},{payload:hH(u,c,Xke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=cc(cc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&It(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(H.PureComponent);z5(Ac,"displayName","Legend");z5(Ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var kL=Z1,Jke=DC,Zke=ys,NL=kL?kL.isConcatSpreadable:void 0;function eNe(e){return Zke(e)||Jke(e)||!!(NL&&e&&e[NL])}var tNe=eNe,rNe=eH,nNe=tNe;function mH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=nNe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?mH(o,t-1,r,n,a):rNe(a,o):n||(a[a.length]=o)}return a}var gH=mH;function aNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var iNe=aNe,sNe=iNe,oNe=sNe(),lNe=oNe,cNe=lNe,uNe=U5;function fNe(e,t){return e&&cNe(e,t,uNe)}var vH=fNe,hNe=ry;function dNe(e,t){return function(r,n){if(r==null)return r;if(!hNe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var pNe=dNe,mNe=vH,gNe=pNe,vNe=gNe(mNe),RC=vNe,yNe=RC,xNe=ry;function bNe(e,t){var r=-1,n=xNe(e)?Array(e.length):[];return yNe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var yH=bNe;function wNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var _Ne=wNe,CL=Jp;function SNe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=CL(e),s=t!==void 0,o=t===null,l=t===t,c=CL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var ANe=SNe,TNe=ANe;function ENe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=TNe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var kNe=ENe,oA=wC,NNe=_C,CNe=$f,PNe=yH,ONe=_Ne,INe=nH,DNe=kNe,jNe=im,LNe=ys;function MNe(e,t,r){t.length?t=oA(t,function(i){return LNe(i)?function(s){return NNe(s,i.length===1?i[0]:i)}:i}):t=[jNe];var n=-1;t=oA(t,INe(CNe));var a=PNe(e,function(i,s,o){var l=oA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return ONe(a,function(i,s){return DNe(i,s,r)})}var RNe=MNe;function FNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var $Ne=FNe,BNe=$Ne,PL=Math.max;function VNe(e,t,r){return t=PL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=PL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),BNe(e,this,o)}}var UNe=VNe;function zNe(e){return function(){return e}}var qNe=zNe,WNe=gd,HNe=function(){try{var e=WNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),xH=HNe,GNe=qNe,OL=xH,KNe=im,YNe=OL?function(e,t){return OL(e,"toString",{configurable:!0,enumerable:!1,value:GNe(t),writable:!0})}:KNe,XNe=YNe,QNe=800,JNe=16,ZNe=Date.now;function eCe(e){var t=0,r=0;return function(){var n=ZNe(),a=JNe-(n-r);if(r=n,a>0){if(++t>=QNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var tCe=eCe,rCe=XNe,nCe=tCe,aCe=nCe(rCe),iCe=aCe,sCe=im,oCe=UNe,lCe=iCe;function cCe(e,t){return lCe(oCe(e,t,sCe),e+"")}var uCe=cCe,fCe=vC,hCe=ry,dCe=jC,pCe=Ff;function mCe(e,t,r){if(!pCe(r))return!1;var n=typeof t;return(n=="number"?hCe(r)&&dCe(t,r.length):n=="string"&&t in r)?fCe(r[t],e):!1}var q5=mCe,gCe=gH,vCe=RNe,yCe=uCe,IL=q5,xCe=yCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&IL(e,t[0],t[1])?t=[]:r>2&&IL(t[0],t[1],t[2])&&(t=[t[0]]),vCe(e,gCe(t,1),[])}),bCe=xCe;const FC=dn(bCe);function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function wCe(e,t){return TCe(e)||ACe(e,t)||SCe(e,t)||_Ce()}function _Ce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SCe(e,t){if(e){if(typeof e=="string")return DL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DL(e,t)}}function DL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ACe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function TCe(e){if(Array.isArray(e))return e}function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(n){ECe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t,r){return t=kCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kCe(e){var t=NCe(e,"string");return Hv(t)=="symbol"?t:t+""}function NCe(e,t){if(Hv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CCe(e){return Array.isArray(e)&&ka(e[0])&&ka(e[1])?e.join(" ~ "):e}var PCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var N={padding:0,margin:0},j=(h?FC(u,h):u).map(function(K,J){if(K.type==="none")return null;var X=lA({display:"block",paddingTop:4,paddingBottom:4,color:K.color||"#000"},o),Z=K.formatter||f||CCe,q=K.value,U=K.name,te=q,z=U;if(Z&&te!=null&&z!=null){var C=Z(q,U,K,J,u);if(Array.isArray(C)){var R=wCe(C,2);te=R[0],z=R[1]}else te=C}return Ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:X},ka(z)?Ie.createElement("span",{className:"recharts-tooltip-item-name"},z):null,ka(z)?Ie.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ie.createElement("span",{className:"recharts-tooltip-item-value"},te),Ie.createElement("span",{className:"recharts-tooltip-item-unit"},K.unit||""))});return Ie.createElement("ul",{className:"recharts-tooltip-item-list",style:N},j)}return null},I=lA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=lA({margin:0},c),D=!Nr(m),E=D?m:"",A=qr("recharts-default-tooltip",d),b=qr("recharts-tooltip-label",g);D&&v&&u!==void 0&&u!==null&&(E=v(m,u));var O=w?{role:"status","aria-live":"assertive"}:{};return Ie.createElement("div",hE({className:A,style:I},O),Ie.createElement("p",{className:b,style:P},Ie.isValidElement(E)?E:"".concat(E)),_())};function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function Ax(e,t,r){return t=OCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OCe(e){var t=ICe(e,"string");return Gv(t)=="symbol"?t:t+""}function ICe(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um="recharts-tooltip-wrapper",DCe={visibility:"hidden"};function jCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return qr(Um,Ax(Ax(Ax(Ax({},"".concat(Um,"-right"),It(r)&&t&&It(t.x)&&r>=t.x),"".concat(Um,"-left"),It(r)&&t&&It(t.x)&&r<t.x),"".concat(Um,"-bottom"),It(n)&&t&&It(t.y)&&n>=t.y),"".concat(Um,"-top"),It(n)&&t&&It(t.y)&&n<t.y))}function LL(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&It(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function LCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function MCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=LL({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=LL({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=LCe({translateX:u,translateY:f,useTranslate3d:o})):c=DCe,{cssProperties:c,cssClasses:jCe({translateX:u,translateY:f,coordinate:r})}}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function ML(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function RL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ML(Object(r),!0).forEach(function(n){pE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ML(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function FCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wH(n.key),n)}}function $Ce(e,t,r){return t&&FCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function BCe(e,t,r){return t=Vb(t),VCe(e,bH()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function VCe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UCe(e)}function UCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function zCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dE(e,t)}function pE(e,t,r){return t=wH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=qCe(e,"string");return mp(t)=="symbol"?t:t+""}function qCe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FL=1,WCe=function(e){function t(){var r;RCe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=BCe(this,t,[].concat(a)),pE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return zCe(t,e),$Ce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>FL||Math.abs(n.height-this.state.lastBoundingBox.height)>FL)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,w=a.wrapperStyle,_=MCe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),I=_.cssClasses,P=_.cssProperties,D=RL(RL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return Ie.createElement("div",{tabIndex:-1,className:I,style:D,ref:function(A){n.wrapperNode=A}},c)}}])}(H.PureComponent),HCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tc={isSsr:HCe(),get:function(t){return Tc[t]},set:function(t,r){if(typeof t=="string")Tc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Tc[a]=t[a]})}}};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function $L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function BL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$L(Object(r),!0).forEach(function(n){$C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$L(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SH(n.key),n)}}function YCe(e,t,r){return t&&KCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function XCe(e,t,r){return t=Ub(t),QCe(e,_H()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function QCe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return JCe(e)}function JCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function ZCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mE(e,t)}function $C(e,t,r){return t=SH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=ePe(e,"string");return gp(t)=="symbol"?t:t+""}function ePe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tPe(e){return e.dataKey}function rPe(e,t){return Ie.isValidElement(e)?Ie.cloneElement(e,t):typeof e=="function"?Ie.createElement(e,t):Ie.createElement(PCe,t)}var lo=function(e){function t(){return GCe(this,t),XCe(this,t,arguments)}return ZCe(t,e),YCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,w=a.useTranslate3d,_=a.viewBox,I=a.wrapperStyle,P=g??[];f&&P.length&&(P=hH(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,tPe));var D=P.length>0;return Ie.createElement(WCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:D,offset:d,position:v,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:I},rPe(c,BL(BL({},this.props),{},{payload:P})))}}])}(H.PureComponent);$C(lo,"displayName","Tooltip");$C(lo,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nPe=Gl,aPe=function(){return nPe.Date.now()},iPe=aPe,sPe=/\s/;function oPe(e){for(var t=e.length;t--&&sPe.test(e.charAt(t)););return t}var lPe=oPe,cPe=lPe,uPe=/^\s+/;function fPe(e){return e&&e.slice(0,cPe(e)+1).replace(uPe,"")}var hPe=fPe,dPe=hPe,VL=Ff,pPe=Jp,UL=NaN,mPe=/^[-+]0x[0-9a-f]+$/i,gPe=/^0b[01]+$/i,vPe=/^0o[0-7]+$/i,yPe=parseInt;function xPe(e){if(typeof e=="number")return e;if(pPe(e))return UL;if(VL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=VL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=dPe(e);var r=gPe.test(e);return r||vPe.test(e)?yPe(e.slice(2),r?2:8):mPe.test(e)?UL:+e}var AH=xPe,bPe=Ff,cA=iPe,zL=AH,wPe="Expected a function",_Pe=Math.max,SPe=Math.min;function APe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(wPe);t=zL(t)||0,bPe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?_Pe(zL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(D){var E=n,A=a;return n=a=void 0,c=D,s=e.apply(A,E),s}function g(D){return c=D,o=setTimeout(y,t),u?d(D):s}function m(D){var E=D-l,A=D-c,b=t-E;return f?SPe(b,i-A):b}function v(D){var E=D-l,A=D-c;return l===void 0||E>=t||E<0||f&&A>=i}function y(){var D=cA();if(v(D))return w(D);o=setTimeout(y,m(D))}function w(D){return o=void 0,h&&n?d(D):(n=a=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function I(){return o===void 0?s:w(cA())}function P(){var D=cA(),E=v(D);if(n=arguments,a=this,l=D,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),d(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=_,P.flush=I,P}var TPe=APe,EPe=TPe,kPe=Ff,NPe="Expected a function";function CPe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(NPe);return kPe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),EPe(e,t,{leading:n,maxWait:t,trailing:a})}var PPe=CPe;const TH=dn(PPe);function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function qL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qL(Object(r),!0).forEach(function(n){OPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OPe(e,t,r){return t=IPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IPe(e){var t=DPe(e,"string");return Kv(t)=="symbol"?t:t+""}function DPe(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jPe(e,t){return FPe(e)||RPe(e,t)||MPe(e,t)||LPe()}function LPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MPe(e,t){if(e){if(typeof e=="string")return WL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(e,t)}}function WL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FPe(e){if(Array.isArray(e))return e}var uA=H.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,w=e.onResize,_=e.style,I=_===void 0?{}:_,P=H.useRef(null),D=H.useRef();D.current=w,H.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=H.useState({containerWidth:a.width,containerHeight:a.height}),A=jPe(E,2),b=A[0],O=A[1],T=H.useCallback(function(j,K){O(function(J){var X=Math.round(j),Z=Math.round(K);return J.containerWidth===X&&J.containerHeight===Z?J:{containerWidth:X,containerHeight:Z}})},[]);H.useEffect(function(){var j=function(U){var te,z=U[0].contentRect,C=z.width,R=z.height;T(C,R),(te=D.current)===null||te===void 0||te.call(D,C,R)};m>0&&(j=TH(j,m,{trailing:!0,leading:!1}));var K=new ResizeObserver(j),J=P.current.getBoundingClientRect(),X=J.width,Z=J.height;return T(X,Z),K.observe(P.current),function(){K.disconnect()}},[T,m]);var N=H.useMemo(function(){var j=b.containerWidth,K=b.containerHeight;if(j<0||K<0)return null;Sc(Nh(s)||Nh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Sc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=Nh(s)?j:s,X=Nh(l)?K:l;r&&r>0&&(J?X=J/r:X&&(J=X*r),h&&X>h&&(X=h)),Sc(J>0||X>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,X,s,l,u,f,r);var Z=!Array.isArray(d)&&_c(d.type).endsWith("Chart");return Ie.Children.map(d,function(q){return Ie.isValidElement(q)?H.cloneElement(q,Tx({width:J,height:X},Z?{style:Tx({height:"100%",width:"100%",maxHeight:X,maxWidth:J},q.props.style)}:{})):q})},[r,d,l,h,f,u,b,s]);return Ie.createElement("div",{id:v?"".concat(v):void 0,className:qr("recharts-responsive-container",y),style:Tx(Tx({},I),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},N)}),EH=function(t){return null};EH.displayName="Cell";function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HL(Object(r),!0).forEach(function(n){$Pe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Pe(e,t,r){return t=BPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BPe(e){var t=VPe(e,"string");return Yv(t)=="symbol"?t:t+""}function VPe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hd={widthCache:{},cacheCount:0},UPe=2e3,zPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GL="recharts_measurement_span";function qPe(e){var t=gE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var zg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tc.isSsr)return{width:0,height:0};var n=qPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Hd.widthCache[a])return Hd.widthCache[a];try{var i=document.getElementById(GL);i||(i=document.createElement("span"),i.setAttribute("id",GL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=gE(gE({},zPe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Hd.widthCache[a]=l,++Hd.cacheCount>UPe&&(Hd.cacheCount=0,Hd.widthCache={}),l}catch{return{width:0,height:0}}},WPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function zb(e,t){return YPe(e)||KPe(e,t)||GPe(e,t)||HPe()}function HPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GPe(e,t){if(e){if(typeof e=="string")return KL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KL(e,t)}}function KL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function YPe(e){if(Array.isArray(e))return e}function XPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JPe(n.key),n)}}function QPe(e,t,r){return t&&YL(e.prototype,t),r&&YL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function JPe(e){var t=ZPe(e,"string");return Xv(t)=="symbol"?t:t+""}function ZPe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var XL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,QL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,e6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,t6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},r6e=Object.keys(kH),w0="NaN";function n6e(e,t){return e*kH[t]}var Ex=function(){function e(t,r){XPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!e6e.test(r)&&(this.num=NaN,this.unit=""),r6e.includes(r)&&(this.num=n6e(t,r),this.unit="px")}return QPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=t6e.exec(r))!==null&&n!==void 0?n:[],i=zb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function NH(e){if(e.includes(w0))return w0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=XL.exec(t))!==null&&r!==void 0?r:[],a=zb(n,4),i=a[1],s=a[2],o=a[3],l=Ex.parse(i??""),c=Ex.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return w0;t=t.replace(XL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=QL.exec(t))!==null&&f!==void 0?f:[],d=zb(h,4),g=d[1],m=d[2],v=d[3],y=Ex.parse(g??""),w=Ex.parse(v??""),_=m==="+"?y.add(w):y.subtract(w);if(_.isNaN())return w0;t=t.replace(QL,_.toString())}return t}var JL=/\(([^()]*)\)/;function a6e(e){for(var t=e;t.includes("(");){var r=JL.exec(t),n=zb(r,2),a=n[1];t=t.replace(JL,NH(a))}return t}function i6e(e){var t=e.replace(/\s+/g,"");return t=a6e(t),t=NH(t),t}function s6e(e){try{return i6e(e)}catch{return w0}}function fA(e){var t=s6e(e.slice(5,-1));return t===w0?"":t}var o6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],l6e=["dx","dy","angle","className","breakAll"];function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(this,arguments)}function ZL(e,t){if(e==null)return{};var r=c6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function c6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function eM(e,t){return d6e(e)||h6e(e,t)||f6e(e,t)||u6e()}function u6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f6e(e,t){if(e){if(typeof e=="string")return tM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tM(e,t)}}function tM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function d6e(e){if(Array.isArray(e))return e}var CH=/[ \f\n\r\t\v\u2028\u2029]+/,PH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Nr(r)||(n?i=r.toString().split(""):i=r.toString().split(CH));var s=i.map(function(l){return{word:l,width:zg(l,a).width}}),o=n?0:zg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},p6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=It(s),f=o,h=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(X,Z){var q=Z.word,U=Z.width,te=X[X.length-1];if(te&&(a==null||i||te.width+U+n<Number(a)))te.words.push(q),te.width+=U+n;else{var z={words:[q],width:U};X.push(z)}return X},[])},d=h(r),g=function(J){return J.reduce(function(X,Z){return X.width>Z.width?X:Z})};if(!u)return d;for(var m="…",v=function(J){var X=f.slice(0,J),Z=PH({breakAll:c,style:l,children:X+m}).wordsWithComputedWidth,q=h(Z),U=q.length>s||g(q).width>Number(a);return[U,q]},y=0,w=f.length-1,_=0,I;y<=w&&_<=f.length-1;){var P=Math.floor((y+w)/2),D=P-1,E=v(D),A=eM(E,2),b=A[0],O=A[1],T=v(P),N=eM(T,1),j=N[0];if(!b&&!j&&(y=P+1),b&&j&&(w=P-1),!b&&j){I=O;break}_++}return I||d},rM=function(t){var r=Nr(t)?[]:t.toString().split(CH);return[{words:r}]},m6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Tc.isSsr){var l,c,u=PH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return rM(a);return p6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return rM(a)},nM="#808080",qb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?nM:v,w=ZL(t,o6e),_=H.useMemo(function(){return m6e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),I=w.dx,P=w.dy,D=w.angle,E=w.className,A=w.breakAll,b=ZL(w,l6e);if(!ka(n)||!ka(i))return null;var O=n+(It(I)?I:0),T=i+(It(P)?P:0),N;switch(m){case"start":N=fA("calc(".concat(c,")"));break;case"middle":N=fA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:N=fA("calc(".concat(_.length-1," * -").concat(o,")"));break}var j=[];if(f){var K=_[0].width,J=w.width;j.push("scale(".concat((It(J)?J/K:1)/K,")"))}return D&&j.push("rotate(".concat(D,", ").concat(O,", ").concat(T,")")),j.length&&(b.transform=j.join(" ")),Ie.createElement("text",vE({},Dr(b,!0),{x:O,y:T,className:qr("recharts-text",E),textAnchor:d,fill:y.includes("url")?nM:y}),_.map(function(X,Z){var q=X.words.join(A?"":" ");return Ie.createElement("tspan",{x:O,dy:Z===0?N:o,key:"".concat(q,"-").concat(Z)},q)}))};function df(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BC(e){let t,r,n;e.length!==2?(t=df,r=(o,l)=>df(e(o),l),n=(o,l)=>e(o)-l):(t=e===df||e===g6e?e:v6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function v6e(){return 0}function OH(e){return e===null?NaN:+e}function*y6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const x6e=BC(df),ny=x6e.right;BC(OH).center;class aM extends Map{constructor(t,r=_6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(iM(this,t))}has(t){return super.has(iM(this,t))}set(t,r){return super.set(b6e(this,t),r)}delete(t){return super.delete(w6e(this,t))}}function iM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function b6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function w6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function S6e(e=df){if(e===df)return IH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const A6e=Math.sqrt(50),T6e=Math.sqrt(10),E6e=Math.sqrt(2);function Wb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=A6e?10:i>=T6e?5:i>=E6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Wb(e,t,r*2):[o,l,c]}function yE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Wb(t,e,r):Wb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function xE(e,t,r){return t=+t,e=+e,r=+r,Wb(e,t,r)[2]}function bE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?xE(t,e,r):xE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function sM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function oM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?IH:S6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));DH(e,t,d,g,a)}const i=e[t];let s=r,o=n;for(zm(e,r,t),a(e[n],i)>0&&zm(e,r,n);s<o;){for(zm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?zm(e,r,o):(++o,zm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function zm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function k6e(e,t,r){if(e=Float64Array.from(y6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return oM(e);if(t>=1)return sM(e);var n,a=(n-1)*t,i=Math.floor(a),s=sM(DH(e,i).subarray(0,i+1)),o=oM(e.subarray(i+1));return s+(o-s)*(a-i)}}function N6e(e,t,r=OH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function C6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Ao(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wE=Symbol("implicit");function VC(){var e=new aM,t=[],r=[],n=wE;function a(i){let s=e.get(i);if(s===void 0){if(n!==wE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new aM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return VC(t,r).unknown(n)},Ao.apply(a,arguments),a}function Qv(){var e=VC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,g=d?a:n,m=d?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=C6e(h).map(function(y){return g+i*y});return r(d?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Qv(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},Ao.apply(f(),arguments)}function jH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return jH(t())},e}function qg(){return jH(Qv.apply(null,arguments).paddingInner(1))}function UC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function LH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ay(){}var Jv=.7,Hb=1/Jv,V0="\\s*([+-]?\\d+)\\s*",Zv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",P6e=/^#([0-9a-f]{3,8})$/,O6e=new RegExp(`^rgb\\(${V0},${V0},${V0}\\)$`),I6e=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),D6e=new RegExp(`^rgba\\(${V0},${V0},${V0},${Zv}\\)$`),j6e=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${Zv}\\)$`),L6e=new RegExp(`^hsl\\(${Zv},${Fl},${Fl}\\)$`),M6e=new RegExp(`^hsla\\(${Zv},${Fl},${Fl},${Zv}\\)$`),lM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UC(ay,e1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cM,formatHex:cM,formatHex8:R6e,formatHsl:F6e,formatRgb:uM,toString:uM});function cM(){return this.rgb().formatHex()}function R6e(){return this.rgb().formatHex8()}function F6e(){return MH(this).formatHsl()}function uM(){return this.rgb().formatRgb()}function e1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=P6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fM(t):r===3?new ds(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?kx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?kx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O6e.exec(e))?new ds(t[1],t[2],t[3],1):(t=I6e.exec(e))?new ds(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=D6e.exec(e))?kx(t[1],t[2],t[3],t[4]):(t=j6e.exec(e))?kx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=L6e.exec(e))?pM(t[1],t[2]/100,t[3]/100,1):(t=M6e.exec(e))?pM(t[1],t[2]/100,t[3]/100,t[4]):lM.hasOwnProperty(e)?fM(lM[e]):e==="transparent"?new ds(NaN,NaN,NaN,0):null}function fM(e){return new ds(e>>16&255,e>>8&255,e&255,1)}function kx(e,t,r,n){return n<=0&&(e=t=r=NaN),new ds(e,t,r,n)}function $6e(e){return e instanceof ay||(e=e1(e)),e?(e=e.rgb(),new ds(e.r,e.g,e.b,e.opacity)):new ds}function _E(e,t,r,n){return arguments.length===1?$6e(e):new ds(e,t,r,n??1)}function ds(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}UC(ds,_E,LH(ay,{brighter(e){return e=e==null?Hb:Math.pow(Hb,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new ds(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ds($h(this.r),$h(this.g),$h(this.b),Gb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hM,formatHex:hM,formatHex8:B6e,formatRgb:dM,toString:dM}));function hM(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}`}function B6e(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}${Ch((isNaN(this.opacity)?1:this.opacity)*255)}`}function dM(){const e=Gb(this.opacity);return`${e===1?"rgb(":"rgba("}${$h(this.r)}, ${$h(this.g)}, ${$h(this.b)}${e===1?")":`, ${e})`}`}function Gb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $h(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ch(e){return e=$h(e),(e<16?"0":"")+e.toString(16)}function pM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Qo(e,t,r,n)}function MH(e){if(e instanceof Qo)return new Qo(e.h,e.s,e.l,e.opacity);if(e instanceof ay||(e=e1(e)),!e)return new Qo;if(e instanceof Qo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Qo(s,o,l,e.opacity)}function V6e(e,t,r,n){return arguments.length===1?MH(e):new Qo(e,t,r,n??1)}function Qo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}UC(Qo,V6e,LH(ay,{brighter(e){return e=e==null?Hb:Math.pow(Hb,e),new Qo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Jv:Math.pow(Jv,e),new Qo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ds(hA(e>=240?e-240:e+120,a,n),hA(e,a,n),hA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Qo(mM(this.h),Nx(this.s),Nx(this.l),Gb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gb(this.opacity);return`${e===1?"hsl(":"hsla("}${mM(this.h)}, ${Nx(this.s)*100}%, ${Nx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function mM(e){return e=(e||0)%360,e<0?e+360:e}function Nx(e){return Math.max(0,Math.min(1,e||0))}function hA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zC=e=>()=>e;function U6e(e,t){return function(r){return e+r*t}}function z6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function q6e(e){return(e=+e)==1?RH:function(t,r){return r-t?z6e(t,r,e):zC(isNaN(t)?r:t)}}function RH(e,t){var r=t-e;return r?U6e(e,r):zC(isNaN(e)?t:e)}const gM=function e(t){var r=q6e(t);function n(a,i){var s=r((a=_E(a)).r,(i=_E(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=RH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function W6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function H6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function G6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=sm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function K6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Y6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var SE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dA=new RegExp(SE.source,"g");function X6e(e){return function(){return e}}function Q6e(e){return function(t){return e(t)+""}}function J6e(e,t){var r=SE.lastIndex=dA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=SE.exec(e))&&(a=dA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Kb(n,a)})),r=dA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Q6e(l[0].x):X6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function sm(e,t){var r=typeof t,n;return t==null||r==="boolean"?zC(t):(r==="number"?Kb:r==="string"?(n=e1(t))?(t=n,gM):J6e:t instanceof e1?gM:t instanceof Date?K6e:H6e(t)?W6e:Array.isArray(t)?G6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Y6e:Kb)(e,t)}function qC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Z6e(e,t){t===void 0&&(t=e,e=sm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function eOe(e){return function(){return e}}function Yb(e){return+e}var vM=[0,1];function qi(e){return e}function AE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:eOe(isNaN(t)?NaN:.5)}function tOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function rOe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=AE(a,n),i=r(s,i)):(n=AE(n,a),i=r(i,s)),function(o){return i(n(o))}}function nOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=AE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ny(e,o,1,n)-1;return i[l](a[l](o))}}function iy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W5(){var e=vM,t=vM,r=sm,n,a,i,s=qi,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==qi&&(s=tOe(e[0],e[h-1])),o=h>2?nOe:rOe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Kb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:qi,u()):s!==qi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function WC(){return W5()(qi,qi)}function aOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vp(e){return e=Xb(Math.abs(e)),e?e[1]:NaN}function iOe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function sOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var oOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function t1(e){if(!(t=oOe.exec(e)))throw new Error("invalid format: "+e);var t;return new HC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}t1.prototype=HC.prototype;function HC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var FH;function cOe(e,t){var r=Xb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(FH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xb(e,Math.max(0,t+i-1))[0]}function yM(e,t){var r=Xb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const xM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:aOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yM(e*100,t),r:yM,s:cOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function bM(e){return e}var wM=Array.prototype.map,_M=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function uOe(e){var t=e.grouping===void 0||e.thousands===void 0?bM:iOe(wM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?bM:sOe(wM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=t1(f);var h=f.fill,d=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,w=f.comma,_=f.precision,I=f.trim,P=f.type;P==="n"?(w=!0,P="g"):xM[P]||(_===void 0&&(_=12),I=!0,P="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var D=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=m==="$"?n:/[%p]/.test(P)?s:"",A=xM[P],b=/[defgprs%]/.test(P);_=_===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(T){var N=D,j=E,K,J,X;if(P==="c")j=A(T)+j,T="";else{T=+T;var Z=T<0||1/T<0;if(T=isNaN(T)?l:A(Math.abs(T),_),I&&(T=lOe(T)),Z&&+T==0&&g!=="+"&&(Z=!1),N=(Z?g==="("?g:o:g==="-"||g==="("?"":g)+N,j=(P==="s"?_M[8+FH/3]:"")+j+(Z&&g==="("?")":""),b){for(K=-1,J=T.length;++K<J;)if(X=T.charCodeAt(K),48>X||X>57){j=(X===46?a+T.slice(K+1):T.slice(K))+j,T=T.slice(0,K);break}}}w&&!v&&(T=t(T,1/0));var q=N.length+T.length+j.length,U=q<y?new Array(y-q+1).join(h):"";switch(w&&v&&(T=t(U+T,U.length?y-j.length:1/0),U=""),d){case"<":T=N+T+j+U;break;case"=":T=N+U+T+j;break;case"^":T=U.slice(0,q=U.length>>1)+N+T+j+U.slice(q);break;default:T=U+N+T+j;break}return i(T)}return O.toString=function(){return f+""},O}function u(f,h){var d=c((f=t1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(vp(h)/3)))*3,m=Math.pow(10,-g),v=_M[8+g/3];return function(y){return d(m*y)+v}}return{format:c,formatPrefix:u}}var Cx,GC,$H;fOe({thousands:",",grouping:[3],currency:["$",""]});function fOe(e){return Cx=uOe(e),GC=Cx.format,$H=Cx.formatPrefix,Cx}function hOe(e){return Math.max(0,-vp(Math.abs(e)))}function dOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vp(t)/3)))*3-vp(Math.abs(e)))}function pOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vp(t)-vp(e))+1}function BH(e,t,r,n){var a=bE(e,t,r),i;switch(n=t1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=dOe(a,s))&&(n.precision=i),$H(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=pOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return GC(n)}function Bf(e){var t=e.domain;return e.ticks=function(r){var n=t();return yE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return BH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=xE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Qb(){var e=WC();return e.copy=function(){return iy(e,Qb())},Ao.apply(e,arguments),Bf(e)}function VH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VH(e).unknown(t)},e=arguments.length?Array.from(e,Yb):[0,1],Bf(r)}function UH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function SM(e){return Math.log(e)}function AM(e){return Math.exp(e)}function mOe(e){return-Math.log(-e)}function gOe(e){return-Math.exp(-e)}function vOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yOe(e){return e===10?vOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function TM(e){return(t,r)=>-e(-t,r)}function KC(e){const t=e(SM,AM),r=t.domain;let n=10,a,i;function s(){return a=xOe(n),i=yOe(n),r()[0]<0?(a=TM(a),i=TM(i),e(mOe,gOe)):e(SM,AM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=yE(c,u,v))}else y=yE(h,d,Math.min(d-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=t1(l)).precision==null&&(l.trim=!0),l=GC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(UH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function zH(){const e=KC(W5()).domain([1,10]);return e.copy=()=>iy(e,zH()).base(e.base()),Ao.apply(e,arguments),e}function EM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function YC(e){var t=1,r=e(EM(t),kM(t));return r.constant=function(n){return arguments.length?e(EM(t=+n),kM(t)):t},Bf(r)}function qH(){var e=YC(W5());return e.copy=function(){return iy(e,qH()).constant(e.constant())},Ao.apply(e,arguments)}function NM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function bOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function wOe(e){return e<0?-e*e:e*e}function XC(e){var t=e(qi,qi),r=1;function n(){return r===1?e(qi,qi):r===.5?e(bOe,wOe):e(NM(r),NM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Bf(t)}function QC(){var e=XC(W5());return e.copy=function(){return iy(e,QC()).exponent(e.exponent())},Ao.apply(e,arguments),e}function _Oe(){return QC.apply(null,arguments).exponent(.5)}function CM(e){return Math.sign(e)*e*e}function SOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function WH(){var e=WC(),t=[0,1],r=!1,n;function a(i){var s=SOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(CM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yb)).map(CM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return WH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Ao.apply(a,arguments),Bf(a)}function HH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=N6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ny(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(df),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return HH().domain(e).range(t).unknown(n)},Ao.apply(i,arguments)}function GH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ny(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return GH().domain([e,t]).range(a).unknown(i)},Ao.apply(Bf(s),arguments)}function KH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ny(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return KH().domain(e).range(t).unknown(r)},Ao.apply(a,arguments)}const pA=new Date,mA=new Date;function Pa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Pa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(pA.setTime(+i),mA.setTime(+s),e(pA),e(mA),Math.floor(r(pA,mA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Jb=Pa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jb);Jb.range;const gc=1e3,ho=gc*60,vc=ho*60,Bc=vc*24,JC=Bc*7,PM=Bc*30,gA=Bc*365,Ph=Pa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCSeconds());Ph.range;const ZC=Pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getMinutes());ZC.range;const eP=Pa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ho)},(e,t)=>(t-e)/ho,e=>e.getUTCMinutes());eP.range;const tP=Pa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc-e.getMinutes()*ho)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getHours());tP.range;const rP=Pa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getUTCHours());rP.range;const sy=Pa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ho)/Bc,e=>e.getDate()-1);sy.range;const H5=Pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>e.getUTCDate()-1);H5.range;const YH=Pa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bc,e=>Math.floor(e/Bc));YH.range;function vd(e){return Pa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*ho)/JC)}const G5=vd(0),Zb=vd(1),AOe=vd(2),TOe=vd(3),yp=vd(4),EOe=vd(5),kOe=vd(6);G5.range;Zb.range;AOe.range;TOe.range;yp.range;EOe.range;kOe.range;function yd(e){return Pa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/JC)}const K5=yd(0),ew=yd(1),NOe=yd(2),COe=yd(3),xp=yd(4),POe=yd(5),OOe=yd(6);K5.range;ew.range;NOe.range;COe.range;xp.range;POe.range;OOe.range;const nP=Pa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nP.range;const aP=Pa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aP.range;const Vc=Pa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Vc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Vc.range;const Uc=Pa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Uc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Uc.range;function XH(e,t,r,n,a,i){const s=[[Ph,1,gc],[Ph,5,5*gc],[Ph,15,15*gc],[Ph,30,30*gc],[i,1,ho],[i,5,5*ho],[i,15,15*ho],[i,30,30*ho],[a,1,vc],[a,3,3*vc],[a,6,6*vc],[a,12,12*vc],[n,1,Bc],[n,2,2*Bc],[r,1,JC],[t,1,PM],[t,3,3*PM],[e,1,gA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),g=d?d.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,d=BC(([,,v])=>v).right(s,h);if(d===s.length)return e.every(bE(c/gA,u/gA,f));if(d===0)return Jb.every(Math.max(bE(c,u,f),1));const[g,m]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(m)}return[o,l]}const[IOe,DOe]=XH(Uc,aP,K5,YH,rP,eP),[jOe,LOe]=XH(Vc,nP,G5,sy,tP,ZC);function vA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function MOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wm(a),u=Hm(a),f=Wm(i),h=Hm(i),d=Wm(s),g=Hm(s),m=Wm(o),v=Hm(o),y=Wm(l),w=Hm(l),_={a:Z,A:q,b:U,B:te,c:null,d:MM,e:MM,f:iIe,g:mIe,G:vIe,H:rIe,I:nIe,j:aIe,L:QH,m:sIe,M:oIe,p:z,q:C,Q:$M,s:BM,S:lIe,u:cIe,U:uIe,V:fIe,w:hIe,W:dIe,x:null,X:null,y:pIe,Y:gIe,Z:yIe,"%":FM},I={a:R,A:V,b:G,B:Y,c:null,d:RM,e:RM,f:_Ie,g:IIe,G:jIe,H:xIe,I:bIe,j:wIe,L:ZH,m:SIe,M:AIe,p:se,q:ce,Q:$M,s:BM,S:TIe,u:EIe,U:kIe,V:NIe,w:CIe,W:PIe,x:null,X:null,y:OIe,Y:DIe,Z:LIe,"%":FM},P={a:O,A:T,b:N,B:j,c:K,d:jM,e:jM,f:JOe,g:DM,G:IM,H:LM,I:LM,j:KOe,L:QOe,m:GOe,M:YOe,p:b,q:HOe,Q:eIe,s:tIe,S:XOe,u:VOe,U:UOe,V:zOe,w:BOe,W:qOe,x:J,X,y:DM,Y:IM,Z:WOe,"%":ZOe};_.x=D(r,_),_.X=D(n,_),_.c=D(t,_),I.x=D(r,I),I.X=D(n,I),I.c=D(t,I);function D(re,he){return function(be){var B=[],Te=-1,_e=0,ge=re.length,ee,Ae,Oe;for(be instanceof Date||(be=new Date(+be));++Te<ge;)re.charCodeAt(Te)===37&&(B.push(re.slice(_e,Te)),(Ae=OM[ee=re.charAt(++Te)])!=null?ee=re.charAt(++Te):Ae=ee==="e"?" ":"0",(Oe=he[ee])&&(ee=Oe(be,Ae)),B.push(ee),_e=Te+1);return B.push(re.slice(_e,Te)),B.join("")}}function E(re,he){return function(be){var B=qm(1900,void 0,1),Te=A(B,re,be+="",0),_e,ge;if(Te!=be.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(he&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(_e=yA(qm(B.y,0,1)),ge=_e.getUTCDay(),_e=ge>4||ge===0?ew.ceil(_e):ew(_e),_e=H5.offset(_e,(B.V-1)*7),B.y=_e.getUTCFullYear(),B.m=_e.getUTCMonth(),B.d=_e.getUTCDate()+(B.w+6)%7):(_e=vA(qm(B.y,0,1)),ge=_e.getDay(),_e=ge>4||ge===0?Zb.ceil(_e):Zb(_e),_e=sy.offset(_e,(B.V-1)*7),B.y=_e.getFullYear(),B.m=_e.getMonth(),B.d=_e.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ge="Z"in B?yA(qm(B.y,0,1)).getUTCDay():vA(qm(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ge+5)%7:B.w+B.U*7-(ge+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,yA(B)):vA(B)}}function A(re,he,be,B){for(var Te=0,_e=he.length,ge=be.length,ee,Ae;Te<_e;){if(B>=ge)return-1;if(ee=he.charCodeAt(Te++),ee===37){if(ee=he.charAt(Te++),Ae=P[ee in OM?he.charAt(Te++):ee],!Ae||(B=Ae(re,be,B))<0)return-1}else if(ee!=be.charCodeAt(B++))return-1}return B}function b(re,he,be){var B=c.exec(he.slice(be));return B?(re.p=u.get(B[0].toLowerCase()),be+B[0].length):-1}function O(re,he,be){var B=d.exec(he.slice(be));return B?(re.w=g.get(B[0].toLowerCase()),be+B[0].length):-1}function T(re,he,be){var B=f.exec(he.slice(be));return B?(re.w=h.get(B[0].toLowerCase()),be+B[0].length):-1}function N(re,he,be){var B=y.exec(he.slice(be));return B?(re.m=w.get(B[0].toLowerCase()),be+B[0].length):-1}function j(re,he,be){var B=m.exec(he.slice(be));return B?(re.m=v.get(B[0].toLowerCase()),be+B[0].length):-1}function K(re,he,be){return A(re,t,he,be)}function J(re,he,be){return A(re,r,he,be)}function X(re,he,be){return A(re,n,he,be)}function Z(re){return s[re.getDay()]}function q(re){return i[re.getDay()]}function U(re){return l[re.getMonth()]}function te(re){return o[re.getMonth()]}function z(re){return a[+(re.getHours()>=12)]}function C(re){return 1+~~(re.getMonth()/3)}function R(re){return s[re.getUTCDay()]}function V(re){return i[re.getUTCDay()]}function G(re){return l[re.getUTCMonth()]}function Y(re){return o[re.getUTCMonth()]}function se(re){return a[+(re.getUTCHours()>=12)]}function ce(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var he=D(re+="",_);return he.toString=function(){return re},he},parse:function(re){var he=E(re+="",!1);return he.toString=function(){return re},he},utcFormat:function(re){var he=D(re+="",I);return he.toString=function(){return re},he},utcParse:function(re){var he=E(re+="",!0);return he.toString=function(){return re},he}}}var OM={"-":"",_:" ",0:"0"},za=/^\s*\d+/,ROe=/^%/,FOe=/[\\^$*+?|[\]().{}]/g;function Wr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function $Oe(e){return e.replace(FOe,"\\$&")}function Wm(e){return new RegExp("^(?:"+e.map($Oe).join("|")+")","i")}function Hm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function BOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function UOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function zOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function qOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function IM(e,t,r){var n=za.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function WOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function HOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function jM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function KOe(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function LM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function YOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function XOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function QOe(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function JOe(e,t,r){var n=za.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function ZOe(e,t,r){var n=ROe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function eIe(e,t,r){var n=za.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function tIe(e,t,r){var n=za.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function MM(e,t){return Wr(e.getDate(),t,2)}function rIe(e,t){return Wr(e.getHours(),t,2)}function nIe(e,t){return Wr(e.getHours()%12||12,t,2)}function aIe(e,t){return Wr(1+sy.count(Vc(e),e),t,3)}function QH(e,t){return Wr(e.getMilliseconds(),t,3)}function iIe(e,t){return QH(e,t)+"000"}function sIe(e,t){return Wr(e.getMonth()+1,t,2)}function oIe(e,t){return Wr(e.getMinutes(),t,2)}function lIe(e,t){return Wr(e.getSeconds(),t,2)}function cIe(e){var t=e.getDay();return t===0?7:t}function uIe(e,t){return Wr(G5.count(Vc(e)-1,e),t,2)}function JH(e){var t=e.getDay();return t>=4||t===0?yp(e):yp.ceil(e)}function fIe(e,t){return e=JH(e),Wr(yp.count(Vc(e),e)+(Vc(e).getDay()===4),t,2)}function hIe(e){return e.getDay()}function dIe(e,t){return Wr(Zb.count(Vc(e)-1,e),t,2)}function pIe(e,t){return Wr(e.getFullYear()%100,t,2)}function mIe(e,t){return e=JH(e),Wr(e.getFullYear()%100,t,2)}function gIe(e,t){return Wr(e.getFullYear()%1e4,t,4)}function vIe(e,t){var r=e.getDay();return e=r>=4||r===0?yp(e):yp.ceil(e),Wr(e.getFullYear()%1e4,t,4)}function yIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Wr(t/60|0,"0",2)+Wr(t%60,"0",2)}function RM(e,t){return Wr(e.getUTCDate(),t,2)}function xIe(e,t){return Wr(e.getUTCHours(),t,2)}function bIe(e,t){return Wr(e.getUTCHours()%12||12,t,2)}function wIe(e,t){return Wr(1+H5.count(Uc(e),e),t,3)}function ZH(e,t){return Wr(e.getUTCMilliseconds(),t,3)}function _Ie(e,t){return ZH(e,t)+"000"}function SIe(e,t){return Wr(e.getUTCMonth()+1,t,2)}function AIe(e,t){return Wr(e.getUTCMinutes(),t,2)}function TIe(e,t){return Wr(e.getUTCSeconds(),t,2)}function EIe(e){var t=e.getUTCDay();return t===0?7:t}function kIe(e,t){return Wr(K5.count(Uc(e)-1,e),t,2)}function eG(e){var t=e.getUTCDay();return t>=4||t===0?xp(e):xp.ceil(e)}function NIe(e,t){return e=eG(e),Wr(xp.count(Uc(e),e)+(Uc(e).getUTCDay()===4),t,2)}function CIe(e){return e.getUTCDay()}function PIe(e,t){return Wr(ew.count(Uc(e)-1,e),t,2)}function OIe(e,t){return Wr(e.getUTCFullYear()%100,t,2)}function IIe(e,t){return e=eG(e),Wr(e.getUTCFullYear()%100,t,2)}function DIe(e,t){return Wr(e.getUTCFullYear()%1e4,t,4)}function jIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xp(e):xp.ceil(e),Wr(e.getUTCFullYear()%1e4,t,4)}function LIe(){return"+0000"}function FM(){return"%"}function $M(e){return+e}function BM(e){return Math.floor(+e/1e3)}var Gd,tG,rG;MIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function MIe(e){return Gd=MOe(e),tG=Gd.format,Gd.parse,rG=Gd.utcFormat,Gd.utcParse,Gd}function RIe(e){return new Date(e)}function FIe(e){return e instanceof Date?+e:+new Date(+e)}function iP(e,t,r,n,a,i,s,o,l,c){var u=WC(),f=u.invert,h=u.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),I=c("%Y");function P(D){return(l(D)<D?d:o(D)<D?g:s(D)<D?m:i(D)<D?v:n(D)<D?a(D)<D?y:w:r(D)<D?_:I)(D)}return u.invert=function(D){return new Date(f(D))},u.domain=function(D){return arguments.length?h(Array.from(D,FIe)):h().map(RIe)},u.ticks=function(D){var E=h();return e(E[0],E[E.length-1],D??10)},u.tickFormat=function(D,E){return E==null?P:c(E)},u.nice=function(D){var E=h();return(!D||typeof D.range!="function")&&(D=t(E[0],E[E.length-1],D??10)),D?h(UH(E,D)):u},u.copy=function(){return iy(u,iP(e,t,r,n,a,i,s,o,l,c))},u}function $Ie(){return Ao.apply(iP(jOe,LOe,Vc,nP,G5,sy,tP,ZC,Ph,tG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BIe(){return Ao.apply(iP(IOe,DOe,Uc,aP,K5,H5,rP,eP,Ph,rG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y5(){var e=0,t=1,r,n,a,i,s=qi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),c):[s(0),s(1)]}}return c.range=u(sm),c.rangeRound=u(qC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Vf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nG(){var e=Bf(Y5()(qi));return e.copy=function(){return Vf(e,nG())},Jc.apply(e,arguments)}function aG(){var e=KC(Y5()).domain([1,10]);return e.copy=function(){return Vf(e,aG()).base(e.base())},Jc.apply(e,arguments)}function iG(){var e=YC(Y5());return e.copy=function(){return Vf(e,iG()).constant(e.constant())},Jc.apply(e,arguments)}function sP(){var e=XC(Y5());return e.copy=function(){return Vf(e,sP()).exponent(e.exponent())},Jc.apply(e,arguments)}function VIe(){return sP.apply(null,arguments).exponent(.5)}function sG(){var e=[],t=qi;function r(n){if(n!=null&&!isNaN(n=+n))return t((ny(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(df),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>k6e(e,i/n))},r.copy=function(){return sG(t).domain(e)},Jc.apply(r,arguments)}function X5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=qi,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function g(m){return function(v){var y,w,_;return arguments.length?([y,w,_]=v,c=Z6e(m,[y,w,_]),d):[c(0),c(.5),c(1)]}}return d.range=g(sm),d.rangeRound=g(qC),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function oG(){var e=Bf(X5()(qi));return e.copy=function(){return Vf(e,oG())},Jc.apply(e,arguments)}function lG(){var e=KC(X5()).domain([.1,1,10]);return e.copy=function(){return Vf(e,lG()).base(e.base())},Jc.apply(e,arguments)}function cG(){var e=YC(X5());return e.copy=function(){return Vf(e,cG()).constant(e.constant())},Jc.apply(e,arguments)}function oP(){var e=XC(X5());return e.copy=function(){return Vf(e,oP()).exponent(e.exponent())},Jc.apply(e,arguments)}function UIe(){return oP.apply(null,arguments).exponent(.5)}const VM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qv,scaleDiverging:oG,scaleDivergingLog:lG,scaleDivergingPow:oP,scaleDivergingSqrt:UIe,scaleDivergingSymlog:cG,scaleIdentity:VH,scaleImplicit:wE,scaleLinear:Qb,scaleLog:zH,scaleOrdinal:VC,scalePoint:qg,scalePow:QC,scaleQuantile:HH,scaleQuantize:GH,scaleRadial:WH,scaleSequential:nG,scaleSequentialLog:aG,scaleSequentialPow:sP,scaleSequentialQuantile:sG,scaleSequentialSqrt:VIe,scaleSequentialSymlog:iG,scaleSqrt:_Oe,scaleSymlog:qH,scaleThreshold:KH,scaleTime:$Ie,scaleUtc:BIe,tickFormat:BH},Symbol.toStringTag,{value:"Module"}));var zIe=Jp;function qIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!zIe(s):r(s,o)))var o=s,l=i}return l}var uG=qIe;function WIe(e,t){return e>t}var HIe=WIe,GIe=uG,KIe=HIe,YIe=im;function XIe(e){return e&&e.length?GIe(e,YIe,KIe):void 0}var QIe=XIe;const Q5=dn(QIe);function JIe(e,t){return e<t}var ZIe=JIe,e8e=uG,t8e=ZIe,r8e=im;function n8e(e){return e&&e.length?e8e(e,r8e,t8e):void 0}var a8e=n8e;const J5=dn(a8e);var i8e=wC,s8e=$f,o8e=yH,l8e=ys;function c8e(e,t){var r=l8e(e)?i8e:o8e;return r(e,s8e(t))}var u8e=c8e,f8e=gH,h8e=u8e;function d8e(e,t){return f8e(h8e(e,t),1)}var p8e=d8e;const m8e=dn(p8e);var g8e=MC;function v8e(e,t){return g8e(e,t)}var y8e=v8e;const Z5=dn(y8e);var om=1e9,x8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cP,Rn=!0,wo="[DecimalError] ",Bh=wo+"Invalid argument: ",lP=wo+"Exponent out of range: ",lm=Math.floor,vh=Math.pow,b8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ds,La=1e7,Nn=7,fG=9007199254740991,tw=lm(fG/Nn),Ut={};Ut.absoluteValue=Ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ut.comparedTo=Ut.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Nn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ut.dividedBy=Ut.div=function(e){return Ec(this,new this.constructor(e))};Ut.dividedToIntegerBy=Ut.idiv=function(e){var t=this,r=t.constructor;return yn(Ec(t,new r(e),0,1),r.precision)};Ut.equals=Ut.eq=function(e){return!this.cmp(e)};Ut.exponent=function(){return ya(this)};Ut.greaterThan=Ut.gt=function(e){return this.cmp(e)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(e){return this.cmp(e)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(e){return this.cmp(e)<0};Ut.lessThanOrEqualTo=Ut.lte=function(e){return this.cmp(e)<1};Ut.logarithm=Ut.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ds))throw Error(wo+"NaN");if(r.s<1)throw Error(wo+(r.s?"NaN":"-Infinity"));return r.eq(Ds)?new n(0):(Rn=!1,t=Ec(r1(r,i),r1(e,i),i),Rn=!0,yn(t,a))};Ut.minus=Ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pG(t,e):hG(t,(e.s=-e.s,e))};Ut.modulo=Ut.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(wo+"NaN");return r.s?(Rn=!1,t=Ec(r,e,0,1).times(e),Rn=!0,r.minus(t)):yn(new n(r),a)};Ut.naturalExponential=Ut.exp=function(){return dG(this)};Ut.naturalLogarithm=Ut.ln=function(){return r1(this)};Ut.negated=Ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ut.plus=Ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hG(t,e):pG(t,(e.s=-e.s,e))};Ut.precision=Ut.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Bh+e);if(t=ya(a)+1,n=a.d.length-1,r=n*Nn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ut.squareRoot=Ut.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(wo+"NaN")}for(e=ya(o),Rn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Cl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ec(o,i,s+2)).times(.5),Cl(i.d).slice(0,s)===(t=Cl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(yn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Rn=!0,yn(n,r)};Ut.times=Ut.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%La|0,t=o/La|0;i[a]=(i[a]+t)%La|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Rn?yn(e,f.precision):e};Ut.toDecimalPlaces=Ut.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zl(e,0,om),t===void 0?t=n.rounding:zl(t,0,8),yn(r,e+ya(r)+1,t))};Ut.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=td(n,!0):(zl(e,0,om),t===void 0?t=a.rounding:zl(t,0,8),n=yn(new a(n),e+1,t),r=td(n,!0,e+1)),r};Ut.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?td(a):(zl(e,0,om),t===void 0?t=i.rounding:zl(t,0,8),n=yn(new i(a),e+ya(a)+1,t),r=td(n.abs(),!1,e+ya(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ut.toInteger=Ut.toint=function(){var e=this,t=e.constructor;return yn(new t(e),ya(e)+1,t.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ds);if(o=new l(o),!o.s){if(e.s<1)throw Error(wo+"Infinity");return o}if(o.eq(Ds))return o;if(n=l.precision,e.eq(Ds))return yn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=fG){for(a=new l(Ds),t=Math.ceil(n/Nn+4),Rn=!1;r%2&&(a=a.times(o),zM(a.d,t)),r=lm(r/2),r!==0;)o=o.times(o),zM(o.d,t);return Rn=!0,e.s<0?new l(Ds).div(a):yn(a,n)}}else if(i<0)throw Error(wo+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Rn=!1,a=e.times(r1(o,n+c)),Rn=!0,a=dG(a),a.s=i,a};Ut.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ya(a),n=td(a,r<=i.toExpNeg||r>=i.toExpPos)):(zl(e,1,om),t===void 0?t=i.rounding:zl(t,0,8),a=yn(new i(a),e,t),r=ya(a),n=td(a,e<=r||r<=i.toExpNeg,e)),n};Ut.toSignificantDigits=Ut.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zl(e,1,om),t===void 0?t=n.rounding:zl(t,0,8)),yn(new n(r),e,t)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ya(e),r=e.constructor;return td(e,t<=r.toExpNeg||t>=r.toExpPos)};function hG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Rn?yn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Nn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/La|0,l[i]%=La;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Rn?yn(t,f):t}function zl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Bh+e)}function Cl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Nn-n.length,r&&(i+=Lu(r)),i+=n;s=e[t],n=s+"",r=Nn-n.length,r&&(i+=Lu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ec=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%La|0,s=i/La|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*La+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,g,m,v,y,w,_,I,P,D,E,A,b=n.constructor,O=n.s==a.s?1:-1,T=n.d,N=a.d;if(!n.s)return new b(n);if(!a.s)throw Error(wo+"Division by zero");for(l=n.e-a.e,E=N.length,P=T.length,d=new b(O),g=d.d=[],c=0;N[c]==(T[c]||0);)++c;if(N[c]>(T[c]||0)&&--l,i==null?w=i=b.precision:s?w=i+(ya(n)-ya(a))+1:w=i,w<0)return new b(0);if(w=w/Nn+2|0,c=0,E==1)for(u=0,N=N[0],w++;(c<P||u)&&w--;c++)_=u*La+(T[c]||0),g[c]=_/N|0,u=_%N|0;else{for(u=La/(N[0]+1)|0,u>1&&(N=e(N,u),T=e(T,u),E=N.length,P=T.length),I=E,m=T.slice(0,E),v=m.length;v<E;)m[v++]=0;A=N.slice(),A.unshift(0),D=N[0],N[1]>=La/2&&++D;do u=0,o=t(N,m,E,v),o<0?(y=m[0],E!=v&&(y=y*La+(m[1]||0)),u=y/D|0,u>1?(u>=La&&(u=La-1),f=e(N,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,E<h?A:N,h))):(u==0&&(o=u=1),f=N.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(N,m,E,v),o<1&&(u++,r(m,E<v?A:N,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=T[I]||0:(m=[T[I]],v=1);while((I++<P||m[0]!==void 0)&&w--)}return g[0]||g.shift(),d.e=l,yn(d,s?i+ya(d)+1:i)}}();function dG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ya(e)>16)throw Error(lP+ya(e));if(!e.s)return new u(Ds);for(t==null?(Rn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(vh(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ds),u.precision=o;;){if(a=yn(a.times(e),o),r=r.times(++l),s=i.plus(Ec(a,r,o)),Cl(s.d).slice(0,o)===Cl(i.d).slice(0,o)){for(;c--;)i=yn(i.times(i),o);return u.precision=f,t==null?(Rn=!0,yn(i,f)):i}i=s}}function ya(e){for(var t=e.e*Nn,r=e.d[0];r>=10;r/=10)t++;return t}function xA(e,t,r){if(t>e.LN10.sd())throw Rn=!0,r&&(e.precision=r),Error(wo+"LN10 precision limit exceeded");return yn(new e(e.LN10),t)}function Lu(e){for(var t="";e--;)t+="0";return t}function r1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,g=d.d,m=d.constructor,v=m.precision;if(d.s<1)throw Error(wo+(d.s?"NaN":"-Infinity"));if(d.eq(Ds))return new m(0);if(t==null?(Rn=!1,c=v):c=t,d.eq(10))return t==null&&(Rn=!0),xA(m,c);if(c+=h,m.precision=c,r=Cl(g),n=r.charAt(0),i=ya(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Cl(d.d),n=r.charAt(0),f++;i=ya(d),n>1?(d=new m("0."+r),i++):d=new m(n+"."+r.slice(1))}else return l=xA(m,c+2,v).times(i+""),d=r1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Rn=!0,yn(d,v)):d;for(o=s=d=Ec(d.minus(Ds),d.plus(Ds),c),u=yn(d.times(d),c),a=3;;){if(s=yn(s.times(u),c),l=o.plus(Ec(s,new m(a),c)),Cl(l.d).slice(0,c)===Cl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(xA(m,c+2,v).times(i+""))),o=Ec(o,new m(f),c),m.precision=v,t==null?(Rn=!0,yn(o,v)):o;o=l,a+=2}}function UM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=lm(r/Nn),e.d=[],n=(r+1)%Nn,r<0&&(n+=Nn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Nn;n<a;)e.d.push(+t.slice(n,n+=Nn));t=t.slice(n),n=Nn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Rn&&(e.e>tw||e.e<-tw))throw Error(lP+r)}else e.s=0,e.e=0,e.d=[0];return e}function yn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Nn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Nn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Nn,a=n-Nn+s}if(r!==void 0&&(i=vh(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/vh(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ya(e),f.length=1,t=t-i-1,f[0]=vh(10,(Nn-t%Nn)%Nn),e.e=lm(-t/Nn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=vh(10,Nn-n),f[u]=a>0?(c/vh(10,s-a)%vh(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==La&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=La)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Rn&&(e.e>tw||e.e<-tw))throw Error(lP+ya(e));return e}function pG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Rn?yn(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/Nn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=La-1;--l[i],l[a]+=La}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Rn?yn(t,d):t):new h(0)}function td(e,t,r){var n,a=ya(e),i=Cl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Lu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Lu(-a-1)+i,r&&(n=r-s)>0&&(i+=Lu(n))):a>=s?(i+=Lu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Lu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Lu(n))),e.s<0?"-"+i:i}function zM(e,t){if(e.length>t)return e.length=t,!0}function mG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Bh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return UM(s,i.toString())}else if(typeof i!="string")throw Error(Bh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,b8e.test(i))UM(s,i);else throw Error(Bh+i)}if(a.prototype=Ut,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=mG,a.config=a.set=w8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function w8e(e){if(!e||typeof e!="object")throw Error(wo+"Object expected");var t,r,n,a=["precision",1,om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(lm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Bh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Bh+r+": "+n);return this}var cP=mG(x8e);Ds=new cP(1);const fn=cP;function _8e(e){return E8e(e)||T8e(e)||A8e(e)||S8e()}function S8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A8e(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function T8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function E8e(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var k8e=function(t){return t},gG={"@@functional/placeholder":!0},vG=function(t){return t===gG},qM=function(t){return function r(){return arguments.length===0||arguments.length===1&&vG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},N8e=function e(t,r){return t===1?r:qM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==gG}).length;return s>=t?r.apply(void 0,a):e(t-s,qM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return vG(f)?l.shift():f});return r.apply(void 0,_8e(u).concat(l))}))})},e_=function(t){return N8e(t.length,t)},EE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},C8e=e_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),P8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return k8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},kE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},yG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function O8e(e){var t;return e===0?t=1:t=Math.floor(new fn(e).abs().log(10).toNumber())+1,t}function I8e(e,t,r){for(var n=new fn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var D8e=e_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),j8e=e_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),L8e=e_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const t_={rangeStep:I8e,getDigitCount:O8e,interpolateNumber:D8e,uninterpolateNumber:j8e,uninterpolateTruncation:L8e};function NE(e){return F8e(e)||R8e(e)||xG(e)||M8e()}function M8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function F8e(e){if(Array.isArray(e))return CE(e)}function n1(e,t){return V8e(e)||B8e(e,t)||xG(e,t)||$8e()}function $8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xG(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function B8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function V8e(e){if(Array.isArray(e))return e}function bG(e){var t=n1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function wG(e,t,r){if(e.lte(0))return new fn(0);var n=t_.getDigitCount(e.toNumber()),a=new fn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new fn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new fn(Math.ceil(l))}function U8e(e,t,r){var n=1,a=new fn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new fn(10).pow(t_.getDigitCount(e)-1),a=new fn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new fn(Math.floor(e)))}else e===0?a=new fn(Math.floor((t-1)/2)):r||(a=new fn(Math.floor(e)));var s=Math.floor((t-1)/2),o=P8e(C8e(function(l){return a.add(new fn(l-s).mul(n)).toNumber()}),EE);return o(0,t)}function _G(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new fn(0),tickMin:new fn(0),tickMax:new fn(0)};var i=wG(new fn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new fn(0):(s=new fn(e).add(t).div(2),s=s.sub(new fn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new fn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?_G(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new fn(o).mul(i)),tickMax:s.add(new fn(l).mul(i))})}function z8e(e){var t=n1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=bG([r,n]),l=n1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(NE(EE(0,a-1).map(function(){return 1/0}))):[].concat(NE(EE(0,a-1).map(function(){return-1/0})),[u]);return r>n?kE(f):f}if(c===u)return U8e(c,a,i);var h=_G(c,u,s,i),d=h.step,g=h.tickMin,m=h.tickMax,v=t_.rangeStep(g,m.add(new fn(.1).mul(d)),d);return r>n?kE(v):v}function q8e(e,t){var r=n1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=bG([n,a]),o=n1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=wG(new fn(c).sub(l).div(u-1),i,0),h=[].concat(NE(t_.rangeStep(new fn(l),new fn(c).sub(new fn(.99).mul(f)),f)),[c]);return n>a?kE(h):h}var W8e=yG(z8e),H8e=yG(q8e),G8e="Invariant failed";function rd(e,t){throw new Error(G8e)}var K8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function Y8e(e,t){return Z8e(e)||J8e(e,t)||Q8e(e,t)||X8e()}function X8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q8e(e,t){if(e){if(typeof e=="string")return WM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WM(e,t)}}function WM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Z8e(e){if(Array.isArray(e))return e}function eDe(e,t){if(e==null)return{};var r=tDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TG(n.key),n)}}function aDe(e,t,r){return t&&nDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iDe(e,t,r){return t=nw(t),sDe(e,SG()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function sDe(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oDe(e)}function oDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SG=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function lDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PE(e,t)}function AG(e,t,r){return t=TG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=cDe(e,"string");return bp(t)=="symbol"?t:t+""}function cDe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oy=function(e){function t(){return rDe(this,t),iDe(this,t,arguments)}return lDe(t,e),aDe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=eDe(n,K8e),d=Dr(h,!1);this.props.direction==="x"&&u.type!=="number"&&rd();var g=l.map(function(m){var v=c(m,o),y=v.x,w=v.y,_=v.value,I=v.errorVal;if(!I)return null;var P=[],D,E;if(Array.isArray(I)){var A=Y8e(I,2);D=A[0],E=A[1]}else D=E=I;if(i==="vertical"){var b=u.scale,O=w+a,T=O+s,N=O-s,j=b(_-D),K=b(_+E);P.push({x1:K,y1:T,x2:K,y2:N}),P.push({x1:j,y1:O,x2:K,y2:O}),P.push({x1:j,y1:T,x2:j,y2:N})}else if(i==="horizontal"){var J=f.scale,X=y+a,Z=X-s,q=X+s,U=J(_-D),te=J(_+E);P.push({x1:Z,y1:te,x2:q,y2:te}),P.push({x1:X,y1:U,x2:X,y2:te}),P.push({x1:Z,y1:U,x2:q,y2:U})}return Ie.createElement(la,rw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},d),P.map(function(z){return Ie.createElement("line",rw({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return Ie.createElement(la,{className:"recharts-errorBars"},g)}}])}(Ie.Component);AG(oy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});AG(oy,"displayName","ErrorBar");function a1(e){"@babel/helpers - typeof";return a1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a1(e)}function HM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HM(Object(r),!0).forEach(function(n){uDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uDe(e,t,r){return t=fDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fDe(e){var t=hDe(e,"string");return a1(t)=="symbol"?t:t+""}function hDe(e,t){if(a1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(a1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ps(r,Ac);if(!s)return null;var o=Ac.defaultProps,l=o!==void 0?lh(lh({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?lh(lh({},h),f.props):{},g=d.dataKey,m=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:uP(f),value:m||g,payload:d}}),lh(lh(lh({},l),Ac.getWithHeight(s,a)),{},{payload:c,item:s})};function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function GM(e){return gDe(e)||mDe(e)||pDe(e)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pDe(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function mDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function gDe(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Jn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(n){U0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U0(e,t,r){return t=vDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vDe(e){var t=yDe(e,"string");return i1(t)=="symbol"?t:t+""}function yDe(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zs(e,t,r){return Nr(e)||Nr(t)?r:ka(t)?go(e,t,r):wr(t)?t(e):r}function Wg(e,t,r,n){var a=m8e(e,function(o){return zs(o,t)});if(r==="number"){var i=a.filter(function(o){return It(o)||parseFloat(o)});return i.length?[J5(i),Q5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Nr(o)}):a;return s.map(function(o){return ka(o)||o instanceof Date?o:""})}var xDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(el(f-u)!==el(h-f)){var g=[];if(el(h-f)===el(l[1]-l[0])){d=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{d=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var w=Math.min(u,h),_=Math.max(u,h);if(t>(w+f)/2&&t<=(_+f)/2){s=a[c].index;break}}}else for(var I=0;I<o;I++)if(I===0&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2&&t<=(n[I].coordinate+n[I+1].coordinate)/2||I===o-1&&t>(n[I].coordinate+n[I-1].coordinate)/2){s=n[I].index;break}return s},uP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},bDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(E){return _c(E.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Jn(Jn({},w),y[0].props):y[0].props,I=_.barSize,P=_[v];s[P]||(s[P]=[]);var D=Nr(I)?r:I;s[P].push({item:y[0],stackList:y.slice(1),barSize:Nr(D)?void 0:ed(D,n,0)})}}return s},wDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=ed(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,g=s.reduce(function(I,P){return I+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&d>0&&(h=!0,d*=.9,g=l*d);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(I,P){var D={item:P.item,position:{offset:v.offset+v.size+c,size:h?d:P.barSize}},E=[].concat(GM(I),[D]);return v=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){E.push({item:A,position:v})}),E},f)}else{var y=ed(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var w=(a-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=s.reduce(function(I,P,D){var E=[].concat(GM(I),[{item:P.item,position:{offset:y+(w+c)*D+(w-_)/2,size:_}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(A){E.push({item:A,position:E[E.length-1].position})}),E},f)}return u},_De=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=EG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&d!=="center"&&It(t[d]))return Jn(Jn({},t),{},U0({},d,t[d]+(f||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&g!=="middle"&&It(t[g]))return Jn(Jn({},t),{},U0({},g,t[g]+(h||0)))}return t},SDe=function(t,r,n){return Nr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kG=function(t,r,n,a,i){var s=r.props.children,o=vo(s,oy).filter(function(c){return SDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=zs(u,n);if(Nr(f))return c;var h=Array.isArray(f)?[J5(f),Q5(f)]:[f,f],d=l.reduce(function(g,m){var v=zs(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),w=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(w,g[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},ADe=function(t,r,n,a,i){var s=r.map(function(o){return kG(t,o,n,i,a)}).filter(function(o){return!Nr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},NG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&kG(t,l,c,a)||Wg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},CG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},PG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},yc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?el(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!ey(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},bA=new WeakMap,Px=function(t,r){if(typeof r!="function")return t;bA.has(t)||bA.set(t,new WeakMap);var n=bA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},TDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Qv(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Qb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:qg(),realScaleType:"point"}:i==="category"?{scale:Qv(),realScaleType:"band"}:{scale:Qb(),realScaleType:"linear"};if(Zh(a)){var l="scale".concat(F5(a));return{scale:(VM[l]||qg)(),realScaleType:VM[l]?l:"point"}}return wr(a)?{scale:a}:{scale:qg(),realScaleType:"point"}},YM=1e-4,EDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-YM,s=Math.max(a[0],a[1])+YM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},kDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},NDe=function(t,r){if(!r||r.length!==2||!It(r[0])||!It(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!It(t[0])||t[0]<n)&&(i[0]=n),(!It(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},CDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=ey(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},PDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=ey(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},ODe={sign:CDe,expand:HSe,none:hp,silhouette:GSe,wiggle:KSe,positive:PDe},IDe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=ODe[n],s=WSe().keys(a).value(function(o,l){return+zs(o,l,0)}).order(rE).offset(i);return s(t)},DDe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Jn(Jn({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],w=f[y]||{hasStack:!1,stackGroups:{}};if(ka(m)){var _=w.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),w.hasStack=!0,w.stackGroups[m]=_}else w.stackGroups[ty("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Jn(Jn({},f),{},U0({},y,w))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,v){var y=d.stackGroups[v];return Jn(Jn({},m),{},U0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:IDe(t,y.items,i)}))},g)}return Jn(Jn({},f),{},U0({},h,d))},u)},jDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=W8e(c,i,o);return t.domain([J5(u),Q5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=H8e(f,i,o);return{niceTicks:h}}return null};function XM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Nr(a[t.dataKey])){var o=Nb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=zs(a,Nr(s)?t.dataKey:s);return Nr(l)?null:t.scale(l)}var QM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=zs(s,r.dataKey,r.domain[o]);return Nr(l)?null:r.scale(l)-i/2+a},LDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},MDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(ka(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},RDe=function(t){return t.reduce(function(r,n){return[J5(n.concat([r[0]]).filter(It)),Q5(n.concat([r[1]]).filter(It))]},[1/0,-1/0])},OG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=RDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},JM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IE=function(t,r,n){if(wr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(It(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(JM.test(t[0])){var i=+JM.exec(t[0])[1];a[0]=r[0]-i}else wr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(It(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(ZM.test(t[1])){var s=+ZM.exec(t[1])[1];a[1]=r[1]+s}else wr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},aw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=FC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},eR=function(t,r,n){return!t||!t.length||Z5(t,go(n,"type.defaultProps.domain"))?r:t},IG=function(t,r){var n=t.type.defaultProps?Jn(Jn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Jn(Jn({},Dr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:uP(t),value:zs(r,a),type:l,payload:r,chartType:c,hide:u})};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function tR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tR(Object(r),!0).forEach(function(n){FDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FDe(e,t,r){return t=$De(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $De(e){var t=BDe(e,"string");return s1(t)=="symbol"?t:t+""}function BDe(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iw=Math.PI/180,VDe=function(t){return t*180/Math.PI},ni=function(t,r,n,a){return{x:t+Math.cos(-iw*a)*n,y:r+Math.sin(-iw*a)*n}},UDe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},zDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=UDe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:VDe(c),angleInRadian:c}},qDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},WDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},nR=function(t,r){var n=t.x,a=t.y,i=zDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=qDe(r),f=u.startAngle,h=u.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?rR(rR({},r),{},{radius:s,angle:WDe(d,r)}):null};function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}var HDe=["offset"];function GDe(e){return QDe(e)||XDe(e)||YDe(e)||KDe()}function KDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YDe(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function XDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QDe(e){if(Array.isArray(e))return DE(e)}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JDe(e,t){if(e==null)return{};var r=ZDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ZDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aR(Object(r),!0).forEach(function(n){eje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eje(e,t,r){return t=tje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tje(e){var t=rje(e,"string");return o1(t)=="symbol"?t:t+""}function rje(e,t){if(o1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l1(){return l1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l1.apply(this,arguments)}var nje=function(t){var r=t.value,n=t.formatter,a=Nr(t.children)?r:t.children;return wr(n)?n(a):a},aje=function(t,r){var n=el(r-t),a=Math.min(Math.abs(r-t),360);return n*a},ije=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=aje(d,g),w=y>=0?1:-1,_,I;a==="insideStart"?(_=d+w*s,I=m):a==="insideEnd"?(_=g-w*s,I=!m):a==="end"&&(_=g+w*s,I=m),I=y<=0?I:!I;var P=ni(c,u,v,_),D=ni(c,u,v,_+(I?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(I?0:1,`,
    `).concat(D.x,",").concat(D.y),A=Nr(t.id)?ty("recharts-radial-line-"):t.id;return Ie.createElement("text",l1({},n,{dominantBaseline:"central",className:qr("recharts-radial-bar-label",o)}),Ie.createElement("defs",null,Ie.createElement("path",{id:A,d:E})),Ie.createElement("textPath",{xlinkHref:"#".concat(A)},r))},sje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=ni(s,o,c+n,h),g=d.x,m=d.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=ni(s,o,v,h),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},oje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var _={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return _a(_a({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var I={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return _a(_a({},I),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return _a(_a({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var D={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return _a(_a({},D),n?{width:Math.max(n.x+n.width-D.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return i==="insideLeft"?_a({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},E):i==="insideRight"?_a({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideTop"?_a({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?_a({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},E):i==="insideTopLeft"?_a({x:o+v,y:l+h,textAnchor:w,verticalAnchor:g},E):i==="insideTopRight"?_a({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},E):i==="insideBottomLeft"?_a({x:o+v,y:l+u-h,textAnchor:w,verticalAnchor:d},E):i==="insideBottomRight"?_a({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:d},E):Zp(i)&&(It(i.x)||Nh(i.x))&&(It(i.y)||Nh(i.y))?_a({x:o+ed(i.x,c),y:l+ed(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):_a({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},lje=function(t){return"cx"in t&&It(t.cx)};function Ai(e){var t=e.offset,r=t===void 0?5:t,n=JDe(e,HDe),a=_a({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Nr(o)&&Nr(l)&&!H.isValidElement(c)&&!wr(c))return null;if(H.isValidElement(c))return H.cloneElement(c,a);var d;if(wr(c)){if(d=H.createElement(c,a),H.isValidElement(d))return d}else d=nje(a);var g=lje(i),m=Dr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return ije(a,d,m);var v=g?sje(a):oje(a);return Ie.createElement(qb,l1({className:qr("recharts-label",f)},m,v,{breakAll:h}),d)}Ai.displayName="Label";var DG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,w=t.labelViewBox;if(w)return w;if(It(m)&&It(v)){if(It(f)&&It(h))return{x:f,y:h,width:m,height:v};if(It(d)&&It(g))return{x:d,y:g,width:m,height:v}}return It(f)&&It(h)?{x:f,y:h,width:0,height:0}:It(r)&&It(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},cje=function(t,r){return t?t===!0?Ie.createElement(Ai,{key:"label-implicit",viewBox:r}):ka(t)?Ie.createElement(Ai,{key:"label-implicit",viewBox:r,value:t}):H.isValidElement(t)?t.type===Ai?H.cloneElement(t,{key:"label-implicit",viewBox:r}):Ie.createElement(Ai,{key:"label-implicit",content:t,viewBox:r}):wr(t)?Ie.createElement(Ai,{key:"label-implicit",content:t,viewBox:r}):Zp(t)?Ie.createElement(Ai,l1({viewBox:r},t,{key:"label-implicit"})):null:null},uje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=DG(t),s=vo(a,Ai).map(function(l,c){return H.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=cje(t.label,r||i);return[o].concat(GDe(s))};Ai.parseViewBox=DG;Ai.renderCallByParent=uje;function fje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var hje=fje;const dje=dn(hje);function c1(e){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c1(e)}var pje=["valueAccessor"],mje=["data","dataKey","clockWise","id","textBreakAll"];function gje(e){return bje(e)||xje(e)||yje(e)||vje()}function vje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yje(e,t){if(e){if(typeof e=="string")return jE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(e,t)}}function xje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bje(e){if(Array.isArray(e))return jE(e)}function jE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){wje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wje(e,t,r){return t=_je(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _je(e){var t=Sje(e,"string");return c1(t)=="symbol"?t:t+""}function Sje(e,t){if(c1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(c1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oR(e,t){if(e==null)return{};var r=Aje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Aje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Tje=function(t){return Array.isArray(t.value)?dje(t.value):t.value};function pf(e){var t=e.valueAccessor,r=t===void 0?Tje:t,n=oR(e,pje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=oR(n,mje);return!a||!a.length?null:Ie.createElement(la,{className:"recharts-label-list"},a.map(function(u,f){var h=Nr(i)?r(u,f):zs(u&&u.payload,i),d=Nr(o)?{}:{id:"".concat(o,"-").concat(f)};return Ie.createElement(Ai,sw({},Dr(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ai.parseViewBox(Nr(s)?u:sR(sR({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}pf.displayName="LabelList";function Eje(e,t){return e?e===!0?Ie.createElement(pf,{key:"labelList-implicit",data:t}):Ie.isValidElement(e)||wr(e)?Ie.createElement(pf,{key:"labelList-implicit",data:t,content:e}):Zp(e)?Ie.createElement(pf,sw({data:t},e,{key:"labelList-implicit"})):null:null}function kje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=vo(n,pf).map(function(s,o){return H.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Eje(e.label,t);return[i].concat(gje(a))}pf.renderCallByParent=kje;function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function lR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lR(Object(r),!0).forEach(function(n){Nje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nje(e,t,r){return t=Cje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cje(e){var t=Pje(e,"string");return u1(t)=="symbol"?t:t+""}function Pje(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oje=function(t,r){var n=el(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ox=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/iw,h=c?i:i+s*f,d=ni(r,n,u,h),g=ni(r,n,a,h),m=c?i-s*f:i,v=ni(r,n,u*Math.cos(f*iw),m);return{center:d,circleTangency:g,lineTangency:v,theta:f}},jG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Oje(s,o),c=s+l,u=ni(r,n,i,s),f=ni(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=ni(r,n,a,s),g=ni(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},Ije=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=el(u-c),h=Ox({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ox({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,_=v.theta,I=l?Math.abs(c-u):Math.abs(c-u)-m-_;if(I<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):jG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var D=Ox({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=D.circleTangency,A=D.lineTangency,b=D.theta,O=Ox({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=O.circleTangency,N=O.lineTangency,j=O.theta,K=l?Math.abs(c-u):Math.abs(c-u)-b-j;if(K<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(N.x,",").concat(N.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(K>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(A.x,",").concat(A.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},Dje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},LG=function(t){var r=cR(cR({},Dje),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=qr("recharts-sector",h),g=s-i,m=ed(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=Ije({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=jG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ie.createElement("path",LE({},Dr(r,!0),{className:d,d:v,role:"img"}))};function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uR(Object(r),!0).forEach(function(n){jje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jje(e,t,r){return t=Lje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lje(e){var t=Mje(e,"string");return f1(t)=="symbol"?t:t+""}function Mje(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hR={curveBasisClosed:jSe,curveBasisOpen:LSe,curveBasis:DSe,curveBumpX:xSe,curveBumpY:bSe,curveLinearClosed:MSe,curveLinear:B5,curveMonotoneX:RSe,curveMonotoneY:FSe,curveNatural:$Se,curveStep:BSe,curveStepAfter:USe,curveStepBefore:VSe},Ix=function(t){return t.x===+t.x&&t.y===+t.y},Gm=function(t){return t.x},Km=function(t){return t.y},Rje=function(t,r){if(wr(t))return t;var n="curve".concat(F5(t));return(n==="curveMonotone"||n==="curveBump")&&r?hR["".concat(n).concat(r==="vertical"?"Y":"X")]:hR[n]||B5},Fje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=Rje(n,o),f=c?i.filter(function(m){return Ix(m)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(m){return Ix(m)}):s,g=f.map(function(m,v){return fR(fR({},m),{},{base:d[v]})});return o==="vertical"?h=_x().y(Km).x1(Gm).x0(function(m){return m.base.x}):h=_x().x(Gm).y1(Km).y0(function(m){return m.base.y}),h.defined(Ix).curve(u),h(g)}return o==="vertical"&&It(s)?h=_x().y(Km).x1(Gm).x0(s):It(s)?h=_x().x(Gm).y1(Km).y0(s):h=LW().x(Gm).y(Km),h.defined(Ix).curve(u),h(f)},RE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Fje(t):a;return Ie.createElement("path",ME({},Dr(t,!1),Cb(t),{className:qr("recharts-curve",r),d:s,ref:i}))},MG={exports:{}},$je="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Bje=$je,Vje=Bje;function RG(){}function FG(){}FG.resetWarningCache=RG;var Uje=function(){function e(n,a,i,s,o,l){if(l!==Vje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:FG,resetWarningCache:RG};return r.PropTypes=r,r};MG.exports=Uje();var zje=MG.exports;const Zr=dn(zje);var qje=Object.getOwnPropertyNames,Wje=Object.getOwnPropertySymbols,Hje=Object.prototype.hasOwnProperty;function dR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function Dx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function pR(e){return qje(e).concat(Wje(e))}var Gje=Object.hasOwn||function(e,t){return Hje.call(e,t)};function xd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Kje="__v",Yje="__o",Xje="_owner",mR=Object.getOwnPropertyDescriptor,gR=Object.keys;function Qje(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function Jje(e,t){return xd(e.getTime(),t.getTime())}function Zje(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function eLe(e,t){return e===t}function vR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var tLe=xd;function rLe(e,t,r){var n=gR(e),a=n.length;if(gR(t).length!==a)return!1;for(;a-- >0;)if(!$G(e,t,r,n[a]))return!1;return!0}function Ym(e,t,r){var n=pR(e),a=n.length;if(pR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!$G(e,t,r,i)||(s=mR(e,i),o=mR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function nLe(e,t){return xd(e.valueOf(),t.valueOf())}function aLe(e,t){return e.source===t.source&&e.flags===t.flags}function yR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function iLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function sLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function $G(e,t,r,n){return(n===Xje||n===Yje||n===Kje)&&(e.$$typeof||t.$$typeof)?!0:Gje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var oLe="[object Arguments]",lLe="[object Boolean]",cLe="[object Date]",uLe="[object Error]",fLe="[object Map]",hLe="[object Number]",dLe="[object Object]",pLe="[object RegExp]",mLe="[object Set]",gLe="[object String]",vLe="[object URL]",yLe=Array.isArray,xR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,bR=Object.assign,xLe=Object.prototype.toString.call.bind(Object.prototype.toString);function bLe(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var w=g.constructor;if(w!==m.constructor)return!1;if(w===Object)return o(g,m,v);if(yLe(g))return t(g,m,v);if(xR!=null&&xR(g))return f(g,m,v);if(w===Date)return r(g,m,v);if(w===RegExp)return c(g,m,v);if(w===Map)return i(g,m,v);if(w===Set)return u(g,m,v);var _=xLe(g);return _===cLe?r(g,m,v):_===pLe?c(g,m,v):_===fLe?i(g,m,v):_===mLe?u(g,m,v):_===dLe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):_===vLe?h(g,m,v):_===uLe?n(g,m,v):_===oLe?o(g,m,v):_===lLe||_===hLe||_===gLe?l(g,m,v):!1}}function wLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ym:Qje,areDatesEqual:Jje,areErrorsEqual:Zje,areFunctionsEqual:eLe,areMapsEqual:n?dR(vR,Ym):vR,areNumbersEqual:tLe,areObjectsEqual:n?Ym:rLe,arePrimitiveWrappersEqual:nLe,areRegExpsEqual:aLe,areSetsEqual:n?dR(yR,Ym):yR,areTypedArraysEqual:n?Ym:iLe,areUrlsEqual:sLe};if(r&&(a=bR({},a,r(a))),t){var i=Dx(a.areArraysEqual),s=Dx(a.areMapsEqual),o=Dx(a.areObjectsEqual),l=Dx(a.areSetsEqual);a=bR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function _Le(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function SLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var ALe=Uf();Uf({strict:!0});Uf({circular:!0});Uf({circular:!0,strict:!0});Uf({createInternalComparator:function(){return xd}});Uf({strict:!0,createInternalComparator:function(){return xd}});Uf({circular:!0,createInternalComparator:function(){return xd}});Uf({circular:!0,createInternalComparator:function(){return xd},strict:!0});function Uf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=wLe(e),l=bLe(o),c=n?n(l):_Le(l);return SLe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function TLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function wR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):TLe(a)};requestAnimationFrame(n)}function FE(e){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FE(e)}function ELe(e){return PLe(e)||CLe(e)||NLe(e)||kLe()}function kLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NLe(e,t){if(e){if(typeof e=="string")return _R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _R(e,t)}}function _R(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function CLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PLe(e){if(Array.isArray(e))return e}function OLe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=ELe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){wR(a.bind(null,c),l);return}a(l),wR(a.bind(null,c));return}FE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function SR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function AR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SR(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return t=ILe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ILe(e){var t=DLe(e,"string");return h1(t)==="symbol"?t:String(t)}function DLe(e,t){if(h1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},LLe=function(t){return t},MLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hg=function(t,r){return Object.keys(r).reduce(function(n,a){return AR(AR({},n),{},BG({},a,t(a,r[a])))},{})},TR=function(t,r,n){return t.map(function(a){return"".concat(MLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function RLe(e,t){return BLe(e)||$Le(e,t)||VG(e,t)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Le(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BLe(e){if(Array.isArray(e))return e}function VLe(e){return qLe(e)||zLe(e)||VG(e)||ULe()}function ULe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VG(e,t){if(e){if(typeof e=="string")return $E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(e,t)}}function zLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qLe(e){if(Array.isArray(e))return $E(e)}function $E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ow=1e-4,UG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},zG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},ER=function(t,r){return function(n){var a=UG(t,r);return zG(a,n)}},WLe=function(t,r){return function(n){var a=UG(t,r),i=[].concat(VLe(a.map(function(s,o){return s*o}).slice(1)),[0]);return zG(i,n)}},kR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=RLe(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=ER(a,s),h=ER(i,o),d=WLe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var w=y>1?1:y,_=w,I=0;I<8;++I){var P=f(_)-w,D=d(_);if(Math.abs(P-w)<ow||D<ow)return h(_);_=g(_-P/D)}return h(_)};return m.isStepper=!1,m},HLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*i,m=h+(d-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<ow&&Math.abs(m)<ow?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},GLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kR(a);case"spring":return HLe();default:if(a.split("(")[0]==="cubic-bezier")return kR(a)}return typeof a=="function"?a:null};function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function NR(e){return XLe(e)||YLe(e)||qG(e)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function XLe(e){if(Array.isArray(e))return VE(e)}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){BE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BE(e,t,r){return t=QLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QLe(e){var t=JLe(e,"string");return d1(t)==="symbol"?t:String(t)}function JLe(e,t){if(d1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZLe(e,t){return rMe(e)||tMe(e,t)||qG(e,t)||eMe()}function eMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qG(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function rMe(e){if(Array.isArray(e))return e}var lw=function(t,r,n){return t+(r-t)*n},UE=function(t){var r=t.from,n=t.to;return r!==n},nMe=function e(t,r,n){var a=Hg(function(i,s){if(UE(s)){var o=t(s.from,s.to,s.velocity),l=ZLe(o,2),c=l[0],u=l[1];return Xa(Xa({},s),{},{from:c,velocity:u})}return s},r);return n<1?Hg(function(i,s){return UE(s)?Xa(Xa({},s),{},{velocity:lw(s.velocity,a[i].velocity,n),from:lw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const aMe=function(e,t,r,n,a){var i=jLe(e,t),s=i.reduce(function(v,y){return Xa(Xa({},v),{},BE({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return Xa(Xa({},v),{},BE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Hg(function(y,w){return w.from},o)},d=function(){return!Object.values(o).filter(UE).length},g=function(y){c||(c=y);var w=y-c,_=w/r.dt;o=nMe(r,o,_),a(Xa(Xa(Xa({},e),t),h())),c=y,d()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var w=(y-u)/n,_=Hg(function(P,D){return lw.apply(void 0,NR(D).concat([r(w)]))},s);if(a(Xa(Xa(Xa({},e),t),_)),w<1)l=requestAnimationFrame(f);else{var I=Hg(function(P,D){return lw.apply(void 0,NR(D).concat([r(1)]))},s);a(Xa(Xa(Xa({},e),t),I))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}var iMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sMe(e,t){if(e==null)return{};var r=oMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function oMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wA(e){return fMe(e)||uMe(e)||cMe(e)||lMe()}function lMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cMe(e,t){if(e){if(typeof e=="string")return zE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(e,t)}}function uMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function fMe(e){if(Array.isArray(e))return zE(e)}function zE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){fg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fg(e,t,r){return t=WG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,WG(n.key),n)}}function pMe(e,t,r){return t&&dMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WG(e){var t=mMe(e,"string");return wp(t)==="symbol"?t:String(t)}function mMe(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function vMe(e){var t=yMe();return function(){var n=cw(e),a;if(t){var i=cw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return WE(this,a)}}function WE(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HE(e)}function HE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}var zc=function(e){gMe(r,e);var t=vMe(r);function r(n,a){var i;hMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(HE(i)),i.changeStyle=i.changeStyle.bind(HE(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),WE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},WE(i);i.state={style:l?fg({},l,c):c}}else i.state={style:{}};return i}return pMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?fg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(ALe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?fg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Bo(Bo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=aMe(s,o,GLe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(m,v,y){if(y===0)return m;var w=v.duration,_=v.easing,I=_===void 0?"ease":_,P=v.style,D=v.properties,E=v.onAnimationEnd,A=y>0?s[y-1]:v,b=D||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(wA(m),[i.runJSAnimation.bind(i,{from:A.style,to:P,duration:w,easing:I}),w]);var O=TR(b,w,I),T=Bo(Bo(Bo({},A.style),P),{},{transition:O});return[].concat(wA(m),[T,w,E]).filter(LLe)};return this.manager.start([l].concat(wA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=OLe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?fg({},o,l):l,v=TR(Object.keys(m),s,c);g.start([u,i,Bo(Bo({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=sMe(a,iMe),c=H.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var g=d.props,m=g.style,v=m===void 0?{}:m,y=g.className,w=H.cloneElement(d,Bo(Bo({},l),{},{style:Bo(Bo({},v),u),className:y}));return w};return c===1?f(H.Children.only(i)):Ie.createElement("div",null,H.Children.map(i,function(h){return f(h)}))}}]),r}(H.PureComponent);zc.displayName="Animate";zc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zc.propTypes={from:Zr.oneOfType([Zr.object,Zr.string]),to:Zr.oneOfType([Zr.object,Zr.string]),attributeName:Zr.string,duration:Zr.number,begin:Zr.number,easing:Zr.oneOfType([Zr.string,Zr.func]),steps:Zr.arrayOf(Zr.shape({duration:Zr.number.isRequired,style:Zr.object.isRequired,easing:Zr.oneOfType([Zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Zr.func]),properties:Zr.arrayOf("string"),onAnimationEnd:Zr.func})),children:Zr.oneOfType([Zr.node,Zr.func]),isActive:Zr.bool,canBegin:Zr.bool,onAnimationEnd:Zr.func,shouldReAnimate:Zr.bool,onAnimationStart:Zr.func,onAnimationReStart:Zr.func};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function xMe(e,t){return SMe(e)||_Me(e,t)||wMe(e,t)||bMe()}function bMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wMe(e,t){if(e){if(typeof e=="string")return OR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OR(e,t)}}function OR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _Me(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function SMe(e){if(Array.isArray(e))return e}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){AMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AMe(e,t,r){return t=TMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TMe(e){var t=EMe(e,"string");return p1(t)=="symbol"?t:t+""}function EMe(e,t){if(p1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},kMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},NMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fP=function(t){var r=DR(DR({},NMe),t),n=H.useRef(),a=H.useState(-1),i=xMe(a,2),s=i[0],o=i[1];H.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&o(I)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,w=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=qr("recharts-rectangle",d);return w?Ie.createElement(zc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:w},function(I){var P=I.width,D=I.height,E=I.x,A=I.y;return Ie.createElement(zc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Ie.createElement("path",uw({},Dr(r,!0),{className:_,d:jR(E,A,P,D,h),ref:n})))}):Ie.createElement("path",uw({},Dr(r,!0),{className:_,d:jR(l,c,u,f,h)}))};function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}var hP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=qr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ie.createElement("circle",GE({},Dr(t,!1),Cb(t),{className:s,cx:r,cy:n,r:a})):null};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}var CMe=["x","y","top","left","width","height","className"];function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function PMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){OMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OMe(e,t,r){return t=IMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IMe(e){var t=DMe(e,"string");return m1(t)=="symbol"?t:t+""}function DMe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jMe(e,t){if(e==null)return{};var r=LMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var MMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},RMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,g=t.className,m=jMe(t,CMe),v=PMe({x:n,y:i,top:o,left:c,width:f,height:d},m);return!It(n)||!It(i)||!It(f)||!It(d)||!It(o)||!It(c)?null:Ie.createElement("path",KE({},Dr(v,!0),{className:qr("recharts-cross",g),d:MMe(n,i,f,d,o,c)}))},FMe=iH,$Me=FMe(Object.getPrototypeOf,Object),BMe=$Me,VMe=Xc,UMe=BMe,zMe=Qc,qMe="[object Object]",WMe=Function.prototype,HMe=Object.prototype,HG=WMe.toString,GMe=HMe.hasOwnProperty,KMe=HG.call(Object);function YMe(e){if(!zMe(e)||VMe(e)!=qMe)return!1;var t=UMe(e);if(t===null)return!0;var r=GMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&HG.call(r)==KMe}var XMe=YMe;const QMe=dn(XMe);var JMe=Xc,ZMe=Qc,eRe="[object Boolean]";function tRe(e){return e===!0||e===!1||ZMe(e)&&JMe(e)==eRe}var rRe=tRe;const nRe=dn(rRe);function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function aRe(e,t){return lRe(e)||oRe(e,t)||sRe(e,t)||iRe()}function iRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sRe(e,t){if(e){if(typeof e=="string")return MR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MR(e,t)}}function MR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function lRe(e){if(Array.isArray(e))return e}function RR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RR(Object(r),!0).forEach(function(n){cRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cRe(e,t,r){return t=uRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uRe(e){var t=fRe(e,"string");return g1(t)=="symbol"?t:t+""}function fRe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $R=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},hRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dRe=function(t){var r=FR(FR({},hRe),t),n=H.useRef(),a=H.useState(-1),i=aRe(a,2),s=i[0],o=i[1];H.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var w=qr("recharts-trapezoid",d);return y?Ie.createElement(zc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(_){var I=_.upperWidth,P=_.lowerWidth,D=_.height,E=_.x,A=_.y;return Ie.createElement(zc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Ie.createElement("path",fw({},Dr(r,!0),{className:w,d:$R(E,A,I,P,D),ref:n})))}):Ie.createElement("g",null,Ie.createElement("path",fw({},Dr(r,!0),{className:w,d:$R(l,c,u,f,h)})))},pRe=["option","shapeType","propTransformer","activeClassName","isActive"];function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function mRe(e,t){if(e==null)return{};var r=gRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){vRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vRe(e,t,r){return t=yRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yRe(e){var t=xRe(e,"string");return v1(t)=="symbol"?t:t+""}function xRe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bRe(e,t){return hw(hw({},t),e)}function wRe(e,t){return e==="symbols"}function VR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ie.createElement(fP,r);case"trapezoid":return Ie.createElement(dRe,r);case"sector":return Ie.createElement(LG,r);case"symbols":if(wRe(t))return Ie.createElement(PC,r);break;default:return null}}function _Re(e){return H.isValidElement(e)?e.props:e}function SRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?bRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=mRe(e,pRe),c;if(H.isValidElement(t))c=H.cloneElement(t,hw(hw({},l),_Re(t)));else if(wr(t))c=t(l);else if(QMe(t)&&!nRe(t)){var u=a(t,l);c=Ie.createElement(VR,{shapeType:r,elementProps:u})}else{var f=l;c=Ie.createElement(VR,{shapeType:r,elementProps:f})}return o?Ie.createElement(la,{className:s},c):c}function r_(e,t){return t!=null&&"trapezoids"in e.props}function n_(e,t){return t!=null&&"sectors"in e.props}function y1(e,t){return t!=null&&"points"in e.props}function ARe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function TRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function ERe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function kRe(e,t){var r;return r_(e,t)?r=ARe:n_(e,t)?r=TRe:y1(e,t)&&(r=ERe),r}function NRe(e,t){var r;return r_(e,t)?r="trapezoids":n_(e,t)?r="sectors":y1(e,t)&&(r="points"),r}function CRe(e,t){if(r_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(n_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return y1(e,t)?t.payload:{}}function PRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=NRe(r,t),i=CRe(r,t),s=n.filter(function(l,c){var u=Z5(i,l),f=r.props[a].filter(function(g){var m=kRe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var ORe=Math.ceil,IRe=Math.max;function DRe(e,t,r,n){for(var a=-1,i=IRe(ORe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var jRe=DRe,LRe=AH,UR=1/0,MRe=17976931348623157e292;function RRe(e){if(!e)return e===0?e:0;if(e=LRe(e),e===UR||e===-UR){var t=e<0?-1:1;return t*MRe}return e===e?e:0}var GG=RRe,FRe=jRe,$Re=q5,_A=GG;function BRe(e){return function(t,r,n){return n&&typeof n!="number"&&$Re(t,r,n)&&(r=n=void 0),t=_A(t),r===void 0?(r=t,t=0):r=_A(r),n=n===void 0?t<r?1:-1:_A(n),FRe(t,r,n,e)}}var VRe=BRe,URe=VRe,zRe=URe(),qRe=zRe;const dw=dn(qRe);function x1(e){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x1(e)}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){KG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KG(e,t,r){return t=WRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WRe(e){var t=HRe(e,"string");return x1(t)=="symbol"?t:t+""}function HRe(e,t){if(x1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(x1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GRe=["Webkit","Moz","O","ms"],KRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=GRe.reduce(function(i,s){return qR(qR({},i),{},KG({},s+n,r))},{});return a[t]=r,a};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){Ns(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XG(n.key),n)}}function XRe(e,t,r){return t&&HR(e.prototype,t),r&&HR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QRe(e,t,r){return t=mw(t),JRe(e,YG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function JRe(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZRe(e)}function ZRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function eFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function Ns(e,t,r){return t=XG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=tFe(e,"string");return _p(t)=="symbol"?t:t+""}function tFe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rFe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=qg().domain(dw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},GR=function(t){return t.changedTouches&&!!t.changedTouches.length},Sp=function(e){function t(r){var n;return YRe(this,t),n=QRe(this,t,[r]),Ns(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ns(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ns(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ns(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ns(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ns(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ns(n,"handleSlideDragStart",function(a){var i=GR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return eFe(t,e),XRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=zs(i[n],o,n);return wr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==d)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=GR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,f+h-d-c):w<0&&(w=Math.max(w,f-c)),y[s]=c+w;var _=this.getIndex(y),I=_.startIndex,P=_.endIndex,D=function(){var A=v.length-1;return s==="startX"&&(o>l?I%m===0:P%m===0)||o<l&&P===A||s==="endX"&&(o>l?P%m===0:I%m===0)||o>l&&P===A};this.setState(Ns(Ns({},s,c+w),"brushMoveStartX",n.pageX),function(){g&&D()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Ns({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ie.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=H.Children.only(c);return f?Ie.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),w=SA(SA({},Dr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=d||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Ie.createElement(la,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:c};return Ie.createElement(la,{className:"recharts-brush-texts"},Ie.createElement(qb,pw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(a)),Ie.createElement(qb,pw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,w=h.isTravellerFocused;if(!a||!a.length||!It(o)||!It(l)||!It(c)||!It(u)||c<=0||u<=0)return null;var _=qr("recharts-brush",i),I=Ie.Children.count(s)===1,P=KRe("userSelect","none");return Ie.createElement(la,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ie.createElement(Ie.Fragment,null,Ie.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ie.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ie.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ie.isValidElement(n)?i=Ie.cloneElement(n,a):wr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return SA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?rFe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(H.PureComponent);Ns(Sp,"displayName","Brush");Ns(Sp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var nFe=RC;function aFe(e,t){var r;return nFe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var iFe=aFe,sFe=QW,oFe=$f,lFe=iFe,cFe=ys,uFe=q5;function fFe(e,t,r){var n=cFe(e)?sFe:lFe;return r&&uFe(e,t,r)&&(t=void 0),n(e,oFe(t))}var hFe=fFe;const dFe=dn(hFe);var $l=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},KR=xH;function pFe(e,t,r){t=="__proto__"&&KR?KR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var mFe=pFe,gFe=mFe,vFe=vH,yFe=$f;function xFe(e,t){var r={};return t=yFe(t),vFe(e,function(n,a,i){gFe(r,a,t(n,a,i))}),r}var bFe=xFe;const wFe=dn(bFe);function _Fe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var SFe=_Fe,AFe=RC;function TFe(e,t){var r=!0;return AFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var EFe=TFe,kFe=SFe,NFe=EFe,CFe=$f,PFe=ys,OFe=q5;function IFe(e,t,r){var n=PFe(e)?kFe:NFe;return r&&OFe(e,t,r)&&(t=void 0),n(e,CFe(t))}var DFe=IFe;const QG=dn(DFe);var jFe=["x","y"];function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}function YR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YR(Object(r),!0).forEach(function(n){LFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t,r){return t=MFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MFe(e){var t=RFe(e,"string");return b1(t)=="symbol"?t:t+""}function RFe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FFe(e,t){if(e==null)return{};var r=$Fe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $Fe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function BFe(e,t){var r=e.x,n=e.y,a=FFe(e,jFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Xm(Xm(Xm(Xm(Xm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function XR(e){return Ie.createElement(SRe,XE({shapeType:"rectangle",propTransformer:BFe,activeClassName:"recharts-active-bar"},e))}var VFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||rd(),r)}},UFe=["value","background"],JG;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function zFe(e,t){if(e==null)return{};var r=qFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function QR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QR(Object(r),!0).forEach(function(n){Xu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,eK(n.key),n)}}function HFe(e,t,r){return t&&JR(e.prototype,t),r&&JR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function GFe(e,t,r){return t=vw(t),KFe(e,ZG()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function KFe(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YFe(e)}function YFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function XFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function Xu(e,t,r){return t=eK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=QFe(e,"string");return Ap(t)=="symbol"?t:t+""}function QFe(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=function(e){function t(){var r;WFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=GFe(this,t,[].concat(a)),Xu(r,"state",{isAnimationFinished:!1}),Xu(r,"id",ty("recharts-bar-")),Xu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Xu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return XFe(t,e),HFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=Dr(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?c:s,m=ma(ma(ma({},u),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ie.createElement(la,gw({className:"recharts-bar-rectangle"},Pb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ie.createElement(XR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ie.createElement(zc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,m=i.map(function(v,y){var w=h&&h[y];if(w){var _=Yo(w.x,v.x),I=Yo(w.y,v.y),P=Yo(w.width,v.width),D=Yo(w.height,v.height);return ma(ma({},v),{},{x:_(g),y:I(g),width:P(g),height:D(g)})}if(s==="horizontal"){var E=Yo(0,v.height),A=E(g);return ma(ma({},v),{},{y:v.y+v.height-A,height:A})}var b=Yo(0,v.width),O=b(g);return ma(ma({},v),{},{width:O})});return Ie.createElement(la,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Z5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=Dr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=zFe(c,UFe);if(!f)return null;var d=ma(ma(ma(ma(ma({},h),{},{fill:"#eee"},f),l),Pb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ie.createElement(XR,gw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=vo(u,oy);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:zs(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(la,g,f.map(function(m){return Ie.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=qr("recharts-bar",s),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,I=w||_,P=Nr(m)?this.id:m;return Ie.createElement(la,{className:y},w||_?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(P)},Ie.createElement("rect",{x:w?c:c-f/2,y:_?u:u-h/2,width:w?f:f*2,height:_?h:h*2}))):null,Ie.createElement(la,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!d||v)&&pf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(H.PureComponent);JG=ly;Xu(ly,"displayName","Bar");Xu(ly,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xu(ly,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=kDe(n,r);if(!d)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?ma(ma({},m),r.props):r.props,y=v.dataKey,w=v.children,_=v.minPointSize,I=g==="horizontal"?s:i,P=c?I.scale.domain():null,D=LDe({numericAxis:I}),E=vo(w,EH),A=f.map(function(b,O){var T,N,j,K,J,X;c?T=NDe(c[u+O],P):(T=zs(b,y),Array.isArray(T)||(T=[D,T]));var Z=VFe(_,JG.defaultProps.minPointSize)(T[1],O);if(g==="horizontal"){var q,U=[s.scale(T[0]),s.scale(T[1])],te=U[0],z=U[1];N=QM({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:b,index:O}),j=(q=z??te)!==null&&q!==void 0?q:void 0,K=d.size;var C=te-z;if(J=Number.isNaN(C)?0:C,X={x:N,y:s.y,width:K,height:s.height},Math.abs(Z)>0&&Math.abs(J)<Math.abs(Z)){var R=el(J||Z)*(Math.abs(Z)-Math.abs(J));j-=R,J+=R}}else{var V=[i.scale(T[0]),i.scale(T[1])],G=V[0],Y=V[1];if(N=G,j=QM({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:b,index:O}),K=Y-G,J=d.size,X={x:i.x,y:j,width:i.width,height:J},Math.abs(Z)>0&&Math.abs(K)<Math.abs(Z)){var se=el(K||Z)*(Math.abs(Z)-Math.abs(K));K+=se}}return ma(ma(ma({},b),{},{x:N,y:j,width:K,height:J,value:c?T:T[1],payload:b,background:X},E&&E[O]&&E[O].props),{},{tooltipPayload:[IG(r,b)],tooltipPosition:{x:N+K/2,y:j+J/2}})});return ma({data:A,layout:g},h)});function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function JFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tK(n.key),n)}}function ZFe(e,t,r){return t&&ZR(e.prototype,t),r&&ZR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eF(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e,t,r){return t=tK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=e7e(e,"string");return w1(t)=="symbol"?t:t+""}function e7e(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t7e=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ps(c,ly);return u.reduce(function(d,g){var m=r[g],v=m.orientation,y=m.domain,w=m.padding,_=w===void 0?{}:w,I=m.mirror,P=m.reversed,D="".concat(v).concat(I?"Mirror":""),E,A,b,O,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var N=y[1]-y[0],j=1/0,K=m.categoricalDomain.sort(o_e);if(K.forEach(function(V,G){G>0&&(j=Math.min((V||0)-(K[G-1]||0),j))}),Number.isFinite(j)){var J=j/N,X=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=J*X/2),m.padding==="no-gap"){var Z=ed(t.barCategoryGap,J*X),q=J*X/2;E=q-Z-(q-Z)/X*Z}}}a==="xAxis"?A=[n.left+(_.left||0)+(E||0),n.left+n.width-(_.right||0)-(E||0)]:a==="yAxis"?A=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(E||0),n.top+n.height-(_.bottom||0)-(E||0)]:A=m.range,P&&(A=[A[1],A[0]]);var U=TDe(m,i,h),te=U.scale,z=U.realScaleType;te.domain(y).range(A),EDe(te);var C=jDe(te,Ho(Ho({},m),{},{realScaleType:z}));a==="xAxis"?(T=v==="top"&&!I||v==="bottom"&&I,b=n.left,O=f[D]-T*m.height):a==="yAxis"&&(T=v==="left"&&!I||v==="right"&&I,b=f[D]-T*m.width,O=n.top);var R=Ho(Ho(Ho({},m),C),{},{realScaleType:z,x:b,y:O,scale:te,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return R.bandSize=aw(R,C),!m.hide&&a==="xAxis"?f[D]+=(T?-1:1)*R.height:m.hide||(f[D]+=(T?-1:1)*R.width),Ho(Ho({},d),{},a_({},g,R))},{})},rK=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},r7e=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return rK({x:r,y:n},{x:a,y:i})},nK=function(){function e(t){JFe(this,e),this.scale=t}return ZFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();a_(nK,"EPS",1e-4);var dP=function(t){var r=Object.keys(t).reduce(function(n,a){return Ho(Ho({},n),{},a_({},a,nK.create(t[a])))},{});return Ho(Ho({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return wFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return QG(a,function(i,s){return r[s].isInRange(i)})}})};function n7e(e){return(e%180+180)%180}var a7e=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=n7e(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},i7e=$f,s7e=ry,o7e=U5;function l7e(e){return function(t,r,n){var a=Object(t);if(!s7e(t)){var i=i7e(r);t=o7e(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var c7e=l7e,u7e=GG;function f7e(e){var t=u7e(e),r=t%1;return t===t?r?t-r:t:0}var h7e=f7e,d7e=fH,p7e=$f,m7e=h7e,g7e=Math.max;function v7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:m7e(r);return a<0&&(a=g7e(n+a,0)),d7e(e,p7e(t),a)}var y7e=v7e,x7e=c7e,b7e=y7e,w7e=x7e(b7e),_7e=w7e;const S7e=dn(_7e);var A7e=c5e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),pP=H.createContext(void 0),mP=H.createContext(void 0),aK=H.createContext(void 0),iK=H.createContext({}),sK=H.createContext(void 0),oK=H.createContext(0),lK=H.createContext(0),tF=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=A7e(i);return Ie.createElement(pP.Provider,{value:n},Ie.createElement(mP.Provider,{value:a},Ie.createElement(iK.Provider,{value:i},Ie.createElement(aK.Provider,{value:u},Ie.createElement(sK.Provider,{value:s},Ie.createElement(oK.Provider,{value:c},Ie.createElement(lK.Provider,{value:l},o)))))))},T7e=function(){return H.useContext(sK)},cK=function(t){var r=H.useContext(pP);r==null&&rd();var n=r[t];return n==null&&rd(),n},E7e=function(){var t=H.useContext(pP);return Vu(t)},k7e=function(){var t=H.useContext(mP),r=S7e(t,function(n){return QG(n.domain,Number.isFinite)});return r||Vu(t)},uK=function(t){var r=H.useContext(mP);r==null&&rd();var n=r[t];return n==null&&rd(),n},N7e=function(){var t=H.useContext(aK);return t},C7e=function(){return H.useContext(iK)},gP=function(){return H.useContext(lK)},vP=function(){return H.useContext(oK)};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function P7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hK(n.key),n)}}function I7e(e,t,r){return t&&O7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function D7e(e,t,r){return t=yw(t),j7e(e,fK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function j7e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return L7e(e)}function L7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function M7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function rF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rF(Object(r),!0).forEach(function(n){yP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yP(e,t,r){return t=hK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hK(e){var t=R7e(e,"string");return Tp(t)=="symbol"?t:t+""}function R7e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F7e(e,t){return U7e(e)||V7e(e,t)||B7e(e,t)||$7e()}function $7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B7e(e,t){if(e){if(typeof e=="string")return aF(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aF(e,t)}}function aF(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function U7e(e){if(Array.isArray(e))return e}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}var z7e=function(t,r){var n;return Ie.isValidElement(t)?n=Ie.cloneElement(t,r):wr(t)?n=t(r):n=Ie.createElement("line",ZE({},r,{className:"recharts-reference-line-line"})),n},q7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if($l(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,w=t.x.apply(y,{position:s});if($l(c,"discard")&&!t.x.isInRange(w))return null;var _=[{x:w,y:f+d},{x:w,y:f}];return o==="top"?_.reverse():_}if(a){var I=c.segment,P=I.map(function(D){return t.apply(D,{position:s})});return $l(c,"discard")&&dFe(P,function(D){return!t.isInRange(D)})?null:P}return null};function W7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=T7e(),u=cK(a),f=uK(i),h=N7e();if(!c||!h)return null;Sc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=dP({x:u.scale,y:f.scale}),g=ka(t),m=ka(r),v=n&&n.length===2,y=q7e(d,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var w=F7e(y,2),_=w[0],I=_.x,P=_.y,D=w[1],E=D.x,A=D.y,b=$l(e,"hidden")?"url(#".concat(c,")"):void 0,O=nF(nF({clipPath:b},Dr(e,!0)),{},{x1:I,y1:P,x2:E,y2:A});return Ie.createElement(la,{className:qr("recharts-reference-line",o)},z7e(s,O),Ai.renderCallByParent(e,r7e({x1:I,y1:P,x2:E,y2:A})))}var xP=function(e){function t(){return P7e(this,t),D7e(this,t,arguments)}return M7e(t,e),I7e(t,[{key:"render",value:function(){return Ie.createElement(W7e,this.props)}}])}(Ie.Component);yP(xP,"displayName","ReferenceLine");yP(xP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function iF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function K7e(e,t,r){return t&&G7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y7e(e,t,r){return t=xw(t),X7e(e,dK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function X7e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7e(e)}function Q7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function J7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function i_(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=Z7e(e,"string");return Ep(t)=="symbol"?t:t+""}function Z7e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e$e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=dP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return $l(t,"discard")&&!s.isInRange(o)?null:o},s_=function(e){function t(){return H7e(this,t),Y7e(this,t,arguments)}return J7e(t,e),K7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=ka(a),u=ka(i);if(Sc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=e$e(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,m=g.shape,v=g.className,y=$l(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=sF(sF({clipPath:y},Dr(this.props,!0)),{},{cx:h,cy:d});return Ie.createElement(la,{className:qr("recharts-reference-dot",v)},t.renderDot(m,w),Ai.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Ie.Component);i_(s_,"displayName","ReferenceDot");i_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});i_(s_,"renderDot",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):wr(e)?r=e(t):r=Ie.createElement(hP,e3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lF(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){o_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gK(n.key),n)}}function n$e(e,t,r){return t&&r$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$e(e,t,r){return t=bw(t),i$e(e,mK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function i$e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(e)}function s$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function o$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function o_(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=l$e(e,"string");return kp(t)=="symbol"?t:t+""}function l$e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c$e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=dP({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $l(i,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:rK(d,g)},l_=function(e){function t(){return t$e(this,t),a$e(this,t,arguments)}return o$e(t,e),n$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Sc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=ka(a),h=ka(i),d=ka(s),g=ka(o),m=this.props.shape;if(!f&&!h&&!d&&!g&&!m)return null;var v=c$e(f,h,d,g,this.props);if(!v&&!m)return null;var y=$l(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ie.createElement(la,{className:qr("recharts-reference-area",l)},t.renderRect(m,lF(lF({clipPath:y},Dr(this.props,!0)),v)),Ai.renderCallByParent(this.props,v))}}])}(Ie.Component);o_(l_,"displayName","ReferenceArea");o_(l_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});o_(l_,"renderRect",function(e,t){var r;return Ie.isValidElement(e)?r=Ie.cloneElement(e,t):wr(e)?r=e(t):r=Ie.createElement(fP,r3({},t,{className:"recharts-reference-area-rect"})),r});function vK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function u$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return a7e(n,r)}function f$e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function ww(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function h$e(e,t){return vK(e,t+1)}function d$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:vK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},w=g.coordinate,_=l===0||ww(e,w,y,u,o);_||(l=0,u=s,c+=1),_&&(u=w+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function cF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cF(Object(r),!0).forEach(function(n){p$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p$e(e,t,r){return t=m$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m$e(e){var t=g$e(e,"string");return _1(t)=="symbol"?t:t+""}function g$e(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],g,m=function(){return g===void 0&&(g=r(d,h)),g};if(h===s-1){var v=e*(d.coordinate+e*m()/2-l);i[h]=d=xi(xi({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate})}else i[h]=d=xi(xi({},d),{},{tickCoord:d.coordinate});var y=ww(e,d.tickCoord,m,o,l);y&&(l=d.tickCoord-e*(m()/2+a),i[h]=xi(xi({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function y$e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=xi(xi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=ww(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=xi(xi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(w){var _=s[w],I,P=function(){return I===void 0&&(I=r(_,w)),I};if(w===0){var D=e*(_.coordinate-e*P()/2-l);s[w]=_=xi(xi({},_),{},{tickCoord:D<0?_.coordinate-D*e:_.coordinate})}else s[w]=_=xi(xi({},_),{},{tickCoord:_.coordinate});var E=ww(e,_.tickCoord,P,l,c);E&&(l=_.tickCoord+e*(P()/2+a),s[w]=xi(xi({},_),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function bP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(It(l)||Tc.isSsr)return h$e(a,typeof l=="number"&&It(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=u&&d==="width"?zg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(_,I){var P=wr(c)?c(_.value,I):_.value;return d==="width"?u$e(zg(P,{fontSize:t,letterSpacing:r}),g,f):zg(P,{fontSize:t,letterSpacing:r})[d]},v=a.length>=2?el(a[1].coordinate-a[0].coordinate):1,y=f$e(i,v,d);return l==="equidistantPreserveStart"?d$e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=y$e(v,y,m,a,s,l==="preserveStartEnd"):h=v$e(v,y,m,a,s),h.filter(function(w){return w.isShow}))}var x$e=["viewBox"],b$e=["viewBox"],w$e=["ticks"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function _0(){return _0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_0.apply(this,arguments)}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AA(e,t){if(e==null)return{};var r=_$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xK(n.key),n)}}function A$e(e,t,r){return t&&fF(e.prototype,t),r&&fF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function T$e(e,t,r){return t=_w(t),E$e(e,yK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function E$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k$e(e)}function k$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function N$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function wP(e,t,r){return t=xK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xK(e){var t=C$e(e,"string");return Np(t)=="symbol"?t:t+""}function C$e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm=function(e){function t(r){var n;return S$e(this,t),n=T$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return N$e(t,e),A$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=AA(n,x$e),o=this.props,l=o.viewBox,c=AA(o,b$e);return!B0(i,l)||!B0(s,c)||!B0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,g,m,v,y,w,_=f?-1:1,I=n.tickSize||u,P=It(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=g=n.coordinate,v=s+ +!f*l,m=v-_*I,w=m-_*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!f*o,d=g-_*I,y=d-_*h,w=P;break;case"right":m=v=n.coordinate,g=i+ +f*o,d=g+_*I,y=d+_*h,w=P;break;default:d=g=n.coordinate,v=s+ +f*l,m=v+_*I,w=m+_*h,y=P;break}return{line:{x1:d,y1:m,x2:g,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Fi(Fi(Fi({},Dr(this.props,!1)),Dr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Fi(Fi({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Fi(Fi({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Ie.createElement("line",_0({},f,{className:qr("recharts-cartesian-axis-line",go(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=bP(Fi(Fi({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=Dr(this.props,!1),y=Dr(u,!1),w=Fi(Fi({},v),{},{fill:"none"},Dr(l,!1)),_=d.map(function(I,P){var D=s.getTickLineCoord(I),E=D.line,A=D.tick,b=Fi(Fi(Fi(Fi({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),A),{},{index:P,payload:I,visibleTicksCount:d.length,tickFormatter:f});return Ie.createElement(la,_0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Pb(s.props,I,P)),l&&Ie.createElement("line",_0({},w,E,{className:qr("recharts-cartesian-axis-tick-line",go(l,"className"))})),u&&t.renderTickItem(u,b,"".concat(wr(f)?f(I.value,P):I.value).concat(h||"")))});return Ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=AA(f,w$e),g=h;return wr(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:Ie.createElement(la,{className:qr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ie.isValidElement(n)?s=Ie.cloneElement(n,a):wr(n)?s=n(a):s=Ie.createElement(qb,_0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(H.Component);wP(cm,"displayName","CartesianAxis");wP(cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var P$e=["x1","y1","x2","y2","key"],O$e=["offset"];function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function hF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hF(Object(r),!0).forEach(function(n){I$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I$e(e,t,r){return t=D$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D$e(e){var t=j$e(e,"string");return nd(t)=="symbol"?t:t+""}function j$e(e,t){if(nd(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function dF(e,t){if(e==null)return{};var r=L$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var M$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ie.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function bK(e,t){var r;if(Ie.isValidElement(e))r=Ie.cloneElement(e,t);else if(wr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=dF(t,P$e),c=Dr(l,!1);c.offset;var u=dF(c,O$e);r=Ie.createElement("line",Oh({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function R$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ti(Ti({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return bK(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function F$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ti(Ti({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return bK(a,c)});return Ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function $$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?a+s-h:u[d+1]-h;if(m<=0)return null;var v=d%t.length;return Ie.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function B$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?i+o-h:u[d+1]-h;if(m<=0)return null;var v=d%n.length;return Ie.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var V$e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return PG(bP(Ti(Ti(Ti({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},U$e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return PG(bP(Ti(Ti(Ti({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Kd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function f2(e){var t,r,n,a,i,s,o=gP(),l=vP(),c=C7e(),u=Ti(Ti({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Kd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Kd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Kd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Kd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Kd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Kd.verticalFill,x:It(e.x)?e.x:c.left,y:It(e.y)?e.y:c.top,width:It(e.width)?e.width:c.width,height:It(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=E7e(),_=k7e();if(!It(d)||d<=0||!It(g)||g<=0||!It(f)||f!==+f||!It(h)||h!==+h)return null;var I=u.verticalCoordinatesGenerator||V$e,P=u.horizontalCoordinatesGenerator||U$e,D=u.horizontalPoints,E=u.verticalPoints;if((!D||!D.length)&&wr(P)){var A=v&&v.length,b=P({yAxis:_?Ti(Ti({},_),{},{ticks:A?v:_.ticks}):void 0,width:o,height:l,offset:c},A?!0:m);Sc(Array.isArray(b),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nd(b),"]")),Array.isArray(b)&&(D=b)}if((!E||!E.length)&&wr(I)){var O=y&&y.length,T=I({xAxis:w?Ti(Ti({},w),{},{ticks:O?y:w.ticks}):void 0,width:o,height:l,offset:c},O?!0:m);Sc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nd(T),"]")),Array.isArray(T)&&(E=T)}return Ie.createElement("g",{className:"recharts-cartesian-grid"},Ie.createElement(M$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ie.createElement(R$e,Oh({},u,{offset:c,horizontalPoints:D,xAxis:w,yAxis:_})),Ie.createElement(F$e,Oh({},u,{offset:c,verticalPoints:E,xAxis:w,yAxis:_})),Ie.createElement($$e,Oh({},u,{horizontalPoints:D})),Ie.createElement(B$e,Oh({},u,{verticalPoints:E})))}f2.displayName="CartesianGrid";var z$e=["type","layout","connectNulls","ref"],q$e=["key"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function pF(e,t){if(e==null)return{};var r=W$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function W$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(this,arguments)}function mF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ks(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mF(Object(r),!0).forEach(function(n){Go(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yd(e){return Y$e(e)||K$e(e)||G$e(e)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G$e(e,t){if(e){if(typeof e=="string")return i3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i3(e,t)}}function K$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y$e(e){if(Array.isArray(e))return i3(e)}function i3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function X$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_K(n.key),n)}}function Q$e(e,t,r){return t&&gF(e.prototype,t),r&&gF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J$e(e,t,r){return t=Sw(t),Z$e(e,wK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function Z$e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e9e(e)}function e9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function t9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function Go(e,t,r){return t=_K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=r9e(e,"string");return Cp(t)=="symbol"?t:t+""}function r9e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var El=function(e){function t(){var r;X$e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=J$e(this,t,[].concat(a)),Go(r,"state",{isAnimationFinished:!0,totalLength:0}),Go(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Go(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){d=[].concat(Yd(l.slice(0,g)),[f-m]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(Yd(t.repeat(l,u)),Yd(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Go(r,"id",ty("recharts-line-")),Go(r,"pathRef",function(s){r.mainCurve=s}),Go(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Go(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return t9e(t,e),Q$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=vo(u,oy);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:zs(m.payload,v)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ie.createElement(la,d,f.map(function(g){return Ie.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Dr(this.props,!1),h=Dr(l,!0),d=c.map(function(m,v){var y=ks(ks(ks({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ie.createElement(la,Gg({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=pF(o,z$e),h=ks(ks(ks({},Dr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ie.createElement(RE,Gg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,w=y.prevPoints,_=y.totalLength;return Ie.createElement(zc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var P=I.t;if(w){var D=w.length/o.length,E=o.map(function(N,j){var K=Math.floor(j*D);if(w[K]){var J=w[K],X=Yo(J.x,N.x),Z=Yo(J.y,N.y);return ks(ks({},N),{},{x:X(P),y:Z(P)})}if(g){var q=Yo(m*2,N.x),U=Yo(v/2,N.y);return ks(ks({},N),{},{x:q(P),y:U(P)})}return ks(ks({},N),{},{x:N.x,y:N.y})});return i.renderCurveStatically(E,n,a)}var A=Yo(0,_),b=A(P),O;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(N){return parseFloat(N)});O=i.getStrokeDasharray(b,_,T)}else O=i.generateSimpleStrokeDasharray(_,b);return i.renderCurveStatically(o,n,a,{strokeDasharray:O})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!Z5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=qr("recharts-line",l),I=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,D=I||P,E=Nr(v)?this.id:v,A=(n=Dr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},b=A.r,O=b===void 0?3:b,T=A.strokeWidth,N=T===void 0?2:T,j=g_e(s)?s:{},K=j.clipDot,J=K===void 0?!0:K,X=O*2+N;return Ie.createElement(la,{className:_},I||P?Ie.createElement("defs",null,Ie.createElement("clipPath",{id:"clipPath-".concat(E)},Ie.createElement("rect",{x:I?h:h-d/2,y:P?f:f-g/2,width:I?d:d*2,height:P?g:g*2})),!J&&Ie.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Ie.createElement("rect",{x:h-X/2,y:f-X/2,width:d+X,height:g+X}))):null,!w&&this.renderCurve(D,E),this.renderErrorBar(D,E),(w||s)&&this.renderDots(D,J,E),(!m||y)&&pf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Yd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Yd(s),Yd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ie.isValidElement(n))i=Ie.cloneElement(n,a);else if(wr(n))i=n(a);else{var s=a.key,o=pF(a,q$e),l=qr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ie.createElement(hP,Gg({key:s},o,{className:l}))}return i}}])}(H.PureComponent);Go(El,"displayName","Line");Go(El,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Tc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Go(El,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var g=zs(h,s);return u==="horizontal"?{x:XM({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:Nr(g)?null:n.scale(g),value:g,payload:h}:{x:Nr(g)?null:r.scale(g),y:XM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:g,payload:h}});return ks({points:f,layout:u},c)});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function n9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TK(n.key),n)}}function i9e(e,t,r){return t&&a9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s9e(e,t,r){return t=Aw(t),o9e(e,SK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function o9e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l9e(e)}function l9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function c9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o3(e,t)}function AK(e,t,r){return t=TK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=u9e(e,"string");return Pp(t)=="symbol"?t:t+""}function u9e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}function f9e(e){var t=e.xAxisId,r=gP(),n=vP(),a=cK(t);return a==null?null:Ie.createElement(cm,l3({},a,{className:qr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yc(s,!0)}}))}var z0=function(e){function t(){return n9e(this,t),s9e(this,t,arguments)}return c9e(t,e),i9e(t,[{key:"render",value:function(){return Ie.createElement(f9e,this.props)}}])}(Ie.Component);AK(z0,"displayName","XAxis");AK(z0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function h9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NK(n.key),n)}}function p9e(e,t,r){return t&&d9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function m9e(e,t,r){return t=Tw(t),g9e(e,EK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function g9e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v9e(e)}function v9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function EK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function y9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(e,t)}function kK(e,t,r){return t=NK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NK(e){var t=x9e(e,"string");return Op(t)=="symbol"?t:t+""}function x9e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}var b9e=function(t){var r=t.yAxisId,n=gP(),a=vP(),i=uK(r);return i==null?null:Ie.createElement(cm,u3({},i,{className:qr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return yc(o,!0)}}))},q0=function(e){function t(){return h9e(this,t),m9e(this,t,arguments)}return y9e(t,e),p9e(t,[{key:"render",value:function(){return Ie.createElement(b9e,this.props)}}])}(Ie.Component);kK(q0,"displayName","YAxis");kK(q0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function vF(e){return A9e(e)||S9e(e)||_9e(e)||w9e()}function w9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _9e(e,t){if(e){if(typeof e=="string")return f3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f3(e,t)}}function S9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function A9e(e){if(Array.isArray(e))return f3(e)}function f3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h3=function(t,r,n,a,i){var s=vo(t,xP),o=vo(t,s_),l=[].concat(vF(s),vF(o)),c=vo(t,l_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&It(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var d="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&It(v.props[d])&&It(v.props[g])){var y=v.props[d],w=v.props[g];return[Math.min(m[0],y,w),Math.max(m[1],y,w)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return It(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},CK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,g),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var I=v.length,P;for(_=0;_<I;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,h);break;default:if(!w)for(P=1,w=new Array(y-1);P<y;P++)w[P-1]=arguments[P];v[_].fn.apply(v[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[d]=v.length===1?v[0]:v:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(CK);var T9e=CK.exports;const E9e=dn(T9e);var TA=new E9e,EA="recharts.syncMouseEvents";function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function k9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PK(n.key),n)}}function C9e(e,t,r){return t&&N9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kA(e,t,r){return t=PK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=P9e(e,"string");return S1(t)=="symbol"?t:t+""}function P9e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var O9e=function(){function e(){k9e(this,e),kA(this,"activeIndex",0),kA(this,"coordinateList",[]),kA(this,"layout","horizontal")}return C9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function I9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&It(n)&&It(a))return!0}return!1}function D9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function OK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=ni(t,r,n,a),o=ni(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function j9e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=ni(o,l,c,f),d=ni(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return OK(t);return[{x:n,y:a},{x:i,y:s}]}function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function yF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yF(Object(r),!0).forEach(function(n){L9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9e(e,t,r){return t=M9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function M9e(e){var t=R9e(e,"string");return A1(t)=="symbol"?t:t+""}function R9e(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F9e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=RE;if(h==="ScatterChart")g=s,m=RMe;else if(h==="BarChart")g=D9e(f,s,l,u),m=fP;else if(f==="radial"){var v=OK(s),y=v.cx,w=v.cy,_=v.radius,I=v.startAngle,P=v.endAngle;g={cx:y,cy:w,startAngle:I,endAngle:P,innerRadius:_,outerRadius:_},m=LG}else g={points:j9e(f,s,l)},m=RE;var D=jx(jx(jx(jx({stroke:"#ccc",pointerEvents:"none"},l),g),Dr(d,!1)),{},{payload:o,payloadIndex:c,className:qr("recharts-tooltip-cursor",d.className)});return H.isValidElement(d)?H.cloneElement(d,D):H.createElement(m,D)}var $9e=["item"],B9e=["children","className","width","height","style","compact","title","desc"];function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function xF(e,t){return z9e(e)||U9e(e,t)||DK(e,t)||V9e()}function V9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function z9e(e){if(Array.isArray(e))return e}function bF(e,t){if(e==null)return{};var r=q9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jK(n.key),n)}}function G9e(e,t,r){return t&&H9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K9e(e,t,r){return t=Ew(t),Y9e(e,IK()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function Y9e(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(e)}function X9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IK=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function Q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d3(e,t)}function d3(e,t){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d3(e,t)}function Dp(e){return eBe(e)||Z9e(e)||DK(e)||J9e()}function J9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DK(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function Z9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eBe(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wF(Object(r),!0).forEach(function(n){Jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jt(e,t,r){return t=jK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jK(e){var t=tBe(e,"string");return Ip(t)=="symbol"?t:t+""}function tBe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rBe={xAxis:["bottom","top"],yAxis:["left","right"]},nBe={width:"100%",height:"100%"},LK={x:0,y:0};function Lx(e){return e}var aBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},iBe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return tt(tt(tt({},a),ni(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return tt(tt(tt({},a),ni(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return LK},c_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dp(o),Dp(c)):o},[]);return s.length>0?s:t&&t.length&&It(a)&&It(i)?t.slice(a,i+1):[]};function MK(e){return e==="number"?[0,"auto"]:void 0}var m3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=c_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=Nb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Dp(l),[IG(c,h)]):l},[])},_F=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=aBe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=xDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=m3(t,r,u,f),d=iBe(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},sBe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=CG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?tt(tt({},m.type.defaultProps),m.props):m.props,w=y.type,_=y.dataKey,I=y.allowDataOverflow,P=y.allowDuplicatedCategory,D=y.scale,E=y.ticks,A=y.includeHidden,b=y[s];if(g[b])return g;var O=c_(t.data,{graphicalItems:a.filter(function(C){var R,V=s in C.props?C.props[s]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[s];return V===b}),dataStartIndex:l,dataEndIndex:c}),T=O.length,N,j,K;I9e(y.domain,I,w)&&(N=IE(y.domain,null,I),d&&(w==="number"||D!=="auto")&&(K=Wg(O,_,"category")));var J=MK(w);if(!N||N.length===0){var X,Z=(X=y.domain)!==null&&X!==void 0?X:J;if(_){if(N=Wg(O,_,w),w==="category"&&d){var q=s_e(N);P&&q?(j=N,N=dw(0,T)):P||(N=eR(Z,N,m).reduce(function(C,R){return C.indexOf(R)>=0?C:[].concat(Dp(C),[R])},[]))}else if(w==="category")P?N=N.filter(function(C){return C!==""&&!Nr(C)}):N=eR(Z,N,m).reduce(function(C,R){return C.indexOf(R)>=0||R===""||Nr(R)?C:[].concat(Dp(C),[R])},[]);else if(w==="number"){var U=ADe(O,a.filter(function(C){var R,V,G=s in C.props?C.props[s]:(R=C.type.defaultProps)===null||R===void 0?void 0:R[s],Y="hide"in C.props?C.props.hide:(V=C.type.defaultProps)===null||V===void 0?void 0:V.hide;return G===b&&(A||!Y)}),_,i,u);U&&(N=U)}d&&(w==="number"||D!=="auto")&&(K=Wg(O,_,"category"))}else d?N=dw(0,T):o&&o[b]&&o[b].hasStack&&w==="number"?N=h==="expand"?[0,1]:OG(o[b].stackGroups,l,c):N=NG(O,a.filter(function(C){var R=s in C.props?C.props[s]:C.type.defaultProps[s],V="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return R===b&&(A||!V)}),w,u,!0);if(w==="number")N=h3(f,N,b,i,E),Z&&(N=IE(Z,N,I));else if(w==="category"&&Z){var te=Z,z=N.every(function(C){return te.indexOf(C)>=0});z&&(N=te)}}return tt(tt({},g),{},Jt({},b,tt(tt({},y),{},{axisType:i,domain:N,categoricalDomain:K,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:J,isCategorical:d,layout:u})))},{})},oBe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=c_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,g=CG(u,i),m=-1;return n.reduce(function(v,y){var w=y.type.defaultProps!==void 0?tt(tt({},y.type.defaultProps),y.props):y.props,_=w[s],I=MK("number");if(!v[_]){m++;var P;return g?P=dw(0,d):o&&o[_]&&o[_].hasStack?(P=OG(o[_].stackGroups,l,c),P=h3(f,P,_,i)):(P=IE(I,NG(h,n.filter(function(D){var E,A,b=s in D.props?D.props[s]:(E=D.type.defaultProps)===null||E===void 0?void 0:E[s],O="hide"in D.props?D.props.hide:(A=D.type.defaultProps)===null||A===void 0?void 0:A.hide;return b===_&&!O}),"number",u),a.defaultProps.allowDataOverflow),P=h3(f,P,_,i)),tt(tt({},v),{},Jt({},_,tt(tt({axisType:i},a.defaultProps),{},{hide:!0,orientation:go(rBe,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:I,isCategorical:g,layout:u})))}return v},{})},lBe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=vo(u,i),d={};return h&&h.length?d=sBe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=oBe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},cBe=function(t){var r=Vu(t),n=yc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:FC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:aw(r,n)}},SF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ps(r,Sp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},uBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=_c(r&&r.type);return n&&n.indexOf("Bar")>=0})},AF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Ps(f,Sp),g=Ps(f,Ac),m=Object.keys(l).reduce(function(P,D){var E=l[D],A=E.orientation;return!E.mirror&&!E.hide?tt(tt({},P),{},Jt({},A,P[A]+E.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,D){var E=s[D],A=E.orientation;return!E.mirror&&!E.hide?tt(tt({},P),{},Jt({},A,go(P,"".concat(A))+E.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=tt(tt({},v),m),w=y.bottom;d&&(y.bottom+=d.props.height||Sp.defaultProps.height),g&&r&&(y=_De(y,a,n,r));var _=c-y.left-y.right,I=u-y.top-y.bottom;return tt(tt({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(I,0)})},hBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},dBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,w){var _=w.graphicalItems,I=w.stackGroups,P=w.offset,D=w.updateId,E=w.dataStartIndex,A=w.dataEndIndex,b=y.barSize,O=y.layout,T=y.barGap,N=y.barCategoryGap,j=y.maxBarSize,K=AF(O),J=K.numericAxisName,X=K.cateAxisName,Z=uBe(_),q=[];return _.forEach(function(U,te){var z=c_(y.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:A}),C=U.type.defaultProps!==void 0?tt(tt({},U.type.defaultProps),U.props):U.props,R=C.dataKey,V=C.maxBarSize,G=C["".concat(J,"Id")],Y=C["".concat(X,"Id")],se={},ce=l.reduce(function($e,Xe){var Fe=w["".concat(Xe.axisType,"Map")],Qe=C["".concat(Xe.axisType,"Id")];Fe&&Fe[Qe]||Xe.axisType==="zAxis"||rd();var ct=Fe[Qe];return tt(tt({},$e),{},Jt(Jt({},Xe.axisType,ct),"".concat(Xe.axisType,"Ticks"),yc(ct)))},se),re=ce[X],he=ce["".concat(X,"Ticks")],be=I&&I[G]&&I[G].hasStack&&MDe(U,I[G].stackGroups),B=_c(U.type).indexOf("Bar")>=0,Te=aw(re,he),_e=[],ge=Z&&bDe({barSize:b,stackGroups:I,totalSize:hBe(ce,X)});if(B){var ee,Ae,Oe=Nr(V)?j:V,Me=(ee=(Ae=aw(re,he,!0))!==null&&Ae!==void 0?Ae:Oe)!==null&&ee!==void 0?ee:0;_e=wDe({barGap:T,barCategoryGap:N,bandSize:Me!==Te?Me:Te,sizeList:ge[Y],maxBarSize:Oe}),Me!==Te&&(_e=_e.map(function($e){return tt(tt({},$e),{},{position:tt(tt({},$e.position),{},{offset:$e.position.offset-Me/2})})}))}var Ke=U&&U.type&&U.type.getComposedData;Ke&&q.push({props:tt(tt({},Ke(tt(tt({},ce),{},{displayedData:z,props:y,dataKey:R,item:U,bandSize:Te,barPosition:_e,offset:P,stackedData:be,layout:O,dataStartIndex:E,dataEndIndex:A}))),{},Jt(Jt(Jt({key:U.key||"item-".concat(te)},J,ce[J]),X,ce[X]),"animationId",D)),childIndex:x_e(U,y.children),item:U})}),q},d=function(y,w){var _=y.props,I=y.dataStartIndex,P=y.dataEndIndex,D=y.updateId;if(!Gj({props:_}))return null;var E=_.children,A=_.layout,b=_.stackOffset,O=_.data,T=_.reverseStackOrder,N=AF(A),j=N.numericAxisName,K=N.cateAxisName,J=vo(E,n),X=DDe(O,J,"".concat(j,"Id"),"".concat(K,"Id"),b,T),Z=l.reduce(function(C,R){var V="".concat(R.axisType,"Map");return tt(tt({},C),{},Jt({},V,lBe(_,tt(tt({},R),{},{graphicalItems:J,stackGroups:R.axisType===j&&X,dataStartIndex:I,dataEndIndex:P}))))},{}),q=fBe(tt(tt({},Z),{},{props:_,graphicalItems:J}),w==null?void 0:w.legendBBox);Object.keys(Z).forEach(function(C){Z[C]=u(_,Z[C],q,C.replace("Map",""),r)});var U=Z["".concat(K,"Map")],te=cBe(U),z=h(_,tt(tt({},Z),{},{dataStartIndex:I,dataEndIndex:P,updateId:D,graphicalItems:J,stackGroups:X,offset:q}));return tt(tt({formattedGraphicalItems:z,graphicalItems:J,offset:q,stackGroups:X},te),Z)},g=function(v){function y(w){var _,I,P;return W9e(this,y),P=K9e(this,y,[w]),Jt(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Jt(P,"accessibilityManager",new O9e),Jt(P,"handleLegendBBoxUpdate",function(D){if(D){var E=P.state,A=E.dataStartIndex,b=E.dataEndIndex,O=E.updateId;P.setState(tt({legendBBox:D},d({props:P.props,dataStartIndex:A,dataEndIndex:b,updateId:O},tt(tt({},P.state),{},{legendBBox:D}))))}}),Jt(P,"handleReceiveSyncEvent",function(D,E,A){if(P.props.syncId===D){if(A===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),Jt(P,"handleBrushChange",function(D){var E=D.startIndex,A=D.endIndex;if(E!==P.state.dataStartIndex||A!==P.state.dataEndIndex){var b=P.state.updateId;P.setState(function(){return tt({dataStartIndex:E,dataEndIndex:A},d({props:P.props,dataStartIndex:E,dataEndIndex:A,updateId:b},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:A})}}),Jt(P,"handleMouseEnter",function(D){var E=P.getMouseInfo(D);if(E){var A=tt(tt({},E),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var b=P.props.onMouseEnter;wr(b)&&b(A,D)}}),Jt(P,"triggeredAfterMouseMove",function(D){var E=P.getMouseInfo(D),A=E?tt(tt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(A),P.triggerSyncEvent(A);var b=P.props.onMouseMove;wr(b)&&b(A,D)}),Jt(P,"handleItemMouseEnter",function(D){P.setState(function(){return{isTooltipActive:!0,activeItem:D,activePayload:D.tooltipPayload,activeCoordinate:D.tooltipPosition||{x:D.cx,y:D.cy}}})}),Jt(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),Jt(P,"handleMouseMove",function(D){D.persist(),P.throttleTriggeredAfterMouseMove(D)}),Jt(P,"handleMouseLeave",function(D){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var A=P.props.onMouseLeave;wr(A)&&A(E,D)}),Jt(P,"handleOuterEvent",function(D){var E=y_e(D),A=go(P.props,"".concat(E));if(E&&wr(A)){var b,O;/.*touch.*/i.test(E)?O=P.getMouseInfo(D.changedTouches[0]):O=P.getMouseInfo(D),A((b=O)!==null&&b!==void 0?b:{},D)}}),Jt(P,"handleClick",function(D){var E=P.getMouseInfo(D);if(E){var A=tt(tt({},E),{},{isTooltipActive:!0});P.setState(A),P.triggerSyncEvent(A);var b=P.props.onClick;wr(b)&&b(A,D)}}),Jt(P,"handleMouseDown",function(D){var E=P.props.onMouseDown;if(wr(E)){var A=P.getMouseInfo(D);E(A,D)}}),Jt(P,"handleMouseUp",function(D){var E=P.props.onMouseUp;if(wr(E)){var A=P.getMouseInfo(D);E(A,D)}}),Jt(P,"handleTouchMove",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(D.changedTouches[0])}),Jt(P,"handleTouchStart",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseDown(D.changedTouches[0])}),Jt(P,"handleTouchEnd",function(D){D.changedTouches!=null&&D.changedTouches.length>0&&P.handleMouseUp(D.changedTouches[0])}),Jt(P,"handleDoubleClick",function(D){var E=P.props.onDoubleClick;if(wr(E)){var A=P.getMouseInfo(D);E(A,D)}}),Jt(P,"handleContextMenu",function(D){var E=P.props.onContextMenu;if(wr(E)){var A=P.getMouseInfo(D);E(A,D)}}),Jt(P,"triggerSyncEvent",function(D){P.props.syncId!==void 0&&TA.emit(EA,P.props.syncId,D,P.eventEmitterSymbol)}),Jt(P,"applySyncEvent",function(D){var E=P.props,A=E.layout,b=E.syncMethod,O=P.state.updateId,T=D.dataStartIndex,N=D.dataEndIndex;if(D.dataStartIndex!==void 0||D.dataEndIndex!==void 0)P.setState(tt({dataStartIndex:T,dataEndIndex:N},d({props:P.props,dataStartIndex:T,dataEndIndex:N,updateId:O},P.state)));else if(D.activeTooltipIndex!==void 0){var j=D.chartX,K=D.chartY,J=D.activeTooltipIndex,X=P.state,Z=X.offset,q=X.tooltipTicks;if(!Z)return;if(typeof b=="function")J=b(q,D);else if(b==="value"){J=-1;for(var U=0;U<q.length;U++)if(q[U].value===D.activeLabel){J=U;break}}var te=tt(tt({},Z),{},{x:Z.left,y:Z.top}),z=Math.min(j,te.x+te.width),C=Math.min(K,te.y+te.height),R=q[J]&&q[J].value,V=m3(P.state,P.props.data,J),G=q[J]?{x:A==="horizontal"?q[J].coordinate:z,y:A==="horizontal"?C:q[J].coordinate}:LK;P.setState(tt(tt({},D),{},{activeLabel:R,activeCoordinate:G,activePayload:V,activeTooltipIndex:J}))}else P.setState(D)}),Jt(P,"renderCursor",function(D){var E,A=P.state,b=A.isTooltipActive,O=A.activeCoordinate,T=A.activePayload,N=A.offset,j=A.activeTooltipIndex,K=A.tooltipAxisBandSize,J=P.getTooltipEventType(),X=(E=D.props.active)!==null&&E!==void 0?E:b,Z=P.props.layout,q=D.key||"_recharts-cursor";return Ie.createElement(F9e,{key:q,activeCoordinate:O,activePayload:T,activeTooltipIndex:j,chartName:r,element:D,isActive:X,layout:Z,offset:N,tooltipAxisBandSize:K,tooltipEventType:J})}),Jt(P,"renderPolarAxis",function(D,E,A){var b=go(D,"type.axisType"),O=go(P.state,"".concat(b,"Map")),T=D.type.defaultProps,N=T!==void 0?tt(tt({},T),D.props):D.props,j=O&&O[N["".concat(b,"Id")]];return H.cloneElement(D,tt(tt({},j),{},{className:qr(b,j.className),key:D.key||"".concat(E,"-").concat(A),ticks:yc(j,!0)}))}),Jt(P,"renderPolarGrid",function(D){var E=D.props,A=E.radialLines,b=E.polarAngles,O=E.polarRadius,T=P.state,N=T.radiusAxisMap,j=T.angleAxisMap,K=Vu(N),J=Vu(j),X=J.cx,Z=J.cy,q=J.innerRadius,U=J.outerRadius;return H.cloneElement(D,{polarAngles:Array.isArray(b)?b:yc(J,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(O)?O:yc(K,!0).map(function(te){return te.coordinate}),cx:X,cy:Z,innerRadius:q,outerRadius:U,key:D.key||"polar-grid",radialLines:A})}),Jt(P,"renderLegend",function(){var D=P.state.formattedGraphicalItems,E=P.props,A=E.children,b=E.width,O=E.height,T=P.props.margin||{},N=b-(T.left||0)-(T.right||0),j=EG({children:A,formattedGraphicalItems:D,legendWidth:N,legendContent:c});if(!j)return null;var K=j.item,J=bF(j,$9e);return H.cloneElement(K,tt(tt({},J),{},{chartWidth:b,chartHeight:O,margin:T,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),Jt(P,"renderTooltip",function(){var D,E=P.props,A=E.children,b=E.accessibilityLayer,O=Ps(A,lo);if(!O)return null;var T=P.state,N=T.isTooltipActive,j=T.activeCoordinate,K=T.activePayload,J=T.activeLabel,X=T.offset,Z=(D=O.props.active)!==null&&D!==void 0?D:N;return H.cloneElement(O,{viewBox:tt(tt({},X),{},{x:X.left,y:X.top}),active:Z,label:J,payload:Z?K:[],coordinate:j,accessibilityLayer:b})}),Jt(P,"renderBrush",function(D){var E=P.props,A=E.margin,b=E.data,O=P.state,T=O.offset,N=O.dataStartIndex,j=O.dataEndIndex,K=O.updateId;return H.cloneElement(D,{key:D.key||"_recharts-brush",onChange:Px(P.handleBrushChange,D.props.onChange),data:b,x:It(D.props.x)?D.props.x:T.left,y:It(D.props.y)?D.props.y:T.top+T.height+T.brushBottom-(A.bottom||0),width:It(D.props.width)?D.props.width:T.width,startIndex:N,endIndex:j,updateId:"brush-".concat(K)})}),Jt(P,"renderReferenceElement",function(D,E,A){if(!D)return null;var b=P,O=b.clipPathId,T=P.state,N=T.xAxisMap,j=T.yAxisMap,K=T.offset,J=D.type.defaultProps||{},X=D.props,Z=X.xAxisId,q=Z===void 0?J.xAxisId:Z,U=X.yAxisId,te=U===void 0?J.yAxisId:U;return H.cloneElement(D,{key:D.key||"".concat(E,"-").concat(A),xAxis:N[q],yAxis:j[te],viewBox:{x:K.left,y:K.top,width:K.width,height:K.height},clipPathId:O})}),Jt(P,"renderActivePoints",function(D){var E=D.item,A=D.activePoint,b=D.basePoint,O=D.childIndex,T=D.isRange,N=[],j=E.props.key,K=E.item.type.defaultProps!==void 0?tt(tt({},E.item.type.defaultProps),E.item.props):E.item.props,J=K.activeDot,X=K.dataKey,Z=tt(tt({index:O,dataKey:X,cx:A.x,cy:A.y,r:4,fill:uP(E.item),strokeWidth:2,stroke:"#fff",payload:A.payload,value:A.value},Dr(J,!1)),Cb(J));return N.push(y.renderActiveDot(J,Z,"".concat(j,"-activePoint-").concat(O))),b?N.push(y.renderActiveDot(J,tt(tt({},Z),{},{cx:b.x,cy:b.y}),"".concat(j,"-basePoint-").concat(O))):T&&N.push(null),N}),Jt(P,"renderGraphicChild",function(D,E,A){var b=P.filterFormatItem(D,E,A);if(!b)return null;var O=P.getTooltipEventType(),T=P.state,N=T.isTooltipActive,j=T.tooltipAxis,K=T.activeTooltipIndex,J=T.activeLabel,X=P.props.children,Z=Ps(X,lo),q=b.props,U=q.points,te=q.isRange,z=q.baseLine,C=b.item.type.defaultProps!==void 0?tt(tt({},b.item.type.defaultProps),b.item.props):b.item.props,R=C.activeDot,V=C.hide,G=C.activeBar,Y=C.activeShape,se=!!(!V&&N&&Z&&(R||G||Y)),ce={};O!=="axis"&&Z&&Z.props.trigger==="click"?ce={onClick:Px(P.handleItemMouseEnter,D.props.onClick)}:O!=="axis"&&(ce={onMouseLeave:Px(P.handleItemMouseLeave,D.props.onMouseLeave),onMouseEnter:Px(P.handleItemMouseEnter,D.props.onMouseEnter)});var re=H.cloneElement(D,tt(tt({},b.props),ce));function he(Xe){return typeof j.dataKey=="function"?j.dataKey(Xe.payload):null}if(se)if(K>=0){var be,B;if(j.dataKey&&!j.allowDuplicatedCategory){var Te=typeof j.dataKey=="function"?he:"payload.".concat(j.dataKey.toString());be=Nb(U,Te,J),B=te&&z&&Nb(z,Te,J)}else be=U==null?void 0:U[K],B=te&&z&&z[K];if(Y||G){var _e=D.props.activeIndex!==void 0?D.props.activeIndex:K;return[H.cloneElement(D,tt(tt(tt({},b.props),ce),{},{activeIndex:_e})),null,null]}if(!Nr(be))return[re].concat(Dp(P.renderActivePoints({item:b,activePoint:be,basePoint:B,childIndex:K,isRange:te})))}else{var ge,ee=(ge=P.getItemByXY(P.state.activeCoordinate))!==null&&ge!==void 0?ge:{graphicalItem:re},Ae=ee.graphicalItem,Oe=Ae.item,Me=Oe===void 0?D:Oe,Ke=Ae.childIndex,$e=tt(tt(tt({},b.props),ce),{},{activeIndex:Ke});return[H.cloneElement(Me,$e),null,null]}return te?[re,null,null]:[re,null]}),Jt(P,"renderCustomized",function(D,E,A){return H.cloneElement(D,tt(tt({key:"recharts-customized-".concat(A)},P.props),P.state))}),Jt(P,"renderMap",{CartesianGrid:{handler:Lx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Lx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Lx},YAxis:{handler:Lx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:ty("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=TH(P.triggeredAfterMouseMove,(I=w.throttleDelay)!==null&&I!==void 0?I:1e3/60),P.state={},P}return Q9e(y,v),G9e(y,[{key:"componentDidMount",value:function(){var _,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,I=_.children,P=_.data,D=_.height,E=_.layout,A=Ps(I,lo);if(A){var b=A.props.defaultIndex;if(!(typeof b!="number"||b<0||b>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[b]&&this.state.tooltipTicks[b].value,T=m3(this.state,P,b,O),N=this.state.tooltipTicks[b].coordinate,j=(this.state.offset.top+D)/2,K=E==="horizontal",J=K?{x:N,y:j}:{y:N,x:j},X=this.state.formattedGraphicalItems.find(function(q){var U=q.item;return U.type.name==="Scatter"});X&&(J=tt(tt({},J),X.props.points[b].tooltipPosition),T=X.props.points[b].tooltipPayload);var Z={activeTooltipIndex:b,isTooltipActive:!0,activeLabel:O,activePayload:T,activeCoordinate:J};this.setState(Z),this.renderCursor(A),this.accessibilityManager.setIndex(b)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var P,D;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(D=this.props.margin.top)!==null&&D!==void 0?D:0}})}return null}},{key:"componentDidUpdate",value:function(_){GT([Ps(_.children,lo)],[Ps(this.props.children,lo)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ps(this.props.children,lo);if(_&&typeof _.props.shared=="boolean"){var I=_.props.shared?"axis":"item";return o.indexOf(I)>=0?I:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var I=this.container,P=I.getBoundingClientRect(),D=WPe(P),E={chartX:Math.round(_.pageX-D.left),chartY:Math.round(_.pageY-D.top)},A=P.width/I.offsetWidth||1,b=this.inRange(E.chartX,E.chartY,A);if(!b)return null;var O=this.state,T=O.xAxisMap,N=O.yAxisMap,j=this.getTooltipEventType(),K=_F(this.state,this.props.data,this.props.layout,b);if(j!=="axis"&&T&&N){var J=Vu(T).scale,X=Vu(N).scale,Z=J&&J.invert?J.invert(E.chartX):null,q=X&&X.invert?X.invert(E.chartY):null;return tt(tt({},E),{},{xValue:Z,yValue:q},K)}return K?tt(tt({},E),K):null}},{key:"inRange",value:function(_,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,D=this.props.layout,E=_/P,A=I/P;if(D==="horizontal"||D==="vertical"){var b=this.state.offset,O=E>=b.left&&E<=b.left+b.width&&A>=b.top&&A<=b.top+b.height;return O?{x:E,y:A}:null}var T=this.state,N=T.angleAxisMap,j=T.radiusAxisMap;if(N&&j){var K=Vu(N);return nR({x:E,y:A},K)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,I=this.getTooltipEventType(),P=Ps(_,lo),D={};P&&I==="axis"&&(P.props.trigger==="click"?D={onClick:this.handleClick}:D={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Cb(this.props,this.handleOuterEvent);return tt(tt({},E),D)}},{key:"addListener",value:function(){TA.on(EA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){TA.removeListener(EA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,I,P){for(var D=this.state.formattedGraphicalItems,E=0,A=D.length;E<A;E++){var b=D[E];if(b.item===_||b.props.key===_.key||I===_c(b.item.type)&&P===b.childIndex)return b}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,I=this.state.offset,P=I.left,D=I.top,E=I.height,A=I.width;return Ie.createElement("defs",null,Ie.createElement("clipPath",{id:_},Ie.createElement("rect",{x:P,y:D,height:E,width:A})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(I,P){var D=xF(P,2),E=D[0],A=D[1];return tt(tt({},I),{},Jt({},E,A.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(I,P){var D=xF(P,2),E=D[0],A=D[1];return tt(tt({},I),{},Jt({},E,A.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(_){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[_])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(_){var I=this.state,P=I.formattedGraphicalItems,D=I.activeItem;if(P&&P.length)for(var E=0,A=P.length;E<A;E++){var b=P[E],O=b.props,T=b.item,N=T.type.defaultProps!==void 0?tt(tt({},T.type.defaultProps),T.props):T.props,j=_c(T.type);if(j==="Bar"){var K=(O.data||[]).find(function(q){return kMe(_,q)});if(K)return{graphicalItem:b,payload:K}}else if(j==="RadialBar"){var J=(O.data||[]).find(function(q){return nR(_,q)});if(J)return{graphicalItem:b,payload:J}}else if(r_(b,D)||n_(b,D)||y1(b,D)){var X=PRe({graphicalItem:b,activeTooltipItem:D,itemData:N.data}),Z=N.activeIndex===void 0?X:N.activeIndex;return{graphicalItem:tt(tt({},b),{},{childIndex:Z}),payload:y1(b,D)?N.data[X]:b.props.data[X]}}}return null}},{key:"render",value:function(){var _=this;if(!Gj(this))return null;var I=this.props,P=I.children,D=I.className,E=I.width,A=I.height,b=I.style,O=I.compact,T=I.title,N=I.desc,j=bF(I,B9e),K=Dr(j,!1);if(O)return Ie.createElement(tF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement(YT,S0({},K,{width:E,height:A,title:T,desc:N}),this.renderClipPath(),Yj(P,this.renderMap)));if(this.props.accessibilityLayer){var J,X;K.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,K.role=(X=this.props.role)!==null&&X!==void 0?X:"application",K.onKeyDown=function(q){_.accessibilityManager.keyboardEvent(q)},K.onFocus=function(){_.accessibilityManager.focus()}}var Z=this.parseEventsOfWrapper();return Ie.createElement(tF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ie.createElement("div",S0({className:qr("recharts-wrapper",D),style:tt({position:"relative",cursor:"default",width:E,height:A},b)},Z,{ref:function(U){_.container=U}}),Ie.createElement(YT,S0({},K,{width:E,height:A,title:T,desc:N,style:nBe}),this.renderClipPath(),Yj(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(H.Component);Jt(g,"displayName",r),Jt(g,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Jt(g,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,_=v.data,I=v.children,P=v.width,D=v.height,E=v.layout,A=v.stackOffset,b=v.margin,O=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var N=SF(v);return tt(tt(tt({},N),{},{updateId:0},d(tt(tt({props:v},N),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:P,prevHeight:D,prevLayout:E,prevStackOffset:A,prevMargin:b,prevChildren:I})}if(w!==y.prevDataKey||_!==y.prevData||P!==y.prevWidth||D!==y.prevHeight||E!==y.prevLayout||A!==y.prevStackOffset||!B0(b,y.prevMargin)){var j=SF(v),K={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},J=tt(tt({},_F(y,_,E)),{},{updateId:y.updateId+1}),X=tt(tt(tt({},j),K),J);return tt(tt(tt({},X),d(tt({props:v},X),y)),{},{prevDataKey:w,prevData:_,prevWidth:P,prevHeight:D,prevLayout:E,prevStackOffset:A,prevMargin:b,prevChildren:I})}if(!GT(I,y.prevChildren)){var Z,q,U,te,z=Ps(I,Sp),C=z&&(Z=(q=z.props)===null||q===void 0?void 0:q.startIndex)!==null&&Z!==void 0?Z:O,R=z&&(U=(te=z.props)===null||te===void 0?void 0:te.endIndex)!==null&&U!==void 0?U:T,V=C!==O||R!==T,G=!Nr(_),Y=G&&!V?y.updateId:y.updateId+1;return tt(tt({updateId:Y},d(tt(tt({props:v},y),{},{updateId:Y,dataStartIndex:C,dataEndIndex:R}),y)),{},{prevChildren:I,dataStartIndex:C,dataEndIndex:R})}return null}),Jt(g,"renderActiveDot",function(v,y,w){var _;return H.isValidElement(v)?_=H.cloneElement(v,y):wr(v)?_=v(y):_=Ie.createElement(hP,y),Ie.createElement(la,{className:"recharts-active-dot",key:w},_)});var m=H.forwardRef(function(y,w){return Ie.createElement(g,S0({},y,{ref:w}))});return m.displayName=g.displayName,m},NA=dBe({chartName:"LineChart",GraphicalChild:El,axisComponents:[{axisType:"xAxis",AxisComp:z0},{axisType:"yAxis",AxisComp:q0}],formatAxisMap:t7e});const pBe=()=>{const[e,t]=H.useState("daily"),[r,n]=H.useState(xr(new Date,7)),[a,i]=H.useState(new Date),[s,o]=H.useState([]),[l,c]=H.useState([]),[u,f]=H.useState([]),[h,d]=H.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=H.useState(!0),{isDarkMode:v}=Xr(),{user:y}=xa(),w=H.useCallback(async()=>{m(!0);try{const b=a||new Date,O=r||xr(b,7),T=sr(Et(at,"orders"),lr("createdAt",">=",Xt.fromDate(O)),lr("createdAt","<=",Xt.fromDate(b))),j=(await ur(T)).docs.map(Fe=>{var Qe,ct,rt;return{id:Fe.id,...Fe.data(),createdAt:(Qe=Fe.data().createdAt)==null?void 0:Qe.toDate(),updatedAt:(ct=Fe.data().updatedAt)==null?void 0:ct.toDate(),shippedTime:(rt=Fe.data().shippedTime)==null?void 0:rt.toDate()}}),K=sr(Et(at,"inventory")),X=(await ur(K)).docs.map(Fe=>({id:Fe.id,...Fe.data(),lastUpdated:Fe.data().lastUpdated instanceof Xt?Fe.data().lastUpdated.toDate():new Date(Fe.data().lastUpdated)})),Z=sr(Et(at,"activityLogs"),lr("time",">=",O.toISOString()),lr("time","<=",b.toISOString()),$a("time","desc")),U=(await ur(Z)).docs.map(Fe=>({id:Fe.id,...Fe.data()}));f(U),o(X),c(j);const te=X.reduce((Fe,Qe)=>Fe+(Qe.quantity||0),0),z=X.reduce((Fe,Qe)=>Fe+(Qe.quantity||0)*(Qe.price||0),0),C=j.length,R=xr(new Date,1),V=new Date,G=j.filter(Fe=>{const Qe=Fe.createdAt;return Qe>=R&&Qe<=V}),Y=G.length,se=G.reduce((Fe,Qe)=>Fe+(Qe.totalAmount||0),0),ce=a||new Date,re=r||xr(ce,7),be=U.filter(Fe=>{const Qe=new Date(Fe.time);return Qe>=re&&Qe<=ce}).filter(Fe=>{const Qe=Fe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Qe){const[,yt]=Qe;return X.some(At=>At.name===yt)}const ct=Fe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ct){const[,yt]=ct;return X.some(At=>At.name===yt)}return Fe.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(yt=>yt.test(Fe.detail)),!0}),B=ce.getTime()-re.getTime(),Te=new Date(re.getTime()-B),_e=new Date(re.getTime()),ee=U.filter(Fe=>{const Qe=new Date(Fe.time);return Qe>=Te&&Qe<=_e}).filter(Fe=>{const Qe=Fe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Qe){const[,yt]=Qe;return X.some(At=>At.name===yt)}const ct=Fe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ct){const[,yt]=ct;return X.some(At=>At.name===yt)}return Fe.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(yt=>yt.test(Fe.detail)),!0}),Ae=be.reduce((Fe,Qe)=>{const ct=Qe.detail.match(/(\d+) units deducted/);return Fe+(ct?parseInt(ct[1]):0)},0),Oe=ee.reduce((Fe,Qe)=>{const ct=Qe.detail.match(/(\d+) units deducted/);return Fe+(ct?parseInt(ct[1]):0)},0),Me=be.reduce((Fe,Qe)=>{const ct=Qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ct){const[,gt,yt]=ct;if(X.find(xt=>xt.name===gt))return Fe+parseInt(yt)}const rt=Qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(rt){const[,gt,yt,At]=rt;if(X.find(nt=>nt.name===gt)){const nt=parseInt(At)-parseInt(yt);if(nt>0)return Fe+nt}}return Fe},0),Ke=be.reduce((Fe,Qe)=>{const ct=Qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ct){const[,gt,yt]=ct,At=X.find(xt=>xt.name===gt);if(At){const xt=At.price||0;return Fe+parseInt(yt)*xt}}const rt=Qe.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(rt){const[,gt,yt,At]=rt,xt=X.find(nt=>nt.name===gt);if(xt){const nt=parseInt(At)-parseInt(yt);if(nt>0){const qt=xt.price||0;return Fe+nt*qt}}}return Fe},0),Xe=be.reduce((Fe,Qe)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(gt=>gt.test(Qe.detail))){let gt=0;const yt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,At=Qe.detail.match(yt);if(At)gt=parseInt(At[1]);else{const xt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const nt of xt){const qt=Qe.detail.match(nt);if(qt){if(qt.length===3){const $t=parseInt(qt[1]),Hr=parseInt(qt[2]);gt=Math.abs($t-Hr)}else gt=parseInt(qt[1]);break}}}return{incidents:Fe.incidents+1,units:Fe.units+(gt>0?gt:1)}}return Fe},{incidents:0,units:0}).incidents;d({totalOrders:C,totalStock:te,totalInventoryValue:z,totalDamagedProducts:Xe,yesterdayOrders:Y,yesterdayStockChange:0,yesterdayRevenue:se,totalDeductions:Ae,previousDeductions:Oe,todayStockAdditions:Me,todayInventoryValueAdditions:Ke})}catch(b){console.error("Error fetching data:",b)}finally{m(!1)}},[r,a]),_=()=>{n(null),i(null)};if(H.useEffect(()=>{w()},[w]),H.useEffect(()=>{},[e]),!y||y.role!=="admin")return p.jsx(S4,{to:"/",replace:!0});const I=()=>{const b=[],O=new Map,T=new Date;let N;switch(e){case"daily":N=xr(T,7);break;case"weekly":N=xr(T,30);break;case"monthly":N=xr(T,90);break;default:N=xr(T,7)}return u.filter(J=>{const X=new Date(J.time);return X>=N&&X<=T}).filter(J=>{const X=J.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(X){const[,q]=X;return s.some(U=>U.name===q)}const Z=J.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(Z){const[,q]=Z;return s.some(U=>U.name===q)}return!0}).forEach(J=>{let X=0,Z=!1,q="";const U=J.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(U){const[,z,C]=U;s.find(V=>V.name===z)&&(X=parseInt(C),q=z,Z=!0)}const te=J.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(te){const[,z,C,R]=te;if(s.find(G=>G.name===z)){const G=parseInt(R)-parseInt(C);G>0&&(X=G,q=z,Z=!0)}}if(Z){const z=new Date(J.time);let C;switch(e){case"daily":C=Wt(z,"MMM dd");break;case"weekly":C=Wt(z,"'Week' w");break;case"monthly":C=Wt(z,"MMM yyyy");break}const R=O.get(C)||{activities:0,units:0,uniqueProducts:new Set};R.uniqueProducts.add(q),O.set(C,{activities:R.activities+1,units:R.units+X,uniqueProducts:R.uniqueProducts})}}),O.forEach((J,X)=>{b.push({date:X,activities:J.activities,units:J.units,uniqueProducts:J.uniqueProducts.size})}),b.sort((J,X)=>{const Z=new Date(J.date),q=new Date(X.date);return Z.getTime()-q.getTime()})},P=()=>{const b=[],O=new Map,T=new Date;let N;switch(e){case"daily":N=xr(T,7);break;case"weekly":N=xr(T,30);break;case"monthly":N=xr(T,90);break;default:N=xr(T,7)}return u.filter(J=>{const X=new Date(J.time);return X>=N&&X<=T}).filter(J=>(J.detail.match(/(\d+) units deducted from stock/),!0)).forEach(J=>{const X=J.detail.match(/(\d+) units deducted from stock/);if(X){const Z=new Date(J.time);let q;switch(e){case"daily":q=Wt(Z,"MMM dd");break;case"weekly":q=Wt(Z,"'Week' w");break;case"monthly":q=Wt(Z,"MMM yyyy");break}const U=O.get(q)||0;O.set(q,U+parseInt(X[1]))}}),O.forEach((J,X)=>{b.push({date:X,products:J})}),b.sort((J,X)=>{const Z=new Date(J.date),q=new Date(X.date);return Z.getTime()-q.getTime()})},D=()=>{const b=[],O=new Map,T=[],N=a||new Date,j=r||xr(N,7);u.filter(Z=>{const q=new Date(Z.time);return q>=j&&q<=N}).filter(Z=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(U=>U.test(Z.detail)),!0)).forEach(Z=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(te=>te.test(Z.detail))){const te=new Date(Z.time);let z;switch(e){case"daily":z=Wt(te,"MMM dd");break;case"weekly":z=Wt(te,"'Week' w");break;case"monthly":z=Wt(te,"MMM yyyy");break}let C=0;const R=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,V=Z.detail.match(R);if(V)C=parseInt(V[1]);else{const ce=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const re of ce){const he=Z.detail.match(re);if(he){if(he.length===3){const be=parseInt(he[1]),B=parseInt(he[2]);C=Math.abs(be-B)}else C=parseInt(he[1]);break}}}let G="Unknown Product";const Y=Z.detail.match(/"([^"]+)"/);Y&&(G=Y[1]),T.push({date:z,time:Wt(te,"HH:mm"),user:Z.user,productName:G,units:C>0?C:1,detail:Z.detail}),O.has(z)||O.set(z,{incidents:0,units:0,productNames:new Set});const se=O.get(z);se.incidents+=1,se.units+=C>0?C:1,se.productNames.add(G)}}),O.forEach((Z,q)=>{b.push({date:q,products:Z.incidents,units:Z.units,productNames:Array.from(Z.productNames)})});const X=b.sort((Z,q)=>new Date(Z.date).getTime()-new Date(q.date).getTime());return X.detailedIncidents=T.sort((Z,q)=>{const U=new Date(Z.date+" "+Z.time);return new Date(q.date+" "+q.time).getTime()-U.getTime()}),X},E=()=>{try{const b=Wt(new Date,"yyyy-MM-dd-HH-mm"),O=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",T=s.map(te=>[te.name,te.quantity,te.price,`${te.locationCode}-${te.shelfNumber}`,te.status,te.damagedItems]),N=I(),j=P(),K=D(),J=Math.max(N.length,j.length,K.length,T.length),X=[];X.push(`Warehouse Analytics Report - ${O} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${Wt(new Date,"yyyy-MM-dd HH:mm:ss")}`),X.push(""),X.push("SUMMARY STATISTICS"),X.push(`Total Stock Added (${O}),${h.todayStockAdditions},Total Units Deducted (${O}),${h.totalDeductions},Total Damaged Products (${O}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),X.push(""),X.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),X.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let te=0;te<J;te++){const z=[];if(te<N.length){const C=N[te];z.push(C.date,C.activities,C.units,C.uniqueProducts)}else z.push("","","","");if(te<j.length){const C=j[te];z.push(C.date,C.products)}else z.push("","");if(te<K.length){const C=K[te];z.push(C.date,C.products,C.units)}else z.push("","","");if(te<T.length){const C=T[te];z.push(...C)}else z.push("","","","","","");X.push(z.join(","))}X.push(""),X.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),X.push("Date,Time,User,Product Name,Units Damaged,Details"),K.detailedIncidents&&K.detailedIncidents.length>0?K.detailedIncidents.forEach(te=>{X.push(`${te.date},${te.time},${te.user},${te.productName},${te.units},"${te.detail.replace(/"/g,'""')}"`)}):X.push("No detailed incidents available,,,,,");const Z=X.join(`
`),q=new Blob([Z],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");U.href=URL.createObjectURL(q),U.download=`warehouse-report-${O}-${b}.csv`,U.click(),URL.revokeObjectURL(U.href)}catch(b){console.error("Error exporting CSV:",b),alert("Failed to export CSV. Please try again.")}},A=()=>{try{const b=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",O=I(),T=P(),N=D(),j=N.detailedIncidents||[];console.log("Damaged Data:",N),console.log("Detailed Incidents:",j),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!j||j.length===0)&&console.log("No detailed incidents found, generating on the fly...");const K=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${b}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${b}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${Wt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${b})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${O.length}</p>
                <p><strong>Total Activities:</strong> ${O.reduce((X,Z)=>X+Z.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${O.reduce((X,Z)=>X+Z.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${O.reduce((X,Z)=>X+Z.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${O.slice(0,15).map(X=>`
                    <tr>
                      <td>${X.date}</td>
                      <td>${X.activities}</td>
                      <td>${X.units}</td>
                      <td>${X.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${O.length>15?`<tr><td colspan="4"><em>... and ${O.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${T.length}</p>
                <p><strong>Total Units Deducted:</strong> ${T.reduce((X,Z)=>X+Z.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${T.slice(0,15).map(X=>`
                    <tr>
                      <td>${X.date}</td>
                      <td>${X.products}</td>
                    </tr>
                  `).join("")}
                  ${T.length>15?`<tr><td colspan="2"><em>... and ${T.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${N.length}</p>
                <p><strong>Total Incidents:</strong> ${N.reduce((X,Z)=>X+Z.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${N.reduce((X,Z)=>X+Z.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${j.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${N.slice(0,15).map(X=>`
                    <tr>
                      <td>${X.date}</td>
                      <td>${X.products}</td>
                      <td>${X.units}</td>
                      <td>${X.productNames?X.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${N.length>15?`<tr><td colspan="4"><em>... and ${N.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${j.length>0?j.slice(0,50).map(X=>`
                    <tr>
                      <td>${X.date} ${X.time}</td>
                      <td>${X.user}</td>
                      <td>${X.productName}</td>
                      <td>${X.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${X.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${j.length>50?`<tr><td colspan="5"><em>... and ${j.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(X=>X.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(X=>X.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((X,Z)=>X+(Z.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(X=>`
                    <tr>
                      <td>${X.name}</td>
                      <td>${X.quantity}</td>
                      <td>${X.price&&!isNaN(X.price)?`£${X.price.toFixed(2)}`:"Not set"}</td>
                      <td>${X.locationCode}-${X.shelfNumber}</td>
                      <td>${X.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,J=window.open("","_blank");J?(J.document.write(K),J.document.close(),J.focus(),setTimeout(()=>{J.print()},500)):alert("Please allow pop-ups to export PDF")}catch(b){console.error("Error exporting PDF:",b),alert("Failed to export PDF. Please try again.")}};return p.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[p.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),p.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:E,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),p.jsxs("button",{onClick:A,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx($r,{value:e,onChange:b=>t(b.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(fC,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:_,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),p.jsx(dt,{variant:"secondary",onClick:w,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(Ls,{size:16,className:g?"animate-spin":""})})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?p.jsxs(p.Fragment,{children:[p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{}),p.jsx(Hu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Za,{title:`Total Stock Added (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:p.jsx(Z0,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:`Total Units Deducted (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:p.jsx(Q$,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:`Total Damaged Products (${r&&a?`${Wt(r,"MMM d")} - ${Wt(a,"MMM d, yyyy")}`:r?`From ${Wt(r,"MMM d, yyyy")}`:a?`To ${Wt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:p.jsx(Hh,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx(V2,{size:24,className:"text-blue-600"})})]})}),g?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"space-y-4 md:space-y-6",children:[p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:I(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(z0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(q0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(lo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(b,O)=>O==="Inbound Activities"?[`${b} activities`,O]:O==="Units Added"?[`${b} units`,O]:O==="Affected Products"?[`${b} products`,O]:[b,O],labelFormatter:b=>`Date: ${b}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:P(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(z0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(q0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(lo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:D(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(z0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(q0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(lo,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(b,O)=>O==="Damaged Incidents"?[`${b} incidents`,O]:O==="Units Damaged"?[`${b} units`,O]:[b,O],labelFormatter:b=>`Date: ${b}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},mBe=()=>{const{user:e,setUser:t}=xa(),{showToast:r}=Kc(),{isDarkMode:n,toggleDarkMode:a}=Xr(),[i,s]=H.useState(!1),[o,l]=H.useState({}),[c,u]=H.useState([]),[f,h]=H.useState(null),[d,g]=H.useState(!1),[m,v]=H.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,w]=H.useState({}),[_,I]=H.useState({}),[P,D]=H.useState(!1),[E,A]=H.useState(null),[b,O]=H.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[T,N]=H.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),j=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const se=(await ur(Et(at,"users"))).docs.map(ce=>({id:ce.id,...ce.data()}));u(se),console.log("Fetched users:",se.map(ce=>({id:ce.id,username:ce.username,name:ce.name})))}catch(Y){console.error("Error fetching users:",Y),r("Error fetching users","error")}finally{s(!1)}}};H.useEffect(()=>{j()},[e==null?void 0:e.role,r]);const K=Y=>Y.split(" ").map(se=>se[0]).join("").toUpperCase().slice(0,2),J=Y=>{const{name:se,value:ce}=Y.target;O(re=>({...re,[se]:ce})),o[se]&&l(re=>{const he={...re};return delete he[se],he})},X=()=>{const Y={};return b.username.trim()||(Y.username="Username is required"),b.email.trim()&&!/\S+@\S+\.\S+/.test(b.email)&&(Y.email="Invalid email format"),b.name.trim()||(Y.name="Name is required"),(b.currentPassword||b.newPassword||b.confirmPassword)&&(b.currentPassword?b.currentPassword!==(e==null?void 0:e.password)&&(Y.currentPassword="Current password is incorrect"):Y.currentPassword="Current password is required",b.newPassword?b.newPassword.length<6&&(Y.newPassword="Password must be at least 6 characters"):Y.newPassword="New password is required",b.newPassword!==b.confirmPassword&&(Y.confirmPassword="Passwords do not match")),l(Y),Object.keys(Y).length===0},Z=async Y=>{if(Y.preventDefault(),!!e&&X()){s(!0);try{const se={username:b.username,email:b.email,name:b.name,password:b.currentPassword!=""&&b.confirmPassword!=""&&b.newPassword!=""?b.newPassword:e.password},ce=[];e.username!==b.username&&ce.push(`changed username from "${e.username}" to "${b.username}"`),e.email!==b.email&&ce.push(`changed email from "${e.email}" to "${b.email}"`),e.name!==b.name&&ce.push(`changed full name from "${e.name}" to "${b.name}"`),b.currentPassword&&b.newPassword&&ce.push("changed their password");const re=en(at,"users",e.id);await Fa(re,se),ce.length>0&&await Or(Et(at,"activityLogs"),{user:e.name,role:e.role,detail:ce.length===1?ce[0]:`made multiple profile changes: ${ce.join("; ")}`,time:new Date().toISOString()}),t({...e,username:b.username,email:b.email,name:b.name,password:b.newPassword||e.password}),O(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(se){console.error("Error updating profile:",se),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},q=Y=>{console.log("Editing user:",Y),h(Y),I({}),N({username:Y.username,email:Y.email,name:Y.name,newPassword:"",confirmPassword:""})},U=Y=>{const{name:se,value:ce}=Y.target;N(re=>({...re,[se]:ce})),_[se]&&I(re=>{const he={...re};return delete he[se],he})},te=async()=>{if(f)try{if(s(!0),I({}),!T.username.trim()){I({username:"Username is required"});return}if(!T.name.trim()){I({name:"Name is required"});return}if(T.newPassword||T.confirmPassword){if(T.newPassword!==T.confirmPassword){I({confirmPassword:"Passwords do not match"});return}if(T.newPassword.length<6){I({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:T.username,email:T.email,name:T.name,password:T.newPassword?"***":"unchanged"});const Y=en(at,"users",f.id);console.log("User reference:",Y.path);const se={username:T.username,email:T.email,name:T.name,role:f.role};T.newPassword&&(se.password=T.newPassword),console.log("Attempting to update document with data:",se);try{await Fa(Y,se),console.log("User updated successfully in Firestore")}catch(ce){console.error("Failed to update by ID, trying to find by username:",ce);const re=sr(Et(at,"users"),lr("username","==",f.username)),he=await ur(re);if(he.empty)throw new Error("User not found by username either");{const be=he.docs[0];console.log("Found user by username, actual ID:",be.id);const B=en(at,"users",be.id);await Fa(B,se),console.log("User updated successfully using fallback method"),u(Te=>Te.map(_e=>_e.username===f.username?{..._e,id:be.id,...se}:_e))}}await Or(Et(at,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(ce=>ce.map(re=>re.id===f.id?{...re,...se}:re)),r("User updated successfully","success"),h(null)}catch(Y){console.error("Error updating user:",Y),console.error("Error details:",{editingUser:f,userEditForm:T,error:Y}),r("Failed to update user","error")}finally{s(!1)}},z=Y=>{const{name:se,value:ce}=Y.target;v(re=>({...re,[se]:ce})),y[se]&&w(re=>{const he={...re};return delete he[se],he})},C=()=>{const Y={};return m.username.trim()||(Y.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Y.email="Invalid email format"),m.name.trim()||(Y.name="Name is required"),m.password?m.password.length<6&&(Y.password="Password must be at least 6 characters"):Y.password="Password is required",m.password!==m.confirmPassword&&(Y.confirmPassword="Passwords do not match"),w(Y),Object.keys(Y).length===0},R=async Y=>{if(Y.preventDefault(),!!C()){s(!0);try{const ce=(await ur(Et(at,"users"))).docs.map(he=>he.data());if(ce.some(he=>he.username===m.username)){w({username:"Username already exists"});return}if(m.email.trim()&&ce.some(he=>he.email===m.email)){w({email:"Email already exists"});return}const re=await Or(Et(at,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await Or(Et(at,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:re.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(se){console.error("Error adding user:",se),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},V=async(Y,se)=>{A({username:se,name:Y}),D(!0)},G=async()=>{if(E)try{s(!0);const Y=Et(at,"users"),se=sr(Y,lr("username","==",E.username)),ce=await ur(se);if(ce.empty){r("User not found.","error");return}const re=ce.docs[0],he=en(at,"users",re.id);await op(he),await Or(Et(at,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${E.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(be=>be.filter(B=>B.username!==E.username)),r("User deleted successfully!","success")}catch(Y){console.error("Error deleting user:",Y),r("Failed to delete user. Please try again.","error")}finally{s(!1),D(!1),A(null)}};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),p.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&p.jsx(dt,{variant:"secondary",onClick:j,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:p.jsx(Ls,{size:16,className:i?"animate-spin":""})}),p.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?p.jsx(X$,{size:20}):p.jsx(Y$,{size:20})})]})]}),f&&p.jsxs(Mn,{isOpen:!!f,onClose:()=>{h(null),I({})},title:"Edit User",size:"md",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(wt,{label:"Username",name:"username",value:T.username,onChange:U,error:_.username}),p.jsx(wt,{label:"Email",name:"email",type:"email",value:T.email,onChange:U,error:_.email}),p.jsx(wt,{label:"Name",name:"name",value:T.name,onChange:U,error:_.name}),p.jsx(Iu,{label:"New Password",name:"newPassword",value:T.newPassword,onChange:U,error:_.newPassword}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:T.confirmPassword,onChange:U,error:_.confirmPassword})]}),p.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[p.jsx(dt,{variant:"secondary",onClick:()=>{h(null),I({})},disabled:i,children:"Cancel"}),p.jsx(dt,{onClick:te,disabled:i,children:i?"Updating...":"Update User"})]})]}),p.jsxs(Mn,{isOpen:P,onClose:()=>D(!1),title:"Confirm Deletion",size:"sm",children:[p.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',E==null?void 0:E.name,'" (username: ',E==null?void 0:E.username,")? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx(dt,{variant:"secondary",onClick:()=>D(!1),disabled:i,children:"Cancel"}),p.jsx(dt,{variant:"danger",onClick:G,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),p.jsxs("form",{onSubmit:Z,className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative",children:p.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:p.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:K((e==null?void 0:e.name)||"")})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:b.name}),p.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Username",name:"username",value:b.username,onChange:J,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),p.jsx(wt,{label:"Email",name:"email",type:"email",value:b.email,onChange:J,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),p.jsx(wt,{label:"Full Name",name:"name",value:b.name,onChange:J,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),p.jsx(Iu,{label:"Current Password",name:"currentPassword",value:b.currentPassword,onChange:J,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Iu,{label:"New Password",name:"newPassword",value:b.newPassword,onChange:J,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:b.confirmPassword,onChange:J,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&p.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),p.jsx("div",{className:"flex justify-end",children:p.jsx(dt,{type:"submit",isLoading:i,icon:p.jsx(N4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&p.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[p.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),p.jsxs(dt,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[p.jsx(N4,{size:16}),"Add New User"]})]}),p.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[p.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Y=>Y.id!==(e==null?void 0:e.id)).map(Y=>p.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Y.username}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Y.email||"-"}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Y.name}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Y.role}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>q(Y),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>V(Y.name,Y.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx($s,{size:16})})]})})]},Y.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Y=>Y.id!==(e==null?void 0:e.id)).map(Y=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Y.name}),p.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Y.username})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>q(Y),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(sl,{size:16})}),p.jsx(dt,{variant:"ghost",size:"sm",onClick:()=>V(Y.name,Y.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx($s,{size:16})})]})]}),p.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Y.email||"-"}),p.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Y.role})]},Y.id))})]}),p.jsx(Mn,{isOpen:d,onClose:()=>g(!1),title:"Add New User",size:"xl",children:p.jsxs("form",{onSubmit:R,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Username",name:"username",value:m.username,onChange:z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),p.jsx(wt,{label:"Email",name:"email",type:"email",value:m.email,onChange:z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(wt,{label:"Full Name",name:"name",value:m.name,onChange:z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),p.jsx($r,{label:"Role",name:"role",value:m.role,onChange:z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),p.jsx(Iu,{label:"Password",name:"password",value:m.password,onChange:z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),p.jsx(Iu,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(dt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},CA=["supply & serve","APHY","AZTEC","ZK"],gBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=H.useState(""),[i,s]=H.useState("stock sold"),[o,l]=H.useState(""),c=CA.includes(e.storeName)?CA:[e.storeName,...CA],u=[...c,"other"],[f,h]=H.useState(e.storeName||c[0]||""),[d,g]=H.useState(""),{isDarkMode:m}=Xr(),v=async _=>{_.preventDefault();const I=Number(n);if(!n||I<=0||I>e.quantity)return;const P=i==="other"?o:i,D=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-I,reason:P,storeName:D})},w=(()=>{const _=Number(n);return!n||_<=0?"Quantity to deduct must be greater than 0":_>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return p.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(wt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:_=>a(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx($r,{id:"reason",value:i,onChange:_=>s(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(wt,{id:"otherReason",type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx($r,{id:"storeName",value:f,onChange:_=>h(_.target.value),options:u.map(_=>({value:_,label:_==="other"?"Other":_})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`}),f==="other"&&p.jsx(wt,{id:"otherStoreName",type:"text",value:d,onChange:_=>g(_.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${w?"border-red-500 focus:border-red-500":""}`})]}),w?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[p.jsx(Hh,{size:16}),p.jsx("span",{children:w})]}):p.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsx("div",{className:"flex justify-end space-x-3",children:p.jsx(dt,{type:"submit",disabled:r||!!w,className:"min-w-[100px]",children:r?p.jsxs(p.Fragment,{children:[p.jsx(cs,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},vBe=()=>{const[e,t]=H.useState(""),[r,n]=H.useState("name"),[a,i]=H.useState(!1),[s,o]=H.useState(!1),[l,c]=H.useState(null),[u,f]=H.useState([]),[h,d]=H.useState(!1),[g,m]=H.useState(new Set),[v,y]=H.useState(null),[w,_]=H.useState(!1),[I,P]=H.useState("all"),[D,E]=H.useState(!1),{showToast:A}=Kc(),{isDarkMode:b}=Xr(),{user:O}=xa(),T=["supply & serve","APHY","AZTEC","ZK"],N=async()=>{o(!0);try{const z=sr(Et(at,"inventory"),$a("name")),R=(await ur(z)).docs.map(V=>{const G=V.data();return{id:V.id,...G,lastUpdated:G.lastUpdated instanceof Xt?G.lastUpdated.toDate():new Date(G.lastUpdated)}});f(R)}catch(z){console.error("Error fetching stock items:",z),A("Failed to fetch stock items","error")}finally{o(!1)}},j=async()=>{try{const z=xr(new Date,90),C=sr(Et(at,"activityLogs"),lr("time",">=",z.toISOString()),$a("time","desc")),V=(await ur(C)).docs.map(re=>({id:re.id,...re.data()})),G=xr(new Date,10),Y=new Set,se=new Map;V.forEach(re=>{if(re.detail.includes("added new product")){const he=re.detail.match(/added new product "([^"]+)"/);if(he){const be=he[1],B=new Date(re.time);(!se.has(be)||B<se.get(be))&&se.set(be,B)}}if(re.detail.includes("units deducted from stock")){const he=re.detail.match(/units deducted from stock "([^"]+)"/);if(he){const be=he[1];new Date(re.time)>=G&&Y.add(be)}}});const ce=new Set;u.forEach(re=>{const he=re.name,be=se.get(he);be&&be<G&&!Y.has(he)&&ce.add(he)}),m(ce)}catch(z){console.error("Error fetching activity logs:",z)}};H.useEffect(()=>{N()},[A]),H.useEffect(()=>{u.length>0&&j()},[u]),H.useEffect(()=>{const z=C=>{if(w||D){const R=C.target;!R.closest(".store-filter-dropdown")&&!R.closest(".status-filter-dropdown")&&(_(!1),E(!1))}};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[w,D]);const K=()=>{y(null),P("all"),_(!1),E(!1)},J=u.filter(z=>z.quantity>0).filter(z=>{const C=e.toLowerCase(),R=z.name.toLowerCase().includes(C),V=`${z.locationCode} - ${z.shelfNumber}`.toLowerCase().includes(C),G=z.asin?z.asin.split(",").some(re=>re.trim().toLowerCase().includes(C)):!1,Y=z.barcode?z.barcode.toLowerCase().includes(C):!1,se=v?v.storeName==="other"?!T.includes(z.storeName)&&z.fulfillmentType===v.fulfillmentType:z.storeName===v.storeName&&z.fulfillmentType===v.fulfillmentType:!0,ce=I==="all"||z.status===I;return(R||V||G||Y)&&se&&ce}).sort((z,C)=>r==="name"?z.name.localeCompare(C.name):r==="quantity"?C.quantity-z.quantity:r==="price"?C.price-z.price:r==="date"?new Date(C.lastUpdated).getTime()-new Date(z.lastUpdated).getTime():0),X=async z=>{o(!0);try{const C=en(at,"inventory",z.id),R=await Tv(C);if(!R.exists())throw new Error("Stock item not found");const V=R.data();if(!O)throw new Error("User not authenticated");const G=z.reason==="damaged"?V.damagedItems+(V.quantity-z.quantity):V.damagedItems,Y=new Date;await Fa(C,{quantity:z.quantity,damagedItems:G,lastUpdated:Xt.fromDate(Y)}),await Or(Et(at,"activityLogs"),{detail:`${V.quantity-z.quantity} units deducted from stock "${V.name}" (Reason: ${z.reason}, Store: ${z.storeName}) by ${O.role} from location ${V.locationCode} shelf ${V.shelfNumber}`,time:new Date().toISOString(),user:O.name,role:O.role});const se=u.map(ce=>ce.id===z.id?{...ce,quantity:z.quantity,damagedItems:G}:ce);f(se),c(null),i(!1),A("Stock quantity updated successfully","success")}catch(C){console.error("Error updating stock:",C),A("Failed to update stock quantity","error")}finally{o(!1)}},Z=z=>{a||c(z)},q=(z,C)=>{z.stopPropagation(),c(C),i(!0)},U=()=>{d(!0)},te=z=>{t(z),d(!1)};return p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${b?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),p.jsx("p",{className:`${b?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(wt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:z=>t(z.target.value),icon:p.jsx(yf,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:U,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx($r,{value:r,onChange:z=>n(z.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>E(!D),className:`flex items-center gap-2 ${I!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[I==="all"?"Status Filter":I==="active"?"Active":"Pending",p.jsx(vf,{size:16})]}),D&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="all"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),E(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="active"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),E(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${I==="pending"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),E(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),E(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(dt,{variant:"secondary",onClick:()=>_(!w),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"Other":v.storeName} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(vf,{size:16})]}),w&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${b?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(z=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z?b?"bg-slate-700":"bg-slate-100":""}`,children:z}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z&&(v==null?void 0:v.fulfillmentType)==="fba"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:z,fulfillmentType:"fba"}),_(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${b?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z&&(v==null?void 0:v.fulfillmentType)==="mf"?b?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:z,fulfillmentType:"mf"}),_(!1)},children:"MF"})]})]},z)),p.jsx("div",{className:`border-t ${b?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${b?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),_(!1)},children:"Clear Filter"})})]})})]})]}),p.jsx(dt,{variant:"secondary",onClick:()=>{N(),K()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:p.jsx(Ls,{size:16,className:s?"animate-spin":""})}),(v||I!=="all")&&p.jsx(dt,{variant:"secondary",onClick:K,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(cs,{className:`w-8 h-8 ${b?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:b?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):J.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:`${b?"bg-slate-800":"bg-slate-50"}`,children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(O==null?void 0:O.role)==="admin"&&p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${b?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${b?"divide-slate-700":"divide-slate-200"}`,children:J.map(z=>p.jsxs("tr",{className:`${b?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>Z(z),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-blue-400":"text-blue-700"} font-medium`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[z.name,g.has(z.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(dv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${b?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${b?"border-t-slate-800":"border-t-white"}`})]})]})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:z.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:z.status==="active"?"Active":"Pending"})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:[z.locationCode," - ",z.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:z.asin?z.asin.split(",").length>3?z.asin.split(",").slice(0,3).map(C=>C.trim()).join(", ")+"...":z.asin.split(",").map(C=>C.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[z.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),z.quantity>10&&z.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),p.jsx("span",{children:z.quantity})]})}),(O==null?void 0:O.role)==="admin"&&p.jsx("td",{className:`px-4 py-3 text-right text-sm ${b?"text-slate-200":"text-slate-900"}`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-sm ${b?"text-slate-200":"text-slate-800"}`,children:Wt(new Date(z.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:"px-4 py-3 text-right text-sm",children:p.jsx("div",{className:"flex items-center justify-end gap-2",children:p.jsx(dt,{variant:"secondary",size:"sm",onClick:C=>q(C,z),className:`p-1 ${b?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:p.jsx(sl,{size:16})})})})]},z.id))})]})})}),p.jsx("div",{className:"block md:hidden space-y-4",children:J.map(z=>p.jsxs("div",{className:`rounded-lg border ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>Z(z),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${b?"text-blue-400":"text-blue-700"}`,children:z.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[g.has(z.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(dv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${b?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${b?"border-t-slate-800":"border-t-white"}`})]})]}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:z.status==="active"?"Active":"Pending"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[z.locationCode," - ",z.shelfNumber]})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:z.quantity})]}),z.asin&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:z.asin})]}),(O==null?void 0:O.role)==="admin"&&p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:b?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:Wt(new Date(z.lastUpdated),"MMM d, yyyy")})]})]}),p.jsx("div",{className:"flex gap-2 mt-2",children:p.jsxs(dt,{size:"sm",variant:"secondary",onClick:C=>{C.stopPropagation(),q(C,z)},children:[p.jsx(sl,{size:14})," Edit"]})})]},z.id))})]}):p.jsx("div",{className:`text-center py-12 ${b?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:b?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(Mn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&p.jsx(gBe,{item:l,onSubmit:X,isLoading:s})}),l&&!a&&p.jsx(uC,{isOpen:!0,onClose:()=>c(null),item:l}),p.jsx(ld,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:te})]})},yBe=()=>{const[e,t]=H.useState(!0),[r,n]=H.useState([]),[a,i]=H.useState(new Set),[s,o]=H.useState(""),[l,c]=H.useState(""),[u,f]=H.useState("locationCode"),[h,d]=H.useState({}),{showToast:g}=Kc(),{isDarkMode:m}=Xr(),[v,y]=H.useState(!1),[w,_]=H.useState(null),[I,P]=H.useState(1),[D,E]=H.useState("A1"),[A,b]=H.useState("0"),[O,T]=H.useState(!1),[N,j]=H.useState(!1),[K,J]=H.useState(""),[X,Z]=H.useState(hf("A1")),{user:q}=xa(),U=B=>{E(B);const Te=hf(B);Z(Te),parseInt(A)>=Te.length&&b("0")},te=async()=>{t(!0);try{const B=sr(Et(at,"inventory"),$a("locationCode")),_e=(await ur(B)).docs.map(ge=>{const ee=ge.data();return{id:ge.id,name:ee.name||"",quantity:ee.quantity||0,price:ee.price||0,unit:ee.unit||null,supplier:ee.supplier??null,lastUpdated:ee.lastUpdated instanceof Xt?ee.lastUpdated.toDate():new Date,locationCode:ee.locationCode||"",shelfNumber:ee.shelfNumber||"",barcode:ee.barcode??null,asin:ee.asin??null,status:ee.status||"pending",damagedItems:ee.damagedItems||0,fulfillmentType:ee.fulfillmentType||"fba",storeName:ee.storeName||""}});n(_e)}catch(B){console.error("Error fetching locations:",B),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},z=async()=>{try{const B=sr(Et(at,"locations")),Te=await ur(B),_e={};Te.forEach(ge=>{_e[ge.id]=ge.data().isAvailable!==!1}),d(_e)}catch(B){console.error("Error fetching location availability:",B)}};H.useEffect(()=>{t(!0),Promise.all([te(),z()]).finally(()=>t(!1))},[]);const C=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],R=C.reduce((B,Te)=>{const ge=r.filter(ee=>ee.locationCode===Te).reduce((ee,Ae)=>{const Oe=ee.findIndex(Me=>Me.name===Ae.name&&he(Me.asin)===he(Ae.asin)&&he(Me.barcode)===he(Ae.barcode)&&Me.locationCode===Ae.locationCode&&Me.shelfNumber===Ae.shelfNumber);return Oe>=0?ee[Oe]={...ee[Oe],quantity:ee[Oe].quantity+Ae.quantity,lastUpdated:ee[Oe].lastUpdated>Ae.lastUpdated?ee[Oe].lastUpdated:Ae.lastUpdated}:ee.push(Ae),ee},[]);return B[Te]={locationCode:Te,totalStock:ge.reduce((ee,Ae)=>ee+Ae.quantity,0),products:ge},B},{}),V=Object.values(R).filter(B=>{const Te=s.toLowerCase(),_e=l.toLowerCase(),ge=_e===""||B.locationCode.toLowerCase().includes(_e),ee=Te===""||B.products.some(Ae=>Ae.name.toLowerCase().includes(Te)||Ae.asin&&Ae.asin.split(",").some(Oe=>Oe.trim().toLowerCase().includes(Te))||Ae.barcode&&Ae.barcode.toLowerCase().includes(Te));return ge&&ee}).sort((B,Te)=>{if(u==="totalStock")return Te.totalStock-B.totalStock;if(u==="locationCode")return B.locationCode==="Awaiting Location"?-1:Te.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Te.locationCode);if(u==="availability"){const _e=h[B.locationCode]!==!1,ge=h[Te.locationCode]!==!1;return _e===ge?B.locationCode==="Awaiting Location"?-1:Te.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Te.locationCode):_e?-1:1}return 0});H.useEffect(()=>{if(s.trim()&&s!==K){const B=V.filter(Te=>{const _e=s.toLowerCase();return Te.products.some(ge=>ge.name.toLowerCase().includes(_e)||ge.asin&&ge.asin.split(",").some(ee=>ee.trim().toLowerCase().includes(_e))||ge.barcode&&ge.barcode.toLowerCase().includes(_e))});if(B.length>0){const Te=B.flatMap(ge=>ge.products.filter(ee=>{const Ae=s.toLowerCase();return ee.name.toLowerCase().includes(Ae)||ee.asin&&ee.asin.split(",").some(Oe=>Oe.trim().toLowerCase().includes(Ae))||ee.barcode&&ee.barcode.toLowerCase().includes(Ae)})),_e=[...new Set(Te.map(ge=>`${ge.locationCode}-${ge.shelfNumber}`))];g(`Product found! Located at: ${_e.join(", ")}`,"success"),J(s)}else s.trim()&&s!==K&&(g("Product not found in any location","error"),J(s))}else!s.trim()&&K&&J("")},[V,s,g,K]);const G=B=>{i(Te=>{const _e=new Set(Te);return _e.has(B)?_e.delete(B):_e.add(B),_e})},Y=()=>{j(!0)},se=B=>{o(B),j(!1)},ce=async B=>{const Te=!(h[B]??!0);d(_e=>({..._e,[B]:Te}));try{await tx(en(at,"locations",B),{isAvailable:Te},{merge:!0})}catch(_e){g("Failed to update availability","error"),d(ge=>({...ge,[B]:!Te})),console.log(_e)}};function re(B){const Te={...B};return Object.keys(Te).forEach(_e=>{Te[_e]===void 0&&(Te[_e]=null)}),Te}function he(B){return B??""}const be=async()=>{if(w&&!(I<1||I>w.quantity)){T(!0);try{const B=sr(Et(at,"inventory")),Te=await ur(B);let _e=null;if(Te.forEach(ge=>{const ee=ge.data();ee.name===w.name&&ee.locationCode===D&&ee.shelfNumber===A&&he(ee.asin)===he(w.asin)&&he(ee.barcode)===he(w.barcode)&&(_e={...ee,id:ge.id})}),I===w.quantity)await tx(en(at,"inventory",w.id),re({...w,locationCode:D,shelfNumber:A,lastUpdated:new Date}),{merge:!0});else if(await tx(en(at,"inventory",w.id),re({...w,quantity:w.quantity-I,lastUpdated:new Date}),{merge:!0}),_e)await tx(en(at,"inventory",_e.id),re({..._e,quantity:_e.quantity+I,lastUpdated:new Date}),{merge:!0});else{const{id:ge,...ee}=w;await Or(Et(at,"inventory"),re({...ee,quantity:I,locationCode:D,shelfNumber:A,lastUpdated:new Date}))}await Or(Et(at,"activityLogs"),{user:(q==null?void 0:q.name)||"Unknown",role:(q==null?void 0:q.role)||"Unknown",detail:`Moved ${I} unit(s) of "${w.name}" from ${w.locationCode}-${w.shelfNumber} to ${D}-${A}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),_(null),te()}catch(B){g("Failed to move stock","error"),console.log(B)}finally{T(!1)}}};return p.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),p.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(wt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:B=>o(B.target.value),icon:p.jsx(yf,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:Y,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"flex-1",children:p.jsx(wt,{type:"text",placeholder:"Search by location code...",value:l,onChange:B=>c(B.target.value),icon:p.jsx(yf,{size:16})})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx($r,{value:u,onChange:B=>f(B.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),p.jsx(dt,{variant:"secondary",onClick:te,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(Ls,{size:16,className:e?"animate-spin":""})})]}),e?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):V.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx(Z0,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),p.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(V).map(B=>{const Te=a.has(B.locationCode);return p.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Te?"ring-2 ring-blue-500":""}`,children:[p.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>G(B.locationCode),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:p.jsx(Z0,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),p.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:B.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${B.locationCode}`})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:h[B.locationCode]!==!1,onChange:_e=>{_e.stopPropagation(),ce(B.locationCode)},className:"sr-only peer"}),p.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[B.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),p.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[B.locationCode]!==!1?"translate-x-5":""}
                          `})]}),p.jsx("span",{className:`text-xs font-semibold ml-2 ${h[B.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[B.locationCode]!==!1?"Available":"Not Available"}),p.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:_e=>{_e.stopPropagation(),G(B.locationCode)},"aria-label":Te?"Collapse":"Expand",children:Te?p.jsx(K$,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):p.jsx(vf,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),p.jsxs("div",{className:"flex justify-between items-end mt-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),p.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[B.totalStock," units"]})]}),p.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?B.products.filter(_e=>{const ge=s.toLowerCase();return _e.name.toLowerCase().includes(ge)||_e.asin&&_e.asin.split(",").some(ee=>ee.trim().toLowerCase().includes(ge))||_e.barcode&&_e.barcode.toLowerCase().includes(ge)}).length:B.products.length," product",(s.trim()?B.products.filter(_e=>{const ge=s.toLowerCase();return _e.name.toLowerCase().includes(ge)||_e.asin&&_e.asin.split(",").some(ee=>ee.trim().toLowerCase().includes(ge))||_e.barcode&&_e.barcode.toLowerCase().includes(ge)}).length:B.products.length)!==1?"s":""]})]})]}),Te&&p.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[p.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?B.products.filter(_e=>{const ge=s.toLowerCase();return _e.name.toLowerCase().includes(ge)||_e.asin&&_e.asin.split(",").some(ee=>ee.trim().toLowerCase().includes(ge))||_e.barcode&&_e.barcode.toLowerCase().includes(ge)}).length===0:B.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),p.jsx("div",{className:"space-y-4",children:B.products.filter(_e=>{if(s.trim()){const ge=s.toLowerCase();return _e.name.toLowerCase().includes(ge)||_e.asin&&_e.asin.split(",").some(ee=>ee.trim().toLowerCase().includes(ge))||_e.barcode&&_e.barcode.toLowerCase().includes(ge)}return!0}).map(_e=>{const ge=B.totalStock===0?0:_e.quantity/B.totalStock*100,ee=s.toLowerCase(),Ae=_e.name.toLowerCase().includes(ee)||_e.asin&&_e.asin.split(",").some(Oe=>Oe.trim().toLowerCase().includes(ee))||_e.barcode&&_e.barcode.toLowerCase().includes(ee);return p.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Ae?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`font-medium ${Ae?"text-blue-600":m?"text-white":"text-slate-800"}`,children:_e.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",_e.shelfNumber]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[_e.quantity," units"]}),p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async Oe=>{Oe.stopPropagation();const Me=await Tv(en(at,"inventory",_e.id));if(Me.exists()){const Ke=Me.data();_({...Ke,id:_e.id}),P(1),E(_e.locationCode),b(_e.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),p.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${ge>75?"bg-green-500":ge>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${ge}%`},title:`${_e.quantity} out of ${B.totalStock} units (${ge.toFixed(1)}%)`})})]},_e.id)})})]})]},B.locationCode)})}),p.jsx(Mn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:w&&p.jsxs("form",{onSubmit:B=>{B.preventDefault(),be()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),p.jsx("input",{type:"number",min:1,max:w.quantity,value:I,onChange:B=>P(Number(B.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),p.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",w.quantity]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),p.jsx("select",{value:D,onChange:B=>U(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:C.map(B=>p.jsx("option",{value:B,children:B},B))})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),p.jsx("select",{value:A,onChange:B=>b(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:X.map(B=>p.jsx("option",{value:B.value,children:B.label},B.value))})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:O,children:O?"Moving...":"Move"})]})]})}),p.jsx(ld,{isOpen:N,onClose:()=>j(!1),onBarcodeScanned:se})]})},Vo=({children:e,allowedRoles:t})=>{const{user:r}=xa();return r?t.includes(r.role)?p.jsx(p.Fragment,{children:e}):p.jsx(S4,{to:"/",replace:!0}):p.jsx(S4,{to:"/login",replace:!0})};function xBe(){return p.jsxs(FJ,{children:[p.jsx(is,{path:"/login",element:p.jsx(kce,{})}),p.jsxs(is,{path:"/",element:p.jsx(Tce,{}),children:[p.jsx(is,{index:!0,element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(dye,{})})}),p.jsx(is,{path:"stock",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(Eye,{})})}),p.jsx(is,{path:"jobs",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(Cye,{})})}),p.jsx(is,{path:"inventory",element:p.jsx(Vo,{allowedRoles:["admin"],children:p.jsx(kye,{})})}),p.jsx(is,{path:"orders",element:p.jsx(Vo,{allowedRoles:[""],children:p.jsx(Uye,{})})}),p.jsx(is,{path:"outbound-stock",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(vBe,{})})}),p.jsx(is,{path:"warehouse-locations",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(yBe,{})})}),p.jsx(is,{path:"warehouse-operations",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(E2e,{})})}),p.jsx(is,{path:"reports-analytics",element:p.jsx(Vo,{allowedRoles:["admin"],children:p.jsx(pBe,{})})}),p.jsx(is,{path:"settings",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(mBe,{})})}),p.jsx(is,{path:"add",element:p.jsx(Vo,{allowedRoles:["admin","staff"],children:p.jsx(Eq,{})})})]})]})}R$(document.getElementById("root")).render(p.jsx(H.StrictMode,{children:p.jsx(HJ,{basename:"/",children:p.jsx(Cae,{children:p.jsx(Nae,{children:p.jsx(Ece,{children:p.jsx(xBe,{})})})})})}));export{Kr as _,Qm as c,dn as g};
