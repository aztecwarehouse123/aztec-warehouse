function hY(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Wm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pF={exports:{}},xw={},mF={exports:{}},fr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=Symbol.for("react.element"),dY=Symbol.for("react.portal"),pY=Symbol.for("react.fragment"),mY=Symbol.for("react.strict_mode"),gY=Symbol.for("react.profiler"),vY=Symbol.for("react.provider"),yY=Symbol.for("react.context"),xY=Symbol.for("react.forward_ref"),bY=Symbol.for("react.suspense"),wY=Symbol.for("react.memo"),_Y=Symbol.for("react.lazy"),VN=Symbol.iterator;function SY(e){return e===null||typeof e!="object"?null:(e=VN&&e[VN]||e["@@iterator"],typeof e=="function"?e:null)}var gF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vF=Object.assign,yF={};function Pp(e,t,r){this.props=e,this.context=t,this.refs=yF,this.updater=r||gF}Pp.prototype.isReactComponent={};Pp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Pp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xF(){}xF.prototype=Pp.prototype;function c3(e,t,r){this.props=e,this.context=t,this.refs=yF,this.updater=r||gF}var u3=c3.prototype=new xF;u3.constructor=c3;vF(u3,Pp.prototype);u3.isPureReactComponent=!0;var UN=Array.isArray,bF=Object.prototype.hasOwnProperty,f3={current:null},wF={key:!0,ref:!0,__self:!0,__source:!0};function _F(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)bF.call(t,n)&&!wF.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:xv,type:e,key:i,ref:s,props:a,_owner:f3.current}}function AY(e,t){return{$$typeof:xv,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function h3(e){return typeof e=="object"&&e!==null&&e.$$typeof===xv}function TY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var zN=/\/+/g;function w_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?TY(""+e.key):t.toString(36)}function Nx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case xv:case dY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+w_(s,0):n,UN(a)?(r="",e!=null&&(r=e.replace(zN,"$&/")+"/"),Nx(a,t,r,"",function(c){return c})):a!=null&&(h3(a)&&(a=AY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(zN,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",UN(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+w_(i,o);s+=Nx(i,t,r,l,a)}else if(l=SY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+w_(i,o++),s+=Nx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function ky(e,t,r){if(e==null)return e;var n=[],a=0;return Nx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function EY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Gi={current:null},Ox={transition:null},kY={ReactCurrentDispatcher:Gi,ReactCurrentBatchConfig:Ox,ReactCurrentOwner:f3};function SF(){throw Error("act(...) is not supported in production builds of React.")}fr.Children={map:ky,forEach:function(e,t,r){ky(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return ky(e,function(){t++}),t},toArray:function(e){return ky(e,function(t){return t})||[]},only:function(e){if(!h3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};fr.Component=Pp;fr.Fragment=pY;fr.Profiler=gY;fr.PureComponent=c3;fr.StrictMode=mY;fr.Suspense=bY;fr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kY;fr.act=SF;fr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vF({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=f3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)bF.call(t,l)&&!wF.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:xv,type:e.type,key:a,ref:i,props:n,_owner:s}};fr.createContext=function(e){return e={$$typeof:yY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vY,_context:e},e.Consumer=e};fr.createElement=_F;fr.createFactory=function(e){var t=_F.bind(null,e);return t.type=e,t};fr.createRef=function(){return{current:null}};fr.forwardRef=function(e){return{$$typeof:xY,render:e}};fr.isValidElement=h3;fr.lazy=function(e){return{$$typeof:_Y,_payload:{_status:-1,_result:e},_init:EY}};fr.memo=function(e,t){return{$$typeof:wY,type:e,compare:t===void 0?null:t}};fr.startTransition=function(e){var t=Ox.transition;Ox.transition={};try{e()}finally{Ox.transition=t}};fr.unstable_act=SF;fr.useCallback=function(e,t){return Gi.current.useCallback(e,t)};fr.useContext=function(e){return Gi.current.useContext(e)};fr.useDebugValue=function(){};fr.useDeferredValue=function(e){return Gi.current.useDeferredValue(e)};fr.useEffect=function(e,t){return Gi.current.useEffect(e,t)};fr.useId=function(){return Gi.current.useId()};fr.useImperativeHandle=function(e,t,r){return Gi.current.useImperativeHandle(e,t,r)};fr.useInsertionEffect=function(e,t){return Gi.current.useInsertionEffect(e,t)};fr.useLayoutEffect=function(e,t){return Gi.current.useLayoutEffect(e,t)};fr.useMemo=function(e,t){return Gi.current.useMemo(e,t)};fr.useReducer=function(e,t,r){return Gi.current.useReducer(e,t,r)};fr.useRef=function(e){return Gi.current.useRef(e)};fr.useState=function(e){return Gi.current.useState(e)};fr.useSyncExternalStore=function(e,t,r){return Gi.current.useSyncExternalStore(e,t,r)};fr.useTransition=function(){return Gi.current.useTransition()};fr.version="18.3.1";mF.exports=fr;var Z=mF.exports;const Ne=rn(Z),PY=hY({__proto__:null,default:Ne},[Z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CY=Z,NY=Symbol.for("react.element"),OY=Symbol.for("react.fragment"),IY=Object.prototype.hasOwnProperty,DY=CY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LY={key:!0,ref:!0,__self:!0,__source:!0};function AF(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)IY.call(t,n)&&!LY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:NY,type:e,key:i,ref:s,props:a,_owner:DY.current}}xw.Fragment=OY;xw.jsx=AF;xw.jsxs=AF;pF.exports=xw;var g=pF.exports,TF={exports:{}},Fs={},EF={exports:{}},kF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,B){var ee=z.length;z.push(B);e:for(;0<ee;){var ne=ee-1>>>1,I=z[ne];if(0<a(I,B))z[ne]=B,z[ee]=I,ee=ne;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var B=z[0],ee=z.pop();if(ee!==B){z[0]=ee;e:for(var ne=0,I=z.length,F=I>>>1;ne<F;){var q=2*(ne+1)-1,Y=z[q],K=q+1,le=z[K];if(0>a(Y,ee))K<I&&0>a(le,Y)?(z[ne]=le,z[K]=ee,ne=K):(z[ne]=Y,z[q]=ee,ne=q);else if(K<I&&0>a(le,ee))z[ne]=le,z[K]=ee,ne=K;else break e}}return B}function a(z,B){var ee=z.sortIndex-B.sortIndex;return ee!==0?ee:z.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(z){for(var B=r(c);B!==null;){if(B.callback===null)n(c);else if(B.startTime<=z)n(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=r(c)}}function O(z){if(p=!1,_(z),!m)if(r(l)!==null)m=!0,Q(C);else{var B=r(c);B!==null&&J(O,B.startTime-z)}}function C(z,B){m=!1,p&&(p=!1,y(S),S=-1),d=!0;var ee=h;try{for(_(B),f=r(l);f!==null&&(!(f.expirationTime>B)||z&&!E());){var ne=f.callback;if(typeof ne=="function"){f.callback=null,h=f.priorityLevel;var I=ne(f.expirationTime<=B);B=e.unstable_now(),typeof I=="function"?f.callback=I:f===r(l)&&n(l),_(B)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var q=r(c);q!==null&&J(O,q.startTime-B),F=!1}return F}finally{f=null,h=ee,d=!1}}var N=!1,T=null,S=-1,A=5,D=-1;function E(){return!(e.unstable_now()-D<A)}function P(){if(T!==null){var z=e.unstable_now();D=z;var B=!0;try{B=T(!0,z)}finally{B?j():(N=!1,T=null)}}else N=!1}var j;if(typeof b=="function")j=function(){b(P)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,U=G.port2;G.port1.onmessage=P,j=function(){U.postMessage(null)}}else j=function(){v(P,0)};function Q(z){T=z,N||(N=!0,j())}function J(z,B){S=v(function(){z(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,Q(C))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(z){switch(h){case 1:case 2:case 3:var B=3;break;default:B=h}var ee=h;h=B;try{return z()}finally{h=ee}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,B){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var ee=h;h=z;try{return B()}finally{h=ee}},e.unstable_scheduleCallback=function(z,B,ee){var ne=e.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?ne+ee:ne):ee=ne,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ee+I,z={id:u++,callback:B,priorityLevel:z,startTime:ee,expirationTime:I,sortIndex:-1},ee>ne?(z.sortIndex=ee,t(c,z),r(l)===null&&z===r(c)&&(p?(y(S),S=-1):p=!0,J(O,ee-ne))):(z.sortIndex=I,t(l,z),m||d||(m=!0,Q(C))),z},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(z){var B=h;return function(){var ee=h;h=B;try{return z.apply(this,arguments)}finally{h=ee}}}})(kF);EF.exports=kF;var jY=EF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MY=Z,Ls=jY;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PF=new Set,Ug={};function Jh(e,t){B0(e,t),B0(e+"Capture",t)}function B0(e,t){for(Ug[e]=t,e=0;e<t.length;e++)PF.add(t[e])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),SA=Object.prototype.hasOwnProperty,RY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},WN={};function FY(e){return SA.call(WN,e)?!0:SA.call(qN,e)?!1:RY.test(e)?WN[e]=!0:(qN[e]=!0,!1)}function $Y(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function BY(e,t,r,n){if(t===null||typeof t>"u"||$Y(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ki(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Ja={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ja[e]=new Ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ja[t]=new Ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ja[e]=new Ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ja[e]=new Ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ja[e]=new Ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ja[e]=new Ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ja[e]=new Ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ja[e]=new Ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ja[e]=new Ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var d3=/[\-:]([a-z])/g;function p3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(d3,p3);Ja[t]=new Ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(d3,p3);Ja[t]=new Ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(d3,p3);Ja[t]=new Ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ja[e]=new Ki(e,1,!1,e.toLowerCase(),null,!1,!1)});Ja.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ja[e]=new Ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function m3(e,t,r,n){var a=Ja.hasOwnProperty(t)?Ja[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(BY(t,r,a,n)&&(r=null),n||a===null?FY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Uc=MY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Py=Symbol.for("react.element"),Qd=Symbol.for("react.portal"),Jd=Symbol.for("react.fragment"),g3=Symbol.for("react.strict_mode"),AA=Symbol.for("react.profiler"),CF=Symbol.for("react.provider"),NF=Symbol.for("react.context"),v3=Symbol.for("react.forward_ref"),TA=Symbol.for("react.suspense"),EA=Symbol.for("react.suspense_list"),y3=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),OF=Symbol.for("react.offscreen"),HN=Symbol.iterator;function wm(e){return e===null||typeof e!="object"?null:(e=HN&&e[HN]||e["@@iterator"],typeof e=="function"?e:null)}var In=Object.assign,__;function Hm(e){if(__===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);__=t&&t[1]||""}return`
`+__+e}var S_=!1;function A_(e,t){if(!e||S_)return"";S_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{S_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Hm(e):""}function VY(e){switch(e.tag){case 5:return Hm(e.type);case 16:return Hm("Lazy");case 13:return Hm("Suspense");case 19:return Hm("SuspenseList");case 0:case 2:case 15:return e=A_(e.type,!1),e;case 11:return e=A_(e.type.render,!1),e;case 1:return e=A_(e.type,!0),e;default:return""}}function kA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jd:return"Fragment";case Qd:return"Portal";case AA:return"Profiler";case g3:return"StrictMode";case TA:return"Suspense";case EA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case NF:return(e.displayName||"Context")+".Consumer";case CF:return(e._context.displayName||"Context")+".Provider";case v3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case y3:return t=e.displayName||null,t!==null?t:kA(e.type)||"Memo";case Nu:t=e._payload,e=e._init;try{return kA(e(t))}catch{}}return null}function UY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kA(t);case 8:return t===g3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function IF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zY(e){var t=IF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Cy(e){e._valueTracker||(e._valueTracker=zY(e))}function DF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=IF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function i2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function PA(e,t){var r=t.checked;return In({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function GN(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function LF(e,t){t=t.checked,t!=null&&m3(e,"checked",t,!1)}function CA(e,t){LF(e,t);var r=hf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?NA(e,t.type,r):t.hasOwnProperty("defaultValue")&&NA(e,t.type,hf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function KN(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function NA(e,t,r){(t!=="number"||i2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Gm=Array.isArray;function x0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function OA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return In({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function YN(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(mt(92));if(Gm(r)){if(1<r.length)throw Error(mt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hf(r)}}function jF(e,t){var r=hf(t.value),n=hf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function XN(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function MF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function IA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?MF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ny,RF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ny=Ny||document.createElement("div"),Ny.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ny.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var sg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qY=["Webkit","ms","Moz","O"];Object.keys(sg).forEach(function(e){qY.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sg[t]=sg[e]})});function FF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||sg.hasOwnProperty(e)&&sg[e]?(""+t).trim():t+"px"}function $F(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=FF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var WY=In({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function DA(e,t){if(t){if(WY[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function LA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jA=null;function x3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var MA=null,b0=null,w0=null;function QN(e){if(e=_v(e)){if(typeof MA!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=Aw(t),MA(e.stateNode,e.type,t))}}function BF(e){b0?w0?w0.push(e):w0=[e]:b0=e}function VF(){if(b0){var e=b0,t=w0;if(w0=b0=null,QN(e),t)for(e=0;e<t.length;e++)QN(t[e])}}function UF(e,t){return e(t)}function zF(){}var T_=!1;function qF(e,t,r){if(T_)return e(t,r);T_=!0;try{return UF(e,t,r)}finally{T_=!1,(b0!==null||w0!==null)&&(zF(),VF())}}function qg(e,t){var r=e.stateNode;if(r===null)return null;var n=Aw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(mt(231,t,typeof r));return r}var RA=!1;if(Tc)try{var _m={};Object.defineProperty(_m,"passive",{get:function(){RA=!0}}),window.addEventListener("test",_m,_m),window.removeEventListener("test",_m,_m)}catch{RA=!1}function HY(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var og=!1,s2=null,o2=!1,FA=null,GY={onError:function(e){og=!0,s2=e}};function KY(e,t,r,n,a,i,s,o,l){og=!1,s2=null,HY.apply(GY,arguments)}function YY(e,t,r,n,a,i,s,o,l){if(KY.apply(this,arguments),og){if(og){var c=s2;og=!1,s2=null}else throw Error(mt(198));o2||(o2=!0,FA=c)}}function Zh(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function WF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function JN(e){if(Zh(e)!==e)throw Error(mt(188))}function XY(e){var t=e.alternate;if(!t){if(t=Zh(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return JN(a),e;if(i===n)return JN(a),t;i=i.sibling}throw Error(mt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(mt(189))}}if(r.alternate!==n)throw Error(mt(190))}if(r.tag!==3)throw Error(mt(188));return r.stateNode.current===r?e:t}function HF(e){return e=XY(e),e!==null?GF(e):null}function GF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GF(e);if(t!==null)return t;e=e.sibling}return null}var KF=Ls.unstable_scheduleCallback,ZN=Ls.unstable_cancelCallback,QY=Ls.unstable_shouldYield,JY=Ls.unstable_requestPaint,Qn=Ls.unstable_now,ZY=Ls.unstable_getCurrentPriorityLevel,b3=Ls.unstable_ImmediatePriority,YF=Ls.unstable_UserBlockingPriority,l2=Ls.unstable_NormalPriority,eX=Ls.unstable_LowPriority,XF=Ls.unstable_IdlePriority,bw=null,El=null;function tX(e){if(El&&typeof El.onCommitFiberRoot=="function")try{El.onCommitFiberRoot(bw,e,void 0,(e.current.flags&128)===128)}catch{}}var Xo=Math.clz32?Math.clz32:aX,rX=Math.log,nX=Math.LN2;function aX(e){return e>>>=0,e===0?32:31-(rX(e)/nX|0)|0}var Oy=64,Iy=4194304;function Km(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function c2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=Km(o):(i&=s,i!==0&&(n=Km(i)))}else s=r&~a,s!==0?n=Km(s):i!==0&&(n=Km(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Xo(t),a=1<<r,n|=e[r],t&=~a;return n}function iX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Xo(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=iX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function $A(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function QF(){var e=Oy;return Oy<<=1,!(Oy&4194240)&&(Oy=64),e}function E_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bv(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xo(t),e[t]=r}function oX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-Xo(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function w3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Xo(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Gr=0;function JF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ZF,_3,e7,t7,r7,BA=!1,Dy=[],Yu=null,Xu=null,Qu=null,Wg=new Map,Hg=new Map,Du=[],lX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e6(e,t){switch(e){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Qu=null;break;case"pointerover":case"pointerout":Wg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hg.delete(t.pointerId)}}function Sm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=_v(t),t!==null&&_3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function cX(e,t,r,n,a){switch(t){case"focusin":return Yu=Sm(Yu,e,t,r,n,a),!0;case"dragenter":return Xu=Sm(Xu,e,t,r,n,a),!0;case"mouseover":return Qu=Sm(Qu,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Wg.set(i,Sm(Wg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Hg.set(i,Sm(Hg.get(i)||null,e,t,r,n,a)),!0}return!1}function n7(e){var t=gh(e.target);if(t!==null){var r=Zh(t);if(r!==null){if(t=r.tag,t===13){if(t=WF(r),t!==null){e.blockedOn=t,r7(e.priority,function(){e7(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ix(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=VA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);jA=n,r.target.dispatchEvent(n),jA=null}else return t=_v(r),t!==null&&_3(t),e.blockedOn=r,!1;t.shift()}return!0}function t6(e,t,r){Ix(e)&&r.delete(t)}function uX(){BA=!1,Yu!==null&&Ix(Yu)&&(Yu=null),Xu!==null&&Ix(Xu)&&(Xu=null),Qu!==null&&Ix(Qu)&&(Qu=null),Wg.forEach(t6),Hg.forEach(t6)}function Am(e,t){e.blockedOn===t&&(e.blockedOn=null,BA||(BA=!0,Ls.unstable_scheduleCallback(Ls.unstable_NormalPriority,uX)))}function Gg(e){function t(a){return Am(a,e)}if(0<Dy.length){Am(Dy[0],e);for(var r=1;r<Dy.length;r++){var n=Dy[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Yu!==null&&Am(Yu,e),Xu!==null&&Am(Xu,e),Qu!==null&&Am(Qu,e),Wg.forEach(t),Hg.forEach(t),r=0;r<Du.length;r++)n=Du[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Du.length&&(r=Du[0],r.blockedOn===null);)n7(r),r.blockedOn===null&&Du.shift()}var _0=Uc.ReactCurrentBatchConfig,u2=!0;function fX(e,t,r,n){var a=Gr,i=_0.transition;_0.transition=null;try{Gr=1,S3(e,t,r,n)}finally{Gr=a,_0.transition=i}}function hX(e,t,r,n){var a=Gr,i=_0.transition;_0.transition=null;try{Gr=4,S3(e,t,r,n)}finally{Gr=a,_0.transition=i}}function S3(e,t,r,n){if(u2){var a=VA(e,t,r,n);if(a===null)M_(e,t,n,f2,r),e6(e,n);else if(cX(a,e,t,r,n))n.stopPropagation();else if(e6(e,n),t&4&&-1<lX.indexOf(e)){for(;a!==null;){var i=_v(a);if(i!==null&&ZF(i),i=VA(e,t,r,n),i===null&&M_(e,t,n,f2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else M_(e,t,n,null,r)}}var f2=null;function VA(e,t,r,n){if(f2=null,e=x3(n),e=gh(e),e!==null)if(t=Zh(e),t===null)e=null;else if(r=t.tag,r===13){if(e=WF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return f2=e,null}function a7(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ZY()){case b3:return 1;case YF:return 4;case l2:case eX:return 16;case XF:return 536870912;default:return 16}default:return 16}}var $u=null,A3=null,Dx=null;function i7(){if(Dx)return Dx;var e,t=A3,r=t.length,n,a="value"in $u?$u.value:$u.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Dx=a.slice(e,1<n?1-n:void 0)}function Lx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ly(){return!0}function r6(){return!1}function $s(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ly:r6,this.isPropagationStopped=r6,this}return In(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ly)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ly)},persist:function(){},isPersistent:Ly}),t}var Cp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T3=$s(Cp),wv=In({},Cp,{view:0,detail:0}),dX=$s(wv),k_,P_,Tm,ww=In({},wv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tm&&(Tm&&e.type==="mousemove"?(k_=e.screenX-Tm.screenX,P_=e.screenY-Tm.screenY):P_=k_=0,Tm=e),k_)},movementY:function(e){return"movementY"in e?e.movementY:P_}}),n6=$s(ww),pX=In({},ww,{dataTransfer:0}),mX=$s(pX),gX=In({},wv,{relatedTarget:0}),C_=$s(gX),vX=In({},Cp,{animationName:0,elapsedTime:0,pseudoElement:0}),yX=$s(vX),xX=In({},Cp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bX=$s(xX),wX=In({},Cp,{data:0}),a6=$s(wX),_X={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},AX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=AX[e])?!!t[e]:!1}function E3(){return TX}var EX=In({},wv,{key:function(e){if(e.key){var t=_X[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Lx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?SX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E3,charCode:function(e){return e.type==="keypress"?Lx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),kX=$s(EX),PX=In({},ww,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i6=$s(PX),CX=In({},wv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E3}),NX=$s(CX),OX=In({},Cp,{propertyName:0,elapsedTime:0,pseudoElement:0}),IX=$s(OX),DX=In({},ww,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),LX=$s(DX),jX=[9,13,27,32],k3=Tc&&"CompositionEvent"in window,lg=null;Tc&&"documentMode"in document&&(lg=document.documentMode);var MX=Tc&&"TextEvent"in window&&!lg,s7=Tc&&(!k3||lg&&8<lg&&11>=lg),s6=" ",o6=!1;function o7(e,t){switch(e){case"keyup":return jX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function l7(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Zd=!1;function RX(e,t){switch(e){case"compositionend":return l7(t);case"keypress":return t.which!==32?null:(o6=!0,s6);case"textInput":return e=t.data,e===s6&&o6?null:e;default:return null}}function FX(e,t){if(Zd)return e==="compositionend"||!k3&&o7(e,t)?(e=i7(),Dx=A3=$u=null,Zd=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return s7&&t.locale!=="ko"?null:t.data;default:return null}}var $X={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$X[e.type]:t==="textarea"}function c7(e,t,r,n){BF(n),t=h2(t,"onChange"),0<t.length&&(r=new T3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var cg=null,Kg=null;function BX(e){b7(e,0)}function _w(e){var t=r0(e);if(DF(t))return e}function VX(e,t){if(e==="change")return t}var u7=!1;if(Tc){var N_;if(Tc){var O_="oninput"in document;if(!O_){var c6=document.createElement("div");c6.setAttribute("oninput","return;"),O_=typeof c6.oninput=="function"}N_=O_}else N_=!1;u7=N_&&(!document.documentMode||9<document.documentMode)}function u6(){cg&&(cg.detachEvent("onpropertychange",f7),Kg=cg=null)}function f7(e){if(e.propertyName==="value"&&_w(Kg)){var t=[];c7(t,Kg,e,x3(e)),qF(BX,t)}}function UX(e,t,r){e==="focusin"?(u6(),cg=t,Kg=r,cg.attachEvent("onpropertychange",f7)):e==="focusout"&&u6()}function zX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _w(Kg)}function qX(e,t){if(e==="click")return _w(t)}function WX(e,t){if(e==="input"||e==="change")return _w(t)}function HX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tl=typeof Object.is=="function"?Object.is:HX;function Yg(e,t){if(tl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!SA.call(t,a)||!tl(e[a],t[a]))return!1}return!0}function f6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function h6(e,t){var r=f6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=f6(r)}}function h7(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?h7(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d7(){for(var e=window,t=i2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=i2(e.document)}return t}function P3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function GX(e){var t=d7(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&h7(r.ownerDocument.documentElement,r)){if(n!==null&&P3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=h6(r,i);var s=h6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var KX=Tc&&"documentMode"in document&&11>=document.documentMode,e0=null,UA=null,ug=null,zA=!1;function d6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zA||e0==null||e0!==i2(n)||(n=e0,"selectionStart"in n&&P3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ug&&Yg(ug,n)||(ug=n,n=h2(UA,"onSelect"),0<n.length&&(t=new T3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=e0)))}function jy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var t0={animationend:jy("Animation","AnimationEnd"),animationiteration:jy("Animation","AnimationIteration"),animationstart:jy("Animation","AnimationStart"),transitionend:jy("Transition","TransitionEnd")},I_={},p7={};Tc&&(p7=document.createElement("div").style,"AnimationEvent"in window||(delete t0.animationend.animation,delete t0.animationiteration.animation,delete t0.animationstart.animation),"TransitionEvent"in window||delete t0.transitionend.transition);function Sw(e){if(I_[e])return I_[e];if(!t0[e])return e;var t=t0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in p7)return I_[e]=t[r];return e}var m7=Sw("animationend"),g7=Sw("animationiteration"),v7=Sw("animationstart"),y7=Sw("transitionend"),x7=new Map,p6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tf(e,t){x7.set(e,t),Jh(t,[e])}for(var D_=0;D_<p6.length;D_++){var L_=p6[D_],YX=L_.toLowerCase(),XX=L_[0].toUpperCase()+L_.slice(1);Tf(YX,"on"+XX)}Tf(m7,"onAnimationEnd");Tf(g7,"onAnimationIteration");Tf(v7,"onAnimationStart");Tf("dblclick","onDoubleClick");Tf("focusin","onFocus");Tf("focusout","onBlur");Tf(y7,"onTransitionEnd");B0("onMouseEnter",["mouseout","mouseover"]);B0("onMouseLeave",["mouseout","mouseover"]);B0("onPointerEnter",["pointerout","pointerover"]);B0("onPointerLeave",["pointerout","pointerover"]);Jh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ym="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QX=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ym));function m6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,YY(n,t,void 0,e),e.currentTarget=null}function b7(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;m6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;m6(a,o,c),i=l}}}if(o2)throw e=FA,o2=!1,FA=null,e}function mn(e,t){var r=t[KA];r===void 0&&(r=t[KA]=new Set);var n=e+"__bubble";r.has(n)||(w7(t,e,2,!1),r.add(n))}function j_(e,t,r){var n=0;t&&(n|=4),w7(r,e,n,t)}var My="_reactListening"+Math.random().toString(36).slice(2);function Xg(e){if(!e[My]){e[My]=!0,PF.forEach(function(r){r!=="selectionchange"&&(QX.has(r)||j_(r,!1,e),j_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[My]||(t[My]=!0,j_("selectionchange",!1,t))}}function w7(e,t,r,n){switch(a7(t)){case 1:var a=fX;break;case 4:a=hX;break;default:a=S3}r=a.bind(null,t,r,e),a=void 0,!RA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function M_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=gh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}qF(function(){var c=i,u=x3(r),f=[];e:{var h=x7.get(e);if(h!==void 0){var d=T3,m=e;switch(e){case"keypress":if(Lx(r)===0)break e;case"keydown":case"keyup":d=kX;break;case"focusin":m="focus",d=C_;break;case"focusout":m="blur",d=C_;break;case"beforeblur":case"afterblur":d=C_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=n6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=mX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=NX;break;case m7:case g7:case v7:d=yX;break;case y7:d=IX;break;case"scroll":d=dX;break;case"wheel":d=LX;break;case"copy":case"cut":case"paste":d=bX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=i6}var p=(t&4)!==0,v=!p&&e==="scroll",y=p?h!==null?h+"Capture":null:h;p=[];for(var b=c,_;b!==null;){_=b;var O=_.stateNode;if(_.tag===5&&O!==null&&(_=O,y!==null&&(O=qg(b,y),O!=null&&p.push(Qg(b,O,_)))),v)break;b=b.return}0<p.length&&(h=new d(h,m,null,r,u),f.push({event:h,listeners:p}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==jA&&(m=r.relatedTarget||r.fromElement)&&(gh(m)||m[Ec]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=c,m=m?gh(m):null,m!==null&&(v=Zh(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(p=n6,O="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(p=i6,O="onPointerLeave",y="onPointerEnter",b="pointer"),v=d==null?h:r0(d),_=m==null?h:r0(m),h=new p(O,b+"leave",d,r,u),h.target=v,h.relatedTarget=_,O=null,gh(u)===c&&(p=new p(y,b+"enter",m,r,u),p.target=_,p.relatedTarget=v,O=p),v=O,d&&m)t:{for(p=d,y=m,b=0,_=p;_;_=Md(_))b++;for(_=0,O=y;O;O=Md(O))_++;for(;0<b-_;)p=Md(p),b--;for(;0<_-b;)y=Md(y),_--;for(;b--;){if(p===y||y!==null&&p===y.alternate)break t;p=Md(p),y=Md(y)}p=null}else p=null;d!==null&&g6(f,h,d,p,!1),m!==null&&v!==null&&g6(f,v,m,p,!0)}}e:{if(h=c?r0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var C=VX;else if(l6(h))if(u7)C=WX;else{C=zX;var N=UX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=qX);if(C&&(C=C(e,c))){c7(f,C,r,u);break e}N&&N(e,h,c),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&NA(h,"number",h.value)}switch(N=c?r0(c):window,e){case"focusin":(l6(N)||N.contentEditable==="true")&&(e0=N,UA=c,ug=null);break;case"focusout":ug=UA=e0=null;break;case"mousedown":zA=!0;break;case"contextmenu":case"mouseup":case"dragend":zA=!1,d6(f,r,u);break;case"selectionchange":if(KX)break;case"keydown":case"keyup":d6(f,r,u)}var T;if(k3)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Zd?o7(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(s7&&r.locale!=="ko"&&(Zd||S!=="onCompositionStart"?S==="onCompositionEnd"&&Zd&&(T=i7()):($u=u,A3="value"in $u?$u.value:$u.textContent,Zd=!0)),N=h2(c,S),0<N.length&&(S=new a6(S,e,null,r,u),f.push({event:S,listeners:N}),T?S.data=T:(T=l7(r),T!==null&&(S.data=T)))),(T=MX?RX(e,r):FX(e,r))&&(c=h2(c,"onBeforeInput"),0<c.length&&(u=new a6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=T))}b7(f,t)})}function Qg(e,t,r){return{instance:e,listener:t,currentTarget:r}}function h2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=qg(e,r),i!=null&&n.unshift(Qg(e,i,a)),i=qg(e,t),i!=null&&n.push(Qg(e,i,a))),e=e.return}return n}function Md(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function g6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=qg(r,i),l!=null&&s.unshift(Qg(r,l,o))):a||(l=qg(r,i),l!=null&&s.push(Qg(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var JX=/\r\n?/g,ZX=/\u0000|\uFFFD/g;function v6(e){return(typeof e=="string"?e:""+e).replace(JX,`
`).replace(ZX,"")}function Ry(e,t,r){if(t=v6(t),v6(e)!==t&&r)throw Error(mt(425))}function d2(){}var qA=null,WA=null;function HA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var GA=typeof setTimeout=="function"?setTimeout:void 0,eQ=typeof clearTimeout=="function"?clearTimeout:void 0,y6=typeof Promise=="function"?Promise:void 0,tQ=typeof queueMicrotask=="function"?queueMicrotask:typeof y6<"u"?function(e){return y6.resolve(null).then(e).catch(rQ)}:GA;function rQ(e){setTimeout(function(){throw e})}function R_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),Gg(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);Gg(t)}function Ju(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function x6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Np=Math.random().toString(36).slice(2),_l="__reactFiber$"+Np,Jg="__reactProps$"+Np,Ec="__reactContainer$"+Np,KA="__reactEvents$"+Np,nQ="__reactListeners$"+Np,aQ="__reactHandles$"+Np;function gh(e){var t=e[_l];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ec]||r[_l]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=x6(e);e!==null;){if(r=e[_l])return r;e=x6(e)}return t}e=r,r=e.parentNode}return null}function _v(e){return e=e[_l]||e[Ec],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function r0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function Aw(e){return e[Jg]||null}var YA=[],n0=-1;function Ef(e){return{current:e}}function bn(e){0>n0||(e.current=YA[n0],YA[n0]=null,n0--)}function fn(e,t){n0++,YA[n0]=e.current,e.current=t}var df={},Si=Ef(df),cs=Ef(!1),Mh=df;function V0(e,t){var r=e.type.contextTypes;if(!r)return df;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function us(e){return e=e.childContextTypes,e!=null}function p2(){bn(cs),bn(Si)}function b6(e,t,r){if(Si.current!==df)throw Error(mt(168));fn(Si,t),fn(cs,r)}function _7(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(mt(108,UY(e)||"Unknown",a));return In({},r,n)}function m2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||df,Mh=Si.current,fn(Si,e),fn(cs,cs.current),!0}function w6(e,t,r){var n=e.stateNode;if(!n)throw Error(mt(169));r?(e=_7(e,t,Mh),n.__reactInternalMemoizedMergedChildContext=e,bn(cs),bn(Si),fn(Si,e)):bn(cs),fn(cs,r)}var cc=null,Tw=!1,F_=!1;function S7(e){cc===null?cc=[e]:cc.push(e)}function iQ(e){Tw=!0,S7(e)}function kf(){if(!F_&&cc!==null){F_=!0;var e=0,t=Gr;try{var r=cc;for(Gr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cc=null,Tw=!1}catch(a){throw cc!==null&&(cc=cc.slice(e+1)),KF(b3,kf),a}finally{Gr=t,F_=!1}}return null}var a0=[],i0=0,g2=null,v2=0,ao=[],io=0,Rh=null,uc=1,fc="";function ih(e,t){a0[i0++]=v2,a0[i0++]=g2,g2=e,v2=t}function A7(e,t,r){ao[io++]=uc,ao[io++]=fc,ao[io++]=Rh,Rh=e;var n=uc;e=fc;var a=32-Xo(n)-1;n&=~(1<<a),r+=1;var i=32-Xo(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,uc=1<<32-Xo(t)+a|r<<a|n,fc=i+e}else uc=1<<i|r<<a|n,fc=e}function C3(e){e.return!==null&&(ih(e,1),A7(e,1,0))}function N3(e){for(;e===g2;)g2=a0[--i0],a0[i0]=null,v2=a0[--i0],a0[i0]=null;for(;e===Rh;)Rh=ao[--io],ao[io]=null,fc=ao[--io],ao[io]=null,uc=ao[--io],ao[io]=null}var Is=null,Cs=null,Sn=!1,Uo=null;function T7(e,t){var r=so(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function _6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Is=e,Cs=Ju(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Is=e,Cs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Rh!==null?{id:uc,overflow:fc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=so(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Is=e,Cs=null,!0):!1;default:return!1}}function XA(e){return(e.mode&1)!==0&&(e.flags&128)===0}function QA(e){if(Sn){var t=Cs;if(t){var r=t;if(!_6(e,t)){if(XA(e))throw Error(mt(418));t=Ju(r.nextSibling);var n=Is;t&&_6(e,t)?T7(n,r):(e.flags=e.flags&-4097|2,Sn=!1,Is=e)}}else{if(XA(e))throw Error(mt(418));e.flags=e.flags&-4097|2,Sn=!1,Is=e}}}function S6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Is=e}function Fy(e){if(e!==Is)return!1;if(!Sn)return S6(e),Sn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!HA(e.type,e.memoizedProps)),t&&(t=Cs)){if(XA(e))throw E7(),Error(mt(418));for(;t;)T7(e,t),t=Ju(t.nextSibling)}if(S6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Cs=Ju(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Cs=null}}else Cs=Is?Ju(e.stateNode.nextSibling):null;return!0}function E7(){for(var e=Cs;e;)e=Ju(e.nextSibling)}function U0(){Cs=Is=null,Sn=!1}function O3(e){Uo===null?Uo=[e]:Uo.push(e)}var sQ=Uc.ReactCurrentBatchConfig;function Em(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(mt(309));var n=r.stateNode}if(!n)throw Error(mt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(mt(284));if(!r._owner)throw Error(mt(290,e))}return e}function $y(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function A6(e){var t=e._init;return t(e._payload)}function k7(e){function t(y,b){if(e){var _=y.deletions;_===null?(y.deletions=[b],y.flags|=16):_.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=rf(y,b),y.index=0,y.sibling=null,y}function i(y,b,_){return y.index=_,e?(_=y.alternate,_!==null?(_=_.index,_<b?(y.flags|=2,b):_):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,_,O){return b===null||b.tag!==6?(b=W_(_,y.mode,O),b.return=y,b):(b=a(b,_),b.return=y,b)}function l(y,b,_,O){var C=_.type;return C===Jd?u(y,b,_.props.children,O,_.key):b!==null&&(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nu&&A6(C)===b.type)?(O=a(b,_.props),O.ref=Em(y,b,_),O.return=y,O):(O=Vx(_.type,_.key,_.props,null,y.mode,O),O.ref=Em(y,b,_),O.return=y,O)}function c(y,b,_,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=H_(_,y.mode,O),b.return=y,b):(b=a(b,_.children||[]),b.return=y,b)}function u(y,b,_,O,C){return b===null||b.tag!==7?(b=Ph(_,y.mode,O,C),b.return=y,b):(b=a(b,_),b.return=y,b)}function f(y,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=W_(""+b,y.mode,_),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Py:return _=Vx(b.type,b.key,b.props,null,y.mode,_),_.ref=Em(y,null,b),_.return=y,_;case Qd:return b=H_(b,y.mode,_),b.return=y,b;case Nu:var O=b._init;return f(y,O(b._payload),_)}if(Gm(b)||wm(b))return b=Ph(b,y.mode,_,null),b.return=y,b;$y(y,b)}return null}function h(y,b,_,O){var C=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return C!==null?null:o(y,b,""+_,O);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Py:return _.key===C?l(y,b,_,O):null;case Qd:return _.key===C?c(y,b,_,O):null;case Nu:return C=_._init,h(y,b,C(_._payload),O)}if(Gm(_)||wm(_))return C!==null?null:u(y,b,_,O,null);$y(y,_)}return null}function d(y,b,_,O,C){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(_)||null,o(b,y,""+O,C);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Py:return y=y.get(O.key===null?_:O.key)||null,l(b,y,O,C);case Qd:return y=y.get(O.key===null?_:O.key)||null,c(b,y,O,C);case Nu:var N=O._init;return d(y,b,_,N(O._payload),C)}if(Gm(O)||wm(O))return y=y.get(_)||null,u(b,y,O,C,null);$y(b,O)}return null}function m(y,b,_,O){for(var C=null,N=null,T=b,S=b=0,A=null;T!==null&&S<_.length;S++){T.index>S?(A=T,T=null):A=T.sibling;var D=h(y,T,_[S],O);if(D===null){T===null&&(T=A);break}e&&T&&D.alternate===null&&t(y,T),b=i(D,b,S),N===null?C=D:N.sibling=D,N=D,T=A}if(S===_.length)return r(y,T),Sn&&ih(y,S),C;if(T===null){for(;S<_.length;S++)T=f(y,_[S],O),T!==null&&(b=i(T,b,S),N===null?C=T:N.sibling=T,N=T);return Sn&&ih(y,S),C}for(T=n(y,T);S<_.length;S++)A=d(T,y,S,_[S],O),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?S:A.key),b=i(A,b,S),N===null?C=A:N.sibling=A,N=A);return e&&T.forEach(function(E){return t(y,E)}),Sn&&ih(y,S),C}function p(y,b,_,O){var C=wm(_);if(typeof C!="function")throw Error(mt(150));if(_=C.call(_),_==null)throw Error(mt(151));for(var N=C=null,T=b,S=b=0,A=null,D=_.next();T!==null&&!D.done;S++,D=_.next()){T.index>S?(A=T,T=null):A=T.sibling;var E=h(y,T,D.value,O);if(E===null){T===null&&(T=A);break}e&&T&&E.alternate===null&&t(y,T),b=i(E,b,S),N===null?C=E:N.sibling=E,N=E,T=A}if(D.done)return r(y,T),Sn&&ih(y,S),C;if(T===null){for(;!D.done;S++,D=_.next())D=f(y,D.value,O),D!==null&&(b=i(D,b,S),N===null?C=D:N.sibling=D,N=D);return Sn&&ih(y,S),C}for(T=n(y,T);!D.done;S++,D=_.next())D=d(T,y,S,D.value,O),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?S:D.key),b=i(D,b,S),N===null?C=D:N.sibling=D,N=D);return e&&T.forEach(function(P){return t(y,P)}),Sn&&ih(y,S),C}function v(y,b,_,O){if(typeof _=="object"&&_!==null&&_.type===Jd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Py:e:{for(var C=_.key,N=b;N!==null;){if(N.key===C){if(C=_.type,C===Jd){if(N.tag===7){r(y,N.sibling),b=a(N,_.props.children),b.return=y,y=b;break e}}else if(N.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Nu&&A6(C)===N.type){r(y,N.sibling),b=a(N,_.props),b.ref=Em(y,N,_),b.return=y,y=b;break e}r(y,N);break}else t(y,N);N=N.sibling}_.type===Jd?(b=Ph(_.props.children,y.mode,O,_.key),b.return=y,y=b):(O=Vx(_.type,_.key,_.props,null,y.mode,O),O.ref=Em(y,b,_),O.return=y,y=O)}return s(y);case Qd:e:{for(N=_.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(y,b.sibling),b=a(b,_.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=H_(_,y.mode,O),b.return=y,y=b}return s(y);case Nu:return N=_._init,v(y,b,N(_._payload),O)}if(Gm(_))return m(y,b,_,O);if(wm(_))return p(y,b,_,O);$y(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,_),b.return=y,y=b):(r(y,b),b=W_(_,y.mode,O),b.return=y,y=b),s(y)):r(y,b)}return v}var z0=k7(!0),P7=k7(!1),y2=Ef(null),x2=null,s0=null,I3=null;function D3(){I3=s0=x2=null}function L3(e){var t=y2.current;bn(y2),e._currentValue=t}function JA(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function S0(e,t){x2=e,I3=s0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ss=!0),e.firstContext=null)}function ho(e){var t=e._currentValue;if(I3!==e)if(e={context:e,memoizedValue:t,next:null},s0===null){if(x2===null)throw Error(mt(308));s0=e,x2.dependencies={lanes:0,firstContext:e}}else s0=s0.next=e;return t}var vh=null;function j3(e){vh===null?vh=[e]:vh.push(e)}function C7(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,j3(t)):(r.next=a.next,a.next=r),t.interleaved=r,kc(e,n)}function kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ou=!1;function M3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function N7(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Zu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,kc(e,r)}return a=n.interleaved,a===null?(t.next=t,j3(n)):(t.next=a.next,a.next=t),n.interleaved=t,kc(e,r)}function jx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,w3(e,r)}}function T6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function b2(e,t,r,n){var a=e.updateQueue;Ou=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(h=t,d=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){f=m.call(d,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,h=typeof m=="function"?m.call(d,f,h):m,h==null)break e;f=In({},f,h);break e;case 2:Ou=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);$h|=s,e.lanes=s,e.memoizedState=f}}function E6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(mt(191,a));a.call(n)}}}var Sv={},kl=Ef(Sv),Zg=Ef(Sv),e1=Ef(Sv);function yh(e){if(e===Sv)throw Error(mt(174));return e}function R3(e,t){switch(fn(e1,t),fn(Zg,e),fn(kl,Sv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:IA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=IA(t,e)}bn(kl),fn(kl,t)}function q0(){bn(kl),bn(Zg),bn(e1)}function O7(e){yh(e1.current);var t=yh(kl.current),r=IA(t,e.type);t!==r&&(fn(Zg,e),fn(kl,r))}function F3(e){Zg.current===e&&(bn(kl),bn(Zg))}var Cn=Ef(0);function w2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $_=[];function $3(){for(var e=0;e<$_.length;e++)$_[e]._workInProgressVersionPrimary=null;$_.length=0}var Mx=Uc.ReactCurrentDispatcher,B_=Uc.ReactCurrentBatchConfig,Fh=0,Nn=null,ya=null,Oa=null,_2=!1,fg=!1,t1=0,oQ=0;function ri(){throw Error(mt(321))}function B3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!tl(e[r],t[r]))return!1;return!0}function V3(e,t,r,n,a,i){if(Fh=i,Nn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Mx.current=e===null||e.memoizedState===null?fQ:hQ,e=r(n,a),fg){i=0;do{if(fg=!1,t1=0,25<=i)throw Error(mt(301));i+=1,Oa=ya=null,t.updateQueue=null,Mx.current=dQ,e=r(n,a)}while(fg)}if(Mx.current=S2,t=ya!==null&&ya.next!==null,Fh=0,Oa=ya=Nn=null,_2=!1,t)throw Error(mt(300));return e}function U3(){var e=t1!==0;return t1=0,e}function xl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oa===null?Nn.memoizedState=Oa=e:Oa=Oa.next=e,Oa}function po(){if(ya===null){var e=Nn.alternate;e=e!==null?e.memoizedState:null}else e=ya.next;var t=Oa===null?Nn.memoizedState:Oa.next;if(t!==null)Oa=t,ya=e;else{if(e===null)throw Error(mt(310));ya=e,e={memoizedState:ya.memoizedState,baseState:ya.baseState,baseQueue:ya.baseQueue,queue:ya.queue,next:null},Oa===null?Nn.memoizedState=Oa=e:Oa=Oa.next=e}return Oa}function r1(e,t){return typeof t=="function"?t(e):t}function V_(e){var t=po(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=ya,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((Fh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Nn.lanes|=u,$h|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,tl(n,t.memoizedState)||(ss=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Nn.lanes|=i,$h|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function U_(e){var t=po(),r=t.queue;if(r===null)throw Error(mt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);tl(i,t.memoizedState)||(ss=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function I7(){}function D7(e,t){var r=Nn,n=po(),a=t(),i=!tl(n.memoizedState,a);if(i&&(n.memoizedState=a,ss=!0),n=n.queue,z3(M7.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Oa!==null&&Oa.memoizedState.tag&1){if(r.flags|=2048,n1(9,j7.bind(null,r,n,a,t),void 0,null),La===null)throw Error(mt(349));Fh&30||L7(r,t,a)}return a}function L7(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function j7(e,t,r,n){t.value=r,t.getSnapshot=n,R7(t)&&F7(e)}function M7(e,t,r){return r(function(){R7(t)&&F7(e)})}function R7(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!tl(e,r)}catch{return!0}}function F7(e){var t=kc(e,1);t!==null&&Qo(t,e,1,-1)}function k6(e){var t=xl();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r1,lastRenderedState:e},t.queue=e,e=e.dispatch=uQ.bind(null,Nn,e),[t.memoizedState,e]}function n1(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Nn.updateQueue,t===null?(t={lastEffect:null,stores:null},Nn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $7(){return po().memoizedState}function Rx(e,t,r,n){var a=xl();Nn.flags|=e,a.memoizedState=n1(1|t,r,void 0,n===void 0?null:n)}function Ew(e,t,r,n){var a=po();n=n===void 0?null:n;var i=void 0;if(ya!==null){var s=ya.memoizedState;if(i=s.destroy,n!==null&&B3(n,s.deps)){a.memoizedState=n1(t,r,i,n);return}}Nn.flags|=e,a.memoizedState=n1(1|t,r,i,n)}function P6(e,t){return Rx(8390656,8,e,t)}function z3(e,t){return Ew(2048,8,e,t)}function B7(e,t){return Ew(4,2,e,t)}function V7(e,t){return Ew(4,4,e,t)}function U7(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function z7(e,t,r){return r=r!=null?r.concat([e]):null,Ew(4,4,U7.bind(null,t,e),r)}function q3(){}function q7(e,t){var r=po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function W7(e,t){var r=po();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&B3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function H7(e,t,r){return Fh&21?(tl(r,t)||(r=QF(),Nn.lanes|=r,$h|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ss=!0),e.memoizedState=r)}function lQ(e,t){var r=Gr;Gr=r!==0&&4>r?r:4,e(!0);var n=B_.transition;B_.transition={};try{e(!1),t()}finally{Gr=r,B_.transition=n}}function G7(){return po().memoizedState}function cQ(e,t,r){var n=tf(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},K7(e))Y7(t,r);else if(r=C7(e,t,r,n),r!==null){var a=Ui();Qo(r,e,n,a),X7(r,t,n)}}function uQ(e,t,r){var n=tf(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(K7(e))Y7(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,tl(o,s)){var l=t.interleaved;l===null?(a.next=a,j3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=C7(e,t,a,n),r!==null&&(a=Ui(),Qo(r,e,n,a),X7(r,t,n))}}function K7(e){var t=e.alternate;return e===Nn||t!==null&&t===Nn}function Y7(e,t){fg=_2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function X7(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,w3(e,r)}}var S2={readContext:ho,useCallback:ri,useContext:ri,useEffect:ri,useImperativeHandle:ri,useInsertionEffect:ri,useLayoutEffect:ri,useMemo:ri,useReducer:ri,useRef:ri,useState:ri,useDebugValue:ri,useDeferredValue:ri,useTransition:ri,useMutableSource:ri,useSyncExternalStore:ri,useId:ri,unstable_isNewReconciler:!1},fQ={readContext:ho,useCallback:function(e,t){return xl().memoizedState=[e,t===void 0?null:t],e},useContext:ho,useEffect:P6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Rx(4194308,4,U7.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Rx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rx(4,2,e,t)},useMemo:function(e,t){var r=xl();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xl();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=cQ.bind(null,Nn,e),[n.memoizedState,e]},useRef:function(e){var t=xl();return e={current:e},t.memoizedState=e},useState:k6,useDebugValue:q3,useDeferredValue:function(e){return xl().memoizedState=e},useTransition:function(){var e=k6(!1),t=e[0];return e=lQ.bind(null,e[1]),xl().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Nn,a=xl();if(Sn){if(r===void 0)throw Error(mt(407));r=r()}else{if(r=t(),La===null)throw Error(mt(349));Fh&30||L7(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,P6(M7.bind(null,n,i,e),[e]),n.flags|=2048,n1(9,j7.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xl(),t=La.identifierPrefix;if(Sn){var r=fc,n=uc;r=(n&~(1<<32-Xo(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=t1++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hQ={readContext:ho,useCallback:q7,useContext:ho,useEffect:z3,useImperativeHandle:z7,useInsertionEffect:B7,useLayoutEffect:V7,useMemo:W7,useReducer:V_,useRef:$7,useState:function(){return V_(r1)},useDebugValue:q3,useDeferredValue:function(e){var t=po();return H7(t,ya.memoizedState,e)},useTransition:function(){var e=V_(r1)[0],t=po().memoizedState;return[e,t]},useMutableSource:I7,useSyncExternalStore:D7,useId:G7,unstable_isNewReconciler:!1},dQ={readContext:ho,useCallback:q7,useContext:ho,useEffect:z3,useImperativeHandle:z7,useInsertionEffect:B7,useLayoutEffect:V7,useMemo:W7,useReducer:U_,useRef:$7,useState:function(){return U_(r1)},useDebugValue:q3,useDeferredValue:function(e){var t=po();return ya===null?t.memoizedState=e:H7(t,ya.memoizedState,e)},useTransition:function(){var e=U_(r1)[0],t=po().memoizedState;return[e,t]},useMutableSource:I7,useSyncExternalStore:D7,useId:G7,unstable_isNewReconciler:!1};function Ro(e,t){if(e&&e.defaultProps){t=In({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ZA(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:In({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var kw={isMounted:function(e){return(e=e._reactInternals)?Zh(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ui(),a=tf(e),i=vc(n,a);i.payload=t,r!=null&&(i.callback=r),t=Zu(e,i,a),t!==null&&(Qo(t,e,a,n),jx(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ui(),a=tf(e),i=vc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Zu(e,i,a),t!==null&&(Qo(t,e,a,n),jx(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ui(),n=tf(e),a=vc(r,n);a.tag=2,t!=null&&(a.callback=t),t=Zu(e,a,n),t!==null&&(Qo(t,e,n,r),jx(t,e,n))}};function C6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!Yg(r,n)||!Yg(a,i):!0}function Q7(e,t,r){var n=!1,a=df,i=t.contextType;return typeof i=="object"&&i!==null?i=ho(i):(a=us(t)?Mh:Si.current,n=t.contextTypes,i=(n=n!=null)?V0(e,a):df),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=kw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function N6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&kw.enqueueReplaceState(t,t.state,null)}function e4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},M3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=ho(i):(i=us(t)?Mh:Si.current,a.context=V0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ZA(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&kw.enqueueReplaceState(a,a.state,null),b2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function W0(e,t){try{var r="",n=t;do r+=VY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function z_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function t4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var pQ=typeof WeakMap=="function"?WeakMap:Map;function J7(e,t,r){r=vc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){T2||(T2=!0,f4=n),t4(e,t)},r}function Z7(e,t,r){r=vc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){t4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){t4(e,t),typeof n!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function O6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new pQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=PQ.bind(null,e,t,r),t.then(e,e))}function I6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function D6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vc(-1,1),t.tag=2,Zu(r,t,1))),r.lanes|=1),e)}var mQ=Uc.ReactCurrentOwner,ss=!1;function Mi(e,t,r,n){t.child=e===null?P7(t,null,r,n):z0(t,e.child,r,n)}function L6(e,t,r,n,a){r=r.render;var i=t.ref;return S0(t,a),n=V3(e,t,r,n,i,a),r=U3(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(Sn&&r&&C3(t),t.flags|=1,Mi(e,t,n,a),t.child)}function j6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!J3(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,e9(e,t,i,n,a)):(e=Vx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:Yg,r(s,n)&&e.ref===t.ref)return Pc(e,t,a)}return t.flags|=1,e=rf(i,n),e.ref=t.ref,e.return=t,t.child=e}function e9(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(Yg(i,n)&&e.ref===t.ref)if(ss=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(ss=!0);else return t.lanes=e.lanes,Pc(e,t,a)}return r4(e,t,r,n,a)}function t9(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fn(l0,As),As|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fn(l0,As),As|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,fn(l0,As),As|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,fn(l0,As),As|=n;return Mi(e,t,a,r),t.child}function r9(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function r4(e,t,r,n,a){var i=us(r)?Mh:Si.current;return i=V0(t,i),S0(t,a),r=V3(e,t,r,n,i,a),n=U3(),e!==null&&!ss?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(Sn&&n&&C3(t),t.flags|=1,Mi(e,t,r,a),t.child)}function M6(e,t,r,n,a){if(us(r)){var i=!0;m2(t)}else i=!1;if(S0(t,a),t.stateNode===null)Fx(e,t),Q7(t,r,n),e4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=ho(c):(c=us(r)?Mh:Si.current,c=V0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&N6(t,s,n,c),Ou=!1;var h=t.memoizedState;s.state=h,b2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||cs.current||Ou?(typeof u=="function"&&(ZA(t,r,u,n),l=t.memoizedState),(o=Ou||C6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,N7(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Ro(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ho(l):(l=us(r)?Mh:Si.current,l=V0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&N6(t,s,n,l),Ou=!1,h=t.memoizedState,s.state=h,b2(t,n,s,a);var m=t.memoizedState;o!==f||h!==m||cs.current||Ou?(typeof d=="function"&&(ZA(t,r,d,n),m=t.memoizedState),(c=Ou||C6(t,r,c,n,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,m,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),s.props=n,s.state=m,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return n4(e,t,r,n,i,a)}function n4(e,t,r,n,a,i){r9(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&w6(t,r,!1),Pc(e,t,i);n=t.stateNode,mQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=z0(t,e.child,null,i),t.child=z0(t,null,o,i)):Mi(e,t,o,i),t.memoizedState=n.state,a&&w6(t,r,!0),t.child}function n9(e){var t=e.stateNode;t.pendingContext?b6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&b6(e,t.context,!1),R3(e,t.containerInfo)}function R6(e,t,r,n,a){return U0(),O3(a),t.flags|=256,Mi(e,t,r,n),t.child}var a4={dehydrated:null,treeContext:null,retryLane:0};function i4(e){return{baseLanes:e,cachePool:null,transitions:null}}function a9(e,t,r){var n=t.pendingProps,a=Cn.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),fn(Cn,a&1),e===null)return QA(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Nw(s,n,0,null),e=Ph(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=i4(r),t.memoizedState=a4,e):W3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return gQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=rf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=rf(o,i):(i=Ph(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?i4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=a4,n}return i=e.child,e=i.sibling,n=rf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function W3(e,t){return t=Nw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function By(e,t,r,n){return n!==null&&O3(n),z0(t,e.child,null,r),e=W3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=z_(Error(mt(422))),By(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Nw({mode:"visible",children:n.children},a,0,null),i=Ph(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&z0(t,e.child,null,s),t.child.memoizedState=i4(s),t.memoizedState=a4,i);if(!(t.mode&1))return By(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(mt(419)),n=z_(i,n,void 0),By(e,t,s,n)}if(o=(s&e.childLanes)!==0,ss||o){if(n=La,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,kc(e,a),Qo(n,e,a,-1))}return Q3(),n=z_(Error(mt(421))),By(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=CQ.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Cs=Ju(a.nextSibling),Is=t,Sn=!0,Uo=null,e!==null&&(ao[io++]=uc,ao[io++]=fc,ao[io++]=Rh,uc=e.id,fc=e.overflow,Rh=t),t=W3(t,n.children),t.flags|=4096,t)}function F6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),JA(e.return,t,r)}function q_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function i9(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Mi(e,t,n.children,r),n=Cn.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&F6(e,r,t);else if(e.tag===19)F6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(fn(Cn,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&w2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),q_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&w2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}q_(t,!0,r,null,i);break;case"together":q_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$h|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,r=rf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=rf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function vQ(e,t,r){switch(t.tag){case 3:n9(t),U0();break;case 5:O7(t);break;case 1:us(t.type)&&m2(t);break;case 4:R3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;fn(y2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(fn(Cn,Cn.current&1),t.flags|=128,null):r&t.child.childLanes?a9(e,t,r):(fn(Cn,Cn.current&1),e=Pc(e,t,r),e!==null?e.sibling:null);fn(Cn,Cn.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i9(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),fn(Cn,Cn.current),n)break;return null;case 22:case 23:return t.lanes=0,t9(e,t,r)}return Pc(e,t,r)}var s9,s4,o9,l9;s9=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};s4=function(){};o9=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,yh(kl.current);var i=null;switch(r){case"input":a=PA(e,a),n=PA(e,n),i=[];break;case"select":a=In({},a,{value:void 0}),n=In({},n,{value:void 0}),i=[];break;case"textarea":a=OA(e,a),n=OA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=d2)}DA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ug.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ug.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};l9=function(e,t,r,n){r!==n&&(t.flags|=4)};function km(e,t){if(!Sn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ni(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function yQ(e,t,r){var n=t.pendingProps;switch(N3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(t),null;case 1:return us(t.type)&&p2(),ni(t),null;case 3:return n=t.stateNode,q0(),bn(cs),bn(Si),$3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Fy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Uo!==null&&(p4(Uo),Uo=null))),s4(e,t),ni(t),null;case 5:F3(t);var a=yh(e1.current);if(r=t.type,e!==null&&t.stateNode!=null)o9(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(mt(166));return ni(t),null}if(e=yh(kl.current),Fy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[_l]=t,n[Jg]=i,e=(t.mode&1)!==0,r){case"dialog":mn("cancel",n),mn("close",n);break;case"iframe":case"object":case"embed":mn("load",n);break;case"video":case"audio":for(a=0;a<Ym.length;a++)mn(Ym[a],n);break;case"source":mn("error",n);break;case"img":case"image":case"link":mn("error",n),mn("load",n);break;case"details":mn("toggle",n);break;case"input":GN(n,i),mn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},mn("invalid",n);break;case"textarea":YN(n,i),mn("invalid",n)}DA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Ry(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Ry(n.textContent,o,e),a=["children",""+o]):Ug.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&mn("scroll",n)}switch(r){case"input":Cy(n),KN(n,i,!0);break;case"textarea":Cy(n),XN(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=d2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=MF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[_l]=t,e[Jg]=n,s9(e,t,!1,!1),t.stateNode=e;e:{switch(s=LA(r,n),r){case"dialog":mn("cancel",e),mn("close",e),a=n;break;case"iframe":case"object":case"embed":mn("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ym.length;a++)mn(Ym[a],e);a=n;break;case"source":mn("error",e),a=n;break;case"img":case"image":case"link":mn("error",e),mn("load",e),a=n;break;case"details":mn("toggle",e),a=n;break;case"input":GN(e,n),a=PA(e,n),mn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=In({},n,{value:void 0}),mn("invalid",e);break;case"textarea":YN(e,n),a=OA(e,n),mn("invalid",e);break;default:a=n}DA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?$F(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RF(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zg(e,l):typeof l=="number"&&zg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ug.hasOwnProperty(i)?l!=null&&i==="onScroll"&&mn("scroll",e):l!=null&&m3(e,i,l,s))}switch(r){case"input":Cy(e),KN(e,n,!1);break;case"textarea":Cy(e),XN(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?x0(e,!!n.multiple,i,!1):n.defaultValue!=null&&x0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=d2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ni(t),null;case 6:if(e&&t.stateNode!=null)l9(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(mt(166));if(r=yh(e1.current),yh(kl.current),Fy(t)){if(n=t.stateNode,r=t.memoizedProps,n[_l]=t,(i=n.nodeValue!==r)&&(e=Is,e!==null))switch(e.tag){case 3:Ry(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ry(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[_l]=t,t.stateNode=n}return ni(t),null;case 13:if(bn(Cn),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Sn&&Cs!==null&&t.mode&1&&!(t.flags&128))E7(),U0(),t.flags|=98560,i=!1;else if(i=Fy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(mt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(mt(317));i[_l]=t}else U0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ni(t),i=!1}else Uo!==null&&(p4(Uo),Uo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Cn.current&1?xa===0&&(xa=3):Q3())),t.updateQueue!==null&&(t.flags|=4),ni(t),null);case 4:return q0(),s4(e,t),e===null&&Xg(t.stateNode.containerInfo),ni(t),null;case 10:return L3(t.type._context),ni(t),null;case 17:return us(t.type)&&p2(),ni(t),null;case 19:if(bn(Cn),i=t.memoizedState,i===null)return ni(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)km(i,!1);else{if(xa!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=w2(e),s!==null){for(t.flags|=128,km(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return fn(Cn,Cn.current&1|2),t.child}e=e.sibling}i.tail!==null&&Qn()>H0&&(t.flags|=128,n=!0,km(i,!1),t.lanes=4194304)}else{if(!n)if(e=w2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),km(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Sn)return ni(t),null}else 2*Qn()-i.renderingStartTime>H0&&r!==1073741824&&(t.flags|=128,n=!0,km(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Qn(),t.sibling=null,r=Cn.current,fn(Cn,n?r&1|2:r&1),t):(ni(t),null);case 22:case 23:return X3(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?As&1073741824&&(ni(t),t.subtreeFlags&6&&(t.flags|=8192)):ni(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function xQ(e,t){switch(N3(t),t.tag){case 1:return us(t.type)&&p2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return q0(),bn(cs),bn(Si),$3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return F3(t),null;case 13:if(bn(Cn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));U0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return bn(Cn),null;case 4:return q0(),null;case 10:return L3(t.type._context),null;case 22:case 23:return X3(),null;case 24:return null;default:return null}}var Vy=!1,pi=!1,bQ=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function o0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Vn(e,t,n)}else r.current=null}function o4(e,t,r){try{r()}catch(n){Vn(e,t,n)}}var $6=!1;function wQ(e,t){if(qA=u2,e=d7(),P3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(WA={focusedElem:e,selectionRange:r},u2=!1,Lt=t;Lt!==null;)if(t=Lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Lt=e;else for(;Lt!==null;){t=Lt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Ro(t.type,p),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(O){Vn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Lt=e;break}Lt=t.return}return m=$6,$6=!1,m}function hg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&o4(t,r,i)}a=a.next}while(a!==n)}}function Pw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function l4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function c9(e){var t=e.alternate;t!==null&&(e.alternate=null,c9(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[_l],delete t[Jg],delete t[KA],delete t[nQ],delete t[aQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function u9(e){return e.tag===5||e.tag===3||e.tag===4}function B6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||u9(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function c4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=d2));else if(n!==4&&(e=e.child,e!==null))for(c4(e,t,r),e=e.sibling;e!==null;)c4(e,t,r),e=e.sibling}function u4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(u4(e,t,r),e=e.sibling;e!==null;)u4(e,t,r),e=e.sibling}var za=null,$o=!1;function Su(e,t,r){for(r=r.child;r!==null;)f9(e,t,r),r=r.sibling}function f9(e,t,r){if(El&&typeof El.onCommitFiberUnmount=="function")try{El.onCommitFiberUnmount(bw,r)}catch{}switch(r.tag){case 5:pi||o0(r,t);case 6:var n=za,a=$o;za=null,Su(e,t,r),za=n,$o=a,za!==null&&($o?(e=za,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):za.removeChild(r.stateNode));break;case 18:za!==null&&($o?(e=za,r=r.stateNode,e.nodeType===8?R_(e.parentNode,r):e.nodeType===1&&R_(e,r),Gg(e)):R_(za,r.stateNode));break;case 4:n=za,a=$o,za=r.stateNode.containerInfo,$o=!0,Su(e,t,r),za=n,$o=a;break;case 0:case 11:case 14:case 15:if(!pi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&o4(r,t,s),a=a.next}while(a!==n)}Su(e,t,r);break;case 1:if(!pi&&(o0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Vn(r,t,o)}Su(e,t,r);break;case 21:Su(e,t,r);break;case 22:r.mode&1?(pi=(n=pi)||r.memoizedState!==null,Su(e,t,r),pi=n):Su(e,t,r);break;default:Su(e,t,r)}}function V6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bQ),t.forEach(function(n){var a=NQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function No(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:za=o.stateNode,$o=!1;break e;case 3:za=o.stateNode.containerInfo,$o=!0;break e;case 4:za=o.stateNode.containerInfo,$o=!0;break e}o=o.return}if(za===null)throw Error(mt(160));f9(i,s,a),za=null,$o=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Vn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h9(t,e),t=t.sibling}function h9(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(No(t,e),ml(e),n&4){try{hg(3,e,e.return),Pw(3,e)}catch(p){Vn(e,e.return,p)}try{hg(5,e,e.return)}catch(p){Vn(e,e.return,p)}}break;case 1:No(t,e),ml(e),n&512&&r!==null&&o0(r,r.return);break;case 5:if(No(t,e),ml(e),n&512&&r!==null&&o0(r,r.return),e.flags&32){var a=e.stateNode;try{zg(a,"")}catch(p){Vn(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&LF(a,i),LA(o,s);var c=LA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?$F(a,f):u==="dangerouslySetInnerHTML"?RF(a,f):u==="children"?zg(a,f):m3(a,u,f,c)}switch(o){case"input":CA(a,i);break;case"textarea":jF(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?x0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?x0(a,!!i.multiple,i.defaultValue,!0):x0(a,!!i.multiple,i.multiple?[]:"",!1))}a[Jg]=i}catch(p){Vn(e,e.return,p)}}break;case 6:if(No(t,e),ml(e),n&4){if(e.stateNode===null)throw Error(mt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(p){Vn(e,e.return,p)}}break;case 3:if(No(t,e),ml(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Gg(t.containerInfo)}catch(p){Vn(e,e.return,p)}break;case 4:No(t,e),ml(e);break;case 13:No(t,e),ml(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(K3=Qn())),n&4&&V6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(pi=(c=pi)||u,No(t,e),pi=c):No(t,e),ml(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Lt=e,u=e.child;u!==null;){for(f=Lt=u;Lt!==null;){switch(h=Lt,d=h.child,h.tag){case 0:case 11:case 14:case 15:hg(4,h,h.return);break;case 1:o0(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Vn(n,r,p)}}break;case 5:o0(h,h.return);break;case 22:if(h.memoizedState!==null){z6(f);continue}}d!==null?(d.return=h,Lt=d):z6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=FF("display",s))}catch(p){Vn(e,e.return,p)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(p){Vn(e,e.return,p)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:No(t,e),ml(e),n&4&&V6(e);break;case 21:break;default:No(t,e),ml(e)}}function ml(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(u9(r)){var n=r;break e}r=r.return}throw Error(mt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(zg(a,""),n.flags&=-33);var i=B6(e);u4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=B6(e);c4(e,o,s);break;default:throw Error(mt(161))}}catch(l){Vn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _Q(e,t,r){Lt=e,d9(e)}function d9(e,t,r){for(var n=(e.mode&1)!==0;Lt!==null;){var a=Lt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Vy;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||pi;o=Vy;var c=pi;if(Vy=s,(pi=l)&&!c)for(Lt=a;Lt!==null;)s=Lt,l=s.child,s.tag===22&&s.memoizedState!==null?q6(a):l!==null?(l.return=s,Lt=l):q6(a);for(;i!==null;)Lt=i,d9(i),i=i.sibling;Lt=a,Vy=o,pi=c}U6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Lt=i):U6(e)}}function U6(e){for(;Lt!==null;){var t=Lt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:pi||Pw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!pi)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Ro(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&E6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}E6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Gg(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}pi||t.flags&512&&l4(t)}catch(h){Vn(t,t.return,h)}}if(t===e){Lt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Lt=r;break}Lt=t.return}}function z6(e){for(;Lt!==null;){var t=Lt;if(t===e){Lt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Lt=r;break}Lt=t.return}}function q6(e){for(;Lt!==null;){var t=Lt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Pw(4,t)}catch(l){Vn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Vn(t,a,l)}}var i=t.return;try{l4(t)}catch(l){Vn(t,i,l)}break;case 5:var s=t.return;try{l4(t)}catch(l){Vn(t,s,l)}}}catch(l){Vn(t,t.return,l)}if(t===e){Lt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Lt=o;break}Lt=t.return}}var SQ=Math.ceil,A2=Uc.ReactCurrentDispatcher,H3=Uc.ReactCurrentOwner,lo=Uc.ReactCurrentBatchConfig,Pr=0,La=null,ua=null,Ya=0,As=0,l0=Ef(0),xa=0,a1=null,$h=0,Cw=0,G3=0,dg=null,as=null,K3=0,H0=1/0,lc=null,T2=!1,f4=null,ef=null,Uy=!1,Bu=null,E2=0,pg=0,h4=null,$x=-1,Bx=0;function Ui(){return Pr&6?Qn():$x!==-1?$x:$x=Qn()}function tf(e){return e.mode&1?Pr&2&&Ya!==0?Ya&-Ya:sQ.transition!==null?(Bx===0&&(Bx=QF()),Bx):(e=Gr,e!==0||(e=window.event,e=e===void 0?16:a7(e.type)),e):1}function Qo(e,t,r,n){if(50<pg)throw pg=0,h4=null,Error(mt(185));bv(e,r,n),(!(Pr&2)||e!==La)&&(e===La&&(!(Pr&2)&&(Cw|=r),xa===4&&Lu(e,Ya)),fs(e,n),r===1&&Pr===0&&!(t.mode&1)&&(H0=Qn()+500,Tw&&kf()))}function fs(e,t){var r=e.callbackNode;sX(e,t);var n=c2(e,e===La?Ya:0);if(n===0)r!==null&&ZN(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&ZN(r),t===1)e.tag===0?iQ(W6.bind(null,e)):S7(W6.bind(null,e)),tQ(function(){!(Pr&6)&&kf()}),r=null;else{switch(JF(n)){case 1:r=b3;break;case 4:r=YF;break;case 16:r=l2;break;case 536870912:r=XF;break;default:r=l2}r=w9(r,p9.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function p9(e,t){if($x=-1,Bx=0,Pr&6)throw Error(mt(327));var r=e.callbackNode;if(A0()&&e.callbackNode!==r)return null;var n=c2(e,e===La?Ya:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=k2(e,n);else{t=n;var a=Pr;Pr|=2;var i=g9();(La!==e||Ya!==t)&&(lc=null,H0=Qn()+500,kh(e,t));do try{EQ();break}catch(o){m9(e,o)}while(!0);D3(),A2.current=i,Pr=a,ua!==null?t=0:(La=null,Ya=0,t=xa)}if(t!==0){if(t===2&&(a=$A(e),a!==0&&(n=a,t=d4(e,a))),t===1)throw r=a1,kh(e,0),Lu(e,n),fs(e,Qn()),r;if(t===6)Lu(e,n);else{if(a=e.current.alternate,!(n&30)&&!AQ(a)&&(t=k2(e,n),t===2&&(i=$A(e),i!==0&&(n=i,t=d4(e,i))),t===1))throw r=a1,kh(e,0),Lu(e,n),fs(e,Qn()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(mt(345));case 2:sh(e,as,lc);break;case 3:if(Lu(e,n),(n&130023424)===n&&(t=K3+500-Qn(),10<t)){if(c2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Ui(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=GA(sh.bind(null,e,as,lc),t);break}sh(e,as,lc);break;case 4:if(Lu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-Xo(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=Qn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*SQ(n/1960))-n,10<n){e.timeoutHandle=GA(sh.bind(null,e,as,lc),n);break}sh(e,as,lc);break;case 5:sh(e,as,lc);break;default:throw Error(mt(329))}}}return fs(e,Qn()),e.callbackNode===r?p9.bind(null,e):null}function d4(e,t){var r=dg;return e.current.memoizedState.isDehydrated&&(kh(e,t).flags|=256),e=k2(e,t),e!==2&&(t=as,as=r,t!==null&&p4(t)),e}function p4(e){as===null?as=e:as.push.apply(as,e)}function AQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!tl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lu(e,t){for(t&=~G3,t&=~Cw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Xo(t),n=1<<r;e[r]=-1,t&=~n}}function W6(e){if(Pr&6)throw Error(mt(327));A0();var t=c2(e,0);if(!(t&1))return fs(e,Qn()),null;var r=k2(e,t);if(e.tag!==0&&r===2){var n=$A(e);n!==0&&(t=n,r=d4(e,n))}if(r===1)throw r=a1,kh(e,0),Lu(e,t),fs(e,Qn()),r;if(r===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sh(e,as,lc),fs(e,Qn()),null}function Y3(e,t){var r=Pr;Pr|=1;try{return e(t)}finally{Pr=r,Pr===0&&(H0=Qn()+500,Tw&&kf())}}function Bh(e){Bu!==null&&Bu.tag===0&&!(Pr&6)&&A0();var t=Pr;Pr|=1;var r=lo.transition,n=Gr;try{if(lo.transition=null,Gr=1,e)return e()}finally{Gr=n,lo.transition=r,Pr=t,!(Pr&6)&&kf()}}function X3(){As=l0.current,bn(l0)}function kh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,eQ(r)),ua!==null)for(r=ua.return;r!==null;){var n=r;switch(N3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&p2();break;case 3:q0(),bn(cs),bn(Si),$3();break;case 5:F3(n);break;case 4:q0();break;case 13:bn(Cn);break;case 19:bn(Cn);break;case 10:L3(n.type._context);break;case 22:case 23:X3()}r=r.return}if(La=e,ua=e=rf(e.current,null),Ya=As=t,xa=0,a1=null,G3=Cw=$h=0,as=dg=null,vh!==null){for(t=0;t<vh.length;t++)if(r=vh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}vh=null}return e}function m9(e,t){do{var r=ua;try{if(D3(),Mx.current=S2,_2){for(var n=Nn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}_2=!1}if(Fh=0,Oa=ya=Nn=null,fg=!1,t1=0,H3.current=null,r===null||r.return===null){xa=1,a1=t,ua=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=Ya,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=I6(s);if(d!==null){d.flags&=-257,D6(d,s,o,i,t),d.mode&1&&O6(i,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var p=new Set;p.add(l),t.updateQueue=p}else m.add(l);break e}else{if(!(t&1)){O6(i,c,t),Q3();break e}l=Error(mt(426))}}else if(Sn&&o.mode&1){var v=I6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),D6(v,s,o,i,t),O3(W0(l,o));break e}}i=l=W0(l,o),xa!==4&&(xa=2),dg===null?dg=[i]:dg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=J7(i,l,t);T6(i,y);break e;case 1:o=l;var b=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ef===null||!ef.has(_)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=Z7(i,o,t);T6(i,O);break e}}i=i.return}while(i!==null)}y9(r)}catch(C){t=C,ua===r&&r!==null&&(ua=r=r.return);continue}break}while(!0)}function g9(){var e=A2.current;return A2.current=S2,e===null?S2:e}function Q3(){(xa===0||xa===3||xa===2)&&(xa=4),La===null||!($h&268435455)&&!(Cw&268435455)||Lu(La,Ya)}function k2(e,t){var r=Pr;Pr|=2;var n=g9();(La!==e||Ya!==t)&&(lc=null,kh(e,t));do try{TQ();break}catch(a){m9(e,a)}while(!0);if(D3(),Pr=r,A2.current=n,ua!==null)throw Error(mt(261));return La=null,Ya=0,xa}function TQ(){for(;ua!==null;)v9(ua)}function EQ(){for(;ua!==null&&!QY();)v9(ua)}function v9(e){var t=b9(e.alternate,e,As);e.memoizedProps=e.pendingProps,t===null?y9(e):ua=t,H3.current=null}function y9(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=xQ(r,t),r!==null){r.flags&=32767,ua=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xa=6,ua=null;return}}else if(r=yQ(r,t,As),r!==null){ua=r;return}if(t=t.sibling,t!==null){ua=t;return}ua=t=e}while(t!==null);xa===0&&(xa=5)}function sh(e,t,r){var n=Gr,a=lo.transition;try{lo.transition=null,Gr=1,kQ(e,t,r,n)}finally{lo.transition=a,Gr=n}return null}function kQ(e,t,r,n){do A0();while(Bu!==null);if(Pr&6)throw Error(mt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(oX(e,i),e===La&&(ua=La=null,Ya=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Uy||(Uy=!0,w9(l2,function(){return A0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=lo.transition,lo.transition=null;var s=Gr;Gr=1;var o=Pr;Pr|=4,H3.current=null,wQ(e,r),h9(r,e),GX(WA),u2=!!qA,WA=qA=null,e.current=r,_Q(r),JY(),Pr=o,Gr=s,lo.transition=i}else e.current=r;if(Uy&&(Uy=!1,Bu=e,E2=a),i=e.pendingLanes,i===0&&(ef=null),tX(r.stateNode),fs(e,Qn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(T2)throw T2=!1,e=f4,f4=null,e;return E2&1&&e.tag!==0&&A0(),i=e.pendingLanes,i&1?e===h4?pg++:(pg=0,h4=e):pg=0,kf(),null}function A0(){if(Bu!==null){var e=JF(E2),t=lo.transition,r=Gr;try{if(lo.transition=null,Gr=16>e?16:e,Bu===null)var n=!1;else{if(e=Bu,Bu=null,E2=0,Pr&6)throw Error(mt(331));var a=Pr;for(Pr|=4,Lt=e.current;Lt!==null;){var i=Lt,s=i.child;if(Lt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Lt=c;Lt!==null;){var u=Lt;switch(u.tag){case 0:case 11:case 15:hg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Lt=f;else for(;Lt!==null;){u=Lt;var h=u.sibling,d=u.return;if(c9(u),u===c){Lt=null;break}if(h!==null){h.return=d,Lt=h;break}Lt=d}}}var m=i.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Lt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Lt=s;else e:for(;Lt!==null;){if(i=Lt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:hg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Lt=y;break e}Lt=i.return}}var b=e.current;for(Lt=b;Lt!==null;){s=Lt;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Lt=_;else e:for(s=b;Lt!==null;){if(o=Lt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pw(9,o)}}catch(C){Vn(o,o.return,C)}if(o===s){Lt=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Lt=O;break e}Lt=o.return}}if(Pr=a,kf(),El&&typeof El.onPostCommitFiberRoot=="function")try{El.onPostCommitFiberRoot(bw,e)}catch{}n=!0}return n}finally{Gr=r,lo.transition=t}}return!1}function H6(e,t,r){t=W0(r,t),t=J7(e,t,1),e=Zu(e,t,1),t=Ui(),e!==null&&(bv(e,1,t),fs(e,t))}function Vn(e,t,r){if(e.tag===3)H6(e,e,r);else for(;t!==null;){if(t.tag===3){H6(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ef===null||!ef.has(n))){e=W0(r,e),e=Z7(t,e,1),t=Zu(t,e,1),e=Ui(),t!==null&&(bv(t,1,e),fs(t,e));break}}t=t.return}}function PQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ui(),e.pingedLanes|=e.suspendedLanes&r,La===e&&(Ya&r)===r&&(xa===4||xa===3&&(Ya&130023424)===Ya&&500>Qn()-K3?kh(e,0):G3|=r),fs(e,t)}function x9(e,t){t===0&&(e.mode&1?(t=Iy,Iy<<=1,!(Iy&130023424)&&(Iy=4194304)):t=1);var r=Ui();e=kc(e,t),e!==null&&(bv(e,t,r),fs(e,r))}function CQ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x9(e,r)}function NQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(mt(314))}n!==null&&n.delete(t),x9(e,r)}var b9;b9=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||cs.current)ss=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ss=!1,vQ(e,t,r);ss=!!(e.flags&131072)}else ss=!1,Sn&&t.flags&1048576&&A7(t,v2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fx(e,t),e=t.pendingProps;var a=V0(t,Si.current);S0(t,r),a=V3(null,t,n,e,a,r);var i=U3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,us(n)?(i=!0,m2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,M3(t),a.updater=kw,t.stateNode=a,a._reactInternals=t,e4(t,n,e,r),t=n4(null,t,n,!0,i,r)):(t.tag=0,Sn&&i&&C3(t),Mi(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=IQ(n),e=Ro(n,e),a){case 0:t=r4(null,t,n,e,r);break e;case 1:t=M6(null,t,n,e,r);break e;case 11:t=L6(null,t,n,e,r);break e;case 14:t=j6(null,t,n,Ro(n.type,e),r);break e}throw Error(mt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ro(n,a),r4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ro(n,a),M6(e,t,n,a,r);case 3:e:{if(n9(t),e===null)throw Error(mt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,N7(e,t),b2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=W0(Error(mt(423)),t),t=R6(e,t,n,r,a);break e}else if(n!==a){a=W0(Error(mt(424)),t),t=R6(e,t,n,r,a);break e}else for(Cs=Ju(t.stateNode.containerInfo.firstChild),Is=t,Sn=!0,Uo=null,r=P7(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(U0(),n===a){t=Pc(e,t,r);break e}Mi(e,t,n,r)}t=t.child}return t;case 5:return O7(t),e===null&&QA(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,HA(n,a)?s=null:i!==null&&HA(n,i)&&(t.flags|=32),r9(e,t),Mi(e,t,s,r),t.child;case 6:return e===null&&QA(t),null;case 13:return a9(e,t,r);case 4:return R3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=z0(t,null,n,r):Mi(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ro(n,a),L6(e,t,n,a,r);case 7:return Mi(e,t,t.pendingProps,r),t.child;case 8:return Mi(e,t,t.pendingProps.children,r),t.child;case 12:return Mi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,fn(y2,n._currentValue),n._currentValue=s,i!==null)if(tl(i.value,s)){if(i.children===a.children&&!cs.current){t=Pc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=vc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),JA(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(mt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),JA(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Mi(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,S0(t,r),a=ho(a),n=n(a),t.flags|=1,Mi(e,t,n,r),t.child;case 14:return n=t.type,a=Ro(n,t.pendingProps),a=Ro(n.type,a),j6(e,t,n,a,r);case 15:return e9(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Ro(n,a),Fx(e,t),t.tag=1,us(n)?(e=!0,m2(t)):e=!1,S0(t,r),Q7(t,n,a),e4(t,n,a,r),n4(null,t,n,!0,e,r);case 19:return i9(e,t,r);case 22:return t9(e,t,r)}throw Error(mt(156,t.tag))};function w9(e,t){return KF(e,t)}function OQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function so(e,t,r,n){return new OQ(e,t,r,n)}function J3(e){return e=e.prototype,!(!e||!e.isReactComponent)}function IQ(e){if(typeof e=="function")return J3(e)?1:0;if(e!=null){if(e=e.$$typeof,e===v3)return 11;if(e===y3)return 14}return 2}function rf(e,t){var r=e.alternate;return r===null?(r=so(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")J3(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Jd:return Ph(r.children,a,i,t);case g3:s=8,a|=8;break;case AA:return e=so(12,r,t,a|2),e.elementType=AA,e.lanes=i,e;case TA:return e=so(13,r,t,a),e.elementType=TA,e.lanes=i,e;case EA:return e=so(19,r,t,a),e.elementType=EA,e.lanes=i,e;case OF:return Nw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CF:s=10;break e;case NF:s=9;break e;case v3:s=11;break e;case y3:s=14;break e;case Nu:s=16,n=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=so(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ph(e,t,r,n){return e=so(7,e,n,t),e.lanes=r,e}function Nw(e,t,r,n){return e=so(22,e,n,t),e.elementType=OF,e.lanes=r,e.stateNode={isHidden:!1},e}function W_(e,t,r){return e=so(6,e,null,t),e.lanes=r,e}function H_(e,t,r){return t=so(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function DQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=E_(0),this.expirationTimes=E_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=E_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Z3(e,t,r,n,a,i,s,o,l){return e=new DQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=so(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},M3(i),e}function LQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qd,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _9(e){if(!e)return df;e=e._reactInternals;e:{if(Zh(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(us(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var r=e.type;if(us(r))return _7(e,r,t)}return t}function S9(e,t,r,n,a,i,s,o,l){return e=Z3(r,n,!0,e,a,i,s,o,l),e.context=_9(null),r=e.current,n=Ui(),a=tf(r),i=vc(n,a),i.callback=t??null,Zu(r,i,a),e.current.lanes=a,bv(e,a,n),fs(e,n),e}function Ow(e,t,r,n){var a=t.current,i=Ui(),s=tf(a);return r=_9(r),t.context===null?t.context=r:t.pendingContext=r,t=vc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Zu(a,t,s),e!==null&&(Qo(e,a,s,i),jx(e,a,s)),s}function P2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function G6(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ek(e,t){G6(e,t),(e=e.alternate)&&G6(e,t)}function jQ(){return null}var A9=typeof reportError=="function"?reportError:function(e){console.error(e)};function tk(e){this._internalRoot=e}Iw.prototype.render=tk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));Ow(e,t,null,null)};Iw.prototype.unmount=tk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bh(function(){Ow(null,e,null,null)}),t[Ec]=null}};function Iw(e){this._internalRoot=e}Iw.prototype.unstable_scheduleHydration=function(e){if(e){var t=t7();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Du.length&&t!==0&&t<Du[r].priority;r++);Du.splice(r,0,e),r===0&&n7(e)}};function rk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function K6(){}function MQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=P2(s);i.call(c)}}var s=S9(t,n,e,0,null,!1,!1,"",K6);return e._reactRootContainer=s,e[Ec]=s.current,Xg(e.nodeType===8?e.parentNode:e),Bh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=P2(l);o.call(c)}}var l=Z3(e,0,!1,null,null,!1,!1,"",K6);return e._reactRootContainer=l,e[Ec]=l.current,Xg(e.nodeType===8?e.parentNode:e),Bh(function(){Ow(t,l,r,n)}),l}function Lw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=P2(s);o.call(l)}}Ow(t,s,e,a)}else s=MQ(r,t,e,a,n);return P2(s)}ZF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Km(t.pendingLanes);r!==0&&(w3(t,r|1),fs(t,Qn()),!(Pr&6)&&(H0=Qn()+500,kf()))}break;case 13:Bh(function(){var n=kc(e,1);if(n!==null){var a=Ui();Qo(n,e,1,a)}}),ek(e,1)}};_3=function(e){if(e.tag===13){var t=kc(e,134217728);if(t!==null){var r=Ui();Qo(t,e,134217728,r)}ek(e,134217728)}};e7=function(e){if(e.tag===13){var t=tf(e),r=kc(e,t);if(r!==null){var n=Ui();Qo(r,e,t,n)}ek(e,t)}};t7=function(){return Gr};r7=function(e,t){var r=Gr;try{return Gr=e,t()}finally{Gr=r}};MA=function(e,t,r){switch(t){case"input":if(CA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Aw(n);if(!a)throw Error(mt(90));DF(n),CA(n,a)}}}break;case"textarea":jF(e,r);break;case"select":t=r.value,t!=null&&x0(e,!!r.multiple,t,!1)}};UF=Y3;zF=Bh;var RQ={usingClientEntryPoint:!1,Events:[_v,r0,Aw,BF,VF,Y3]},Pm={findFiberByHostInstance:gh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},FQ={bundleType:Pm.bundleType,version:Pm.version,rendererPackageName:Pm.rendererPackageName,rendererConfig:Pm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Uc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=HF(e),e===null?null:e.stateNode},findFiberByHostInstance:Pm.findFiberByHostInstance||jQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zy.isDisabled&&zy.supportsFiber)try{bw=zy.inject(FQ),El=zy}catch{}}Fs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RQ;Fs.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rk(t))throw Error(mt(200));return LQ(e,t,null,r)};Fs.createRoot=function(e,t){if(!rk(e))throw Error(mt(299));var r=!1,n="",a=A9;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Z3(e,1,!1,null,null,r,!1,n,a),e[Ec]=t.current,Xg(e.nodeType===8?e.parentNode:e),new tk(t)};Fs.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=HF(t),e=e===null?null:e.stateNode,e};Fs.flushSync=function(e){return Bh(e)};Fs.hydrate=function(e,t,r){if(!Dw(t))throw Error(mt(200));return Lw(null,e,t,!0,r)};Fs.hydrateRoot=function(e,t,r){if(!rk(e))throw Error(mt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=A9;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=S9(t,null,e,1,r??null,a,!1,i,s),e[Ec]=t.current,Xg(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Iw(t)};Fs.render=function(e,t,r){if(!Dw(t))throw Error(mt(200));return Lw(null,e,t,!1,r)};Fs.unmountComponentAtNode=function(e){if(!Dw(e))throw Error(mt(40));return e._reactRootContainer?(Bh(function(){Lw(null,null,e,!1,function(){e._reactRootContainer=null,e[Ec]=null})}),!0):!1};Fs.unstable_batchedUpdates=Y3;Fs.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dw(r))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return Lw(e,t,r,!1,n)};Fs.version="18.3.1-next-f1338f8080-20240426";function T9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(T9)}catch(e){console.error(e)}}T9(),TF.exports=Fs;var $Q=TF.exports,E9,Y6=$Q;E9=Y6.createRoot,Y6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function i1(){return i1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i1.apply(this,arguments)}var Vu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vu||(Vu={}));const X6="popstate";function BQ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return m4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:C2(a)}return UQ(t,r,null,e)}function On(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function k9(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function VQ(){return Math.random().toString(36).substr(2,8)}function Q6(e,t){return{usr:e.state,key:e.key,idx:t}}function m4(e,t,r,n){return r===void 0&&(r=null),i1({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Op(t):t,{state:r,key:t&&t.key||n||VQ()})}function C2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Op(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function UQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Vu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(i1({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Vu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:p.location,delta:y})}function h(v,y){o=Vu.Push;let b=m4(p.location,v,y);c=u()+1;let _=Q6(b,c),O=p.createHref(b);try{s.pushState(_,"",O)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(O)}i&&l&&l({action:o,location:p.location,delta:1})}function d(v,y){o=Vu.Replace;let b=m4(p.location,v,y);c=u();let _=Q6(b,c),O=p.createHref(b);s.replaceState(_,"",O),i&&l&&l({action:o,location:p.location,delta:0})}function m(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:C2(v);return b=b.replace(/ $/,"%20"),On(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let p={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(X6,f),l=v,()=>{a.removeEventListener(X6,f),l=null}},createHref(v){return t(a,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return s.go(v)}};return p}var J6;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(J6||(J6={}));function zQ(e,t,r){return r===void 0&&(r="/"),qQ(e,t,r,!1)}function qQ(e,t,r,n){let a=typeof t=="string"?Op(t):t,i=G0(a.pathname||"/",r);if(i==null)return null;let s=P9(e);WQ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=rJ(i);o=eJ(s[l],c,n)}return o}function P9(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(On(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=nf([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(On(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),P9(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:JQ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of C9(i.path))a(i,s,l)}),t}function C9(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=C9(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function WQ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:ZQ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const HQ=/^:[\w-]+$/,GQ=3,KQ=2,YQ=1,XQ=10,QQ=-2,Z6=e=>e==="*";function JQ(e,t){let r=e.split("/"),n=r.length;return r.some(Z6)&&(n+=QQ),t&&(n+=KQ),r.filter(a=>!Z6(a)).reduce((a,i)=>a+(HQ.test(i)?GQ:i===""?YQ:XQ),n)}function ZQ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function eJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=N2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=N2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:nf([i,f.pathname]),pathnameBase:sJ(nf([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=nf([i,f.pathnameBase]))}return s}function N2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=tJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let p=o[f]||"";s=i.slice(0,i.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[f];return d&&!m?c[h]=void 0:c[h]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function tJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),k9(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function rJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return k9(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function G0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function nJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Op(e):e;return{pathname:r?r.startsWith("/")?r:aJ(r,t):t,search:oJ(n),hash:lJ(a)}}function aJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function G_(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function nk(e,t){let r=iJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ak(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Op(e):(a=i1({},e),On(!a.pathname||!a.pathname.includes("?"),G_("?","pathname","search",a)),On(!a.pathname||!a.pathname.includes("#"),G_("#","pathname","hash",a)),On(!a.search||!a.search.includes("#"),G_("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=nJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const nf=e=>e.join("/").replace(/\/\/+/g,"/"),sJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),oJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const N9=["post","put","patch","delete"];new Set(N9);const uJ=["get",...N9];new Set(uJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s1.apply(this,arguments)}const jw=Z.createContext(null),O9=Z.createContext(null),zc=Z.createContext(null),Mw=Z.createContext(null),qc=Z.createContext({outlet:null,matches:[],isDataRoute:!1}),I9=Z.createContext(null);function fJ(e,t){let{relative:r}=t===void 0?{}:t;Ip()||On(!1);let{basename:n,navigator:a}=Z.useContext(zc),{hash:i,pathname:s,search:o}=Rw(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:nf([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Ip(){return Z.useContext(Mw)!=null}function Dp(){return Ip()||On(!1),Z.useContext(Mw).location}function D9(e){Z.useContext(zc).static||Z.useLayoutEffect(e)}function Av(){let{isDataRoute:e}=Z.useContext(qc);return e?EJ():hJ()}function hJ(){Ip()||On(!1);let e=Z.useContext(jw),{basename:t,future:r,navigator:n}=Z.useContext(zc),{matches:a}=Z.useContext(qc),{pathname:i}=Dp(),s=JSON.stringify(nk(a,r.v7_relativeSplatPath)),o=Z.useRef(!1);return D9(()=>{o.current=!0}),Z.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=ak(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:nf([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const dJ=Z.createContext(null);function pJ(e){let t=Z.useContext(qc).outlet;return t&&Z.createElement(dJ.Provider,{value:e},t)}function Rw(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=Z.useContext(zc),{matches:a}=Z.useContext(qc),{pathname:i}=Dp(),s=JSON.stringify(nk(a,n.v7_relativeSplatPath));return Z.useMemo(()=>ak(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function mJ(e,t){return gJ(e,t)}function gJ(e,t,r,n){Ip()||On(!1);let{navigator:a,static:i}=Z.useContext(zc),{matches:s}=Z.useContext(qc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Dp(),f;if(t){var h;let y=typeof t=="string"?Op(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||On(!1),f=y}else f=u;let d=f.pathname||"/",m=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");m="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let p=!i&&r&&r.matches&&r.matches.length>0?r.matches:zQ(e,{pathname:m}),v=wJ(p&&p.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:nf([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:nf([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?Z.createElement(Mw.Provider,{value:{location:s1({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Vu.Pop}},v):v}function vJ(){let e=TJ(),t=cJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Z.createElement(Z.Fragment,null,Z.createElement("h2",null,"Unexpected Application Error!"),Z.createElement("h3",{style:{fontStyle:"italic"}},t),r?Z.createElement("pre",{style:a},r):null,null)}const yJ=Z.createElement(vJ,null);class xJ extends Z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?Z.createElement(qc.Provider,{value:this.props.routeContext},Z.createElement(I9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bJ(e){let{routeContext:t,match:r,children:n}=e,a=Z.useContext(jw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),Z.createElement(qc.Provider,{value:t},n)}function wJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||On(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,m=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,m=!1,p=null,v=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,p=f.route.errorElement||yJ,l&&(c<0&&h===0?(m=!0,v=null):c===h&&(m=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let _;return d?_=p:m?_=v:f.route.Component?_=Z.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,Z.createElement(bJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:_})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?Z.createElement(xJ,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var L9=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(L9||{}),O2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(O2||{});function _J(e){let t=Z.useContext(jw);return t||On(!1),t}function SJ(e){let t=Z.useContext(O9);return t||On(!1),t}function AJ(e){let t=Z.useContext(qc);return t||On(!1),t}function j9(e){let t=AJ(),r=t.matches[t.matches.length-1];return r.route.id||On(!1),r.route.id}function TJ(){var e;let t=Z.useContext(I9),r=SJ(O2.UseRouteError),n=j9(O2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function EJ(){let{router:e}=_J(L9.UseNavigateStable),t=j9(O2.UseNavigateStable),r=Z.useRef(!1);return D9(()=>{r.current=!0}),Z.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,s1({fromRouteId:t},i)))},[e,t])}function kJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function g4(e){let{to:t,replace:r,state:n,relative:a}=e;Ip()||On(!1);let{future:i,static:s}=Z.useContext(zc),{matches:o}=Z.useContext(qc),{pathname:l}=Dp(),c=Av(),u=ak(t,nk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return Z.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function PJ(e){return pJ(e.context)}function Zs(e){On(!1)}function CJ(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Vu.Pop,navigator:i,static:s=!1,future:o}=e;Ip()&&On(!1);let l=t.replace(/^\/*/,"/"),c=Z.useMemo(()=>({basename:l,navigator:i,static:s,future:s1({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Op(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:m="default"}=n,p=Z.useMemo(()=>{let v=G0(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:d,key:m},navigationType:a}},[l,u,f,h,d,m,a]);return p==null?null:Z.createElement(zc.Provider,{value:c},Z.createElement(Mw.Provider,{children:r,value:p}))}function NJ(e){let{children:t,location:r}=e;return mJ(v4(t),r)}new Promise(()=>{});function v4(e,t){t===void 0&&(t=[]);let r=[];return Z.Children.forEach(e,(n,a)=>{if(!Z.isValidElement(n))return;let i=[...t,a];if(n.type===Z.Fragment){r.push.apply(r,v4(n.props.children,i));return}n.type!==Zs&&On(!1),!n.props.index||!n.props.children||On(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=v4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function I2(){return I2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I2.apply(this,arguments)}function M9(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function OJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function IJ(e,t){return e.button===0&&(!t||t==="_self")&&!OJ(e)}const DJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],jJ="6";try{window.__reactRouterVersion=jJ}catch{}const MJ=Z.createContext({isTransitioning:!1}),RJ="startTransition",eO=PY[RJ];function FJ(e){let{basename:t,children:r,future:n,window:a}=e,i=Z.useRef();i.current==null&&(i.current=BQ({window:a,v5Compat:!0}));let s=i.current,[o,l]=Z.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=Z.useCallback(f=>{c&&eO?eO(()=>l(f)):l(f)},[l,c]);return Z.useLayoutEffect(()=>s.listen(u),[s,u]),Z.useEffect(()=>kJ(n),[n]),Z.createElement(CJ,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const $J=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",BJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VJ=Z.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=M9(t,DJ),{basename:d}=Z.useContext(zc),m,p=!1;if(typeof c=="string"&&BJ.test(c)&&(m=c,$J))try{let _=new URL(window.location.href),O=c.startsWith("//")?new URL(_.protocol+c):new URL(c),C=G0(O.pathname,d);O.origin===_.origin&&C!=null?c=C+O.search+O.hash:p=!0}catch{}let v=fJ(c,{relative:a}),y=zJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(_){n&&n(_),_.defaultPrevented||y(_)}return Z.createElement("a",I2({},h,{href:m||v,onClick:p||i?n:b,ref:r,target:l}))}),K_=Z.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=M9(t,LJ),h=Rw(l,{relative:f.relative}),d=Dp(),m=Z.useContext(O9),{navigator:p,basename:v}=Z.useContext(zc),y=m!=null&&qJ(h)&&c===!0,b=p.encodeLocation?p.encodeLocation(h).pathname:h.pathname,_=d.pathname,O=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;a||(_=_.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&v&&(O=G0(O,v)||O);const C=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let N=_===b||!s&&_.startsWith(b)&&_.charAt(C)==="/",T=O!=null&&(O===b||!s&&O.startsWith(b)&&O.charAt(b.length)==="/"),S={isActive:N,isPending:T,isTransitioning:y},A=N?n:void 0,D;typeof i=="function"?D=i(S):D=[i,N?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let E=typeof o=="function"?o(S):o;return Z.createElement(VJ,I2({},f,{"aria-current":A,className:D,ref:r,style:E,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var y4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(y4||(y4={}));var tO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(tO||(tO={}));function UJ(e){let t=Z.useContext(jw);return t||On(!1),t}function zJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=Av(),c=Dp(),u=Rw(e,{relative:s});return Z.useCallback(f=>{if(IJ(f,r)){f.preventDefault();let h=n!==void 0?n:C2(c)===C2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function qJ(e,t){t===void 0&&(t={});let r=Z.useContext(MJ);r==null&&On(!1);let{basename:n}=UJ(y4.useViewTransitionState),a=Rw(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=G0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=G0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return N2(a.pathname,s)!=null||N2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var WJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),or=(e,t)=>{const r=Z.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>Z.createElement("svg",{ref:u,...WJ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${HJ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>Z.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GJ=or("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=or("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=or("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=or("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=or("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=or("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=or("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=or("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=or("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=or("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=or("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D2=or("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eZ=or("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tZ=or("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=or("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=or("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=or("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=or("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rO=or("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=or("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=or("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R9=or("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=or("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=or("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=or("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=or("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=or("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=or("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=or("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F9=or("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=or("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=or("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=or("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=or("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=or("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=or("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=or("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=or("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=or("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=or("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nO=or("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=or("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),mZ=()=>{};var aO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},gZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},U9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(V9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):gZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new vZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const m=c<<6&192|f;n.push(m)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class vZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yZ=function(e){const t=V9(e);return U9.encodeByteArray(t,!0)},j2=function(e){return yZ(e).replace(/\./g,"")},xZ=function(e){try{return U9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wZ=()=>bZ().__FIREBASE_DEFAULTS__,_Z=()=>{if(typeof process>"u"||typeof aO>"u")return;const e=aO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},SZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&xZ(e[1]);return t&&JSON.parse(t)},sk=()=>{try{return mZ()||wZ()||_Z()||SZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},AZ=e=>{var t,r;return(r=(t=sk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},TZ=e=>{const t=AZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},z9=()=>{var e;return(e=sk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(e){return e.endsWith(".cloudworkstations.dev")}async function kZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[j2(JSON.stringify(r)),j2(JSON.stringify(s)),""].join(".")}const mg={};function CZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(mg))mg[t]?e.emulator.push(t):e.prod.push(t);return e}function NZ(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let iO=!1;function q9(e,t){if(typeof window>"u"||typeof document>"u"||!ok(window.location.host)||mg[e]===t||mg[e]||iO)return;mg[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=CZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{iO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=NZ(n),d=r("text"),m=document.getElementById(d)||document.createElement("span"),p=r("learnmore"),v=document.getElementById(p)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;o(_),u(v,p);const O=c();l(b,y),_.append(b,m,v,O),document.body.appendChild(_)}i?(m.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,m.innerText="Preview backend running in this workspace."),m.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IZ(){var e;const t=(e=sk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DZ(){return!IZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LZ(){try{return typeof indexedDB=="object"}catch{return!1}}function jZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MZ="FirebaseError";class Lp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=MZ,Object.setPrototypeOf(this,Lp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,W9.prototype.create)}}class W9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?RZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Lp(a,o,n)}}function RZ(e,t){return e.replace(FZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const FZ=/\{\$([^}]+)}/g;function M2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(sO(i)&&sO(s)){if(!M2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function sO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(e){return e&&e._delegate?e._delegate:e}class l1{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Z{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new EZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VZ(t))try{this.getOrInitializeService({instanceIdentifier:oh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=oh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=oh){return this.instances.has(t)}getOptions(t=oh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:BZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=oh){return this.component?this.component.multipleInstances?t:oh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BZ(e){return e===oh?void 0:e}function VZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new $Z(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(_r||(_r={}));const zZ={debug:_r.DEBUG,verbose:_r.VERBOSE,info:_r.INFO,warn:_r.WARN,error:_r.ERROR,silent:_r.SILENT},qZ=_r.INFO,WZ={[_r.DEBUG]:"log",[_r.VERBOSE]:"log",[_r.INFO]:"info",[_r.WARN]:"warn",[_r.ERROR]:"error"},HZ=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=WZ[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class H9{constructor(t){this.name=t,this._logLevel=qZ,this._logHandler=HZ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _r))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_r.DEBUG,...t),this._logHandler(this,_r.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_r.VERBOSE,...t),this._logHandler(this,_r.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_r.INFO,...t),this._logHandler(this,_r.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_r.WARN,...t),this._logHandler(this,_r.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_r.ERROR,...t),this._logHandler(this,_r.ERROR,...t)}}const GZ=(e,t)=>t.some(r=>e instanceof r);let oO,lO;function KZ(){return oO||(oO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function YZ(){return lO||(lO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G9=new WeakMap,w4=new WeakMap,K9=new WeakMap,Y_=new WeakMap,lk=new WeakMap;function XZ(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(af(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&G9.set(r,e)}).catch(()=>{}),lk.set(t,e),t}function QZ(e){if(w4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});w4.set(e,t)}let _4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return w4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||K9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return af(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function JZ(e){_4=e(_4)}function ZZ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(X_(this),t,...r);return K9.set(n,t.sort?t.sort():[t]),af(n)}:YZ().includes(e)?function(...t){return e.apply(X_(this),t),af(G9.get(this))}:function(...t){return af(e.apply(X_(this),t))}}function eee(e){return typeof e=="function"?ZZ(e):(e instanceof IDBTransaction&&QZ(e),GZ(e,KZ())?new Proxy(e,_4):e)}function af(e){if(e instanceof IDBRequest)return XZ(e);if(Y_.has(e))return Y_.get(e);const t=eee(e);return t!==e&&(Y_.set(e,t),lk.set(t,e)),t}const X_=e=>lk.get(e);function tee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=af(s);return n&&s.addEventListener("upgradeneeded",l=>{n(af(s.result),l.oldVersion,l.newVersion,af(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const ree=["get","getKey","getAll","getAllKeys","count"],nee=["put","add","delete","clear"],Q_=new Map;function cO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Q_.get(t))return Q_.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=nee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||ree.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return Q_.set(t,i),i}JZ(e=>({...e,get:(t,r,n)=>cO(t,r)||e.get(t,r,n),has:(t,r)=>!!cO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(iee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function iee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const S4="@firebase/app",uO="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new H9("@firebase/app"),see="@firebase/app-compat",oee="@firebase/analytics-compat",lee="@firebase/analytics",cee="@firebase/app-check-compat",uee="@firebase/app-check",fee="@firebase/auth",hee="@firebase/auth-compat",dee="@firebase/database",pee="@firebase/data-connect",mee="@firebase/database-compat",gee="@firebase/functions",vee="@firebase/functions-compat",yee="@firebase/installations",xee="@firebase/installations-compat",bee="@firebase/messaging",wee="@firebase/messaging-compat",_ee="@firebase/performance",See="@firebase/performance-compat",Aee="@firebase/remote-config",Tee="@firebase/remote-config-compat",Eee="@firebase/storage",kee="@firebase/storage-compat",Pee="@firebase/firestore",Cee="@firebase/vertexai",Nee="@firebase/firestore-compat",Oee="firebase",Iee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4="[DEFAULT]",Dee={[S4]:"fire-core",[see]:"fire-core-compat",[lee]:"fire-analytics",[oee]:"fire-analytics-compat",[uee]:"fire-app-check",[cee]:"fire-app-check-compat",[fee]:"fire-auth",[hee]:"fire-auth-compat",[dee]:"fire-rtdb",[pee]:"fire-data-connect",[mee]:"fire-rtdb-compat",[gee]:"fire-fn",[vee]:"fire-fn-compat",[yee]:"fire-iid",[xee]:"fire-iid-compat",[bee]:"fire-fcm",[wee]:"fire-fcm-compat",[_ee]:"fire-perf",[See]:"fire-perf-compat",[Aee]:"fire-rc",[Tee]:"fire-rc-compat",[Eee]:"fire-gcs",[kee]:"fire-gcs-compat",[Pee]:"fire-fst",[Nee]:"fire-fst-compat",[Cee]:"fire-vertex","fire-js":"fire-js",[Oee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Map,Lee=new Map,T4=new Map;function fO(e,t){try{e.container.addComponent(t)}catch(r){Nc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function F2(e){const t=e.name;if(T4.has(t))return Nc.debug(`There were multiple attempts to register component ${t}.`),!1;T4.set(t,e);for(const r of R2.values())fO(r,e);for(const r of Lee.values())fO(r,e);return!0}function jee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Mee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ree={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sf=new W9("app","Firebase",Ree);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new l1("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee=Iee;function Y9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:A4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw sf.create("bad-app-name",{appName:String(a)});if(r||(r=z9()),!r)throw sf.create("no-options");const i=R2.get(a);if(i){if(M2(r,i.options)&&M2(n,i.config))return i;throw sf.create("duplicate-app",{appName:a})}const s=new UZ(a);for(const l of T4.values())s.addComponent(l);const o=new Fee(r,n,s);return R2.set(a,o),o}function Bee(e=A4){const t=R2.get(e);if(!t&&e===A4&&z9())return Y9();if(!t)throw sf.create("no-app",{appName:e});return t}function T0(e,t,r){var n;let a=(n=Dee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Nc.warn(o.join(" "));return}F2(new l1(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vee="firebase-heartbeat-database",Uee=1,c1="firebase-heartbeat-store";let J_=null;function X9(){return J_||(J_=tee(Vee,Uee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(c1)}catch(r){console.warn(r)}}}}).catch(e=>{throw sf.create("idb-open",{originalErrorMessage:e.message})})),J_}async function zee(e){try{const r=(await X9()).transaction(c1),n=await r.objectStore(c1).get(Q9(e));return await r.done,n}catch(t){if(t instanceof Lp)Nc.warn(t.message);else{const r=sf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Nc.warn(r.message)}}}async function hO(e,t){try{const n=(await X9()).transaction(c1,"readwrite");await n.objectStore(c1).put(t,Q9(e)),await n.done}catch(r){if(r instanceof Lp)Nc.warn(r.message);else{const n=sf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Nc.warn(n.message)}}}function Q9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qee=1024,Wee=30;class Hee{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Kee(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=dO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>Wee){const s=Yee(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Nc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=dO(),{heartbeatsToSend:n,unsentEntries:a}=Gee(this._heartbeatsCache.heartbeats),i=j2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Nc.warn(r),""}}}function dO(){return new Date().toISOString().substring(0,10)}function Gee(e,t=qee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),pO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),pO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Kee{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LZ()?jZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await zee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return hO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return hO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function pO(e){return j2(JSON.stringify({version:2,heartbeats:e})).length}function Yee(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(e){F2(new l1("platform-logger",t=>new aee(t),"PRIVATE")),F2(new l1("heartbeat",t=>new Hee(t),"PRIVATE")),T0(S4,uO,e),T0(S4,uO,"esm2017"),T0("fire-js","")}Xee("");var Qee="firebase",Jee="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */T0(Qee,Jee,"app");var mO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var of,J9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,S){function A(){}A.prototype=S.prototype,T.D=S.prototype,T.prototype=new A,T.prototype.constructor=T,T.C=function(D,E,P){for(var j=Array(arguments.length-2),G=2;G<arguments.length;G++)j[G-2]=arguments[G];return S.prototype[E].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(T,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var E=0;16>E;++E)D[E]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(E=0;16>E;++E)D[E]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=T.g[0],A=T.g[1],E=T.g[2];var P=T.g[3],j=S+(P^A&(E^P))+D[0]+3614090360&4294967295;S=A+(j<<7&4294967295|j>>>25),j=P+(E^S&(A^E))+D[1]+3905402710&4294967295,P=S+(j<<12&4294967295|j>>>20),j=E+(A^P&(S^A))+D[2]+606105819&4294967295,E=P+(j<<17&4294967295|j>>>15),j=A+(S^E&(P^S))+D[3]+3250441966&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(P^A&(E^P))+D[4]+4118548399&4294967295,S=A+(j<<7&4294967295|j>>>25),j=P+(E^S&(A^E))+D[5]+1200080426&4294967295,P=S+(j<<12&4294967295|j>>>20),j=E+(A^P&(S^A))+D[6]+2821735955&4294967295,E=P+(j<<17&4294967295|j>>>15),j=A+(S^E&(P^S))+D[7]+4249261313&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(P^A&(E^P))+D[8]+1770035416&4294967295,S=A+(j<<7&4294967295|j>>>25),j=P+(E^S&(A^E))+D[9]+2336552879&4294967295,P=S+(j<<12&4294967295|j>>>20),j=E+(A^P&(S^A))+D[10]+4294925233&4294967295,E=P+(j<<17&4294967295|j>>>15),j=A+(S^E&(P^S))+D[11]+2304563134&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(P^A&(E^P))+D[12]+1804603682&4294967295,S=A+(j<<7&4294967295|j>>>25),j=P+(E^S&(A^E))+D[13]+4254626195&4294967295,P=S+(j<<12&4294967295|j>>>20),j=E+(A^P&(S^A))+D[14]+2792965006&4294967295,E=P+(j<<17&4294967295|j>>>15),j=A+(S^E&(P^S))+D[15]+1236535329&4294967295,A=E+(j<<22&4294967295|j>>>10),j=S+(E^P&(A^E))+D[1]+4129170786&4294967295,S=A+(j<<5&4294967295|j>>>27),j=P+(A^E&(S^A))+D[6]+3225465664&4294967295,P=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(P^S))+D[11]+643717713&4294967295,E=P+(j<<14&4294967295|j>>>18),j=A+(P^S&(E^P))+D[0]+3921069994&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^P&(A^E))+D[5]+3593408605&4294967295,S=A+(j<<5&4294967295|j>>>27),j=P+(A^E&(S^A))+D[10]+38016083&4294967295,P=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(P^S))+D[15]+3634488961&4294967295,E=P+(j<<14&4294967295|j>>>18),j=A+(P^S&(E^P))+D[4]+3889429448&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^P&(A^E))+D[9]+568446438&4294967295,S=A+(j<<5&4294967295|j>>>27),j=P+(A^E&(S^A))+D[14]+3275163606&4294967295,P=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(P^S))+D[3]+4107603335&4294967295,E=P+(j<<14&4294967295|j>>>18),j=A+(P^S&(E^P))+D[8]+1163531501&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(E^P&(A^E))+D[13]+2850285829&4294967295,S=A+(j<<5&4294967295|j>>>27),j=P+(A^E&(S^A))+D[2]+4243563512&4294967295,P=S+(j<<9&4294967295|j>>>23),j=E+(S^A&(P^S))+D[7]+1735328473&4294967295,E=P+(j<<14&4294967295|j>>>18),j=A+(P^S&(E^P))+D[12]+2368359562&4294967295,A=E+(j<<20&4294967295|j>>>12),j=S+(A^E^P)+D[5]+4294588738&4294967295,S=A+(j<<4&4294967295|j>>>28),j=P+(S^A^E)+D[8]+2272392833&4294967295,P=S+(j<<11&4294967295|j>>>21),j=E+(P^S^A)+D[11]+1839030562&4294967295,E=P+(j<<16&4294967295|j>>>16),j=A+(E^P^S)+D[14]+4259657740&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^P)+D[1]+2763975236&4294967295,S=A+(j<<4&4294967295|j>>>28),j=P+(S^A^E)+D[4]+1272893353&4294967295,P=S+(j<<11&4294967295|j>>>21),j=E+(P^S^A)+D[7]+4139469664&4294967295,E=P+(j<<16&4294967295|j>>>16),j=A+(E^P^S)+D[10]+3200236656&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^P)+D[13]+681279174&4294967295,S=A+(j<<4&4294967295|j>>>28),j=P+(S^A^E)+D[0]+3936430074&4294967295,P=S+(j<<11&4294967295|j>>>21),j=E+(P^S^A)+D[3]+3572445317&4294967295,E=P+(j<<16&4294967295|j>>>16),j=A+(E^P^S)+D[6]+76029189&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(A^E^P)+D[9]+3654602809&4294967295,S=A+(j<<4&4294967295|j>>>28),j=P+(S^A^E)+D[12]+3873151461&4294967295,P=S+(j<<11&4294967295|j>>>21),j=E+(P^S^A)+D[15]+530742520&4294967295,E=P+(j<<16&4294967295|j>>>16),j=A+(E^P^S)+D[2]+3299628645&4294967295,A=E+(j<<23&4294967295|j>>>9),j=S+(E^(A|~P))+D[0]+4096336452&4294967295,S=A+(j<<6&4294967295|j>>>26),j=P+(A^(S|~E))+D[7]+1126891415&4294967295,P=S+(j<<10&4294967295|j>>>22),j=E+(S^(P|~A))+D[14]+2878612391&4294967295,E=P+(j<<15&4294967295|j>>>17),j=A+(P^(E|~S))+D[5]+4237533241&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~P))+D[12]+1700485571&4294967295,S=A+(j<<6&4294967295|j>>>26),j=P+(A^(S|~E))+D[3]+2399980690&4294967295,P=S+(j<<10&4294967295|j>>>22),j=E+(S^(P|~A))+D[10]+4293915773&4294967295,E=P+(j<<15&4294967295|j>>>17),j=A+(P^(E|~S))+D[1]+2240044497&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~P))+D[8]+1873313359&4294967295,S=A+(j<<6&4294967295|j>>>26),j=P+(A^(S|~E))+D[15]+4264355552&4294967295,P=S+(j<<10&4294967295|j>>>22),j=E+(S^(P|~A))+D[6]+2734768916&4294967295,E=P+(j<<15&4294967295|j>>>17),j=A+(P^(E|~S))+D[13]+1309151649&4294967295,A=E+(j<<21&4294967295|j>>>11),j=S+(E^(A|~P))+D[4]+4149444226&4294967295,S=A+(j<<6&4294967295|j>>>26),j=P+(A^(S|~E))+D[11]+3174756917&4294967295,P=S+(j<<10&4294967295|j>>>22),j=E+(S^(P|~A))+D[2]+718787259&4294967295,E=P+(j<<15&4294967295|j>>>17),j=A+(P^(E|~S))+D[9]+3951481745&4294967295,T.g[0]=T.g[0]+S&4294967295,T.g[1]=T.g[1]+(E+(j<<21&4294967295|j>>>11))&4294967295,T.g[2]=T.g[2]+E&4294967295,T.g[3]=T.g[3]+P&4294967295}n.prototype.u=function(T,S){S===void 0&&(S=T.length);for(var A=S-this.blockSize,D=this.B,E=this.h,P=0;P<S;){if(E==0)for(;P<=A;)a(this,T,P),P+=this.blockSize;if(typeof T=="string"){for(;P<S;)if(D[E++]=T.charCodeAt(P++),E==this.blockSize){a(this,D),E=0;break}}else for(;P<S;)if(D[E++]=T[P++],E==this.blockSize){a(this,D),E=0;break}}this.h=E,this.o+=S},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var S=1;S<T.length-8;++S)T[S]=0;var A=8*this.o;for(S=T.length-8;S<T.length;++S)T[S]=A&255,A/=256;for(this.u(T),T=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)T[A++]=this.g[S]>>>D&255;return T};function i(T,S){var A=o;return Object.prototype.hasOwnProperty.call(A,T)?A[T]:A[T]=S(T)}function s(T,S){this.h=S;for(var A=[],D=!0,E=T.length-1;0<=E;E--){var P=T[E]|0;D&&P==S||(A[E]=P,D=!1)}this.g=A}var o={};function l(T){return-128<=T&&128>T?i(T,function(S){return new s([S|0],0>S?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return v(c(-T));for(var S=[],A=1,D=0;T>=A;D++)S[D]=T/A|0,A*=4294967296;return new s(S,0)}function u(T,S){if(T.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(T.charAt(0)=="-")return v(u(T.substring(1),S));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),D=f,E=0;E<T.length;E+=8){var P=Math.min(8,T.length-E),j=parseInt(T.substring(E,E+P),S);8>P?(P=c(Math.pow(S,P)),D=D.j(P).add(c(j))):(D=D.j(A),D=D.add(c(j)))}return D}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(p(this))return-v(this).m();for(var T=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);T+=(0<=D?D:4294967296+D)*S,S*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(m(this))return"0";if(p(this))return"-"+v(this).toString(T);for(var S=c(Math.pow(T,6)),A=this,D="";;){var E=O(A,S).g;A=y(A,E.j(S));var P=((0<A.g.length?A.g[0]:A.h)>>>0).toString(T);if(A=E,m(A))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function m(T){if(T.h!=0)return!1;for(var S=0;S<T.g.length;S++)if(T.g[S]!=0)return!1;return!0}function p(T){return T.h==-1}e.l=function(T){return T=y(this,T),p(T)?-1:m(T)?0:1};function v(T){for(var S=T.g.length,A=[],D=0;D<S;D++)A[D]=~T.g[D];return new s(A,~T.h).add(h)}e.abs=function(){return p(this)?v(this):this},e.add=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0,E=0;E<=S;E++){var P=D+(this.i(E)&65535)+(T.i(E)&65535),j=(P>>>16)+(this.i(E)>>>16)+(T.i(E)>>>16);D=j>>>16,P&=65535,j&=65535,A[E]=j<<16|P}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(T,S){return T.add(v(S))}e.j=function(T){if(m(this)||m(T))return f;if(p(this))return p(T)?v(this).j(v(T)):v(v(this).j(T));if(p(T))return v(this.j(v(T)));if(0>this.l(d)&&0>T.l(d))return c(this.m()*T.m());for(var S=this.g.length+T.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var E=0;E<T.g.length;E++){var P=this.i(D)>>>16,j=this.i(D)&65535,G=T.i(E)>>>16,U=T.i(E)&65535;A[2*D+2*E]+=j*U,b(A,2*D+2*E),A[2*D+2*E+1]+=P*U,b(A,2*D+2*E+1),A[2*D+2*E+1]+=j*G,b(A,2*D+2*E+1),A[2*D+2*E+2]+=P*G,b(A,2*D+2*E+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new s(A,0)};function b(T,S){for(;(T[S]&65535)!=T[S];)T[S+1]+=T[S]>>>16,T[S]&=65535,S++}function _(T,S){this.g=T,this.h=S}function O(T,S){if(m(S))throw Error("division by zero");if(m(T))return new _(f,f);if(p(T))return S=O(v(T),S),new _(v(S.g),v(S.h));if(p(S))return S=O(T,v(S)),new _(v(S.g),S.h);if(30<T.g.length){if(p(T)||p(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,D=S;0>=D.l(T);)A=C(A),D=C(D);var E=N(A,1),P=N(D,1);for(D=N(D,2),A=N(A,2);!m(D);){var j=P.add(D);0>=j.l(T)&&(E=E.add(A),P=j),D=N(D,1),A=N(A,1)}return S=y(T,E.j(S)),new _(E,S)}for(E=f;0<=T.l(S);){for(A=Math.max(1,Math.floor(T.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=c(A),j=P.j(S);p(j)||0<j.l(T);)A-=D,P=c(A),j=P.j(S);m(P)&&(P=h),E=E.add(P),T=y(T,j)}return new _(E,T)}e.A=function(T){return O(this,T).h},e.and=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&T.i(D);return new s(A,this.h&T.h)},e.or=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|T.i(D);return new s(A,this.h|T.h)},e.xor=function(T){for(var S=Math.max(this.g.length,T.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^T.i(D);return new s(A,this.h^T.h)};function C(T){for(var S=T.g.length+1,A=[],D=0;D<S;D++)A[D]=T.i(D)<<1|T.i(D-1)>>>31;return new s(A,T.h)}function N(T,S){var A=S>>5;S%=32;for(var D=T.g.length-A,E=[],P=0;P<D;P++)E[P]=0<S?T.i(P+A)>>>S|T.i(P+A+1)<<32-S:T.i(P+A);return new s(E,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,J9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,of=s}).apply(typeof mO<"u"?mO:typeof self<"u"?self:typeof window<"u"?window:{});var qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Z9,Xm,e$,Ux,E4,t$,r$,n$;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,R,W){return w==Array.prototype||w==Object.prototype||(w[R]=W.value),w};function r(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof qy=="object"&&qy];for(var R=0;R<w.length;++R){var W=w[R];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}var n=r(this);function a(w,R){if(R)e:{var W=n;w=w.split(".");for(var ue=0;ue<w.length-1;ue++){var Ie=w[ue];if(!(Ie in W))break e;W=W[Ie]}w=w[w.length-1],ue=W[w],R=R(ue),R!=ue&&R!=null&&t(W,w,{configurable:!0,writable:!0,value:R})}}function i(w,R){w instanceof String&&(w+="");var W=0,ue=!1,Ie={next:function(){if(!ue&&W<w.length){var qe=W++;return{value:R(qe,w[qe]),done:!1}}return ue=!0,{done:!0,value:void 0}}};return Ie[Symbol.iterator]=function(){return Ie},Ie}a("Array.prototype.values",function(w){return w||function(){return i(this,function(R,W){return W})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(w){var R=typeof w;return R=R!="object"?R:w?Array.isArray(w)?"array":R:"null",R=="array"||R=="object"&&typeof w.length=="number"}function c(w){var R=typeof w;return R=="object"&&w!=null||R=="function"}function u(w,R,W){return w.call.apply(w.bind,arguments)}function f(w,R,W){if(!w)throw Error();if(2<arguments.length){var ue=Array.prototype.slice.call(arguments,2);return function(){var Ie=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ie,ue),w.apply(R,Ie)}}return function(){return w.apply(R,arguments)}}function h(w,R,W){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(w,R){var W=Array.prototype.slice.call(arguments,1);return function(){var ue=W.slice();return ue.push.apply(ue,arguments),w.apply(this,ue)}}function m(w,R){function W(){}W.prototype=R.prototype,w.aa=R.prototype,w.prototype=new W,w.prototype.constructor=w,w.Qb=function(ue,Ie,qe){for(var ft=Array(arguments.length-2),er=2;er<arguments.length;er++)ft[er-2]=arguments[er];return R.prototype[Ie].apply(ue,ft)}}function p(w){const R=w.length;if(0<R){const W=Array(R);for(let ue=0;ue<R;ue++)W[ue]=w[ue];return W}return[]}function v(w,R){for(let W=1;W<arguments.length;W++){const ue=arguments[W];if(l(ue)){const Ie=w.length||0,qe=ue.length||0;w.length=Ie+qe;for(let ft=0;ft<qe;ft++)w[Ie+ft]=ue[ft]}else w.push(ue)}}class y{constructor(R,W){this.i=R,this.j=W,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(w){return/^[\s\xa0]*$/.test(w)}function _(){var w=o.navigator;return w&&(w=w.userAgent)?w:""}function O(w){return O[" "](w),w}O[" "]=function(){};var C=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function N(w,R,W){for(const ue in w)R.call(W,w[ue],ue,w)}function T(w,R){for(const W in w)R.call(void 0,w[W],W,w)}function S(w){const R={};for(const W in w)R[W]=w[W];return R}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(w,R){let W,ue;for(let Ie=1;Ie<arguments.length;Ie++){ue=arguments[Ie];for(W in ue)w[W]=ue[W];for(let qe=0;qe<A.length;qe++)W=A[qe],Object.prototype.hasOwnProperty.call(ue,W)&&(w[W]=ue[W])}}function E(w){var R=1;w=w.split(":");const W=[];for(;0<R&&w.length;)W.push(w.shift()),R--;return w.length&&W.push(w.join(":")),W}function P(w){o.setTimeout(()=>{throw w},0)}function j(){var w=B;let R=null;return w.g&&(R=w.g,w.g=w.g.next,w.g||(w.h=null),R.next=null),R}class G{constructor(){this.h=this.g=null}add(R,W){const ue=U.get();ue.set(R,W),this.h?this.h.next=ue:this.g=ue,this.h=ue}}var U=new y(()=>new Q,w=>w.reset());class Q{constructor(){this.next=this.g=this.h=null}set(R,W){this.h=R,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let J,z=!1,B=new G,ee=()=>{const w=o.Promise.resolve(void 0);J=()=>{w.then(ne)}};var ne=()=>{for(var w;w=j();){try{w.h.call(w.g)}catch(W){P(W)}var R=U;R.j(w),100>R.h&&(R.h++,w.next=R.g,R.g=w)}z=!1};function I(){this.s=this.s,this.C=this.C}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(w,R){this.type=w,this.g=this.target=R,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var w=!1,R=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const W=()=>{};o.addEventListener("test",W,R),o.removeEventListener("test",W,R)}catch{}return w}();function Y(w,R){if(F.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var W=this.type=w.type,ue=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=R,R=w.relatedTarget){if(C){e:{try{O(R.nodeName);var Ie=!0;break e}catch{}Ie=!1}Ie||(R=null)}}else W=="mouseover"?R=w.fromElement:W=="mouseout"&&(R=w.toElement);this.relatedTarget=R,ue?(this.clientX=ue.clientX!==void 0?ue.clientX:ue.pageX,this.clientY=ue.clientY!==void 0?ue.clientY:ue.pageY,this.screenX=ue.screenX||0,this.screenY=ue.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:K[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&Y.aa.h.call(this)}}m(Y,F);var K={2:"touch",3:"pen",4:"mouse"};Y.prototype.h=function(){Y.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),ce=0;function X(w,R,W,ue,Ie){this.listener=w,this.proxy=null,this.src=R,this.type=W,this.capture=!!ue,this.ha=Ie,this.key=++ce,this.da=this.fa=!1}function he(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function de(w){this.src=w,this.g={},this.h=0}de.prototype.add=function(w,R,W,ue,Ie){var qe=w.toString();w=this.g[qe],w||(w=this.g[qe]=[],this.h++);var ft=Ae(w,R,ue,Ie);return-1<ft?(R=w[ft],W||(R.fa=!1)):(R=new X(R,this.src,qe,!!ue,Ie),R.fa=W,w.push(R)),R};function H(w,R){var W=R.type;if(W in w.g){var ue=w.g[W],Ie=Array.prototype.indexOf.call(ue,R,void 0),qe;(qe=0<=Ie)&&Array.prototype.splice.call(ue,Ie,1),qe&&(he(R),w.g[W].length==0&&(delete w.g[W],w.h--))}}function Ae(w,R,W,ue){for(var Ie=0;Ie<w.length;++Ie){var qe=w[Ie];if(!qe.da&&qe.listener==R&&qe.capture==!!W&&qe.ha==ue)return Ie}return-1}var Ee="closure_lm_"+(1e6*Math.random()|0),Se={};function ae(w,R,W,ue,Ie){if(Array.isArray(R)){for(var qe=0;qe<R.length;qe++)ae(w,R[qe],W,ue,Ie);return null}return W=ot(W),w&&w[le]?w.K(R,W,c(ue)?!!ue.capture:!!ue,Ie):Ce(w,R,W,!1,ue,Ie)}function Ce(w,R,W,ue,Ie,qe){if(!R)throw Error("Invalid event type");var ft=c(Ie)?!!Ie.capture:!!Ie,er=je(w);if(er||(w[Ee]=er=new de(w)),W=er.add(R,W,ue,ft,qe),W.proxy)return W;if(ue=Me(),W.proxy=ue,ue.src=w,ue.listener=W,w.addEventListener)q||(Ie=ft),Ie===void 0&&(Ie=!1),w.addEventListener(R.toString(),ue,Ie);else if(w.attachEvent)w.attachEvent(Re(R.toString()),ue);else if(w.addListener&&w.removeListener)w.addListener(ue);else throw Error("addEventListener and attachEvent are unavailable.");return W}function Me(){function w(W){return R.call(w.src,w.listener,W)}const R=Qe;return w}function Be(w,R,W,ue,Ie){if(Array.isArray(R))for(var qe=0;qe<R.length;qe++)Be(w,R[qe],W,ue,Ie);else ue=c(ue)?!!ue.capture:!!ue,W=ot(W),w&&w[le]?(w=w.i,R=String(R).toString(),R in w.g&&(qe=w.g[R],W=Ae(qe,W,ue,Ie),-1<W&&(he(qe[W]),Array.prototype.splice.call(qe,W,1),qe.length==0&&(delete w.g[R],w.h--)))):w&&(w=je(w))&&(R=w.g[R.toString()],w=-1,R&&(w=Ae(R,W,ue,Ie)),(W=-1<w?R[w]:null)&&Ze(W))}function Ze(w){if(typeof w!="number"&&w&&!w.da){var R=w.src;if(R&&R[le])H(R.i,w);else{var W=w.type,ue=w.proxy;R.removeEventListener?R.removeEventListener(W,ue,w.capture):R.detachEvent?R.detachEvent(Re(W),ue):R.addListener&&R.removeListener&&R.removeListener(ue),(W=je(R))?(H(W,w),W.h==0&&(W.src=null,R[Ee]=null)):he(w)}}}function Re(w){return w in Se?Se[w]:Se[w]="on"+w}function Qe(w,R){if(w.da)w=!0;else{R=new Y(R,this);var W=w.listener,ue=w.ha||w.src;w.fa&&Ze(w),w=W.call(ue,R)}return w}function je(w){return w=w[Ee],w instanceof de?w:null}var Ke="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(w){return typeof w=="function"?w:(w[Ke]||(w[Ke]=function(R){return w.handleEvent(R)}),w[Ke])}function it(){I.call(this),this.i=new de(this),this.M=this,this.F=null}m(it,I),it.prototype[le]=!0,it.prototype.removeEventListener=function(w,R,W,ue){Be(this,w,R,W,ue)};function ht(w,R){var W,ue=w.F;if(ue)for(W=[];ue;ue=ue.F)W.push(ue);if(w=w.M,ue=R.type||R,typeof R=="string")R=new F(R,w);else if(R instanceof F)R.target=R.target||w;else{var Ie=R;R=new F(ue,w),D(R,Ie)}if(Ie=!0,W)for(var qe=W.length-1;0<=qe;qe--){var ft=R.g=W[qe];Ie=yt(ft,ue,!0,R)&&Ie}if(ft=R.g=w,Ie=yt(ft,ue,!0,R)&&Ie,Ie=yt(ft,ue,!1,R)&&Ie,W)for(qe=0;qe<W.length;qe++)ft=R.g=W[qe],Ie=yt(ft,ue,!1,R)&&Ie}it.prototype.N=function(){if(it.aa.N.call(this),this.i){var w=this.i,R;for(R in w.g){for(var W=w.g[R],ue=0;ue<W.length;ue++)he(W[ue]);delete w.g[R],w.h--}}this.F=null},it.prototype.K=function(w,R,W,ue){return this.i.add(String(w),R,!1,W,ue)},it.prototype.L=function(w,R,W,ue){return this.i.add(String(w),R,!0,W,ue)};function yt(w,R,W,ue){if(R=w.i.g[String(R)],!R)return!0;R=R.concat();for(var Ie=!0,qe=0;qe<R.length;++qe){var ft=R[qe];if(ft&&!ft.da&&ft.capture==W){var er=ft.listener,hr=ft.ha||ft.src;ft.fa&&H(w.i,ft),Ie=er.call(hr,ue)!==!1&&Ie}}return Ie&&!ue.defaultPrevented}function xt(w,R,W){if(typeof w=="function")W&&(w=h(w,W));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(w,R||0)}function dt(w){w.g=xt(()=>{w.g=null,w.i&&(w.i=!1,dt(w))},w.l);const R=w.h;w.h=null,w.m.apply(null,R)}class ve extends I{constructor(R,W){super(),this.m=R,this.l=W,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ge(w){I.call(this),this.h=w,this.g={}}m(Ge,I);var Ye=[];function Dt(w){N(w.g,function(R,W){this.g.hasOwnProperty(W)&&Ze(R)},w),w.g={}}Ge.prototype.N=function(){Ge.aa.N.call(this),Dt(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rt=o.JSON.stringify,lr=o.JSON.parse,Xr=class{stringify(w){return o.JSON.stringify(w,void 0)}parse(w){return o.JSON.parse(w,void 0)}};function Xt(){}Xt.prototype.h=null;function ki(w){return w.h||(w.h=w.i())}function Fr(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pi(){F.call(this,"d")}m(Pi,F);function Ir(){F.call(this,"c")}m(Ir,F);var $t={},gr=null;function Yi(){return gr=gr||new it}$t.La="serverreachability";function Ln(w){F.call(this,$t.La,w)}m(Ln,F);function Ta(w){const R=Yi();ht(R,new Ln(R))}$t.STAT_EVENT="statevent";function Ci(w,R){F.call(this,$t.STAT_EVENT,w),this.stat=R}m(Ci,F);function Ot(w){const R=Yi();ht(R,new Ci(R,w))}$t.Ma="timingevent";function ei(w,R){F.call(this,$t.Ma,w),this.size=R}m(ei,F);function ra(w,R){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){w()},R)}function jn(){this.g=!0}jn.prototype.xa=function(){this.g=!1};function kn(w,R,W,ue,Ie,qe){w.info(function(){if(w.g)if(qe)for(var ft="",er=qe.split("&"),hr=0;hr<er.length;hr++){var tr=er[hr].split("=");if(1<tr.length){var Br=tr[0];tr=tr[1];var nn=Br.split("_");ft=2<=nn.length&&nn[1]=="type"?ft+(Br+"="+tr+"&"):ft+(Br+"=redacted&")}}else ft=null;else ft=qe;return"XMLHTTP REQ ("+ue+") [attempt "+Ie+"]: "+R+`
`+W+`
`+ft})}function wn(w,R,W,ue,Ie,qe,ft){w.info(function(){return"XMLHTTP RESP ("+ue+") [ attempt "+Ie+"]: "+R+`
`+W+`
`+qe+" "+ft})}function ie(w,R,W,ue){w.info(function(){return"XMLHTTP TEXT ("+R+"): "+me(w,W)+(ue?" "+ue:"")})}function be(w,R){w.info(function(){return"TIMEOUT: "+R})}jn.prototype.info=function(){};function me(w,R){if(!w.g)return R;if(!R)return null;try{var W=JSON.parse(R);if(W){for(w=0;w<W.length;w++)if(Array.isArray(W[w])){var ue=W[w];if(!(2>ue.length)){var Ie=ue[1];if(Array.isArray(Ie)&&!(1>Ie.length)){var qe=Ie[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var ft=1;ft<Ie.length;ft++)Ie[ft]=""}}}}return Rt(W)}catch{return R}}var ge={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},we;function Fe(){}m(Fe,Xt),Fe.prototype.g=function(){return new XMLHttpRequest},Fe.prototype.i=function(){return{}},we=new Fe;function He(w,R,W,ue){this.j=w,this.i=R,this.l=W,this.R=ue||1,this.U=new Ge(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $e}function $e(){this.i=null,this.g="",this.h=!1}var Ve={},We={};function ct(w,R,W){w.L=1,w.v=Hl(Oi(R)),w.m=W,w.P=!0,vt(w,null)}function vt(w,R){w.F=Date.now(),wt(w),w.A=Oi(w.v);var W=w.A,ue=w.R;Array.isArray(ue)||(ue=[String(ue)]),Gt(W.i,"t",ue),w.C=0,W=w.j.J,w.h=new $e,w.g=te(w.j,W?R:null,!w.m),0<w.O&&(w.M=new ve(h(w.Y,w,w.g),w.O)),R=w.U,W=w.g,ue=w.ca;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(Ye[0]=Ie.toString()),Ie=Ye);for(var qe=0;qe<Ie.length;qe++){var ft=ae(W,Ie[qe],ue||R.handleEvent,!1,R.h||R);if(!ft)break;R.g[ft.key]=ft}R=w.H?S(w.H):{},w.m?(w.u||(w.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,R)):(w.u="GET",w.g.ea(w.A,w.u,null,R)),Ta(),kn(w.i,w.u,w.A,w.l,w.R,w.m)}He.prototype.ca=function(w){w=w.target;const R=this.M;R&&pa(w)==3?R.j():this.Y(w)},He.prototype.Y=function(w){try{if(w==this.g)e:{const nn=pa(this.g);var R=this.g.Ba();const ko=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||wd(this.g)))){this.J||nn!=4||R==7||(R==8||0>=ko?Ta(3):Ta(2)),xr(this);var W=this.g.Z();this.X=W;t:if(Tt(this)){var ue=wd(this.g);w="";var Ie=ue.length,qe=pa(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Qr(this),br(this);var ft="";break t}this.h.i=new o.TextDecoder}for(R=0;R<Ie;R++)this.h.h=!0,w+=this.h.i.decode(ue[R],{stream:!(qe&&R==Ie-1)});ue.length=0,this.h.g+=w,this.C=0,ft=this.h.g}else ft=this.g.oa();if(this.o=W==200,wn(this.i,this.u,this.A,this.l,this.R,nn,W),this.o){if(this.T&&!this.K){t:{if(this.g){var er,hr=this.g;if((er=hr.g?hr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(er)){var tr=er;break t}}tr=null}if(W=tr)ie(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ni(this,W);else{this.o=!1,this.s=3,Ot(12),Qr(this),br(this);break e}}if(this.P){W=!0;let $a;for(;!this.J&&this.C<ft.length;)if($a=pt(this,ft),$a==We){nn==4&&(this.s=4,Ot(14),W=!1),ie(this.i,this.l,null,"[Incomplete Response]");break}else if($a==Ve){this.s=4,Ot(15),ie(this.i,this.l,ft,"[Invalid Chunk]"),W=!1;break}else ie(this.i,this.l,$a,null),Ni(this,$a);if(Tt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ft.length!=0||this.h.h||(this.s=1,Ot(16),W=!1),this.o=this.o&&W,!W)ie(this.i,this.l,ft,"[Invalid Chunked Response]"),Qr(this),br(this);else if(0<ft.length&&!this.W){this.W=!0;var Br=this.j;Br.g==this&&Br.ba&&!Br.M&&(Br.j.info("Great, no buffering proxy detected. Bytes received: "+ft.length),cu(Br),Br.M=!0,Ot(11))}}else ie(this.i,this.l,ft,null),Ni(this,ft);nn==4&&Qr(this),this.o&&!this.J&&(nn==4?fl(this.j,this):(this.o=!1,wt(this)))}else cl(this.g),W==400&&0<ft.indexOf("Unknown SID")?(this.s=3,Ot(12)):(this.s=0,Ot(13)),Qr(this),br(this)}}}catch{}finally{}};function Tt(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function pt(w,R){var W=w.C,ue=R.indexOf(`
`,W);return ue==-1?We:(W=Number(R.substring(W,ue)),isNaN(W)?Ve:(ue+=1,ue+W>R.length?We:(R=R.slice(ue,ue+W),w.C=ue+W,R)))}He.prototype.cancel=function(){this.J=!0,Qr(this)};function wt(w){w.S=Date.now()+w.I,Ut(w,w.I)}function Ut(w,R){if(w.B!=null)throw Error("WatchDog timer not null");w.B=ra(h(w.ba,w),R)}function xr(w){w.B&&(o.clearTimeout(w.B),w.B=null)}He.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(be(this.i,this.A),this.L!=2&&(Ta(),Ot(17)),Qr(this),this.s=2,br(this)):Ut(this,this.S-w)};function br(w){w.j.G==0||w.J||fl(w.j,w)}function Qr(w){xr(w);var R=w.M;R&&typeof R.ma=="function"&&R.ma(),w.M=null,Dt(w.U),w.g&&(R=w.g,w.g=null,R.abort(),R.ma())}function Ni(w,R){try{var W=w.j;if(W.G!=0&&(W.g==w||Ra(W.h,w))){if(!w.K&&Ra(W.h,w)&&W.G==3){try{var ue=W.Da.g.parse(R)}catch{ue=null}if(Array.isArray(ue)&&ue.length==3){var Ie=ue;if(Ie[0]==0){e:if(!W.u){if(W.g)if(W.g.F+3e3<w.F)Eo(W),iu(W);else break e;Ql(W),Ot(18)}}else W.za=Ie[1],0<W.za-W.T&&37500>Ie[2]&&W.F&&W.v==0&&!W.C&&(W.C=ra(h(W.Za,W),6e3));if(1>=ms(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else ti(W,11)}else if((w.K||W.g==w)&&Eo(W),!b(R))for(Ie=W.Da.g.parse(R),R=0;R<Ie.length;R++){let tr=Ie[R];if(W.T=tr[0],tr=tr[1],W.G==2)if(tr[0]=="c"){W.K=tr[1],W.ia=tr[2];const Br=tr[3];Br!=null&&(W.la=Br,W.j.info("VER="+W.la));const nn=tr[4];nn!=null&&(W.Aa=nn,W.j.info("SVER="+W.Aa));const ko=tr[5];ko!=null&&typeof ko=="number"&&0<ko&&(ue=1.5*ko,W.L=ue,W.j.info("backChannelRequestTimeoutMs_="+ue)),ue=W;const $a=w.g;if($a){const hl=$a.g?$a.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hl){var qe=ue.h;qe.g||hl.indexOf("spdy")==-1&&hl.indexOf("quic")==-1&&hl.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(dn(qe,qe.h),qe.h=null))}if(ue.D){const dl=$a.g?$a.g.getResponseHeader("X-HTTP-Session-Id"):null;dl&&(ue.ya=dl,Ur(ue.I,ue.D,dl))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-w.F,W.j.info("Handshake RTT: "+W.R+"ms")),ue=W;var ft=w;if(ue.qa=L(ue,ue.J?ue.ia:null,ue.W),ft.K){$f(ue.h,ft);var er=ft,hr=ue.L;hr&&(er.I=hr),er.B&&(xr(er),wt(er)),ue.g=ft}else lu(ue);0<W.i.length&&su(W)}else tr[0]!="stop"&&tr[0]!="close"||ti(W,7);else W.G==3&&(tr[0]=="stop"||tr[0]=="close"?tr[0]=="stop"?ti(W,7):To(W):tr[0]!="noop"&&W.l&&W.l.ta(tr),W.v=0)}}Ta(4)}catch{}}var bo=class{constructor(w,R){this.g=w,this.map=R}};function ps(w){this.l=w||10,o.PerformanceNavigationTiming?(w=o.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xi(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function ms(w){return w.h?1:w.g?w.g.size:0}function Ra(w,R){return w.h?w.h==R:w.g?w.g.has(R):!1}function dn(w,R){w.g?w.g.add(R):w.h=R}function $f(w,R){w.h&&w.h==R?w.h=null:w.g&&w.g.has(R)&&w.g.delete(R)}ps.prototype.cancel=function(){if(this.i=Bf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function Bf(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let R=w.i;for(const W of w.g.values())R=R.concat(W.D);return R}return p(w.i)}function md(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var R=[],W=w.length,ue=0;ue<W;ue++)R.push(w[ue]);return R}R=[],W=0;for(ue in w)R[W++]=w[ue];return R}function Vf(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var R=[];w=w.length;for(var W=0;W<w;W++)R.push(W);return R}R=[],W=0;for(const ue in w)R[W++]=ue;return R}}}function gd(w,R){if(w.forEach&&typeof w.forEach=="function")w.forEach(R,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,R,void 0);else for(var W=Vf(w),ue=md(w),Ie=ue.length,qe=0;qe<Ie;qe++)R.call(void 0,ue[qe],W&&W[qe],w)}var Qi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xc(w,R){if(w){w=w.split("&");for(var W=0;W<w.length;W++){var ue=w[W].indexOf("="),Ie=null;if(0<=ue){var qe=w[W].substring(0,ue);Ie=w[W].substring(ue+1)}else qe=w[W];R(qe,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Mn(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Mn){this.h=w.h,Wl(this,w.j),this.o=w.o,this.g=w.g,Qc(this,w.s),this.l=w.l;var R=w.i,W=new ol;W.i=R.i,R.g&&(W.g=new Map(R.g),W.h=R.h),Uf(this,W),this.m=w.m}else w&&(R=String(w).match(Qi))?(this.h=!1,Wl(this,R[1]||"",!0),this.o=Gl(R[2]||""),this.g=Gl(R[3]||"",!0),Qc(this,R[4]),this.l=Gl(R[5]||"",!0),Uf(this,R[6]||"",!0),this.m=Gl(R[7]||"")):(this.h=!1,this.i=new ol(null,this.h))}Mn.prototype.toString=function(){var w=[],R=this.j;R&&w.push(wo(R,vd,!0),":");var W=this.g;return(W||R=="file")&&(w.push("//"),(R=this.o)&&w.push(wo(R,vd,!0),"@"),w.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),W=this.s,W!=null&&w.push(":",String(W))),(W=this.l)&&(this.g&&W.charAt(0)!="/"&&w.push("/"),w.push(wo(W,W.charAt(0)=="/"?_o:im,!0))),(W=this.i.toString())&&w.push("?",W),(W=this.m)&&w.push("#",wo(W,Zc)),w.join("")};function Oi(w){return new Mn(w)}function Wl(w,R,W){w.j=W?Gl(R,!0):R,w.j&&(w.j=w.j.replace(/:$/,""))}function Qc(w,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);w.s=R}else w.s=null}function Uf(w,R,W){R instanceof ol?(w.i=R,sm(w.i,w.h)):(W||(R=wo(R,Jc)),w.i=new ol(R,w.h))}function Ur(w,R,W){w.i.set(R,W)}function Hl(w){return Ur(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function Gl(w,R){return w?R?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function wo(w,R,W){return typeof w=="string"?(w=encodeURI(w).replace(R,am),W&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function am(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var vd=/[#\/\?@]/g,im=/[#\?:]/g,_o=/[#\?]/g,Jc=/[#\?@]/g,Zc=/#/g;function ol(w,R){this.h=this.g=null,this.i=w||null,this.j=!!R}function pn(w){w.g||(w.g=new Map,w.h=0,w.i&&Xc(w.i,function(R,W){w.add(decodeURIComponent(R.replace(/\+/g," ")),W)}))}e=ol.prototype,e.add=function(w,R){pn(this),this.i=null,w=ll(this,w);var W=this.g.get(w);return W||this.g.set(w,W=[]),W.push(R),this.h+=1,this};function yd(w,R){pn(w),R=ll(w,R),w.g.has(R)&&(w.i=null,w.h-=w.g.get(R).length,w.g.delete(R))}function zf(w,R){return pn(w),R=ll(w,R),w.g.has(R)}e.forEach=function(w,R){pn(this),this.g.forEach(function(W,ue){W.forEach(function(Ie){w.call(R,Ie,ue,this)},this)},this)},e.na=function(){pn(this);const w=Array.from(this.g.values()),R=Array.from(this.g.keys()),W=[];for(let ue=0;ue<R.length;ue++){const Ie=w[ue];for(let qe=0;qe<Ie.length;qe++)W.push(R[ue])}return W},e.V=function(w){pn(this);let R=[];if(typeof w=="string")zf(this,w)&&(R=R.concat(this.g.get(ll(this,w))));else{w=Array.from(this.g.values());for(let W=0;W<w.length;W++)R=R.concat(w[W])}return R},e.set=function(w,R){return pn(this),this.i=null,w=ll(this,w),zf(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[R]),this.h+=1,this},e.get=function(w,R){return w?(w=this.V(w),0<w.length?String(w[0]):R):R};function Gt(w,R,W){yd(w,R),0<W.length&&(w.i=null,w.g.set(ll(w,R),p(W)),w.h+=W.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],R=Array.from(this.g.keys());for(var W=0;W<R.length;W++){var ue=R[W];const qe=encodeURIComponent(String(ue)),ft=this.V(ue);for(ue=0;ue<ft.length;ue++){var Ie=qe;ft[ue]!==""&&(Ie+="="+encodeURIComponent(String(ft[ue]))),w.push(Ie)}}return this.i=w.join("&")};function ll(w,R){return R=String(R),w.j&&(R=R.toLowerCase()),R}function sm(w,R){R&&!w.j&&(pn(w),w.i=null,w.g.forEach(function(W,ue){var Ie=ue.toLowerCase();ue!=Ie&&(yd(this,ue),Gt(this,Ie,W))},w)),w.j=R}function Bs(w,R){const W=new jn;if(o.Image){const ue=new Image;ue.onload=d(gs,W,"TestLoadImage: loaded",!0,R,ue),ue.onerror=d(gs,W,"TestLoadImage: error",!1,R,ue),ue.onabort=d(gs,W,"TestLoadImage: abort",!1,R,ue),ue.ontimeout=d(gs,W,"TestLoadImage: timeout",!1,R,ue),o.setTimeout(function(){ue.ontimeout&&ue.ontimeout()},1e4),ue.src=w}else R(!1)}function xd(w,R){const W=new jn,ue=new AbortController,Ie=setTimeout(()=>{ue.abort(),gs(W,"TestPingServer: timeout",!1,R)},1e4);fetch(w,{signal:ue.signal}).then(qe=>{clearTimeout(Ie),qe.ok?gs(W,"TestPingServer: ok",!0,R):gs(W,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(Ie),gs(W,"TestPingServer: error",!1,R)})}function gs(w,R,W,ue,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),ue(W)}catch{}}function eu(){this.g=new Xr}function qf(w,R,W){const ue=W||"";try{gd(w,function(Ie,qe){let ft=Ie;c(Ie)&&(ft=Rt(Ie)),R.push(ue+qe+"="+encodeURIComponent(ft))})}catch(Ie){throw R.push(ue+"type="+encodeURIComponent("_badmap")),Ie}}function tu(w){this.l=w.Ub||null,this.j=w.eb||!1}m(tu,Xt),tu.prototype.g=function(){return new ru(this.l,this.j)},tu.prototype.i=function(w){return function(){return w}}({});function ru(w,R){it.call(this),this.D=w,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}m(ru,it),e=ru.prototype,e.open=function(w,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=R,this.readyState=1,vs(this)},e.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(R.body=w),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,So(this)),this.readyState=0},e.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,vs(this)),this.g&&(this.readyState=3,vs(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bd(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function bd(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}e.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var R=w.value?w.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!w.done}))&&(this.response=this.responseText+=R)}w.done?So(this):vs(this),this.readyState==3&&bd(this)}},e.Ra=function(w){this.g&&(this.response=this.responseText=w,So(this))},e.Qa=function(w){this.g&&(this.response=w,So(this))},e.ga=function(){this.g&&So(this)};function So(w){w.readyState=4,w.l=null,w.j=null,w.v=null,vs(w)}e.setRequestHeader=function(w,R){this.u.append(w,R)},e.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],R=this.h.entries();for(var W=R.next();!W.done;)W=W.value,w.push(W[0]+": "+W[1]),W=R.next();return w.join(`\r
`)};function vs(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(ru.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Ao(w){let R="";return N(w,function(W,ue){R+=ue,R+=":",R+=W,R+=`\r
`}),R}function Wf(w,R,W){e:{for(ue in W){var ue=!1;break e}ue=!0}ue||(W=Ao(W),typeof w=="string"?W!=null&&encodeURIComponent(String(W)):Ur(w,R,W))}function $r(w){it.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}m($r,it);var Hf=/^https?$/i,nu=["POST","PUT"];e=$r.prototype,e.Ha=function(w){this.J=w},e.ea=function(w,R,W,ue){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);R=R?R.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():we.g(),this.v=this.o?ki(this.o):ki(we),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(w),!0),this.B=!1}catch(qe){Gf(this,qe);return}if(w=W||"",W=new Map(this.headers),ue)if(Object.getPrototypeOf(ue)===Object.prototype)for(var Ie in ue)W.set(Ie,ue[Ie]);else if(typeof ue.keys=="function"&&typeof ue.get=="function")for(const qe of ue.keys())W.set(qe,ue.get(qe));else throw Error("Unknown input type for opt_headers: "+String(ue));ue=Array.from(W.keys()).find(qe=>qe.toLowerCase()=="content-type"),Ie=o.FormData&&w instanceof o.FormData,!(0<=Array.prototype.indexOf.call(nu,R,void 0))||ue||Ie||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,ft]of W)this.g.setRequestHeader(qe,ft);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(w),this.u=!1}catch(qe){Gf(this,qe)}};function Gf(w,R){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=R,w.m=5,Kf(w),Kl(w)}function Kf(w){w.A||(w.A=!0,ht(w,"complete"),ht(w,"error"))}e.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,ht(this,"complete"),ht(this,"abort"),Kl(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kl(this,!0)),$r.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Yf(this):this.bb())},e.bb=function(){Yf(this)};function Yf(w){if(w.h&&typeof s<"u"&&(!w.v[1]||pa(w)!=4||w.Z()!=2)){if(w.u&&pa(w)==4)xt(w.Ea,0,w);else if(ht(w,"readystatechange"),pa(w)==4){w.h=!1;try{const ft=w.Z();e:switch(ft){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var W;if(!(W=R)){var ue;if(ue=ft===0){var Ie=String(w.D).match(Qi)[1]||null;!Ie&&o.self&&o.self.location&&(Ie=o.self.location.protocol.slice(0,-1)),ue=!Hf.test(Ie?Ie.toLowerCase():"")}W=ue}if(W)ht(w,"complete"),ht(w,"success");else{w.m=6;try{var qe=2<pa(w)?w.g.statusText:""}catch{qe=""}w.l=qe+" ["+w.Z()+"]",Kf(w)}}finally{Kl(w)}}}}function Kl(w,R){if(w.g){ys(w);const W=w.g,ue=w.v[0]?()=>{}:null;w.g=null,w.v=null,R||ht(w,"ready");try{W.onreadystatechange=ue}catch{}}}function ys(w){w.I&&(o.clearTimeout(w.I),w.I=null)}e.isActive=function(){return!!this.g};function pa(w){return w.g?w.g.readyState:0}e.Z=function(){try{return 2<pa(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(w){if(this.g){var R=this.g.responseText;return w&&R.indexOf(w)==0&&(R=R.substring(w.length)),lr(R)}};function wd(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function cl(w){const R={};w=(w.g&&2<=pa(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let ue=0;ue<w.length;ue++){if(b(w[ue]))continue;var W=E(w[ue]);const Ie=W[0];if(W=W[1],typeof W!="string")continue;W=W.trim();const qe=R[Ie]||[];R[Ie]=qe,qe.push(W)}T(R,function(ue){return ue.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Fa(w,R,W){return W&&W.internalChannelParams&&W.internalChannelParams[w]||R}function au(w){this.Aa=0,this.i=[],this.j=new jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Fa("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Fa("baseRetryDelayMs",5e3,w),this.cb=Fa("retryDelaySeedMs",1e4,w),this.Wa=Fa("forwardChannelMaxRetries",2,w),this.wa=Fa("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new ps(w&&w.concurrentRequestLimit),this.Da=new eu,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=au.prototype,e.la=8,e.G=1,e.connect=function(w,R,W,ue){Ot(0),this.W=w,this.H=R||{},W&&ue!==void 0&&(this.H.OSID=W,this.H.OAID=ue),this.F=this.X,this.I=L(this,null,this.W),su(this)};function To(w){if(Yl(w),w.G==3){var R=w.U++,W=Oi(w.I);if(Ur(W,"SID",w.K),Ur(W,"RID",R),Ur(W,"TYPE","terminate"),ul(w,W),R=new He(w,w.j,R),R.L=2,R.v=Hl(Oi(W)),W=!1,o.navigator&&o.navigator.sendBeacon)try{W=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!W&&o.Image&&(new Image().src=R.v,W=!0),W||(R.g=te(R.j,null),R.g.ea(R.v)),R.F=Date.now(),wt(R)}fu(w)}function iu(w){w.g&&(cu(w),w.g.cancel(),w.g=null)}function Yl(w){iu(w),w.u&&(o.clearTimeout(w.u),w.u=null),Eo(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&o.clearTimeout(w.s),w.s=null)}function su(w){if(!Xi(w.h)&&!w.s){w.s=!0;var R=w.Ga;J||ee(),z||(J(),z=!0),B.add(R,w),w.B=0}}function Xf(w,R){return ms(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=R.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=ra(h(w.Ga,w,R),uu(w,w.B)),w.B++,!0)}e.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Ie=new He(this,this.j,w);let qe=this.o;if(this.S&&(qe?(qe=S(qe),D(qe,this.S)):qe=this.S),this.m!==null||this.O||(Ie.H=qe,qe=null),this.P)e:{for(var R=0,W=0;W<this.i.length;W++){t:{var ue=this.i[W];if("__data__"in ue.map&&(ue=ue.map.__data__,typeof ue=="string")){ue=ue.length;break t}ue=void 0}if(ue===void 0)break;if(R+=ue,4096<R){R=W;break e}if(R===4096||W===this.i.length-1){R=W+1;break e}}R=1e3}else R=1e3;R=Xl(this,Ie,R),W=Oi(this.I),Ur(W,"RID",w),Ur(W,"CVER",22),this.D&&Ur(W,"X-HTTP-Session-Id",this.D),ul(this,W),qe&&(this.O?R="headers="+encodeURIComponent(String(Ao(qe)))+"&"+R:this.m&&Wf(W,this.m,qe)),dn(this.h,Ie),this.Ua&&Ur(W,"TYPE","init"),this.P?(Ur(W,"$req",R),Ur(W,"SID","null"),Ie.T=!0,ct(Ie,W,null)):ct(Ie,W,R),this.G=2}}else this.G==3&&(w?ou(this,w):this.i.length==0||Xi(this.h)||ou(this))};function ou(w,R){var W;R?W=R.l:W=w.U++;const ue=Oi(w.I);Ur(ue,"SID",w.K),Ur(ue,"RID",W),Ur(ue,"AID",w.T),ul(w,ue),w.m&&w.o&&Wf(ue,w.m,w.o),W=new He(w,w.j,W,w.B+1),w.m===null&&(W.H=w.o),R&&(w.i=R.D.concat(w.i)),R=Xl(w,W,1e3),W.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),dn(w.h,W),ct(W,ue,R)}function ul(w,R){w.H&&N(w.H,function(W,ue){Ur(R,ue,W)}),w.l&&gd({},function(W,ue){Ur(R,ue,W)})}function Xl(w,R,W){W=Math.min(w.i.length,W);var ue=w.l?h(w.l.Na,w.l,w):null;e:{var Ie=w.i;let qe=-1;for(;;){const ft=["count="+W];qe==-1?0<W?(qe=Ie[0].g,ft.push("ofs="+qe)):qe=0:ft.push("ofs="+qe);let er=!0;for(let hr=0;hr<W;hr++){let tr=Ie[hr].g;const Br=Ie[hr].map;if(tr-=qe,0>tr)qe=Math.max(0,Ie[hr].g-100),er=!1;else try{qf(Br,ft,"req"+tr+"_")}catch{ue&&ue(Br)}}if(er){ue=ft.join("&");break e}}}return w=w.i.splice(0,W),R.D=w,ue}function lu(w){if(!w.g&&!w.u){w.Y=1;var R=w.Fa;J||ee(),z||(J(),z=!0),B.add(R,w),w.v=0}}function Ql(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=ra(h(w.Fa,w),uu(w,w.v)),w.v++,!0)}e.Fa=function(){if(this.u=null,_d(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=ra(h(this.ab,this),w)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ot(10),iu(this),_d(this))};function cu(w){w.A!=null&&(o.clearTimeout(w.A),w.A=null)}function _d(w){w.g=new He(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var R=Oi(w.qa);Ur(R,"RID","rpc"),Ur(R,"SID",w.K),Ur(R,"AID",w.T),Ur(R,"CI",w.F?"0":"1"),!w.F&&w.ja&&Ur(R,"TO",w.ja),Ur(R,"TYPE","xmlhttp"),ul(w,R),w.m&&w.o&&Wf(R,w.m,w.o),w.L&&(w.g.I=w.L);var W=w.g;w=w.ia,W.L=1,W.v=Hl(Oi(R)),W.m=null,W.P=!0,vt(W,w)}e.Za=function(){this.C!=null&&(this.C=null,iu(this),Ql(this),Ot(19))};function Eo(w){w.C!=null&&(o.clearTimeout(w.C),w.C=null)}function fl(w,R){var W=null;if(w.g==R){Eo(w),cu(w),w.g=null;var ue=2}else if(Ra(w.h,R))W=R.D,$f(w.h,R),ue=1;else return;if(w.G!=0){if(R.o)if(ue==1){W=R.m?R.m.length:0,R=Date.now()-R.F;var Ie=w.B;ue=Yi(),ht(ue,new ei(ue,W)),su(w)}else lu(w);else if(Ie=R.s,Ie==3||Ie==0&&0<R.X||!(ue==1&&Xf(w,R)||ue==2&&Ql(w)))switch(W&&0<W.length&&(R=w.h,R.i=R.i.concat(W)),Ie){case 1:ti(w,5);break;case 4:ti(w,10);break;case 3:ti(w,6);break;default:ti(w,2)}}}function uu(w,R){let W=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(W*=2),W*R}function ti(w,R){if(w.j.info("Error code "+R),R==2){var W=h(w.fb,w),ue=w.Xa;const Ie=!ue;ue=new Mn(ue||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wl(ue,"https"),Hl(ue),Ie?Bs(ue.toString(),W):xd(ue.toString(),W)}else Ot(2);w.G=0,w.l&&w.l.sa(R),fu(w),Yl(w)}e.fb=function(w){w?(this.j.info("Successfully pinged google.com"),Ot(2)):(this.j.info("Failed to ping google.com"),Ot(1))};function fu(w){if(w.G=0,w.ka=[],w.l){const R=Bf(w.h);(R.length!=0||w.i.length!=0)&&(v(w.ka,R),v(w.ka,w.i),w.h.i.length=0,p(w.i),w.i.length=0),w.l.ra()}}function L(w,R,W){var ue=W instanceof Mn?Oi(W):new Mn(W);if(ue.g!="")R&&(ue.g=R+"."+ue.g),Qc(ue,ue.s);else{var Ie=o.location;ue=Ie.protocol,R=R?R+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;var qe=new Mn(null);ue&&Wl(qe,ue),R&&(qe.g=R),Ie&&Qc(qe,Ie),W&&(qe.l=W),ue=qe}return W=w.D,R=w.ya,W&&R&&Ur(ue,W,R),Ur(ue,"VER",w.la),ul(w,ue),ue}function te(w,R,W){if(R&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=w.Ca&&!w.pa?new $r(new tu({eb:W})):new $r(w.pa),R.Ha(w.J),R}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function _e(){}e=_e.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Te(){}Te.prototype.g=function(w,R){return new De(w,R)};function De(w,R){it.call(this),this.g=new au(R),this.l=w,this.h=R&&R.messageUrlParams||null,w=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(w?w["X-WebChannel-Content-Type"]=R.messageContentType:w={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(w?w["X-WebChannel-Client-Profile"]=R.va:w={"X-WebChannel-Client-Profile":R.va}),this.g.S=w,(w=R&&R.Sb)&&!b(w)&&(this.g.m=w),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,w=this.h,w!==null&&R in w&&(w=this.h,R in w&&delete w[R])),this.j=new At(this)}m(De,it),De.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},De.prototype.close=function(){To(this.g)},De.prototype.o=function(w){var R=this.g;if(typeof w=="string"){var W={};W.__data__=w,w=W}else this.u&&(W={},W.__data__=Rt(w),w=W);R.i.push(new bo(R.Ya++,w)),R.G==3&&su(R)},De.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,De.aa.N.call(this)};function Je(w){Pi.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var R=w.__sm__;if(R){e:{for(const W in R){w=W;break e}w=void 0}(this.i=w)&&(w=this.i,R=R!==null&&w in R?R[w]:void 0),this.data=R}else this.data=w}m(Je,Pi);function ut(){Ir.call(this),this.status=1}m(ut,Ir);function At(w){this.g=w}m(At,_e),At.prototype.ua=function(){ht(this.g,"a")},At.prototype.ta=function(w){ht(this.g,new Je(w))},At.prototype.sa=function(w){ht(this.g,new ut)},At.prototype.ra=function(){ht(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,De.prototype.send=De.prototype.o,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,n$=function(){return new Te},r$=function(){return Yi()},t$=$t,E4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ge.NO_ERROR=0,ge.TIMEOUT=8,ge.HTTP_ERROR=6,Ux=ge,xe.COMPLETE="complete",e$=xe,Fr.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",it.prototype.listen=it.prototype.K,Xm=Fr,$r.prototype.listenOnce=$r.prototype.L,$r.prototype.getLastError=$r.prototype.Ka,$r.prototype.getLastErrorCode=$r.prototype.Ba,$r.prototype.getStatus=$r.prototype.Z,$r.prototype.getResponseJson=$r.prototype.Oa,$r.prototype.getResponseText=$r.prototype.oa,$r.prototype.send=$r.prototype.ea,$r.prototype.setWithCredentials=$r.prototype.Ha,Z9=$r}).apply(typeof qy<"u"?qy:typeof self<"u"?self:typeof window<"u"?window:{});const gO="@firebase/firestore",vO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hi.UNAUTHENTICATED=new hi(null),hi.GOOGLE_CREDENTIALS=new hi("google-credentials-uid"),hi.FIRST_PARTY=new hi("first-party-uid"),hi.MOCK_USER=new hi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new H9("@firebase/firestore");function Wd(){return Vh.logLevel}function It(e,...t){if(Vh.logLevel<=_r.DEBUG){const r=t.map(ck);Vh.debug(`Firestore (${jp}): ${e}`,...r)}}function Oc(e,...t){if(Vh.logLevel<=_r.ERROR){const r=t.map(ck);Vh.error(`Firestore (${jp}): ${e}`,...r)}}function Y0(e,...t){if(Vh.logLevel<=_r.WARN){const r=t.map(ck);Vh.warn(`Firestore (${jp}): ${e}`,...r)}}function ck(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,a$(e,n,r)}function a$(e,t,r){let n=`FIRESTORE (${jp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Oc(n),new Error(n)}function Rr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||a$(t,a,n)}function Jt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class kt extends Lp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Zee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(hi.UNAUTHENTICATED))}shutdown(){}}class ete{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class tte{constructor(t){this.t=t,this.currentUser=hi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Rr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Pl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pl,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{It("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(It("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pl)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(It("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Rr(typeof n.accessToken=="string",31837,{l:n}),new i$(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Rr(t===null||typeof t=="string",2055,{h:t}),new hi(t)}}class rte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=hi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class nte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new rte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(hi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ate{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Rr(this.o===void 0,3512);const n=i=>{i.error!=null&&It("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,It("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{It("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):It("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new yO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Rr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new yO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=ite(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function ur(e,t){return e<t?-1:e>t?1:0}function k4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return ur(n,a);{const i=s$(),s=ste(i.encode(xO(e,r)),i.encode(xO(t,r)));return s!==0?s:ur(n,a)}}r+=n>65535?2:1}return ur(e.length,t.length)}function xO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function ste(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return ur(e[r],t[r]);return ur(e.length,t.length)}function X0(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=-62135596800,wO=1e6;class Qt{static now(){return Qt.fromMillis(Date.now())}static fromDate(t){return Qt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*wO);return new Qt(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new kt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new kt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<bO)throw new kt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new kt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wO}_compareTo(t){return this.seconds===t.seconds?ur(this.nanoseconds,t.nanoseconds):ur(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-bO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{static fromTimestamp(t){return new Zt(t)}static min(){return new Zt(new Qt(0,0))}static max(){return new Zt(new Qt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="__name__";class bl{constructor(t,r,n){r===void 0?r=0:r>t.length&&Ht(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&Ht(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return bl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof bl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=bl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return ur(t.length,r.length)}static compareSegments(t,r){const n=bl.isNumericId(t),a=bl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?bl.extractNumericId(t).compare(bl.extractNumericId(r)):k4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return of.fromString(t.substring(4,t.length-2))}}class yn extends bl{construct(t,r,n){return new yn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new kt(rt.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new yn(r)}static emptyPath(){return new yn([])}}const ote=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ga extends bl{construct(t,r,n){return new Ga(t,r,n)}static isValidIdentifier(t){return ote.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ga.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_O}static keyField(){return new Ga([_O])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new kt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new kt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new kt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new kt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ga(r)}static emptyPath(){return new Ga([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t){this.path=t}static fromPath(t){return new Bt(yn.fromString(t))}static fromName(t){return new Bt(yn.fromString(t).popFirst(5))}static empty(){return new Bt(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&yn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return yn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Bt(new yn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=-1;function lte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=Zt.fromTimestamp(n===1e9?new Qt(r+1,0):new Qt(r,n));return new pf(a,Bt.empty(),t)}function cte(e){return new pf(e.readTime,e.key,u1)}class pf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new pf(Zt.min(),Bt.empty(),u1)}static max(){return new pf(Zt.max(),Bt.empty(),u1)}}function ute(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Bt.comparator(e.documentKey,t.documentKey),r!==0?r:ur(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mp(e){if(e.code!==rt.FAILED_PRECONDITION||e.message!==fte)throw e;It("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&Ht(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new st((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof st?r:st.resolve(r)}catch(r){return st.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):st.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):st.reject(r)}static resolve(t){return new st((r,n)=>{r(t)})}static reject(t){return new st((r,n)=>{n(t)})}static waitFor(t){return new st((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=st.resolve(!1);for(const n of t)r=r.next(a=>a?st.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new st((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new st((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function dte(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Rp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}$w.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=-1;function Bw(e){return e==null}function $2(e){return e===0&&1/e==-1/0}function pte(e){return typeof e=="number"&&Number.isInteger(e)&&!$2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l$="";function mte(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=SO(t)),t=gte(e.get(r),t);return SO(t)}function gte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case l$:r+="";break;default:r+=i}}return r}function SO(e){return e+l$+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Cf(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function vte(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function c$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(t,r){this.comparator=t,this.root=r||Wa.EMPTY}insert(t,r){return new Dn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,Wa.BLACK,null,null))}remove(t){return new Dn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Wa.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Wy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Wy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Wy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Wy(this.root,t,this.comparator,!0)}}class Wy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Wa{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??Wa.RED,this.left=a??Wa.EMPTY,this.right=i??Wa.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new Wa(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Wa.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return Wa.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Wa.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Wa.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ht(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ht(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ht(27949);return t+(this.isRed()?0:1)}}Wa.EMPTY=null,Wa.RED=!0,Wa.BLACK=!1;Wa.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht(57766)}get value(){throw Ht(16141)}get color(){throw Ht(16727)}get left(){throw Ht(29726)}get right(){throw Ht(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new Wa(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a{constructor(t){this.comparator=t,this.data=new Dn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new TO(this.data.getIterator())}getIteratorFrom(t){return new TO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof _a)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new _a(this.comparator);return r.data=t,r}}class TO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(t){this.fields=t,t.sort(Ga.comparator)}static empty(){return new Ns([])}unionWith(t){let r=new _a(Ga.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Ns(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return X0(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u$ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new u$("Invalid base64 string: "+i):i}}(t);return new Za(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new Za(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ur(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Za.EMPTY_BYTE_STRING=new Za("");const yte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mf(e){if(Rr(!!e,39018),typeof e=="string"){let t=0;const r=yte.exec(e);if(Rr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Xn(e.seconds),nanos:Xn(e.nanos)}}function Xn(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function gf(e){return typeof e=="string"?Za.fromBase64String(e):Za.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$="server_timestamp",h$="__type__",d$="__previous_value__",p$="__local_write_time__";function fk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[h$])===null||r===void 0?void 0:r.stringValue)===f$}function Vw(e){const t=e.mapValue.fields[d$];return fk(t)?Vw(t):t}function f1(e){const t=mf(e.mapValue.fields[p$].timestampValue);return new Qt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const B2="(default)";class h1{constructor(t,r){this.projectId=t,this.database=r||B2}static empty(){return new h1("","")}get isDefaultDatabase(){return this.database===B2}isEqual(t){return t instanceof h1&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="__type__",g$="__max__",Hy={mapValue:{fields:{__type__:{stringValue:g$}}}},v$="__vector__",V2="value";function vf(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?fk(e)?4:wte(e)?9007199254740991:bte(e)?10:11:Ht(28295,{value:e})}function Rl(e,t){if(e===t)return!0;const r=vf(e);if(r!==vf(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return f1(e).isEqual(f1(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=mf(a.timestampValue),o=mf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return gf(a.bytesValue).isEqual(gf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return Xn(a.geoPointValue.latitude)===Xn(i.geoPointValue.latitude)&&Xn(a.geoPointValue.longitude)===Xn(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return Xn(a.integerValue)===Xn(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=Xn(a.doubleValue),o=Xn(i.doubleValue);return s===o?$2(s)===$2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return X0(e.arrayValue.values||[],t.arrayValue.values||[],Rl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(AO(s)!==AO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Rl(s[l],o[l])))return!1;return!0}(e,t);default:return Ht(52216,{left:e})}}function d1(e,t){return(e.values||[]).find(r=>Rl(r,t))!==void 0}function Q0(e,t){if(e===t)return 0;const r=vf(e),n=vf(t);if(r!==n)return ur(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ur(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=Xn(i.integerValue||i.doubleValue),l=Xn(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return EO(e.timestampValue,t.timestampValue);case 4:return EO(f1(e),f1(t));case 5:return k4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=gf(i),l=gf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=ur(o[c],l[c]);if(u!==0)return u}return ur(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=ur(Xn(i.latitude),Xn(s.latitude));return o!==0?o:ur(Xn(i.longitude),Xn(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return kO(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[V2])===null||o===void 0?void 0:o.arrayValue,m=(l=h[V2])===null||l===void 0?void 0:l.arrayValue,p=ur(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=m==null?void 0:m.values)===null||u===void 0?void 0:u.length)||0);return p!==0?p:kO(d,m)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Hy.mapValue&&s===Hy.mapValue)return 0;if(i===Hy.mapValue)return 1;if(s===Hy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=k4(l[f],u[f]);if(h!==0)return h;const d=Q0(o[l[f]],c[u[f]]);if(d!==0)return d}return ur(l.length,u.length)}(e.mapValue,t.mapValue);default:throw Ht(23264,{Pe:r})}}function EO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ur(e,t);const r=mf(e),n=mf(t),a=ur(r.seconds,n.seconds);return a!==0?a:ur(r.nanos,n.nanos)}function kO(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=Q0(r[a],n[a]);if(i)return i}return ur(r.length,n.length)}function J0(e){return P4(e)}function P4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=mf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return gf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Bt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=P4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${P4(r.fields[s])}`;return a+"}"}(e.mapValue):Ht(61005,{value:e})}function zx(e){switch(vf(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Vw(e);return t?16+zx(t):16;case 5:return 2*e.stringValue.length;case 6:return gf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+zx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Cf(n.fields,(i,s)=>{a+=i.length+zx(s)}),a}(e.mapValue);default:throw Ht(13486,{value:e})}}function PO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function C4(e){return!!e&&"integerValue"in e}function hk(e){return!!e&&"arrayValue"in e}function CO(e){return!!e&&"nullValue"in e}function NO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function qx(e){return!!e&&"mapValue"in e}function bte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[m$])===null||r===void 0?void 0:r.stringValue)===v$}function gg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Cf(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=gg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=gg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function wte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===g$}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t){this.value=t}static empty(){return new is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!qx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=gg(r)}setAll(t){let r=Ga.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=gg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());qx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Rl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];qx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Cf(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new is(gg(this.value))}}function y$(e){const t=[];return Cf(e.fields,(r,n)=>{const a=new Ga([r]);if(qx(n)){const i=y$(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Ns(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new mi(t,0,Zt.min(),Zt.min(),Zt.min(),is.empty(),0)}static newFoundDocument(t,r,n,a){return new mi(t,1,r,Zt.min(),n,a,0)}static newNoDocument(t,r){return new mi(t,2,r,Zt.min(),Zt.min(),is.empty(),0)}static newUnknownDocument(t,r){return new mi(t,3,r,Zt.min(),Zt.min(),is.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Zt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof mi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new mi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(t,r){this.position=t,this.inclusive=r}}function OO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Bt.comparator(Bt.fromName(s.referenceValue),r.key):n=Q0(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function IO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Rl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(t,r="asc"){this.field=t,this.dir=r}}function _te(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x${}class fa extends x${constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Ate(t,r,n):r==="array-contains"?new kte(t,n):r==="in"?new Pte(t,n):r==="not-in"?new Cte(t,n):r==="array-contains-any"?new Nte(t,n):new fa(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new Tte(t,n):new Ete(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Q0(r,this.value)):r!==null&&vf(this.value)===vf(r)&&this.matchesComparison(Q0(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ht(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nl extends x${constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new nl(t,r)}matches(t){return b$(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function b$(e){return e.op==="and"}function w$(e){return Ste(e)&&b$(e)}function Ste(e){for(const t of e.filters)if(t instanceof nl)return!1;return!0}function N4(e){if(e instanceof fa)return e.field.canonicalString()+e.op.toString()+J0(e.value);if(w$(e))return e.filters.map(t=>N4(t)).join(",");{const t=e.filters.map(r=>N4(r)).join(",");return`${e.op}(${t})`}}function _$(e,t){return e instanceof fa?function(n,a){return a instanceof fa&&n.op===a.op&&n.field.isEqual(a.field)&&Rl(n.value,a.value)}(e,t):e instanceof nl?function(n,a){return a instanceof nl&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&_$(s,a.filters[o]),!0):!1}(e,t):void Ht(19439)}function S$(e){return e instanceof fa?function(r){return`${r.field.canonicalString()} ${r.op} ${J0(r.value)}`}(e):e instanceof nl?function(r){return r.op.toString()+" {"+r.getFilters().map(S$).join(" ,")+"}"}(e):"Filter"}class Ate extends fa{constructor(t,r,n){super(t,r,n),this.key=Bt.fromName(n.referenceValue)}matches(t){const r=Bt.comparator(t.key,this.key);return this.matchesComparison(r)}}class Tte extends fa{constructor(t,r){super(t,"in",r),this.keys=A$("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Ete extends fa{constructor(t,r){super(t,"not-in",r),this.keys=A$("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function A$(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Bt.fromName(n.referenceValue))}class kte extends fa{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return hk(r)&&d1(r.arrayValue,this.value)}}class Pte extends fa{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&d1(this.value.arrayValue,r)}}class Cte extends fa{constructor(t,r){super(t,"not-in",r)}matches(t){if(d1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!d1(this.value.arrayValue,r)}}class Nte extends fa{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!hk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>d1(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function DO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Ote(e,t,r,n,a,i,s)}function dk(e){const t=Jt(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>N4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Bw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>J0(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>J0(n)).join(",")),t.Ie=r}return t.Ie}function pk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!_te(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!_$(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!IO(e.startAt,t.startAt)&&IO(e.endAt,t.endAt)}function O4(e){return Bt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Ite(e,t,r,n,a,i,s,o){return new Fp(e,t,r,n,a,i,s,o)}function mk(e){return new Fp(e)}function LO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function T$(e){return e.collectionGroup!==null}function vg(e){const t=Jt(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new _a(Ga.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new p1(i,n))}),r.has(Ga.keyField().canonicalString())||t.Ee.push(new p1(Ga.keyField(),n))}return t.Ee}function Cl(e){const t=Jt(e);return t.de||(t.de=E$(t,vg(e))),t.de}function Dte(e){const t=Jt(e);return t.Ae||(t.Ae=E$(t,e.explicitOrderBy)),t.Ae}function E$(e,t){if(e.limitType==="F")return DO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new p1(a.field,i)});const r=e.endAt?new U2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new U2(e.startAt.position,e.startAt.inclusive):null;return DO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function I4(e,t){const r=e.filters.concat([t]);return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function z2(e,t,r){return new Fp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Uw(e,t){return pk(Cl(e),Cl(t))&&e.limitType===t.limitType}function k$(e){return`${dk(Cl(e))}|lt:${e.limitType}`}function Hd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>S$(a)).join(", ")}]`),Bw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>J0(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>J0(a)).join(",")),`Target(${n})`}(Cl(e))}; limitType=${e.limitType})`}function zw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Bt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of vg(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=OO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,vg(n),a)||n.endAt&&!function(s,o,l){const c=OO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,vg(n),a))}(e,t)}function Lte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function P$(e){return(t,r)=>{let n=!1;for(const a of vg(e)){const i=jte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function jte(e,t,r){const n=e.field.isKeyField()?Bt.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?Q0(l,c):Ht(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return Ht(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Cf(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return c$(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mte=new Dn(Bt.comparator);function Ic(){return Mte}const C$=new Dn(Bt.comparator);function Qm(...e){let t=C$;for(const r of e)t=t.insert(r.key,r);return t}function N$(e){let t=C$;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function xh(){return yg()}function O$(){return yg()}function yg(){return new ed(e=>e.toString(),(e,t)=>e.isEqual(t))}const Rte=new Dn(Bt.comparator),Fte=new _a(Bt.comparator);function pr(...e){let t=Fte;for(const r of e)t=t.add(r);return t}const $te=new _a(ur);function Bte(){return $te}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$2(t)?"-0":t}}function I$(e){return{integerValue:""+e}}function Vte(e,t){return pte(t)?I$(t):gk(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(){this._=void 0}}function Ute(e,t,r){return e instanceof m1?function(a,i){const s={fields:{[h$]:{stringValue:f$},[p$]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&fk(i)&&(i=Vw(i)),i&&(s.fields[d$]=i),{mapValue:s}}(r,t):e instanceof g1?L$(e,t):e instanceof v1?j$(e,t):function(a,i){const s=D$(a,i),o=jO(s)+jO(a.Re);return C4(s)&&C4(a.Re)?I$(o):gk(a.serializer,o)}(e,t)}function zte(e,t,r){return e instanceof g1?L$(e,t):e instanceof v1?j$(e,t):r}function D$(e,t){return e instanceof q2?function(n){return C4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class m1 extends qw{}class g1 extends qw{constructor(t){super(),this.elements=t}}function L$(e,t){const r=M$(t);for(const n of e.elements)r.some(a=>Rl(a,n))||r.push(n);return{arrayValue:{values:r}}}class v1 extends qw{constructor(t){super(),this.elements=t}}function j$(e,t){let r=M$(t);for(const n of e.elements)r=r.filter(a=>!Rl(a,n));return{arrayValue:{values:r}}}class q2 extends qw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function jO(e){return Xn(e.integerValue||e.doubleValue)}function M$(e){return hk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qte{constructor(t,r){this.field=t,this.transform=r}}function Wte(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof g1&&a instanceof g1||n instanceof v1&&a instanceof v1?X0(n.elements,a.elements,Rl):n instanceof q2&&a instanceof q2?Rl(n.Re,a.Re):n instanceof m1&&a instanceof m1}(e.transform,t.transform)}class Hte{constructor(t,r){this.version=t,this.transformResults=r}}class zi{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new zi}static exists(t){return new zi(void 0,t)}static updateTime(t){return new zi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Wx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ww{}function R$(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Hw(e.key,zi.none()):new Tv(e.key,e.data,zi.none());{const r=e.data,n=is.empty();let a=new _a(Ga.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new Nf(e.key,n,new Ns(a.toArray()),zi.none())}}function Gte(e,t,r){e instanceof Tv?function(a,i,s){const o=a.value.clone(),l=RO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof Nf?function(a,i,s){if(!Wx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=RO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(F$(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function xg(e,t,r,n){return e instanceof Tv?function(i,s,o,l){if(!Wx(i.precondition,s))return o;const c=i.value.clone(),u=FO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof Nf?function(i,s,o,l){if(!Wx(i.precondition,s))return o;const c=FO(i.fieldTransforms,l,s),u=s.data;return u.setAll(F$(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return Wx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function Kte(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=D$(n.transform,a||null);i!=null&&(r===null&&(r=is.empty()),r.set(n.field,i))}return r||null}function MO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&X0(n,a,(i,s)=>Wte(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Tv extends Ww{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Nf extends Ww{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function F$(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function RO(e,t,r){const n=new Map;Rr(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,zte(s,o,r[a]))}return n}function FO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Ute(i,s,t))}return n}class Hw extends Ww{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Yte extends Ww{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xte{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&Gte(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=xg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=O$();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=R$(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(Zt.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),pr())}isEqual(t){return this.batchId===t.batchId&&X0(this.mutations,t.mutations,(r,n)=>MO(r,n))&&X0(this.baseMutations,t.baseMutations,(r,n)=>MO(r,n))}}class vk{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Rr(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Rte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new vk(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sa,wr;function ere(e){switch(e){case rt.OK:return Ht(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return Ht(15467,{code:e})}}function $$(e){if(e===void 0)return Oc("GRPC error has no .code"),rt.UNKNOWN;switch(e){case sa.OK:return rt.OK;case sa.CANCELLED:return rt.CANCELLED;case sa.UNKNOWN:return rt.UNKNOWN;case sa.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case sa.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case sa.INTERNAL:return rt.INTERNAL;case sa.UNAVAILABLE:return rt.UNAVAILABLE;case sa.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case sa.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case sa.NOT_FOUND:return rt.NOT_FOUND;case sa.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case sa.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case sa.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case sa.ABORTED:return rt.ABORTED;case sa.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case sa.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case sa.DATA_LOSS:return rt.DATA_LOSS;default:return Ht(39323,{code:e})}}(wr=sa||(sa={}))[wr.OK=0]="OK",wr[wr.CANCELLED=1]="CANCELLED",wr[wr.UNKNOWN=2]="UNKNOWN",wr[wr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wr[wr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wr[wr.NOT_FOUND=5]="NOT_FOUND",wr[wr.ALREADY_EXISTS=6]="ALREADY_EXISTS",wr[wr.PERMISSION_DENIED=7]="PERMISSION_DENIED",wr[wr.UNAUTHENTICATED=16]="UNAUTHENTICATED",wr[wr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wr[wr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wr[wr.ABORTED=10]="ABORTED",wr[wr.OUT_OF_RANGE=11]="OUT_OF_RANGE",wr[wr.UNIMPLEMENTED=12]="UNIMPLEMENTED",wr[wr.INTERNAL=13]="INTERNAL",wr[wr.UNAVAILABLE=14]="UNAVAILABLE",wr[wr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tre=new of([4294967295,4294967295],0);function $O(e){const t=s$().encode(e),r=new J9;return r.update(t),new Uint8Array(r.digest())}function BO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new of([r,n],0),new of([a,i],0)]}class yk{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Jm(`Invalid padding: ${r}`);if(n<0)throw new Jm(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new Jm(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new Jm(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=of.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(of.fromNumber(n)));return a.compare(tre)===1&&(a=new of([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=$O(t),[n,a]=BO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new yk(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=$O(t),[n,a]=BO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class Jm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,Ev.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new Gw(Zt.min(),a,new Dn(ur),Ic(),pr())}}class Ev{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new Ev(n,r,pr(),pr(),pr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class B${constructor(t,r){this.targetId=t,this.Ce=r}}class V${constructor(t,r,n=Za.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class VO{constructor(){this.Fe=0,this.Me=UO(),this.xe=Za.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=pr(),r=pr(),n=pr();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:Ht(38017,{changeType:i})}}),new Ev(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=UO()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Rr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class rre{constructor(t){this.ze=t,this.je=new Map,this.He=Ic(),this.Je=Gy(),this.Ye=Gy(),this.Ze=new Dn(ur)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:Ht(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if(O4(i))if(n===0){const s=new Bt(i.path);this.tt(r,s,mi.newNoDocument(s,Zt.min()))}else Rr(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=gf(n).toUint8Array()}catch(l){if(l instanceof u$)return Y0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new yk(s,a,i)}catch(l){return Y0(l instanceof Jm?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&O4(o.target)){const l=new Bt(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,mi.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=pr();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new Gw(t,r,this.Ze,this.He,n);return this.He=Ic(),this.Je=Gy(),this.Ye=Gy(),this.Ze=new Dn(ur),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new VO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new _a(ur),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new _a(ur),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||It("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new VO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function Gy(){return new Dn(Bt.comparator)}function UO(){return new Dn(Bt.comparator)}const nre={asc:"ASCENDING",desc:"DESCENDING"},are={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ire={and:"AND",or:"OR"};class sre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function D4(e,t){return e.useProto3Json||Bw(t)?t:{value:t}}function W2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function U$(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ore(e,t){return W2(e,t.toTimestamp())}function Nl(e){return Rr(!!e,49232),Zt.fromTimestamp(function(r){const n=mf(r);return new Qt(n.seconds,n.nanos)}(e))}function xk(e,t){return L4(e,t).canonicalString()}function L4(e,t){const r=function(a){return new yn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function z$(e){const t=yn.fromString(e);return Rr(Y$(t),10190,{key:t.toString()}),t}function j4(e,t){return xk(e.databaseId,t.path)}function Z_(e,t){const r=z$(t);if(r.get(1)!==e.databaseId.projectId)throw new kt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new kt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Bt(W$(r))}function q$(e,t){return xk(e.databaseId,t)}function lre(e){const t=z$(e);return t.length===4?yn.emptyPath():W$(t)}function M4(e){return new yn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function W$(e){return Rr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function zO(e,t,r){return{name:j4(e,t),fields:r.value.mapValue.fields}}function cre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Ht(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Rr(u===void 0||typeof u=="string",58123),Za.fromBase64String(u||"")):(Rr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Za.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?rt.UNKNOWN:$$(c.code);return new kt(u,c.message||"")}(s);r=new V$(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=Z_(e,n.document.name),i=Nl(n.document.updateTime),s=n.document.createTime?Nl(n.document.createTime):Zt.min(),o=new is({mapValue:{fields:n.document.fields}}),l=mi.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new Hx(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=Z_(e,n.document),i=n.readTime?Nl(n.readTime):Zt.min(),s=mi.newNoDocument(a,i),o=n.removedTargetIds||[];r=new Hx([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=Z_(e,n.document),i=n.removedTargetIds||[];r=new Hx([],i,a,null)}else{if(!("filter"in t))return Ht(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new Zte(a,i),o=n.targetId;r=new B$(o,s)}}return r}function ure(e,t){let r;if(t instanceof Tv)r={update:zO(e,t.key,t.value)};else if(t instanceof Hw)r={delete:j4(e,t.key)};else if(t instanceof Nf)r={update:zO(e,t.key,t.data),updateMask:xre(t.fieldMask)};else{if(!(t instanceof Yte))return Ht(16599,{ft:t.type});r={verify:j4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof m1)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof g1)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof v1)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof q2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw Ht(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:ore(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ht(27497)}(e,t.precondition)),r}function fre(e,t){return e&&e.length>0?(Rr(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?Nl(a.updateTime):Nl(i);return s.isEqual(Zt.min())&&(s=Nl(i)),new Hte(s,a.transformResults||[])}(r,t))):[]}function hre(e,t){return{documents:[q$(e,t.path)]}}function H$(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=q$(e,a);const i=function(c){if(c.length!==0)return K$(nl.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:ju(h.field),direction:gre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=D4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function dre(e,t,r,n){const{gt:a,parent:i}=H$(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:ju(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:ju(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function pre(e){let t=lre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Rr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=G$(f);return h instanceof nl&&w$(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(m){return new p1(Gd(m.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Bw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new U2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new U2(d,h)}(r.endAt)),Ite(t,a,s,i,o,"F",l,c)}function mre(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function G$(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Gd(r.unaryFilter.field);return fa.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Gd(r.unaryFilter.field);return fa.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Gd(r.unaryFilter.field);return fa.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gd(r.unaryFilter.field);return fa.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ht(61313);default:return Ht(60726)}}(e):e.fieldFilter!==void 0?function(r){return fa.create(Gd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ht(58110);default:return Ht(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return nl.create(r.compositeFilter.filters.map(n=>G$(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ht(1026)}}(r.compositeFilter.op))}(e):Ht(30097,{filter:e})}function gre(e){return nre[e]}function vre(e){return are[e]}function yre(e){return ire[e]}function ju(e){return{fieldPath:e.canonicalString()}}function Gd(e){return Ga.fromServerFormat(e.fieldPath)}function K$(e){return e instanceof fa?function(r){if(r.op==="=="){if(NO(r.value))return{unaryFilter:{field:ju(r.field),op:"IS_NAN"}};if(CO(r.value))return{unaryFilter:{field:ju(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(NO(r.value))return{unaryFilter:{field:ju(r.field),op:"IS_NOT_NAN"}};if(CO(r.value))return{unaryFilter:{field:ju(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ju(r.field),op:vre(r.op),value:r.value}}}(e):e instanceof nl?function(r){const n=r.getFilters().map(a=>K$(a));return n.length===1?n[0]:{compositeFilter:{op:yre(r.op),filters:n}}}(e):Ht(54877,{filter:e})}function xre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function Y$(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(t,r,n,a,i=Zt.min(),s=Zt.min(),o=Za.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Uu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Uu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(t){this.wt=t}}function wre(e){const t=pre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?z2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(){this.yn=new Sre}addToCollectionParentIndex(t,r){return this.yn.add(r),st.resolve()}getCollectionParents(t,r){return st.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return st.resolve()}deleteFieldIndex(t,r){return st.resolve()}deleteAllFieldIndexes(t){return st.resolve()}createTargetIndexes(t,r){return st.resolve()}getDocumentsMatchingTarget(t,r){return st.resolve(null)}getIndexType(t,r){return st.resolve(0)}getFieldIndexes(t,r){return st.resolve([])}getNextCollectionGroupToUpdate(t){return st.resolve(null)}getMinOffset(t,r){return st.resolve(pf.min())}getMinOffsetFromCollectionGroup(t,r){return st.resolve(pf.min())}updateCollectionGroup(t,r,n){return st.resolve()}updateIndexEntries(t,r){return st.resolve()}}class Sre{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new _a(yn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new _a(yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},X$=41943040;class ns{static withCacheSize(t){return new ns(t,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns.DEFAULT_COLLECTION_PERCENTILE=10,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ns.DEFAULT=new ns(X$,ns.DEFAULT_COLLECTION_PERCENTILE,ns.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ns.DISABLED=new ns(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new Z0(0)}static ir(){return new Z0(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="LruGarbageCollector",Are=1048576;function HO([e,t],[r,n]){const a=ur(e,r);return a===0?ur(t,n):a}class Tre{constructor(t){this.cr=t,this.buffer=new _a(HO),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();HO(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ere{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){It(WO,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Rp(r)?It(WO,"Ignoring IndexedDB error during garbage collection: ",r):await Mp(r)}await this.Ir(3e5)})}}class kre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return st.resolve($w.le);const n=new Tre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(It("LruGarbageCollector","Garbage collection skipped; disabled"),st.resolve(qO)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(It("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qO):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(It("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Wd()<=_r.DEBUG&&It("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),st.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Pre(e,t){return new kre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(){this.changes=new ed(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,mi.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?st.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&xg(n.mutation,a,Ns.empty(),Qt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,pr()).next(()=>n))}getLocalViewOfDocuments(t,r,n=pr()){const a=xh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=Qm();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=xh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,pr()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Ic();const s=yg(),o=function(){return yg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof Nf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),xg(u.mutation,c,u.mutation.getFieldMask(),Qt.now())):s.set(c.key,Ns.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new Nre(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=yg();let a=new Dn((s,o)=>s-o),i=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Ns.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||pr()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=O$();u.forEach(h=>{if(!i.has(h)){const d=R$(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return st.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Bt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):T$(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):st.resolve(xh());let o=u1,l=i;return s.next(c=>st.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?st.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,pr())).next(u=>({batchId:o,changes:N$(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Bt(r)).next(n=>{let a=Qm();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=Qm();return this.indexManager.getCollectionParents(t,i).next(o=>st.forEach(o,l=>{const c=function(f,h){return new Fp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,mi.newInvalidDocument(u)))});let o=Qm();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&xg(u.mutation,c,Ns.empty(),Qt.now()),zw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ire{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return st.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:Nl(a.createTime)}}(r)),st.resolve()}getNamedQuery(t,r){return st.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:wre(a.bundledQuery),readTime:Nl(a.readTime)}}(r)),st.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(){this.overlays=new Dn(Bt.comparator),this.Or=new Map}getOverlay(t,r){return st.resolve(this.overlays.get(r))}getOverlays(t,r){const n=xh();return st.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),st.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),st.resolve()}getOverlaysForCollection(t,r,n){const a=xh(),i=r.length+1,s=new Bt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return st.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new Dn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=xh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=xh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return st.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new Qte(r,n));let i=this.Or.get(r);i===void 0&&(i=pr(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(){this.sessionToken=Za.EMPTY_BYTE_STRING}getSessionToken(t){return st.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,st.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.Nr=new _a(Pa.Br),this.Lr=new _a(Pa.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new Pa(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new Pa(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Bt(new yn([])),n=new Pa(r,t),a=new Pa(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Bt(new yn([])),n=new Pa(r,t),a=new Pa(r,t+1);let i=pr();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new Pa(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class Pa{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Bt.comparator(t.key,r.key)||ur(t.Gr,r.Gr)}static kr(t,r){return ur(t.Gr,r.Gr)||Bt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new _a(Pa.Br)}checkEmpty(t){return st.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Xte(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new Pa(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return st.resolve(s)}lookupMutationBatch(t,r){return st.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return st.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return st.resolve(this.mutationQueue.length===0?uk:this.Jn-1)}getAllMutationBatches(t){return st.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new Pa(r,0),a=new Pa(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),st.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new _a(ur);return r.forEach(a=>{const i=new Pa(a,0),s=new Pa(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),st.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Bt.isDocumentKey(i)||(i=i.child(""));const s=new Pa(new Bt(i),0);let o=new _a(ur);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),st.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Rr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return st.forEach(r.mutations,a=>{const i=new Pa(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new Pa(r,0),a=this.zr.firstAfterOrEqual(n);return st.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,st.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{constructor(t){this.Zr=t,this.docs=function(){return new Dn(Bt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return st.resolve(n?n.document.mutableCopy():mi.newInvalidDocument(r))}getEntries(t,r){let n=Ic();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():mi.newInvalidDocument(a))}),st.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Ic();const s=r.path,o=new Bt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ute(cte(u),n)<=0||(a.has(u.key)||zw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return st.resolve(i)}getAllFromCollectionGroup(t,r,n,a){Ht(9500)}Xr(t,r){return st.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Rre(this)}getSize(t){return st.resolve(this.size)}}class Rre extends Cre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),st.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(t){this.persistence=t,this.ei=new ed(r=>dk(r),pk),this.lastRemoteSnapshotVersion=Zt.min(),this.highestTargetId=0,this.ti=0,this.ni=new bk,this.targetCount=0,this.ri=Z0.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),st.resolve()}getLastRemoteSnapshotVersion(t){return st.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return st.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),st.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),st.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new Z0(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,st.resolve()}updateTargetData(t,r){return this.ar(r),st.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,st.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),st.waitFor(i).next(()=>a)}getTargetCount(t){return st.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return st.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),st.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),st.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),st.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return st.resolve(n)}containsKey(t,r){return st.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(t,r){this.ii={},this.overlays={},this.si=new $w(0),this.oi=!1,this.oi=!0,this._i=new Lre,this.referenceDelegate=t(this),this.ai=new Fre(this),this.indexManager=new _re,this.remoteDocumentCache=function(a){return new Mre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new bre(r),this.ci=new Ire(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Dre,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new jre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){It("MemoryPersistence","Starting transaction:",t);const a=new $re(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return st.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class $re extends hte{constructor(t){super(),this.currentSequenceNumber=t}}class wk{constructor(t){this.persistence=t,this.Ti=new bk,this.Ii=null}static Ei(t){return new wk(t)}get di(){if(this.Ii)return this.Ii;throw Ht(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),st.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),st.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),st.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return st.forEach(this.di,n=>{const a=Bt.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,Zt.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return st.or([()=>st.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class H2{constructor(t,r){this.persistence=t,this.Ri=new ed(n=>mte(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Pre(this,r)}static Ei(t,r){return new H2(t,r)}li(){}hi(t){return st.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return st.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?st.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,Zt.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),st.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),st.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=zx(t.data.value)),r}gr(t,r,n){return st.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return st.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=pr(),a=pr();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new _k(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return DZ()?8:dte(OZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Bre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Wd()<=_r.DEBUG&&It("QueryEngine","SDK will not create cache indexes for query:",Hd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),st.resolve()):(Wd()<=_r.DEBUG&&It("QueryEngine","Query:",Hd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Wd()<=_r.DEBUG&&It("QueryEngine","The SDK decides to create cache indexes for query:",Hd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Cl(r))):st.resolve())}Rs(t,r){if(LO(r))return st.resolve(null);let n=Cl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=z2(r,null,"F"),n=Cl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=pr(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,z2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return LO(r)||a.isEqual(Zt.min())?st.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?st.resolve(null):(Wd()<=_r.DEBUG&&It("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Hd(r)),this.ws(t,s,r,lte(a,u1)).next(o=>o))})}ps(t,r){let n=new _a(P$(t));return r.forEach((a,i)=>{zw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Wd()<=_r.DEBUG&&It("QueryEngine","Using full collection scan to execute query:",Hd(r)),this.As.getDocumentsMatchingQuery(t,r,pf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk="LocalStore",Ure=3e8;class zre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new Dn(ur),this.Ds=new ed(i=>dk(i),pk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Ore(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function qre(e,t,r,n){return new zre(e,t,r,n)}async function J$(e,t){const r=Jt(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=pr();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function Wre(e,t){const r=Jt(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=st.resolve();return h.forEach(m=>{d=d.next(()=>u.getEntry(l,m)).next(p=>{const v=c.docVersions.get(m);Rr(v!==null,48541),p.version.compareTo(v)<0&&(f.applyToRemoteDocument(p,c),p.isValidDocument()&&(p.setReadTime(c.commitVersion),u.addEntry(p)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=pr();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function Z$(e){const t=Jt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function Hre(e,t){const r=Jt(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(Za.EMPTY_BYTE_STRING,Zt.min()).withLastLimboFreeSnapshotVersion(Zt.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(p,v,y){return p.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=Ure?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=Ic(),c=pr();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(Gre(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(Zt.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return st.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function Gre(e,t,r){let n=pr(),a=pr();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Ic();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(Zt.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):It(Sk,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function Kre(e,t){const r=Jt(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=uk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function Yre(e,t){const r=Jt(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,st.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Uu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function R4(e,t,r){const n=Jt(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!Rp(s))throw s;It(Sk,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function GO(e,t,r){const n=Jt(e);let a=Zt.min(),i=pr();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=Jt(l),h=f.Ds.get(u);return h!==void 0?st.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Cl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:Zt.min(),r?i:pr())).next(o=>(Xre(n,Lte(t),o),{documents:o,Ns:i})))}function Xre(e,t,r){let n=e.vs.get(t)||Zt.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class KO{constructor(){this.activeTargetIds=Bte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Qre{constructor(){this.So=new KO,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new KO,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jre{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YO="ConnectivityMonitor";class XO{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){It(YO,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){It(YO,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ky=null;function F4(){return Ky===null?Ky=function(){return 268435456+Math.round(2147483648*Math.random())}():Ky++,"0x"+Ky.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS="RestConnection",Zre={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ene{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===B2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=F4(),o=this.$o(t,r.toUriEncodedString());It(eS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=ok(c);return this.Ko(t,o,l,n,u).then(f=>(It(eS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw Y0(eS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=Zre[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ai="WebChannelConnection";class rne extends ene{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=F4();return new Promise((o,l)=>{const c=new Z9;c.setWithCredentials(!0),c.listenOnce(e$.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ux.NO_ERROR:const f=c.getResponseJson();It(ai,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Ux.TIMEOUT:It(ai,`RPC '${t}' ${s} timed out`),l(new kt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Ux.HTTP_ERROR:const h=c.getStatus();if(It(ai,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const m=d==null?void 0:d.error;if(m&&m.status&&m.message){const p=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(b)>=0?b:rt.UNKNOWN}(m.status);l(new kt(p,m.message))}else l(new kt(rt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new kt(rt.UNAVAILABLE,"Connection failed."));break;default:Ht(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{It(ai,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);It(ai,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=F4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=n$(),o=r$(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");It(ai,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const m=new tne({Go:v=>{d?It(ai,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(It(ai,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),It(ai,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),p=(v,y,b)=>{v.listen(y,_=>{try{b(_)}catch(O){setTimeout(()=>{throw O},0)}})};return p(f,Xm.EventType.OPEN,()=>{d||(It(ai,`RPC '${t}' stream ${a} transport opened.`),m.t_())}),p(f,Xm.EventType.CLOSE,()=>{d||(d=!0,It(ai,`RPC '${t}' stream ${a} transport closed`),m.r_())}),p(f,Xm.EventType.ERROR,v=>{d||(d=!0,Y0(ai,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),m.r_(new kt(rt.UNAVAILABLE,"The operation could not be completed")))}),p(f,Xm.EventType.MESSAGE,v=>{var y;if(!d){const b=v.data[0];Rr(!!b,16349);const _=b,O=(_==null?void 0:_.error)||((y=_[0])===null||y===void 0?void 0:y.error);if(O){It(ai,`RPC '${t}' stream ${a} received error:`,O);const C=O.status;let N=function(A){const D=sa[A];if(D!==void 0)return $$(D)}(C),T=O.message;N===void 0&&(N=rt.INTERNAL,T="Unknown error status: "+C+" with message "+O.message),d=!0,m.r_(new kt(N,T)),f.close()}else It(ai,`RPC '${t}' stream ${a} received:`,b),m.i_(b)}}),p(o,t$.STAT_EVENT,v=>{v.stat===E4.PROXY?It(ai,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===E4.NOPROXY&&It(ai,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{m.n_()},0),m}}function tS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(e){return new sre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&It("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="PersistentStream";class tB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new eB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===rt.RESOURCE_EXHAUSTED?(Oc(r.toString()),Oc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new kt(rt.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return It(QO,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(It(QO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nne extends tB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=cre(this.serializer,t),n=function(i){if(!("targetChange"in i))return Zt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Zt.min():s.readTime?Nl(s.readTime):Zt.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=M4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=O4(l)?{documents:hre(i,l)}:{query:H$(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=U$(i,s.resumeToken);const c=D4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(Zt.min())>0){o.readTime=W2(i,s.snapshotVersion.toTimestamp());const c=D4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=mre(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=M4(this.serializer),r.removeTarget=t,this.F_(r)}}class ane extends tB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Rr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Rr(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Rr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=fre(t.writeResults,t.commitTime),n=Nl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=M4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>ure(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ine{}class sne extends ine{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new kt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,L4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new kt(rt.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,L4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new kt(rt.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class one{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Oc(r),this.ea=!1):It("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh="RemoteStore";class lne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{td(this)&&(It(Uh,"Restarting streams for network reachability change."),await async function(l){const c=Jt(l);c.aa.add(4),await kv(c),c.la.set("Unknown"),c.aa.delete(4),await Yw(c)}(this))})}),this.la=new one(n,a)}}async function Yw(e){if(td(e))for(const t of e.ua)await t(!0)}async function kv(e){for(const t of e.ua)await t(!1)}function rB(e,t){const r=Jt(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),kk(r)?Ek(r):$p(r).b_()&&Tk(r,t))}function Ak(e,t){const r=Jt(e),n=$p(r);r._a.delete(t),n.b_()&&nB(r,t),r._a.size===0&&(n.b_()?n.v_():td(r)&&r.la.set("Unknown"))}function Tk(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Zt.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}$p(e).U_(t)}function nB(e,t){e.ha.Ke(t),$p(e).K_(t)}function Ek(e){e.ha=new rre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),$p(e).start(),e.la.ta()}function kk(e){return td(e)&&!$p(e).w_()&&e._a.size>0}function td(e){return Jt(e).aa.size===0}function aB(e){e.ha=void 0}async function cne(e){e.la.set("Online")}async function une(e){e._a.forEach((t,r)=>{Tk(e,t)})}async function fne(e,t){aB(e),kk(e)?(e.la.ia(t),Ek(e)):e.la.set("Unknown")}async function hne(e,t,r){if(e.la.set("Online"),t instanceof V$&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){It(Uh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await G2(e,n)}else if(t instanceof Hx?e.ha.Xe(t):t instanceof B$?e.ha.ot(t):e.ha.nt(t),!r.isEqual(Zt.min()))try{const n=await Z$(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(Za.EMPTY_BYTE_STRING,u.snapshotVersion)),nB(i,l);const f=new Uu(u.target,l,c,u.sequenceNumber);Tk(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){It(Uh,"Failed to raise snapshot:",n),await G2(e,n)}}async function G2(e,t,r){if(!Rp(t))throw t;e.aa.add(1),await kv(e),e.la.set("Offline"),r||(r=()=>Z$(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{It(Uh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await Yw(e)})}function iB(e,t){return t().catch(r=>G2(e,r,t))}async function Xw(e){const t=Jt(e),r=yf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:uk;for(;dne(t);)try{const a=await Kre(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,pne(t,a)}catch(a){await G2(t,a)}sB(t)&&oB(t)}function dne(e){return td(e)&&e.oa.length<10}function pne(e,t){e.oa.push(t);const r=yf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function sB(e){return td(e)&&!yf(e).w_()&&e.oa.length>0}function oB(e){yf(e).start()}async function mne(e){yf(e).H_()}async function gne(e){const t=yf(e);for(const r of e.oa)t.G_(r.mutations)}async function vne(e,t,r){const n=e.oa.shift(),a=vk.from(n,t,r);await iB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await Xw(e)}async function yne(e,t){t&&yf(e).W_&&await async function(n,a){if(function(s){return ere(s)&&s!==rt.ABORTED}(a.code)){const i=n.oa.shift();yf(n).D_(),await iB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await Xw(n)}}(e,t),sB(e)&&oB(e)}async function JO(e,t){const r=Jt(e);r.asyncQueue.verifyOperationInProgress(),It(Uh,"RemoteStore received new credentials");const n=td(r);r.aa.add(3),await kv(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await Yw(r)}async function xne(e,t){const r=Jt(e);t?(r.aa.delete(2),await Yw(r)):t||(r.aa.add(2),await kv(r),r.la.set("Unknown"))}function $p(e){return e.Pa||(e.Pa=function(r,n,a){const i=Jt(r);return i.Y_(),new nne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:cne.bind(null,e),Jo:une.bind(null,e),Zo:fne.bind(null,e),Q_:hne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),kk(e)?Ek(e):e.la.set("Unknown")):(await e.Pa.stop(),aB(e))})),e.Pa}function yf(e){return e.Ta||(e.Ta=function(r,n,a){const i=Jt(r);return i.Y_(),new ane(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:mne.bind(null,e),Zo:yne.bind(null,e),z_:gne.bind(null,e),j_:vne.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await Xw(e)):(await e.Ta.stop(),e.oa.length>0&&(It(Uh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Pl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new Pk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new kt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ck(e,t){if(Oc("AsyncQueue",`${t}: ${e}`),Rp(e))return new kt(rt.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{static emptySet(t){return new E0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Bt.comparator(r.key,n.key):(r,n)=>Bt.comparator(r.key,n.key),this.keyedMap=Qm(),this.sortedSet=new Dn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof E0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new E0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.Ia=new Dn(Bt.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):Ht(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class ep{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new ep(t,r,E0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Uw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class wne{constructor(){this.queries=eI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=Jt(r),i=a.queries;a.queries=eI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new kt(rt.ABORTED,"Firestore shutting down"))}}function eI(){return new ed(e=>k$(e),Uw)}async function lB(e,t){const r=Jt(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new bne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Ck(s,`Initialization of query '${Hd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Nk(r)}async function cB(e,t){const r=Jt(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function _ne(e,t){const r=Jt(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Nk(r)}function Sne(e,t,r){const n=Jt(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Nk(e){e.fa.forEach(t=>{t.next()})}var $4,tI;(tI=$4||($4={})).ya="default",tI.Cache="cache";class uB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new ep(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=ep.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==$4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fB{constructor(t){this.key=t}}class hB{constructor(t){this.key=t}}class Ane{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pr(),this.mutatedKeys=pr(),this.Ua=P$(t),this.Ka=new E0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new ZO,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=zw(this.query,f)?f:null,m=!!h&&this.mutatedKeys.has(h.key),p=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;h&&d?h.data.isEqual(d.data)?m!==p&&(n.track({type:3,doc:d}),v=!0):this.ja(h,d)||(n.track({type:2,doc:d}),v=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),v=!0):h&&!d&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(d?(s=s.add(d),i=p?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,m){const p=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht(20277,{Vt:v})}};return p(d)-p(m)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new ep(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new ZO,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=pr(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new hB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new fB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=pr();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return ep.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ok="SyncEngine";class Tne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Ene{constructor(t){this.key=t,this.tu=!1}}class kne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new ed(o=>k$(o),Uw),this.iu=new Map,this.su=new Set,this.ou=new Dn(Bt.comparator),this._u=new Map,this.au=new bk,this.uu={},this.cu=new Map,this.lu=Z0.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Pne(e,t,r=!0){const n=yB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await dB(n,t,r,!0),a}async function Cne(e,t){const r=yB(e);await dB(r,t,!0,!1)}async function dB(e,t,r,n){const a=await Yre(e.localStore,Cl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await Nne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&rB(e.remoteStore,a),o}async function Nne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(p,v,y,b){let _=v.view.Ga(y);_.ys&&(_=await GO(p.localStore,v.query,!1).then(({documents:T})=>v.view.Ga(T,_)));const O=b&&b.targetChanges.get(v.targetId),C=b&&b.targetMismatches.get(v.targetId)!=null,N=v.view.applyChanges(_,p.isPrimaryClient,O,C);return nI(p,v.targetId,N.Ya),N.snapshot}(e,f,h,d);const i=await GO(e.localStore,t,!0),s=new Ane(t,i.Ns),o=s.Ga(i.documents),l=Ev.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);nI(e,r,c.Ya);const u=new Tne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function One(e,t,r){const n=Jt(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Uw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await R4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Ak(n.remoteStore,a.targetId),B4(n,a.targetId)}).catch(Mp)):(B4(n,a.targetId),await R4(n.localStore,a.targetId,!0))}async function Ine(e,t){const r=Jt(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ak(r.remoteStore,n.targetId))}async function Dne(e,t,r){const n=Bne(e);try{const a=await function(s,o){const l=Jt(s),c=Qt.now(),u=o.reduce((d,m)=>d.add(m.key),pr());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let m=Ic(),p=pr();return l.Cs.getEntries(d,u).next(v=>{m=v,m.forEach((y,b)=>{b.isValidDocument()||(p=p.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,m)).next(v=>{f=v;const y=[];for(const b of o){const _=Kte(b,f.get(b.key).overlayedDocument);_!=null&&y.push(new Nf(b.key,_,y$(_.value.mapValue),zi.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,p);return l.documentOverlayCache.saveOverlays(d,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:N$(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new Dn(ur)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await Pv(n,a.changes),await Xw(n.remoteStore)}catch(a){const i=Ck(a,"Failed to persist write");r.reject(i)}}async function pB(e,t){const r=Jt(e);try{const n=await Hre(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Rr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Rr(s.tu,14607):a.removedDocuments.size>0&&(Rr(s.tu,42227),s.tu=!1))}),await Pv(r,n,t)}catch(n){await Mp(n)}}function rI(e,t,r){const n=Jt(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=Jt(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Nk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function Lne(e,t,r){const n=Jt(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new Dn(Bt.comparator);s=s.insert(i,mi.newNoDocument(i,Zt.min()));const o=pr().add(i),l=new Gw(Zt.min(),new Map,new Dn(ur),s,o);await pB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Ik(n)}else await R4(n.localStore,t,!1).then(()=>B4(n,t,r)).catch(Mp)}async function jne(e,t){const r=Jt(e),n=t.batch.batchId;try{const a=await Wre(r.localStore,t);gB(r,n,null),mB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Pv(r,a)}catch(a){await Mp(a)}}async function Mne(e,t,r){const n=Jt(e);try{const a=await function(s,o){const l=Jt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Rr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);gB(n,t,r),mB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await Pv(n,a)}catch(a){await Mp(a)}}function mB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function gB(e,t,r){const n=Jt(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function B4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||vB(e,n)})}function vB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Ak(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Ik(e))}function nI(e,t,r){for(const n of r)n instanceof fB?(e.au.addReference(n.key,t),Rne(e,n)):n instanceof hB?(It(Ok,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||vB(e,n.key)):Ht(19791,{Iu:n})}function Rne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(It(Ok,"New document in limbo: "+r),e.su.add(n),Ik(e))}function Ik(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Bt(yn.fromString(t)),n=e.lu.next();e._u.set(n,new Ene(r)),e.ou=e.ou.insert(r,n),rB(e.remoteStore,new Uu(Cl(mk(r.path)),n,"TargetPurposeLimboResolution",$w.le))}}async function Pv(e,t,r){const n=Jt(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=_k.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=Jt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>st.forEach(c,h=>st.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>st.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!Rp(f))throw f;It(Sk,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),m=d.snapshotVersion,p=d.withLastLimboFreeSnapshotVersion(m);u.Ss=u.Ss.insert(h,p)}}}(n.localStore,i))}async function Fne(e,t){const r=Jt(e);if(!r.currentUser.isEqual(t)){It(Ok,"User change. New user:",t.toKey());const n=await J$(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new kt(rt.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await Pv(r,n.Ms)}}function $ne(e,t){const r=Jt(e),n=r._u.get(t);if(n&&n.tu)return pr().add(n.key);{let a=pr();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function yB(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$ne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Lne.bind(null,t),t.nu.Q_=_ne.bind(null,t.eventManager),t.nu.Tu=Sne.bind(null,t.eventManager),t}function Bne(e){const t=Jt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=jne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Mne.bind(null,t),t}class K2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Kw(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return qre(this.persistence,new Vre,t.initialUser,this.serializer)}Ru(t){return new Q$(wk.Ei,this.serializer)}Au(t){return new Qre}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}K2.provider={build:()=>new K2};class Vne extends K2{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Rr(this.persistence.referenceDelegate instanceof H2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ere(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?ns.withCacheSize(this.cacheSizeBytes):ns.DEFAULT;return new Q$(n=>H2.Ei(n,r),this.serializer)}}class V4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Fne.bind(null,this.syncEngine),await xne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new wne}()}createDatastore(t){const r=Kw(t.databaseInfo.databaseId),n=function(i){return new rne(i)}(t.databaseInfo);return function(i,s,o,l){return new sne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new lne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>rI(this.syncEngine,r,0),function(){return XO.C()?new XO:new Jre}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new kne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=Jt(a);It(Uh,"RemoteStore shutting down."),i.aa.add(5),await kv(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}V4.provider={build:()=>new V4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):Oc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xf="FirestoreClient";class Une{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=hi.UNAUTHENTICATED,this.clientId=o$.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{It(xf,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(It(xf,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Ck(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function rS(e,t){e.asyncQueue.verifyOperationInProgress(),It(xf,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await J$(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function aI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await zne(e);It(xf,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>JO(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>JO(t.remoteStore,a)),e._onlineComponents=t}async function zne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){It(xf,"Using user provided OfflineComponentProvider");try{await rS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;Y0("Error using user provided cache. Falling back to memory cache: "+r),await rS(e,new K2)}}else It(xf,"Using default OfflineComponentProvider"),await rS(e,new Vne(void 0));return e._offlineComponents}async function Dk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(It(xf,"Using user provided OnlineComponentProvider"),await aI(e,e._uninitializedComponentsProvider._online)):(It(xf,"Using default OnlineComponentProvider"),await aI(e,new V4))),e._onlineComponents}function qne(e){return Dk(e).then(t=>t.syncEngine)}function Wne(e){return Dk(e).then(t=>t.datastore)}async function bB(e){const t=await Dk(e),r=t.eventManager;return r.onListen=Pne.bind(null,t.syncEngine),r.onUnlisten=One.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Cne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Ine.bind(null,t.syncEngine),r}function Hne(e,t,r={}){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new xB({next:h=>{u.yu(),s.enqueueAndForget(()=>cB(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new kt(rt.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new kt(rt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new uB(mk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return lB(i,f)}(await bB(e),e.asyncQueue,t,r,n)),n.promise}function Gne(e,t,r={}){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new xB({next:h=>{u.yu(),s.enqueueAndForget(()=>cB(i,f)),h.fromCache&&l.source==="server"?c.reject(new kt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new uB(o,u,{includeMetadataChanges:!0,Fa:!0});return lB(i,f)}(await bB(e),e.asyncQueue,t,r,n)),n.promise}function Kne(e,t,r){const n=new Pl;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await Wne(e);n.resolve(async function(s,o,l){var c;const u=Jt(s),{request:f,yt:h,parent:d}=dre(u.serializer,Dte(o),l);u.connection.Bo||delete f.parent;const m=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(v=>!!v.result);Rr(m.length===1,64727);const p=(c=m[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(p).reduce((v,y)=>(v[h[y]]=p[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _B(e,t,r){if(!r)throw new kt(rt.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Yne(e,t,r,n){if(t===!0&&n===!0)throw new kt(rt.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function sI(e){if(!Bt.isDocumentKey(e))throw new kt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function oI(e){if(Bt.isDocumentKey(e))throw new kt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Qw(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Ht(12329,{type:typeof e})}function js(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qw(e);throw new kt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function Xne(e,t){if(t<=0)throw new kt(rt.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SB="firestore.googleapis.com",lI=!0;class cI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new kt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SB,this.ssl=lI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:lI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=X$;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Are)throw new kt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Yne("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new kt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new kt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new kt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jw{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new kt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new kt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Zee;switch(n.type){case"firstParty":return new nte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new kt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,q9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=iI.get(r);n&&(It("ComponentProvider","Removing Datastore"),iI.delete(r),n.terminate())}(this),Promise.resolve()}}function Qne(e,t,r,n={}){var a;e=js(e,Jw);const i=ok(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==SB&&s.host!==l&&Y0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!M2(c,o)&&(e._setSettings(c),i&&(kZ(`https://${l}`),q9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=hi.MOCK_USER;else{u=PZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new kt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new hi(h)}e._authCredentials=new ete(new i$(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Of(this.firestore,t,this._query)}}class qi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qi(this.firestore,t,this._key)}}class lf extends Of{constructor(t,r,n){super(t,r,mk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qi(this.firestore,null,new Bt(t))}withConverter(t){return new lf(this.firestore,t,this._path)}}function Ct(e,t,...r){if(e=rl(e),_B("collection","path",t),e instanceof Jw){const n=yn.fromString(t,...r);return oI(n),new lf(e,null,n)}{if(!(e instanceof qi||e instanceof lf))throw new kt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return oI(n),new lf(e.firestore,null,n)}}function qn(e,t,...r){if(e=rl(e),arguments.length===1&&(t=o$.newId()),_B("doc","path",t),e instanceof Jw){const n=yn.fromString(t,...r);return sI(n),new qi(e,null,new Bt(n))}{if(!(e instanceof qi||e instanceof lf))throw new kt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(yn.fromString(t,...r));return sI(n),new qi(e.firestore,e instanceof lf?e.converter:null,new Bt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI="AsyncQueue";class fI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new eB(this,"async_queue_retry"),this.ju=()=>{const n=tS();n&&It(uI,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=tS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=tS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Pl;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!Rp(t))throw t;It(uI,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,Oc("INTERNAL UNHANDLED ERROR: ",hI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=Pk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&Ht(47125,{ec:hI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function hI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Wc extends Jw{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new fI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new fI(t),this._firestoreClient=void 0,await t}}}function Jne(e,t){const r=typeof e=="object"?e:Bee(),n=typeof e=="string"?e:B2,a=jee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=TZ("firestore");i&&Qne(a,...i)}return a}function Cv(e){if(e._terminated)throw new kt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Zne(e),e._firestoreClient}function Zne(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new xte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Une(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class tae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t){this._byteString=t}static fromBase64String(t){try{return new tp(Za.fromBase64String(t))}catch(r){throw new kt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new tp(Za.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new kt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ga(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new kt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new kt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ur(this._lat,t._lat)||ur(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rae=/^__.*__$/;class nae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new Nf(t,this.data,this.fieldMask,r,this.fieldTransforms):new Tv(t,this.data,r,this.fieldTransforms)}}class AB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new Nf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function TB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht(40011,{oc:e})}}class Mk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Mk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return Y2(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(TB(this.oc)&&rae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class aae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||Kw(t)}dc(t,r,n,a=!1){return new Mk({oc:t,methodName:r,Ec:n,path:Ga.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ov(e){const t=e._freezeSettings(),r=Kw(e._databaseId);return new aae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function Rk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);$k("Data must be an object, but it was:",s,n);const o=PB(n,s);let l,c;if(i.merge)l=new Ns(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=U4(t,f,r);if(!s.contains(h))throw new kt(rt.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);NB(u,h)||u.push(h)}l=new Ns(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new nae(new is(o),l,c)}class Iv extends Zw{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Iv}}class Fk extends Zw{_toFieldTransform(t){return new qte(t.path,new m1)}isEqual(t){return t instanceof Fk}}function EB(e,t,r,n){const a=e.dc(1,t,r);$k("Data must be an object, but it was:",a,n);const i=[],s=is.empty();Cf(n,(l,c)=>{const u=Bk(t,l,r);c=rl(c);const f=a.hc(u);if(c instanceof Iv)i.push(u);else{const h=Dv(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Ns(i);return new AB(s,o,a.fieldTransforms)}function kB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[U4(t,n,r)],l=[a];if(i.length%2!=0)throw new kt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(U4(t,i[h])),l.push(i[h+1]);const c=[],u=is.empty();for(let h=o.length-1;h>=0;--h)if(!NB(c,o[h])){const d=o[h];let m=l[h];m=rl(m);const p=s.hc(d);if(m instanceof Iv)c.push(d);else{const v=Dv(m,p);v!=null&&(c.push(d),u.set(d,v))}}const f=new Ns(c);return new AB(u,f,s.fieldTransforms)}function iae(e,t,r,n=!1){return Dv(r,e.dc(n?4:3,t))}function Dv(e,t){if(CB(e=rl(e)))return $k("Unsupported field value:",t,e),PB(e,t);if(e instanceof Zw)return function(n,a){if(!TB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=Dv(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=rl(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Vte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Qt.fromDate(n);return{timestampValue:W2(a.serializer,i)}}if(n instanceof Qt){const i=new Qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:W2(a.serializer,i)}}if(n instanceof Lk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof tp)return{bytesValue:U$(a.serializer,n._byteString)};if(n instanceof qi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:xk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof jk)return function(s,o){return{mapValue:{fields:{[m$]:{stringValue:v$},[V2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return gk(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${Qw(n)}`)}(e,t)}function PB(e,t){const r={};return c$(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Cf(e,(n,a)=>{const i=Dv(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function CB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Qt||e instanceof Lk||e instanceof tp||e instanceof qi||e instanceof Zw||e instanceof jk)}function $k(e,t,r){if(!CB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=Qw(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function U4(e,t,r){if((t=rl(t))instanceof Nv)return t._internalPath;if(typeof t=="string")return Bk(e,t);throw Y2("Field path arguments must be of type string or ",e,!1,void 0,r)}const sae=new RegExp("[~\\*/\\[\\]]");function Bk(e,t,r){if(t.search(sae)>=0)throw Y2(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new Nv(...t.split("."))._internalPath}catch{throw Y2(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function Y2(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new kt(rt.INVALID_ARGUMENT,o+e+l)}function NB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new oae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(e5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class oae extends OB{data(){return super.data()}}function e5(e,t){return typeof t=="string"?Bk(e,t):t instanceof Nv?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new kt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vk{}class Uk extends Vk{}function kr(e,t,...r){let n=[];t instanceof Vk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof zk).length,o=i.filter(l=>l instanceof t5).length;if(s>1||s>0&&o>0)throw new kt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class t5 extends Uk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new t5(t,r,n)}_apply(t){const r=this._parse(t);return IB(t._query,r),new Of(t.firestore,t.converter,I4(t._query,r))}_parse(t){const r=Ov(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new kt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){pI(f,u);const m=[];for(const p of f)m.push(dI(l,i,p));h={arrayValue:{values:m}}}else h=dI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||pI(f,u),h=iae(o,s,f,u==="in"||u==="not-in");return fa.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function Hr(e,t,r){const n=t,a=e5("where",e);return t5._create(a,n,r)}class zk extends Vk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new zk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:nl.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)IB(s,l),s=I4(s,l)}(t._query,r),new Of(t.firestore,t.converter,I4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qk extends Uk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new qk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new kt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new kt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new p1(i,s)}(t._query,this._field,this._direction);return new Of(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new Fp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function bi(e,t="asc"){const r=t,n=e5("orderBy",e);return qk._create(n,r)}class Wk extends Uk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new Wk(t,r,n)}_apply(t){return new Of(t.firestore,t.converter,z2(t._query,this._limit,this._limitType))}}function Gx(e){return Xne("limit",e),Wk._create("limit",e,"F")}function dI(e,t,r){if(typeof(r=rl(r))=="string"){if(r==="")throw new kt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!T$(t)&&r.indexOf("/")!==-1)throw new kt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(yn.fromString(r));if(!Bt.isDocumentKey(n))throw new kt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return PO(e,new Bt(n))}if(r instanceof qi)return PO(e,r._key);throw new kt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qw(r)}.`)}function pI(e,t){if(!Array.isArray(e)||e.length===0)throw new kt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function IB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new kt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new kt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class cae{convertValue(t,r="none"){switch(vf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xn(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(gf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw Ht(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Cf(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[V2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>Xn(s.doubleValue));return new jk(i)}convertGeoPoint(t){return new Lk(Xn(t.latitude),Xn(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Vw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(f1(t));default:return null}}convertTimestamp(t){const r=mf(t);return new Qt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=yn.fromString(t);Rr(Y$(n),9688,{name:t});const a=new h1(n.get(1),n.get(3)),i=new Bt(n.popFirst(5));return a.isEqual(r)||Oc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function uae(){return new eae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class DB extends OB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new Kx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(e5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Kx extends DB{data(t={}){return super.data(t)}}class fae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new Zm(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new Kx(this._firestore,this._userDataWriter,n.key,n,new Zm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new kt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new Kx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Zm(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new Kx(a._firestore,a._userDataWriter,o.doc.key,o.doc,new Zm(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:hae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function hae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(e){e=js(e,qi);const t=js(e.firestore,Wc);return Hne(Cv(t),e._key).then(r=>dae(t,e,r))}class Gk extends cae{constructor(t){super(),this.firestore=t}convertBytes(t){return new tp(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new qi(this.firestore,null,r)}}function Sr(e){e=js(e,Of);const t=js(e.firestore,Wc),r=Cv(t),n=new Gk(t);return lae(e._query),Gne(r,e._query).then(a=>new fae(t,n,e,a))}function Yy(e,t,r){e=js(e,qi);const n=js(e.firestore,Wc),a=Hk(e.converter,t,r);return Lv(n,[Rk(Ov(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,zi.none())])}function Sl(e,t,r,...n){e=js(e,qi);const a=js(e.firestore,Wc),i=Ov(a);let s;return s=typeof(t=rl(t))=="string"||t instanceof Nv?kB(i,"updateDoc",e._key,t,r,n):EB(i,"updateDoc",e._key,t),Lv(a,[s.toMutation(e._key,zi.exists(!0))])}function x1(e){return Lv(js(e.firestore,Wc),[new Hw(e._key,zi.none())])}function Lr(e,t){const r=js(e.firestore,Wc),n=qn(e),a=Hk(e.converter,t);return Lv(r,[Rk(Ov(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,zi.exists(!1))]).then(()=>n)}function Lv(e,t){return function(n,a){const i=new Pl;return n.asyncQueue.enqueueAndForget(async()=>Dne(await qne(n),a,i)),i.promise}(Cv(e),t)}function dae(e,t,r){const n=r.docs.get(t._key),a=new Gk(e);return new DB(e,a,t._key,n,new Zm(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(e){return pae(e,{count:uae()})}function pae(e,t){const r=js(e.firestore,Wc),n=Cv(r),a=vte(t,(i,s)=>new Jte(s,i.aggregateType,i._internalFieldPath));return Kne(n,e._query,a).then(i=>function(o,l,c){const u=new Gk(o);return new tae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Ov(t)}set(t,r,n){this._verifyNotCommitted();const a=nS(t,this._firestore),i=Hk(a.converter,r,n),s=Rk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,zi.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=nS(t,this._firestore);let s;return s=typeof(r=rl(r))=="string"||r instanceof Nv?kB(this._dataReader,"WriteBatch.update",i._key,r,n,a):EB(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,zi.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=nS(t,this._firestore);return this._mutations=this._mutations.concat(new Hw(r._key,zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new kt(rt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nS(e,t){if((e=rl(e)).firestore!==t)throw new kt(rt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return new Iv("deleteField")}function Xy(){return new Fk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gae(e){return Cv(e=js(e,Wc)),new mae(e,t=>Lv(e,t))}(function(t,r=!0){(function(a){jp=a})($ee),F2(new l1("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Wc(new tte(n.getProvider("auth-internal")),new ate(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new kt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new h1(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),T0(gO,vO,t),T0(gO,vO,"esm2017")})();const vae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},yae=Y9(vae),gt=Jne(yae),jB=Z.createContext(void 0),Ti=()=>{const e=Z.useContext(jB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},xae=({children:e})=>{const[t,r]=Z.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=Z.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await Sr(Ct(gt,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await Lr(Ct(gt,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(m){console.error("Error logging activity:",m)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),Lr(Ct(gt,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return g.jsx(jB.Provider,{value:o,children:e})},MB=Z.createContext(void 0),bae=({children:e})=>{const[t,r]=Z.useState(!0),n=()=>{r(!t)};return g.jsx(MB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},tn=()=>{const e=Z.useContext(MB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},Kk=Z.createContext({});function jv(e){const t=Z.useRef(null);return t.current===null&&(t.current=e()),t.current}const Yk=typeof window<"u",Xk=Yk?Z.useLayoutEffect:Z.useEffect,r5=Z.createContext(null);function Qk(e,t){e.indexOf(t)===-1&&e.push(t)}function n5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Dc=(e,t,r)=>r>t?t:r<e?e:r;let X2=()=>{};const Lc={},RB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function FB(e){return typeof e=="object"&&e!==null}const $B=e=>/^0[^.\s]+$/u.test(e);function Jk(e){let t;return()=>(t===void 0&&(t=e()),t)}const co=e=>e,wae=(e,t)=>r=>t(e(r)),Mv=(...e)=>e.reduce(wae),rp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Zk{constructor(){this.subscriptions=[]}add(t){return Qk(this.subscriptions,t),()=>n5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zo=e=>e*1e3,Ol=e=>e/1e3;function BB(e,t){return t?e*(1e3/t):0}const _ae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},VB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Sae=1e-7,Aae=12;function Tae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=VB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Sae&&++o<Aae);return s}function Rv(e,t,r,n){if(e===t&&r===n)return co;const a=i=>Tae(i,0,1,e,r);return i=>i===0||i===1?i:VB(a(i),t,n)}const UB=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,zB=e=>t=>1-e(1-t),qB=Rv(.33,1.53,.69,.99),eP=zB(qB),WB=UB(eP),HB=e=>(e*=2)<1?.5*eP(e):.5*(2-Math.pow(2,-10*(e-1))),tP=e=>1-Math.sin(Math.acos(e)),GB=zB(tP),KB=UB(tP),Eae=Rv(.42,0,1,1),kae=Rv(0,0,.58,1),YB=Rv(.42,0,.58,1),XB=e=>Array.isArray(e)&&typeof e[0]!="number";function QB(e,t){return XB(e)?e[_ae(0,e.length,t)]:e}const JB=e=>Array.isArray(e)&&typeof e[0]=="number",gI={linear:co,easeIn:Eae,easeInOut:YB,easeOut:kae,circIn:tP,circInOut:KB,circOut:GB,backIn:eP,backInOut:WB,backOut:qB,anticipate:HB},Pae=e=>typeof e=="string",vI=e=>{if(JB(e)){X2(e.length===4);const[t,r,n,a]=e;return Rv(t,r,n,a)}else if(Pae(e))return X2(gI[e]!==void 0),gI[e];return e},Qy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yI={value:null,addProjectionMetrics:null};function Cae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const p=d&&a?r:n;return h&&s.add(f),p.has(f)||p.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&yI.value&&yI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const Nae=40;function ZB(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=Qy.reduce((_,O)=>(_[O]=Cae(i,t?O:void 0),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:m}=s,p=()=>{const _=Lc.useManualTiming?a.timestamp:performance.now();r=!1,Lc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(_-a.timestamp,Nae),1)),a.timestamp=_,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),m.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(p))},v=()=>{r=!0,n=!0,a.isProcessing||e(p)};return{schedule:Qy.reduce((_,O)=>{const C=s[O];return _[O]=(N,T=!1,S=!1)=>(r||v(),C.schedule(N,T,S)),_},{}),cancel:_=>{for(let O=0;O<Qy.length;O++)s[Qy[O]].cancel(_)},state:a,steps:s}}const{schedule:En,cancel:jc,state:qa,steps:aS}=ZB(typeof requestAnimationFrame<"u"?requestAnimationFrame:co,!0);let Yx;function Oae(){Yx=void 0}const os={now:()=>(Yx===void 0&&os.set(qa.isProcessing||Lc.useManualTiming?qa.timestamp:performance.now()),Yx),set:e=>{Yx=e,queueMicrotask(Oae)}},eV=e=>t=>typeof t=="string"&&t.startsWith(e),rP=eV("--"),Iae=eV("var(--"),nP=e=>Iae(e)?Dae.test(e.split("/*")[0].trim()):!1,Dae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Bp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},b1={...Bp,transform:e=>Dc(0,1,e)},Jy={...Bp,default:1},bg=e=>Math.round(e*1e5)/1e5,aP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Lae(e){return e==null}const jae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iP=(e,t)=>r=>!!(typeof r=="string"&&jae.test(r)&&r.startsWith(e)||t&&!Lae(r)&&Object.prototype.hasOwnProperty.call(r,t)),tV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(aP);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Mae=e=>Dc(0,255,e),iS={...Bp,transform:e=>Math.round(Mae(e))},bh={test:iP("rgb","red"),parse:tV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+iS.transform(e)+", "+iS.transform(t)+", "+iS.transform(r)+", "+bg(b1.transform(n))+")"};function Rae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const z4={test:iP("#"),parse:Rae,transform:bh.transform},Fv=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Pu=Fv("deg"),Il=Fv("%"),Kt=Fv("px"),Fae=Fv("vh"),$ae=Fv("vw"),xI={...Il,parse:e=>Il.parse(e)/100,transform:e=>Il.transform(e*100)},c0={test:iP("hsl","hue"),parse:tV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Il.transform(bg(t))+", "+Il.transform(bg(r))+", "+bg(b1.transform(n))+")"},ui={test:e=>bh.test(e)||z4.test(e)||c0.test(e),parse:e=>bh.test(e)?bh.parse(e):c0.test(e)?c0.parse(e):z4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?bh.transform(e):c0.transform(e)},Bae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Vae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(aP))==null?void 0:t.length)||0)+(((r=e.match(Bae))==null?void 0:r.length)||0)>0}const rV="number",nV="color",Uae="var",zae="var(",bI="${}",qae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function w1(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(qae,l=>(ui.test(l)?(n.color.push(i),a.push(nV),r.push(ui.parse(l))):l.startsWith(zae)?(n.var.push(i),a.push(Uae),r.push(l)):(n.number.push(i),a.push(rV),r.push(parseFloat(l))),++i,bI)).split(bI);return{values:r,split:o,indexes:n,types:a}}function aV(e){return w1(e).values}function iV(e){const{split:t,types:r}=w1(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===rV?i+=bg(a[s]):o===nV?i+=ui.transform(a[s]):i+=a[s]}return i}}const Wae=e=>typeof e=="number"?0:e;function Hae(e){const t=aV(e);return iV(e)(t.map(Wae))}const bf={test:Vae,parse:aV,createTransformer:iV,getAnimatableNone:Hae};function sS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function Gae({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=sS(l,o,e+1/3),i=sS(l,o,e),s=sS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function Q2(e,t){return r=>r>0?t:e}const An=(e,t,r)=>e+(t-e)*r,oS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},Kae=[z4,bh,c0],Yae=e=>Kae.find(t=>t.test(e));function wI(e){const t=Yae(e);if(!t)return!1;let r=t.parse(e);return t===c0&&(r=Gae(r)),r}const _I=(e,t)=>{const r=wI(e),n=wI(t);if(!r||!n)return Q2(e,t);const a={...r};return i=>(a.red=oS(r.red,n.red,i),a.green=oS(r.green,n.green,i),a.blue=oS(r.blue,n.blue,i),a.alpha=An(r.alpha,n.alpha,i),bh.transform(a))},q4=new Set(["none","hidden"]);function Xae(e,t){return q4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function Qae(e,t){return r=>An(e,t,r)}function sP(e){return typeof e=="number"?Qae:typeof e=="string"?nP(e)?Q2:ui.test(e)?_I:eie:Array.isArray(e)?sV:typeof e=="object"?ui.test(e)?_I:Jae:Q2}function sV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>sP(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function Jae(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=sP(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function Zae(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const eie=(e,t)=>{const r=bf.createTransformer(t),n=w1(e),a=w1(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?q4.has(e)&&!a.values.length||q4.has(t)&&!n.values.length?Xae(e,t):Mv(sV(Zae(n,a),a.values),r):Q2(e,t)};function oV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?An(e,t,r):sP(e)(e,t)}const tie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>En.update(t,r),stop:()=>jc(t),now:()=>qa.isProcessing?qa.timestamp:os.now()}},lV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},J2=2e4;function oP(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<J2;)t+=r,n=e.next(t);return t>=J2?1/0:t}function cV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(oP(n),J2);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ol(a)}}const rie=5;function uV(e,t,r){const n=Math.max(t-rie,0);return BB(r-e(n),t-n)}const Bn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lS=.001;function nie({duration:e=Bn.duration,bounce:t=Bn.bounce,velocity:r=Bn.velocity,mass:n=Bn.mass}){let a,i,s=1-t;s=Dc(Bn.minDamping,Bn.maxDamping,s),e=Dc(Bn.minDuration,Bn.maxDuration,Ol(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=W4(c,s),m=Math.exp(-f);return lS-h/d*m},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,m=Math.exp(-f),p=W4(Math.pow(c,2),s);return(-a(c)+lS>0?-1:1)*((h-d)*m)/p}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-lS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=iie(a,i,o);if(e=Zo(e),isNaN(l))return{stiffness:Bn.stiffness,damping:Bn.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const aie=12;function iie(e,t,r){let n=r;for(let a=1;a<aie;a++)n=n-e(n)/t(n);return n}function W4(e,t){return e*Math.sqrt(1-t*t)}const sie=["duration","bounce"],oie=["stiffness","damping","mass"];function SI(e,t){return t.some(r=>e[r]!==void 0)}function lie(e){let t={velocity:Bn.velocity,stiffness:Bn.stiffness,damping:Bn.damping,mass:Bn.mass,isResolvedFromDuration:!1,...e};if(!SI(e,oie)&&SI(e,sie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Dc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Bn.mass,stiffness:a,damping:i}}else{const r=nie(e);t={...t,...r,mass:Bn.mass},t.isResolvedFromDuration=!0}return t}function _1(e=Bn.visualDuration,t=Bn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=lie({...r,velocity:-Ol(r.velocity||0)}),m=h||0,p=c/(2*Math.sqrt(l*u)),v=s-i,y=Ol(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?Bn.restSpeed.granular:Bn.restSpeed.default),a||(a=b?Bn.restDelta.granular:Bn.restDelta.default);let _;if(p<1){const C=W4(y,p);_=N=>{const T=Math.exp(-p*y*N);return s-T*((m+p*y*v)/C*Math.sin(C*N)+v*Math.cos(C*N))}}else if(p===1)_=C=>s-Math.exp(-y*C)*(v+(m+y*v)*C);else{const C=y*Math.sqrt(p*p-1);_=N=>{const T=Math.exp(-p*y*N),S=Math.min(C*N,300);return s-T*((m+p*y*v)*Math.sinh(S)+C*v*Math.cosh(S))/C}}const O={calculatedDuration:d&&f||null,next:C=>{const N=_(C);if(d)o.done=C>=f;else{let T=C===0?m:0;p<1&&(T=C===0?Zo(m):uV(_,C,N));const S=Math.abs(T)<=n,A=Math.abs(s-N)<=a;o.done=S&&A}return o.value=o.done?s:N,o},toString:()=>{const C=Math.min(oP(O),J2),N=lV(T=>O.next(C*T).value,C,30);return C+"ms "+N},toTransition:()=>{}};return O}_1.applyToOptions=e=>{const t=cV(e,100,_1);return e.ease=t.ease,e.duration=Zo(t.duration),e.type="keyframes",e};function H4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=S=>o!==void 0&&S<o||l!==void 0&&S>l,m=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let p=r*t;const v=f+p,y=s===void 0?v:s(v);y!==v&&(p=y-f);const b=S=>-p*Math.exp(-S/n),_=S=>y+b(S),O=S=>{const A=b(S),D=_(S);h.done=Math.abs(A)<=c,h.value=h.done?y:D};let C,N;const T=S=>{d(h.value)&&(C=S,N=_1({keyframes:[h.value,m(h.value)],velocity:uV(_,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:S=>{let A=!1;return!N&&C===void 0&&(A=!0,O(S),T(S)),C!==void 0&&S>=C?N.next(S-C):(!A&&O(S),h)}}}function cie(e,t,r){const n=[],a=r||Lc.mix||oV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||co:t;o=Mv(l,o)}n.push(o)}return n}function fV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(X2(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=cie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=rp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Dc(e[0],e[i-1],u)):c}function hV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=rp(0,t,n);e.push(An(r,1,a))}}function dV(e){const t=[0];return hV(t,e.length-1),t}function uie(e,t){return e.map(r=>r*t)}function fie(e,t){return e.map(()=>t||YB).splice(0,e.length-1)}function wg({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=XB(n)?n.map(vI):vI(n),i={done:!1,value:t[0]},s=uie(r&&r.length===t.length?r:dV(t),e),o=fV(s,t,{ease:Array.isArray(a)?a:fie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const hie=e=>e!==null;function lP(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(hie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const die={decay:H4,inertia:H4,tween:wg,keyframes:wg,spring:_1};function pV(e){typeof e.type=="string"&&(e.type=die[e.type])}class cP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const pie=e=>e/100;class uP extends cP{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==os.now()&&this.tick(os.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;pV(t);const{type:r=wg,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||wg;l!==wg&&typeof o[0]!="number"&&(this.mixKeyframes=Mv(pie,oV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=oP(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:m,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let _=this.currentTime,O=n;if(f){const S=Math.min(this.currentTime,a)/o;let A=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(D=1-D,d&&(D-=d/o)):h==="mirror"&&(O=s)),_=Dc(0,1,D)*o}const C=b?{done:!1,value:u[0]}:O.next(_);i&&(C.value=i(C.value));let{done:N}=C;!b&&l!==null&&(N=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return T&&m!==H4&&(C.value=lP(u,this.options,v,this.speed)),p&&p(C.value),T&&this.finish(),C}then(t,r){return this.finished.then(t,r)}get duration(){return Ol(this.calculatedDuration)}get time(){return Ol(this.currentTime)}set time(t){var r;t=Zo(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(os.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ol(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=tie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(os.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function mie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const wh=e=>e*180/Math.PI,G4=e=>{const t=wh(Math.atan2(e[1],e[0]));return K4(t)},gie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:G4,rotateZ:G4,skewX:e=>wh(Math.atan(e[1])),skewY:e=>wh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},K4=e=>(e=e%360,e<0&&(e+=360),e),AI=G4,TI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),EI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),vie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:TI,scaleY:EI,scale:e=>(TI(e)+EI(e))/2,rotateX:e=>K4(wh(Math.atan2(e[6],e[5]))),rotateY:e=>K4(wh(Math.atan2(-e[2],e[0]))),rotateZ:AI,rotate:AI,skewX:e=>wh(Math.atan(e[4])),skewY:e=>wh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Y4(e){return e.includes("scale")?1:0}function X4(e,t){if(!e||e==="none")return Y4(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=vie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=gie,a=o}if(!a)return Y4(t);const i=n[t],s=a[1].split(",").map(xie);return typeof i=="function"?i(s):s[i]}const yie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return X4(r,t)};function xie(e){return parseFloat(e.trim())}const Vp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Up=new Set(Vp),kI=e=>e===Bp||e===Kt,bie=new Set(["x","y","z"]),wie=Vp.filter(e=>!bie.has(e));function _ie(e){const t=[];return wie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Ch={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>X4(t,"x"),y:(e,{transform:t})=>X4(t,"y")};Ch.translateX=Ch.x;Ch.translateY=Ch.y;const Nh=new Set;let Q4=!1,J4=!1,Z4=!1;function mV(){if(J4){const e=Array.from(Nh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=_ie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}J4=!1,Q4=!1,Nh.forEach(e=>e.complete(Z4)),Nh.clear()}function gV(){Nh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(J4=!0)})}function Sie(){Z4=!0,gV(),mV(),Z4=!1}class fP{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Nh.add(this),Q4||(Q4=!0,En.read(gV),En.resolveKeyframes(mV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}mie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Nh.delete(this)}cancel(){this.state==="scheduled"&&(Nh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Aie=e=>e.startsWith("--");function Tie(e,t,r){Aie(t)?e.style.setProperty(t,r):e.style[t]=r}const Eie=Jk(()=>window.ScrollTimeline!==void 0),kie={};function Pie(e,t){const r=Jk(e);return()=>kie[t]??r()}const vV=Pie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),eg=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,PI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:eg([0,.65,.55,1]),circOut:eg([.55,0,1,.45]),backIn:eg([.31,.01,.66,-.59]),backOut:eg([.33,1.53,.69,.99])};function yV(e,t){if(e)return typeof e=="function"?vV()?lV(e,t):"ease-out":JB(e)?eg(e):Array.isArray(e)?e.map(r=>yV(r,t)||PI.easeOut):PI[e]}function Cie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=yV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function hP(e){return typeof e=="function"&&"applyToOptions"in e}function Nie({type:e,...t}){return hP(e)&&vV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Oie extends cP{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,X2(typeof t.type!="string");const c=Nie(t);this.animation=Cie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=lP(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Tie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ol(Number(t))}get time(){return Ol(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Zo(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Eie()?(this.animation.timeline=t,co):r(this)}}const xV={anticipate:HB,backInOut:WB,circInOut:KB};function Iie(e){return e in xV}function Die(e){typeof e.ease=="string"&&Iie(e.ease)&&(e.ease=xV[e.ease])}const CI=10;class Lie extends Oie{constructor(t){Die(t),pV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new uP({...s,autoplay:!1}),l=Zo(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-CI).value,o.sample(l).value,CI),o.stop()}}const NI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(bf.test(e)||e==="0")&&!e.startsWith("url("));function jie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Mie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=NI(a,t),o=NI(i,t);return!s||!o?!1:jie(e)||(r==="spring"||hP(r))&&n}function dP(e){return FB(e)&&"offsetHeight"in e}const Rie=new Set(["opacity","clipPath","filter","transform"]),Fie=Jk(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $ie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!dP((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Fie()&&r&&Rie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Bie=40;class Vie extends cP{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var m;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=os.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||fP;this.keyframeResolver=new d(o,(p,v,y)=>this.onKeyframesResolved(p,v,h,!y),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=os.now(),Mie(t,i,s,o)||((Lc.instantAnimations||!l)&&(u==null||u(lP(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Bie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&$ie(h)?new Lie({...h,element:h.motionValue.owner.current}):new uP(h);d.finished.then(()=>this.notifyFinished()).catch(co),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Sie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Uie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zie extends Uie{then(t,r){return this.finished.finally(t).then(()=>{})}}const qie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wie(e){const t=qie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function bV(e,t,r=1){const[n,a]=Wie(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return RB(s)?parseFloat(s):s}return nP(a)?bV(a,t,r+1):a}function pP(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const wV=new Set(["width","height","top","left","right","bottom",...Vp]),Hie={test:e=>e==="auto",parse:e=>e},_V=e=>t=>t.test(e),SV=[Bp,Kt,Il,Pu,$ae,Fae,Hie],OI=e=>SV.find(_V(e));function Gie(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$B(e):!0}const Kie=new Set(["brightness","contrast","saturate","opacity"]);function Yie(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(aP)||[];if(!n)return e;const a=r.replace(n,"");let i=Kie.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const Xie=/\b([a-z-]*)\(.*?\)/gu,eT={...bf,getAnimatableNone:e=>{const t=e.match(Xie);return t?t.map(Yie).join(" "):e}},II={...Bp,transform:Math.round},Qie={rotate:Pu,rotateX:Pu,rotateY:Pu,rotateZ:Pu,scale:Jy,scaleX:Jy,scaleY:Jy,scaleZ:Jy,skew:Pu,skewX:Pu,skewY:Pu,distance:Kt,translateX:Kt,translateY:Kt,translateZ:Kt,x:Kt,y:Kt,z:Kt,perspective:Kt,transformPerspective:Kt,opacity:b1,originX:xI,originY:xI,originZ:Kt},mP={borderWidth:Kt,borderTopWidth:Kt,borderRightWidth:Kt,borderBottomWidth:Kt,borderLeftWidth:Kt,borderRadius:Kt,radius:Kt,borderTopLeftRadius:Kt,borderTopRightRadius:Kt,borderBottomRightRadius:Kt,borderBottomLeftRadius:Kt,width:Kt,maxWidth:Kt,height:Kt,maxHeight:Kt,top:Kt,right:Kt,bottom:Kt,left:Kt,padding:Kt,paddingTop:Kt,paddingRight:Kt,paddingBottom:Kt,paddingLeft:Kt,margin:Kt,marginTop:Kt,marginRight:Kt,marginBottom:Kt,marginLeft:Kt,backgroundPositionX:Kt,backgroundPositionY:Kt,...Qie,zIndex:II,fillOpacity:b1,strokeOpacity:b1,numOctaves:II},Jie={...mP,color:ui,backgroundColor:ui,outlineColor:ui,fill:ui,stroke:ui,borderColor:ui,borderTopColor:ui,borderRightColor:ui,borderBottomColor:ui,borderLeftColor:ui,filter:eT,WebkitFilter:eT},AV=e=>Jie[e];function TV(e,t){let r=AV(e);return r!==eT&&(r=bf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Zie=new Set(["auto","none","0"]);function ese(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!Zie.has(i)&&w1(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=TV(r,a)}class tse extends fP{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),nP(c))){const u=bV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!wV.has(n)||t.length!==2)return;const[a,i]=t,s=OI(a),o=OI(i);if(s!==o)if(kI(s)&&kI(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Ch[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||Gie(t[a]))&&n.push(a);n.length&&ese(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ch[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Ch[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function EV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const DI=30,rse=e=>!isNaN(parseFloat(e)),_g={current:void 0};class nse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=os.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=os.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=rse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Zk);const n=this.events[t].add(r);return t==="change"?()=>{n(),En.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return _g.current&&_g.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=os.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>DI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,DI);return BB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zh(e,t){return new nse(e,t)}const kV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:gP,cancel:uBe}=ZB(queueMicrotask,!1),Mo={x:!1,y:!1};function PV(){return Mo.x||Mo.y}function ase(e){return e==="x"||e==="y"?Mo[e]?null:(Mo[e]=!0,()=>{Mo[e]=!1}):Mo.x||Mo.y?null:(Mo.x=Mo.y=!0,()=>{Mo.x=Mo.y=!1})}function CV(e,t){const r=EV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function LI(e){return!(e.pointerType==="touch"||PV())}function ise(e,t,r={}){const[n,a,i]=CV(e,r),s=o=>{if(!LI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{LI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const NV=(e,t)=>t?e===t?!0:NV(e,t.parentElement):!1,vP=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,sse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ose(e){return sse.has(e.tagName)||e.tabIndex!==-1}const Xx=new WeakSet;function jI(e){return t=>{t.key==="Enter"&&e(t)}}function cS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const lse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=jI(()=>{if(Xx.has(r))return;cS(r,"down");const a=jI(()=>{cS(r,"up")}),i=()=>cS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function MI(e){return vP(e)&&!PV()}function cse(e,t,r={}){const[n,a,i]=CV(e,r),s=o=>{const l=o.currentTarget;if(!MI(o))return;Xx.add(l);const c=t(l,o),u=(d,m)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Xx.has(l)&&Xx.delete(l),MI(d)&&typeof c=="function"&&c(d,{success:m})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||NV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),dP(o)&&(o.addEventListener("focus",c=>lse(c,a)),!ose(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function yP(e){return FB(e)&&"ownerSVGElement"in e}function OV(e){return yP(e)&&e.tagName==="svg"}function use(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=fV(a,i,s);return t?o(n):o}const Da=e=>!!(e&&e.getVelocity),fse=[...SV,ui,bf],hse=e=>fse.find(_V(e)),a5=Z.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class dse extends Z.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=dP(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function pse({children:e,isPresent:t,anchorX:r}){const n=Z.useId(),a=Z.useRef(null),i=Z.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=Z.useContext(a5);return Z.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),g.jsx(dse,{isPresent:t,childRef:a,sizeRef:i,children:Z.cloneElement(e,{ref:a})})}const mse=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=jv(gse),c=Z.useId();let u=!0,f=Z.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),Z.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),Z.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=g.jsx(pse,{isPresent:r,anchorX:o,children:e})),g.jsx(r5.Provider,{value:f,children:e})};function gse(){return new Map}function IV(e=!0){const t=Z.useContext(r5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=Z.useId();Z.useEffect(()=>{if(e)return a(i)},[e]);const s=Z.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const Zy=e=>e.key||"";function RI(e){const t=[];return Z.Children.forEach(e,r=>{Z.isValidElement(r)&&t.push(r)}),t}const DV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=IV(s),u=Z.useMemo(()=>RI(e),[e]),f=s&&!l?[]:u.map(Zy),h=Z.useRef(!0),d=Z.useRef(u),m=jv(()=>new Map),[p,v]=Z.useState(u),[y,b]=Z.useState(u);Xk(()=>{h.current=!1,d.current=u;for(let C=0;C<y.length;C++){const N=Zy(y[C]);f.includes(N)?m.delete(N):m.get(N)!==!0&&m.set(N,!1)}},[y,f.length,f.join("-")]);const _=[];if(u!==p){let C=[...u];for(let N=0;N<y.length;N++){const T=y[N],S=Zy(T);f.includes(S)||(C.splice(N,0,T),_.push(T))}return i==="wait"&&_.length&&(C=_),b(RI(C)),v(u),null}const{forceRender:O}=Z.useContext(Kk);return g.jsx(g.Fragment,{children:y.map(C=>{const N=Zy(C),T=s&&!l?!1:u===y||f.includes(N),S=()=>{if(m.has(N))m.set(N,!0);else return;let A=!0;m.forEach(D=>{D||(A=!1)}),A&&(O==null||O(),b(d.current),s&&(c==null||c()),n&&n())};return g.jsx(mse,{isPresent:T,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:T?void 0:S,anchorX:o,children:C},N)})})},LV=Z.createContext({strict:!1}),FI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},np={};for(const e in FI)np[e]={isEnabled:t=>FI[e].some(r=>!!t[r])};function vse(e){for(const t in e)np[t]={...np[t],...e[t]}}const yse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Z2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||yse.has(e)}let jV=e=>!Z2(e);function xse(e){e&&(jV=t=>t.startsWith("on")?!Z2(t):e(t))}try{xse(require("@emotion/is-prop-valid").default)}catch{}function bse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(jV(a)||r===!0&&Z2(a)||!t&&!Z2(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function wse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const i5=Z.createContext({});function s5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function S1(e){return typeof e=="string"||Array.isArray(e)}const xP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],bP=["initial",...xP];function o5(e){return s5(e.animate)||bP.some(t=>S1(e[t]))}function MV(e){return!!(o5(e)||e.variants)}function _se(e,t){if(o5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||S1(r)?r:void 0,animate:S1(n)?n:void 0}}return e.inherit!==!1?t:{}}function Sse(e){const{initial:t,animate:r}=_se(e,Z.useContext(i5));return Z.useMemo(()=>({initial:t,animate:r}),[$I(t),$I(r)])}function $I(e){return Array.isArray(e)?e.join(" "):e}const Ase=Symbol.for("motionComponentSymbol");function u0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Tse(e,t,r){return Z.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):u0(r)&&(r.current=n))},[t])}const wP=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ese="framerAppearId",RV="data-"+wP(Ese),FV=Z.createContext({});function kse(e,t,r,n,a){var p,v;const{visualElement:i}=Z.useContext(i5),s=Z.useContext(LV),o=Z.useContext(r5),l=Z.useContext(a5).reducedMotion,c=Z.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=Z.useContext(FV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Pse(c.current,r,a,f);const h=Z.useRef(!1);Z.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[RV],m=Z.useRef(!!d&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return Xk(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),gP.render(u.render),m.current&&u.animationState&&u.animationState.animateChanges())}),Z.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,d)}),m.current=!1))}),u}function Pse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:$V(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&u0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function $V(e){if(e)return e.options.allowProjection!==!1?e.projection:$V(e.parent)}function Cse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&vse(e);function i(o,l){let c;const u={...Z.useContext(a5),...o,layoutId:Nse(o)},{isStatic:f}=u,h=Sse(o),d=n(o,f);if(!f&&Yk){Ose();const m=Ise(u);c=m.MeasureLayout,h.visualElement=kse(a,d,u,t,m.ProjectionNode)}return g.jsxs(i5.Provider,{value:h,children:[c&&h.visualElement?g.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,Tse(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=Z.forwardRef(i);return s[Ase]=a,s}function Nse({layoutId:e}){const t=Z.useContext(Kk).id;return t&&e!==void 0?t+"-"+e:e}function Ose(e,t){Z.useContext(LV).strict}function Ise(e){const{drag:t,layout:r}=np;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const A1={};function Dse(e){for(const t in e)A1[t]=e[t],rP(t)&&(A1[t].isCSSVariable=!0)}function BV(e,{layout:t,layoutId:r}){return Up.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!A1[e]||e==="opacity")}const Lse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jse=Vp.length;function Mse(e,t,r){let n="",a=!0;for(let i=0;i<jse;i++){const s=Vp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=kV(o,mP[s]);if(!l){a=!1;const u=Lse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function _P(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Up.has(l)){s=!0;continue}else if(rP(l)){a[l]=c;continue}else{const u=kV(c,mP[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Mse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const SP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function VV(e,t,r){for(const n in t)!Da(t[n])&&!BV(n,r)&&(e[n]=t[n])}function Rse({transformTemplate:e},t){return Z.useMemo(()=>{const r=SP();return _P(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Fse(e,t){const r=e.style||{},n={};return VV(n,r,e),Object.assign(n,Rse(e,t)),n}function $se(e,t){const r={},n=Fse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Bse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vse={offset:"strokeDashoffset",array:"strokeDasharray"};function Use(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Bse:Vse;e[i.offset]=Kt.transform(-n);const s=Kt.transform(t),o=Kt.transform(r);e[i.array]=`${s} ${o}`}function UV(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(_P(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Use(f,a,i,s,!1)}const zV=()=>({...SP(),attrs:{}}),qV=e=>typeof e=="string"&&e.toLowerCase()==="svg";function zse(e,t,r,n){const a=Z.useMemo(()=>{const i=zV();return UV(i,t,qV(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};VV(i,e.style,e),a.style={...i,...a.style}}return a}const qse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function AP(e){return typeof e!="string"||e.includes("-")?!1:!!(qse.indexOf(e)>-1||/[A-Z]/u.test(e))}function Wse(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(AP(r)?zse:$se)(n,i,s,r),c=bse(n,typeof r=="string",e),u=r!==Z.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=Z.useMemo(()=>Da(f)?f.get():f,[f]);return Z.createElement(r,{...u,children:h})}}function BI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function TP(e,t,r,n){if(typeof t=="function"){const[a,i]=BI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=BI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function Qx(e){return Da(e)?e.get():e}function Hse({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:Gse(r,n,a,e),renderState:t()}}const WV=e=>(t,r)=>{const n=Z.useContext(i5),a=Z.useContext(r5),i=()=>Hse(e,t,n,a);return r?i():jv(i)};function Gse(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=Qx(i[h]);let{initial:s,animate:o}=e;const l=o5(e),c=MV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!s5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const m=TP(e,h[d]);if(m){const{transitionEnd:p,transition:v,...y}=m;for(const b in y){let _=y[b];if(Array.isArray(_)){const O=u?_.length-1:0;_=_[O]}_!==null&&(a[b]=_)}for(const b in p)a[b]=p[b]}}}return a}function EP(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Da(n[s])||t.style&&Da(t.style[s])||BV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const Kse={useVisualState:WV({scrapeMotionValuesFromProps:EP,createRenderState:SP})};function HV(e,t,r){const n=EP(e,t,r);for(const a in e)if(Da(e[a])||Da(t[a])){const i=Vp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const Yse={useVisualState:WV({scrapeMotionValuesFromProps:HV,createRenderState:zV})};function Xse(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...AP(n)?Yse:Kse,preloadedFeatures:e,useRender:Wse(a),createVisualElement:t,Component:n};return Cse(s)}}function T1(e,t,r){const n=e.getProps();return TP(n,t,r!==void 0?r:n.custom,e)}const tT=e=>Array.isArray(e);function Qse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,zh(r))}function Jse(e){return tT(e)?e[e.length-1]||0:e}function Zse(e,t){const r=T1(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=Jse(i[s]);Qse(e,s,o)}}function eoe(e){return!!(Da(e)&&e.add)}function rT(e,t){const r=e.getValue("willChange");if(eoe(r))return r.add(t);if(!r&&Lc.WillChange){const n=new Lc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function GV(e){return e.props[RV]}const toe=e=>e!==null;function roe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(toe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const noe={type:"spring",stiffness:500,damping:25,restSpeed:10},aoe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ioe={type:"keyframes",duration:.8},soe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ooe=(e,{keyframes:t})=>t.length>2?ioe:Up.has(e)?e.startsWith("scale")?aoe(t[1]):noe:soe;function loe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const kP=(e,t,r,n={},a,i)=>s=>{const o=pP(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-Zo(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};loe(o)||Object.assign(u,ooe(e,u)),u.duration&&(u.duration=Zo(u.duration)),u.repeatDelay&&(u.repeatDelay=Zo(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Lc.instantAnimations||Lc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=roe(u.keyframes,o);if(h!==void 0){En.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new uP(u):new Vie(u)};function coe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function PP(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&coe(c,u))continue;const d={delay:r,...pP(i||{},u)},m=f.get();if(m!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===m&&!d.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=GV(e);if(y){const b=window.MotionHandoffAnimation(y,u,En);b!==null&&(d.startTime=b,p=!0)}}rT(e,u),f.start(kP(u,f,h,e.shouldReduceMotion&&wV.has(u)?{type:!1}:d,e,p));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{En.update(()=>{s&&Zse(e,s)})}),l}function nT(e,t,r={}){var l;const n=T1(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(PP(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return uoe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function uoe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(foe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(nT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function foe(e,t){return e.sortNodePosition(t)}function hoe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>nT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=nT(e,t,r);else{const a=typeof t=="function"?T1(e,t,r.custom):t;n=Promise.all(PP(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function KV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const doe=bP.length;function YV(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?YV(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<doe;r++){const n=bP[r],a=e.props[n];(S1(a)||a===!1)&&(t[n]=a)}return t}const poe=[...xP].reverse(),moe=xP.length;function goe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>hoe(e,r,n)))}function voe(e){let t=goe(e),r=VI(),n=!0;const a=l=>(c,u)=>{var h;const f=T1(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:m,...p}=f;c={...c,...p,...m}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=YV(e.parent)||{},f=[],h=new Set;let d={},m=1/0;for(let v=0;v<moe;v++){const y=poe[v],b=r[y],_=c[y]!==void 0?c[y]:u[y],O=S1(_),C=y===l?b.isActive:null;C===!1&&(m=v);let N=_===u[y]&&_!==c[y]&&O;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),b.protectedKeys={...d},!b.isActive&&C===null||!_&&!b.prevProp||s5(_)||typeof _=="boolean")continue;const T=yoe(b.prevProp,_);let S=T||y===l&&b.isActive&&!N&&O||v>m&&O,A=!1;const D=Array.isArray(_)?_:[_];let E=D.reduce(a(y),{});C===!1&&(E={});const{prevResolvedValues:P={}}=b,j={...P,...E},G=J=>{S=!0,h.has(J)&&(A=!0,h.delete(J)),b.needsAnimating[J]=!0;const z=e.getValue(J);z&&(z.liveStyle=!1)};for(const J in j){const z=E[J],B=P[J];if(d.hasOwnProperty(J))continue;let ee=!1;tT(z)&&tT(B)?ee=!KV(z,B):ee=z!==B,ee?z!=null?G(J):h.add(J):z!==void 0&&h.has(J)?G(J):b.protectedKeys[J]=!0}b.prevProp=_,b.prevResolvedValues=E,b.isActive&&(d={...d,...E}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(N&&T)||A)&&f.push(...D.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=T1(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),_=e.getValue(y);_&&(_.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let p=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(p=!1),n=!1,p?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=VI(),n=!0}}}function yoe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!KV(t,e):!1}function nh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function VI(){return{animate:nh(!0),whileInView:nh(),whileHover:nh(),whileTap:nh(),whileDrag:nh(),whileFocus:nh(),exit:nh()}}class If{constructor(t){this.isMounted=!1,this.node=t}update(){}}class xoe extends If{constructor(t){super(t),t.animationState||(t.animationState=voe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();s5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let boe=0;class woe extends If{constructor(){super(...arguments),this.id=boe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _oe={animation:{Feature:xoe},exit:{Feature:woe}};function E1(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function $v(e){return{point:{x:e.pageX,y:e.pageY}}}const Soe=e=>t=>vP(t)&&e(t,$v(t));function Sg(e,t,r,n){return E1(e,t,Soe(r),n)}function XV({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Aoe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Toe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const QV=1e-4,Eoe=1-QV,koe=1+QV,JV=.01,Poe=0-JV,Coe=0+JV;function $i(e){return e.max-e.min}function Noe(e,t,r){return Math.abs(e-t)<=r}function UI(e,t,r,n=.5){e.origin=n,e.originPoint=An(t.min,t.max,e.origin),e.scale=$i(r)/$i(t),e.translate=An(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Eoe&&e.scale<=koe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Poe&&e.translate<=Coe||isNaN(e.translate))&&(e.translate=0)}function Ag(e,t,r,n){UI(e.x,t.x,r.x,n?n.originX:void 0),UI(e.y,t.y,r.y,n?n.originY:void 0)}function zI(e,t,r){e.min=r.min+t.min,e.max=e.min+$i(t)}function Ooe(e,t,r){zI(e.x,t.x,r.x),zI(e.y,t.y,r.y)}function qI(e,t,r){e.min=t.min-r.min,e.max=e.min+$i(t)}function Tg(e,t,r){qI(e.x,t.x,r.x),qI(e.y,t.y,r.y)}const WI=()=>({translate:0,scale:1,origin:0,originPoint:0}),f0=()=>({x:WI(),y:WI()}),HI=()=>({min:0,max:0}),Fn=()=>({x:HI(),y:HI()});function to(e){return[e("x"),e("y")]}function uS(e){return e===void 0||e===1}function aT({scale:e,scaleX:t,scaleY:r}){return!uS(e)||!uS(t)||!uS(r)}function lh(e){return aT(e)||ZV(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function ZV(e){return GI(e.x)||GI(e.y)}function GI(e){return e&&e!=="0%"}function eb(e,t,r){const n=e-r,a=t*n;return r+a}function KI(e,t,r,n,a){return a!==void 0&&(e=eb(e,a,n)),eb(e,r,n)+t}function iT(e,t=0,r=1,n,a){e.min=KI(e.min,t,r,n,a),e.max=KI(e.max,t,r,n,a)}function eU(e,{x:t,y:r}){iT(e.x,t.translate,t.scale,t.originPoint),iT(e.y,r.translate,r.scale,r.originPoint)}const YI=.999999999999,XI=1.0000000000001;function Ioe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&d0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,eU(e,s)),n&&lh(i.latestValues)&&d0(e,i.latestValues))}t.x<XI&&t.x>YI&&(t.x=1),t.y<XI&&t.y>YI&&(t.y=1)}function h0(e,t){e.min=e.min+t,e.max=e.max+t}function QI(e,t,r,n,a=.5){const i=An(e.min,e.max,a);iT(e,t,r,i,n)}function d0(e,t){QI(e.x,t.x,t.scaleX,t.scale,t.originX),QI(e.y,t.y,t.scaleY,t.scale,t.originY)}function tU(e,t){return XV(Toe(e.getBoundingClientRect(),t))}function Doe(e,t,r){const n=tU(e,r),{scroll:a}=t;return a&&(h0(n.x,a.offset.x),h0(n.y,a.offset.y)),n}const rU=({current:e})=>e?e.ownerDocument.defaultView:null,JI=(e,t)=>Math.abs(e-t);function Loe(e,t){const r=JI(e.x,t.x),n=JI(e.y,t.y);return Math.sqrt(r**2+n**2)}class nU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=hS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=Loe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:m}=f,{timestamp:p}=qa;this.history.push({...m,timestamp:p});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=fS(h,this.transformPagePoint),En.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=hS(f.type==="pointercancel"?this.lastMoveEventInfo:fS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,v),m&&m(f,v)},!vP(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=$v(t),o=fS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=qa;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,hS(o,this.history)),this.removeListeners=Mv(Sg(this.contextWindow,"pointermove",this.handlePointerMove),Sg(this.contextWindow,"pointerup",this.handlePointerUp),Sg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),jc(this.updatePoint)}}function fS(e,t){return t?{point:t(e.point)}:e}function ZI(e,t){return{x:e.x-t.x,y:e.y-t.y}}function hS({point:e},t){return{point:e,delta:ZI(e,aU(t)),offset:ZI(e,joe(t)),velocity:Moe(t,.1)}}function joe(e){return e[0]}function aU(e){return e[e.length-1]}function Moe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=aU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>Zo(t)));)r--;if(!n)return{x:0,y:0};const i=Ol(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Roe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?An(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?An(r,e,n.max):Math.min(e,r)),e}function e8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Foe(e,{top:t,left:r,bottom:n,right:a}){return{x:e8(e.x,r,a),y:e8(e.y,t,n)}}function t8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function $oe(e,t){return{x:t8(e.x,t.x),y:t8(e.y,t.y)}}function Boe(e,t){let r=.5;const n=$i(e),a=$i(t);return a>n?r=rp(t.min,t.max-n,e.min):n>a&&(r=rp(e.min,e.max-a,t.min)),Dc(0,1,r)}function Voe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const sT=.35;function Uoe(e=sT){return e===!1?e=0:e===!0&&(e=sT),{x:r8(e,"left","right"),y:r8(e,"top","bottom")}}function r8(e,t,r){return{min:n8(e,t),max:n8(e,r)}}function n8(e,t){return typeof e=="number"?e:e[t]||0}const zoe=new WeakMap;class qoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor($v(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:m}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ase(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),to(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Il.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[v];_&&(y=$i(_)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&En.postRender(()=>m(u,f)),rT(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:m,onDrag:p}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(d&&this.currentDirection===null){this.currentDirection=Woe(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),p&&p(u,f)},o=(u,f)=>this.stop(u,f),l=()=>to(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new nU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:rU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&En.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!ex(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Roe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&u0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Foe(n.layoutBox,t):this.constraints=!1,this.elastic=Uoe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&to(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Voe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!u0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Doe(n,a.root,this.visualElement.getTransformPagePoint());let s=$oe(a.layout.layoutBox,i);if(r){const o=r(Aoe(s));this.hasMutatedConstraints=!!o,o&&(s=XV(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=to(u=>{if(!ex(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return rT(this.visualElement,t),n.start(kP(t,n,0,r,this.visualElement,!1))}stopAnimation(){to(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){to(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){to(r=>{const{drag:n}=this.getProps();if(!ex(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-An(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!u0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};to(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Boe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),to(s=>{if(!ex(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(An(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;zoe.set(this.visualElement,this);const t=this.visualElement.current,r=Sg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();u0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),En.read(n);const s=E1(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(to(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=sT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function ex(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Woe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Hoe extends If{constructor(t){super(t),this.removeGroupControls=co,this.removeListeners=co,this.controls=new qoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||co}unmount(){this.removeGroupControls(),this.removeListeners()}}const a8=e=>(t,r)=>{e&&En.postRender(()=>e(t,r))};class Goe extends If{constructor(){super(...arguments),this.removePointerDownListener=co}onPointerDown(t){this.session=new nU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:a8(t),onStart:a8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&En.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Sg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Jx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Kt.test(e))e=parseFloat(e);else return e;const r=i8(e,t.target.x),n=i8(e,t.target.y);return`${r}% ${n}%`}},Koe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=bf.parse(e);if(a.length>5)return n;const i=bf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=An(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class Yoe extends Z.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Dse(Xoe),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Jx.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||En.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),gP.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iU(e){const[t,r]=IV(),n=Z.useContext(Kk);return g.jsx(Yoe,{...e,layoutGroup:n,switchLayoutGroup:Z.useContext(FV),isPresent:t,safeToRemove:r})}const Xoe={borderRadius:{...Cm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cm,borderTopRightRadius:Cm,borderBottomLeftRadius:Cm,borderBottomRightRadius:Cm,boxShadow:Koe};function sU(e,t,r){const n=Da(e)?e:zh(e);return n.start(kP("",n,t,r)),n.animation}const Qoe=(e,t)=>e.depth-t.depth;class Joe{constructor(){this.children=[],this.isDirty=!1}add(t){Qk(this.children,t),this.isDirty=!0}remove(t){n5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Qoe),this.isDirty=!1,this.children.forEach(t)}}function Zoe(e,t){const r=os.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(jc(n),e(i-t))};return En.setup(n,!0),()=>jc(n)}const oU=["TopLeft","TopRight","BottomLeft","BottomRight"],ele=oU.length,s8=e=>typeof e=="string"?parseFloat(e):e,o8=e=>typeof e=="number"||Kt.test(e);function tle(e,t,r,n,a,i){a?(e.opacity=An(0,r.opacity??1,rle(n)),e.opacityExit=An(t.opacity??1,0,nle(n))):i&&(e.opacity=An(t.opacity??1,r.opacity??1,n));for(let s=0;s<ele;s++){const o=`border${oU[s]}Radius`;let l=l8(t,o),c=l8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||o8(l)===o8(c)?(e[o]=Math.max(An(s8(l),s8(c),n),0),(Il.test(c)||Il.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=An(t.rotate||0,r.rotate||0,n))}function l8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const rle=lU(0,.5,GB),nle=lU(.5,.95,co);function lU(e,t,r){return n=>n<e?0:n>t?1:r(rp(e,t,n))}function c8(e,t){e.min=t.min,e.max=t.max}function Ks(e,t){c8(e.x,t.x),c8(e.y,t.y)}function u8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function f8(e,t,r,n,a){return e-=t,e=eb(e,1/r,n),a!==void 0&&(e=eb(e,1/a,n)),e}function ale(e,t=0,r=1,n=.5,a,i=e,s=e){if(Il.test(t)&&(t=parseFloat(t),t=An(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=An(i.min,i.max,n);e===i&&(o-=t),e.min=f8(e.min,t,r,o,a),e.max=f8(e.max,t,r,o,a)}function h8(e,t,[r,n,a],i,s){ale(e,t[r],t[n],t[a],t.scale,i,s)}const ile=["x","scaleX","originX"],sle=["y","scaleY","originY"];function d8(e,t,r,n){h8(e.x,t,ile,r?r.x:void 0,n?n.x:void 0),h8(e.y,t,sle,r?r.y:void 0,n?n.y:void 0)}function p8(e){return e.translate===0&&e.scale===1}function cU(e){return p8(e.x)&&p8(e.y)}function m8(e,t){return e.min===t.min&&e.max===t.max}function ole(e,t){return m8(e.x,t.x)&&m8(e.y,t.y)}function g8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function uU(e,t){return g8(e.x,t.x)&&g8(e.y,t.y)}function v8(e){return $i(e.x)/$i(e.y)}function y8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class lle{constructor(){this.members=[]}add(t){Qk(this.members,t),t.scheduleRender()}remove(t){if(n5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function cle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:m}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),m&&(n+=`skewY(${m}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const dS=["","X","Y","Z"],ule={visibility:"hidden"},fle=1e3;let hle=0;function pS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function fU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=GV(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",En,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&fU(n)}function hU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=hle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(mle),this.nodes.forEach(ble),this.nodes.forEach(wle),this.nodes.forEach(gle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Joe)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Zk),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=yP(s)&&!OV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=Zoe(f,250),Jx.hasAnimatedSinceResize&&(Jx.hasAnimatedSinceResize=!1,this.nodes.forEach(b8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||Ele,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!uU(this.targetLayout,d),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const _={...pP(m,"layout"),onPlay:p,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_)}else f||b8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),jc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(_le),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(x8);return}this.isUpdating||this.nodes.forEach(yle),this.isUpdating=!1,this.nodes.forEach(xle),this.nodes.forEach(dle),this.nodes.forEach(ple),this.clearAllSnapshots();const o=os.now();qa.delta=Dc(0,1e3/60,o-qa.timestamp),qa.timestamp=o,qa.isProcessing=!0,aS.update.process(qa),aS.preRender.process(qa),aS.render.process(qa),qa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vle),this.sharedNodes.forEach(Sle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,En.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){En.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$i(this.snapshot.measuredBox.x)&&!$i(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!cU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||lh(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),kle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Fn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Ple))){const{scroll:u}=this.root;u&&(h0(o.x,u.offset.x),h0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Fn();if(Ks(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ks(o,s),h0(o.x,f.offset.x),h0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Fn();Ks(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&d0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),lh(u.latestValues)&&d0(l,u.latestValues)}return lh(this.latestValues)&&d0(l,this.latestValues),l}removeTransform(s){const o=Fn();Ks(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!lh(c.latestValues))continue;aT(c.latestValues)&&c.updateSnapshot();const u=Fn(),f=c.measurePageBox();Ks(u,f),d8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return lh(this.latestValues)&&d8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=qa.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),Tg(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fn(),this.targetWithTransforms=Fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Ooe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ks(this.target,this.layout.layoutBox),eU(this.target,this.targetDelta)):Ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fn(),this.relativeTargetOrigin=Fn(),Tg(this.relativeTargetOrigin,this.target,d.target),Ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||aT(this.parent.latestValues)||ZV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===qa.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ks(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Ioe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Fn());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u8(this.prevProjectionDelta.x,this.projectionDelta.x),u8(this.prevProjectionDelta.y,this.projectionDelta.y)),Ag(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!y8(this.projectionDelta.x,this.prevProjectionDelta.x)||!y8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=f0(),this.projectionDelta=f0(),this.projectionDeltaWithTransform=f0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=f0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Fn(),d=l?l.source:void 0,m=this.layout?this.layout.source:void 0,p=d!==m,v=this.getStack(),y=!v||v.members.length<=1,b=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some(Tle));this.animationProgress=0;let _;this.mixTargetDelta=O=>{const C=O/1e3;w8(f.x,s.x,C),w8(f.y,s.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tg(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Ale(this.relativeTarget,this.relativeTargetOrigin,h,C),_&&ole(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Fn()),Ks(_,this.relativeTarget)),p&&(this.animationValues=u,tle(u,c,this.latestValues,C,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(jc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=En.update(()=>{Jx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=zh(0)),this.currentAnimation=sU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fle),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&dU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Fn();const f=$i(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=$i(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}Ks(o,l),d0(o,u),Ag(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new lle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&pS("z",s,c,this.animationValues);for(let u=0;u<dS.length;u++)pS(`rotate${dS[u]}`,s,c,this.animationValues),pS(`skew${dS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return ule;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=Qx(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=Qx(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!lh(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=cle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in A1){if(u[d]===void 0)continue;const{correct:m,applyTo:p,isCSSVariable:v}=A1[d],y=o.transform==="none"?u[d]:m(u[d],c);if(p){const b=p.length;for(let _=0;_<b;_++)o[p[_]]=y}else v?this.options.visualElement.renderState.vars[d]=y:o[d]=y}return this.options.layoutId&&(o.pointerEvents=c===this?Qx(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(x8),this.root.sharedNodes.clear()}}}function dle(e){e.updateLayout()}function ple(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?to(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=$i(h);h.min=n[f].min,h.max=h.min+d}):dU(i,t.layoutBox,n)&&to(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=$i(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=f0();Ag(o,n,t.layoutBox);const l=f0();s?Ag(l,e.applyTransform(a,!0),t.measuredBox):Ag(l,n,t.layoutBox);const c=!cU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const m=Fn();Tg(m,t.layoutBox,h.layoutBox);const p=Fn();Tg(p,n,d.layoutBox),uU(m,p)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=p,e.relativeTargetOrigin=m,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function mle(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function vle(e){e.clearSnapshot()}function x8(e){e.clearMeasurements()}function yle(e){e.isLayoutDirty=!1}function xle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function b8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function ble(e){e.resolveTargetDelta()}function wle(e){e.calcProjection()}function _le(e){e.resetSkewAndRotation()}function Sle(e){e.removeLeadSnapshot()}function w8(e,t,r){e.translate=An(t.translate,0,r),e.scale=An(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function _8(e,t,r,n){e.min=An(t.min,r.min,n),e.max=An(t.max,r.max,n)}function Ale(e,t,r,n){_8(e.x,t.x,r.x,n),_8(e.y,t.y,r.y,n)}function Tle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Ele={duration:.45,ease:[.4,0,.1,1]},S8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),A8=S8("applewebkit/")&&!S8("chrome/")?Math.round:co;function T8(e){e.min=A8(e.min),e.max=A8(e.max)}function kle(e){T8(e.x),T8(e.y)}function dU(e,t,r){return e==="position"||e==="preserve-aspect"&&!Noe(v8(t),v8(r),.2)}function Ple(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Cle=hU({attachResizeListener:(e,t)=>E1(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),mS={current:void 0},pU=hU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!mS.current){const e=new Cle({});e.mount(window),e.setOptions({layoutScroll:!0}),mS.current=e}return mS.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Nle={pan:{Feature:Goe},drag:{Feature:Hoe,ProjectionNode:pU,MeasureLayout:iU}};function E8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&En.postRender(()=>i(t,$v(t)))}class Ole extends If{mount(){const{current:t}=this.node;t&&(this.unmount=ise(t,(r,n)=>(E8(this.node,n,"Start"),a=>E8(this.node,a,"End"))))}unmount(){}}class Ile extends If{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Mv(E1(this.node.current,"focus",()=>this.onFocus()),E1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function k8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&En.postRender(()=>i(t,$v(t)))}class Dle extends If{mount(){const{current:t}=this.node;t&&(this.unmount=cse(t,(r,n)=>(k8(this.node,n,"Start"),(a,{success:i})=>k8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const oT=new WeakMap,gS=new WeakMap,Lle=e=>{const t=oT.get(e.target);t&&t(e)},jle=e=>{e.forEach(Lle)};function Mle({root:e,...t}){const r=e||document;gS.has(r)||gS.set(r,{});const n=gS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(jle,{root:e,...t})),n[a]}function Rle(e,t,r){const n=Mle(t);return oT.set(e,r),n.observe(e),()=>{oT.delete(e),n.unobserve(e)}}const Fle={some:0,all:1};class $le extends If{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Fle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Rle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Ble(t,r))&&this.startObserver()}unmount(){}}function Ble({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Vle={inView:{Feature:$le},tap:{Feature:Dle},focus:{Feature:Ile},hover:{Feature:Ole}},Ule={layout:{ProjectionNode:pU,MeasureLayout:iU}},lT={current:null},mU={current:!1};function zle(){if(mU.current=!0,!!Yk)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lT.current=e.matches;e.addListener(t),t()}else lT.current=!1}const k1=new WeakMap;function qle(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Da(a))e.addValue(n,a);else if(Da(i))e.addValue(n,zh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,zh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const P8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=os.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,En.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=o5(r),this.isVariantNode=MV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Da(d)&&d.set(l[h],!1)}}mount(t){this.current=t,k1.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),mU.current||zle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),jc(this.notifyUpdate),jc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Up.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&En.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in np){const r=np[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<P8.length;n++){const a=P8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=qle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=zh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(RB(n)||$B(n))?n=parseFloat(n):!hse(n)&&bf.test(r)&&(n=TV(t,r)),this.setBaseTarget(t,Da(n)?n.get():n)),Da(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=TP(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Da(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Zk),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class vU extends gU{constructor(){super(...arguments),this.KeyframeResolver=tse}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Da(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function yU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function Wle(e){return window.getComputedStyle(e)}class xU extends vU{constructor(){super(...arguments),this.type="html",this.renderInstance=yU}readValueFromInstance(t,r){var n;if(Up.has(r))return(n=this.projection)!=null&&n.isProjecting?Y4(r):yie(t,r);{const a=Wle(t),i=(rP(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return tU(t,r)}build(t,r,n){_P(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return EP(t,r,n)}}const bU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Hle(e,t,r,n){yU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(bU.has(a)?a:wP(a),t.attrs[a])}class wU extends vU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Up.has(r)){const n=AV(r);return n&&n.default||0}return r=bU.has(r)?r:wP(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return HV(t,r,n)}build(t,r,n){UV(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){Hle(t,r,n,a)}mount(t){this.isSVGTag=qV(t.tagName),super.mount(t)}}const Gle=(e,t)=>AP(e)?new wU(t):new xU(t,{allowProjection:e!==Z.Fragment}),Kle=Xse({..._oe,...Vle,...Nle,...Ule},Gle),Pn=wse(Kle);function cT(e){const t=jv(()=>zh(e)),{isStatic:r}=Z.useContext(a5);if(r){const[,n]=Z.useState(e);Z.useEffect(()=>t.on("change",n),[])}return t}function _U(e,t){const r=cT(t()),n=()=>r.set(t());return n(),Xk(()=>{const a=()=>En.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),jc(n)}}),r}function Yle(e){_g.current=[],e();const t=_U(_g.current,e);return _g.current=void 0,t}function C8(e,t,r,n){if(typeof e=="function")return Yle(e);const a=typeof t=="function"?t:use(t,r,n);return Array.isArray(e)?N8(e,a):N8([e],([i])=>a(i))}function N8(e,t){const r=jv(()=>[]);return _U(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function CP(e){return typeof e=="object"&&!Array.isArray(e)}function SU(e,t,r,n){return typeof e=="string"&&CP(t)?EV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function Xle(e,t,r){return e*(t+1)}function O8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function Qle(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(n5(e,a),n--)}}function Jle(e,t,r,n,a,i){Qle(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:An(a,i,n[s]),easing:QB(r,s)})}function Zle(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function ece(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const tce="easeInOut";function rce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const m=e[d];if(typeof m=="string"){c.set(m,f);continue}else if(!Array.isArray(m)){c.set(m.name,O8(f,m.at,u,c));continue}let[p,v,y={}]=m;y.at!==void 0&&(f=O8(f,y.at,u,c));let b=0;const _=(O,C,N,T=0,S=0)=>{const A=nce(O),{delay:D=0,times:E=dV(A),type:P="keyframes",repeat:j,repeatType:G,repeatDelay:U=0,...Q}=C;let{ease:J=t.ease||"easeOut",duration:z}=C;const B=typeof D=="function"?D(T,S):D,ee=A.length,ne=hP(P)?P:a==null?void 0:a[P];if(ee<=2&&ne){let Y=100;if(ee===2&&sce(A)){const ce=A[1]-A[0];Y=Math.abs(ce)}const K={...Q};z!==void 0&&(K.duration=Zo(z));const le=cV(K,Y,ne);J=le.ease,z=le.duration}z??(z=i);const I=f+B;E.length===1&&E[0]===0&&(E[1]=1);const F=E.length-A.length;if(F>0&&hV(E,F),A.length===1&&A.unshift(null),j){z=Xle(z,j);const Y=[...A],K=[...E];J=Array.isArray(J)?[...J]:[J];const le=[...J];for(let ce=0;ce<j;ce++){A.push(...Y);for(let X=0;X<Y.length;X++)E.push(K[X]+(ce+1)),J.push(X===0?"linear":QB(le,X-1))}Zle(E,j)}const q=I+z;Jle(N,A,J,E,I,q),b=Math.max(B+z,b),h=Math.max(q,h)};if(Da(p)){const O=I8(p,o);_(v,y,D8("default",O))}else{const O=SU(p,v,n,l),C=O.length;for(let N=0;N<C;N++){v=v,y=y;const T=O[N],S=I8(T,o);for(const A in v)_(v[A],ace(y,A),D8(A,S),N,C)}}u=f,f+=b}return o.forEach((d,m)=>{for(const p in d){const v=d[p];v.sort(ece);const y=[],b=[],_=[];for(let C=0;C<v.length;C++){const{at:N,value:T,easing:S}=v[C];y.push(T),b.push(rp(0,h,N)),_.push(S||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),_.unshift(tce)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(m)||s.set(m,{keyframes:{},transition:{}});const O=s.get(m);O.keyframes[p]=y,O.transition[p]={...t,duration:h,ease:_,times:b,...r}}}),s}function I8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function D8(e,t){return t[e]||(t[e]=[]),t[e]}function nce(e){return Array.isArray(e)?e:[e]}function ace(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const ice=e=>typeof e=="number",sce=e=>e.every(ice);function oce(e,t){return e in t}class lce extends gU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(oce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Fn()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function cce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=yP(e)&&!OV(e)?new wU(t):new xU(t);r.mount(e),k1.set(e,r)}function uce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new lce(t);r.mount(e),k1.set(e,r)}function fce(e,t){return Da(e)||typeof e=="number"||typeof e=="string"&&!CP(t)}function AU(e,t,r,n){const a=[];if(fce(e,t))a.push(sU(e,CP(t)&&t.default||t,r&&(r.default||r)));else{const i=SU(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?cce:uce;k1.has(l)||c(l);const u=k1.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...PP(u,{...t,transition:f},{}))}}return a}function hce(e,t,r){const n=[];return rce(e,t,r,{spring:_1}).forEach(({keyframes:i,transition:s},o)=>{n.push(...AU(o,i,s))}),n}function dce(e){return Array.isArray(e)&&e.some(Array.isArray)}function pce(e){function t(r,n,a){let i=[];return dce(r)?i=hce(r,n,e):i=AU(r,n,a,e),new zie(i)}return t}const L8=pce(),mce=()=>{const{user:e,logout:t}=Ti(),r=Av(),{isDarkMode:n}=tn(),[a,i]=Z.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:g.jsx(nZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:g.jsx(Ds,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:g.jsx(cZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:g.jsx(oZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/warehouse-locations",icon:g.jsx(iZ,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:g.jsx(hZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:g.jsx(KJ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:g.jsx(GJ,{size:20}),label:"Logs",roles:["admin"]},{to:"/settings",icon:g.jsx(fZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return g.jsxs(Pn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[g.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:g.jsxs("div",{className:"flex items-center justify-between h-16",children:[g.jsx(Pn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:g.jsx(K_,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:g.jsx(Pn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),g.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>g.jsx(Pn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:g.jsx("div",{className:"group relative",children:g.jsx(K_,{to:h.to,className:({isActive:m})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${m?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:m})=>g.jsxs(g.Fragment,{children:[g.jsx(Pn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),g.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${m?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),g.jsxs("div",{className:"flex items-center gap-4",children:[e&&g.jsxs(Pn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[g.jsxs("div",{className:"text-right",children:[g.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),g.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),g.jsx(Pn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),g.jsx(Pn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx(rO,{size:20})})]}),g.jsx(Pn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?g.jsx(ik,{size:24}):g.jsx(sZ,{size:24})})]})]})}),g.jsx(DV,{children:a&&g.jsx(Pn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:g.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>g.jsx(Pn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:g.jsx(K_,{to:h.to,className:({isActive:m})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${m?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:g.jsxs(Pn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,g.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),g.jsx(Pn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&g.jsxs("div",{className:"flex items-center justify-between py-2",children:[g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(Pn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:g.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),g.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),g.jsxs(Pn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[g.jsx(rO,{size:18}),g.jsx("span",{children:"Logout"})]})]})})]})})})]})},gce=()=>{const{isAuthenticated:e}=Ti(),t=Av(),{isDarkMode:r}=tn();return Ne.useEffect(()=>{e||t("/login")},[e,t]),e?g.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[g.jsx(mce,{}),g.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:g.jsx(PJ,{})})]}):null},TU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=Z.useState(!1),[s,o]=Z.useState(!1);Z.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:g.jsx(XJ,{className:"text-green-500",size:20}),error:g.jsx(nO,{className:"text-red-500",size:20}),warning:g.jsx(Fw,{className:"text-yellow-500",size:20}),info:g.jsx(rZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return g.jsx("div",{className:"fixed top-4 right-4 z-50",children:g.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],g.jsx("p",{className:"text-sm font-medium",children:e}),g.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:g.jsx(nO,{size:18})})]})})},EU=Z.createContext(void 0),rd=()=>{const e=Z.useContext(EU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},vce=({children:e})=>{const[t,r]=Z.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return g.jsxs(EU.Provider,{value:{showToast:n},children:[e,t&&g.jsx(TU,{message:t.message,type:t.type,onClose:a})]})},bt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=tn(),l=i??o;return g.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&g.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),g.jsxs("div",{className:"relative",children:[r&&g.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Ne.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),g.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Cu=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=Z.useState(!1),{isDarkMode:l}=tn(),c=a??l,u=()=>{o(!s)};return g.jsxs("div",{className:"relative",children:[g.jsx(bt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),g.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?g.jsx(eZ,{size:18}):g.jsx(tZ,{size:18})})]})},Nt=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return g.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&g.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},yce=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState(""),[a,i]=Z.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=Ti(),{showToast:u}=rd(),{isDarkMode:f,toggleDarkMode:h}=tn(),d=Av();Z.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const m=async p=>{if(p.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return g.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[g.jsx(Pn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:g.jsxs("div",{className:"max-w-md p-8 text-center",children:[g.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),g.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),g.jsx(Pn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:g.jsxs("div",{className:"w-full max-w-md",children:[g.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[g.jsx(lZ,{size:48,className:"mx-auto text-blue-600"}),g.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),g.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),g.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),g.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?g.jsx($9,{size:20}):g.jsx(R9,{size:20})})]}),a&&g.jsx(Pn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),g.jsxs("form",{onSubmit:m,className:"space-y-6",children:[g.jsx(bt,{label:"Username",type:"text",id:"username",value:e,onChange:p=>t(p.target.value),icon:g.jsx(b4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),g.jsx(Cu,{label:"Password",name:"password",value:r,onChange:p=>n(p.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),g.jsx(Nt,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},zu=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=tn(),i=cT(0),s=cT(0),o=C8(i,Math.round),l=C8(s,Math.round);return Ne.useEffect(()=>{if(typeof t=="number"){const c=L8(i,t,{duration:1});if(n){const u=L8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),g.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),g.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?g.jsx(Pn.span,{children:o}):t}),n&&g.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||g.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),g.jsx(Pn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&g.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),g.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},qu=()=>{const{isDarkMode:e}=tn();return g.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),g.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),g.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:g.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),g.jsx("div",{className:"mt-4",children:g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),g.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},vS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=tn();return g.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&g.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:g.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),g.jsx("div",{className:"p-6",children:t})]})};function Mr(e){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mr(e)}function Fl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Kr(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function en(e){Kr(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Mr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function xce(e,t){Kr(2,arguments);var r=en(e),n=Fl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function bce(e,t){Kr(2,arguments);var r=en(e).getTime(),n=Fl(t);return new Date(r+n)}var wce={};function Bv(){return wce}function uT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function tb(e){Kr(1,arguments);var t=en(e);return t.setHours(0,0,0,0),t}function Zx(e,t){Kr(2,arguments);var r=en(e),n=en(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var kU=6e4,PU=36e5;function _ce(e){return Kr(1,arguments),e instanceof Date||Mr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Sce(e){if(Kr(1,arguments),!_ce(e)&&typeof e!="number")return!1;var t=en(e);return!isNaN(Number(t))}function Ace(e,t){Kr(2,arguments);var r=en(e),n=en(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function Tce(e,t){return Kr(2,arguments),en(e).getTime()-en(t).getTime()}var j8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Ece="trunc";function kce(e){return e?j8[e]:j8[Ece]}function P1(e){Kr(1,arguments);var t=en(e);return t.setHours(23,59,59,999),t}function Pce(e){Kr(1,arguments);var t=en(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Cce(e){Kr(1,arguments);var t=en(e);return P1(t).getTime()===Pce(t).getTime()}function Nce(e,t){Kr(2,arguments);var r=en(e),n=en(t),a=Zx(r,n),i=Math.abs(Ace(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=Zx(r,n)===-a;Cce(en(e))&&i===1&&Zx(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Oce(e,t,r){Kr(2,arguments);var n=Tce(e,t)/1e3;return kce(void 0)(n)}function Ice(e,t){Kr(2,arguments);var r=Fl(t);return bce(e,-r)}var Dce=864e5;function Lce(e){Kr(1,arguments);var t=en(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Dce)+1}function rb(e){Kr(1,arguments);var t=1,r=en(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function CU(e){Kr(1,arguments);var t=en(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=rb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=rb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function jce(e){Kr(1,arguments);var t=CU(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=rb(r);return n}var Mce=6048e5;function Rce(e){Kr(1,arguments);var t=en(e),r=rb(t).getTime()-jce(t).getTime();return Math.round(r/Mce)+1}function nb(e,t){var r,n,a,i,s,o,l,c;Kr(1,arguments);var u=Bv(),f=Fl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=en(e),d=h.getUTCDay(),m=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-m),h.setUTCHours(0,0,0,0),h}function NU(e,t){var r,n,a,i,s,o,l,c;Kr(1,arguments);var u=en(e),f=u.getUTCFullYear(),h=Bv(),d=Fl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var m=new Date(0);m.setUTCFullYear(f+1,0,d),m.setUTCHours(0,0,0,0);var p=nb(m,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var y=nb(v,t);return u.getTime()>=p.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Fce(e,t){var r,n,a,i,s,o,l,c;Kr(1,arguments);var u=Bv(),f=Fl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=NU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var m=nb(d,t);return m}var $ce=6048e5;function Bce(e,t){Kr(1,arguments);var r=en(e),n=nb(r,t).getTime()-Fce(r,t).getTime();return Math.round(n/$ce)+1}function Wr(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Au={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return Wr(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):Wr(n+1,2)},d:function(t,r){return Wr(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return Wr(t.getUTCHours()%12||12,r.length)},H:function(t,r){return Wr(t.getUTCHours(),r.length)},m:function(t,r){return Wr(t.getUTCMinutes(),r.length)},s:function(t,r){return Wr(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return Wr(i,r.length)}},Rd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Vce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Au.y(t,r)},Y:function(t,r,n,a){var i=NU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return Wr(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):Wr(s,r.length)},R:function(t,r){var n=CU(t);return Wr(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return Wr(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return Wr(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return Wr(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Au.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return Wr(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Bce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):Wr(i,r.length)},I:function(t,r,n){var a=Rce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):Wr(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Au.d(t,r)},D:function(t,r,n){var a=Lce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Wr(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return Wr(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return Wr(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return Wr(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=Rd.noon:a===0?i=Rd.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=Rd.evening:a>=12?i=Rd.afternoon:a>=4?i=Rd.morning:i=Rd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Au.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Au.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Wr(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):Wr(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Au.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Au.s(t,r)},S:function(t,r){return Au.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return R8(s);case"XXXX":case"XX":return ch(s);case"XXXXX":case"XXX":default:return ch(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return R8(s);case"xxxx":case"xx":return ch(s);case"xxxxx":case"xxx":default:return ch(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+M8(s,":");case"OOOO":default:return"GMT"+ch(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+M8(s,":");case"zzzz":default:return"GMT"+ch(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return Wr(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return Wr(s,r.length)}};function M8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+Wr(i,2)}function R8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+Wr(Math.abs(e)/60,2)}return ch(e,t)}function ch(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=Wr(Math.floor(a/60),2),s=Wr(a%60,2);return n+i+r+s}var F8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},OU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Uce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return F8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",F8(a,r)).replace("{{time}}",OU(i,r))},zce={p:OU,P:Uce},qce=["D","DD"],Wce=["YY","YYYY"];function Hce(e){return qce.indexOf(e)!==-1}function Gce(e){return Wce.indexOf(e)!==-1}function $8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Kce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yce=function(t,r,n){var a,i=Kce[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function yS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var Xce={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Qce={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Jce={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zce={date:yS({formats:Xce,defaultWidth:"full"}),time:yS({formats:Qce,defaultWidth:"full"}),dateTime:yS({formats:Jce,defaultWidth:"full"})},eue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},tue=function(t,r,n,a){return eue[t]};function Nm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var rue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},nue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},iue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},sue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},oue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},lue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},cue={ordinalNumber:lue,era:Nm({values:rue,defaultWidth:"wide"}),quarter:Nm({values:nue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Nm({values:aue,defaultWidth:"wide"}),day:Nm({values:iue,defaultWidth:"wide"}),dayPeriod:Nm({values:sue,defaultWidth:"wide",formattingValues:oue,defaultFormattingWidth:"wide"})};function Om(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?fue(o,function(f){return f.test(s)}):uue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function uue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function fue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function hue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var due=/^(\d+)(th|st|nd|rd)?/i,pue=/\d+/i,mue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},gue={any:[/^b/i,/^(a|c)/i]},vue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},yue={any:[/1/i,/2/i,/3/i,/4/i]},xue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},bue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},wue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_ue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Sue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Aue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Tue={ordinalNumber:hue({matchPattern:due,parsePattern:pue,valueCallback:function(t){return parseInt(t,10)}}),era:Om({matchPatterns:mue,defaultMatchWidth:"wide",parsePatterns:gue,defaultParseWidth:"any"}),quarter:Om({matchPatterns:vue,defaultMatchWidth:"wide",parsePatterns:yue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Om({matchPatterns:xue,defaultMatchWidth:"wide",parsePatterns:bue,defaultParseWidth:"any"}),day:Om({matchPatterns:wue,defaultMatchWidth:"wide",parsePatterns:_ue,defaultParseWidth:"any"}),dayPeriod:Om({matchPatterns:Sue,defaultMatchWidth:"any",parsePatterns:Aue,defaultParseWidth:"any"})},IU={code:"en-US",formatDistance:Yce,formatLong:Zce,formatRelative:tue,localize:cue,match:Tue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Eue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Pue=/^'([^]*?)'?$/,Cue=/''/g,Nue=/[a-zA-Z]/;function Ft(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v;Kr(2,arguments);var y=String(t),b=Bv(),_=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:IU,O=Fl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=Fl((f=(h=(d=(m=void 0)!==null&&m!==void 0?m:void 0)!==null&&d!==void 0?d:b.weekStartsOn)!==null&&h!==void 0?h:(p=b.locale)===null||p===void 0||(v=p.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(C>=0&&C<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!_.localize)throw new RangeError("locale must contain localize property");if(!_.formatLong)throw new RangeError("locale must contain formatLong property");var N=en(e);if(!Sce(N))throw new RangeError("Invalid time value");var T=uT(N),S=Ice(N,T),A={firstWeekContainsDate:O,weekStartsOn:C,locale:_,_originalDate:N},D=y.match(kue).map(function(E){var P=E[0];if(P==="p"||P==="P"){var j=zce[P];return j(E,_.formatLong)}return E}).join("").match(Eue).map(function(E){if(E==="''")return"'";var P=E[0];if(P==="'")return Oue(E);var j=Vce[P];if(j)return Gce(E)&&$8(E,t,String(e)),Hce(E)&&$8(E,t,String(e)),j(S,E,_.localize,A);if(P.match(Nue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+P+"`");return E}).join("");return D}function Oue(e){var t=e.match(Pue);return t?t[1].replace(Cue,"'"):e}function DU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Iue(e){return DU({},e)}var B8=1440,Due=2520,xS=43200,Lue=86400;function jue(e,t,r){var n,a;Kr(2,arguments);var i=Bv(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:IU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=Zx(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=DU(Iue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=en(t),u=en(e)):(c=en(e),u=en(t));var f=Oce(u,c),h=(uT(u)-uT(c))/1e3,d=Math.round((f-h)/60),m;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<B8){var p=Math.round(d/60);return s.formatDistance("aboutXHours",p,l)}else{if(d<Due)return s.formatDistance("xDays",1,l);if(d<xS){var v=Math.round(d/B8);return s.formatDistance("xDays",v,l)}else if(d<Lue)return m=Math.round(d/xS),s.formatDistance("aboutXMonths",m,l)}if(m=Nce(u,c),m<12){var y=Math.round(d/xS);return s.formatDistance("xMonths",y,l)}else{var b=m%12,_=Math.floor(m/12);return b<3?s.formatDistance("aboutXYears",_,l):b<9?s.formatDistance("overXYears",_,l):s.formatDistance("almostXYears",_+1,l)}}function Mue(e,t){return Kr(1,arguments),jue(e,Date.now(),t)}function ir(e,t){Kr(2,arguments);var r=Fl(t);return xce(e,-r)}function Rue(e,t){var r;Kr(1,arguments);var n=Fl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Vue(e),i;if(a.date){var s=Uue(a.date,n);i=zue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=que(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=Wue(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var tx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Fue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,$ue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Bue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Vue(e){var t={},r=e.split(tx.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],tx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(tx.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=tx.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Uue(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function zue(e,t){if(t===null)return new Date(NaN);var r=e.match(Fue);if(!r)return new Date(NaN);var n=!!r[4],a=Im(r[1]),i=Im(r[2])-1,s=Im(r[3]),o=Im(r[4]),l=Im(r[5])-1;if(n)return Xue(t,o,l)?Hue(t,o,l):new Date(NaN);var c=new Date(0);return!Kue(t,i,s)||!Yue(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Im(e){return e?parseInt(e):1}function que(e){var t=e.match($ue);if(!t)return NaN;var r=bS(t[1]),n=bS(t[2]),a=bS(t[3]);return Que(r,n,a)?r*PU+n*kU+a*1e3:NaN}function bS(e){return e&&parseFloat(e.replace(",","."))||0}function Wue(e){if(e==="Z")return 0;var t=e.match(Bue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return Jue(n,a)?r*(n*PU+a*kU):NaN}function Hue(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var Gue=[31,null,31,30,31,30,31,31,30,31,30,31];function LU(e){return e%400===0||e%4===0&&e%100!==0}function Kue(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(Gue[t]||(LU(e)?29:28))}function Yue(e,t){return t>=1&&t<=(LU(e)?366:365)}function Xue(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function Que(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function Jue(e,t){return t>=0&&t<=59}const Zue=()=>{const[e,t]=Z.useState(!0),[r,n]=Z.useState([]),[a,i]=Z.useState([]),[s,o]=Z.useState([]),[l,c]=Z.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=tn(),f=async()=>{t(!0);try{const p=new Date,v=ir(p,30),y=ir(p,1),b=p,_=kr(Ct(gt,"orders"),Hr("createdAt",">=",Qt.fromDate(v)),Hr("createdAt","<=",Qt.fromDate(p))),O=kr(Ct(gt,"orders"),Hr("createdAt",">=",Qt.fromDate(y)),Hr("createdAt","<=",Qt.fromDate(b))),C=kr(Ct(gt,"inventory")),N=kr(Ct(gt,"inventory"),Hr("lastUpdated",">=",Qt.fromDate(y)),Hr("lastUpdated","<=",Qt.fromDate(b))),[T,S,A,D]=await Promise.all([Sr(_),Sr(O),Sr(C),Sr(N)]),E=T.docs.map(Re=>({id:Re.id,...Re.data()})),P=S.docs.map(Re=>({id:Re.id,...Re.data()})),j=S.docs.length,G=A.docs.reduce((Re,Qe)=>{const je=Qe.data();return Re+(je.quantity||0)},0),U=D.docs.reduce((Re,Qe)=>{const je=Qe.data();return Re+(je.quantityChange||0)},0),Q=A.docs.reduce((Re,Qe)=>{const je=Qe.data();return Re+(je.quantity||0)*(je.price||0)},0),J=E.length,z=P.reduce((Re,Qe)=>Re+(Qe.totalAmount||0),0),B=kr(Ct(gt,"inventory")),ne=(await Sr(B)).docs.map(Re=>({id:Re.id,...Re.data()})),I=ne.filter(Re=>Re.quantity<=10),F=ne.filter(Re=>Re.quantity>10&&Re.quantity<=25);console.log("All stock items:",ne),console.log("Critical items:",I),console.log("Low stock items:",F),i(I),o(F);const q=new Date,Y=tb(q),K=P1(q),le=tb(ir(q,1)),ce=P1(ir(q,1)),X=kr(Ct(gt,"activityLogs"),Hr("time",">=",Y.toISOString()),Hr("time","<=",K.toISOString())),he=kr(Ct(gt,"activityLogs"),Hr("time",">=",le.toISOString()),Hr("time","<=",ce.toISOString())),[de,H]=await Promise.all([Sr(X),Sr(he)]),Ae=de.docs.map(Re=>Re.data()),Ee=H.docs.map(Re=>Re.data()),Se=Ae.reduce((Re,Qe)=>{const je=Qe.detail.match(/(\d+) units deducted/);return Re+(je?parseInt(je[1]):0)},0),ae=Ee.reduce((Re,Qe)=>{const je=Qe.detail.match(/(\d+) units deducted/);return Re+(je?parseInt(je[1]):0)},0),Ce=Ae.reduce((Re,Qe)=>{const je=Qe.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Re+(je?parseInt(je[1]):0)},0),Me=Ae.reduce((Re,Qe)=>{const je=Qe.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(je){const[,Ke,ot]=je,it=A.docs.find(ht=>ht.data().name===Ke);if(it){const ht=it.data().price||0;return Re+parseInt(ot)*ht}}return Re},0),Be=Ae.reduce((Re,Qe)=>{const je=Qe.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Ke=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ot of Ke){const it=je.match(ot);if(it)if(it.length===3){const ht=parseInt(it[1]),yt=parseInt(it[2]);return Re+Math.abs(ht-yt)}else return Re+parseInt(it[1])}return Re+1}return Re},0),Ze=Ee.reduce((Re,Qe)=>{const je=Qe.detail.toLowerCase();if(/reason:\s*damaged/i.test(je)||/damaged/i.test(je)||/damageditems/i.test(je)||/damaged items/i.test(je)){const Ke=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const ot of Ke){const it=je.match(ot);if(it)if(it.length===3){const ht=parseInt(it[1]),yt=parseInt(it[2]);return Re+Math.abs(ht-yt)}else return Re+parseInt(it[1])}return Re+1}return Re},0);c({totalOrders:J,totalStock:G,totalInventoryValue:Q,todayDamagedProducts:Be,yesterdayDamagedProducts:Ze,yesterdayOrders:j,yesterdayStockChange:U,yesterdayRevenue:z,totalDeductions:Se,yesterdayDeductions:ae,todayStockAdditions:Ce,todayInventoryValueAdditions:Me})}catch(p){console.error("Error fetching stats:",p)}finally{t(!1)}},h=async()=>{try{const p=kr(Ct(gt,"activityLogs"),bi("time","desc"),Gx(5)),y=(await Sr(p)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(p){console.error("Error fetching recent activities:",p)}},d=async()=>{await Promise.all([f(),h()])};Z.useEffect(()=>{d()},[]);const m=()=>{const{isDarkMode:p}=tn();return g.jsxs("div",{className:"animate-pulse",children:[g.jsx("div",{className:`h-10 ${p?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>g.jsx("div",{className:`h-16 ${p?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return g.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),g.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),g.jsx(Nt,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:g.jsx(Pf,{size:16,className:e?"animate-spin":""})})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?g.jsxs(g.Fragment,{children:[g.jsx(qu,{}),g.jsx(qu,{}),g.jsx(qu,{}),g.jsx(qu,{})]}):g.jsxs(g.Fragment,{children:[g.jsx(zu,{title:"Total Stock",value:l.totalStock,icon:g.jsx(L2,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:g.jsx(Ds,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),g.jsx(zu,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:g.jsx(B9,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),g.jsx(zu,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:g.jsx(Fw,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),g.jsx(zu,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:g.jsx(F9,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:p=>`£${p.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:g.jsx(Ds,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[g.jsx(vS,{title:"Recent Activity",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):r.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.user}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.role}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.detail}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Mue(new Date(p.time),{addSuffix:!0})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),g.jsx(vS,{title:"Low Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):s.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.name}),g.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[p.locationCode,"-",p.shelfNumber]}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.quantity}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.jsx(vS,{title:"Critical Stock Items",className:`h-[400px] overflow-hidden ${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?g.jsx(m,{}):a.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),g.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.map(p=>g.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.name}),g.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[p.locationCode,"-",p.shelfNumber]}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.quantity}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:g.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},p.id))})]})}):g.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),g.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},Wn=({isOpen:e,onClose:t,title:r,children:n,size:a="md"})=>{const{isDarkMode:i}=tn(),s=Z.useRef(null);if(Z.useEffect(()=>{const l=c=>{c.key==="Escape"&&t()};return e&&window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)}},[e,t]),Z.useEffect(()=>{const l=c=>{s.current&&!s.current.contains(c.target)&&t()};return e&&document.addEventListener("mousedown",l),()=>{document.removeEventListener("mousedown",l)}},[e,t]),!e)return null;const o={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return g.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:g.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[g.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:t}),g.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${o[a]} w-full ${i?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h3",{className:`text-lg font-medium ${i?"text-white":"text-slate-900"}`,children:r}),g.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${i?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:g.jsx(ik,{size:20})})]}),g.jsx("div",{className:`${i?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},nd=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=Z.useState(!1);return Z.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),g.jsx(Wn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:g.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[g.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:g.jsx(Cc,{size:32,className:"text-blue-500"})}),g.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&g.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jU=1252,efe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],NP={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},OP=function(e){efe.indexOf(e)!=-1&&(jU=NP[0]=e)};function tfe(){OP(1252)}var Go=function(e){OP(e)};function MU(){Go(1200),tfe()}function V8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function rfe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function RU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var tg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?rfe(e.slice(2)):t==254&&r==255?RU(e.slice(2)):t==65279?e.slice(1):e},rx=function(t){return String.fromCharCode(t)},U8=function(t){return String.fromCharCode(t)},Mu,Wu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z8(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Wu.charAt(i)+Wu.charAt(s)+Wu.charAt(o)+Wu.charAt(l);return t}function Ms(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Wu.indexOf(e.charAt(c++)),s=Wu.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Wu.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Wu.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var vr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ad=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function wf(e){return vr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function q8(e){return vr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Wo=function(t){return vr?ad(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function id(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function IP(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return IP(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Ru=vr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ad(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function nfe(e){for(var t=[],r=0,n=e.length+250,a=wf(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=wf(65535),n=65530)}return t.push(a.slice(0,r)),Ru(t)}var Wi=/\u0000/g,rg=/[\u0001-\u0006]/g;function k0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Ko(e,t){var r=""+e;return r.length>=t?r:Un("0",t-r.length)+r}function DP(e,t){var r=""+e;return r.length>=t?r:Un(" ",t-r.length)+r}function ab(e,t){var r=""+e;return r.length>=t?r:r+Un(" ",t-r.length)}function afe(e,t){var r=""+Math.round(e);return r.length>=t?r:Un("0",t-r.length)+r}function ife(e,t){var r=""+e;return r.length>=t?r:Un("0",t-r.length)+r}var W8=Math.pow(2,32);function Fd(e,t){if(e>W8||e<-W8)return afe(e,t);var r=Math.round(e);return ife(r,t)}function ib(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var H8=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],wS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function sfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var sr={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},G8={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},ofe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function sb(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function _h(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=dfe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var FU=new Date(1899,11,31,0,0,0),lfe=FU.getTime(),cfe=new Date(1900,2,1,0,0,0);function $U(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=cfe&&(r+=24*60*60*1e3),(r-(lfe+(e.getTimezoneOffset()-FU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function LP(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function ufe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ffe(e){var t=e<0?12:11,r=LP(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function hfe(e){var t=LP(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function C1(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ffe(e):t===10?r=e.toFixed(10).substr(0,12):r=hfe(e),LP(ufe(r.toUpperCase()))}function qh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):C1(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return mo(14,$U(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function dfe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function pfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return wS[r.m-1][1];case 5:return wS[r.m-1][0];default:return wS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return H8[r.q][0];default:return H8[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Ko(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=Ko(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?Ko(l,c):"";return u}function Hu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var BU=/%/g;function mfe(e,t,r){var n=t.replace(BU,""),a=t.length-n.length;return yc(e,n,r*Math.pow(10,2*a))+Un("%",a)}function gfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return yc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function VU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+VU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var UU=/# (\?+)( ?)\/( ?)(\d+)/;function vfe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Un(" ",e[1].length+1+e[4].length):DP(s,e[1].length)+e[2]+"/"+e[3]+Ko(o,e[4].length))}function yfe(e,t,r){return r+(t===0?"":""+t)+Un(" ",e[1].length+2+e[4].length)}var zU=/^#*0*\.([0#]+)/,qU=/\).*[0#]/,WU=/\(###\) ###\\?-####/;function Ri(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function K8(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function Y8(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function xfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function bfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function eo(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?eo("n",n,r):"("+eo("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return gfe(e,t,r);if(t.indexOf("%")!==-1)return mfe(e,t,r);if(t.indexOf("E")!==-1)return VU(t,r);if(t.charCodeAt(0)===36)return"$"+eo(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Fd(l,t.length);if(t.match(/^[#?]+$/))return a=Fd(r,0),a==="0"&&(a=""),a.length>t.length?a:Ri(t.substr(0,t.length-a.length))+a;if(i=t.match(UU))return vfe(i,l,c);if(t.match(/^#+0+$/))return c+Fd(l,t.length-t.indexOf("0"));if(i=t.match(zU))return a=K8(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Ri(i[1])).replace(/\.$/,"."+Ri(i[1])).replace(/\.(\d*)$/,function(m,p){return"."+p+Un("0",Ri(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+K8(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Hu(Fd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+eo(e,t,-r):Hu(""+(Math.floor(r)+xfe(r,i[1].length)))+"."+Ko(Y8(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return eo(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=k0(eo(e,t.replace(/[\\-]/g,""),r)),s=0,k0(k0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(WU))return a=eo(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=sb(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=ab(o[2],s),u.length<i[4].length&&(u=Ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=sb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?DP(o[1],s)+i[2]+"/"+i[3]+ab(o[2],s):Un(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=Fd(r,0),t.length<=a.length?a:Ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=Y8(r,i[1].length),r<0?"-"+eo(e,t,-r):Hu(bfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ko(0,3-m.length):"")+m})+"."+Ko(s,i[1].length);switch(t){case"###,##0.00":return eo(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Hu(Fd(l,0));return d!=="0"?c+d:"";case"###,###.00":return eo(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return eo(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function wfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return yc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _fe(e,t,r){var n=t.replace(BU,""),a=t.length-n.length;return yc(e,n,r*Math.pow(10,2*a))+Un("%",a)}function HU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+HU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function vl(e,t,r){if(e.charCodeAt(0)===40&&!t.match(qU)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?vl("n",n,r):"("+vl("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return wfe(e,t,r);if(t.indexOf("%")!==-1)return _fe(e,t,r);if(t.indexOf("E")!==-1)return HU(t,r);if(t.charCodeAt(0)===36)return"$"+vl(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+Ko(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Ri(t.substr(0,t.length-a.length))+a;if(i=t.match(UU))return yfe(i,l,c);if(t.match(/^#+0+$/))return c+Ko(l,t.length-t.indexOf("0"));if(i=t.match(zU))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Ri(i[1])).replace(/\.$/,"."+Ri(i[1])),a=a.replace(/\.(\d*)$/,function(m,p){return"."+p+Un("0",Ri(i[1]).length-p.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Hu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+vl(e,t,-r):Hu(""+r)+"."+Un("0",i[1].length);if(i=t.match(/^#,#*,#0/))return vl(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=k0(vl(e,t.replace(/[\\-]/g,""),r)),s=0,k0(k0(t.replace(/\\/g,"")).replace(/[0#]/g,function(m){return s<a.length?a.charAt(s++):m==="0"?"0":""}));if(t.match(WU))return a=vl(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=sb(l,Math.pow(10,s)-1,!1),a=""+c,u=yc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=ab(o[2],s),u.length<i[4].length&&(u=Ri(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=sb(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?DP(o[1],s)+i[2]+"/"+i[3]+ab(o[2],s):Un(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Ri(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Ri(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+vl(e,t,-r):Hu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(m){return"00,"+(m.length<3?Ko(0,3-m.length):"")+m})+"."+Ko(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Hu(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return vl(e,t.slice(0,t.lastIndexOf(".")),r)+Ri(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function yc(e,t,r){return(r|0)===r?vl(e,t,r):eo(e,t,r)}function Sfe(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var GU=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function zp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":ib(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(GU))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Afe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!ib(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),m=d==="("||d===")"?d:"t";a[a.length]={t:m,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=_h(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=_h(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var p={t:o,v:o};if(c==null&&(c=_h(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(p.v=c.H>=12?"P":"A"),p.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(p.v=c.H>=12?"PM":"AM"),p.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(p.v=c.H>=12?"下午":"上午"),p.t="T",s+=5,h="h"):(p.t="t",++s),c==null&&p.t==="T")return"";a[a.length]=p,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(GU)){if(c==null&&(c=_h(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",zp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var _="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=pfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;_+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=qh(t,r);break}var C="",N,T;if(_.length>0){_.charCodeAt(0)==40?(N=t<0&&_.charCodeAt(0)===45?-t:t,T=yc("n",_,N)):(N=t<0&&n>1?-t:t,T=yc("n",_,N),N<0&&a[0]&&a[0].t=="t"&&(T=T.substr(1),a[0].v="-"+a[0].v)),O=T.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var A=a.length;if(S===a.length&&T.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=T.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=T.substr(0,O+1),O=-1),a[s].t="t",A=s);O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v)}else if(S!==a.length&&T.indexOf("E")===-1){for(O=T.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,C=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(C=T.charAt(O--)+C);a[s].v=C,a[s].t="t",A=s}for(O>=0&&A<a.length&&(a[A].v=T.substr(0,O+1)+a[A].v),O=T.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,C=a[s].v.substr(0,u);u<a[s].v.length;++u)O<T.length&&(C+=T.charAt(O++));a[s].v=C,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(N=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=yc(a[s].t,a[s].v,N),a[s].t="t");var D="";for(s=0;s!==a.length;++s)a[s]!=null&&(D+=a[s].v);return D}var X8=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Q8(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function Tfe(e,t){var r=Sfe(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(X8),o=r[1].match(X8);return Q8(t,s)?[n,r[0]]:Q8(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function mo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:sr)[e],n==null&&(n=r.table&&r.table[G8[e]]||sr[G8[e]]),n==null&&(n=ofe[e]||"General");break}if(ib(n,0))return qh(t,r);t instanceof Date&&(t=$U(t,r.date1904));var a=Tfe(n,t);if(ib(a[1]))return qh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Afe(a[1],t,r,a[0])}function Oh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(sr[r]==null){t<0&&(t=r);continue}if(sr[r]==e){t=r;break}}t<0&&(t=391)}return sr[t]=e,t}function KU(){sr=sfe()}var Efe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},YU=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function kfe(e){var t=typeof e=="number"?sr[e]:e;return t=t.replace(YU,"(\\d+)"),new RegExp("^"+t+"$")}function Pfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(YU)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Cfe=function(){var e={};e.version="1.2.0";function t(){for(var T=0,S=new Array(256),A=0;A!=256;++A)T=A,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,T=T&1?-306674912^T>>>1:T>>>1,S[A]=T;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(T){var S=0,A=0,D=0,E=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)E[D]=T[D];for(D=0;D!=256;++D)for(A=T[D],S=256+D;S<4096;S+=256)A=E[S]=A>>>8^T[A&255];var P=[];for(D=1;D!=16;++D)P[D-1]=typeof Int32Array<"u"?E.subarray(D*256,D*256+256):E.slice(D*256,D*256+256);return P}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],m=a[9],p=a[10],v=a[11],y=a[12],b=a[13],_=a[14];function O(T,S){for(var A=S^-1,D=0,E=T.length;D<E;)A=A>>>8^r[(A^T.charCodeAt(D++))&255];return~A}function C(T,S){for(var A=S^-1,D=T.length-15,E=0;E<D;)A=_[T[E++]^A&255]^b[T[E++]^A>>8&255]^y[T[E++]^A>>16&255]^v[T[E++]^A>>>24]^p[T[E++]]^m[T[E++]]^d[T[E++]]^h[T[E++]]^f[T[E++]]^u[T[E++]]^c[T[E++]]^l[T[E++]]^o[T[E++]]^s[T[E++]]^i[T[E++]]^r[T[E++]];for(D+=15;E<D;)A=A>>>8^r[(A^T[E++])&255];return~A}function N(T,S){for(var A=S^-1,D=0,E=T.length,P=0,j=0;D<E;)P=T.charCodeAt(D++),P<128?A=A>>>8^r[(A^P)&255]:P<2048?(A=A>>>8^r[(A^(192|P>>6&31))&255],A=A>>>8^r[(A^(128|P&63))&255]):P>=55296&&P<57344?(P=(P&1023)+64,j=T.charCodeAt(D++)&1023,A=A>>>8^r[(A^(240|P>>8&7))&255],A=A>>>8^r[(A^(128|P>>2&63))&255],A=A>>>8^r[(A^(128|j>>6&15|(P&3)<<4))&255],A=A>>>8^r[(A^(128|j&63))&255]):(A=A>>>8^r[(A^(224|P>>12&15))&255],A=A>>>8^r[(A^(128|P>>6&63))&255],A=A>>>8^r[(A^(128|P&63))&255]);return~A}return e.table=r,e.bstr=O,e.buf=C,e.str=N,e}(),Ar=function(){var t={};t.version="1.2.1";function r(ie,be){for(var me=ie.split("/"),ge=be.split("/"),xe=0,we=0,Fe=Math.min(me.length,ge.length);xe<Fe;++xe){if(we=me[xe].length-ge[xe].length)return we;if(me[xe]!=ge[xe])return me[xe]<ge[xe]?-1:1}return me.length-ge.length}function n(ie){if(ie.charAt(ie.length-1)=="/")return ie.slice(0,-1).indexOf("/")===-1?ie:n(ie.slice(0,-1));var be=ie.lastIndexOf("/");return be===-1?ie:ie.slice(0,be+1)}function a(ie){if(ie.charAt(ie.length-1)=="/")return a(ie.slice(0,-1));var be=ie.lastIndexOf("/");return be===-1?ie:ie.slice(be+1)}function i(ie,be){typeof be=="string"&&(be=new Date(be));var me=be.getHours();me=me<<6|be.getMinutes(),me=me<<5|be.getSeconds()>>>1,ie.write_shift(2,me);var ge=be.getFullYear()-1980;ge=ge<<4|be.getMonth()+1,ge=ge<<5|be.getDate(),ie.write_shift(2,ge)}function s(ie){var be=ie.read_shift(2)&65535,me=ie.read_shift(2)&65535,ge=new Date,xe=me&31;me>>>=5;var we=me&15;me>>>=4,ge.setMilliseconds(0),ge.setFullYear(me+1980),ge.setMonth(we-1),ge.setDate(xe);var Fe=be&31;be>>>=5;var He=be&63;return be>>>=6,ge.setHours(be),ge.setMinutes(He),ge.setSeconds(Fe<<1),ge}function o(ie){Ha(ie,0);for(var be={},me=0;ie.l<=ie.length-4;){var ge=ie.read_shift(2),xe=ie.read_shift(2),we=ie.l+xe,Fe={};switch(ge){case 21589:me=ie.read_shift(1),me&1&&(Fe.mtime=ie.read_shift(4)),xe>5&&(me&2&&(Fe.atime=ie.read_shift(4)),me&4&&(Fe.ctime=ie.read_shift(4))),Fe.mtime&&(Fe.mt=new Date(Fe.mtime*1e3));break}ie.l=we,be[ge]=Fe}return be}var l;function c(){return l||(l={})}function u(ie,be){if(ie[0]==80&&ie[1]==75)return Fr(ie,be);if((ie[0]|32)==109&&(ie[1]|32)==105)return Ci(ie,be);if(ie.length<512)throw new Error("CFB file size "+ie.length+" < 512");var me=3,ge=512,xe=0,we=0,Fe=0,He=0,$e=0,Ve=[],We=ie.slice(0,512);Ha(We,0);var ct=f(We);switch(me=ct[0],me){case 3:ge=512;break;case 4:ge=4096;break;case 0:if(ct[1]==0)return Fr(ie,be);default:throw new Error("Major Version: Expected 3 or 4 saw "+me)}ge!==512&&(We=ie.slice(0,ge),Ha(We,28));var vt=ie.slice(0,ge);h(We,me);var Tt=We.read_shift(4,"i");if(me===3&&Tt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Tt);We.l+=4,Fe=We.read_shift(4,"i"),We.l+=4,We.chk("00100000","Mini Stream Cutoff Size: "),He=We.read_shift(4,"i"),xe=We.read_shift(4,"i"),$e=We.read_shift(4,"i"),we=We.read_shift(4,"i");for(var pt=-1,wt=0;wt<109&&(pt=We.read_shift(4,"i"),!(pt<0));++wt)Ve[wt]=pt;var Ut=d(ie,ge);v($e,we,Ut,ge,Ve);var xr=b(Ut,Fe,Ve,ge);xr[Fe].name="!Directory",xe>0&&He!==j&&(xr[He].name="!MiniFAT"),xr[Ve[0]].name="!FAT",xr.fat_addrs=Ve,xr.ssz=ge;var br={},Qr=[],Ni=[],bo=[];_(Fe,xr,Ut,Qr,xe,br,Ni,He),m(Ni,bo,Qr),Qr.shift();var ps={FileIndex:Ni,FullPaths:bo};return be&&be.raw&&(ps.raw={header:vt,sectors:Ut}),ps}function f(ie){if(ie[ie.l]==80&&ie[ie.l+1]==75)return[0,0];ie.chk(G,"Header Signature: "),ie.l+=16;var be=ie.read_shift(2,"u");return[ie.read_shift(2,"u"),be]}function h(ie,be){var me=9;switch(ie.l+=2,me=ie.read_shift(2)){case 9:if(be!=3)throw new Error("Sector Shift: Expected 9 saw "+me);break;case 12:if(be!=4)throw new Error("Sector Shift: Expected 12 saw "+me);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+me)}ie.chk("0600","Mini Sector Shift: "),ie.chk("000000000000","Reserved: ")}function d(ie,be){for(var me=Math.ceil(ie.length/be)-1,ge=[],xe=1;xe<me;++xe)ge[xe-1]=ie.slice(xe*be,(xe+1)*be);return ge[me-1]=ie.slice(me*be),ge}function m(ie,be,me){for(var ge=0,xe=0,we=0,Fe=0,He=0,$e=me.length,Ve=[],We=[];ge<$e;++ge)Ve[ge]=We[ge]=ge,be[ge]=me[ge];for(;He<We.length;++He)ge=We[He],xe=ie[ge].L,we=ie[ge].R,Fe=ie[ge].C,Ve[ge]===ge&&(xe!==-1&&Ve[xe]!==xe&&(Ve[ge]=Ve[xe]),we!==-1&&Ve[we]!==we&&(Ve[ge]=Ve[we])),Fe!==-1&&(Ve[Fe]=ge),xe!==-1&&ge!=Ve[ge]&&(Ve[xe]=Ve[ge],We.lastIndexOf(xe)<He&&We.push(xe)),we!==-1&&ge!=Ve[ge]&&(Ve[we]=Ve[ge],We.lastIndexOf(we)<He&&We.push(we));for(ge=1;ge<$e;++ge)Ve[ge]===ge&&(we!==-1&&Ve[we]!==we?Ve[ge]=Ve[we]:xe!==-1&&Ve[xe]!==xe&&(Ve[ge]=Ve[xe]));for(ge=1;ge<$e;++ge)if(ie[ge].type!==0){if(He=ge,He!=Ve[He])do He=Ve[He],be[ge]=be[He]+"/"+be[ge];while(He!==0&&Ve[He]!==-1&&He!=Ve[He]);Ve[ge]=-1}for(be[0]+="/",ge=1;ge<$e;++ge)ie[ge].type!==2&&(be[ge]+="/")}function p(ie,be,me){for(var ge=ie.start,xe=ie.size,we=[],Fe=ge;me&&xe>0&&Fe>=0;)we.push(be.slice(Fe*P,Fe*P+P)),xe-=P,Fe=ph(me,Fe*4);return we.length===0?va(0):Ru(we).slice(0,ie.size)}function v(ie,be,me,ge,xe){var we=j;if(ie===j){if(be!==0)throw new Error("DIFAT chain shorter than expected")}else if(ie!==-1){var Fe=me[ie],He=(ge>>>2)-1;if(!Fe)return;for(var $e=0;$e<He&&(we=ph(Fe,$e*4))!==j;++$e)xe.push(we);v(ph(Fe,ge-4),be-1,me,ge,xe)}}function y(ie,be,me,ge,xe){var we=[],Fe=[];xe||(xe=[]);var He=ge-1,$e=0,Ve=0;for($e=be;$e>=0;){xe[$e]=!0,we[we.length]=$e,Fe.push(ie[$e]);var We=me[Math.floor($e*4/ge)];if(Ve=$e*4&He,ge<4+Ve)throw new Error("FAT boundary crossed: "+$e+" 4 "+ge);if(!ie[We])break;$e=ph(ie[We],Ve)}return{nodes:we,data:oD([Fe])}}function b(ie,be,me,ge){var xe=ie.length,we=[],Fe=[],He=[],$e=[],Ve=ge-1,We=0,ct=0,vt=0,Tt=0;for(We=0;We<xe;++We)if(He=[],vt=We+be,vt>=xe&&(vt-=xe),!Fe[vt]){$e=[];var pt=[];for(ct=vt;ct>=0;){pt[ct]=!0,Fe[ct]=!0,He[He.length]=ct,$e.push(ie[ct]);var wt=me[Math.floor(ct*4/ge)];if(Tt=ct*4&Ve,ge<4+Tt)throw new Error("FAT boundary crossed: "+ct+" 4 "+ge);if(!ie[wt]||(ct=ph(ie[wt],Tt),pt[ct]))break}we[vt]={nodes:He,data:oD([$e])}}return we}function _(ie,be,me,ge,xe,we,Fe,He){for(var $e=0,Ve=ge.length?2:0,We=be[ie].data,ct=0,vt=0,Tt;ct<We.length;ct+=128){var pt=We.slice(ct,ct+128);Ha(pt,64),vt=pt.read_shift(2),Tt=$P(pt,0,vt-Ve),ge.push(Tt);var wt={name:Tt,type:pt.read_shift(1),color:pt.read_shift(1),L:pt.read_shift(4,"i"),R:pt.read_shift(4,"i"),C:pt.read_shift(4,"i"),clsid:pt.read_shift(16),state:pt.read_shift(4,"i"),start:0,size:0},Ut=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);Ut!==0&&(wt.ct=O(pt,pt.l-8));var xr=pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2)+pt.read_shift(2);xr!==0&&(wt.mt=O(pt,pt.l-8)),wt.start=pt.read_shift(4,"i"),wt.size=pt.read_shift(4,"i"),wt.size<0&&wt.start<0&&(wt.size=wt.type=0,wt.start=j,wt.name=""),wt.type===5?($e=wt.start,xe>0&&$e!==j&&(be[$e].name="!StreamData")):wt.size>=4096?(wt.storage="fat",be[wt.start]===void 0&&(be[wt.start]=y(me,wt.start,be.fat_addrs,be.ssz)),be[wt.start].name=wt.name,wt.content=be[wt.start].data.slice(0,wt.size)):(wt.storage="minifat",wt.size<0?wt.size=0:$e!==j&&wt.start!==j&&be[$e]&&(wt.content=p(wt,be[$e].data,(be[He]||{}).data))),wt.content&&Ha(wt.content,0),we[Tt]=wt,Fe.push(wt)}}function O(ie,be){return new Date((Es(ie,be+4)/1e7*Math.pow(2,32)+Es(ie,be)/1e7-11644473600)*1e3)}function C(ie,be){return c(),u(l.readFileSync(ie),be)}function N(ie,be){var me=be&&be.type;switch(me||vr&&Buffer.isBuffer(ie)&&(me="buffer"),me||"base64"){case"file":return C(ie,be);case"base64":return u(Wo(Ms(ie)),be);case"binary":return u(Wo(ie),be)}return u(ie,be)}function T(ie,be){var me=be||{},ge=me.root||"Root Entry";if(ie.FullPaths||(ie.FullPaths=[]),ie.FileIndex||(ie.FileIndex=[]),ie.FullPaths.length!==ie.FileIndex.length)throw new Error("inconsistent CFB structure");ie.FullPaths.length===0&&(ie.FullPaths[0]=ge+"/",ie.FileIndex[0]={name:ge,type:5}),me.CLSID&&(ie.FileIndex[0].clsid=me.CLSID),S(ie)}function S(ie){var be="Sh33tJ5";if(!Ar.find(ie,"/"+be)){var me=va(4);me[0]=55,me[1]=me[3]=50,me[2]=54,ie.FileIndex.push({name:be,type:2,content:me,size:4,L:69,R:69,C:69}),ie.FullPaths.push(ie.FullPaths[0]+be),A(ie)}}function A(ie,be){T(ie);for(var me=!1,ge=!1,xe=ie.FullPaths.length-1;xe>=0;--xe){var we=ie.FileIndex[xe];switch(we.type){case 0:ge?me=!0:(ie.FileIndex.pop(),ie.FullPaths.pop());break;case 1:case 2:case 5:ge=!0,isNaN(we.R*we.L*we.C)&&(me=!0),we.R>-1&&we.L>-1&&we.R==we.L&&(me=!0);break;default:me=!0;break}}if(!(!me&&!be)){var Fe=new Date(1987,1,19),He=0,$e=Object.create?Object.create(null):{},Ve=[];for(xe=0;xe<ie.FullPaths.length;++xe)$e[ie.FullPaths[xe]]=!0,ie.FileIndex[xe].type!==0&&Ve.push([ie.FullPaths[xe],ie.FileIndex[xe]]);for(xe=0;xe<Ve.length;++xe){var We=n(Ve[xe][0]);ge=$e[We],ge||(Ve.push([We,{name:a(We).replace("/",""),type:1,clsid:Q,ct:Fe,mt:Fe,content:null}]),$e[We]=!0)}for(Ve.sort(function(Tt,pt){return r(Tt[0],pt[0])}),ie.FullPaths=[],ie.FileIndex=[],xe=0;xe<Ve.length;++xe)ie.FullPaths[xe]=Ve[xe][0],ie.FileIndex[xe]=Ve[xe][1];for(xe=0;xe<Ve.length;++xe){var ct=ie.FileIndex[xe],vt=ie.FullPaths[xe];if(ct.name=a(vt).replace("/",""),ct.L=ct.R=ct.C=-(ct.color=1),ct.size=ct.content?ct.content.length:0,ct.start=0,ct.clsid=ct.clsid||Q,xe===0)ct.C=Ve.length>1?1:-1,ct.size=0,ct.type=5;else if(vt.slice(-1)=="/"){for(He=xe+1;He<Ve.length&&n(ie.FullPaths[He])!=vt;++He);for(ct.C=He>=Ve.length?-1:He,He=xe+1;He<Ve.length&&n(ie.FullPaths[He])!=n(vt);++He);ct.R=He>=Ve.length?-1:He,ct.type=1}else n(ie.FullPaths[xe+1]||"")==n(vt)&&(ct.R=xe+1),ct.type=2}}}function D(ie,be){var me=be||{};if(me.fileType=="mad")return Ot(ie,me);switch(A(ie),me.fileType){case"zip":return Pi(ie,me)}var ge=function(Tt){for(var pt=0,wt=0,Ut=0;Ut<Tt.FileIndex.length;++Ut){var xr=Tt.FileIndex[Ut];if(xr.content){var br=xr.content.length;br>0&&(br<4096?pt+=br+63>>6:wt+=br+511>>9)}}for(var Qr=Tt.FullPaths.length+3>>2,Ni=pt+7>>3,bo=pt+127>>7,ps=Ni+wt+Qr+bo,Xi=ps+127>>7,ms=Xi<=109?0:Math.ceil((Xi-109)/127);ps+Xi+ms+127>>7>Xi;)ms=++Xi<=109?0:Math.ceil((Xi-109)/127);var Ra=[1,ms,Xi,bo,Qr,wt,pt,0];return Tt.FileIndex[0].size=pt<<6,Ra[7]=(Tt.FileIndex[0].start=Ra[0]+Ra[1]+Ra[2]+Ra[3]+Ra[4]+Ra[5])+(Ra[6]+7>>3),Ra}(ie),xe=va(ge[7]<<9),we=0,Fe=0;{for(we=0;we<8;++we)xe.write_shift(1,U[we]);for(we=0;we<8;++we)xe.write_shift(2,0);for(xe.write_shift(2,62),xe.write_shift(2,3),xe.write_shift(2,65534),xe.write_shift(2,9),xe.write_shift(2,6),we=0;we<3;++we)xe.write_shift(2,0);for(xe.write_shift(4,0),xe.write_shift(4,ge[2]),xe.write_shift(4,ge[0]+ge[1]+ge[2]+ge[3]-1),xe.write_shift(4,0),xe.write_shift(4,4096),xe.write_shift(4,ge[3]?ge[0]+ge[1]+ge[2]-1:j),xe.write_shift(4,ge[3]),xe.write_shift(-4,ge[1]?ge[0]-1:j),xe.write_shift(4,ge[1]),we=0;we<109;++we)xe.write_shift(-4,we<ge[2]?ge[1]+we:-1)}if(ge[1])for(Fe=0;Fe<ge[1];++Fe){for(;we<236+Fe*127;++we)xe.write_shift(-4,we<ge[2]?ge[1]+we:-1);xe.write_shift(-4,Fe===ge[1]-1?j:Fe+1)}var He=function(Tt){for(Fe+=Tt;we<Fe-1;++we)xe.write_shift(-4,we+1);Tt&&(++we,xe.write_shift(-4,j))};for(Fe=we=0,Fe+=ge[1];we<Fe;++we)xe.write_shift(-4,J.DIFSECT);for(Fe+=ge[2];we<Fe;++we)xe.write_shift(-4,J.FATSECT);He(ge[3]),He(ge[4]);for(var $e=0,Ve=0,We=ie.FileIndex[0];$e<ie.FileIndex.length;++$e)We=ie.FileIndex[$e],We.content&&(Ve=We.content.length,!(Ve<4096)&&(We.start=Fe,He(Ve+511>>9)));for(He(ge[6]+7>>3);xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(Fe=we=0,$e=0;$e<ie.FileIndex.length;++$e)We=ie.FileIndex[$e],We.content&&(Ve=We.content.length,!(!Ve||Ve>=4096)&&(We.start=Fe,He(Ve+63>>6)));for(;xe.l&511;)xe.write_shift(-4,J.ENDOFCHAIN);for(we=0;we<ge[4]<<2;++we){var ct=ie.FullPaths[we];if(!ct||ct.length===0){for($e=0;$e<17;++$e)xe.write_shift(4,0);for($e=0;$e<3;++$e)xe.write_shift(4,-1);for($e=0;$e<12;++$e)xe.write_shift(4,0);continue}We=ie.FileIndex[we],we===0&&(We.start=We.size?We.start-1:j);var vt=we===0&&me.root||We.name;if(Ve=2*(vt.length+1),xe.write_shift(64,vt,"utf16le"),xe.write_shift(2,Ve),xe.write_shift(1,We.type),xe.write_shift(1,We.color),xe.write_shift(-4,We.L),xe.write_shift(-4,We.R),xe.write_shift(-4,We.C),We.clsid)xe.write_shift(16,We.clsid,"hex");else for($e=0;$e<4;++$e)xe.write_shift(4,0);xe.write_shift(4,We.state||0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,0),xe.write_shift(4,We.start),xe.write_shift(4,We.size),xe.write_shift(4,0)}for(we=1;we<ie.FileIndex.length;++we)if(We=ie.FileIndex[we],We.size>=4096)if(xe.l=We.start+1<<9,vr&&Buffer.isBuffer(We.content))We.content.copy(xe,xe.l,0,We.size),xe.l+=We.size+511&-512;else{for($e=0;$e<We.size;++$e)xe.write_shift(1,We.content[$e]);for(;$e&511;++$e)xe.write_shift(1,0)}for(we=1;we<ie.FileIndex.length;++we)if(We=ie.FileIndex[we],We.size>0&&We.size<4096)if(vr&&Buffer.isBuffer(We.content))We.content.copy(xe,xe.l,0,We.size),xe.l+=We.size+63&-64;else{for($e=0;$e<We.size;++$e)xe.write_shift(1,We.content[$e]);for(;$e&63;++$e)xe.write_shift(1,0)}if(vr)xe.l=xe.length;else for(;xe.l<xe.length;)xe.write_shift(1,0);return xe}function E(ie,be){var me=ie.FullPaths.map(function($e){return $e.toUpperCase()}),ge=me.map(function($e){var Ve=$e.split("/");return Ve[Ve.length-($e.slice(-1)=="/"?2:1)]}),xe=!1;be.charCodeAt(0)===47?(xe=!0,be=me[0].slice(0,-1)+be):xe=be.indexOf("/")!==-1;var we=be.toUpperCase(),Fe=xe===!0?me.indexOf(we):ge.indexOf(we);if(Fe!==-1)return ie.FileIndex[Fe];var He=!we.match(rg);for(we=we.replace(Wi,""),He&&(we=we.replace(rg,"!")),Fe=0;Fe<me.length;++Fe)if((He?me[Fe].replace(rg,"!"):me[Fe]).replace(Wi,"")==we||(He?ge[Fe].replace(rg,"!"):ge[Fe]).replace(Wi,"")==we)return ie.FileIndex[Fe];return null}var P=64,j=-2,G="d0cf11e0a1b11ae1",U=[208,207,17,224,161,177,26,225],Q="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:G,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Q,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function z(ie,be,me){c();var ge=D(ie,me);l.writeFileSync(be,ge)}function B(ie){for(var be=new Array(ie.length),me=0;me<ie.length;++me)be[me]=String.fromCharCode(ie[me]);return be.join("")}function ee(ie,be){var me=D(ie,be);switch(be&&be.type||"buffer"){case"file":return c(),l.writeFileSync(be.filename,me),me;case"binary":return typeof me=="string"?me:B(me);case"base64":return z8(typeof me=="string"?me:B(me));case"buffer":if(vr)return Buffer.isBuffer(me)?me:ad(me);case"array":return typeof me=="string"?Wo(me):me}return me}var ne;function I(ie){try{var be=ie.InflateRaw,me=new be;if(me._processChunk(new Uint8Array([3,0]),me._finishFlushFlag),me.bytesRead)ne=ie;else throw new Error("zlib does not expose bytesRead")}catch(ge){console.error("cannot use native zlib: "+(ge.message||ge))}}function F(ie,be){if(!ne)return Xt(ie,be);var me=ne.InflateRaw,ge=new me,xe=ge._processChunk(ie.slice(ie.l),ge._finishFlushFlag);return ie.l+=ge.bytesRead,xe}function q(ie){return ne?ne.deflateRawSync(ie):dt(ie)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],K=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],le=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(ie){var be=(ie<<1|ie<<11)&139536|(ie<<5|ie<<15)&558144;return(be>>16|be>>8|be)&255}for(var X=typeof Uint8Array<"u",he=X?new Uint8Array(256):[],de=0;de<256;++de)he[de]=ce(de);function H(ie,be){var me=he[ie&255];return be<=8?me>>>8-be:(me=me<<8|he[ie>>8&255],be<=16?me>>>16-be:(me=me<<8|he[ie>>16&255],me>>>24-be))}function Ae(ie,be){var me=be&7,ge=be>>>3;return(ie[ge]|(me<=6?0:ie[ge+1]<<8))>>>me&3}function Ee(ie,be){var me=be&7,ge=be>>>3;return(ie[ge]|(me<=5?0:ie[ge+1]<<8))>>>me&7}function Se(ie,be){var me=be&7,ge=be>>>3;return(ie[ge]|(me<=4?0:ie[ge+1]<<8))>>>me&15}function ae(ie,be){var me=be&7,ge=be>>>3;return(ie[ge]|(me<=3?0:ie[ge+1]<<8))>>>me&31}function Ce(ie,be){var me=be&7,ge=be>>>3;return(ie[ge]|(me<=1?0:ie[ge+1]<<8))>>>me&127}function Me(ie,be,me){var ge=be&7,xe=be>>>3,we=(1<<me)-1,Fe=ie[xe]>>>ge;return me<8-ge||(Fe|=ie[xe+1]<<8-ge,me<16-ge)||(Fe|=ie[xe+2]<<16-ge,me<24-ge)||(Fe|=ie[xe+3]<<24-ge),Fe&we}function Be(ie,be,me){var ge=be&7,xe=be>>>3;return ge<=5?ie[xe]|=(me&7)<<ge:(ie[xe]|=me<<ge&255,ie[xe+1]=(me&7)>>8-ge),be+3}function Ze(ie,be,me){var ge=be&7,xe=be>>>3;return me=(me&1)<<ge,ie[xe]|=me,be+1}function Re(ie,be,me){var ge=be&7,xe=be>>>3;return me<<=ge,ie[xe]|=me&255,me>>>=8,ie[xe+1]=me,be+8}function Qe(ie,be,me){var ge=be&7,xe=be>>>3;return me<<=ge,ie[xe]|=me&255,me>>>=8,ie[xe+1]=me&255,ie[xe+2]=me>>>8,be+16}function je(ie,be){var me=ie.length,ge=2*me>be?2*me:be+5,xe=0;if(me>=be)return ie;if(vr){var we=q8(ge);if(ie.copy)ie.copy(we);else for(;xe<ie.length;++xe)we[xe]=ie[xe];return we}else if(X){var Fe=new Uint8Array(ge);if(Fe.set)Fe.set(ie);else for(;xe<me;++xe)Fe[xe]=ie[xe];return Fe}return ie.length=ge,ie}function Ke(ie){for(var be=new Array(ie),me=0;me<ie;++me)be[me]=0;return be}function ot(ie,be,me){var ge=1,xe=0,we=0,Fe=0,He=0,$e=ie.length,Ve=X?new Uint16Array(32):Ke(32);for(we=0;we<32;++we)Ve[we]=0;for(we=$e;we<me;++we)ie[we]=0;$e=ie.length;var We=X?new Uint16Array($e):Ke($e);for(we=0;we<$e;++we)Ve[xe=ie[we]]++,ge<xe&&(ge=xe),We[we]=0;for(Ve[0]=0,we=1;we<=ge;++we)Ve[we+16]=He=He+Ve[we-1]<<1;for(we=0;we<$e;++we)He=ie[we],He!=0&&(We[we]=Ve[He+16]++);var ct=0;for(we=0;we<$e;++we)if(ct=ie[we],ct!=0)for(He=H(We[we],ge)>>ge-ct,Fe=(1<<ge+4-ct)-1;Fe>=0;--Fe)be[He|Fe<<ct]=ct&15|we<<4;return ge}var it=X?new Uint16Array(512):Ke(512),ht=X?new Uint16Array(32):Ke(32);if(!X){for(var yt=0;yt<512;++yt)it[yt]=0;for(yt=0;yt<32;++yt)ht[yt]=0}(function(){for(var ie=[],be=0;be<32;be++)ie.push(5);ot(ie,ht,32);var me=[];for(be=0;be<=143;be++)me.push(8);for(;be<=255;be++)me.push(9);for(;be<=279;be++)me.push(7);for(;be<=287;be++)me.push(8);ot(me,it,288)})();var xt=function(){for(var be=X?new Uint8Array(32768):[],me=0,ge=0;me<le.length-1;++me)for(;ge<le[me+1];++ge)be[ge]=me;for(;ge<32768;++ge)be[ge]=29;var xe=X?new Uint8Array(259):[];for(me=0,ge=0;me<K.length-1;++me)for(;ge<K[me+1];++ge)xe[ge]=me;function we(He,$e){for(var Ve=0;Ve<He.length;){var We=Math.min(65535,He.length-Ve),ct=Ve+We==He.length;for($e.write_shift(1,+ct),$e.write_shift(2,We),$e.write_shift(2,~We&65535);We-- >0;)$e[$e.l++]=He[Ve++]}return $e.l}function Fe(He,$e){for(var Ve=0,We=0,ct=X?new Uint16Array(32768):[];We<He.length;){var vt=Math.min(65535,He.length-We);if(vt<10){for(Ve=Be($e,Ve,+(We+vt==He.length)),Ve&7&&(Ve+=8-(Ve&7)),$e.l=Ve/8|0,$e.write_shift(2,vt),$e.write_shift(2,~vt&65535);vt-- >0;)$e[$e.l++]=He[We++];Ve=$e.l*8;continue}Ve=Be($e,Ve,+(We+vt==He.length)+2);for(var Tt=0;vt-- >0;){var pt=He[We];Tt=(Tt<<5^pt)&32767;var wt=-1,Ut=0;if((wt=ct[Tt])&&(wt|=We&-32768,wt>We&&(wt-=32768),wt<We))for(;He[wt+Ut]==He[We+Ut]&&Ut<250;)++Ut;if(Ut>2){pt=xe[Ut],pt<=22?Ve=Re($e,Ve,he[pt+1]>>1)-1:(Re($e,Ve,3),Ve+=5,Re($e,Ve,he[pt-23]>>5),Ve+=3);var xr=pt<8?0:pt-4>>2;xr>0&&(Qe($e,Ve,Ut-K[pt]),Ve+=xr),pt=be[We-wt],Ve=Re($e,Ve,he[pt]>>3),Ve-=3;var br=pt<4?0:pt-2>>1;br>0&&(Qe($e,Ve,We-wt-le[pt]),Ve+=br);for(var Qr=0;Qr<Ut;++Qr)ct[Tt]=We&32767,Tt=(Tt<<5^He[We])&32767,++We;vt-=Ut-1}else pt<=143?pt=pt+48:Ve=Ze($e,Ve,1),Ve=Re($e,Ve,he[pt]),ct[Tt]=We&32767,++We}Ve=Re($e,Ve,0)-1}return $e.l=(Ve+7)/8|0,$e.l}return function($e,Ve){return $e.length<8?we($e,Ve):Fe($e,Ve)}}();function dt(ie){var be=va(50+Math.floor(ie.length*1.1)),me=xt(ie,be);return be.slice(0,me)}var ve=X?new Uint16Array(32768):Ke(32768),Ge=X?new Uint16Array(32768):Ke(32768),Ye=X?new Uint16Array(128):Ke(128),Dt=1,Rt=1;function lr(ie,be){var me=ae(ie,be)+257;be+=5;var ge=ae(ie,be)+1;be+=5;var xe=Se(ie,be)+4;be+=4;for(var we=0,Fe=X?new Uint8Array(19):Ke(19),He=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e=1,Ve=X?new Uint8Array(8):Ke(8),We=X?new Uint8Array(8):Ke(8),ct=Fe.length,vt=0;vt<xe;++vt)Fe[Y[vt]]=we=Ee(ie,be),$e<we&&($e=we),Ve[we]++,be+=3;var Tt=0;for(Ve[0]=0,vt=1;vt<=$e;++vt)We[vt]=Tt=Tt+Ve[vt-1]<<1;for(vt=0;vt<ct;++vt)(Tt=Fe[vt])!=0&&(He[vt]=We[Tt]++);var pt=0;for(vt=0;vt<ct;++vt)if(pt=Fe[vt],pt!=0){Tt=he[He[vt]]>>8-pt;for(var wt=(1<<7-pt)-1;wt>=0;--wt)Ye[Tt|wt<<pt]=pt&7|vt<<3}var Ut=[];for($e=1;Ut.length<me+ge;)switch(Tt=Ye[Ce(ie,be)],be+=Tt&7,Tt>>>=3){case 16:for(we=3+Ae(ie,be),be+=2,Tt=Ut[Ut.length-1];we-- >0;)Ut.push(Tt);break;case 17:for(we=3+Ee(ie,be),be+=3;we-- >0;)Ut.push(0);break;case 18:for(we=11+Ce(ie,be),be+=7;we-- >0;)Ut.push(0);break;default:Ut.push(Tt),$e<Tt&&($e=Tt);break}var xr=Ut.slice(0,me),br=Ut.slice(me);for(vt=me;vt<286;++vt)xr[vt]=0;for(vt=ge;vt<30;++vt)br[vt]=0;return Dt=ot(xr,ve,286),Rt=ot(br,Ge,30),be}function Xr(ie,be){if(ie[0]==3&&!(ie[1]&3))return[wf(be),2];for(var me=0,ge=0,xe=q8(be||1<<18),we=0,Fe=xe.length>>>0,He=0,$e=0;!(ge&1);){if(ge=Ee(ie,me),me+=3,ge>>>1)ge>>1==1?(He=9,$e=5):(me=lr(ie,me),He=Dt,$e=Rt);else{me&7&&(me+=8-(me&7));var Ve=ie[me>>>3]|ie[(me>>>3)+1]<<8;if(me+=32,Ve>0)for(!be&&Fe<we+Ve&&(xe=je(xe,we+Ve),Fe=xe.length);Ve-- >0;)xe[we++]=ie[me>>>3],me+=8;continue}for(;;){!be&&Fe<we+32767&&(xe=je(xe,we+32767),Fe=xe.length);var We=Me(ie,me,He),ct=ge>>>1==1?it[We]:ve[We];if(me+=ct&15,ct>>>=4,!(ct>>>8&255))xe[we++]=ct;else{if(ct==256)break;ct-=257;var vt=ct<8?0:ct-4>>2;vt>5&&(vt=0);var Tt=we+K[ct];vt>0&&(Tt+=Me(ie,me,vt),me+=vt),We=Me(ie,me,$e),ct=ge>>>1==1?ht[We]:Ge[We],me+=ct&15,ct>>>=4;var pt=ct<4?0:ct-2>>1,wt=le[ct];for(pt>0&&(wt+=Me(ie,me,pt),me+=pt),!be&&Fe<Tt&&(xe=je(xe,Tt+100),Fe=xe.length);we<Tt;)xe[we]=xe[we-wt],++we}}}return be?[xe,me+7>>>3]:[xe.slice(0,we),me+7>>>3]}function Xt(ie,be){var me=ie.slice(ie.l||0),ge=Xr(me,be);return ie.l+=ge[1],ge[0]}function ki(ie,be){if(ie)typeof console<"u"&&console.error(be);else throw new Error(be)}function Fr(ie,be){var me=ie;Ha(me,0);var ge=[],xe=[],we={FileIndex:ge,FullPaths:xe};T(we,{root:be.root});for(var Fe=me.length-4;(me[Fe]!=80||me[Fe+1]!=75||me[Fe+2]!=5||me[Fe+3]!=6)&&Fe>=0;)--Fe;me.l=Fe+4,me.l+=4;var He=me.read_shift(2);me.l+=6;var $e=me.read_shift(4);for(me.l=$e,Fe=0;Fe<He;++Fe){me.l+=20;var Ve=me.read_shift(4),We=me.read_shift(4),ct=me.read_shift(2),vt=me.read_shift(2),Tt=me.read_shift(2);me.l+=8;var pt=me.read_shift(4),wt=o(me.slice(me.l+ct,me.l+ct+vt));me.l+=ct+vt+Tt;var Ut=me.l;me.l=pt+4,da(me,Ve,We,we,wt),me.l=Ut}return we}function da(ie,be,me,ge,xe){ie.l+=2;var we=ie.read_shift(2),Fe=ie.read_shift(2),He=s(ie);if(we&8257)throw new Error("Unsupported ZIP encryption");for(var $e=ie.read_shift(4),Ve=ie.read_shift(4),We=ie.read_shift(4),ct=ie.read_shift(2),vt=ie.read_shift(2),Tt="",pt=0;pt<ct;++pt)Tt+=String.fromCharCode(ie[ie.l++]);if(vt){var wt=o(ie.slice(ie.l,ie.l+vt));(wt[21589]||{}).mt&&(He=wt[21589].mt),((xe||{})[21589]||{}).mt&&(He=xe[21589].mt)}ie.l+=vt;var Ut=ie.slice(ie.l,ie.l+Ve);switch(Fe){case 8:Ut=F(ie,We);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Fe)}var xr=!1;we&8&&($e=ie.read_shift(4),$e==134695760&&($e=ie.read_shift(4),xr=!0),Ve=ie.read_shift(4),We=ie.read_shift(4)),Ve!=be&&ki(xr,"Bad compressed size: "+be+" != "+Ve),We!=me&&ki(xr,"Bad uncompressed size: "+me+" != "+We),ra(ge,Tt,Ut,{unsafe:!0,mt:He})}function Pi(ie,be){var me=be||{},ge=[],xe=[],we=va(1),Fe=me.compression?8:0,He=0,$e=0,Ve=0,We=0,ct=0,vt=ie.FullPaths[0],Tt=vt,pt=ie.FileIndex[0],wt=[],Ut=0;for($e=1;$e<ie.FullPaths.length;++$e)if(Tt=ie.FullPaths[$e].slice(vt.length),pt=ie.FileIndex[$e],!(!pt.size||!pt.content||Tt=="Sh33tJ5")){var xr=We,br=va(Tt.length);for(Ve=0;Ve<Tt.length;++Ve)br.write_shift(1,Tt.charCodeAt(Ve)&127);br=br.slice(0,br.l),wt[ct]=Cfe.buf(pt.content,0);var Qr=pt.content;Fe==8&&(Qr=q(Qr)),we=va(30),we.write_shift(4,67324752),we.write_shift(2,20),we.write_shift(2,He),we.write_shift(2,Fe),pt.mt?i(we,pt.mt):we.write_shift(4,0),we.write_shift(-4,wt[ct]),we.write_shift(4,Qr.length),we.write_shift(4,pt.content.length),we.write_shift(2,br.length),we.write_shift(2,0),We+=we.length,ge.push(we),We+=br.length,ge.push(br),We+=Qr.length,ge.push(Qr),we=va(46),we.write_shift(4,33639248),we.write_shift(2,0),we.write_shift(2,20),we.write_shift(2,He),we.write_shift(2,Fe),we.write_shift(4,0),we.write_shift(-4,wt[ct]),we.write_shift(4,Qr.length),we.write_shift(4,pt.content.length),we.write_shift(2,br.length),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(4,0),we.write_shift(4,xr),Ut+=we.l,xe.push(we),Ut+=br.length,xe.push(br),++ct}return we=va(22),we.write_shift(4,101010256),we.write_shift(2,0),we.write_shift(2,0),we.write_shift(2,ct),we.write_shift(2,ct),we.write_shift(4,Ut),we.write_shift(4,We),we.write_shift(2,0),Ru([Ru(ge),Ru(xe),we])}var Ir={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function $t(ie,be){if(ie.ctype)return ie.ctype;var me=ie.name||"",ge=me.match(/\.([^\.]+)$/);return ge&&Ir[ge[1]]||be&&(ge=(me=be).match(/[\.\\]([^\.\\])+$/),ge&&Ir[ge[1]])?Ir[ge[1]]:"application/octet-stream"}function gr(ie){for(var be=z8(ie),me=[],ge=0;ge<be.length;ge+=76)me.push(be.slice(ge,ge+76));return me.join(`\r
`)+`\r
`}function Yi(ie){var be=ie.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ve){var We=Ve.charCodeAt(0).toString(16).toUpperCase();return"="+(We.length==1?"0"+We:We)});be=be.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),be.charAt(0)==`
`&&(be="=0D"+be.slice(1)),be=be.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var me=[],ge=be.split(`\r
`),xe=0;xe<ge.length;++xe){var we=ge[xe];if(we.length==0){me.push("");continue}for(var Fe=0;Fe<we.length;){var He=76,$e=we.slice(Fe,Fe+He);$e.charAt(He-1)=="="?He--:$e.charAt(He-2)=="="?He-=2:$e.charAt(He-3)=="="&&(He-=3),$e=we.slice(Fe,Fe+He),Fe+=He,Fe<we.length&&($e+="="),me.push($e)}}return me.join(`\r
`)}function Ln(ie){for(var be=[],me=0;me<ie.length;++me){for(var ge=ie[me];me<=ie.length&&ge.charAt(ge.length-1)=="=";)ge=ge.slice(0,ge.length-1)+ie[++me];be.push(ge)}for(var xe=0;xe<be.length;++xe)be[xe]=be[xe].replace(/[=][0-9A-Fa-f]{2}/g,function(we){return String.fromCharCode(parseInt(we.slice(1),16))});return Wo(be.join(`\r
`))}function Ta(ie,be,me){for(var ge="",xe="",we="",Fe,He=0;He<10;++He){var $e=be[He];if(!$e||$e.match(/^\s*$/))break;var Ve=$e.match(/^(.*?):\s*([^\s].*)$/);if(Ve)switch(Ve[1].toLowerCase()){case"content-location":ge=Ve[2].trim();break;case"content-type":we=Ve[2].trim();break;case"content-transfer-encoding":xe=Ve[2].trim();break}}switch(++He,xe.toLowerCase()){case"base64":Fe=Wo(Ms(be.slice(He).join("")));break;case"quoted-printable":Fe=Ln(be.slice(He));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+xe)}var We=ra(ie,ge.slice(me.length),Fe,{unsafe:!0});we&&(We.ctype=we)}function Ci(ie,be){if(B(ie.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var me=be&&be.root||"",ge=(vr&&Buffer.isBuffer(ie)?ie.toString("binary"):B(ie)).split(`\r
`),xe=0,we="";for(xe=0;xe<ge.length;++xe)if(we=ge[xe],!!/^Content-Location:/i.test(we)&&(we=we.slice(we.indexOf("file")),me||(me=we.slice(0,we.lastIndexOf("/")+1)),we.slice(0,me.length)!=me))for(;me.length>0&&(me=me.slice(0,me.length-1),me=me.slice(0,me.lastIndexOf("/")+1),we.slice(0,me.length)!=me););var Fe=(ge[1]||"").match(/boundary="(.*?)"/);if(!Fe)throw new Error("MAD cannot find boundary");var He="--"+(Fe[1]||""),$e=[],Ve=[],We={FileIndex:$e,FullPaths:Ve};T(We);var ct,vt=0;for(xe=0;xe<ge.length;++xe){var Tt=ge[xe];Tt!==He&&Tt!==He+"--"||(vt++&&Ta(We,ge.slice(ct,xe),me),ct=xe)}return We}function Ot(ie,be){var me=be||{},ge=me.boundary||"SheetJS";ge="------="+ge;for(var xe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ge.slice(2)+'"',"","",""],we=ie.FullPaths[0],Fe=we,He=ie.FileIndex[0],$e=1;$e<ie.FullPaths.length;++$e)if(Fe=ie.FullPaths[$e].slice(we.length),He=ie.FileIndex[$e],!(!He.size||!He.content||Fe=="Sh33tJ5")){Fe=Fe.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ut){return"_x"+Ut.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ut){return"_u"+Ut.charCodeAt(0).toString(16)+"_"});for(var Ve=He.content,We=vr&&Buffer.isBuffer(Ve)?Ve.toString("binary"):B(Ve),ct=0,vt=Math.min(1024,We.length),Tt=0,pt=0;pt<=vt;++pt)(Tt=We.charCodeAt(pt))>=32&&Tt<128&&++ct;var wt=ct>=vt*4/5;xe.push(ge),xe.push("Content-Location: "+(me.root||"file:///C:/SheetJS/")+Fe),xe.push("Content-Transfer-Encoding: "+(wt?"quoted-printable":"base64")),xe.push("Content-Type: "+$t(He,Fe)),xe.push(""),xe.push(wt?Yi(We):gr(We))}return xe.push(ge+`--\r
`),xe.join(`\r
`)}function ei(ie){var be={};return T(be,ie),be}function ra(ie,be,me,ge){var xe=ge&&ge.unsafe;xe||T(ie);var we=!xe&&Ar.find(ie,be);if(!we){var Fe=ie.FullPaths[0];be.slice(0,Fe.length)==Fe?Fe=be:(Fe.slice(-1)!="/"&&(Fe+="/"),Fe=(Fe+be).replace("//","/")),we={name:a(be),type:2},ie.FileIndex.push(we),ie.FullPaths.push(Fe),xe||Ar.utils.cfb_gc(ie)}return we.content=me,we.size=me?me.length:0,ge&&(ge.CLSID&&(we.clsid=ge.CLSID),ge.mt&&(we.mt=ge.mt),ge.ct&&(we.ct=ge.ct)),we}function jn(ie,be){T(ie);var me=Ar.find(ie,be);if(me){for(var ge=0;ge<ie.FileIndex.length;++ge)if(ie.FileIndex[ge]==me)return ie.FileIndex.splice(ge,1),ie.FullPaths.splice(ge,1),!0}return!1}function kn(ie,be,me){T(ie);var ge=Ar.find(ie,be);if(ge){for(var xe=0;xe<ie.FileIndex.length;++xe)if(ie.FileIndex[xe]==ge)return ie.FileIndex[xe].name=a(me),ie.FullPaths[xe]=me,!0}return!1}function wn(ie){A(ie,!0)}return t.find=E,t.read=N,t.parse=u,t.write=ee,t.writeFile=z,t.utils={cfb_new:ei,cfb_add:ra,cfb_del:jn,cfb_mov:kn,cfb_gc:wn,ReadShift:Eg,CheckField:vz,prep_blob:Ha,bconcat:Ru,use_zlib:I,_deflateRaw:dt,_inflateRaw:Xt,consts:J},t}();function Nfe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function $l(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function jP(e){for(var t=[],r=$l(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var ob=new Date(1899,11,30,0,0,0);function Hi(e,t){var r=e.getTime(),n=ob.getTime()+(e.getTimezoneOffset()-ob.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var XU=new Date,Ofe=ob.getTime()+(XU.getTimezoneOffset()-ob.getTimezoneOffset())*6e4,J8=XU.getTimezoneOffset();function l5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Ofe),t.getTimezoneOffset()!==J8&&t.setTime(t.getTime()+(t.getTimezoneOffset()-J8)*6e4),t}function Ife(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var Z8=new Date("2017-02-19T19:06:09.000Z"),QU=isNaN(Z8.getFullYear())?new Date("2/19/17"):Z8,Dfe=QU.getFullYear()==2017;function ja(e,t){var r=new Date(e);if(Dfe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(QU.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Wh(e,t){if(vr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return ag(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return ag(RU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return ag(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return ag(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function Xa(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=Xa(e[r]));return t}function Un(e,t){for(var r="";r.length<t;)r+=e;return r}function el(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var Lfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function ap(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&Lfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var jfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function JU(e){return e?e.content&&e.type?Wh(e.content,!0):e.data?tg(e.data):e.asNodeBuffer&&vr?tg(e.asNodeBuffer().toString("binary")):e.asBinary?tg(e.asBinary()):e._data&&e._data.getContent?tg(Wh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function ZU(e){if(!e)return null;if(e.data)return V8(e.data);if(e.asNodeBuffer&&vr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?V8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Mfe(e){return e&&e.name.slice(-4)===".bin"?ZU(e):JU(e)}function ro(e,t){for(var r=e.FullPaths||$l(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function MP(e,t){var r=ro(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function oa(e,t,r){if(!r)return Mfe(MP(e,t));if(!t)return null;try{return oa(e,t)}catch{return null}}function ks(e,t,r){if(!r)return JU(MP(e,t));if(!t)return null;try{return ks(e,t)}catch{return null}}function Rfe(e,t,r){return ZU(MP(e,t))}function eD(e){for(var t=e.FullPaths||$l(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Ffe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return vr?n=ad(r):n=nfe(r),Ar.utils.cfb_add(e,t,n)}Ar.utils.cfb_add(e,t,r)}else e.file(t,r)}function ez(e,t){switch(t.type){case"base64":return Ar.read(e,{type:"base64"});case"binary":return Ar.read(e,{type:"binary"});case"buffer":case"array":return Ar.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ng(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var tz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,$fe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Bfe=/<[^>]*>/g,Ei=tz.match(tD)?tD:Bfe,Vfe=/<\w*:/,Ufe=/<(\/?)\w+:/;function Yt(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match($fe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function Vl(e){return e.replace(Ufe,"<$1")}var rz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},zfe=jP(rz),Cr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return rz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),qfe=/[&<>'"]/g,Wfe=/[\u0000-\u001f]/g;function RP(e){var t=e+"";return t.replace(qfe,function(r){return zfe[r]}).replace(/\n/g,"<br/>").replace(Wfe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var rD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function _n(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function _S(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function nD(e){var t=wf(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function aD(e){return ad(e,"binary").toString("utf8")}var nx="foo bar bazâð£",hn=vr&&(aD(nx)==_S(nx)&&aD||nD(nx)==_S(nx)&&nD)||_S,ag=vr?function(e){return ad(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},N1=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),nz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Hfe=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),Gfe=/<\/?(?:vt:)?variant>/g,Kfe=/<(?:vt:)([^>]*)>([\s\S]*)</;function iD(e,t){var r=Yt(e),n=e.match(Hfe(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(Gfe,"").match(Kfe);s&&a.push({v:hn(s[2]),t:s[1]})}),a}var Yfe=/(^\s|\s$|\n)/;function Xfe(e){return $l(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Qfe(e,t,r){return"<"+e+(r!=null?Xfe(r):"")+(t!=null?(t.match(Yfe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function FP(e){if(vr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return hn(id(IP(e)));throw new Error("Bad input format: expected Buffer or string")}var O1=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,Jfe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Zfe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function ehe(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function the(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var sD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},oD=vr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ad(t)})):sD(e)}:sD,lD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(hc(e,a)));return n.join("").replace(Wi,"")},$P=vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Wi,""):lD(e,t,r)}:lD,cD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},az=vr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):cD(e,t,r)}:cD,uD=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(Kd(e,a)));return n.join("")},Vv=vr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):uD(t,r,n)}:uD,iz=function(e,t){var r=Es(e,t);return r>0?Vv(e,t+4,t+4+r-1):""},sz=iz,oz=function(e,t){var r=Es(e,t);return r>0?Vv(e,t+4,t+4+r-1):""},lz=oz,cz=function(e,t){var r=2*Es(e,t);return r>0?Vv(e,t+4,t+4+r-1):""},uz=cz,fz=function(t,r){var n=Es(t,r);return n>0?$P(t,r+4,r+4+n):""},hz=fz,dz=function(e,t){var r=Es(e,t);return r>0?Vv(e,t+4,t+4+r):""},pz=dz,mz=function(e,t){return ehe(e,t)},lb=mz,gz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};vr&&(sz=function(t,r){if(!Buffer.isBuffer(t))return iz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},lz=function(t,r){if(!Buffer.isBuffer(t))return oz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},uz=function(t,r){if(!Buffer.isBuffer(t))return cz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},hz=function(t,r){if(!Buffer.isBuffer(t))return fz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},pz=function(t,r){if(!Buffer.isBuffer(t))return dz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},lb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):mz(t,r)},gz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var Kd=function(e,t){return e[t]},hc=function(e,t){return e[t+1]*256+e[t]},rhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Es=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},ph=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},nhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Eg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,vr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(hc(this,c)),c+=2;e*=2;break;case"utf8":r=Vv(this,this.l,this.l+e);break;case"utf16le":e*=2,r=$P(this,this.l,this.l+e);break;case"wstr":return Eg.call(this,e,"dbcs");case"lpstr-ansi":r=sz(this,this.l),e=4+Es(this,this.l);break;case"lpstr-cp":r=lz(this,this.l),e=4+Es(this,this.l);break;case"lpwstr":r=uz(this,this.l),e=4+2*Es(this,this.l);break;case"lpp4":e=4+Es(this,this.l),r=hz(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Es(this,this.l),r=pz(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=Kd(this,this.l+e++))!==0;)i.push(rx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=hc(this,this.l+e))!==0;)i.push(rx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Eg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(rx(hc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=Kd(this,c),this.l=c+1,o=Eg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(rx(Kd(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=Kd(this,this.l),this.l++,n;case 2:return n=(t==="i"?rhe:hc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?ph:nhe)(this,this.l),this.l+=4,n):(a=Es(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=lb(this,this.l):a=lb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=az(this,this.l,e);break}}return this.l+=e,r}var ahe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},ihe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},she=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ohe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)she(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,ahe(this,t,this.l);break;case 8:if(n=8,r==="f"){the(this,t,this.l);break}case 16:break;case-4:n=4,ihe(this,t,this.l);break}return this.l+=n,this}function vz(e,t){var r=az(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Ha(e,t){e.l=t,e.read_shift=Eg,e.chk=vz,e.write_shift=ohe}function Ai(e,t){e.l+=t}function va(e){var t=wf(e);return Ha(t,0),t}function Hc(e,t,r){if(e){var n,a,i;Ha(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=pb[o]||pb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function fT(){var e=[],t=vr?256:2048,r=function(c){var u=va(c);return Ha(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Ru(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function kg(e,t,r){var n=Xa(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fD(e,t,r){var n=Xa(e);return n.s=kg(n.s,t.s,r),n.e=kg(n.e,t.s,r),n}function Pg(e,t){if(e.cRel&&e.c<0)for(e=Xa(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=Xa(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=nr(e);return!e.cRel&&e.cRel!=null&&(r=uhe(r)),!e.rRel&&e.rRel!=null&&(r=lhe(r)),r}function SS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+ba(e.s.c)+":"+(e.e.cRel?"":"$")+ba(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+Qa(e.s.r)+":"+(e.e.rRel?"":"$")+Qa(e.e.r):Pg(e.s,t.biff)+":"+Pg(e.e,t.biff)}function BP(e){return parseInt(che(e),10)-1}function Qa(e){return""+(e+1)}function lhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function che(e){return e.replace(/\$(\d+)$/,"$1")}function VP(e){for(var t=fhe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function ba(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function uhe(e){return e.replace(/^([A-Z])/,"$$$1")}function fhe(e){return e.replace(/^\$([A-Z])/,"$1")}function hhe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Bi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function nr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function qp(e){var t=e.indexOf(":");return t==-1?{s:Bi(e),e:Bi(e)}:{s:Bi(e.slice(0,t)),e:Bi(e.slice(t+1))}}function Tr(e,t){return typeof t>"u"||typeof t=="number"?Tr(e.s,e.e):(typeof e!="string"&&(e=nr(e)),typeof t!="string"&&(t=nr(t)),e==t?e:e+":"+t)}function Hn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function hD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=mo(e.z,r?Hi(t):t)}catch{}try{return e.w=mo((e.XF||{}).numFmtId||(r?14:0),r?Hi(t):t)}catch{return""+t}}function Mc(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?ld[e.v]||e.v:t==null?hD(e,e.v):hD(e,t))}function Df(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function yz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bi(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Hn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},m=s+f,p=o+h;if(c.s.r>m&&(c.s.r=m),c.s.c>p&&(c.s.c=p),c.e.r<m&&(c.e.r=m),c.e.c<p&&(c.e.c=p),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||sr[14],n.cellDates?(d.t="d",d.w=mo(d.z,Hi(d.v))):(d.t="n",d.v=Hi(d.v),d.w=mo(d.z,d.v))):d.t="s";if(a)i[m]||(i[m]=[]),i[m][p]&&i[m][p].z&&(d.z=i[m][p].z),i[m][p]=d;else{var v=nr({c:p,r:m});i[v]&&i[v].z&&(d.z=i[v].z),i[v]=d}}}return c.s.c<1e7&&(i["!ref"]=Tr(c)),i}function Wp(e,t){return yz(null,e,t)}function dhe(e){return e.read_shift(4,"i")}function _i(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function phe(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function UP(e,t){var r=e.l,n=e.read_shift(1),a=_i(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(phe(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var mhe=UP;function vo(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function sd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var ghe=_i;function zP(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var vhe=_i,hT=zP;function qP(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?lb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):ph(t,0)>>2;return r?a/100:a}function xz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var od=xz;function yi(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function yhe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Ih[a];c&&(t.rgb=D1(c));break;case 2:t.rgb=D1([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function xhe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function bz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function bhe(e){return bz(e,1)}function whe(e){return bz(e,2)}var WP=2,rs=3,ax=11,dD=12,cb=19,ix=64,_he=65,She=71,Ahe=4108,The=4126,Ca=80,wz=81,Ehe=[Ca,wz],khe={1:{n:"CodePage",t:WP},2:{n:"Category",t:Ca},3:{n:"PresentationFormat",t:Ca},4:{n:"ByteCount",t:rs},5:{n:"LineCount",t:rs},6:{n:"ParagraphCount",t:rs},7:{n:"SlideCount",t:rs},8:{n:"NoteCount",t:rs},9:{n:"HiddenCount",t:rs},10:{n:"MultimediaClipCount",t:rs},11:{n:"ScaleCrop",t:ax},12:{n:"HeadingPairs",t:Ahe},13:{n:"TitlesOfParts",t:The},14:{n:"Manager",t:Ca},15:{n:"Company",t:Ca},16:{n:"LinksUpToDate",t:ax},17:{n:"CharacterCount",t:rs},19:{n:"SharedDoc",t:ax},22:{n:"HyperlinksChanged",t:ax},23:{n:"AppVersion",t:rs,p:"version"},24:{n:"DigSig",t:_he},26:{n:"ContentType",t:Ca},27:{n:"ContentStatus",t:Ca},28:{n:"Language",t:Ca},29:{n:"Version",t:Ca},255:{},2147483648:{n:"Locale",t:cb},2147483651:{n:"Behavior",t:cb},1919054434:{}},Phe={1:{n:"CodePage",t:WP},2:{n:"Title",t:Ca},3:{n:"Subject",t:Ca},4:{n:"Author",t:Ca},5:{n:"Keywords",t:Ca},6:{n:"Comments",t:Ca},7:{n:"Template",t:Ca},8:{n:"LastAuthor",t:Ca},9:{n:"RevNumber",t:Ca},10:{n:"EditTime",t:ix},11:{n:"LastPrinted",t:ix},12:{n:"CreatedDate",t:ix},13:{n:"ModifiedDate",t:ix},14:{n:"PageCount",t:rs},15:{n:"WordCount",t:rs},16:{n:"CharCount",t:rs},17:{n:"Thumbnail",t:She},18:{n:"Application",t:Ca},19:{n:"DocSecurity",t:rs},255:{},2147483648:{n:"Locale",t:cb},2147483651:{n:"Behavior",t:cb},1919054434:{}},pD={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Che=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function Nhe(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Ohe=Nhe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Ih=Xa(Ohe),ld={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},_z={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},mD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Ihe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Dhe(e){var t=Ihe();if(!e||!e.match)return t;var r={};if((e.match(Ei)||[]).forEach(function(n){var a=Yt(n);switch(a[0].replace(Vfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[mD[a.ContentType]]!==void 0&&t[mD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==Jfe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var p0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function dT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Cg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ei)||[]).forEach(function(a){var i=Yt(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ng(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var Lhe="application/vnd.oasis.opendocument.spreadsheet";function jhe(e,t){for(var r=FP(e),n,a;n=O1.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=Yt(n[0],!1),a.path=="/"&&a.type!==Lhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Ng=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Mhe=function(){for(var e=new Array(Ng.length),t=0;t<Ng.length;++t){var r=Ng[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Sz(e){var t={};e=hn(e);for(var r=0;r<Ng.length;++r){var n=Ng[r],a=e.match(Mhe[r]);a!=null&&a.length>0&&(t[n[1]]=Cr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=ja(t[n[1]]))}return t}var Rhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Az(e,t,r,n){var a=[];if(typeof e=="string")a=iD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?iD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Fhe(e,t,r){var n={};return t||(t={}),e=hn(e),Rhe.forEach(function(a){var i=(e.match(N1(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Cr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Az(n.HeadingPairs,n.TitlesOfParts,t,r),t}var $he=/<[^>]+>[^<]*/g;function Bhe(e,t){var r={},n="",a=e.match($he);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=Yt(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Cr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Cr(u);break;case"bool":r[n]=_n(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=ja(u);break;case"cy":case"error":r[n]=Cr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Vhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},AS;function Uhe(e,t,r){AS||(AS=jP(Vhe)),t=AS[t]||t,e[t]=r}function HP(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Tz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Ez(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function kz(e,t,r){return t===31?Ez(e):Tz(e,t,r)}function pT(e,t,r){return kz(e,t,r===!1?0:4)}function zhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return kz(e,t,0)}function qhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Wi,""),e.l-a&2&&(e.l+=2)}return r}function Whe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Wi,"");return r}function Hhe(e){var t=e.l,r=ub(e,wz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=ub(e,rs);return[r,n]}function Ghe(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(Hhe(e));return r}function gD(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Wi,"").replace(rg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Pz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function Khe(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function ub(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==dD&&n!==t&&Ehe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===dD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Tz(e,n,4).replace(Wi,"");case 31:return Ez(e);case 64:return HP(e);case 65:return Pz(e);case 71:return Khe(e);case 80:return pT(e,n,!i.raw).replace(Wi,"");case 81:return zhe(e,n).replace(Wi,"");case 4108:return Ghe(e);case 4126:case 4127:return n==4127?qhe(e):Whe(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function vD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,_){return b[1]-_[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var m=t[i[s][0]];if(h[m.n]=ub(e,m.t,{raw:!0}),m.p==="version"&&(h[m.n]=String(h[m.n]>>16)+"."+("0000"+String(h[m.n]&65535)).slice(-4)),m.n=="CodePage")switch(h[m.n]){case 0:h[m.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Go(o=h[m.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[m.n])}}else if(i[s][0]===1){if(o=h.CodePage=ub(e,WP),Go(o),l!==-1){var p=e.l;e.l=i[l][1],c=gD(e,o),e.l=p}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=gD(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Pz(e);break;case 30:e.l+=4,y=pT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=pT(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=Yn(e,4);break;case 64:e.l+=4,y=ja(HP(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function yD(e,t,r){var n=e.content;if(!n)return{};Ha(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==Ar.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=vD(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var m;try{m=vD(n,null)}catch{}for(d in m)h[d]=m[d];return h.FMTID=[i,s],h}function Tu(e,t){return e.read_shift(t),null}function Yhe(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function Yn(e,t){return e.read_shift(t)===1}function la(e){return e.read_shift(2,"u")}function Cz(e,t){return Yhe(e,t,la)}function Xhe(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Uv(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function Qhe(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Hh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function zv(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Hh(e,n,r)}function cd(e,t,r){if(r.biff>5)return zv(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function Jhe(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function Zhe(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Wi,"");return n&&(e.l+=24),a}function ede(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Wi,"");return r+s}function tde(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Zhe(e);case"0303000000000000c000000000000046":return ede(e);default:throw new Error("Unsupported Moniker "+r)}}function sx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Wi,""):"";return r}function rde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=sx(e,r-e.l)),a&128&&(s=sx(e,r-e.l)),(a&257)===257&&(o=sx(e,r-e.l)),(a&257)===1&&(l=tde(e,r-e.l)),a&8&&(c=sx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=HP(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Nz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function Oz(e,t){var r=Nz(e);return r[3]=0,r}function Ul(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function nde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function ade(e,t,r){return t===0?"":cd(e,t,r)}function ide(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function Iz(e){var t=e.read_shift(2),r=qP(e);return[t,r]}function sde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Uv(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function c5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Dz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var ode=Dz;function Lz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function lde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function cde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function ii(e){e.l+=2,e.l+=e.read_shift(2)}var ude={0:ii,4:ii,5:ii,6:ii,7:cde,8:ii,9:ii,10:ii,11:ii,12:ii,13:lde,14:ii,15:ii,16:ii,17:ii,18:ii,19:ii,20:ii,21:Lz};function fde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(ude[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function ox(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function hde(e,t){return t===0||e.read_shift(2),1200}function dde(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=cd(e,0,r);return e.read_shift(t+n-e.l),a}function pde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function mde(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Uv(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function gde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(Qhe(e));return i.Count=n,i.Unique=a,i}function vde(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function yde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function xde(e){var t=nde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function bde(e){return e.read_shift(2),e.read_shift(4)}function xD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function wde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function _de(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Sde(){}function Ade(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Uv(e,0,r),n}function Tde(e){var t=Ul(e);return t.isst=e.read_shift(4),t}function Ede(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Ul(e);r.biff==2&&e.l++;var i=zv(e,n-e.l,r);return a.val=i,a}function kde(e,t,r){var n=e.read_shift(2),a=cd(e,0,r);return[n,a]}var Pde=cd;function bD(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Cde(e){var t=e.read_shift(2),r=e.read_shift(2),n=Iz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function Nde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(Iz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Ode(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Ide(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Che[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Dde(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Ide(e,t,n.fStyle,r),n}function Lde(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function wD(e,t,r){var n=Ul(e);(r.biff==2||t==9)&&++e.l;var a=Xhe(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function jde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Ul(e),a=yi(e);return n.val=a,n}var _D=ade;function Mde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Hh(e,i),o=[];n>e.l;)o.push(zv(e));return[i,a,s,o]}function SD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=sde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Rde=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function AD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Hh(e,s,r);a&32&&(c=Rde[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:yge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function jz(e,t,r){if(r.biff<8)return Fde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(ide(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Fde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Uv(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function $de(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Hh(e,n,r),s=Hh(e,a,r);return[i,s]}function Bde(e,t,r){var n=Dz(e);e.l++;var a=e.read_shift(1);return t-=8,[xge(e,t,r),a,n]}function TD(e,t,r){var n=ode(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,gge(e,t,r)]}function Vde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Ude(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=cd(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function zde(e,t,r){return Ude(e,t,r)}function qde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(c5(e));return r}function Wde(e,t,r){if(r&&r.biff<8)return Gde(e,t,r);var n=Lz(e),a=fde(e,t-22,n[1]);return{cmo:n,ft:a}}var Hde={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function Gde(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((Hde[n]||Ai)(e,t,r)),{cmo:[a,n,i],ft:s}}function Kde(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=Jhe(e,6,r);var o=e.read_shift(2);e.read_shift(2),la(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Hh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function Yde(e,t){var r=c5(e);e.l+=16;var n=rde(e,t-24);return[r,n]}function Xde(e,t){e.read_shift(2);var r=c5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Wi,""),[r,n]}function Qde(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=pD[r]||r,r=e.read_shift(2),t[1]=pD[r]||r,t}function Jde(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oz(e));return r}function Zde(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(Oz(e));return r}function e0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Mz(e,t,r){if(!r.cellStyles)return Ai(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function t0e(e,t){var r={};return t<32||(e.l+=16,r.header=yi(e),r.footer=yi(e),e.l+=2),r}function r0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var n0e=Ul,a0e=Cz,i0e=zv;function s0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function o0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Ul(e);++e.l;var a=cd(e,t-7,r);return n.t="str",n.val=a,n}function l0e(e){var t=Ul(e);++e.l;var r=yi(e);return t.t="n",t.val=r,t}function c0e(e){var t=Ul(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function u0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function f0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function h0e(e,t,r){var n=e.l+t,a=Ul(e),i=e.read_shift(2),s=Hh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var d0e=[2,3,48,49,131,139,140,245],ED=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=jP({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=wf(1);switch(l.type){case"base64":u=Wo(Ms(o));break;case"binary":u=Wo(o);break;case"buffer":case"array":u=o;break}Ha(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,m=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:m=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var p=0,v=521;f==2&&(p=u.read_shift(2)),u.l+=3,f!=2&&(p=u.read_shift(4)),p>1048576&&(p=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),m&&(u.l+=36);for(var _=[],O={},C=Math.min(u.length,f==2?521:v-10-(d?264:0)),N=m?32:11;u.l<C&&u[u.l]!=13;)switch(O={},O.name=Mu.utils.decode(b,u.slice(u.l,u.l+N)).replace(/[\u0000\r\n].*$/g,""),u.l+=N,O.type=String.fromCharCode(u.read_shift(1)),f!=2&&!m&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),f==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&_.push(O),f!=2&&(u.l+=m?13:14),O.type){case"B":(!d||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var T=0,S=0;for(c[0]=[],S=0;S!=_.length;++S)c[0][S]=_[S].name;for(;p-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++T]=[],S=0,S=0;S!=_.length;++S){var A=u.slice(u.l,u.l+_[S].len);u.l+=_[S].len,Ha(A,0);var D=Mu.utils.decode(b,A);switch(_[S].type){case"C":D.trim().length&&(c[T][S]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[T][S]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[T][S]=D;break;case"F":c[T][S]=parseFloat(D.trim());break;case"+":case"I":c[T][S]=m?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[T][S]=!0;break;case"N":case"F":c[T][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[T][S]="##MEMO##"+(m?parseInt(D.trim(),10):A.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[T][S]=+D||0);break;case"@":c[T][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[T][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[T][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[T][S]=-A.read_shift(-8,"f");break;case"B":if(d&&_[S].len==8){c[T][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=_[S].len;break;case"0":if(_[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+_[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=_,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Wp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Df(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Go(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=fT(),f=wT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),m=o["!cols"]||[],p=0,v=0,y=0,b=1;for(p=0;p<h.length;++p){if(((m[p]||{}).DBF||{}).name){h[p]=m[p].DBF.name,++y;continue}if(h[p]!=null){if(++y,typeof h[p]=="number"&&(h[p]=h[p].toString(10)),typeof h[p]!="string")throw new Error("DBF Invalid column name "+h[p]+" |"+typeof h[p]+"|");if(h.indexOf(h[p])!==p){for(v=0;v<1024;++v)if(h.indexOf(h[p]+"_"+v)==-1){h[p]+="_"+v;break}}}}var _=Hn(o["!ref"]),O=[],C=[],N=[];for(p=0;p<=_.e.c-_.s.c;++p){var T="",S="",A=0,D=[];for(v=0;v<d.length;++v)d[v][p]!=null&&D.push(d[v][p]);if(D.length==0||h[p]==null){O[p]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=D[v]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(D[v]).length),T=T&&T!=S?"C":S}A>250&&(A=250),S=((m[p]||{}).DBF||{}).type,S=="C"&&m[p].DBF.len>A&&(A=m[p].DBF.len),T=="B"&&S=="N"&&(T="N",N[p]=m[p].DBF.dec,A=m[p].DBF.len),C[p]=T=="C"||S=="N"?A:i[T]||0,b+=C[p],O[p]=T}var E=u.next(32);for(E.write_shift(4,318902576),E.write_shift(4,d.length),E.write_shift(2,296+32*y),E.write_shift(2,b),p=0;p<4;++p)E.write_shift(4,0);for(E.write_shift(4,0|(+t[jU]||3)<<8),p=0,v=0;p<h.length;++p)if(h[p]!=null){var P=u.next(32),j=(h[p].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);P.write_shift(1,j,"sbcs"),P.write_shift(1,O[p]=="?"?"C":O[p],"sbcs"),P.write_shift(4,v),P.write_shift(1,C[p]||i[O[p]]||0),P.write_shift(1,N[p]||0),P.write_shift(1,2),P.write_shift(4,0),P.write_shift(1,0),P.write_shift(4,0),P.write_shift(4,0),v+=C[p]||i[O[p]]||0}var G=u.next(264);for(G.write_shift(4,13),p=0;p<65;++p)G.write_shift(4,0);for(p=0;p<d.length;++p){var U=u.next(b);for(U.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":U.write_shift(1,d[p][v]==null?63:d[p][v]?84:70);break;case"B":U.write_shift(8,d[p][v]||0,"f");break;case"N":var Q="0";for(typeof d[p][v]=="number"&&(Q=d[p][v].toFixed(N[v]||0)),y=0;y<C[v]-Q.length;++y)U.write_shift(1,32);U.write_shift(1,Q,"sbcs");break;case"D":d[p][v]?(U.write_shift(4,("0000"+d[p][v].getFullYear()).slice(-4),"sbcs"),U.write_shift(2,("00"+(d[p][v].getMonth()+1)).slice(-2),"sbcs"),U.write_shift(2,("00"+d[p][v].getDate()).slice(-2),"sbcs")):U.write_shift(8,"00000000","sbcs");break;case"C":var J=String(d[p][v]!=null?d[p][v]:"").slice(0,C[v]);for(U.write_shift(1,J,"sbcs"),y=0;y<C[v]-J.length;++y)U.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),p0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+$l(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var m=e[d];return typeof m=="number"?U8(m):m},n=function(h,d,m){var p=d.charCodeAt(0)-32<<4|m.charCodeAt(0)-48;return p==59?h:U8(p)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i(Ms(h),d);case"binary":return i(h,d);case"buffer":return i(vr&&Buffer.isBuffer(h)?h.toString("binary"):id(h),d);case"array":return i(Wh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var m=h.split(/[\n\r]+/),p=-1,v=-1,y=0,b=0,_=[],O=[],C=null,N={},T=[],S=[],A=[],D=0,E;for(+d.codepage>=0&&Go(+d.codepage);y!==m.length;++y){D=0;var P=m[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=P.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),G=j[0],U;if(P.length>0)switch(G){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&O.push(P.slice(3).replace(/;;/g,";"));break;case"C":var Q=!1,J=!1,z=!1,B=!1,ee=-1,ne=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":v=parseInt(j[b].slice(1))-1,J=!0;break;case"Y":for(p=parseInt(j[b].slice(1))-1,J||(v=0),E=_.length;E<=p;++E)_[E]=[];break;case"K":U=j[b].slice(1),U.charAt(0)==='"'?U=U.slice(1,U.length-1):U==="TRUE"?U=!0:U==="FALSE"?U=!1:isNaN(el(U))?isNaN(ap(U).getDate())||(U=ja(U)):(U=el(U),C!==null&&zp(C)&&(U=l5(U))),Q=!0;break;case"E":B=!0;var I=P0(j[b].slice(1),{r:p,c:v});_[p][v]=[_[p][v],I];break;case"S":z=!0,_[p][v]=[_[p][v],"S5S"];break;case"G":break;case"R":ee=parseInt(j[b].slice(1))-1;break;case"C":ne=parseInt(j[b].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}if(Q&&(_[p][v]&&_[p][v].length==2?_[p][v][0]=U:_[p][v]=U,C=null),z){if(B)throw new Error("SYLK shared formula cannot have own formula");var F=ee>-1&&_[ee][ne];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");_[p][v][1]=Hz(F[1],{r:p-ee,c:v-ne})}break;case"F":var q=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":v=parseInt(j[b].slice(1))-1,++q;break;case"Y":for(p=parseInt(j[b].slice(1))-1,E=_.length;E<=p;++E)_[E]=[];break;case"M":D=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":C=O[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=j[b].slice(1).split(" "),E=parseInt(A[0],10);E<=parseInt(A[1],10);++E)D=parseInt(A[2],10),S[E-1]=D===0?{hidden:!0}:{wch:D},ip(S[E-1]);break;case"C":v=parseInt(j[b].slice(1))-1,S[v]||(S[v]={});break;case"R":p=parseInt(j[b].slice(1))-1,T[p]||(T[p]={}),D>0?(T[p].hpt=D,T[p].hpx=L1(D)):D===0&&(T[p].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}q<1&&(C=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+P)}}return T.length>0&&(N["!rows"]=T),S.length>0&&(N["!cols"]=S),d&&d.sheetRows&&(_=_.slice(0,d.sheetRows)),[_,N]}function s(h,d){var m=a(h,d),p=m[0],v=m[1],y=Wp(p,d);return $l(v).forEach(function(b){y[b]=v[b]}),y}function o(h,d){return Df(s(h,d),d)}function l(h,d,m,p){var v="C;Y"+(m+1)+";X"+(p+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+eme(h.f,{r:m,c:p}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,d){d.forEach(function(m,p){var v="F;W"+(p+1)+" "+(p+1)+" ";m.hidden?v+="0":(typeof m.width=="number"&&!m.wpx&&(m.wpx=hb(m.width)),typeof m.wpx=="number"&&!m.wch&&(m.wch=db(m.wpx)),typeof m.wch=="number"&&(v+=Math.round(m.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,d){d.forEach(function(m,p){var v="F;";m.hidden?v+="M0;":m.hpt?v+="M"+20*m.hpt+";":m.hpx&&(v+="M"+20*zz(m.hpx)+";"),v.length>2&&h.push(v+"R"+(p+1))})}function f(h,d){var m=["ID;PWXL;N;E"],p=[],v=Hn(h["!ref"]),y,b=Array.isArray(h),_=`\r
`;m.push("P;PGeneral"),m.push("F;P0;DG0G8;M255"),h["!cols"]&&c(m,h["!cols"]),h["!rows"]&&u(m,h["!rows"]),m.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var C=v.s.c;C<=v.e.c;++C){var N=nr({r:O,c:C});y=b?(h[O]||[])[C]:h[N],!(!y||y.v==null&&(!y.f||y.F))&&p.push(l(y,h,O,C))}return m.join(_)+_+p.join(_)+_+"E"+_}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),m0e=function(){function e(i,s){switch(s.type){case"base64":return t(Ms(i),s);case"binary":return t(i,s);case"buffer":return t(vr&&Buffer.isBuffer(i)?i.toString("binary"):id(i),s);case"array":return t(Wh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],m=h[1];++u;for(var p=o[u]||"";(p.match(/["]/g)||[]).length&1&&u<o.length-1;)p+=`
`+o[++u];switch(p=p.trim(),+d){case-1:if(p==="BOT"){f[++l]=[],c=0;continue}else if(p!=="EOD")throw new Error("Unrecognized DIF special command "+p);break;case 0:p==="TRUE"?f[l][c]=!0:p==="FALSE"?f[l][c]=!1:isNaN(el(m))?isNaN(ap(m).getDate())?f[l][c]=m:f[l][c]=ja(m):f[l][c]=el(m),++c;break;case 1:p=p.slice(1,p.length-1),p=p.replace(/""/g,'"'),p&&p.match(/^=".*"$/)&&(p=p.slice(2,-1)),f[l][c++]=p!==""?p:null;break}if(p==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Wp(e(i,s),s)}function n(i,s){return Df(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Hn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var m=u.s.c;m<=u.e.c;++m){var p=nr({r:d,c:m});if(f=h?(l[d]||[])[m]:l[p],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=mo(f.z||sr[14],Hi(ja(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),g0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),m=-1,p=-1,v=0,y=[];v!==d.length;++v){var b=d[v].trim().split(":");if(b[0]==="cell"){var _=Bi(b[1]);if(y.length<=_.r)for(m=y.length;m<=_.r;++m)y[m]||(y[m]=[]);switch(m=_.r,p=_.c,b[2]){case"t":y[m][p]=e(b[3]);break;case"v":y[m][p]=+b[3];break;case"vtf":var O=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[m][p]=!!+b[4];break;default:y[m][p]=+b[4];break}b[2]=="vtf"&&(y[m][p]=[y[m][p],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Wp(r(f,h),h)}function a(f,h){return Df(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],m,p="",v=qp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var _=v.s.c;_<=v.e.c;++_)if(p=nr({r:b,c:_}),m=y?(f[b]||[])[_]:f[p],!(!m||m.v==null||m.t==="z")){switch(d=["cell",p,"t"],m.t){case"s":case"str":d.push(t(m.v));break;case"n":m.f?(d[2]="vtf",d[3]="n",d[4]=m.v,d[5]=t(m.f)):(d[2]="v",d[3]=m.v);break;case"b":d[2]="vt"+(m.f?"f":"c"),d[3]="nl",d[4]=m.v?"1":"0",d[5]=t(m.f||(m.v?"TRUE":"FALSE"));break;case"d":var O=Hi(ja(m.v));d[2]="vtc",d[3]="nd",d[4]=""+O,d[5]=m.w||mo(m.z||sr[14],O);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),I1=function(){function e(u,f,h,d,m){m.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(el(u))?isNaN(ap(u).getDate())?f[h][d]=u:f[h][d]=ja(u):f[h][d]=el(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var m=u.split(/[\r\n]/),p=m.length-1;p>=0&&m[p].length===0;)--p;for(var v=10,y=0,b=0;b<=p;++b)y=m[b].indexOf(" "),y==-1?y=m[b].length:y++,v=Math.max(v,y);for(b=0;b<=p;++b){d[b]=[];var _=0;for(e(m[b].slice(0,v).trim(),d,b,_,h),_=1;_<=(m[b].length-v)/10+1;++_)e(m[b].slice(v+(_-1)*10,v+_*10).trim(),d,b,_,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,m=0;d<u.length;++d)(m=u.charCodeAt(d))==34?h=!h:!h&&m in r&&(f[m]=(f[m]||0)+1);m=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&m.push([f[d],d]);if(!m.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&m.push([f[d],d])}return m.sort(function(p,v){return p[0]-v[0]||n[p[1]]-n[v[1]]}),r[m.pop()[1]]||44}function i(u,f){var h=f||{},d="",m=h.dense?[]:{},p={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var v=0,y=0,b=0,_=0,O=0,C=d.charCodeAt(0),N=!1,T=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?kfe(h.dateNF):null;function D(){var E=u.slice(_,O),P={};if(E.charAt(0)=='"'&&E.charAt(E.length-1)=='"'&&(E=E.slice(1,-1).replace(/""/g,'"')),E.length===0)P.t="z";else if(h.raw)P.t="s",P.v=E;else if(E.trim().length===0)P.t="s",P.v=E;else if(E.charCodeAt(0)==61)E.charCodeAt(1)==34&&E.charCodeAt(E.length-1)==34?(P.t="s",P.v=E.slice(2,-1).replace(/""/g,'"')):rme(E)?(P.t="n",P.f=E.slice(1)):(P.t="s",P.v=E);else if(E=="TRUE")P.t="b",P.v=!0;else if(E=="FALSE")P.t="b",P.v=!1;else if(!isNaN(b=el(E)))P.t="n",h.cellText!==!1&&(P.w=E),P.v=b;else if(!isNaN(ap(E).getDate())||A&&E.match(A)){P.z=h.dateNF||sr[14];var j=0;A&&E.match(A)&&(E=Pfe(E,h.dateNF,E.match(A)||[]),j=1),h.cellDates?(P.t="d",P.v=ja(E,j)):(P.t="n",P.v=Hi(ja(E,j))),h.cellText!==!1&&(P.w=mo(P.z,P.v instanceof Date?Hi(P.v):P.v)),h.cellNF||delete P.z}else P.t="s",P.v=E;if(P.t=="z"||(h.dense?(m[v]||(m[v]=[]),m[v][y]=P):m[nr({c:y,r:v})]=P),_=O+1,S=u.charCodeAt(_),p.e.c<y&&(p.e.c=y),p.e.r<v&&(p.e.r=v),T==C)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(T=u.charCodeAt(O)){case 34:S===34&&(N=!N);break;case C:case 10:case 13:if(!N&&D())break e;break}return O-_>0&&D(),m["!ref"]=Tr(p),m}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Wp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:eC(u,f);switch(f.type){case"base64":h=Ms(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Mu<"u"?h=Mu.utils.decode(f.codepage,u):h=vr&&Buffer.isBuffer(u)?u.toString("binary"):id(u);break;case"array":h=Wh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=hn(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=hn(h):f.type=="binary"&&typeof Mu<"u"&&f.codepage&&(h=Mu.utils.decode(f.codepage,Mu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?g0e.to_sheet(f.type=="string"?h:hn(h),f):s(h,f)}function l(u,f){return Df(o(u,f),f)}function c(u){for(var f=[],h=Hn(u["!ref"]),d,m=Array.isArray(u),p=h.s.r;p<=h.e.r;++p){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=nr({r:p,c:y});if(d=m?(u[p]||[])[y]:u[b],!d||d.v==null){v.push("          ");continue}for(var _=(d.w||(Mc(d),d.w)||"").slice(0,10);_.length<10;)_+=" ";v.push(_+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function v0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=p0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return I1.to_workbook(e,t)}}var Og=function(){function e(I,F,q){if(I){Ha(I,I.l||0);for(var Y=q.Enum||ee;I.l<I.length;){var K=I.read_shift(2),le=Y[K]||Y[65535],ce=I.read_shift(2),X=I.l+ce,he=le.f&&le.f(I,ce,q);if(I.l=X,F(he,le,K))return}}}function t(I,F){switch(F.type){case"base64":return r(Wo(Ms(I)),F);case"binary":return r(Wo(I),F);case"buffer":case"array":return r(I,F)}throw"Unsupported type "+F.type}function r(I,F){if(!I)return I;var q=F||{},Y=q.dense?[]:{},K="Sheet1",le="",ce=0,X={},he=[],de=[],H={s:{r:0,c:0},e:{r:0,c:0}},Ae=q.sheetRows||0;if(I[2]==0&&(I[3]==8||I[3]==9)&&I.length>=16&&I[14]==5&&I[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(I[2]==2)q.Enum=ee,e(I,function(Ce,Me,Be){switch(Be){case 0:q.vers=Ce,Ce>=4096&&(q.qpro=!0);break;case 6:H=Ce;break;case 204:Ce&&(le=Ce);break;case 222:le=Ce;break;case 15:case 51:q.qpro||(Ce[1].v=Ce[1].v.slice(1));case 13:case 14:case 16:Be==14&&(Ce[2]&112)==112&&(Ce[2]&15)>1&&(Ce[2]&15)<15&&(Ce[1].z=q.dateNF||sr[14],q.cellDates&&(Ce[1].t="d",Ce[1].v=l5(Ce[1].v))),q.qpro&&Ce[3]>ce&&(Y["!ref"]=Tr(H),X[K]=Y,he.push(K),Y=q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},ce=Ce[3],K=le||"Sheet"+(ce+1),le="");var Ze=q.dense?(Y[Ce[0].r]||[])[Ce[0].c]:Y[nr(Ce[0])];if(Ze){Ze.t=Ce[1].t,Ze.v=Ce[1].v,Ce[1].z!=null&&(Ze.z=Ce[1].z),Ce[1].f!=null&&(Ze.f=Ce[1].f);break}q.dense?(Y[Ce[0].r]||(Y[Ce[0].r]=[]),Y[Ce[0].r][Ce[0].c]=Ce[1]):Y[nr(Ce[0])]=Ce[1];break}},q);else if(I[2]==26||I[2]==14)q.Enum=ne,I[2]==14&&(q.qpro=!0,I.l=0),e(I,function(Ce,Me,Be){switch(Be){case 204:K=Ce;break;case 22:Ce[1].v=Ce[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ce[3]>ce&&(Y["!ref"]=Tr(H),X[K]=Y,he.push(K),Y=q.dense?[]:{},H={s:{r:0,c:0},e:{r:0,c:0}},ce=Ce[3],K="Sheet"+(ce+1)),Ae>0&&Ce[0].r>=Ae)break;q.dense?(Y[Ce[0].r]||(Y[Ce[0].r]=[]),Y[Ce[0].r][Ce[0].c]=Ce[1]):Y[nr(Ce[0])]=Ce[1],H.e.c<Ce[0].c&&(H.e.c=Ce[0].c),H.e.r<Ce[0].r&&(H.e.r=Ce[0].r);break;case 27:Ce[14e3]&&(de[Ce[14e3][0]]=Ce[14e3][1]);break;case 1537:de[Ce[0]]=Ce[1],Ce[0]==ce&&(K=Ce[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+I[2]);if(Y["!ref"]=Tr(H),X[le||K]=Y,he.push(le||K),!de.length)return{SheetNames:he,Sheets:X};for(var Ee={},Se=[],ae=0;ae<de.length;++ae)X[he[ae]]?(Se.push(de[ae]||he[ae]),Ee[de[ae]]=X[de[ae]]||X[he[ae]]):(Se.push(de[ae]),Ee[de[ae]]={"!ref":"A1"});return{SheetNames:Se,Sheets:Ee}}function n(I,F){var q=F||{};if(+q.codepage>=0&&Go(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=fT(),K=Hn(I["!ref"]),le=Array.isArray(I),ce=[];Io(Y,0,i(1030)),Io(Y,6,l(K));for(var X=Math.min(K.e.r,8191),he=K.s.r;he<=X;++he)for(var de=Qa(he),H=K.s.c;H<=K.e.c;++H){he===K.s.r&&(ce[H]=ba(H));var Ae=ce[H]+de,Ee=le?(I[he]||[])[H]:I[Ae];if(!(!Ee||Ee.t=="z"))if(Ee.t=="n")(Ee.v|0)==Ee.v&&Ee.v>=-32768&&Ee.v<=32767?Io(Y,13,d(he,H,Ee.v)):Io(Y,14,p(he,H,Ee.v));else{var Se=Mc(Ee);Io(Y,15,f(he,H,Se.slice(0,239)))}}return Io(Y,1),Y.end()}function a(I,F){var q=F||{};if(+q.codepage>=0&&Go(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=fT();Io(Y,0,s(I));for(var K=0,le=0;K<I.SheetNames.length;++K)(I.Sheets[I.SheetNames[K]]||{})["!ref"]&&Io(Y,27,B(I.SheetNames[K],le++));var ce=0;for(K=0;K<I.SheetNames.length;++K){var X=I.Sheets[I.SheetNames[K]];if(!(!X||!X["!ref"])){for(var he=Hn(X["!ref"]),de=Array.isArray(X),H=[],Ae=Math.min(he.e.r,8191),Ee=he.s.r;Ee<=Ae;++Ee)for(var Se=Qa(Ee),ae=he.s.c;ae<=he.e.c;++ae){Ee===he.s.r&&(H[ae]=ba(ae));var Ce=H[ae]+Se,Me=de?(X[Ee]||[])[ae]:X[Ce];if(!(!Me||Me.t=="z"))if(Me.t=="n")Io(Y,23,D(Ee,ae,ce,Me.v));else{var Be=Mc(Me);Io(Y,22,T(Ee,ae,ce,Be.slice(0,239)))}}++ce}}return Io(Y,1),Y.end()}function i(I){var F=va(2);return F.write_shift(2,I),F}function s(I){var F=va(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var q=0,Y=0,K=0,le=0;le<I.SheetNames.length;++le){var ce=I.SheetNames[le],X=I.Sheets[ce];if(!(!X||!X["!ref"])){++K;var he=qp(X["!ref"]);q<he.e.r&&(q=he.e.r),Y<he.e.c&&(Y=he.e.c)}}return q>8191&&(q=8191),F.write_shift(2,q),F.write_shift(1,K),F.write_shift(1,Y),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(I,F,q){var Y={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&q.qpro?(Y.s.c=I.read_shift(1),I.l++,Y.s.r=I.read_shift(2),Y.e.c=I.read_shift(1),I.l++,Y.e.r=I.read_shift(2),Y):(Y.s.c=I.read_shift(2),Y.s.r=I.read_shift(2),F==12&&q.qpro&&(I.l+=2),Y.e.c=I.read_shift(2),Y.e.r=I.read_shift(2),F==12&&q.qpro&&(I.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(I){var F=va(8);return F.write_shift(2,I.s.c),F.write_shift(2,I.s.r),F.write_shift(2,I.e.c),F.write_shift(2,I.e.r),F}function c(I,F,q){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(Y[0].c=I.read_shift(1),Y[3]=I.read_shift(1),Y[0].r=I.read_shift(2),I.l+=2):(Y[2]=I.read_shift(1),Y[0].c=I.read_shift(2),Y[0].r=I.read_shift(2)),Y}function u(I,F,q){var Y=I.l+F,K=c(I,F,q);if(K[1].t="s",q.vers==20768){I.l++;var le=I.read_shift(1);return K[1].v=I.read_shift(le,"utf8"),K}return q.qpro&&I.l++,K[1].v=I.read_shift(Y-I.l,"cstr"),K}function f(I,F,q){var Y=va(7+q.length);Y.write_shift(1,255),Y.write_shift(2,F),Y.write_shift(2,I),Y.write_shift(1,39);for(var K=0;K<Y.length;++K){var le=q.charCodeAt(K);Y.write_shift(1,le>=128?95:le)}return Y.write_shift(1,0),Y}function h(I,F,q){var Y=c(I,F,q);return Y[1].v=I.read_shift(2,"i"),Y}function d(I,F,q){var Y=va(7);return Y.write_shift(1,255),Y.write_shift(2,F),Y.write_shift(2,I),Y.write_shift(2,q,"i"),Y}function m(I,F,q){var Y=c(I,F,q);return Y[1].v=I.read_shift(8,"f"),Y}function p(I,F,q){var Y=va(13);return Y.write_shift(1,255),Y.write_shift(2,F),Y.write_shift(2,I),Y.write_shift(8,q,"f"),Y}function v(I,F,q){var Y=I.l+F,K=c(I,F,q);if(K[1].v=I.read_shift(8,"f"),q.qpro)I.l=Y;else{var le=I.read_shift(2);O(I.slice(I.l,I.l+le),K),I.l+=le}return K}function y(I,F,q){var Y=F&32768;return F&=-32769,F=(Y?I:0)+(F>=8192?F-16384:F),(Y?"":"$")+(q?ba(F):Qa(F))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},_=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(I,F){Ha(I,0);for(var q=[],Y=0,K="",le="",ce="",X="";I.l<I.length;){var he=I[I.l++];switch(he){case 0:q.push(I.read_shift(8,"f"));break;case 1:le=y(F[0].c,I.read_shift(2),!0),K=y(F[0].r,I.read_shift(2),!1),q.push(le+K);break;case 2:{var de=y(F[0].c,I.read_shift(2),!0),H=y(F[0].r,I.read_shift(2),!1);le=y(F[0].c,I.read_shift(2),!0),K=y(F[0].r,I.read_shift(2),!1),q.push(de+H+":"+le+K)}break;case 3:if(I.l<I.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(I.read_shift(2));break;case 6:{for(var Ae="";he=I[I.l++];)Ae+=String.fromCharCode(he);q.push('"'+Ae.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:X=q.pop(),ce=q.pop(),q.push(["AND","OR"][he-20]+"("+ce+","+X+")");break;default:if(he<32&&_[he])X=q.pop(),ce=q.pop(),q.push(ce+_[he]+X);else if(b[he]){if(Y=b[he][1],Y==69&&(Y=I[I.l++]),Y>q.length){console.error("WK1 bad formula parse 0x"+he.toString(16)+":|"+q.join("|")+"|");return}var Ee=q.slice(-Y);q.length-=Y,q.push(b[he][0]+"("+Ee.join(",")+")")}else return he<=7?console.error("WK1 invalid opcode "+he.toString(16)):he<=24?console.error("WK1 unsupported op "+he.toString(16)):he<=30?console.error("WK1 invalid opcode "+he.toString(16)):he<=115?console.error("WK1 unsupported function opcode "+he.toString(16)):console.error("WK1 unrecognized opcode "+he.toString(16))}}q.length==1?F[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function C(I){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=I.read_shift(2),F[3]=I[I.l++],F[0].c=I[I.l++],F}function N(I,F){var q=C(I);return q[1].t="s",q[1].v=I.read_shift(F-4,"cstr"),q}function T(I,F,q,Y){var K=va(6+Y.length);K.write_shift(2,I),K.write_shift(1,q),K.write_shift(1,F),K.write_shift(1,39);for(var le=0;le<Y.length;++le){var ce=Y.charCodeAt(le);K.write_shift(1,ce>=128?95:ce)}return K.write_shift(1,0),K}function S(I,F){var q=C(I);q[1].v=I.read_shift(2);var Y=q[1].v>>1;if(q[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return q[1].v=Y,q}function A(I,F){var q=C(I),Y=I.read_shift(4),K=I.read_shift(4),le=I.read_shift(2);if(le==65535)return Y===0&&K===3221225472?(q[1].t="e",q[1].v=15):Y===0&&K===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var ce=le&32768;return le=(le&32767)-16446,q[1].v=(1-ce*2)*(K*Math.pow(2,le+32)+Y*Math.pow(2,le)),q}function D(I,F,q,Y){var K=va(14);if(K.write_shift(2,I),K.write_shift(1,q),K.write_shift(1,F),Y==0)return K.write_shift(4,0),K.write_shift(4,0),K.write_shift(2,65535),K;var le=0,ce=0,X=0,he=0;return Y<0&&(le=1,Y=-Y),ce=Math.log2(Y)|0,Y/=Math.pow(2,ce-31),he=Y>>>0,he&2147483648||(Y/=2,++ce,he=Y>>>0),Y-=he,he|=2147483648,he>>>=0,Y*=Math.pow(2,32),X=Y>>>0,K.write_shift(4,X),K.write_shift(4,he),ce+=16383+(le?32768:0),K.write_shift(2,ce),K}function E(I,F){var q=A(I);return I.l+=F-14,q}function P(I,F){var q=C(I),Y=I.read_shift(4);return q[1].v=Y>>6,q}function j(I,F){var q=C(I),Y=I.read_shift(8,"f");return q[1].v=Y,q}function G(I,F){var q=j(I);return I.l+=F-10,q}function U(I,F){return I[I.l+F-1]==0?I.read_shift(F,"cstr"):""}function Q(I,F){var q=I[I.l++];q>F-1&&(q=F-1);for(var Y="";Y.length<q;)Y+=String.fromCharCode(I[I.l++]);return Y}function J(I,F,q){if(!(!q.qpro||F<21)){var Y=I.read_shift(1);I.l+=17,I.l+=1,I.l+=2;var K=I.read_shift(F-21,"cstr");return[Y,K]}}function z(I,F){for(var q={},Y=I.l+F;I.l<Y;){var K=I.read_shift(2);if(K==14e3){for(q[K]=[0,""],q[K][0]=I.read_shift(2);I[I.l];)q[K][1]+=String.fromCharCode(I[I.l]),I.l++;I.l++}}return q}function B(I,F){var q=va(5+I.length);q.write_shift(2,14e3),q.write_shift(2,F);for(var Y=0;Y<I.length;++Y){var K=I.charCodeAt(Y);q[q.l++]=K>127?95:K}return q[q.l++]=0,q}var ee={0:{n:"BOF",f:la},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:m},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:U},222:{n:"SHEETNAMELP",f:Q},65535:{n:""}},ne={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:N},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:E},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:z},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:P},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:G},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:U},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function y0e(e){var t={},r=e.match(Ei),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=Yt(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=NP[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var x0e=function(){var e=N1("t"),t=N1("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Cr(s[1])},l=i.match(t);return l&&(o.s=y0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),b0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),w0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,_0e=/<(?:\w+:)?r>/,S0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function GP(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Cr(hn(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=hn(e),r&&(n.h=RP(n.t))):e.match(_0e)&&(n.r=hn(e),n.t=Cr(hn((e.replace(S0e,"").match(w0e)||[]).join("").replace(Ei,""))),r&&(n.h=b0e(x0e(n.r)))),n):{t:""}}var A0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,T0e=/<(?:\w+:)?(?:si|sstItem)>/g,E0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function k0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(A0e);if(a){n=a[2].replace(T0e,"").split(E0e);for(var i=0;i!=n.length;++i){var s=GP(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=Yt(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function P0e(e){return[e.read_shift(4),e.read_shift(4)]}function C0e(e,t){var r=[],n=!1;return Hc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Rz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function xc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function N0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=xc(e,4),t.U=xc(e,4),t.W=xc(e,4),t}function O0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function I0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(O0e(e));return t}function D0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function L0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=xc(e,4),t.U=xc(e,4),t.W=xc(e,4),t}function j0e(e){var t=L0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Fz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function $z(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function M0e(e){var t=xc(e);switch(t.Minor){case 2:return[t.Minor,R0e(e)];case 3:return[t.Minor,F0e()];case 4:return[t.Minor,$0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function R0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Fz(e,r),a=$z(e,e.length-e.l);return{t:"Std",h:n,v:a}}function F0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function $0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ei,function(i){var s=Yt(i);switch(Vl(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function B0e(e,t){var r={},n=r.EncryptionVersionInfo=xc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Fz(e,a),t-=a,r.EncryptionVerifier=$z(e,t),r}function V0e(e){var t={},r=t.EncryptionVersionInfo=xc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function U0e(e){var t=0,r,n=Rz(e),a=n.length+1,i,s,o,l,c;for(r=wf(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Bz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Rz(s),l=i(o),c=o.length,u=wf(16),f=0;f!=16;++f)u[f]=0;var h,d,m;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,m=15-o.length;m>0;)h=l>>8,u[c]=a(e[m],h),--c,--m,h=l&255,u[c]=a(o[c],h),--c,--m;return u}}(),z0e=function(e,t,r,n,a){a||(a=t),n||(n=Bz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},q0e=function(e){var t=0,r=Bz(e);return function(n){var a=z0e("",n,t,r);return t=a[1],a[0]}};function W0e(e,t,r,n){var a={key:la(e),verificationBytes:la(e)};return r.password&&(a.verifier=U0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=q0e(r.password)),a}function H0e(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=V0e(e):n.Data=B0e(e,t),n}function G0e(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?H0e(e,t-2,n):W0e(e,r.biff>=8?t:t-2,r,n),n}var K0e=function(){function e(a,i){switch(i.type){case"base64":return t(Ms(a),i);case"binary":return t(a,i);case"buffer":return t(vr&&Buffer.isBuffer(a)?a.toString("binary"):id(a),i);case"array":return t(Wh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,m,p=-1;m=h.exec(u);){switch(m[0]){case"\\cell":var v=u.slice(d,h.lastIndex-m[0].length);if(v[0]==" "&&(v=v.slice(1)),++p,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][p]=y:o[nr({r:f,c:p})]=y}break}d=h.lastIndex}p>c.e.c&&(c.e.c=p)}),o["!ref"]=Tr(c),o}function r(a,i){return Df(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Hn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=nr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||(Mc(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function Y0e(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function D1(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function X0e(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function Q0e(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function fb(e,t){if(t===0)return e;var r=X0e(Y0e(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),D1(Q0e(r))}var Vz=6,J0e=15,Z0e=1,Fi=Vz;function hb(e){return Math.floor((e+Math.round(128/Fi)/256)*Fi)}function db(e){return Math.floor((e-5)/Fi*100+.5)/100}function mT(e){return Math.round((e*Fi+5)/Fi*256)/256}function TS(e){return mT(db(hb(e)))}function KP(e){var t=Math.abs(e-TS(e)),r=Fi;if(t>.005)for(Fi=Z0e;Fi<J0e;++Fi)Math.abs(e-TS(e))<=t&&(t=Math.abs(e-TS(e)),r=Fi);Fi=r}function ip(e){e.width?(e.wpx=hb(e.width),e.wch=db(e.wpx),e.MDW=Fi):e.wpx?(e.wch=db(e.wpx),e.width=mT(e.wch),e.MDW=Fi):typeof e.wch=="number"&&(e.width=mT(e.wch),e.wpx=hb(e.width),e.MDW=Fi),e.customWidth&&delete e.customWidth}var epe=96,Uz=epe;function zz(e){return e*96/Uz}function L1(e){return e*Uz/96}var tpe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function rpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ei)||[]).forEach(function(s){var o=Yt(s);switch(Vl(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=_n(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=_n(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function npe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ei)||[]).forEach(function(s){var o=Yt(s);switch(Vl(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function ape(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ei)||[]).forEach(function(s){var o=Yt(s);switch(Vl(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=hn(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?_n(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?_n(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?_n(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?_n(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?_n(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?_n(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?_n(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=NP[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=_n(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Ih[a.color.index];a.color.index==81&&(l=Ih[1]),l||(l=Ih[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=fb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function ipe(e,t,r){t.NumberFmt=[];for(var n=$l(sr),a=0;a<n.length;++a)t.NumberFmt[n[a]]=sr[n[a]];var i=e[0].match(Ei);if(i)for(a=0;a<i.length;++a){var s=Yt(i[a]);switch(Vl(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Cr(hn(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Oh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var lx=["numFmtId","fillId","fontId","borderId","xfId"],cx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function spe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ei)||[]).forEach(function(i){var s=Yt(i),o=0;switch(Vl(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<lx.length;++o)n[lx[o]]&&(n[lx[o]]=parseInt(n[lx[o]],10));for(o=0;o<cx.length;++o)n[cx[o]]&&(n[cx[o]]=_n(n[cx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=_n(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var ope=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&ipe(f,u,c),(f=o.match(a))&&ape(f,u,l,c),(f=o.match(n))&&npe(f,u,l,c),(f=o.match(i))&&rpe(f,u,l,c),(f=o.match(r))&&spe(f,u,c),u}}();function lpe(e,t){var r=e.read_shift(2),n=_i(e);return[r,n]}function cpe(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=xhe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=yhe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=_i(e),n}var upe=Ai;function fpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var hpe=Ai;function dpe(e,t,r){var n={};n.NumberFmt=[];for(var a in sr)n.NumberFmt[a]=sr[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Hc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Oh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=fb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var ppe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function mpe(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ei)||[]).forEach(function(a){var i=Yt(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[ppe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function gpe(){}function vpe(){}var ype=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,xpe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,bpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function wpe(e,t,r){t.themeElements={};var n;[["clrScheme",ype,mpe],["fontScheme",xpe,gpe],["fmtScheme",bpe,vpe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var _pe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function qz(e,t){(!e||e.length===0)&&(e=Spe());var r,n={};if(!(r=e.match(_pe)))throw new Error("themeElements not found in theme");return wpe(r[0],n,t),n.raw=e,n}function Spe(e,t){var r=[tz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Ape(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=ez(i,{type:"array"})}catch{return}var o=ks(s,"theme/theme/theme1.xml",!0);if(o)return qz(o,r)}}function Tpe(e){return e.read_shift(4)}function Epe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=kpe(e,4);break;case 2:t.xclrValue=Nz(e);break;case 3:t.xclrValue=Tpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function kpe(e,t){return Ai(e,t)}function Ppe(e,t){return Ai(e,t)}function Cpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Epe(e);break;case 6:n[1]=Ppe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function Npe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Cpe(e,r-e.l));return{ixfe:n,ext:i}}function Ope(e,t){t.forEach(function(r){switch(r[0]){}})}function Ipe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:_i(e)}}function Dpe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function Lpe(e){return e.l+=4,e.read_shift(4)!=0}function jpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Hc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Mpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ei,function(o){var l=Yt(o);switch(Vl(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Rpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ei)||[]).forEach(function(n){var a=Yt(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Fpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=nr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function $pe(e,t,r){var n=[];return Hc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Bpe(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Hc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Vpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function kD(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=Bi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Hn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Tr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Upe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Yt(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=Bi(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&GP(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function zpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ei,function(o,l){var c=Yt(o);switch(Vl(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function qpe(e,t){var r=[],n=!1;return e.replace(Ei,function(i){var s=Yt(i);switch(Vl(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function Wpe(e){var t={};t.iauthor=e.read_shift(4);var r=od(e);return t.rfx=r.s,t.ref=nr(r.s),e.l+=16,t}var Hpe=_i;function Gpe(e,t){var r=[],n=[],a={},i=!1;return Hc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var Kpe="application/vnd.ms-office.vbaProject";function Ype(e){var t=Ar.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Ar.utils.cfb_add(t,a,e.FileIndex[n].content)}}),Ar.write(t)}function Xpe(){return{"!type":"dialog"}}function Qpe(){return{"!type":"dialog"}}function Jpe(){return{"!type":"macro"}}function Zpe(){return{"!type":"macro"}}var P0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+ba(u)+(l?"":"$")+Qa(c)}return function(a,i){return t=i,a.replace(e,r)}}(),Wz=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,eme=function(){return function(t,r){return t.replace(Wz,function(n,a,i,s,o,l){var c=VP(s)-(i?0:r.c),u=BP(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function Hz(e,t){return e.replace(Wz,function(r,n,a,i,s,o){return n+(a=="$"?a+i:ba(VP(i)+t.c))+(s=="$"?s+o:Qa(BP(o)+t.r))})}function tme(e,t,r){var n=qp(t),a=n.s,i=Bi(r),s={r:i.r-a.r,c:i.c-a.c};return Hz(e,s)}function rme(e){return e.length!=1}function PD(e){return e.replace(/_xlfn\./g,"")}function ia(e){e.l+=1}function _f(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Gz(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Kz(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=_f(e),o=_f(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function Kz(e){var t=_f(e),r=_f(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function nme(e,t,r){if(r.biff<8)return Kz(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=_f(e),s=_f(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function Yz(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ame(e);var n=e.read_shift(r&&r.biff==12?4:2),a=_f(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ame(e){var t=_f(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function ime(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function sme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return ome(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function ome(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function lme(e,t,r){var n=(e[e.l++]&96)>>5,a=Gz(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function cme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=Gz(e,i,r);return[n,a,s]}function ume(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function fme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function hme(e,t,r){var n=(e[e.l++]&96)>>5,a=nme(e,t-1,r);return[n,a]}function dme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function CD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function pme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function mme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function gme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function vme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function yme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Xz(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function xme(e){return e.read_shift(2),Xz(e)}function bme(e){return e.read_shift(2),Xz(e)}function wme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Yz(e,0,r);return[n,a]}function _me(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=sme(e,0,r);return[n,a]}function Sme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Yz(e,0,r);return[n,a,i]}function Ame(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[Tge[a],Zz[a],n]}function Tme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Eme(e);return[a,(i[0]===0?Zz:Age)[i[1]]]}function Eme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function kme(e,t,r){e.l+=r&&r.biff==2?3:4}function Pme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Cme(e){return e.l++,ld[e.read_shift(1)]}function Nme(e){return e.l++,e.read_shift(2)}function Ome(e){return e.l++,e.read_shift(1)!==0}function Ime(e){return e.l++,yi(e)}function Dme(e,t,r){return e.l++,Uv(e,t-1,r)}function Lme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Yn(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=ld[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=yi(e);break;case 2:r[1]=cd(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function jme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?od:c5)(e));return a}function Mme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=Lme(e,r.biff);return s}function Rme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Fme(e,t,r){if(r.biff==5)return $me(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function $me(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Bme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Vme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Ume(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function zme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var qme=Ai,Wme=Ai,Hme=Ai;function qv(e,t,r){return e.l+=2,[ime(e)]}function YP(e){return e.l+=6,[]}var Gme=qv,Kme=YP,Yme=YP,Xme=qv;function Qz(e){return e.l+=2,[la(e),e.read_shift(2)&1]}var Qme=qv,Jme=Qz,Zme=YP,ege=qv,tge=qv,rge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function nge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=rge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function age(e){return e.l+=2,[e.read_shift(4)]}function ige(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function sge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function oge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function lge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function cge(e){return e.l+=4,[0,0]}var ND={1:{n:"PtgExp",f:Pme},2:{n:"PtgTbl",f:Hme},3:{n:"PtgAdd",f:ia},4:{n:"PtgSub",f:ia},5:{n:"PtgMul",f:ia},6:{n:"PtgDiv",f:ia},7:{n:"PtgPower",f:ia},8:{n:"PtgConcat",f:ia},9:{n:"PtgLt",f:ia},10:{n:"PtgLe",f:ia},11:{n:"PtgEq",f:ia},12:{n:"PtgGe",f:ia},13:{n:"PtgGt",f:ia},14:{n:"PtgNe",f:ia},15:{n:"PtgIsect",f:ia},16:{n:"PtgUnion",f:ia},17:{n:"PtgRange",f:ia},18:{n:"PtgUplus",f:ia},19:{n:"PtgUminus",f:ia},20:{n:"PtgPercent",f:ia},21:{n:"PtgParen",f:ia},22:{n:"PtgMissArg",f:ia},23:{n:"PtgStr",f:Dme},26:{n:"PtgSheet",f:ige},27:{n:"PtgEndSheet",f:sge},28:{n:"PtgErr",f:Cme},29:{n:"PtgBool",f:Ome},30:{n:"PtgInt",f:Nme},31:{n:"PtgNum",f:Ime},32:{n:"PtgArray",f:dme},33:{n:"PtgFunc",f:Ame},34:{n:"PtgFuncVar",f:Tme},35:{n:"PtgName",f:Rme},36:{n:"PtgRef",f:wme},37:{n:"PtgArea",f:lme},38:{n:"PtgMemArea",f:Bme},39:{n:"PtgMemErr",f:qme},40:{n:"PtgMemNoMem",f:Wme},41:{n:"PtgMemFunc",f:Vme},42:{n:"PtgRefErr",f:Ume},43:{n:"PtgAreaErr",f:ume},44:{n:"PtgRefN",f:_me},45:{n:"PtgAreaN",f:hme},46:{n:"PtgMemAreaN",f:oge},47:{n:"PtgMemNoMemN",f:lge},57:{n:"PtgNameX",f:Fme},58:{n:"PtgRef3d",f:Sme},59:{n:"PtgArea3d",f:cme},60:{n:"PtgRefErr3d",f:zme},61:{n:"PtgAreaErr3d",f:fme},255:{}},uge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},fge={1:{n:"PtgElfLel",f:Qz},2:{n:"PtgElfRw",f:ege},3:{n:"PtgElfCol",f:Gme},6:{n:"PtgElfRwV",f:tge},7:{n:"PtgElfColV",f:Xme},10:{n:"PtgElfRadical",f:Qme},11:{n:"PtgElfRadicalS",f:Zme},13:{n:"PtgElfColS",f:Kme},15:{n:"PtgElfColSV",f:Yme},16:{n:"PtgElfRadicalLel",f:Jme},25:{n:"PtgList",f:nge},29:{n:"PtgSxName",f:age},255:{}},hge={0:{n:"PtgAttrNoop",f:cge},1:{n:"PtgAttrSemi",f:yme},2:{n:"PtgAttrIf",f:gme},4:{n:"PtgAttrChoose",f:pme},8:{n:"PtgAttrGoto",f:mme},16:{n:"PtgAttrSum",f:kme},32:{n:"PtgAttrBaxcel",f:CD},33:{n:"PtgAttrBaxcel",f:CD},64:{n:"PtgAttrSpace",f:xme},65:{n:"PtgAttrSpaceSemi",f:bme},128:{n:"PtgAttrIfError",f:vme},255:{}};function Wv(e,t,r,n){if(n.biff<8)return Ai(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Mme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=jme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Ai(e,t)),i}function Hv(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=ND[i]||ND[uge[i]],(i===24||i===25)&&(a=(i===24?fge:hge)[e[e.l+1]]),!a||!a.f?Ai(e,t):s.push([a.n,a.f(e,t,r)]);return s}function dge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var pge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function mge(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Jz(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function OD(e,t,r){var n=Jz(e,t,r);return n=="#REF"?n:mge(n,r)}function di(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,m="";if(!e[0]||!e[0][0])return"";for(var p=-1,v="",y=0,b=e[0].length;y<b;++y){var _=e[0][y];switch(_[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),p>=0){switch(e[0][p][1][0]){case 0:v=Un(" ",e[0][p][1][1]);break;case 1:v=Un("\r",e[0][p][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}c=c+v,p=-1}o.push(c+pge[_[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=kg(_[1][1],s,a),o.push(Pg(u,i));break;case"PtgRefN":u=r?kg(_[1][1],r,a):_[1][1],o.push(Pg(u,i));break;case"PtgRef3d":f=_[1][1],u=kg(_[1][2],s,a),m=OD(n,f,a),o.push(m+"!"+Pg(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=_[1][0],C=_[1][1];O||(O=0),O&=127;var N=O==0?[]:o.slice(-O);o.length-=O,C==="User"&&(C=N.shift()),o.push(C+"("+N.join(",")+")");break;case"PtgBool":o.push(_[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(_[1]);break;case"PtgNum":o.push(String(_[1]));break;case"PtgStr":o.push('"'+_[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(_[1]);break;case"PtgAreaN":d=fD(_[1][1],r?{s:r}:s,a),o.push(SS(d,a));break;case"PtgArea":d=fD(_[1][1],s,a),o.push(SS(d,a));break;case"PtgArea3d":f=_[1][1],d=_[1][2],m=OD(n,f,a),o.push(m+"!"+SS(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=_[1][2];var T=(n.names||[])[h-1]||(n[0]||[])[h],S=T?T.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=_[1][1];h=_[1][2];var D;if(a.biff<=5)A<0&&(A=-A),n[A]&&(D=n[A][h]);else{var E="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(E=n.SheetNames[n[A][h].itab-1]+"!"):E=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])E+=n[A][h].Name;else if(n[0]&&n[0][h])E+=n[0][h].Name;else{var P=(Jz(n,A,a)||"").split(";;");P[h-1]?E=P[h-1]:E+="SH33TJSERRX"}o.push(E);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var j="(",G=")";if(p>=0){switch(v="",e[0][p][1][0]){case 2:j=Un(" ",e[0][p][1][1])+j;break;case 3:j=Un("\r",e[0][p][1][1])+j;break;case 4:G=Un(" ",e[0][p][1][1])+G;break;case 5:G=Un("\r",e[0][p][1][1])+G;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][p][1][0])}p=-1}o.push(j+o.pop()+G);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:_[1][1],r:_[1][0]};var U={c:r.c,r:r.r};if(n.sharedf[nr(u)]){var Q=n.sharedf[nr(u)];o.push(di(Q,s,U,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(di(c[1],s,U,n,a)),J=!0;break}J||o.push(_[1])}break;case"PtgArray":o.push("{"+dge(_[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":p=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+_[1].idx+"[#"+_[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(_));default:throw new Error("Unrecognized Formula Token: "+String(_))}var z=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&p>=0&&z.indexOf(e[0][y][0])==-1){_=e[0][p];var B=!0;switch(_[1][0]){case 4:B=!1;case 0:v=Un(" ",_[1][1]);break;case 5:B=!1;case 1:v=Un("\r",_[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+_[1][0])}o.push((B?v:"")+o.pop()+(B?"":v)),p=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function gge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ai(e,t-2)];var o=Hv(e,s,r);return t!==s+a&&(i=Wv(e,t-s-a,o,r)),e.l=n,[o,i]}function vge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Ai(e,t-2)];var o=Hv(e,s,r);return t!==s+a&&(i=Wv(e,t-s-a,o,r)),e.l=n,[o,i]}function yge(e,t,r,n){var a=e.l+t,i=Hv(e,n,r),s;return a!==e.l&&(s=Wv(e,a-e.l,i,r)),[i,s]}function xge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Hv(e,i,r);return i==65535?[[],Ai(e,t-2)]:(t!==i+2&&(a=Wv(e,n-i-2,s,r)),[s,a])}function bge(e){var t;if(hc(e,e.l+6)!==65535)return[yi(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function ES(e,t,r){var n=e.l+t,a=Ul(e);r.biff==2&&++e.l;var i=bge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=vge(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function u5(e,t,r){var n=e.read_shift(4),a=Hv(e,n,r),i=e.read_shift(4),s=i>0?Wv(e,i,a,r):null;return[a,s]}var wge=u5,f5=u5,_ge=u5,Sge=u5,Age={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Zz={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},Tge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function ID(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function kS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var Ig={},C0={};function Dg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function eq(e,t,r,n,a,i){try{n.cellNF&&(e.z=sr[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=ja(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(sr[t]==null&&Oh(Efe[t]||"General",t),e.t==="e")e.w=e.w||ld[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=C1(e.v);else if(e.t==="d"){var s=Hi(e.v);(s|0)===s?e.w=s.toString(10):e.w=C1(s)}else{if(e.v===void 0)return"";e.w=qh(e.v,C0)}else e.t==="d"?e.w=mo(t,Hi(e.v),C0):e.w=mo(t,e.v,C0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=fb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=fb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Ege(e,t){var r=Hn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Tr(r))}var kge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Pge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Cge=/<(?:\w:)?hyperlink [^>]*>/mg,Nge=/"(\w*:\w*)"/,Oge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Ige=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Dge=/<(?:\w:)?pageMargins[^>]*\/>/g,tq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,Lge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,jge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Mge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Pge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(tq);h?XP(h[0],o,a,r):(h=c.match(Lge))&&Rge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var m=c.slice(d,d+50).match(Nge);m&&Ege(o,m[1])}var p=c.match(jge);p&&p[1]&&zge(p[1],a);var v=[];if(t.cellStyles){var y=c.match(Oge);y&&Bge(v,y)}f&&qge(f[1],o,t,l,i,s);var b=u.match(Ige);b&&(o["!autofilter"]=Vge(b[0]));var _=[],O=u.match(kge);if(O)for(d=0;d!=O.length;++d)_[d]=Hn(O[d].slice(O[d].indexOf('"')+1));var C=u.match(Cge);C&&Fge(o,C,n);var N=u.match(Dge);if(N&&(o["!margins"]=$ge(Yt(N[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Tr(l)),t.sheetRows>0&&o["!ref"]){var T=Hn(o["!ref"]);t.sheetRows<=+T.e.r&&(T.e.r=t.sheetRows-1,T.e.r>l.e.r&&(T.e.r=l.e.r),T.e.r<T.s.r&&(T.s.r=T.e.r),T.e.c>l.e.c&&(T.e.c=l.e.c),T.e.c<T.s.c&&(T.s.c=T.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Tr(T))}return v.length>0&&(o["!cols"]=v),_.length>0&&(o["!merges"]=_),o}function XP(e,t,r,n){var a=Yt(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Cr(hn(a.codeName)))}function Rge(e,t,r,n,a){XP(e.slice(0,e.indexOf(">")),r,n,a)}function Fge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=Yt(hn(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Cr(i.location))):(i.Target="#"+Cr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Hn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=nr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function $ge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Bge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=Yt(t[n],!0);a.hidden&&(a.hidden=_n(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,KP(a.width)),ip(a);i<=s;)e[i++]=Xa(a)}}function Vge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Uge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function zge(e,t){t.Views||(t.Views=[{}]),(e.match(Uge)||[]).forEach(function(r,n){var a=Yt(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),_n(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var qge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=N1("v"),s=N1("f");return function(l,c,u,f,h,d){for(var m=0,p="",v=[],y=[],b=0,_=0,O=0,C="",N,T,S=0,A=0,D,E,P=0,j=0,G=Array.isArray(d.CellXf),U,Q=[],J=[],z=Array.isArray(c),B=[],ee={},ne=!1,I=!!u.sheetStubs,F=l.split(t),q=0,Y=F.length;q!=Y;++q){p=F[q].trim();var K=p.length;if(K!==0){var le=0;e:for(m=0;m<K;++m)switch(p[m]){case">":if(p[m-1]!="/"){++m;break e}if(u&&u.cellStyles){if(T=Yt(p.slice(le,m),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,u.sheetRows&&u.sheetRows<S)continue;ee={},ne=!1,T.ht&&(ne=!0,ee.hpt=parseFloat(T.ht),ee.hpx=L1(ee.hpt)),T.hidden=="1"&&(ne=!0,ee.hidden=!0),T.outlineLevel!=null&&(ne=!0,ee.level=+T.outlineLevel),ne&&(B[S-1]=ee)}break;case"<":le=m;break}if(le>=m)break;if(T=Yt(p.slice(le,m),!0),S=T.r!=null?parseInt(T.r,10):S+1,A=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(ee={},ne=!1,T.ht&&(ne=!0,ee.hpt=parseFloat(T.ht),ee.hpx=L1(ee.hpt)),T.hidden=="1"&&(ne=!0,ee.hidden=!0),T.outlineLevel!=null&&(ne=!0,ee.level=+T.outlineLevel),ne&&(B[S-1]=ee)),v=p.slice(m).split(e);for(var ce=0;ce!=v.length&&v[ce].trim().charAt(0)=="<";++ce);for(v=v.slice(ce),m=0;m!=v.length;++m)if(p=v[m].trim(),p.length!==0){if(y=p.match(r),b=m,_=0,O=0,p="<c "+(p.slice(0,1)=="<"?">":"")+p,y!=null&&y.length===2){for(b=0,C=y[1],_=0;_!=C.length&&!((O=C.charCodeAt(_)-64)<1||O>26);++_)b=26*b+O;--b,A=b}else++A;for(_=0;_!=p.length&&p.charCodeAt(_)!==62;++_);if(++_,T=Yt(p.slice(0,_),!0),T.r||(T.r=nr({r:S-1,c:A})),C=p.slice(_),N={t:""},(y=C.match(i))!=null&&y[1]!==""&&(N.v=Cr(y[1])),u.cellFormula){if((y=C.match(s))!=null&&y[1]!==""){if(N.f=Cr(hn(y[1])).replace(/\r\n/g,`
`),u.xlfn||(N.f=PD(N.f)),y[0].indexOf('t="array"')>-1)N.F=(C.match(a)||[])[1],N.F.indexOf(":")>-1&&Q.push([Hn(N.F),N.F]);else if(y[0].indexOf('t="shared"')>-1){E=Yt(y[0]);var X=Cr(hn(y[1]));u.xlfn||(X=PD(X)),J[parseInt(E.si,10)]=[E,X,T.r]}}else(y=C.match(/<f[^>]*\/>/))&&(E=Yt(y[0]),J[E.si]&&(N.f=tme(J[E.si][1],J[E.si][2],T.r)));var he=Bi(T.r);for(_=0;_<Q.length;++_)he.r>=Q[_][0].s.r&&he.r<=Q[_][0].e.r&&he.c>=Q[_][0].s.c&&he.c<=Q[_][0].e.c&&(N.F=Q[_][1])}if(T.t==null&&N.v===void 0)if(N.f||N.F)N.v=0,N.t="n";else if(I)N.t="z";else continue;else N.t=T.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),N.t){case"n":if(N.v==""||N.v==null){if(!I)continue;N.t="z"}else N.v=parseFloat(N.v);break;case"s":if(typeof N.v>"u"){if(!I)continue;N.t="z"}else D=Ig[parseInt(N.v,10)],N.v=D.t,N.r=D.r,u.cellHTML&&(N.h=D.h);break;case"str":N.t="s",N.v=N.v!=null?hn(N.v):"",u.cellHTML&&(N.h=RP(N.v));break;case"inlineStr":y=C.match(n),N.t="s",y!=null&&(D=GP(y[1]))?(N.v=D.t,u.cellHTML&&(N.h=D.h)):N.v="";break;case"b":N.v=_n(N.v);break;case"d":u.cellDates?N.v=ja(N.v,1):(N.v=Hi(ja(N.v,1)),N.t="n");break;case"e":(!u||u.cellText!==!1)&&(N.w=N.v),N.v=_z[N.v];break}if(P=j=0,U=null,G&&T.s!==void 0&&(U=d.CellXf[T.s],U!=null&&(U.numFmtId!=null&&(P=U.numFmtId),u.cellStyles&&U.fillId!=null&&(j=U.fillId))),eq(N,P,j,u,h,d),u.cellDates&&G&&N.t=="n"&&zp(sr[P])&&(N.t="d",N.v=l5(N.v)),T.cm&&u.xlmeta){var de=(u.xlmeta.Cell||[])[+T.cm-1];de&&de.type=="XLDAPR"&&(N.D=!0)}if(z){var H=Bi(T.r);c[H.r]||(c[H.r]=[]),c[H.r][H.c]=N}else c[T.r]=N}}}}B.length>0&&(c["!rows"]=B)}}();function Wge(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var Hge=od;function Gge(){}function Kge(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=ghe(e),r}function Yge(e){var t=vo(e);return[t]}function Xge(e){var t=sd(e);return[t]}function Qge(e){var t=vo(e),r=e.read_shift(1);return[t,r,"b"]}function Jge(e){var t=sd(e),r=e.read_shift(1);return[t,r,"b"]}function Zge(e){var t=vo(e),r=e.read_shift(1);return[t,r,"e"]}function e1e(e){var t=sd(e),r=e.read_shift(1);return[t,r,"e"]}function t1e(e){var t=vo(e),r=e.read_shift(4);return[t,r,"s"]}function r1e(e){var t=sd(e),r=e.read_shift(4);return[t,r,"s"]}function n1e(e){var t=vo(e),r=yi(e);return[t,r,"n"]}function rq(e){var t=sd(e),r=yi(e);return[t,r,"n"]}function a1e(e){var t=vo(e),r=qP(e);return[t,r,"n"]}function i1e(e){var t=sd(e),r=qP(e);return[t,r,"n"]}function s1e(e){var t=vo(e),r=UP(e);return[t,r,"is"]}function o1e(e){var t=vo(e),r=_i(e);return[t,r,"str"]}function l1e(e){var t=sd(e),r=_i(e);return[t,r,"str"]}function c1e(e,t,r){var n=e.l+t,a=vo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=f5(e,n-e.l,r);s[3]=di(o,null,a,r.supbooks,r)}else e.l=n;return s}function u1e(e,t,r){var n=e.l+t,a=vo(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=f5(e,n-e.l,r);s[3]=di(o,null,a,r.supbooks,r)}else e.l=n;return s}function f1e(e,t,r){var n=e.l+t,a=vo(e);a.r=r["!row"];var i=yi(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=f5(e,n-e.l,r);s[3]=di(o,null,a,r.supbooks,r)}else e.l=n;return s}function h1e(e,t,r){var n=e.l+t,a=vo(e);a.r=r["!row"];var i=_i(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=f5(e,n-e.l,r);s[3]=di(o,null,a,r.supbooks,r)}else e.l=n;return s}var d1e=od;function p1e(e,t){var r=e.l+t,n=od(e),a=zP(e),i=_i(e),s=_i(e),o=_i(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function m1e(){}function g1e(e,t,r){var n=e.l+t,a=xz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=wge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function v1e(e,t,r){var n=e.l+t,a=od(e),i=[a];if(r.cellFormula){var s=Sge(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var y1e=["left","right","top","bottom","header","footer"];function x1e(e){var t={};return y1e.forEach(function(r){t[r]=yi(e)}),t}function b1e(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function w1e(){}function _1e(){}function S1e(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,m,p,v,y,b,_,O,C,N=[];o.biff=12,o["!row"]=0;var T=0,S=!1,A=[],D={},E=o.supbooks||a.supbooks||[[]];if(E.sharedf=D,E.arrayf=A,E.SheetNames=a.SheetNames||a.Sheets.map(function(z){return z.name}),!o.supbooks&&(o.supbooks=E,a.Names))for(var P=0;P<a.Names.length;++P)E[0][P+1]=a.Names[P];var j=[],G=[],U=!1;pb[16]={n:"BrtShortReal",f:rq};var Q;if(Hc(e,function(B,ee,ne){if(!h)switch(ne){case 148:c=B;break;case 0:d=B,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),O=Qa(v=d.r),o["!row"]=d.r,(B.hidden||B.hpt||B.level!=null)&&(B.hpt&&(B.hpx=L1(B.hpt)),G[B.r]=B);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(m={t:B[2]},B[2]){case"n":m.v=B[1];break;case"s":_=Ig[B[1]],m.v=_.t,m.r=_.r;break;case"b":m.v=!!B[1];break;case"e":m.v=B[1],o.cellText!==!1&&(m.w=ld[m.v]);break;case"str":m.t="s",m.v=B[1];break;case"is":m.t="s",m.v=B[1].t;break}if((p=s.CellXf[B[0].iStyleRef])&&eq(m,p.numFmtId,null,o,i,s),y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[ba(y)+O]=m,o.cellFormula){for(S=!1,T=0;T<A.length;++T){var I=A[T];d.r>=I[0].s.r&&d.r<=I[0].e.r&&y>=I[0].s.c&&y<=I[0].e.c&&(m.F=Tr(I[0]),S=!0)}!S&&B.length>3&&(m.f=B[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&p&&m.t=="n"&&zp(sr[p.numFmtId])){var F=_h(m.v);F&&(m.t="d",m.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}Q&&(Q.type=="XLDAPR"&&(m.D=!0),Q=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;m={t:"z",v:void 0},y=B[0].c==-1?y+1:B[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=m):l[ba(y)+O]=m,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),Q&&(Q.type=="XLDAPR"&&(m.D=!0),Q=void 0);break;case 176:N.push(B);break;case 49:Q=((o.xlmeta||{}).Cell||[])[B-1];break;case 494:var q=n["!id"][B.relId];for(q?(B.Target=q.Target,B.loc&&(B.Target+="#"+B.loc),B.Rel=q):B.relId==""&&(B.Target="#"+B.loc),v=B.rfx.s.r;v<=B.rfx.e.r;++v)for(y=B.rfx.s.c;y<=B.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=B):(b=nr({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=B);break;case 426:if(!o.cellFormula)break;A.push(B),C=o.dense?l[v][y]:l[ba(y)+O],C.f=di(B[1],u,{r:d.r,c:y},E,o),C.F=Tr(B[0]);break;case 427:if(!o.cellFormula)break;D[nr(B[0].s)]=B[1],C=o.dense?l[v][y]:l[ba(y)+O],C.f=di(B[1],u,{r:d.r,c:y},E,o);break;case 60:if(!o.cellStyles)break;for(;B.e>=B.s;)j[B.e--]={width:B.w/256,hidden:!!(B.flags&1),level:B.level},U||(U=!0,KP(B.w/256)),ip(j[B.e+1]);break;case 161:l["!autofilter"]={ref:Tr(B)};break;case 476:l["!margins"]=B;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),B.name&&(a.Sheets[r].CodeName=B.name),(B.above||B.left)&&(l["!outline"]={above:B.above,left:B.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),B.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ee.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+ne.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Tr(c||u)),o.sheetRows&&l["!ref"]){var J=Hn(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Tr(J))}return N.length>0&&(l["!merges"]=N),j.length>0&&(l["!cols"]=j),G.length>0&&(l["!rows"]=G),l}function A1e(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Cr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function T1e(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=A1e(f);u.s.r=u.s.c=0,u.e.c=o,c=ba(o),h[0].forEach(function(d,m){s[c+Qa(m)]={t:"n",v:d,z:h[1]},l=m}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Tr(u)),s}function E1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(tq);return o&&XP(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function k1e(e,t){e.l+=10;var r=_i(e);return{name:r}}function P1e(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Hc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var nq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],C1e=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],N1e=[],O1e=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function DD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=_n(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function LD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=_n(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function aq(e){LD(e.WBProps,nq),LD(e.CalcPr,O1e),DD(e.WBView,C1e),DD(e.Sheets,N1e),C0.date1904=_n(e.WBProps.date1904)}var I1e="][*?/\\".split("");function D1e(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return I1e.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var L1e=/<\w+:workbook/;function j1e(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ei,function(l,c){var u=Yt(l);switch(Vl(u[0])){case"<?xml":break;case"<workbook":l.match(L1e)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":nq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=_n(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=hn(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Cr(hn(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=hn(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),_n(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Cr(hn(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),Zfe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return aq(r),r}function M1e(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=hT(e),r.name=_i(e),r}function R1e(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?_i(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function F1e(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function $1e(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=vhe(e),s=_ge(e,0,r),o=zP(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function B1e(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],pb[16]={n:"BrtFRTArchID$",f:F1e},Hc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=di(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),aq(r),r.Names=i,r.supbooks=s,r}function V1e(e,t,r){return t.slice(-4)===".bin"?B1e(e,r):j1e(e,r)}function U1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?S1e(e,n,r,a,i,s,o):Mge(e,n,r,a,i,s,o)}function z1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?P1e(e,n,r,a,i):E1e(e,n,r,a,i)}function q1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Jpe():Zpe()}function W1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Xpe():Qpe()}function H1e(e,t,r,n){return t.slice(-4)===".bin"?dpe(e,r,n):ope(e,r,n)}function G1e(e,t,r){return qz(e,r)}function K1e(e,t,r){return t.slice(-4)===".bin"?C0e(e,r):k0e(e,r)}function Y1e(e,t,r){return t.slice(-4)===".bin"?Gpe(e,r):Upe(e,r)}function X1e(e,t,r){return t.slice(-4)===".bin"?$pe(e):Rpe(e)}function Q1e(e,t,r,n){return r.slice(-4)===".bin"?Bpe(e,t,r,n):void 0}function J1e(e,t,r){return t.slice(-4)===".bin"?jpe(e,t,r):Mpe(e,t,r)}var iq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,sq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Oo(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(iq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(sq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function Z1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(iq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(sq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Lg;function eve(e,t){var r=Lg[e]||Cr(e);return r==="General"?qh(t):mo(r,t)}function tve(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=_n(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=ja(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Cr(t)]=a}function rve(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||ld[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=C1(e.v):e.w=qh(e.v):e.w=eve(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Lg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&zp(n)){var a=_h(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function nve(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=tpe[n.Pattern]||n.Pattern)}e[t.ID]=t}function ave(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],m=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=_n(e);break;case"String":n.t="s",n.r=rD(Cr(e)),n.v=e.indexOf("<")>-1?Cr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(ja(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Cr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=_z[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=rD(t||e));break}if(rve(n,u,c),c.cellFormula!==!1)if(n.Formula){var p=Cr(n.Formula);p.charCodeAt(0)==61&&(p=p.slice(1)),n.f=P0(p,a),delete n.Formula,n.ArrayRange=="RC"?n.F=P0("RC:RC",a):n.ArrayRange&&(n.F=P0(n.ArrayRange,a),l.push([Hn(n.F),n.F]))}else for(m=0;m<l.length;++m)a.r>=l[m][0].s.r&&a.r<=l[m][0].e.r&&a.c>=l[m][0].s.c&&a.c<=l[m][0].e.c&&(n.F=l[m][1]);c.cellStyles&&(d.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function ive(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function PS(e,t){var r=t||{};KU();var n=tg(FP(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=hn(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=Xa(r);return s.type="string",I1.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(Me){a.indexOf("<"+Me)>=0&&(i=!0)}),i)return pve(n,r);Lg={"General Number":"General","General Date":sr[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":sr[15],"Short Date":sr[14],"Long Time":sr[19],"Medium Time":sr[18],"Short Time":sr[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:sr[2],Standard:sr[4],Percent:sr[10],Scientific:sr[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",m={},p={},v=Oo('<Data ss:Type="String">'),y=0,b=0,_=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},C={},N={},T="",S=0,A=[],D={},E={},P=0,j=[],G=[],U={},Q=[],J,z=!1,B=[],ee=[],ne={},I=0,F=0,q={Sheets:[],WBProps:{date1904:!1}},Y={};O1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var K="";o=O1.exec(n);)switch(o[3]=(K=o[3]).toLowerCase()){case"data":if(K=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?ave(n.slice(y,o.index),T,v,l[l.length-1][0]=="comment"?U:m,{c:b,r:_},C,Q[b],p,B,r):(T="",v=Oo(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(G.length>0&&(m.c=G),(!r.sheetRows||r.sheetRows>_)&&m.v!==void 0&&(r.dense?(h[_]||(h[_]=[]),h[_][b]=m):h[ba(b)+Qa(_)]=m),m.HRef&&(m.l={Target:Cr(m.HRef)},m.HRefScreenTip&&(m.l.Tooltip=m.HRefScreenTip),delete m.HRef,delete m.HRefScreenTip),(m.MergeAcross||m.MergeDown)&&(I=b+(parseInt(m.MergeAcross,10)|0),F=_+(parseInt(m.MergeDown,10)|0),A.push({s:{c:b,r:_},e:{c:I,r:F}})),!r.sheetStubs)m.MergeAcross?b=I+1:++b;else if(m.MergeAcross||m.MergeDown){for(var le=b;le<=I;++le)for(var ce=_;ce<=F;++ce)(le>b||ce>_)&&(r.dense?(h[ce]||(h[ce]=[]),h[ce][le]={t:"z"}):h[ba(le)+Qa(ce)]={t:"z"});b=I+1}else++b;else m=Z1e(o[0]),m.Index&&(b=+m.Index-1),b<O.s.c&&(O.s.c=b),b>O.e.c&&(O.e.c=b),o[0].slice(-2)==="/>"&&++b,G=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(_<O.s.r&&(O.s.r=_),_>O.e.r&&(O.e.r=_),o[0].slice(-2)==="/>"&&(p=Oo(o[0]),p.Index&&(_=+p.Index-1)),b=0,++_):(p=Oo(o[0]),p.Index&&(_=+p.Index-1),ne={},(p.AutoFitHeight=="0"||p.Height)&&(ne.hpx=parseInt(p.Height,10),ne.hpt=zz(ne.hpx),ee[_]=ne),p.Hidden=="1"&&(ne.hidden=!0,ee[_]=ne));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=Tr(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=Tr(O))),A.length&&(h["!merges"]=A),Q.length>0&&(h["!cols"]=Q),ee.length>0&&(h["!rows"]=ee),u[d]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},_=b=0,l.push([o[3],!1]),c=Oo(o[0]),d=Cr(c.Name),h=r.dense?[]:{},A=[],B=[],ee=[],Y={name:d,Hidden:0},q.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Q=[],z=!1}break;case"style":o[1]==="/"?nve(C,N,r):N=Oo(o[0]);break;case"numberformat":N.nf=Cr(Oo(o[0]).Format||"General"),Lg[N.nf]&&(N.nf=Lg[N.nf]);for(var X=0;X!=392&&sr[X]!=N.nf;++X);if(X==392){for(X=57;X!=392;++X)if(sr[X]==null){Oh(N.nf,X);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Oo(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!z&&J.wpx>10){z=!0,Fi=Vz;for(var he=0;he<Q.length;++he)Q[he]&&ip(Q[he])}z&&ip(J),Q[J.Index-1||Q.length]=J;for(var de=0;de<+J.Span;++de)Q[Q.length]=Xa(J);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var H=Yt(o[0]),Ae={Name:H.Name,Ref:P0(H.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Ae.Sheet=q.Sheets.length-1),q.Names.push(Ae);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?T+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;N.Interior=Oo(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Uhe(D,K,n.slice(P,o.index)):P=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));ive(U),G.push(U)}else l.push([o[3],!1]),c=Oo(o[0]),U={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ee=Oo(o[0]);h["!autofilter"]={ref:P0(Ee.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return BD(n,r);var Se=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:Se=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:Se=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:Se=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:Se=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(P,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else P=o.index+o[0].length;break;case"header":h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].header=+Yt(o[0]).Margin);break;case"footer":h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+Yt(o[0]).Margin)||(h["!margins"].footer=+Yt(o[0]).Margin);break;case"pagemargins":var ae=Yt(o[0]);h["!margins"]||Dg(h["!margins"]={},"xlml"),isNaN(+ae.Top)||(h["!margins"].top=+ae.Top),isNaN(+ae.Left)||(h["!margins"].left=+ae.Left),isNaN(+ae.Right)||(h["!margins"].right=+ae.Right),isNaN(+ae.Bottom)||(h["!margins"].bottom=+ae.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:Se=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:Se=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:Se=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:Se=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:Se=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:Se=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:Se=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:Se=!1}break;case"smarttags":break;default:Se=!1;break}if(Se||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?tve(E,K,j,n.slice(P,o.index)):(j=o,P=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ce={};return!r.bookSheets&&!r.bookProps&&(Ce.Sheets=u),Ce.SheetNames=f,Ce.Workbook=q,Ce.SSF=Xa(sr),Ce.Props=D,Ce.Custprops=E,Ce}function gT(e,t){switch(ZP(t=t||{}),t.type||"base64"){case"base64":return PS(Ms(e),t);case"binary":case"buffer":case"file":return PS(e,t);case"array":return PS(id(e),t)}}function sve(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=bhe(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=whe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var ove=[60,1084,2066,2165,2175];function lve(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=hc(r,r.l),c=vT[l],u=0;c!=null&&ove.indexOf(l)>-1;)i=hc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=vT[l=hc(r,r.l)];var f=Ru(s);Ha(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function gl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=sr[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||ld[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=C1(e.v):e.w=qh(e.v):e.w=mo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&zp(sr[n]||String(n))){var a=_h(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function ux(e,t,r){return{v:e,ixfe:t,t:r}}function cve(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,m,p,v,y={},b=[],_,O,C=[],N=[],T={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=function(dt){return dt<8?Ih[dt]:dt<64&&N[dt-8]||Ih[dt]},D=function(dt,ve,Ge){var Ye=ve.XF.data;if(!(!Ye||!Ye.patternType||!Ge||!Ge.cellStyles)){ve.s={},ve.s.patternType=Ye.patternType;var Dt;(Dt=D1(A(Ye.icvFore)))&&(ve.s.fgColor={rgb:Dt}),(Dt=D1(A(Ye.icvBack)))&&(ve.s.bgColor={rgb:Dt})}},E=function(dt,ve,Ge){if(!(ne>1)&&!(Ge.sheetRows&&dt.r>=Ge.sheetRows)){if(Ge.cellStyles&&ve.XF&&ve.XF.data&&D(dt,ve,Ge),delete ve.ixfe,delete ve.XF,f=dt,h=nr(dt),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),dt.r<s.s.r&&(s.s.r=dt.r),dt.c<s.s.c&&(s.s.c=dt.c),dt.r+1>s.e.r&&(s.e.r=dt.r+1),dt.c+1>s.e.c&&(s.e.c=dt.c+1),Ge.cellFormula&&ve.f){for(var Ye=0;Ye<b.length;++Ye)if(!(b[Ye][0].s.c>dt.c||b[Ye][0].s.r>dt.r)&&!(b[Ye][0].e.c<dt.c||b[Ye][0].e.r<dt.r)){ve.F=Tr(b[Ye][0]),(b[Ye][0].s.c!=dt.c||b[Ye][0].s.r!=dt.r)&&delete ve.f,ve.f&&(ve.f=""+di(b[Ye][1],s,dt,B,P));break}}Ge.dense?(a[dt.r]||(a[dt.r]=[]),a[dt.r][dt.c]=ve):a[h]=ve}},P={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(P.password=t.password);var j,G=[],U=[],Q=[],J=[],z=!1,B=[];B.SheetNames=P.snames,B.sharedf=P.sharedf,B.arrayf=P.arrayf,B.names=[],B.XTI=[];var ee=0,ne=0,I=0,F=[],q=[],Y;P.codepage=1200,Go(1200);for(var K=!1;e.l<e.length-1;){var le=e.l,ce=e.read_shift(2);if(ce===0&&ee===10)break;var X=e.l===e.length?0:e.read_shift(2),he=vT[ce];if(he&&he.f){if(t.bookSheets&&ee===133&&ce!==133)break;if(ee=ce,he.r===2||he.r==12){var de=e.read_shift(2);if(X-=2,!P.enc&&de!==ce&&((de&255)<<8|de>>8)!==ce)throw new Error("rt mismatch: "+de+"!="+ce);he.r==12&&(e.l+=10,X-=10)}var H={};if(ce===10?H=he.f(e,X,P):H=lve(ce,he,e,X,P),ne==0&&[9,521,1033,2057].indexOf(ee)===-1)continue;switch(ce){case 34:r.opts.Date1904=T.WBProps.date1904=H;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(P.enc||(e.l=0),P.enc=H,!t.password)throw new Error("File is password-protected");if(H.valid==null)throw new Error("Encryption scheme unsupported");if(!H.valid)throw new Error("Password is incorrect");break;case 92:P.lastuser=H;break;case 66:var Ae=Number(H);switch(Ae){case 21010:Ae=1200;break;case 32768:Ae=1e4;break;case 32769:Ae=1252;break}Go(P.codepage=Ae),K=!0;break;case 317:P.rrtabid=H;break;case 25:P.winlocked=H;break;case 439:r.opts.RefreshAll=H;break;case 12:r.opts.CalcCount=H;break;case 16:r.opts.CalcDelta=H;break;case 17:r.opts.CalcIter=H;break;case 13:r.opts.CalcMode=H;break;case 14:r.opts.CalcPrecision=H;break;case 95:r.opts.CalcSaveRecalc=H;break;case 15:P.CalcRefMode=H;break;case 2211:r.opts.FullCalc=H;break;case 129:H.fDialog&&(a["!type"]="dialog"),H.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),H.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:C.push(H);break;case 430:B.push([H]),B[B.length-1].XTI=[];break;case 35:case 547:B[B.length-1].push(H);break;case 24:case 536:Y={Name:H.Name,Ref:di(H.rgce,s,null,B,P)},H.itab>0&&(Y.Sheet=H.itab-1),B.names.push(Y),B[0]||(B[0]=[],B[0].XTI=[]),B[B.length-1].push(H),H.Name=="_xlnm._FilterDatabase"&&H.itab>0&&H.rgce&&H.rgce[0]&&H.rgce[0][0]&&H.rgce[0][0][0]=="PtgArea3d"&&(q[H.itab-1]={ref:Tr(H.rgce[0][0][1][2])});break;case 22:P.ExternCount=H;break;case 23:B.length==0&&(B[0]=[],B[0].XTI=[]),B[B.length-1].XTI=B[B.length-1].XTI.concat(H),B.XTI=B.XTI.concat(H);break;case 2196:if(P.biff<8)break;Y!=null&&(Y.Comment=H[1]);break;case 18:a["!protect"]=H;break;case 19:H!==0&&P.WTF&&console.error("Password verifier: "+H);break;case 133:i[H.pos]=H,P.snames.push(H.name);break;case 10:{if(--ne)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Tr(s),t.sheetRows&&t.sheetRows<=s.e.r){var Ee=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Tr(s),s.e.r=Ee}s.e.r++,s.e.c++}G.length>0&&(a["!merges"]=G),U.length>0&&(a["!objects"]=U),Q.length>0&&(a["!cols"]=Q),J.length>0&&(a["!rows"]=J),T.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(P.biff===8&&(P.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[H.BIFFVer]||8),P.biffguess=H.BIFFVer==0,H.BIFFVer==0&&H.dt==4096&&(P.biff=5,K=!0,Go(P.codepage=28591)),P.biff==8&&H.BIFFVer==0&&H.dt==16&&(P.biff=2),ne++)break;if(a=t.dense?[]:{},P.biff<8&&!K&&(K=!0,Go(P.codepage=t.codepage||1252)),P.biff<5||H.BIFFVer==0&&H.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var Se={pos:e.l-X,name:c};i[Se.pos]=Se,P.snames.push(c)}else c=(i[le]||{name:""}).name;H.dt==32&&(a["!type"]="chart"),H.dt==64&&(a["!type"]="macro"),G=[],U=[],P.arrayf=b=[],Q=[],J=[],z=!1,S={Hidden:(i[le]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[H.r]||[])[H.c]:a[nr({c:H.c,r:H.r})])&&++H.c,_={ixfe:H.ixfe,XF:C[H.ixfe]||{},v:H.val,t:"n"},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t);break;case 5:case 517:_={ixfe:H.ixfe,XF:C[H.ixfe],v:H.val,t:H.t},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t);break;case 638:_={ixfe:H.ixfe,XF:C[H.ixfe],v:H.rknum,t:"n"},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t);break;case 189:for(var ae=H.c;ae<=H.C;++ae){var Ce=H.rkrec[ae-H.c][0];_={ixfe:Ce,XF:C[Ce],v:H.rkrec[ae-H.c][1],t:"n"},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:ae,r:H.r},_,t)}break;case 6:case 518:case 1030:{if(H.val=="String"){o=H;break}if(_=ux(H.val,H.cell.ixfe,H.tt),_.XF=C[_.ixfe],t.cellFormula){var Me=H.formula;if(Me&&Me[0]&&Me[0][0]&&Me[0][0][0]=="PtgExp"){var Be=Me[0][0][1][0],Ze=Me[0][0][1][1],Re=nr({r:Be,c:Ze});y[Re]?_.f=""+di(H.formula,s,H.cell,B,P):_.F=((t.dense?(a[Be]||[])[Ze]:a[Re])||{}).F}else _.f=""+di(H.formula,s,H.cell,B,P)}I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E(H.cell,_,t),o=H}break;case 7:case 519:if(o)o.val=H,_=ux(H,o.cell.ixfe,"s"),_.XF=C[_.ixfe],t.cellFormula&&(_.f=""+di(o.formula,s,o.cell,B,P)),I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E(o.cell,_,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(H);var Qe=nr(H[0].s);if(d=t.dense?(a[H[0].s.r]||[])[H[0].s.c]:a[Qe],t.cellFormula&&d){if(!o||!Qe||!d)break;d.f=""+di(H[1],s,H[0],B,P),d.F=Tr(H[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[nr(o.cell)]=H[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[nr(o.cell)],(d||{}).f=""+di(H[0],s,f,B,P)}}break;case 253:_=ux(l[H.isst].t,H.ixfe,"s"),l[H.isst].h&&(_.h=l[H.isst].h),_.XF=C[_.ixfe],I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t);break;case 513:t.sheetStubs&&(_={ixfe:H.ixfe,XF:C[H.ixfe],t:"z"},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t));break;case 190:if(t.sheetStubs)for(var je=H.c;je<=H.C;++je){var Ke=H.ixfe[je-H.c];_={ixfe:Ke,XF:C[Ke],t:"z"},I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:je,r:H.r},_,t)}break;case 214:case 516:case 4:_=ux(H.val,H.ixfe,"s"),_.XF=C[_.ixfe],I>0&&(_.z=F[_.ixfe>>8&63]),gl(_,t,r.opts.Date1904),E({c:H.c,r:H.r},_,t);break;case 0:case 512:ne===1&&(s=H);break;case 252:l=H;break;case 1054:if(P.biff==4){F[I++]=H[1];for(var ot=0;ot<I+163&&sr[ot]!=H[1];++ot);ot>=163&&Oh(H[1],I+163)}else Oh(H[1],H[0]);break;case 30:{F[I++]=H;for(var it=0;it<I+163&&sr[it]!=H;++it);it>=163&&Oh(H,I+163)}break;case 229:G=G.concat(H);break;case 93:U[H.cmo[0]]=P.lastobj=H;break;case 438:P.lastobj.TxO=H;break;case 127:P.lastobj.ImData=H;break;case 440:for(v=H[0].s.r;v<=H[0].e.r;++v)for(p=H[0].s.c;p<=H[0].e.c;++p)d=t.dense?(a[v]||[])[p]:a[nr({c:p,r:v})],d&&(d.l=H[1]);break;case 2048:for(v=H[0].s.r;v<=H[0].e.r;++v)for(p=H[0].s.c;p<=H[0].e.c;++p)d=t.dense?(a[v]||[])[p]:a[nr({c:p,r:v})],d&&d.l&&(d.l.Tooltip=H[1]);break;case 28:{if(P.biff<=5&&P.biff>=2)break;d=t.dense?(a[H[0].r]||[])[H[0].c]:a[nr(H[0])];var ht=U[H[2]];d||(t.dense?(a[H[0].r]||(a[H[0].r]=[]),d=a[H[0].r][H[0].c]={t:"z"}):d=a[nr(H[0])]={t:"z"},s.e.r=Math.max(s.e.r,H[0].r),s.s.r=Math.min(s.s.r,H[0].r),s.e.c=Math.max(s.e.c,H[0].c),s.s.c=Math.min(s.s.c,H[0].c)),d.c||(d.c=[]),m={a:H[1],t:ht.TxO.t},d.c.push(m)}break;case 2173:Ope(C[H.ixfe],H.ext);break;case 125:{if(!P.cellStyles)break;for(;H.e>=H.s;)Q[H.e--]={width:H.w/256,level:H.level||0,hidden:!!(H.flags&1)},z||(z=!0,KP(H.w/256)),ip(Q[H.e+1])}break;case 520:{var yt={};H.level!=null&&(J[H.r]=yt,yt.level=H.level),H.hidden&&(J[H.r]=yt,yt.hidden=!0),H.hpt&&(J[H.r]=yt,yt.hpt=H.hpt,yt.hpx=L1(H.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Dg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=H;break;case 161:a["!margins"]||Dg(a["!margins"]={}),a["!margins"].header=H.header,a["!margins"].footer=H.footer;break;case 574:H.RTL&&(T.Views[0].RTL=!0);break;case 146:N=H;break;case 2198:j=H;break;case 140:O=H;break;case 442:c?S.CodeName=H||S.name:T.WBProps.CodeName=H||"ThisWorkbook";break}}else he||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),e.l+=X}return r.SheetNames=$l(i).sort(function(xt,dt){return Number(xt)-Number(dt)}).map(function(xt){return i[xt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(xt,dt){r.Sheets[r.SheetNames[dt]]["!autofilter"]=xt}),r.Strings=l,r.SSF=Xa(sr),P.enc&&(r.Encryption=P.enc),j&&(r.Themes=j),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),B.names.length>0&&(T.Names=B.names),r.Workbook=T,r}var jD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function uve(e,t,r){var n=Ar.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=yD(n,khe,jD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=Ar.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=yD(s,Phe,jD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Az(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function oq(e,t){t||(t={}),ZP(t),MU(),t.codepage&&OP(t.codepage);var r,n;if(e.FullPaths){if(Ar.find(e,"/encryption"))throw new Error("File is password-protected");r=Ar.find(e,"!CompObj"),n=Ar.find(e,"/Workbook")||Ar.find(e,"/Book")}else{switch(t.type){case"base64":e=Wo(Ms(e));break;case"binary":e=Wo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}Ha(e,0),n={content:e}}var a,i;if(r&&sve(r),t.bookProps&&!t.bookSheets)a={};else{var s=vr?"buffer":"array";if(n&&n.content)a=cve(n.content,t);else if((i=Ar.find(e,"PerfectOffice_MAIN"))&&i.content)a=Og.to_workbook(i.content,(t.type=s,t));else if((i=Ar.find(e,"NativeContent_MAIN"))&&i.content)a=Og.to_workbook(i.content,(t.type=s,t));else throw(i=Ar.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&Ar.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=Ype(e))}var o={};return e.FullPaths&&uve(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var pb={0:{f:Wge},1:{f:Yge},2:{f:a1e},3:{f:Zge},4:{f:Qge},5:{f:n1e},6:{f:o1e},7:{f:t1e},8:{f:h1e},9:{f:f1e},10:{f:c1e},11:{f:u1e},12:{f:Xge},13:{f:i1e},14:{f:e1e},15:{f:Jge},16:{f:rq},17:{f:l1e},18:{f:r1e},19:{f:UP},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:$1e},40:{},42:{},43:{f:cpe},44:{f:lpe},45:{f:upe},46:{f:hpe},47:{f:fpe},48:{},49:{f:dhe},50:{},51:{f:Dpe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Mz},62:{f:s1e},63:{f:Fpe},64:{f:w1e},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ai,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:b1e},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:Kge},148:{f:Hge,p:16},151:{f:m1e},152:{},153:{f:R1e},154:{},155:{},156:{f:M1e},157:{},158:{},159:{T:1,f:P0e},160:{T:-1},161:{T:1,f:od},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:d1e},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Ipe},336:{T:-1},337:{f:Lpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:hT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:jz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:g1e},427:{f:v1e},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:x1e},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:Gge},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:p1e},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:hT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:Hpe},633:{T:1},634:{T:-1},635:{T:1,f:Wpe},636:{T:-1},637:{f:mhe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:k1e},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:_1e},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},vT={6:{f:ES},10:{f:Tu},12:{f:la},13:{f:la},14:{f:Yn},15:{f:Yn},16:{f:yi},17:{f:Yn},18:{f:Yn},19:{f:la},20:{f:_D},21:{f:_D},23:{f:jz},24:{f:AD},25:{f:Yn},26:{},27:{},28:{f:zde},29:{},34:{f:Yn},35:{f:SD},38:{f:yi},39:{f:yi},40:{f:yi},41:{f:yi},42:{f:Yn},43:{f:Yn},47:{f:G0e},49:{f:Ade},51:{f:la},60:{},61:{f:wde},64:{f:Yn},65:{f:Sde},66:{f:la},77:{},80:{},81:{},82:{},85:{f:la},89:{},90:{},91:{},92:{f:dde},93:{f:Wde},94:{},95:{f:Yn},96:{},97:{},99:{f:Yn},125:{f:Mz},128:{f:Lde},129:{f:pde},130:{f:la},131:{f:Yn},132:{f:Yn},133:{f:mde},134:{},140:{f:Qde},141:{f:la},144:{},146:{f:Zde},151:{},152:{},153:{},154:{},155:{},156:{f:la},157:{},158:{},160:{f:a0e},161:{f:t0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:Nde},190:{f:Ode},193:{f:Tu},197:{},198:{},199:{},200:{},201:{},202:{f:Yn},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:la},220:{},221:{f:Yn},222:{},224:{f:Dde},225:{f:hde},226:{f:Tu},227:{},229:{f:qde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:gde},253:{f:Tde},255:{f:vde},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Cz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Yn},353:{f:Tu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Mde},431:{f:Yn},432:{},433:{},434:{},437:{},438:{f:Kde},439:{f:Yn},440:{f:Yde},441:{},442:{f:zv},443:{},444:{f:la},445:{},446:{},448:{f:Tu},449:{f:bde,r:2},450:{f:Tu},512:{f:bD},513:{f:n0e},515:{f:jde},516:{f:Ede},517:{f:wD},519:{f:i0e},520:{f:yde},523:{},545:{f:TD},549:{f:xD},566:{},574:{f:_de},638:{f:Cde},659:{},1048:{},1054:{f:kde},1084:{},1212:{f:Bde},2048:{f:Xde},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:ox},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Tu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:e0e,r:12},2173:{f:Npe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Yn,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:$de,r:12},2197:{},2198:{f:Ape,r:12},2199:{},2200:{},2201:{},2202:{f:Vde,r:12},2203:{f:Tu},2204:{},2205:{},2206:{},2207:{},2211:{f:xde},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:la},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:r0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:Jde},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:bD},1:{},2:{f:c0e},3:{f:l0e},4:{f:o0e},5:{f:wD},7:{f:u0e},8:{},9:{f:ox},11:{},22:{f:la},30:{f:Pde},31:{},32:{},33:{f:TD},36:{},37:{f:xD},50:{f:f0e},62:{},52:{},67:{},68:{f:la},69:{},86:{},126:{},127:{f:s0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:h0e},223:{},234:{},354:{},421:{},518:{f:ES},521:{f:ox},536:{f:AD},547:{f:SD},561:{},579:{},1030:{f:ES},1033:{f:ox},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Io(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&gz(r)&&e.push(r)}}function MD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=jfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},m=[];for(s=0;s<l.length;++s){var p=l[s].trim(),v=p.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=p.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var _=b,O=0;_.charAt(0)=="<"&&(O=_.indexOf(">"))>-1;)_=_.slice(O+1);for(var C=0;C<m.length;++C){var N=m[C];N.s.c==u&&N.s.r<c&&c<=N.e.r&&(u=N.e.c+1,C=-1)}var T=Yt(b.slice(0,b.indexOf(">")));h=T.colspan?+T.colspan:1,((f=+T.rowspan)>1||h>1)&&m.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=T.t||T["data-t"]||"";if(!_.length){u+=h;continue}if(_=nz(_),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!_.length){u+=h;continue}var A={t:"s",v:_};r.raw||!_.trim().length||S=="s"||(_==="TRUE"?A={t:"b",v:!0}:_==="FALSE"?A={t:"b",v:!1}:isNaN(el(_))?isNaN(ap(_).getDate())||(A={t:"d",v:ja(_)},r.cellDates||(A={t:"n",v:Hi(A.v)}),A.z=r.dateNF||sr[14]):A={t:"n",v:el(_)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[nr({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=Tr(d),m.length&&(n["!merges"]=m),n}function fve(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=nr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||RP(f.w||(Mc(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(Qfe("td",h,d))}}var m="<tr>";return m+i.join("")+"</tr>"}var hve='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dve="</body></html>";function pve(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Df(MD(r[0],t),t);var n=tC();return r.forEach(function(a,i){rC(n,MD(a,t),"Sheet"+(i+1))}),n}function mve(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function gve(e,t){var r=t||{},n=r.header!=null?r.header:hve,a=r.footer!=null?r.footer:dve,i=[n],s=qp(e["!ref"]);r.dense=Array.isArray(e),i.push(mve(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(fve(e,s,o,r));return i.push("</table>"+a),i.join("")}function lq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?Bi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=qp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),m=0,p=0,v=0,y=0,b=0,_=0;for(e["!cols"]||(e["!cols"]=[]);m<o.length&&p<l;++m){var O=o[m];if(RD(O)){if(n.display)continue;d[p]={hidden:!0}}var C=O.children;for(v=y=0;v<C.length;++v){var N=C[v];if(!(n.display&&RD(N))){var T=N.hasAttribute("data-v")?N.getAttribute("data-v"):N.hasAttribute("v")?N.getAttribute("v"):nz(N.innerHTML),S=N.getAttribute("data-z")||N.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<p+a&&p+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}_=+N.getAttribute("colspan")||1,((b=+N.getAttribute("rowspan")||1)>1||_>1)&&f.push({s:{r:p+a,c:y+i},e:{r:p+a+(b||1)-1,c:y+i+(_||1)-1}});var D={t:"s",v:T},E=N.getAttribute("data-t")||N.getAttribute("t")||"";T!=null&&(T.length==0?D.t=E||"z":n.raw||T.trim().length==0||E=="s"||(T==="TRUE"?D={t:"b",v:!0}:T==="FALSE"?D={t:"b",v:!1}:isNaN(el(T))?isNaN(ap(T).getDate())||(D={t:"d",v:ja(T)},n.cellDates||(D={t:"n",v:Hi(D.v)}),D.z=n.dateNF||sr[14]):D={t:"n",v:el(T)})),D.z===void 0&&S!=null&&(D.z=S);var P="",j=N.getElementsByTagName("A");if(j&&j.length)for(var G=0;G<j.length&&!(j[G].hasAttribute("href")&&(P=j[G].getAttribute("href"),P.charAt(0)!="#"));++G);P&&P.charAt(0)!="#"&&(D.l={Target:P}),n.dense?(e[p+a]||(e[p+a]=[]),e[p+a][y+i]=D):e[nr({c:y+i,r:p+a})]=D,c.e.c<y+i&&(c.e.c=y+i),y+=_}}++p}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,p-1+a),e["!ref"]=Tr(c),p>=l&&(e["!fullref"]=Tr((c.e.r=o.length-m+p-1+a,c))),e}function cq(e,t){var r=t||{},n=r.dense?[]:{};return lq(n,e,t)}function vve(e,t){return Df(cq(e,t),t)}function RD(e){var t="",r=yve(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function yve(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function xve(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Cr(t.replace(/<[^>]*>/g,""));return[r]}var FD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function uq(e,t){var r=t||{},n=FP(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],m=r.dense?[]:{},p,v,y={value:""},b="",_=0,O=[],C=-1,N=-1,T={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,A={},D=[],E={},P=0,j=0,G=[],U=1,Q=1,J=[],z={Names:[]},B={},ee=["",""],ne=[],I={},F="",q=0,Y=!1,K=!1,le=0;for(O1.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");p=O1.exec(n);)switch(p[3]=p[3].replace(/_.*$/,"")){case"table":case"工作表":p[1]==="/"?(T.e.c>=T.s.c&&T.e.r>=T.s.r?m["!ref"]=Tr(T):m["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=T.e.r&&(m["!fullref"]=m["!ref"],T.e.r=r.sheetRows-1,m["!ref"]=Tr(T)),D.length&&(m["!merges"]=D),G.length&&(m["!rows"]=G),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=m,K=!1):p[0].charAt(p[0].length-2)!=="/"&&(u=Yt(p[0],!1),C=N=-1,T.s.r=T.s.c=1e7,T.e.r=T.e.c=0,m=r.dense?[]:{},D=[],G=[],K=!0);break;case"table-row-group":p[1]==="/"?--S:++S;break;case"table-row":case"行":if(p[1]==="/"){C+=U,U=1;break}if(f=Yt(p[0],!1),f.行号?C=f.行号-1:C==-1&&(C=0),U=+f["number-rows-repeated"]||1,U<10)for(le=0;le<U;++le)S>0&&(G[C+le]={level:S});N=-1;break;case"covered-table-cell":p[1]!=="/"&&++N,r.sheetStubs&&(r.dense?(m[C]||(m[C]=[]),m[C][N]={t:"z"}):m[nr({r:C,c:N})]={t:"z"}),b="",O=[];break;case"table-cell":case"数据":if(p[0].charAt(p[0].length-2)==="/")++N,y=Yt(p[0],!1),Q=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=ID(Cr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Cr(y["string-value"]||""),r.dense?(m[C]||(m[C]=[]),m[C][N]=v):m[nr({r:C,c:N})]=v),N+=Q-1;else if(p[1]!=="/"){++N,b="",_=0,O=[],Q=1;var ce=U?C+U-1:C;if(N>T.e.c&&(T.e.c=N),N<T.s.c&&(T.s.c=N),C<T.s.r&&(T.s.r=C),ce>T.e.r&&(T.e.r=ce),y=Yt(p[0],!1),ne=[],I={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Cr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(P=parseInt(y["number-matrix-rows-spanned"],10)||0,j=parseInt(y["number-matrix-columns-spanned"],10)||0,E={s:{r:C,c:N},e:{r:C+P-1,c:N+j-1}},v.F=Tr(E),J.push([E,v.F])),y.formula)v.f=ID(y.formula);else for(le=0;le<J.length;++le)C>=J[le][0].s.r&&C<=J[le][0].e.r&&N>=J[le][0].s.c&&N<=J[le][0].e.c&&(v.F=J[le][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(P=parseInt(y["number-rows-spanned"],10)||0,j=parseInt(y["number-columns-spanned"],10)||0,E={s:{r:C,c:N},e:{r:C+P-1,c:N+j-1}},D.push(E)),y["number-columns-repeated"]&&(Q=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=_n(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=ja(y["date-value"]),r.cellDates||(v.t="n",v.v=Hi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Ife(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=l5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Cr(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(Y=!1,v.t==="s"&&(v.v=b||"",O.length&&(v.R=O),Y=_==0),B.Target&&(v.l=B),ne.length>0&&(v.c=ne,ne=[]),b&&r.cellText!==!1&&(v.w=b),Y&&(v.t="z",delete v.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=C))for(var X=0;X<U;++X){if(Q=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(m[C+X]||(m[C+X]=[]),m[C+X][N]=X==0?v:Xa(v);--Q>0;)m[C+X][N+Q]=Xa(v);else for(m[nr({r:C+X,c:N})]=v;--Q>0;)m[nr({r:C+X,c:N+Q})]=Xa(v);T.e.c<=N&&(T.e.c=N)}Q=parseInt(y["number-columns-repeated"]||"1",10),N+=Q-1,Q=0,v={},b="",O=[]}B={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!0]);break;case"annotation":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i;I.t=b,O.length&&(I.R=O),I.a=F,ne.push(I)}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);F="",q=0,b="",_=0,O=[];break;case"creator":p[1]==="/"?F=n.slice(q,p.index):q=p.index+p[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(p[1]==="/"){if((i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&a.push([p[3],!1]);b="",_=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(p[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==p[3])throw"Bad state: "+i}else p[0].charAt(p[0].length-2)!=="/"&&(l="",o=Yt(p[0],!1),a.push([p[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Yt(p[0],!1),l+=FD[p[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=Yt(p[0],!1),l+=FD[p[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(p[0].slice(-2)==="/>")break;if(p[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,p.index);break}else c=p.index+p[0].length;break;case"named-range":s=Yt(p[0],!1),ee=kS(s["cell-range-address"]);var he={Name:s.name,Ref:ee[0]+"!"+ee[1]};K&&(he.Sheet=d.length),z.Names.push(he);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(p[1]==="/"&&(!y||!y["string-value"])){var de=xve(n.slice(_,p.index));b=(b.length>0?b+`
`:"")+de[0]}else Yt(p[0],!1),_=p.index+p[0].length;break;case"s":break;case"database-range":if(p[1]==="/")break;try{ee=kS(Yt(p[0])["target-range-address"]),h[ee[0]]["!autofilter"]={ref:ee[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(p[1]!=="/"){if(B=Yt(p[0],!1),!B.href)break;B.Target=Cr(B.href),delete B.href,B.Target.charAt(0)=="#"&&B.Target.indexOf(".")>-1?(ee=kS(B.Target.slice(1)),B.Target="#"+ee[0]+"!"+ee[1]):B.Target.match(/^\.\.[\\\/]/)&&(B.Target=B.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(p[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(p)}}var H={Sheets:h,SheetNames:d,Workbook:z};return r.bookSheets&&delete H.Sheets,H}function $D(e,t){t=t||{},ro(e,"META-INF/manifest.xml")&&jhe(oa(e,"META-INF/manifest.xml"),t);var r=ks(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=uq(hn(r),t);return ro(e,"meta.xml")&&(n.Props=Sz(oa(e,"meta.xml"))),n}function BD(e,t){return uq(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function QP(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function yT(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):hn(id(e))}function xT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function VD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function bve(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function j1(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Sa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function wi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=j1(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=j1(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function JP(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function wve(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=j1(e,n),i=wi(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Sa(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=wi(o.data),c=Sa(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Sa(i[3][0].data)>>>0>0),r.push(s)}return r}function _ve(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=j1(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[xT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=xT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function Sve(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(_ve(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return xT(t)}function Ave(e,t,r,n){var a=QP(e),i=a.getUint32(4,!0),s=(n>1?12:8)+VD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=VD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function Tve(e,t,r){var n=QP(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=bve(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function Eve(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return Ave(e,t,r,e[0]);case 5:return Tve(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function cf(e){var t=wi(e);return j1(t[1][0].data)}function UD(e,t){var r=wi(t.data),n=Sa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=wi(s.data),l=Sa(o[1][0].data)>>>0;switch(n){case 1:i[l]=yT(o[3][0].data);break;case 8:{var c=e[cf(o[9][0].data)][0],u=wi(c.data),f=e[cf(u[1][0].data)][0],h=Sa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=wi(f.data);i[l]=d[3].map(function(m){return yT(m.data)}).join("")}break}}),i}function kve(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,m,p,v=wi(e),y=Sa(v[1][0].data)>>>0,b=Sa(v[2][0].data)>>>0,_=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Sa(v[8][0].data)>0||!1,O,C;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,C=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)O=(d=(h=v[4])==null?void 0:h[0])==null?void 0:d.data,C=(p=(m=v[3])==null?void 0:m[0])==null?void 0:p.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var N=_?4:1,T=QP(O),S=[],A=0;A<O.length/2;++A){var D=T.getUint16(A*2,!0);D<65535&&S.push([A,D])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var E=[];for(A=0;A<S.length-1;++A)E[S[A][0]]=C.subarray(S[A][1]*N,S[A+1][1]*N);return S.length>=1&&(E[S[S.length-1][0]]=C.subarray(S[S.length-1][1]*N)),{R:y,cells:E}}function Pve(e,t){var r,n=wi(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Sa(n[7][0].data)>>>0>0?1:0:-1,i=JP(n[5],function(s){return kve(s,a)});return{nrows:Sa(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function Cve(e,t,r){var n,a=wi(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Sa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Sa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Tr(i);var s=wi(a[4][0].data),o=UD(e,e[cf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?UD(e,e[cf(s[17][0].data)][0]):[],c=wi(s[3][0].data),u=0;c[1].forEach(function(f){var h=wi(f.data),d=e[cf(h[2][0].data)][0],m=Sa(d.meta[1][0].data);if(m!=6002)throw new Error("6001 unexpected reference to ".concat(m));var p=Pve(e,d);p.data.forEach(function(v,y){v.forEach(function(b,_){var O=nr({r:u+y,c:_}),C=Eve(b,o,l);C&&(r[O]=C)})}),u+=p.nrows})}function Nve(e,t){var r=wi(t.data),n={"!ref":"A1"},a=e[cf(r[2][0].data)],i=Sa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return Cve(e,a[0],n),n}function Ove(e,t){var r,n=wi(t.data),a={name:(r=n[1])!=null&&r[0]?yT(n[1][0].data):"",sheets:[]},i=JP(n[2],cf);return i.forEach(function(s){e[s].forEach(function(o){var l=Sa(o.meta[1][0].data);l==6e3&&a.sheets.push(Nve(e,o))})}),a}function Ive(e,t){var r=tC(),n=wi(t.data),a=JP(n[1],cf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Sa(s.meta[1][0].data);if(o==2){var l=Ove(e,s);l.sheets.forEach(function(c,u){rC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function CS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=Sve(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=wve(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Sa(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Sa(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Ive(i,o)}function Dve(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function ZP(e){Dve([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function Lve(e){return p0.WS.indexOf(e)>-1?"sheet":e==p0.CS?"chart":e==p0.DS?"dialog":e==p0.MS?"macro":e&&e.length?e:"sheet"}function jve(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,Lve(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function Mve(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Cg(ks(e,r,!0),t);var h=oa(e,t),d;switch(o){case"sheet":d=U1e(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=z1e(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var m=ng(d["!drawel"].Target,t),p=dT(m),v=Vpe(ks(e,m,!0),Cg(ks(e,p,!0),m)),y=ng(v,m),b=dT(y);d=T1e(ks(e,y,!0),y,l,Cg(ks(e,b,!0),y),c,d);break;case"macro":d=q1e(h,t,a,l,i[n],c,u,f);break;case"dialog":d=W1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var _=[];i&&i[n]&&$l(i[n]).forEach(function(O){var C="";if(i[n][O].Type==p0.CMNT){C=ng(i[n][O].Target,t);var N=Y1e(oa(e,C,!0),C,l);if(!N||!N.length)return;kD(d,N,!1)}i[n][O].Type==p0.TCMNT&&(C=ng(i[n][O].Target,t),_=_.concat(zpe(oa(e,C,!0),l)))}),_&&_.length&&kD(d,_,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function Ys(e){return e.charAt(0)=="/"?e.slice(1):e}function Rve(e,t){if(KU(),t=t||{},ZP(t),ro(e,"META-INF/manifest.xml")||ro(e,"objectdata.xml"))return $D(e,t);if(ro(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof CS<"u"){if(e.FileIndex)return CS(e);var r=Ar.utils.cfb_new();return eD(e).forEach(function(G){Ffe(r,G,Rfe(e,G))}),CS(r)}throw new Error("Unsupported NUMBERS file")}if(!ro(e,"[Content_Types].xml"))throw ro(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):ro(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=eD(e),a=Dhe(ks(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",oa(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!oa(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if(Ig=[],a.sst)try{Ig=K1e(oa(e,Ys(a.sst)),a.sst,t)}catch(G){if(t.WTF)throw G}t.cellStyles&&a.themes.length&&(l=G1e(ks(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=H1e(oa(e,Ys(a.style)),a.style,l,t))}a.links.map(function(G){try{var U=Cg(ks(e,dT(Ys(G))),G);return Q1e(oa(e,Ys(G)),U,G,t)}catch{}});var u=V1e(oa(e,Ys(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=oa(e,Ys(a.coreprops[0]),!0),h&&(f=Sz(h)),a.extprops.length!==0&&(h=oa(e,Ys(a.extprops[0]),!0),h&&Fhe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=ks(e,Ys(a.custprops[0]),!0),h&&(d=Bhe(h,t)));var m={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(U){return U.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(m.Props=f,m.Custprops=d),t.bookSheets&&typeof s<"u"&&(m.SheetNames=s),t.bookSheets?m.SheetNames:t.bookProps))return m;s={};var p={};t.bookDeps&&a.calcchain&&(p=X1e(oa(e,Ys(a.calcchain)),a.calcchain));var v=0,y={},b,_;{var O=u.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var C=0;C!=O.length;++C)f.SheetNames[C]=O[C].name}var N=i?"bin":"xml",T=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,T+1)+"_rels/"+a.workbooks[0].slice(T+1)+".rels").replace(/^\//,"");ro(e,S)||(S="xl/_rels/workbook."+N+".rels");var A=Cg(ks(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=J1e(oa(e,Ys(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=qpe(oa(e,Ys(a.people[0])),t)),A&&(A=jve(A,u.Sheets));var D=oa(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var E="sheet";if(A&&A[v]?(b="xl/"+A[v][1].replace(/[\/]?xl\//,""),ro(e,b)||(b=A[v][1]),ro(e,b)||(b=S.replace(/_rels\/.*$/,"")+A[v][1]),E=A[v][2]):(b="xl/worksheets/sheet"+(v+1-D)+"."+N,b=b.replace(/sheet0\./,"sheet.")),_=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var P=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==v&&(P=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[v].toLowerCase()&&(P=1);if(!P)continue e}}Mve(e,b,_,f.SheetNames[v],v,y,s,E,t,u,l,c)}return m={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:p,Sheets:s,SheetNames:f.SheetNames,Strings:Ig,Styles:c,Themes:l,SSF:Xa(sr)},t&&t.bookFiles&&(e.files?(m.keys=n,m.files=e.files):(m.keys=[],m.files={},e.FullPaths.forEach(function(G,U){G=G.replace(/^Root Entry[\/]/,""),m.keys.push(G),m.files[G]=e.FileIndex[U]}))),t&&t.bookVBA&&(a.vba.length>0?m.vbaraw=oa(e,Ys(a.vba[0]),!0):a.defaults&&a.defaults.bin===Kpe&&(m.vbaraw=oa(e,"xl/vbaProject.bin",!0))),m}function Fve(e,t){var r=t||{},n="Workbook",a=Ar.find(e,n);try{if(n="/!DataSpaces/Version",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(N0e(a.content),n="/!DataSpaces/DataSpaceMap",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=I0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=D0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);j0e(a.content)}catch{}if(n="/EncryptionInfo",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=M0e(a.content);if(n="/EncryptedPackage",a=Ar.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function eC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=Ms(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function $ve(e,t){return Ar.find(e,"EncryptedPackage")?Fve(e,t):oq(e,t)}function Bve(e,t){var r,n=e,a=t||{};return a.type||(a.type=vr&&Buffer.isBuffer(e)?"buffer":"base64"),r=ez(n,a),Rve(r,a)}function fq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return gT(e.slice(r),t);default:break e}return I1.to_workbook(e,t)}function Vve(e,t){var r="",n=eC(e,t);switch(t.type){case"base64":r=Ms(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Wh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=hn(r)),t.type="binary",fq(r,t)}function Uve(e,t){var r=e;return t.type=="base64"&&(r=Ms(r)),r=Mu.utils.decode(1200,r.slice(2),"str"),t.type="binary",fq(r,t)}function zve(e){return e.match(/[^\x00-\x7F]/)?ag(e):e}function NS(e,t,r,n){return n?(r.type="string",I1.to_workbook(e,r)):I1.to_workbook(t,r)}function bT(e,t){MU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return bT(new Uint8Array(e),(r=Xa(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),C0={},r.dateNF&&(C0.dateNF=r.dateNF),r.type||(r.type=vr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=vr?"buffer":"binary",n=Nfe(e),typeof Uint8Array<"u"&&!vr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=zve(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=Xa(r),r.type="array",bT(IP(n),r)}switch((a=eC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return $ve(Ar.read(n,r),r);break;case 9:if(a[1]<=8)return oq(n,r);break;case 60:return gT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return v0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return m0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Bve(n,r):NS(e,n,r,i);case 239:return a[3]===60?gT(n,r):NS(e,n,r,i);case 255:if(a[1]===254)return Uve(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Og.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Og.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return ED.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return K0e.to_workbook(n,r);break;case 10:case 13:case 32:return Vve(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return d0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?ED.to_workbook(n,r):NS(e,n,r,i)}function qve(e,t,r,n,a,i,s,o){var l=Qa(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var m=s?e[r][d]:e[n[d]+l];if(m===void 0||m.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var p=m.v;switch(m.t){case"z":if(p==null)break;continue;case"e":p=p==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+m.t)}if(i[d]!=null){if(p==null)if(m.t=="e"&&p===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&p===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(m.t!=="n"||m.t==="n"&&o.rawNumbers!==!1)?p:Mc(m,p,o);p!=null&&(f=!1)}}return{row:h,isempty:f}}function wT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Hn(u);break;case"number":l=Hn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=Qa(l.s.r),h=[],d=[],m=0,p=0,v=Array.isArray(e),y=l.s.r,b=0,_={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],C=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(O[b]||{}).hidden)switch(h[b]=ba(b),r=v?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=Mc(r,null,c),p=_[s]||0,!p)_[s]=1;else{do o=s+"_"+p++;while(_[o]);_[s]=p,_[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(C[y]||{}).hidden){var N=qve(e,l,y,h,n,i,v,c);(N.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[m++]=N.row)}return d.length=m,d}var zD=/"/g;function Wve(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=Qa(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:Mc(d,null,o));for(var m=0,p=0;m!==u.length;++m)if((p=u.charCodeAt(m))===a||p===i||p===34||o.forceQuotes){u='"'+u.replace(zD,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(zD,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function hq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Hn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],m=a.s.c;m<=a.e.c;++m)(h[m]||{}).hidden||(f[m]=ba(m));for(var p=0,v=a.s.r;v<=a.e.r;++v)(d[v]||{}).hidden||(u=Wve(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((p++?o:"")+u)));return delete n.dense,r.join("")}function Hve(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=hq(e,t);return r}function Gve(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Hn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=ba(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=Qa(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function dq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?Bi(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Hn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(p,v){$l(p).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var b=p[y],_="z",O="",C=nr({c:o+d,r:s+v+a});c=M1(i,C),b&&typeof b=="object"&&!(b instanceof Date)?i[C]=b:(typeof b=="number"?_="n":typeof b=="boolean"?_="b":typeof b=="string"?_="s":b instanceof Date?(_="d",n.cellDates||(_="n",b=Hi(b)),O=n.dateNF||sr[14]):b===null&&n.nullError&&(_="e",b=0),c?(c.t=_,c.v=b,delete c.w,delete c.R,O&&(c.z=O)):i[C]=c={t:_,v:b},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var m=Qa(s);if(a)for(d=0;d<h.length;++d)i[ba(d+o)+m]={t:"s",v:h[d]};return i["!ref"]=Tr(u),i}function Kve(e,t){return dq(null,e,t)}function M1(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Bi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?M1(e,nr(t)):M1(e,nr({r:t,c:r||0}))}function Yve(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function tC(){return{SheetNames:[],Sheets:{}}}function rC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(D1e(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function Xve(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=Yve(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function Qve(e,t){return e.z=t,e}function pq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function Jve(e,t,r){return pq(e,"#"+t,r)}function Zve(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function eye(e,t,r,n){for(var a=typeof t!="string"?t:Hn(t),i=typeof t=="string"?t:Tr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=M1(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var tye={encode_col:ba,encode_row:Qa,encode_cell:nr,encode_range:Tr,decode_col:VP,decode_row:BP,split_cell:hhe,decode_cell:Bi,decode_range:qp,format_cell:Mc,sheet_add_aoa:yz,sheet_add_json:dq,sheet_add_dom:lq,aoa_to_sheet:Wp,json_to_sheet:Kve,table_to_sheet:cq,table_to_book:vve,sheet_to_csv:hq,sheet_to_txt:Hve,sheet_to_json:wT,sheet_to_html:gve,sheet_to_formulae:Gve,sheet_to_row_object_array:wT,sheet_get_cell:M1,book_new:tC,book_append_sheet:rC,book_set_sheet_visibility:Xve,cell_set_number_format:Qve,cell_set_hyperlink:pq,cell_set_internal_link:Jve,cell_add_comment:Zve,sheet_set_array_formula:eye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},mq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Wm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var D=C(A);D.chunkSize=parseInt(D.chunkSize),A.step||A.chunk||(D.chunkSize=null),this._handle=new p(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(A,D){var E=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<E){let j=this._config.newline;j||(P=this._config.quoteChar||'"',j=this._handle.guessLineEndings(A,P)),A=[...A.split(j).slice(E)].join(j)}this.isFirstChunk&&T(this._config.beforeFirstChunk)&&(P=this._config.beforeFirstChunk(A))!==void 0&&(A=P),this.isFirstChunk=!1,this._halted=!1;var E=this._partialLine+A,P=(this._partialLine="",this._handle.parse(E,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=P.meta.cursor,E=(this._finished||(this._partialLine=E.substring(A-this._baseIndex),this._baseIndex=A),P&&P.data&&(this._rowCount+=P.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:P,workerId:c.WORKER_ID,finished:E});else if(T(this._config.chunk)&&!D){if(this._config.chunk(P,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=P=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(P.data),this._completeResults.errors=this._completeResults.errors.concat(P.errors),this._completeResults.meta=P.meta),this._completed||!E||!T(this._config.complete)||P&&P.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),E||P&&P.meta.paused||this._nextChunk(),P}this._halted=!0},this._sendError=function(A){T(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:A,finished:!1})}}function f(S){var A;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=N(this._chunkLoaded,this),A.onerror=N(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D,E=this._config.downloadRequestHeaders;for(D in E)A.setRequestHeader(D,E[D])}var P;this._config.chunkSize&&(P=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+P));try{A.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(D){D=A.statusText||D,this._sendError(new Error(D))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var A,D,E=typeof FileReader<"u";this.stream=function(P){this._input=P,D=P.slice||P.webkitSlice||P.mozSlice,E?((A=new FileReader).onload=N(this._chunkLoaded,this),A.onerror=N(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var P=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),P=D.call(P,this._start,j)),A.readAsText(P,this._config.encoding));E||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(P){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(P.target.result)},this._chunkError=function(){this._sendError(A.error)}}function d(S){var A;u.call(this,S=S||{}),this.stream=function(D){return A=D,this._nextChunk()},this._nextChunk=function(){var D,E;if(!this._finished)return D=this._config.chunkSize,A=D?(E=A.substring(0,D),A.substring(D)):(E=A,""),this._finished=!A,this.parseChunk(E)}}function m(S){u.call(this,S=S||{});var A=[],D=!0,E=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(P){this._input=P,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){E&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):D=!0},this._streamData=N(function(P){try{A.push(typeof P=="string"?P:P.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(j){this._streamError(j)}},this),this._streamError=N(function(P){this._streamCleanUp(),this._sendError(P)},this),this._streamEnd=N(function(){this._streamCleanUp(),E=!0,this._streamData("")},this),this._streamCleanUp=N(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(S){var A,D,E,P,j=Math.pow(2,53),G=-j,U=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Q=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,z=0,B=0,ee=!1,ne=!1,I=[],F={data:[],errors:[],meta:{}};function q(ce){return S.skipEmptyLines==="greedy"?ce.join("").trim()==="":ce.length===1&&ce[0].length===0}function Y(){if(F&&E&&(le("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),E=!1),S.skipEmptyLines&&(F.data=F.data.filter(function(de){return!q(de)})),K()){let de=function(H,Ae){T(S.transformHeader)&&(H=S.transformHeader(H,Ae)),I.push(H)};if(F)if(Array.isArray(F.data[0])){for(var ce=0;K()&&ce<F.data.length;ce++)F.data[ce].forEach(de);F.data.splice(0,1)}else F.data.forEach(de)}function X(de,H){for(var Ae=S.header?{}:[],Ee=0;Ee<de.length;Ee++){var Se=Ee,ae=de[Ee],ae=((Ce,Me)=>(Be=>(S.dynamicTypingFunction&&S.dynamicTyping[Be]===void 0&&(S.dynamicTyping[Be]=S.dynamicTypingFunction(Be)),(S.dynamicTyping[Be]||S.dynamicTyping)===!0))(Ce)?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&((Be=>{if(U.test(Be)&&(Be=parseFloat(Be),G<Be&&Be<j))return 1})(Me)?parseFloat(Me):Q.test(Me)?new Date(Me):Me===""?null:Me):Me)(Se=S.header?Ee>=I.length?"__parsed_extra":I[Ee]:Se,ae=S.transform?S.transform(ae,Se):ae);Se==="__parsed_extra"?(Ae[Se]=Ae[Se]||[],Ae[Se].push(ae)):Ae[Se]=ae}return S.header&&(Ee>I.length?le("FieldMismatch","TooManyFields","Too many fields: expected "+I.length+" fields but parsed "+Ee,B+H):Ee<I.length&&le("FieldMismatch","TooFewFields","Too few fields: expected "+I.length+" fields but parsed "+Ee,B+H)),Ae}var he;F&&(S.header||S.dynamicTyping||S.transform)&&(he=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(X),he=F.data.length):F.data=X(F.data,0),S.header&&F.meta&&(F.meta.fields=I),B+=he)}function K(){return S.header&&I.length===0}function le(ce,X,he,de){ce={type:ce,code:X,message:he},de!==void 0&&(ce.row=de),F.errors.push(ce)}T(S.step)&&(P=S.step,S.step=function(ce){F=ce,K()?Y():(Y(),F.data.length!==0&&(z+=ce.data.length,S.preview&&z>S.preview?D.abort():(F.data=F.data[0],P(F,J))))}),this.parse=function(ce,X,he){var de=S.quoteChar||'"',de=(S.newline||(S.newline=this.guessLineEndings(ce,de)),E=!1,S.delimiter?T(S.delimiter)&&(S.delimiter=S.delimiter(ce),F.meta.delimiter=S.delimiter):((de=((H,Ae,Ee,Se,ae)=>{var Ce,Me,Be,Ze;ae=ae||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Re=0;Re<ae.length;Re++){for(var Qe,je=ae[Re],Ke=0,ot=0,it=0,ht=(Be=void 0,new y({comments:Se,delimiter:je,newline:Ae,preview:10}).parse(H)),yt=0;yt<ht.data.length;yt++)Ee&&q(ht.data[yt])?it++:(Qe=ht.data[yt].length,ot+=Qe,Be===void 0?Be=Qe:0<Qe&&(Ke+=Math.abs(Qe-Be),Be=Qe));0<ht.data.length&&(ot/=ht.data.length-it),(Me===void 0||Ke<=Me)&&(Ze===void 0||Ze<ot)&&1.99<ot&&(Me=Ke,Ce=je,Ze=ot)}return{successful:!!(S.delimiter=Ce),bestDelimiter:Ce}})(ce,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=de.bestDelimiter:(E=!0,S.delimiter=c.DefaultDelimiter),F.meta.delimiter=S.delimiter),C(S));return S.preview&&S.header&&de.preview++,A=ce,D=new y(de),F=D.parse(A,X,he),Y(),ee?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return ee},this.pause=function(){ee=!0,D.abort(),A=T(S.chunk)?"":A.substring(D.getCharIndex())},this.resume=function(){J.streamer._halted?(ee=!1,J.streamer.parseChunk(A,!0)):setTimeout(J.resume,3)},this.aborted=function(){return ne},this.abort=function(){ne=!0,D.abort(),F.meta.aborted=!0,T(S.complete)&&S.complete(F),A=""},this.guessLineEndings=function(H,de){H=H.substring(0,1048576);var de=new RegExp(v(de)+"([^]*?)"+v(de),"gm"),he=(H=H.replace(de,"")).split("\r"),de=H.split(`
`),H=1<de.length&&de[0].length<he[0].length;if(he.length===1||H)return`
`;for(var Ae=0,Ee=0;Ee<he.length;Ee++)he[Ee][0]===`
`&&Ae++;return Ae>=he.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var A=(S=S||{}).delimiter,D=S.newline,E=S.comments,P=S.step,j=S.preview,G=S.fastMode,U=null,Q=!1,J=S.quoteChar==null?'"':S.quoteChar,z=J;if(S.escapeChar!==void 0&&(z=S.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),E===A)throw new Error("Comment character same as delimiter");E===!0?E="#":(typeof E!="string"||-1<c.BAD_DELIMITERS.indexOf(E))&&(E=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var B=0,ee=!1;this.parse=function(ne,I,F){if(typeof ne!="string")throw new Error("Input must be a string");var q=ne.length,Y=A.length,K=D.length,le=E.length,ce=T(P),X=[],he=[],de=[],H=B=0;if(!ne)return Ke();if(G||G!==!1&&ne.indexOf(J)===-1){for(var Ae=ne.split(D),Ee=0;Ee<Ae.length;Ee++){if(de=Ae[Ee],B+=de.length,Ee!==Ae.length-1)B+=D.length;else if(F)return Ke();if(!E||de.substring(0,le)!==E){if(ce){if(X=[],Ze(de.split(A)),ot(),ee)return Ke()}else Ze(de.split(A));if(j&&j<=Ee)return X=X.slice(0,j),Ke(!0)}}return Ke()}for(var Se=ne.indexOf(A,B),ae=ne.indexOf(D,B),Ce=new RegExp(v(z)+v(J),"g"),Me=ne.indexOf(J,B);;)if(ne[B]===J)for(Me=B,B++;;){if((Me=ne.indexOf(J,Me+1))===-1)return F||he.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:X.length,index:B}),Qe();if(Me===q-1)return Qe(ne.substring(B,Me).replace(Ce,J));if(J===z&&ne[Me+1]===z)Me++;else if(J===z||Me===0||ne[Me-1]!==z){Se!==-1&&Se<Me+1&&(Se=ne.indexOf(A,Me+1));var Be=Re((ae=ae!==-1&&ae<Me+1?ne.indexOf(D,Me+1):ae)===-1?Se:Math.min(Se,ae));if(ne.substr(Me+1+Be,Y)===A){de.push(ne.substring(B,Me).replace(Ce,J)),ne[B=Me+1+Be+Y]!==J&&(Me=ne.indexOf(J,B)),Se=ne.indexOf(A,B),ae=ne.indexOf(D,B);break}if(Be=Re(ae),ne.substring(Me+1+Be,Me+1+Be+K)===D){if(de.push(ne.substring(B,Me).replace(Ce,J)),je(Me+1+Be+K),Se=ne.indexOf(A,B),Me=ne.indexOf(J,B),ce&&(ot(),ee))return Ke();if(j&&X.length>=j)return Ke(!0);break}he.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:X.length,index:B}),Me++}}else if(E&&de.length===0&&ne.substring(B,B+le)===E){if(ae===-1)return Ke();B=ae+K,ae=ne.indexOf(D,B),Se=ne.indexOf(A,B)}else if(Se!==-1&&(Se<ae||ae===-1))de.push(ne.substring(B,Se)),B=Se+Y,Se=ne.indexOf(A,B);else{if(ae===-1)break;if(de.push(ne.substring(B,ae)),je(ae+K),ce&&(ot(),ee))return Ke();if(j&&X.length>=j)return Ke(!0)}return Qe();function Ze(it){X.push(it),H=B}function Re(it){var ht=0;return ht=it!==-1&&(it=ne.substring(Me+1,it))&&it.trim()===""?it.length:ht}function Qe(it){return F||(it===void 0&&(it=ne.substring(B)),de.push(it),B=q,Ze(de),ce&&ot()),Ke()}function je(it){B=it,Ze(de),de=[],ae=ne.indexOf(D,B)}function Ke(it){if(S.header&&!I&&X.length&&!Q){var ht=X[0],yt=Object.create(null),xt=new Set(ht);let dt=!1;for(let ve=0;ve<ht.length;ve++){let Ge=ht[ve];if(yt[Ge=T(S.transformHeader)?S.transformHeader(Ge,ve):Ge]){let Ye,Dt=yt[Ge];for(;Ye=Ge+"_"+Dt,Dt++,xt.has(Ye););xt.add(Ye),ht[ve]=Ye,yt[Ge]++,dt=!0,(U=U===null?{}:U)[Ye]=Ge}else yt[Ge]=1,ht[ve]=Ge;xt.add(Ge)}dt&&console.warn("Duplicate headers found and renamed."),Q=!0}return{data:X,errors:he,meta:{delimiter:A,linebreak:D,aborted:ee,truncated:!!it,cursor:H+(I||0),renamedHeaders:U}}}function ot(){P(Ke()),X=[],he=[]}},this.abort=function(){ee=!0},this.getCharIndex=function(){return B}}function b(S){var A=S.data,D=o[A.workerId],E=!1;if(A.error)D.userError(A.error,A.file);else if(A.results&&A.results.data){var P={abort:function(){E=!0,_(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(T(D.userStep)){for(var j=0;j<A.results.data.length&&(D.userStep({data:A.results.data[j],errors:A.results.errors,meta:A.results.meta},P),!E);j++);delete A.results}else T(D.userChunk)&&(D.userChunk(A.results,P,A.file),delete A.results)}A.finished&&!E&&_(A.workerId,A.results)}function _(S,A){var D=o[S];T(D.userComplete)&&D.userComplete(A),D.terminate(),delete o[S]}function O(){throw new Error("Not implemented.")}function C(S){if(typeof S!="object"||S===null)return S;var A,D=Array.isArray(S)?[]:{};for(A in S)D[A]=C(S[A]);return D}function N(S,A){return function(){S.apply(A,arguments)}}function T(S){return typeof S=="function"}return c.parse=function(S,A){var D=(A=A||{}).dynamicTyping||!1;if(T(D)&&(A.dynamicTypingFunction=D,D={}),A.dynamicTyping=D,A.transform=!!T(A.transform)&&A.transform,!A.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(E=>E.charCodeAt(0)!==65279?E:E.slice(1))(S),D=new(A.download?f:d)(A)):S.readable===!0&&T(S.read)&&T(S.on)?D=new m(A):(n.File&&S instanceof File||S instanceof Object)&&(D=new h(A)),D.stream(S);(D=(()=>{var E;return!!c.WORKERS_SUPPORTED&&(E=(()=>{var P=n.URL||n.webkitURL||null,j=r.toString();return c.BLOB_URL||(c.BLOB_URL=P.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(E=new n.Worker(E)).onmessage=b,E.id=l++,o[E.id]=E)})()).userStep=A.step,D.userChunk=A.chunk,D.userComplete=A.complete,D.userError=A.error,A.step=T(A.step),A.chunk=T(A.chunk),A.complete=T(A.complete),A.error=T(A.error),delete A.worker,D.postMessage({input:S,config:A,workerId:D.id})},c.unparse=function(S,A){var D=!1,E=!0,P=",",j=`\r
`,G='"',U=G+G,Q=!1,J=null,z=!1,B=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||c.BAD_DELIMITERS.filter(function(I){return A.delimiter.indexOf(I)!==-1}).length||(P=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(D=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Q=A.skipEmptyLines),typeof A.newline=="string"&&(j=A.newline),typeof A.quoteChar=="string"&&(G=A.quoteChar),typeof A.header=="boolean"&&(E=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");J=A.columns}A.escapeChar!==void 0&&(U=A.escapeChar+G),A.escapeFormulae instanceof RegExp?z=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(z=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(G),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return ee(null,S,Q);if(typeof S[0]=="object")return ee(J||Object.keys(S[0]),S,Q)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||J),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),ee(S.fields||[],S.data||[],Q);throw new Error("Unable to serialize unrecognized input");function ee(I,F,q){var Y="",K=(typeof I=="string"&&(I=JSON.parse(I)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(I)&&0<I.length),le=!Array.isArray(F[0]);if(K&&E){for(var ce=0;ce<I.length;ce++)0<ce&&(Y+=P),Y+=ne(I[ce],ce);0<F.length&&(Y+=j)}for(var X=0;X<F.length;X++){var he=(K?I:F[X]).length,de=!1,H=K?Object.keys(F[X]).length===0:F[X].length===0;if(q&&!K&&(de=q==="greedy"?F[X].join("").trim()==="":F[X].length===1&&F[X][0].length===0),q==="greedy"&&K){for(var Ae=[],Ee=0;Ee<he;Ee++){var Se=le?I[Ee]:Ee;Ae.push(F[X][Se])}de=Ae.join("").trim()===""}if(!de){for(var ae=0;ae<he;ae++){0<ae&&!H&&(Y+=P);var Ce=K&&le?I[ae]:ae;Y+=ne(F[X][Ce],ae)}X<F.length-1&&(!q||0<he&&!H)&&(Y+=j)}}return Y}function ne(I,F){var q,Y;return I==null?"":I.constructor===Date?JSON.stringify(I).slice(1,25):(Y=!1,z&&typeof I=="string"&&z.test(I)&&(I="'"+I,Y=!0),q=I.toString().replace(B,U),(Y=Y||D===!0||typeof D=="function"&&D(I,F)||Array.isArray(D)&&D[F]||((K,le)=>{for(var ce=0;ce<le.length;ce++)if(-1<K.indexOf(le[ce]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(P)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?G+q+G:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=p,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=m,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var A=S.config||{},D=[];return this.each(function(j){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var G=0;G<this.files.length;G++)D.push({file:this.files[G],inputElem:this,instanceConfig:a.extend({},A)})}),E(),this;function E(){if(D.length===0)T(S.complete)&&S.complete();else{var j,G,U,Q,J=D[0];if(T(S.before)){var z=S.before(J.file,J.inputElem);if(typeof z=="object"){if(z.action==="abort")return j="AbortError",G=J.file,U=J.inputElem,Q=z.reason,void(T(S.error)&&S.error({name:j},G,U,Q));if(z.action==="skip")return void P();typeof z.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,z.config))}else if(z==="skip")return void P()}var B=J.instanceConfig.complete;J.instanceConfig.complete=function(ee){T(B)&&B(ee,J.file,J.inputElem),P()},c.parse(J.file,J.instanceConfig)}}function P(){D.splice(0,1),E()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(m.prototype=Object.create(u.prototype)).constructor=m,c})})(mq);var rye=mq.exports;const nye=rn(rye),gq=()=>{const{user:e}=Ti(),{isDarkMode:t}=tn(),[r,n]=Z.useState(!1),[a,i]=Z.useState([]),[s,o]=Z.useState(!1),[l,c]=Z.useState({name:"",unit:"",barcode:""}),[u,f]=Z.useState(null),[h,d]=Z.useState(null),[m,p]=Z.useState(!1),[v,y]=Z.useState(!1),[b,_]=Z.useState(null),[O,C]=Z.useState(null),[N,T]=Z.useState(!1),[S,A]=Z.useState(""),[D,E]=Z.useState(null),[P,j]=Z.useState(null),G=Ne.useRef(null),[U,Q]=Z.useState(null);Z.useEffect(()=>{J(),z()},[]);const J=async K=>{o(!0);try{let le;if(K&&K.trim()!==""){const ce=kr(Ct(gt,"scannedProducts"),Hr("name",">=",K),Hr("name","<=",K+""),bi("name"),Gx(100)),X=kr(Ct(gt,"scannedProducts"),Hr("barcode",">=",K),Hr("barcode","<=",K+""),bi("barcode"),Gx(100)),[he,de]=await Promise.all([Sr(ce),Sr(X)]),H=[...he.docs,...de.docs].reduce((Ae,Ee)=>(Ae.some(Se=>Se.id===Ee.id)||Ae.push(Ee),Ae),[]);i(H.map(Ae=>{const Ee=Ae.data();return{id:Ae.id,name:Ee.name,unit:Ee.unit,barcode:Ee.barcode,createdAt:Ee.createdAt instanceof Qt?Ee.createdAt.toDate():new Date(Ee.createdAt)}}))}else{le=kr(Ct(gt,"scannedProducts"),bi("createdAt","desc"),Gx(100));const X=(await Sr(le)).docs.map(he=>{const de=he.data();return{id:he.id,name:de.name,unit:de.unit,barcode:de.barcode,createdAt:de.createdAt instanceof Qt?de.createdAt.toDate():new Date(de.createdAt)}});i(X)}}catch{f("Failed to fetch products")}finally{o(!1)}},z=async()=>{try{const K=Ct(gt,"scannedProducts"),le=await LB(K);Q(le.data().count)}catch{Q(null)}},B=K=>{K?(c({name:K.name||"",unit:K.unit||"",barcode:K.barcode||""}),d(K)):(c({name:"",unit:"",barcode:""}),d(null)),n(!0),f(null)},ee=()=>{n(!1),f(null)},ne=K=>{c({...l,[K.target.name]:K.target.value})},I=async K=>{c(le=>({...le,barcode:K})),p(!1),_(null),y(!0);try{const ce=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${K}`,he=await(await fetch(ce)).json();if(he&&he.items&&he.items.length>0){const de=he.items[0];c(H=>({...H,name:de.title||H.name}))}else _("No product info found for this barcode.")}catch{_("Failed to fetch product info.")}finally{y(!1)}},F=async K=>{if(K.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("All fields are required");return}o(!0);try{const le=l.name.toUpperCase();if(h){const ce=qn(gt,"scannedProducts",h.id);if(await Sl(ce,{name:le,unit:l.unit,barcode:l.barcode}),e&&h){const X=[];h.name!==le&&X.push(`name from "${h.name}" to "${le}"`),h.unit!==l.unit&&X.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&X.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),X.length>0&&await Lr(Ct(gt,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${le}": ${X.join(", ")}`,time:new Date().toISOString()})}}else await Lr(Ct(gt,"scannedProducts"),{name:le,unit:l.unit,barcode:l.barcode,createdAt:Qt.fromDate(new Date)}),e&&await Lr(Ct(gt,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${le}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),J()}catch{f("Failed to save product")}finally{o(!1)}},q=async()=>{if(O){T(!0);try{const K=a.find(le=>le.id===O);await x1(qn(gt,"scannedProducts",O)),e&&K&&await Lr(Ct(gt,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${K.name}" with barcode ${K.barcode}`,time:new Date().toISOString()}),C(null),J()}catch{}finally{T(!1)}}},Y=async K=>{var X;const le=(X=K.target.files)==null?void 0:X[0];if(!le)return;let ce=[];try{if(le.name.endsWith(".csv")){const he=await le.text(),H=nye.parse(he,{header:!0}).data;ce=H.map(Ee=>{var Se,ae,Ce;return{name:((Se=Ee.Description)==null?void 0:Se.toString().trim())||"",unit:((ae=Ee.Unit)==null?void 0:ae.toString().trim())||"",barcode:((Ce=Ee.EAN)==null?void 0:Ce.toString().trim())||""}}).filter(Ee=>Ee.name||Ee.unit||Ee.barcode);const Ae=H.length-ce.length;Ae>0&&(console.log(`${Ae} rows skipped (all columns empty).`),j({type:"error",message:`${Ae} rows skipped (all columns empty).`}))}else if(le.name.endsWith(".xlsx")){const he=await le.arrayBuffer(),de=bT(he,{type:"array"}),H=de.Sheets[de.SheetNames[0]],Ae=tye.sheet_to_json(H);ce=Ae.map(Se=>{var ae,Ce,Me;return{name:((ae=Se.Description)==null?void 0:ae.toString().trim())||"",unit:((Ce=Se.Unit)==null?void 0:Ce.toString().trim())||"",barcode:((Me=Se.EAN)==null?void 0:Me.toString().trim())||""}}).filter(Se=>Se.name||Se.unit||Se.barcode);const Ee=Ae.length-ce.length;Ee>0&&(console.log(`${Ee} rows skipped (all columns empty).`),j({type:"error",message:`${Ee} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),j({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ce.length===0){console.log("No valid products found in file."),j({type:"error",message:"No valid products found in file."});return}for(const he of ce)await Lr(Ct(gt,"scannedProducts"),{name:he.name.toUpperCase(),unit:he.unit,barcode:he.barcode,createdAt:Qt.fromDate(new Date)});e&&await Lr(Ct(gt,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ce.length} products from file "${le.name}"`,time:new Date().toISOString()}),j({type:"success",message:`Uploaded ${ce.length} products successfully!`}),console.log(`Uploaded ${ce.length} products successfully!`),J()}catch{console.log("Failed to upload products."),j({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?g.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):g.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[g.jsxs("div",{className:"flex items-center justify-between py-4",children:[g.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),g.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",U!==null?U:g.jsx("span",{className:"animate-pulse",children:"..."})]})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[g.jsx("div",{children:g.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),g.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[g.jsx(Nt,{variant:"secondary",onClick:()=>J(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:g.jsx(Pf,{size:18,className:s?"animate-spin":""})}),g.jsx(Nt,{icon:g.jsx(pZ,{size:18}),onClick:()=>{var K;return(K=G.current)==null?void 0:K.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),g.jsx("input",{type:"file",accept:".csv,.xlsx",ref:G,onChange:Y,style:{display:"none"}}),g.jsx(Nt,{icon:g.jsx(Ds,{size:18}),onClick:()=>B(),className:"w-full md:w-auto",children:"Add Product"})]})]}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:g.jsxs("div",{className:"flex-1 relative",children:[g.jsx(bt,{type:"text",placeholder:"Search by name or barcode",value:S,onChange:K=>{const le=K.target.value;A(le),J(le.toUpperCase())},className:"pl-10",fullWidth:!0}),g.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:g.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[g.jsx("circle",{cx:"7",cy:"7",r:"6"}),g.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),g.jsx(Wn,{isOpen:r,onClose:ee,title:h?"Edit Product":"Add Product",size:"sm",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsx(bt,{label:"Product Name",name:"name",value:l.name,onChange:ne,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx(bt,{label:"Unit",name:"unit",value:l.unit,onChange:ne,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),g.jsxs("div",{className:"relative w-full",children:[g.jsx(bt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:ne,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){_(null),y(!0);try{await I(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?g.jsx(qo,{size:18,className:"animate-spin text-blue-500"}):g.jsx(Cc,{size:18,className:"text-blue-500"})})]}),u&&g.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&g.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsx(qo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Nt,{type:"button",variant:"secondary",onClick:()=>p(!0),children:"Scan"}),g.jsx(Nt,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),g.jsx(nd,{isOpen:m,onClose:()=>p(!1),onBarcodeScanned:I}),g.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:g.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[g.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?g.jsx("tr",{children:g.jsx("td",{colSpan:5,style:{border:0,padding:0},children:g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[g.jsx(qo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):a.length===0?g.jsx("tr",{children:g.jsx("td",{colSpan:5,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((K,le)=>g.jsxs(Pn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:le*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>E(K),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:K.name}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:K.unit}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:K.barcode}),g.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Ft(K.createdAt,"MMM d, yyyy, h:mm a")}),g.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[g.jsx("button",{onClick:ce=>{ce.stopPropagation(),B(K)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:ce=>{ce.stopPropagation(),C(K.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:N&&O===K.id,children:g.jsx(Jo,{size:16})})]})]},K.id))})]})}),g.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?g.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[g.jsx(qo,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):a.length===0?g.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(K=>g.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>E(K),children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:K.name}),g.jsx("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:K.unit})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Nt,{variant:"ghost",size:"sm",onClick:le=>{le.stopPropagation(),B(K)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Nt,{variant:"ghost",size:"sm",onClick:le=>{le.stopPropagation(),C(K.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:N&&O===K.id,children:g.jsx(Jo,{size:16})})]})]}),g.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",g.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:K.barcode})]}),g.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",g.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ft(K.createdAt,"MMM d, yyyy, h:mm a")})]})]},K.id))}),g.jsx(Wn,{isOpen:!!O,onClose:()=>C(null),title:"Delete Product",size:"sm",children:g.jsxs("div",{className:"space-y-4",children:[g.jsx("p",{children:"Are you sure you want to delete this product?"}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Nt,{variant:"secondary",onClick:()=>C(null),disabled:N,children:"Cancel"}),g.jsxs(Nt,{variant:"danger",onClick:q,isLoading:N,className:"flex items-center justify-center",children:[N&&g.jsx(qo,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),g.jsx(Wn,{isOpen:!!D,onClose:()=>E(null),title:D?D.name:"Product Details",size:"xl",children:D&&g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.unit||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.barcode||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),g.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Ft(D.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),P&&g.jsx(TU,{type:P.type,message:P.message,onClose:()=>j(null)})]})]})},aye=()=>{const{user:e}=Ti();if(!e)return null;switch(e.role){case"admin":return g.jsx(Zue,{});case"staff":return g.jsx(gq,{});default:return null}},jr=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=tn();return g.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&g.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),g.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>g.jsx("option",{value:o.value,children:o.label},o.value))}),t&&g.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},iye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=Ti(),[a,i]=Z.useState({name:"",unit:"",barcode:""}),[s,o]=Z.useState(null),[l,c]=Z.useState(!1),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(C=>({...C,barcode:O})),f(!1),p(null),d(!0);try{const N=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,S=await(await fetch(N)).json();if(S&&S.items&&S.items.length>0){const A=S.items[0];i(D=>({...D,name:A.title||D.name}))}else p("No product info found for this barcode.")}catch{p("Failed to fetch product info.")}finally{d(!1)}},b=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const C=a.name.toUpperCase();await Lr(Ct(gt,"scannedProducts"),{name:C,unit:a.unit,barcode:a.barcode,createdAt:Qt.fromDate(new Date)}),n&&await Lr(Ct(gt,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${C}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),p(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},_=()=>{i({name:"",unit:"",barcode:""}),o(null),p(null),t()};return g.jsxs(g.Fragment,{children:[g.jsx(Wn,{isOpen:e,onClose:_,title:"Add Product",size:"sm",children:g.jsxs("form",{onSubmit:b,className:"space-y-4",children:[g.jsx(bt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx(bt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),g.jsxs("div",{className:"relative w-full",children:[g.jsx(bt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){p(null),d(!0);try{await y(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?g.jsx(qo,{size:18,className:"animate-spin text-blue-500"}):g.jsx(Cc,{size:18,className:"text-blue-500"})})]}),s&&g.jsx("div",{className:"text-red-500 text-sm",children:s}),m&&g.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),h&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsx(qo,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Nt,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),g.jsx(Nt,{type:"submit",isLoading:l,children:"Add"})]})]})}),g.jsx(nd,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},sye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=tn();return g.jsx(Wn,{isOpen:e,onClose:t,title:n,size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[g.jsx(o1,{size:24}),g.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Nt,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),g.jsx(Nt,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},oye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],lye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),OS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],cye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=Ti(),[a,i]=Z.useState({name:"",price:"",unit:"",supplier:OS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"fba",storeName:"supply & serve"}),[s,o]=Z.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=Z.useState({}),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState(""),{isDarkMode:v}=tn(),[y,b]=Z.useState(null),[_,O]=Z.useState(!1),[C,N]=Z.useState(null),[T,S]=Z.useState(!1),[A,D]=Z.useState(""),[E,P]=Z.useState(!1),[j,G]=Z.useState(null),[U,Q]=Z.useState(null),[J,z]=Z.useState(!1),[B,ee]=Z.useState(""),[ne,I]=Z.useState(!1),F=Z.useRef(null),q=ae=>{const{name:Ce,value:Me}=ae.target;i(Be=>({...Be,[Ce]:Me})),Ce==="supplier"&&(S(Me==="other"),Me!=="other"&&D("")),l[Ce]&&c(Be=>{const Ze={...Be};return delete Ze[Ce],Ze}),Ce==="barcode"&&Me.length===13&&!_?(F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{Me.length===13&&X(Me)},500)):Ce==="barcode"&&Me.length!==13&&F.current&&(clearTimeout(F.current),F.current=null)},Y=(ae,Ce,Me)=>{o(Be=>{const Ze=[...Be];return Ze[ae]={...Ze[ae],[Ce]:Me},Ze})},K=()=>{o(ae=>[...ae,{locationCode:"A1",shelfNumber:"0",quantity:""}])},le=ae=>{o(Ce=>Ce.filter((Me,Be)=>Be!==ae))},ce=async ae=>{i(Me=>({...Me,barcode:ae})),b(null),N(null),O(!0);let Ce=!1;try{const Me=kr(Ct(gt,"scannedProducts"),Hr("barcode","==",ae)),Be=await Sr(Me);if(Be.empty){const Re=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${ae}`,je=await(await fetch(Re)).json();if(je&&je.items&&je.items.length>0){const Ke=je.items[0];i(ot=>({...ot,name:Ke.title||ot.name})),b("Product name auto-filled from external database."),Ce=!0}else b("No product found for this barcode. Please enter details manually.")}else{const Ze=Be.docs[0].data();i(Re=>({...Re,name:Ze.name||Re.name,unit:Ze.unit||Re.unit})),b("Product name and unit auto-filled from scanned products."),Ce=!0}}catch{N("Failed to fetch product info."),b("Failed to search for product. Please enter details manually.")}finally{O(!1),!Ce&&ae.length===13&&setTimeout(()=>{X(ae)},100)}},X=async ae=>{const Ce=ae||a.barcode;if(!(!Ce||_)){N(null),O(!0);try{const Me=kr(Ct(gt,"scannedProducts"),Hr("barcode","==",Ce)),Be=await Sr(Me);if(!Be.empty){const Ke=Be.docs[0].data();i(ot=>({...ot,name:Ke.name||ot.name,unit:Ke.unit||ot.unit})),b("Product name and unit auto-filled from scanned products."),O(!1);return}const Re=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ce}`,je=await(await fetch(Re)).json();if(je&&je.items&&je.items.length>0){const Ke=je.items[0];i(ot=>({...ot,name:Ke.title||ot.name})),b("Product name auto-filled from UPC database.")}else N("No product info found for this barcode.")}catch{N("Failed to fetch product info.")}finally{O(!1)}}},he=()=>{const ae={};return a.name.trim()||(ae.name="Product name is required"),s.forEach((Ce,Me)=>{Ce.quantity?(isNaN(Number(Ce.quantity))||Number(Ce.quantity)<0)&&(ae[`location_${Me}_quantity`]="Quantity must be a positive number"):ae[`location_${Me}_quantity`]="Quantity is required"}),c(ae),Object.keys(ae).length===0},de=async ae=>{if(ae.preventDefault(),he()){const Ce=a.supplier||OS[0].value,Me=a.storeName||"supply & serve",Be=s.map(Re=>({name:a.name,quantity:parseInt(Re.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:Ce==="other"?A:Ce,locationCode:Re.locationCode,shelfNumber:Re.shelfNumber,asin:a.asin||null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Me==="other"?m:Me})),Ze=Be.find(Re=>r.some(Qe=>Qe.name.trim().toLowerCase()===Re.name.trim().toLowerCase()&&(Qe.barcode||"")===(Re.barcode||"")&&Qe.locationCode===Re.locationCode&&Qe.shelfNumber===Re.shelfNumber));if(Ze){Q({name:Ze.name,location:`${Ze.locationCode}-${Ze.shelfNumber}`}),G(Be),P(!0);return}try{await e(Be)}catch(Re){console.error("Error adding stock:",Re)}}},H=async()=>{if(j){try{await e(j)}catch(ae){console.error("Error adding stock:",ae)}P(!1),G(null),Q(null)}},Ae=()=>{P(!1),G(null),Q(null)},Ee=()=>{I(!0)},Se=()=>{ee("Product has been successfully added to the database!"),z(!0)};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:de,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Product Name",name:"name",value:a.name,onChange:q,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),g.jsx("div",{children:g.jsx(jr,{label:"Supplier",name:"supplier",value:a.supplier,onChange:q,options:OS,required:!0,fullWidth:!0})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&g.jsx(bt,{label:"Price",name:"price",type:"number",value:a.price,onChange:q,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!T&&g.jsx(bt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:q,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),T&&g.jsx(bt,{label:"Other Supplier",value:A,onChange:ae=>D(ae.target.value),placeholder:"Enter supplier name",required:T,fullWidth:!0})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:T&&g.jsx(bt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:q,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),g.jsx(Nt,{type:"button",onClick:K,variant:"primary",icon:g.jsx(Ds,{size:18}),children:"Add Location"})]}),s.map((ae,Ce)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[g.jsx(jr,{label:"Location Code",value:ae.locationCode,onChange:Me=>Y(Ce,"locationCode",Me.target.value),options:oye,required:!0,fullWidth:!0}),g.jsx(jr,{label:"Shelf Number",value:ae.shelfNumber,onChange:Me=>Y(Ce,"shelfNumber",Me.target.value),options:lye,required:!0,fullWidth:!0}),g.jsx(bt,{label:"Quantity",type:"number",value:ae.quantity,onChange:Me=>Y(Ce,"quantity",Me.target.value),error:l[`location_${Ce}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&g.jsx(Nt,{type:"button",onClick:()=>le(Ce),variant:"danger",icon:g.jsx(Jo,{size:18}),children:"Remove"})]},Ce))]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jr,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:q,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?g.jsx(jr,{label:"Status",name:"status",value:a.status,onChange:q,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):g.jsx(bt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex gap-2 relative w-full",children:[g.jsx(bt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:q,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:()=>X(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:_,children:_?g.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(Cc,{size:18,className:"text-blue-500"})})]}),g.jsx(bt,{label:"ASIN (seperated by commas, if multiple)",name:"asin",value:a.asin,onChange:q,placeholder:"Enter Amazon ASIN",fullWidth:!0}),C&&g.jsxs("div",{className:"text-red-500 text-sm",children:[C," Please enter details manually."]}),y&&g.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsx("div",{children:g.jsx(jr,{label:"Store Name",value:a.storeName,onChange:ae=>{const Ce=ae.target.value;i(Me=>({...Me,storeName:Ce})),d(Ce==="other"),Ce!=="other"&&p("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(bt,{type:"text",value:m,onChange:ae=>p(ae.target.value),placeholder:"Enter store name",required:h})]})}),g.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Nt,{type:"button",onClick:Ee,variant:"primary",icon:g.jsx(Ds,{size:18}),children:"Add New Product"}),g.jsx(Nt,{type:"submit",isLoading:t,variant:"success",icon:g.jsx(Ds,{size:18}),children:"Confirm"})]})})]}),g.jsx(nd,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:ce}),g.jsx(iye,{isOpen:ne,onClose:()=>I(!1),onSuccess:Se}),g.jsx(sye,{isOpen:E,onClose:Ae,onConfirm:H,title:"Duplicate Stock Detected",message:U?`A product with the same name and barcode already exists at location ${U.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),g.jsx(Wn,{isOpen:J,onClose:()=>z(!1),title:"Success!",size:"sm",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[g.jsx(QJ,{size:24}),g.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:B})]}),g.jsx("div",{className:"flex justify-end pt-4",children:g.jsx(Nt,{variant:"primary",onClick:()=>z(!1),children:"OK"})})]})})]})},uye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],fye=Array.from({length:6},(e,t)=>({value:t.toString(),label:`${t}`})),hye=["supply & serve","APHY","AZTEC","ZK"],qD=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],dye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=tn(),{user:i}=Ti(),[s,o]=Z.useState(null),l=e.storeName,c=l&&!hye.includes(l),u=qD.some(j=>j.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,m]=Z.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[p,v]=Z.useState(c),[y,b]=Z.useState(c?l:""),[_,O]=Z.useState(f==="other"),[C,N]=Z.useState(h),[T,S]=Z.useState(!1),A=j=>{const{name:G,value:U}=j.target;if(G==="damagedItems"){const Q=Number(U),J=Number(d.quantity);if(Q<0){o("Damaged items cannot be negative");return}o(null),m(z=>({...z,damagedItems:U,quantity:(J-(Q-Number(z.damagedItems))).toString()}));return}G==="supplier"&&(O(U==="other"),U!=="other"&&N("")),m(Q=>({...Q,[G]:U}))},D=j=>{m(G=>({...G,barcode:j})),S(!1)},E=async j=>{if(j.preventDefault(),P())try{const G={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?C:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?y:d.storeName,barcode:d.barcode||null};await t(G,e)}catch(G){console.error("Error updating stock:",G),o("Failed to update stock. Please try again.")}},P=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return g.jsxs("form",{onSubmit:E,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Product Name",name:"name",value:d.name,onChange:A,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?g.jsx(jr,{label:"Status",name:"status",value:d.status,onChange:A,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):g.jsx(bt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:A,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&g.jsx(bt,{label:"Price",name:"price",type:"number",value:d.price,onChange:A,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),g.jsx(bt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:A,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),g.jsx(jr,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:A,options:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jr,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:A,options:uye,required:!0,fullWidth:!0}),g.jsx(jr,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:A,options:fye,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{className:"flex gap-2 relative w-full",children:[g.jsx(bt,{label:"Barcode",name:"barcode",value:d.barcode||"",onChange:A,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44},disabled:(i==null?void 0:i.role)!=="admin"}),(i==null?void 0:i.role)==="admin"&&g.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:g.jsx(Cc,{size:18,className:"text-blue-500"})})]}),g.jsx(bt,{label:"ASIN",name:"asin",value:d.asin,onChange:A,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx("div",{children:g.jsx(jr,{label:"Supplier",name:"supplier",value:d.supplier,onChange:A,options:qD,required:!0,fullWidth:!0})}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),g.jsx(jr,{value:d.storeName,onChange:j=>{const G=j.target.value;m(U=>({...U,storeName:G})),v(G==="other"),G!=="other"&&b("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_&&g.jsx(bt,{label:"Other Supplier",value:C,onChange:j=>N(j.target.value),placeholder:"Enter supplier name",required:_,fullWidth:!0}),p&&!_&&g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(bt,{type:"text",value:y,onChange:j=>b(j.target.value),placeholder:"Enter store name",required:p})]}),p&&_&&g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),g.jsx(bt,{type:"text",value:y,onChange:j=>b(j.target.value),placeholder:"Enter store name",required:p})]}),g.jsxs("div",{children:[g.jsx(bt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:A,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&g.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Nt,{type:"submit",isLoading:n,icon:g.jsx(Ds,{size:18}),children:"Update Product"})}),g.jsx(nd,{isOpen:T,onClose:()=>S(!1),onBarcodeScanned:D})]})},pye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],mye=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"}],gye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=Z.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[i,s]=Z.useState({}),[o,l]=Z.useState(!1),[c,u]=Z.useState(null),[f,h]=Z.useState(!1),[d,m]=Z.useState(null),p=Z.useRef(null),v=N=>{const{name:T,value:S}=N.target;a(A=>({...A,[T]:S})),i[T]&&s(A=>{const D={...A};return delete D[T],D}),T==="barcode"&&S.length===13&&!f?(p.current&&clearTimeout(p.current),p.current=setTimeout(()=>{S.length===13&&_(S)},500)):T==="barcode"&&S.length!==13&&p.current&&(clearTimeout(p.current),p.current=null)},y=()=>{l(!0)},b=async N=>{a(S=>({...S,barcode:N})),u(null),m(null),h(!0);let T=!1;try{const S=kr(Ct(gt,"scannedProducts"),Hr("barcode","==",N)),A=await Sr(S);if(A.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${N}`,j=await(await fetch(E)).json();if(j&&j.items&&j.items.length>0){const G=j.items[0];a(U=>({...U,name:G.title||U.name})),u("Product name auto-filled from external database."),T=!0}else u("No product found for this barcode. Please enter details manually.")}else{const D=A.docs[0].data();a(E=>({...E,name:D.name||E.name})),u("Product name auto-filled from scanned products."),T=!0}}catch{m("Failed to fetch product info."),u("Failed to search for product. Please enter details manually.")}finally{h(!1),!T&&N.length===13&&setTimeout(()=>{_(N)},100)}},_=async N=>{const T=N||n.barcode;if(!(!T||f)){m(null),h(!0);try{const S=kr(Ct(gt,"scannedProducts"),Hr("barcode","==",T)),A=await Sr(S);if(A.empty){const E=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${T}`,j=await(await fetch(E)).json();if(j&&j.items&&j.items.length>0){const G=j.items[0];a(U=>({...U,name:G.title||U.name})),u("Product name auto-filled from external database.")}else m("No product info found for this barcode.")}else{const D=A.docs[0].data();a(E=>({...E,name:D.name||E.name})),u("Product name auto-filled from scanned products.")}}catch{m("Failed to fetch product info.")}finally{h(!1)}}},O=()=>{const N={};return n.name.trim()||(N.name="Product name is required"),n.locationCode||(N.locationCode="Location is required"),n.shelfNumber||(N.shelfNumber="Shelf number is required"),(!n.quantity||parseInt(n.quantity)<=0)&&(N.quantity="Quantity must be greater than 0"),s(N),Object.keys(N).length===0},C=async N=>{if(N.preventDefault(),!O())return;const T={name:n.name.toUpperCase(),quantity:parseInt(n.quantity),price:0,supplier:"not set",lastUpdated:new Date,locationCode:n.locationCode,shelfNumber:n.shelfNumber,barcode:n.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([T]),t()}catch(S){console.error("Error adding stock:",S)}};return g.jsxs(g.Fragment,{children:[g.jsxs("form",{onSubmit:C,className:"space-y-4",children:[g.jsx(bt,{label:"Product Name",name:"name",value:n.name,onChange:v,placeholder:"Enter product name",error:i.name,required:!0,fullWidth:!0}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jr,{label:"Location Code",name:"locationCode",value:n.locationCode,onChange:v,options:pye,error:i.locationCode,required:!0,fullWidth:!0}),g.jsx(jr,{label:"Shelf Number",name:"shelfNumber",value:n.shelfNumber,onChange:v,options:mye,error:i.shelfNumber,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex gap-2 relative w-full",children:[g.jsx(bt,{label:"Barcode",name:"barcode",value:n.barcode,onChange:v,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),g.jsx("button",{type:"button",onClick:async()=>{if(n.barcode.trim()&&!f){m(null),h(!0);try{await _()}finally{h(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:f,children:f?g.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):g.jsx(Cc,{size:18,className:"text-blue-500"})})]}),d&&g.jsxs("div",{className:"text-red-500 text-sm",children:[d," Please enter details manually."]}),c&&g.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:c}),f&&g.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[g.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[g.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),g.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),g.jsx(bt,{label:"Quantity",name:"quantity",type:"number",value:n.quantity,onChange:v,placeholder:"Enter quantity",error:i.quantity,min:"1",required:!0,fullWidth:!0}),g.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[g.jsx(Nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx(Nt,{type:"submit",isLoading:r,icon:g.jsx(Ds,{size:18}),children:"Quick Add"}),g.jsx(Nt,{type:"button",onClick:y,variant:"primary",icon:g.jsx(Cc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),g.jsx(nd,{isOpen:o,onClose:()=>l(!1),onBarcodeScanned:b})]})},vq=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=tn(),{user:a}=Ti();return r?g.jsx(Wn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:g.jsxs("div",{className:"space-y-6",children:[g.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:g.jsxs("div",{className:"w-full",children:[g.jsx("div",{className:"mb-4 flex items-center justify-between",children:g.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),g.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),g.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>g.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),g.jsxs("div",{children:[g.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),g.jsx("p",{className:"mt-1",children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:Ft(r.lastUpdated,"MMM d, yyyy")})]}),g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),g.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),g.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[g.jsxs("div",{className:"flex justify-between items-center mb-2",children:[g.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),g.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),g.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[g.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),g.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),g.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),g.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[g.jsx("span",{children:"0"}),g.jsx("span",{children:"Critical: <10"}),g.jsx("span",{children:"Low: 10-25"}),g.jsx("span",{children:"25+"})]})]})]})}):null},_T=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=tn();return g.jsx(Wn,{isOpen:e,onClose:t,title:n,size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[g.jsx(o1,{size:24}),g.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Nt,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),g.jsx(Nt,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},vye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,locationCode:a,shelfNumber:i,existingProducts:s,newProductName:o})=>{const l=s.length,c=s.reduce((u,f)=>u+f.quantity,0);return g.jsx(Wn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"flex items-start gap-3",children:[g.jsx(o1,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),g.jsxs("div",{className:"space-y-2",children:[g.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",g.jsxs("strong",{children:[a,"-",i]})," already contains products."]}),g.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:[g.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),g.jsx("ul",{className:"mt-2 space-y-1",children:s.map((u,f)=>g.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",u.name," (",u.quantity," units)"]},f))}),g.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",l," product",l!==1?"s":""," (",c," units)"]})]}),g.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",g.jsx("strong",{children:o})," to this location?"]})]})]}),g.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[g.jsx(Nt,{variant:"secondary",onClick:n,children:"Cancel"}),g.jsx(Nt,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},yye=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("name"),[a,i]=Z.useState(!1),[s,o]=Z.useState(!1),[l,c]=Z.useState(!1),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState(null),[v,y]=Z.useState([]),[b,_]=Z.useState(new Set),[O,C]=Z.useState(!1),{showToast:N}=rd(),{isDarkMode:T}=tn(),{user:S}=Ti(),[A,D]=Z.useState(!1),[E,P]=Z.useState(null),[j,G]=Z.useState(!1),[U,Q]=Z.useState(!1),[J,z]=Z.useState(null),[B,ee]=Z.useState(null),[ne,I]=Z.useState(null),[F,q]=Z.useState(!1),[Y,K]=Z.useState("all"),[le,ce]=Z.useState(!1),[X,he]=Z.useState(null),de=async()=>{d(!0);try{const ve=kr(Ct(gt,"inventory"),bi("name")),Ye=(await Sr(ve)).docs.map(Dt=>{const Rt=Dt.data();return{id:Dt.id,...Rt,lastUpdated:Rt.lastUpdated instanceof Qt?Rt.lastUpdated.toDate():new Date(Rt.lastUpdated)}});y(Ye)}catch(ve){console.error("Error fetching stock items:",ve),N("Failed to fetch stock items","error")}finally{d(!1)}},H=async()=>{try{const ve=Ct(gt,"inventory"),Ge=await LB(ve);he(Ge.data().count)}catch{he(null)}};Z.useEffect(()=>{de(),H()},[N]),Z.useEffect(()=>{const ve=Ge=>{const Ye=Ge.target;Ye.closest(".store-filter-dropdown")||q(!1),Ye.closest(".status-filter-dropdown")||ce(!1)};return(F||le)&&document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[F,le]);const Ae=[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],Ee=v.filter(ve=>{const Ge=e.toLowerCase(),Ye=ve.name.toLowerCase().includes(Ge),Dt=`${ve.locationCode} - ${ve.shelfNumber}`.toLowerCase().includes(Ge),Rt=ve.asin?ve.asin.split(",").some(Fr=>Fr.trim().toLowerCase().includes(Ge)):!1,lr=ve.barcode?ve.barcode.toLowerCase().includes(Ge):!1,Xr=["supply & serve","APHY","AZTEC","ZK"],Xt=ne?ne.storeName==="other"?!Xr.includes(ve.storeName)&&ve.fulfillmentType===ne.fulfillmentType:ve.storeName===ne.storeName&&ve.fulfillmentType===ne.fulfillmentType:!0,ki=Y==="all"||ve.status===Y;return(Ye||Dt||Rt||lr)&&Xt&&ki}).sort((ve,Ge)=>r==="name"?ve.name.localeCompare(Ge.name):r==="quantity"?Ge.quantity-ve.quantity:r==="price"?Ge.price-ve.price:r==="date"?new Date(Ge.lastUpdated).getTime()-new Date(ve.lastUpdated).getTime():0),Se=(ve,Ge)=>v.filter(Ye=>Ye.locationCode===ve&&Ye.shelfNumber===Ge),ae=async ve=>{const Ge=[];for(const Ye of ve){const Dt=Se(Ye.locationCode,Ye.shelfNumber);Dt.length>0&&Ge.push({locationCode:Ye.locationCode,shelfNumber:Ye.shelfNumber,products:Dt})}if(Ge.length>0){const Ye=Ge[0];ee({locationCode:Ye.locationCode,shelfNumber:Ye.shelfNumber,existingProducts:Ye.products,newProductName:ve[0].name}),z(ve),Q(!0);return}await Ce(ve)},Ce=async ve=>{d(!0);try{const Ge=[];for(const Ye of ve){const Dt=await Lr(Ct(gt,"inventory"),{...Ye,lastUpdated:Qt.fromDate(new Date)});Ge.push({...Ye,id:Dt.id,lastUpdated:new Date})}if(S){const Ye=ve.reduce((Rt,lr)=>Rt+lr.quantity,0),Dt=ve.map(Rt=>`${Rt.quantity} at ${Rt.locationCode}-${Rt.shelfNumber}`).join(", ");await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`added new product "${ve[0].name}" with total quantity ${Ye} (${Dt})`,time:new Date().toISOString()})}y(Ye=>[...Ye,...Ge]),i(!1),G(!1),N("Stock items added successfully","success")}catch(Ge){console.error("Error adding stock:",Ge),N("Failed to add stock items","error")}finally{d(!1)}},Me=async()=>{J&&(await Ce(J),Q(!1),z(null),ee(null))},Be=()=>{Q(!1),z(null),ee(null)},Ze=async(ve,Ge)=>{d(!0);try{const Ye=new Date,Dt={},Rt=[];if(ve.name!==Ge.name&&(Dt.name=ve.name,Rt.push(`name from "${Ge.name}" to "${ve.name}"`)),ve.price!==Ge.price){Dt.price=ve.price;const lr=Number(Ge.price||0).toFixed(2),Xr=Number(ve.price||0).toFixed(2);Rt.push(`price from £${lr} to £${Xr}`)}if((ve.locationCode!==Ge.locationCode||ve.shelfNumber!==Ge.shelfNumber)&&(Dt.locationCode=ve.locationCode,Dt.shelfNumber=ve.shelfNumber,Rt.push(`location from ${Ge.locationCode}-${Ge.shelfNumber} to ${ve.locationCode}-${ve.shelfNumber}`)),ve.supplier!==Ge.supplier&&(Dt.supplier=ve.supplier,Rt.push(`supplier from "${Ge.supplier||"none"}" to "${ve.supplier||"none"}"`)),ve.asin!==Ge.asin&&(Dt.asin=ve.asin,Rt.push(`ASIN from "${Ge.asin||"none"}" to "${ve.asin||"none"}"`)),ve.status!==Ge.status&&(Dt.status=ve.status,Rt.push(`status from "${Ge.status}" to "${ve.status}"`)),ve.damagedItems!==Ge.damagedItems&&(Dt.damagedItems=ve.damagedItems,Rt.push(`damaged items from ${Ge.damagedItems} to ${ve.damagedItems}`)),ve.fulfillmentType!==Ge.fulfillmentType&&(Dt.fulfillmentType=ve.fulfillmentType,Rt.push(`fulfillment type from "${Ge.fulfillmentType.toUpperCase()}" to "${ve.fulfillmentType.toUpperCase()}"`)),ve.storeName!==Ge.storeName&&(Dt.storeName=ve.storeName,Rt.push(`store name from "${Ge.storeName}" to "${ve.storeName}"`)),ve.unit!==Ge.unit&&(Dt.unit=ve.unit,Rt.push(`unit from "${Ge.unit||"none"}" to "${ve.unit||"none"}"`)),Object.keys(Dt).length>0){const lr=qn(gt,"inventory",ve.id);await Sl(lr,{...Dt,lastUpdated:Qt.fromDate(Ye)}),S&&Rt.length>0&&await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`edited product "${ve.name}": ${Rt.join(", ")}`,time:Ye.toISOString()});const Xr=v.map(Xt=>Xt.id===ve.id?{...Xt,...Dt,lastUpdated:Ye}:Xt);y(Xr),N("Stock details updated successfully","success"),o(!1),p(null)}if(ve.quantity>Ge.quantity)P({itemId:ve.id,newQuantity:ve.quantity}),D(!0),o(!1);else if(ve.quantity!==Ge.quantity){const lr=qn(gt,"inventory",ve.id);await Sl(lr,{quantity:ve.quantity,lastUpdated:Qt.fromDate(Ye)}),S&&await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`edited product "${ve.name}": quantity from ${Ge.quantity} to ${ve.quantity}`,time:Ye.toISOString()});const Xr=v.map(Xt=>Xt.id===ve.id?{...Xt,quantity:ve.quantity,lastUpdated:Ye}:Xt);y(Xr),N("Stock quantity updated","success"),o(!1),p(null)}else o(!1),p(null)}catch(Ye){console.error("Error updating stock:",Ye),N("Failed to update stock item","error")}finally{d(!1)}},Re=async()=>{if(E){d(!0);try{const{itemId:ve,newQuantity:Ge}=E,Ye=new Date,Dt=v.find(Xr=>Xr.id===ve),Rt=qn(gt,"inventory",ve);await Sl(Rt,{quantity:Ge,lastUpdated:Qt.fromDate(Ye)}),S&&Dt&&await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`edited product "${Dt.name}": quantity from ${Dt.quantity} to ${Ge}`,time:Ye.toISOString()});const lr=v.map(Xr=>Xr.id===ve?{...Xr,quantity:Ge,lastUpdated:Ye}:Xr);y(lr),N("Stock quantity updated successfully","success"),p(null)}catch(ve){console.error("Error updating quantity:",ve),N("Failed to update quantity","error")}finally{d(!1),D(!1),P(null)}}},Qe=async ve=>{d(!0);try{const Ge=v.find(Ye=>Ye.id===ve);await x1(qn(gt,"inventory",ve)),S&&Ge&&await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`deleted product "${Ge.name}" (${Ge.quantity} units) from location ${Ge.locationCode}-${Ge.shelfNumber}`,time:new Date().toISOString()}),y(v.filter(Ye=>Ye.id!==ve)),c(!1),p(null),N("Stock item deleted successfully","success")}catch(Ge){console.error("Error deleting stock:",Ge),N("Failed to delete stock item","error")}finally{d(!1)}},je=ve=>{p(ve)},Ke=(ve,Ge)=>{ve.stopPropagation(),p(Ge),o(!0)},ot=(ve,Ge)=>{ve.stopPropagation(),p(Ge),c(!0)},it=()=>{b.size===Ee.length?_(new Set):_(new Set(Ee.map(ve=>ve.id)))},ht=ve=>{const Ge=new Set(b);Ge.has(ve)?Ge.delete(ve):Ge.add(ve),_(Ge)},yt=async()=>{if(b.size!==0){d(!0);try{const ve=v.filter(Ye=>b.has(Ye.id)),Ge=Array.from(b).map(Ye=>x1(qn(gt,"inventory",Ye)));if(await Promise.all(Ge),S){const Ye=ve.map(Dt=>`"${Dt.name}" (${Dt.quantity} units) from ${Dt.locationCode}-${Dt.shelfNumber}`).join(", ");await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`Bulk deleted ${b.size} products: ${Ye}`,time:new Date().toISOString()})}y(v.filter(Ye=>!b.has(Ye.id))),_(new Set),C(!1),f(!1),N(`Successfully deleted ${b.size} items`,"success")}catch(ve){console.error("Error deleting items:",ve),N("Failed to delete selected items","error")}finally{d(!1)}}},xt=async()=>{if(b.size!==0){d(!0);try{const ve=v.filter(Ye=>b.has(Ye.id)&&Ye.status==="pending");if(ve.length===0){N("No pending items selected to activate","error");return}const Ge=ve.map(Ye=>Sl(qn(gt,"inventory",Ye.id),{status:"active",lastUpdated:Qt.fromDate(new Date)}));if(await Promise.all(Ge),S){const Ye=ve.map(Dt=>`"${Dt.name}" from ${Dt.locationCode}-${Dt.shelfNumber}`).join(", ");await Lr(Ct(gt,"activityLogs"),{user:S.name,role:S.role,detail:`Bulk activated ${ve.length} pending products: ${Ye}`,time:new Date().toISOString()})}y(v.map(Ye=>b.has(Ye.id)&&Ye.status==="pending"?{...Ye,status:"active",lastUpdated:new Date}:Ye)),_(new Set),C(!1),N(`Successfully activated ${ve.length} items`,"success")}catch(ve){console.error("Error activating items:",ve),N("Failed to activate selected items","error")}finally{d(!1)}}},dt=()=>{C(!O),O||_(new Set)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center justify-between py-4",children:[g.jsx("h1",{className:`text-2xl font-bold ${T?"text-white":"text-gray-900"}`,children:"Inbound"}),g.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${T?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",X!==null?X:g.jsx("span",{className:"animate-pulse",children:"..."})]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[g.jsx("div",{children:g.jsx("p",{className:`${T?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),g.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:O?g.jsxs(g.Fragment,{children:[Y==="pending"&&g.jsxs(Nt,{onClick:xt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:h||b.size===0,children:[g.jsx(uZ,{size:16}),"Go Live (",b.size,")"]}),g.jsxs(Nt,{onClick:()=>f(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:h||b.size===0,children:[g.jsx(Jo,{size:16}),"Delete Selected (",b.size,")"]}),g.jsx(Nt,{onClick:dt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):g.jsxs(g.Fragment,{children:[g.jsxs(Nt,{onClick:dt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(JJ,{size:16}),"Select Items"]}),g.jsxs(Nt,{variant:"secondary",onClick:()=>G(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(Ds,{size:16}),"Quick Add"]}),g.jsxs(Nt,{variant:"primary",onClick:()=>i(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[g.jsx(Ds,{size:16}),"Add New Stock"]})]})})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(K0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),g.jsx(bt,{type:"text",placeholder:"Search by name, location, ASIN or barcode",value:e,onChange:ve=>t(ve.target.value),className:"pl-10"})]})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(jr,{value:r,onChange:ve=>n(ve.target.value),options:Ae})}),g.jsxs("div",{className:"relative status-filter-dropdown",children:[g.jsxs(Nt,{variant:"secondary",onClick:()=>ce(!le),className:`flex items-center gap-2 ${Y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[Y==="all"?"Status Filter":Y==="active"?"Active":"Pending",g.jsx(x4,{size:16})]}),le&&g.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:`text-sm font-medium mb-2 ${T?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Y==="all"?T?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{K("all"),ce(!1)},children:"All"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Y==="active"?T?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{K("active"),ce(!1)},children:"Active"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${Y==="pending"?T?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{K("pending"),ce(!1)},children:"Pending"}),g.jsx("div",{className:`border-t ${T?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:g.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{K("all"),ce(!1)},children:"Clear Filter"})})]})})]}),g.jsxs("div",{className:"relative store-filter-dropdown",children:[g.jsxs(Nt,{variant:"secondary",onClick:()=>q(!F),className:`flex items-center gap-2 ${ne?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[ne?`${ne.storeName==="other"?"Other":ne.storeName} - ${ne.fulfillmentType.toUpperCase()}`:"Store Filter",g.jsx(x4,{size:16})]}),F&&g.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:g.jsxs("div",{className:"p-2",children:[g.jsx("div",{className:`text-sm font-medium mb-2 ${T?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(ve=>g.jsxs("div",{className:"group relative",children:[g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ne==null?void 0:ne.storeName)===ve?T?"bg-slate-700":"bg-slate-100":""}`,children:ve}),g.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ne==null?void 0:ne.storeName)===ve&&(ne==null?void 0:ne.fulfillmentType)==="fba"?T?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{I({storeName:ve,fulfillmentType:"fba"}),q(!1)},children:"FBA"}),g.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${T?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(ne==null?void 0:ne.storeName)===ve&&(ne==null?void 0:ne.fulfillmentType)==="mf"?T?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{I({storeName:ve,fulfillmentType:"mf"}),q(!1)},children:"MF"})]})]},ve)),g.jsx("div",{className:`border-t ${T?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:g.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${T?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{I(null),q(!1)},children:"Clear Filter"})})]})})]}),g.jsx(Nt,{variant:"secondary",onClick:de,className:`flex items-center gap-2 ${h?"opacity-50 cursor-not-allowed":""}`,disabled:h,children:g.jsx(Pf,{size:16,className:h?"animate-spin":""})})]}),h?g.jsx("div",{className:`text-center py-12 ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(qo,{className:`w-8 h-8 ${T?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:T?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Ee.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:g.jsxs("table",{className:`min-w-full divide-y ${T?"divide-slate-700":"divide-slate-200"} ${T?"bg-slate-800":"bg-white"} rounded-lg border ${T?"border-slate-700":"border-slate-200"}`,children:[g.jsx("thead",{className:T?"bg-slate-700/50":"bg-slate-100",children:g.jsxs("tr",{children:[O&&g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",checked:b.size===Ee.length,onChange:it,className:`h-4 w-4 text-blue-600 rounded ${T?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),g.jsx("span",{children:"Select"})]})}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(S==null?void 0:S.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${T?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${T?"divide-slate-700":"divide-slate-200"}`,children:Ee.map((ve,Ge)=>g.jsxs(Pn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Ge*.05,ease:"easeOut"},className:`hover:${T?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>je(ve),children:[O&&g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,onClick:Ye=>Ye.stopPropagation(),children:g.jsx("input",{type:"checkbox",checked:b.has(ve.id),onChange:()=>ht(ve.id),className:`h-4 w-4 text-blue-600 rounded ${T?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-blue-400":"text-blue-700"} font-medium`,children:ve.name}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ve.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ve.status==="active"?"Active":"Pending"})}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ve.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ve.fulfillmentType.toUpperCase()})}),g.jsxs("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,children:[ve.locationCode," - ",ve.shelfNumber]}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,children:ve.asin?ve.asin.split(",").length>3?ve.asin.split(",").slice(0,3).map(Ye=>Ye.trim()).join(", ")+"...":ve.asin.split(",").map(Ye=>Ye.trim()).join(", "):"-"}),(S==null?void 0:S.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsx("td",{className:`px-4 py-3 text-right text-sm ${T?"text-slate-200":"text-slate-900"}`,children:Number(ve.price)>0?`£${Number(ve.price).toFixed(2)}`:"(Not set)"}),g.jsx("td",{className:`px-4 py-3 text-right text-sm ${T?"text-slate-200":"text-slate-900"}`,children:Number(ve.quantity*ve.price)>0?`£${Number(ve.quantity*ve.price).toFixed(2)}`:"(Not set)"})]}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[ve.quantity<=10&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),ve.quantity>10&&ve.quantity<=25&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700",children:"Low Stock"}),g.jsx("span",{children:ve.quantity})]})}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"}`,children:Ft(new Date(ve.lastUpdated),"MMM d, yyyy")}),g.jsx("td",{className:`px-4 py-3 text-sm ${T?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[g.jsx("button",{onClick:Ye=>Ke(Ye,ve),className:`p-1 ${T?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:Ye=>ot(Ye,ve),className:`p-1 ${T?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:g.jsx(Jo,{size:16})})]})})]},ve.id))})]})}),g.jsx("div",{className:"block md:hidden space-y-4",children:Ee.map(ve=>g.jsxs("div",{className:`rounded-lg border ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>je(ve),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${T?"text-blue-400":"text-blue-700"}`,children:ve.name}),g.jsxs("div",{className:"flex gap-2",children:[g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ve.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:ve.status==="active"?"Active":"Pending"}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ve.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:ve.fulfillmentType.toUpperCase()})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["Location: ",g.jsxs("span",{className:"font-medium",children:[ve.locationCode," - ",ve.shelfNumber]})]}),g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["Qty: ",g.jsx("span",{className:"font-medium",children:ve.quantity})]}),ve.asin&&g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["ASIN: ",g.jsx("span",{className:"font-medium",children:ve.asin})]}),(S==null?void 0:S.role)==="admin"&&g.jsxs(g.Fragment,{children:[g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["Price: ",g.jsx("span",{className:"font-medium",children:Number(ve.price)>0?`£${Number(ve.price).toFixed(2)}`:"(Not set)"})]}),g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["Total: ",g.jsx("span",{className:"font-medium",children:Number(ve.quantity*ve.price)>0?`£${Number(ve.quantity*ve.price).toFixed(2)}`:"(Not set)"})]})]}),g.jsxs("span",{className:T?"text-slate-300":"text-slate-600",children:["Updated: ",g.jsx("span",{className:"font-medium",children:Ft(new Date(ve.lastUpdated),"MMM d, yyyy")})]})]}),g.jsxs("div",{className:"flex gap-2 mt-2",children:[g.jsxs(Nt,{size:"sm",variant:"secondary",onClick:Ge=>{Ge.stopPropagation(),Ke(Ge,ve)},children:[g.jsx(Ml,{size:14})," Edit"]}),g.jsxs(Nt,{size:"sm",variant:"danger",onClick:Ge=>{Ge.stopPropagation(),ot(Ge,ve)},children:[g.jsx(Jo,{size:14})," Delete"]})]})]},ve.id))})]}):g.jsx("div",{className:`text-center py-12 ${T?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:T?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),g.jsx(Wn,{isOpen:a,onClose:()=>i(!1),title:"Add New Stock Item",size:"xl",children:g.jsx(cye,{onSubmit:ae,isLoading:h,existingStockItems:v})}),g.jsx(Wn,{isOpen:j,onClose:()=>G(!1),title:"Quick Add Stock",size:"md",children:g.jsx(gye,{onSubmit:ae,onClose:()=>G(!1),isLoading:h})}),g.jsx(Wn,{isOpen:s,onClose:()=>o(!1),title:"Edit Stock",size:"xl",children:m&&g.jsx(dye,{item:m,onSubmit:Ze,onCancel:()=>o(!1),isLoading:h})}),m&&g.jsx(_T,{isOpen:l,onClose:()=>{c(!1),p(null)},onConfirm:()=>Qe(m.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${m.name}"? This action cannot be undone.`,isLoading:h}),m&&!s&&!l&&!A&&g.jsx(vq,{isOpen:!!m,onClose:()=>p(null),item:m}),g.jsx(_T,{isOpen:u,onClose:()=>{f(!1),_(new Set)},onConfirm:yt,title:"Delete Selected Items",message:`Are you sure you want to delete ${b.size} selected item${b.size>1?"s":""}? This action cannot be undone.`,isLoading:h}),g.jsx(Wn,{isOpen:A,onClose:()=>{D(!1),P(null)},title:"Confirm Quantity Update",children:g.jsxs("div",{children:[g.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),g.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[g.jsx(Nt,{variant:"secondary",onClick:()=>{D(!1),P(null)},children:"No"}),g.jsx(Nt,{onClick:Re,isLoading:h,children:"Yes"})]})]})}),B&&g.jsx(vye,{isOpen:U,onClose:Be,onConfirm:Me,onCancel:Be,locationCode:B.locationCode,shelfNumber:B.shelfNumber,existingProducts:B.existingProducts,newProductName:B.newProductName})]})},xye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return g.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},yq=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return g.jsx(xye,{variant:t(),children:r()})},bye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=tn();return g.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:g.jsxs("div",{className:"p-4",children:[g.jsxs("div",{className:"flex items-center justify-between mb-2",children:[g.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),g.jsxs("div",{className:"flex items-center gap-2",children:[r,g.jsx(yq,{status:e.status})]})]}),g.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),g.jsx("div",{className:"space-y-1 mb-3",children:g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),g.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),g.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[g.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:Ft(e.createdAt,"MMM d, yyyy")}),g.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},wye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),g.jsx(Wn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:g.jsxs("div",{className:"space-y-2",children:[g.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),g.jsx("div",{className:"mt-1",children:g.jsx(yq,{status:r.status})})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),g.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),g.jsx("p",{className:"text-slate-800",children:r.createdAt?Ft(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),g.jsx("p",{className:"text-slate-800",children:r.updatedAt?Ft(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&g.jsxs("div",{children:[g.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),g.jsx("p",{className:"text-slate-800",children:r.shippedTime?Ft(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),g.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:g.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[g.jsx("thead",{className:"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),g.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),g.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>g.jsxs("tr",{children:[g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),g.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),g.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),g.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),g.jsx("tfoot",{className:"bg-slate-50",children:g.jsxs("tr",{children:[g.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),g.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[g.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),g.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),g.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[g.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),g.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),g.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),g.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),g.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,mb=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:ir(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:ir(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:ir(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:ir(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:ir(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:ir(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:ir(new Date,6),locationCode:"D2",shelfNumber:4}],_ye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:ir(new Date,1),updatedAt:ir(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:ir(new Date,2),updatedAt:ir(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:ir(new Date,5),updatedAt:ir(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:ir(new Date,10),updatedAt:ir(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:ir(new Date,15),updatedAt:ir(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];_ye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:Ft(ir(new Date,29-t),"MMM dd"),amount:r}});ir(new Date,1),ir(new Date,1),ir(new Date,3),ir(new Date,4),ir(new Date,5);const Sye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Aye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],IS={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},WD={street:"",city:"",state:"",zipCode:"",country:""};function Tye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const Eye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,HD=e=>Eye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},kye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=Z.useState(""),[s,o]=Z.useState(""),[l,c]=Z.useState("pending"),[u,f]=Z.useState(""),[h,d]=Z.useState([{...IS}]),[m,p]=Z.useState({...WD}),[v,y]=Z.useState({...WD}),[b,_]=Z.useState("Credit Card"),[O,C]=Z.useState(""),[N,T]=Z.useState([]),[S,A]=Z.useState(!1);Z.useEffect(()=>{e&&(i(Tye()),f(Ft(new Date,"yyyy-MM-dd")),d([{...IS}]),c("pending"))},[e]),Z.useEffect(()=>{e&&(async()=>{A(!0);try{const Q=kr(Ct(gt,"inventory"),bi("name")),z=(await Sr(Q)).docs.map(B=>({id:B.id,...B.data()}));T(z.length>0?z:mb)}catch{T(mb)}finally{A(!1)}})()},[e]);const D=(U,Q,J)=>{d(z=>z.map((B,ee)=>{if(ee!==U)return B;if(Q==="productName"){const ne=N.find(I=>I.name===J);return ne?{...B,productId:ne.id,productName:ne.name,unitPrice:ne.price,quantity:1,totalPrice:ne.price*1}:B}if(Q==="quantity"){const ne=Number(J);return{...B,quantity:ne,totalPrice:B.unitPrice*ne}}return{...B,[Q]:J}}))},E=()=>{d([...h,{...IS}])},P=U=>{d(Q=>Q.filter((J,z)=>z!==U))},j=(U,Q,J)=>{U==="shipping"?p(z=>({...HD(z),[Q]:J})):y(z=>({...HD(z),[Q]:J}))},G=U=>{if(U.preventDefault(),h.some(z=>!z.productId||!z.productName)){alert("Please select a product for each order item.");return}const Q=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):Q,updatedAt:Q,items:h.map((z,B)=>({...z,id:`item${B+1}`})),shippingAddress:m,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((z,B)=>z+(B.totalPrice||0),0)};O&&(J.notes=O),r(J),t()};return g.jsx(Wn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:g.jsxs("form",{onSubmit:G,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),g.jsx(bt,{label:"Customer Name",value:s,onChange:U=>o(U.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jr,{label:"Status",value:l,onChange:U=>c(U.target.value),options:Sye,required:!0,fullWidth:!0,disabled:!0}),g.jsx(jr,{label:"Payment Method",value:b,onChange:U=>_(U.target.value),options:Aye,required:!0,fullWidth:!0})]}),g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.jsx(bt,{label:"Order Date",type:"date",value:u,onChange:U=>f(U.target.value),required:!0,fullWidth:!0})}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((U,Q)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[g.jsx(jr,{label:"Product Name",value:U.productName,onChange:J=>D(Q,"productName",J.target.value),options:[{value:"",label:"Select product..."},...N.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:S}),g.jsx(bt,{label:"Quantity",type:"number",value:U.quantity,onChange:J=>D(Q,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!U.productName}),g.jsx(bt,{label:"Unit Price",type:"number",value:U.unitPrice,disabled:!0,fullWidth:!0}),g.jsx(bt,{label:"Total Price",type:"number",value:U.totalPrice,disabled:!0,fullWidth:!0}),g.jsx(Nt,{type:"button",variant:"danger",size:"sm",icon:g.jsx(Jo,{size:16}),onClick:()=>P(Q),children:"Remove"})]},Q)),g.jsx(Nt,{type:"button",variant:"primary",icon:g.jsx(Ds,{size:16}),onClick:E,disabled:S,children:"Add Item"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsx(bt,{label:"Street",value:m.street,onChange:U=>j("shipping","street",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"City",value:m.city,onChange:U=>j("shipping","city",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"State",value:m.state,onChange:U=>j("shipping","state",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Zip Code",value:m.zipCode,onChange:U=>j("shipping","zipCode",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Country",value:m.country,onChange:U=>j("shipping","country",U.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsx(bt,{label:"Street",value:v.street,onChange:U=>j("billing","street",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"City",value:v.city,onChange:U=>j("billing","city",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"State",value:v.state,onChange:U=>j("billing","state",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Zip Code",value:v.zipCode,onChange:U=>j("billing","zipCode",U.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Country",value:v.country,onChange:U=>j("billing","country",U.target.value),required:!0,fullWidth:!0})]})]}),g.jsx(bt,{label:"Notes (optional)",value:O,onChange:U=>C(U.target.value),fullWidth:!0}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsx(Nt,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Pye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Cye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],GD={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},KD={street:"",city:"",state:"",zipCode:"",country:""},Nye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=Z.useState(""),[o,l]=Z.useState(""),[c,u]=Z.useState("pending"),[f,h]=Z.useState(""),[d,m]=Z.useState(""),[p,v]=Z.useState([{...GD}]),[y,b]=Z.useState({...KD}),[_,O]=Z.useState({...KD}),[C,N]=Z.useState("Credit Card"),[T,S]=Z.useState(""),[A,D]=Z.useState([]),[E,P]=Z.useState(!1);Z.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(Ft(a.createdAt,"yyyy-MM-dd")),v(a.items.map(ee=>({...ee}))),b(a.shippingAddress),O(a.billingAddress),N(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?m(Ft(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):m(""))},[e,a]),Z.useEffect(()=>{e&&(async()=>{P(!0);try{const ne=kr(Ct(gt,"inventory"),bi("name")),F=(await Sr(ne)).docs.map(q=>({id:q.id,...q.data()}));D(F.length>0?F:mb)}catch{D(mb)}finally{P(!1)}})()},[e]);const j=(ee,ne,I)=>{v(F=>F.map((q,Y)=>{if(Y!==ee)return q;if(ne==="productName"){const K=A.find(le=>le.name===I);return K?{...q,productId:K.id,productName:K.name,unitPrice:K.price,quantity:1,totalPrice:K.price*1}:q}if(ne==="quantity"){const K=Number(I);return{...q,quantity:K,totalPrice:q.unitPrice*K}}return{...q,[ne]:I}}))},G=()=>{v([...p,{...GD}])},U=ee=>{v(ne=>ne.filter((I,F)=>F!==ee))},Q=(ee,ne,I)=>{ee==="shipping"?b(F=>({...B(F),[ne]:I})):O(F=>({...B(F),[ne]:I}))},J=ee=>{if(ee.preventDefault(),p.some(F=>!F.productId||!F.productName)){alert("Please select a product for each order item.");return}const ne={orderNumber:i,customerName:o,status:c,items:p.map((F,q)=>{let Y;return typeof F.id=="string"&&F.id?Y=F.id:Y=`item${q+1}`,{...F,id:Y}}),shippingAddress:y,billingAddress:_,paymentMethod:C,totalAmount:p.reduce((F,q)=>F+(q.totalPrice||0),0)};T&&(ne.notes=T),c==="shipped"&&d?ne.shippedTime=Rue(d):a!=null&&a.shippedTime&&c!=="shipped"&&(ne.shippedTime=null);const I={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...ne};r(I),t()},z=ee=>typeof ee=="object"&&ee!==null&&!Array.isArray(ee)&&"street"in ee&&"city"in ee&&"state"in ee&&"zipCode"in ee&&"country"in ee,B=ee=>z(ee)?ee:{street:"",city:"",state:"",zipCode:"",country:""};return g.jsx(Wn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:g.jsxs("form",{onSubmit:J,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),g.jsx(bt,{label:"Customer Name",value:o,onChange:ee=>l(ee.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(jr,{label:"Status",value:c,onChange:ee=>u(ee.target.value),options:Pye,required:!0,fullWidth:!0}),g.jsx(jr,{label:"Payment Method",value:C,onChange:ee=>N(ee.target.value),options:Cye,required:!0,fullWidth:!0})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Order Date",type:"date",value:f,onChange:ee=>h(ee.target.value),required:!0,fullWidth:!0}),c==="shipped"&&g.jsx(bt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:ee=>m(ee.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),p.map((ee,ne)=>g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[g.jsx(jr,{label:"Product Name",value:ee.productName,onChange:I=>j(ne,"productName",I.target.value),options:[{value:"",label:"Select product..."},...A.map(I=>({value:I.name,label:I.name}))],required:!0,fullWidth:!0,disabled:E}),g.jsx(bt,{label:"Quantity",type:"number",value:ee.quantity,onChange:I=>j(ne,"quantity",Number(I.target.value)),min:1,required:!0,fullWidth:!0,disabled:!ee.productName}),g.jsx(bt,{label:"Unit Price",type:"number",value:ee.unitPrice,disabled:!0,fullWidth:!0}),g.jsx(bt,{label:"Total Price",type:"number",value:ee.totalPrice,disabled:!0,fullWidth:!0}),g.jsx(Nt,{type:"button",variant:"danger",size:"sm",icon:g.jsx(Jo,{size:16}),onClick:()=>U(ne),children:"Remove"})]},ne)),g.jsx(Nt,{type:"button",variant:"primary",icon:g.jsx(Ds,{size:16}),onClick:G,disabled:E,children:"Add Item"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),g.jsx(bt,{label:"Street",value:y.street,onChange:ee=>Q("shipping","street",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"City",value:y.city,onChange:ee=>Q("shipping","city",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"State",value:y.state,onChange:ee=>Q("shipping","state",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Zip Code",value:y.zipCode,onChange:ee=>Q("shipping","zipCode",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Country",value:y.country,onChange:ee=>Q("shipping","country",ee.target.value),required:!0,fullWidth:!0})]}),g.jsxs("div",{children:[g.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),g.jsx(bt,{label:"Street",value:_.street,onChange:ee=>Q("billing","street",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"City",value:_.city,onChange:ee=>Q("billing","city",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"State",value:_.state,onChange:ee=>Q("billing","state",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Zip Code",value:_.zipCode,onChange:ee=>Q("billing","zipCode",ee.target.value),required:!0,fullWidth:!0}),g.jsx(bt,{label:"Country",value:_.country,onChange:ee=>Q("billing","country",ee.target.value),required:!0,fullWidth:!0})]})]}),g.jsx(bt,{label:"Notes (optional)",value:T,onChange:ee=>S(ee.target.value),fullWidth:!0}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(Nt,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),g.jsx(Nt,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},Oye=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("all"),[a,i]=Z.useState("date"),[s,o]=Z.useState(null),[l,c]=Z.useState("grid"),[u,f]=Z.useState(!1),[h,d]=Z.useState(!1),[m,p]=Z.useState([]),[v,y]=Z.useState(null),[b,_]=Z.useState(!1),{showToast:O}=rd(),{user:C}=Ti(),{isDarkMode:N}=tn(),T=async()=>{d(!0);try{const z=kr(Ct(gt,"orders"),bi("createdAt","desc")),ee=(await Sr(z)).docs.map(ne=>{const I=ne.data();return{id:ne.id,orderNumber:I.orderNumber||"",customerName:I.customerName||"",items:I.items||[],status:I.status||"pending",createdAt:I.createdAt instanceof Qt?I.createdAt.toDate():new Date(I.createdAt),updatedAt:I.updatedAt instanceof Qt?I.updatedAt.toDate():new Date(I.updatedAt),shippingAddress:I.shippingAddress||{},billingAddress:I.billingAddress||{},paymentMethod:I.paymentMethod||"",totalAmount:I.totalAmount||0,notes:I.notes||"",shippedTime:I.shippedTime instanceof Qt?I.shippedTime.toDate():I.shippedTime?new Date(I.shippedTime):void 0}});p(ee)}catch(z){console.error("Error fetching orders:",z),O("Failed to fetch orders","error")}finally{d(!1)}};Z.useEffect(()=>{T()},[]);const S=m.filter(z=>{const B=z.orderNumber.toLowerCase().includes(e.toLowerCase())||z.customerName.toLowerCase().includes(e.toLowerCase()),ee=r==="all"||z.status===r;return B&&ee}).sort((z,B)=>a==="date"?new Date(B.createdAt).getTime()-new Date(z.createdAt).getTime():a==="amount"?B.totalAmount-z.totalAmount:0),A=z=>{o(z)},D=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],E=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],P=async z=>{d(!0);try{console.log("Adding new order with status:",z.status),await Lr(Ct(gt,"orders"),{...z,createdAt:Xy(),updatedAt:Xy()}),await Lr(Ct(gt,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`created new order #${z.orderNumber} for '${z.customerName}' with ${z.items.length} items (${z.items.map(B=>`${B.quantity} ${B.productName}`).join(", ")}) - Total: $${z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),z.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await fx(z.items,!0)),await T(),f(!1),O("Order added successfully!","success")}catch(B){console.error("Error in handleAddOrder:",B),alert("Error adding order: "+((B==null?void 0:B.message)||B))}finally{d(!1)}},j=async z=>{d(!0);try{const B=qn(gt,"orders",z.id),ne=(await y1(B)).data();console.log("Previous order status:",ne==null?void 0:ne.status),console.log("New order status:",z.status);const I={status:z.status,updatedAt:Xy()},F=[];if((ne==null?void 0:ne.status)!==z.status&&F.push(`status from "${ne==null?void 0:ne.status}" to "${z.status}"`),(ne==null?void 0:ne.customerName)!==z.customerName&&F.push(`customer from "${ne==null?void 0:ne.customerName}" to "${z.customerName}"`),JSON.stringify(ne==null?void 0:ne.items)!==JSON.stringify(z.items)){const Y=[];z.items.forEach(K=>{const le=ne==null?void 0:ne.items.find(ce=>ce.id===K.id);le?le.quantity!==K.quantity&&Y.push(`changed ${K.productName} quantity from ${le.quantity} to ${K.quantity}`):Y.push(`added ${K.quantity} ${K.productName}`)}),ne==null||ne.items.forEach(K=>{z.items.find(le=>le.id===K.id)||Y.push(`removed ${K.quantity} ${K.productName}`)}),Y.length>0&&F.push(`items: ${Y.join(", ")}`)}(ne==null?void 0:ne.totalAmount)!==z.totalAmount&&F.push(`total amount from $${ne==null?void 0:ne.totalAmount.toFixed(2)} to $${z.totalAmount.toFixed(2)}`),z.status==="shipped"&&(ne==null?void 0:ne.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await fx(z.items,!0),z.shippedTime?I.shippedTime=Qt.fromDate(z.shippedTime):I.shippedTime=Xy()):(ne==null?void 0:ne.status)==="shipped"&&z.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await fx(z.items,!1),I.shippedTime=mI()):(z.status==="cancelled"||z.status==="returned")&&(ne==null?void 0:ne.status)!=="cancelled"&&(ne==null?void 0:ne.status)!=="returned"?(console.log(`Status changed to ${z.status}, restoring inventory...`),await fx(z.items,!1),I.shippedTime=mI()):ne!=null&&ne.shippedTime&&(I.shippedTime=Qt.fromDate(ne.shippedTime));const{...q}=z;Object.assign(I,q),await Sl(B,I),F.length>0&&await Lr(Ct(gt,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`edited order #${z.orderNumber}: ${F.join("; ")}`,time:new Date().toISOString()}),await T(),y(null),O("Order updated successfully!","success")}catch(B){console.error("Error updating order:",B),O("Failed to update order","error")}finally{d(!1)}},G=()=>{y(null)},U=async z=>{d(!0);try{const B=qn(gt,"orders",z),ne=(await y1(B)).data();ne&&(await Lr(Ct(gt,"activityLogs"),{user:C==null?void 0:C.name,role:C==null?void 0:C.role,detail:`deleted order #${ne.orderNumber} for '${ne.customerName}' with ${ne.items.length} items (${ne.items.map(I=>`${I.quantity} ${I.productName}`).join(", ")}) - Total: $${ne.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await x1(B),await T(),_(!1),o(null),O("Order deleted successfully!","success"))}catch(B){console.error("Error deleting order:",B),O("Failed to delete order","error")}finally{d(!1)}},Q=(z,B)=>{z.stopPropagation(),o(B),_(!0)},J=(z,B)=>{z.stopPropagation(),y(B)};return g.jsxs("div",{className:"space-y-6",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${N?"text-white":"text-slate-800"}`,children:"Current Orders"}),g.jsx("p",{className:`${N?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),g.jsx(Nt,{onClick:()=>f(!0),className:"flex items-center gap-2",children:g.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),g.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[g.jsx("div",{className:"md:flex-1",children:g.jsx(bt,{placeholder:"Search by order number or customer...",value:e,onChange:z=>t(z.target.value),icon:g.jsx(K0,{size:18}),fullWidth:!0})}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsx(jr,{options:D,value:r,onChange:z=>n(z.target.value)}),g.jsx(jr,{options:E,value:a,onChange:z=>i(z.target.value)})]})]}),g.jsx("div",{className:"flex justify-end mb-4",children:g.jsxs("div",{className:"relative inline-block",children:[g.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":N?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[g.jsx(aZ,{size:18,className:"inline mr-1"})," Grid"]}),g.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":N?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[g.jsx(dZ,{size:18,className:"inline mr-1"})," Table"]})]})}),h?g.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[g.jsx(qo,{className:`w-8 h-8 ${N?"text-blue-400":"text-blue-500"} animate-spin`}),g.jsx("p",{className:`mt-2 ${N?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(z=>g.jsx("div",{className:"flex flex-col",children:g.jsx(bye,{order:z,onClick:()=>A(z),editButton:g.jsx("button",{onClick:B=>J(B,z),className:`p-2 ${N?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:g.jsx(Ml,{className:`w-4 h-4 ${N?"text-blue-400":"text-blue-500"}`})})})},z.id))}):g.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:`${N?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:`min-w-full divide-y ${N?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[g.jsx("thead",{className:N?"bg-slate-900":"bg-slate-100",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),g.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${N?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`${N?"divide-slate-700":"divide-slate-200"}`,children:S.map(z=>g.jsxs("tr",{className:`${N?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>A(z),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-blue-400":"text-blue-700"} font-medium`,children:z.orderNumber}),g.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-300":"text-slate-800"}`,children:z.customerName}),g.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-300":"text-slate-800"} capitalize`,children:z.status}),g.jsx("td",{className:`px-4 py-3 text-sm ${N?"text-slate-300":"text-slate-800"}`,children:new Date(z.createdAt).toLocaleDateString()}),g.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${N?"text-slate-200":"text-slate-900"} text-right`,children:["$",z.totalAmount.toFixed(2)]}),g.jsx("td",{className:"px-4 py-3 text-center",children:g.jsxs("div",{className:"flex items-center justify-center gap-2",children:[g.jsx("button",{onClick:B=>{B.stopPropagation(),y(z)},className:`p-1 ${N?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:g.jsx(Ml,{size:16})}),g.jsx("button",{onClick:B=>Q(B,z),className:`p-1 ${N?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:g.jsx(Jo,{size:16})})]})})]},z.id))})]})}):g.jsx("div",{className:`text-center py-12 ${N?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:`${N?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&g.jsx(wye,{isOpen:!!s,onClose:()=>o(null),order:s}),g.jsx(kye,{isOpen:u,onClose:()=>f(!1),onAdd:P,isLoading:h}),g.jsx(Nye,{isOpen:!!v,onClose:G,onEdit:j,isLoading:h,order:v}),s&&g.jsx(_T,{isOpen:b,onClose:()=>{_(!1),o(null)},onConfirm:()=>U(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},fx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=gae(gt),n=[];for(const a of e){const i=qn(gt,"inventory",a.productId),s=await y1(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await Lr(Ct(gt,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},xq=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=tn(),[o,l]=Z.useState(!1),c=d=>{const m=d.target.value?new Date(d.target.value):null;r(m)},u=d=>{const m=d.target.value?new Date(d.target.value):null;n(m)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${Ft(e,"MMM d, yyyy")} - ${Ft(t,"MMM d, yyyy")}`:e?`From ${Ft(e,"MMM d, yyyy")}`:t?`To ${Ft(t,"MMM d, yyyy")}`:"Select date range";return g.jsxs("div",{className:`relative ${i}`,children:[g.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[g.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[g.jsx(YJ,{className:"h-4 w-4 flex-shrink-0"}),g.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&g.jsx("button",{onClick:d=>{d.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",children:g.jsx(ik,{className:"h-3 w-3"})})]}),o&&g.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),g.jsx("input",{type:"date",value:e?Ft(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),g.jsx("input",{type:"date",value:t?Ft(t,"yyyy-MM-dd"):"",onChange:u,min:e?Ft(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),g.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[g.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),g.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},Iye="modulepreload",Dye=function(e){return"/"+e},YD={},ST=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Dye(l),l in YD)return;YD[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Iye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var xi=Uint8Array,Os=Uint16Array,nC=Int32Array,h5=new xi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),d5=new xi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),AT=new xi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),bq=function(e,t){for(var r=new Os(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new nC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},wq=bq(h5,2),_q=wq.b,TT=wq.r;_q[28]=258,TT[258]=28;var Sq=bq(d5,0),Lye=Sq.b,XD=Sq.r,ET=new Os(32768);for(var xn=0;xn<32768;++xn){var Eu=(xn&43690)>>1|(xn&21845)<<1;Eu=(Eu&52428)>>2|(Eu&13107)<<2,Eu=(Eu&61680)>>4|(Eu&3855)<<4,ET[xn]=((Eu&65280)>>8|(Eu&255)<<8)>>1}var Dl=function(e,t,r){for(var n=e.length,a=0,i=new Os(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new Os(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new Os(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[ET[f]>>l]=c}else for(o=new Os(n),a=0;a<n;++a)e[a]&&(o[a]=ET[s[e[a]-1]++]>>15-e[a]);return o},Sf=new xi(288);for(var xn=0;xn<144;++xn)Sf[xn]=8;for(var xn=144;xn<256;++xn)Sf[xn]=9;for(var xn=256;xn<280;++xn)Sf[xn]=7;for(var xn=280;xn<288;++xn)Sf[xn]=8;var R1=new xi(32);for(var xn=0;xn<32;++xn)R1[xn]=5;var jye=Dl(Sf,9,0),Mye=Dl(Sf,9,1),Rye=Dl(R1,5,0),Fye=Dl(R1,5,1),DS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},Do=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},LS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},aC=function(e){return(e+7)/8|0},Aq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new xi(e.subarray(t,r))},$ye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Fo=function(e,t,r){var n=new Error(t||$ye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Fo),!r)throw n;return n},Bye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new xi(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new xi(a*3));var c=function(de){var H=r.length;if(de>H){var Ae=new xi(Math.max(H*2,de));Ae.set(r),r=Ae}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,m=t.d,p=t.m,v=t.n,y=a*8;do{if(!d){u=Do(e,f,1);var b=Do(e,f+1,3);if(f+=3,b)if(b==1)d=Mye,m=Fye,p=9,v=5;else if(b==2){var N=Do(e,f,31)+257,T=Do(e,f+10,15)+4,S=N+Do(e,f+5,31)+1;f+=14;for(var A=new xi(S),D=new xi(19),E=0;E<T;++E)D[AT[E]]=Do(e,f+E*3,7);f+=T*3;for(var P=DS(D),j=(1<<P)-1,G=Dl(D,P,1),E=0;E<S;){var U=G[Do(e,f,j)];f+=U&15;var _=U>>4;if(_<16)A[E++]=_;else{var Q=0,J=0;for(_==16?(J=3+Do(e,f,3),f+=2,Q=A[E-1]):_==17?(J=3+Do(e,f,7),f+=3):_==18&&(J=11+Do(e,f,127),f+=7);J--;)A[E++]=Q}}var z=A.subarray(0,N),B=A.subarray(N);p=DS(z),v=DS(B),d=Dl(z,p,1),m=Dl(B,v,1)}else Fo(1);else{var _=aC(f)+4,O=e[_-4]|e[_-3]<<8,C=_+O;if(C>a){l&&Fo(0);break}o&&c(h+O),r.set(e.subarray(_,C),h),t.b=h+=O,t.p=f=C*8,t.f=u;continue}if(f>y){l&&Fo(0);break}}o&&c(h+131072);for(var ee=(1<<p)-1,ne=(1<<v)-1,I=f;;I=f){var Q=d[LS(e,f)&ee],F=Q>>4;if(f+=Q&15,f>y){l&&Fo(0);break}if(Q||Fo(2),F<256)r[h++]=F;else if(F==256){I=f,d=null;break}else{var q=F-254;if(F>264){var E=F-257,Y=h5[E];q=Do(e,f,(1<<Y)-1)+_q[E],f+=Y}var K=m[LS(e,f)&ne],le=K>>4;K||Fo(3),f+=K&15;var B=Lye[le];if(le>3){var Y=d5[le];B+=LS(e,f)&(1<<Y)-1,f+=Y}if(f>y){l&&Fo(0);break}o&&c(h+131072);var ce=h+q;if(h<B){var X=i-B,he=Math.min(B,ce);for(X+h<0&&Fo(3);h<he;++h)r[h]=n[X+h]}for(;h<ce;++h)r[h]=r[h-B]}}t.l=d,t.p=I,t.b=h,t.f=u,d&&(u=1,t.m=p,t.d=m,t.n=v)}while(!u);return h!=r.length&&s?Aq(r,0,h):r.subarray(0,h)},ic=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},Dm=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},jS=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Eq,l:0};if(a==1){var s=new xi(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(C,N){return C.f-N.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new Os(h+1),m=kT(r[u-1],d,0);if(m>t){var n=0,p=0,v=m-t,y=1<<v;for(i.sort(function(N,T){return d[T.s]-d[N.s]||N.f-T.f});n<a;++n){var b=i[n].s;if(d[b]>t)p+=y-(1<<m-d[b]),d[b]=t;else break}for(p>>=v;p>0;){var _=i[n].s;d[_]<t?p-=1<<t-d[_]++-1:++n}for(;n>=0&&p;--n){var O=i[n].s;d[O]==t&&(--d[O],++p)}m=t}return{t:new xi(d),l:m}},kT=function(e,t,r){return e.s==-1?Math.max(kT(e.l,t,r+1),kT(e.r,t,r+1)):t[e.s]=r},QD=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new Os(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Lm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Tq=function(e,t,r){var n=r.length,a=aC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},JD=function(e,t,r,n,a,i,s,o,l,c,u){ic(t,u++,r),++a[256];for(var f=jS(a,15),h=f.t,d=f.l,m=jS(i,15),p=m.t,v=m.l,y=QD(h),b=y.c,_=y.n,O=QD(p),C=O.c,N=O.n,T=new Os(19),S=0;S<b.length;++S)++T[b[S]&31];for(var S=0;S<C.length;++S)++T[C[S]&31];for(var A=jS(T,7),D=A.t,E=A.l,P=19;P>4&&!D[AT[P-1]];--P);var j=c+5<<3,G=Lm(a,Sf)+Lm(i,R1)+s,U=Lm(a,h)+Lm(i,p)+s+14+3*P+Lm(T,D)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&j<=G&&j<=U)return Tq(t,u,e.subarray(l,l+c));var Q,J,z,B;if(ic(t,u,1+(U<G)),u+=2,U<G){Q=Dl(h,d,0),J=h,z=Dl(p,v,0),B=p;var ee=Dl(D,E,0);ic(t,u,_-257),ic(t,u+5,N-1),ic(t,u+10,P-4),u+=14;for(var S=0;S<P;++S)ic(t,u+3*S,D[AT[S]]);u+=3*P;for(var ne=[b,C],I=0;I<2;++I)for(var F=ne[I],S=0;S<F.length;++S){var q=F[S]&31;ic(t,u,ee[q]),u+=D[q],q>15&&(ic(t,u,F[S]>>5&127),u+=F[S]>>12)}}else Q=jye,J=Sf,z=Rye,B=R1;for(var S=0;S<o;++S){var Y=n[S];if(Y>255){var q=Y>>18&31;Dm(t,u,Q[q+257]),u+=J[q+257],q>7&&(ic(t,u,Y>>23&31),u+=h5[q]);var K=Y&31;Dm(t,u,z[K]),u+=B[K],K>3&&(Dm(t,u,Y>>5&8191),u+=d5[K])}else Dm(t,u,Q[Y]),u+=J[Y]}return Dm(t,u,Q[256]),u+J[256]},Vye=new nC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Eq=new xi(0),Uye=function(e,t,r,n,a,i){var s=i.z||e.length,o=new xi(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=Vye[t-1],h=f>>13,d=f&8191,m=(1<<r)-1,p=i.p||new Os(32768),v=i.h||new Os(m+1),y=Math.ceil(r/3),b=2*y,_=function(Ee){return(e[Ee]^e[Ee+1]<<y^e[Ee+2]<<b)&m},O=new nC(25e3),C=new Os(288),N=new Os(32),T=0,S=0,A=i.i||0,D=0,E=i.w||0,P=0;A+2<s;++A){var j=_(A),G=A&32767,U=v[j];if(p[G]=U,v[j]=G,E<=A){var Q=s-A;if((T>7e3||D>24576)&&(Q>423||!c)){u=JD(e,l,0,O,C,N,S,D,P,A-P,u),D=T=S=0,P=A;for(var J=0;J<286;++J)C[J]=0;for(var J=0;J<30;++J)N[J]=0}var z=2,B=0,ee=d,ne=G-U&32767;if(Q>2&&j==_(A-ne))for(var I=Math.min(h,Q)-1,F=Math.min(32767,A),q=Math.min(258,Q);ne<=F&&--ee&&G!=U;){if(e[A+z]==e[A+z-ne]){for(var Y=0;Y<q&&e[A+Y]==e[A+Y-ne];++Y);if(Y>z){if(z=Y,B=ne,Y>I)break;for(var K=Math.min(ne,Y-2),le=0,J=0;J<K;++J){var ce=A-ne+J&32767,X=p[ce],he=ce-X&32767;he>le&&(le=he,U=ce)}}}G=U,U=p[G],ne+=G-U&32767}if(B){O[D++]=268435456|TT[z]<<18|XD[B];var de=TT[z]&31,H=XD[B]&31;S+=h5[de]+d5[H],++C[257+de],++N[H],E=A+z,++T}else O[D++]=e[A],++C[e[A]]}}for(A=Math.max(A,E);A<s;++A)O[D++]=e[A],++C[e[A]];u=JD(e,l,c,O,C,N,S,D,P,A-P,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=p,i.i=A,i.w=E)}else{for(var A=i.w||0;A<s+c;A+=65535){var Ae=A+65535;Ae>=s&&(l[u/8|0]=c,Ae=s),u=Tq(l,u+1,e.subarray(A,Ae))}i.i=s}return Aq(o,0,n+aC(u)+a)},kq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},zye=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new xi(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return Uye(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Pq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},qye=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=kq();a.p(t.dictionary),Pq(e,2,a.d())}},Wye=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Fo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Fo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function PT(e,t){t||(t={});var r=kq();r.p(e);var n=zye(e,t,t.dictionary?6:2,4);return qye(n,t),Pq(n,n.length-4,r.d()),n}function Hye(e,t){return Bye(e.subarray(Wye(e,t),-4),{i:2},t,t)}var Gye=typeof TextDecoder<"u"&&new TextDecoder,Kye=0;try{Gye.decode(Eq,{stream:!0}),Kye=1}catch{}var Wt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function MS(){Wt.console&&typeof Wt.console.log=="function"&&Wt.console.log.apply(Wt.console,arguments)}var sn={log:MS,warn:function(e){Wt.console&&(typeof Wt.console.warn=="function"?Wt.console.warn.apply(Wt.console,arguments):MS.call(null,arguments))},error:function(e){Wt.console&&(typeof Wt.console.error=="function"?Wt.console.error.apply(Wt.console,arguments):MS(e))}};function RS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){uh(n.response,t,r)},n.onerror=function(){sn.error("could not download file")},n.send()}function ZD(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function hx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var jg,CT,uh=Wt.saveAs||((typeof window>"u"?"undefined":Mr(window))!=="object"||window!==Wt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=Wt.URL||Wt.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?ZD(a.href)?RS(e,t,r):hx(a,a.target="_blank"):hx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){hx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(ZD(e))RS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){hx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Mr(i)!=="object"&&(sn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return RS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(Wt.HTMLElement)||Wt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Mr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=Wt.URL||Wt.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Cq(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function FS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=si(r,n,a,i,t[0],7,-680876936),i=si(i,r,n,a,t[1],12,-389564586),a=si(a,i,r,n,t[2],17,606105819),n=si(n,a,i,r,t[3],22,-1044525330),r=si(r,n,a,i,t[4],7,-176418897),i=si(i,r,n,a,t[5],12,1200080426),a=si(a,i,r,n,t[6],17,-1473231341),n=si(n,a,i,r,t[7],22,-45705983),r=si(r,n,a,i,t[8],7,1770035416),i=si(i,r,n,a,t[9],12,-1958414417),a=si(a,i,r,n,t[10],17,-42063),n=si(n,a,i,r,t[11],22,-1990404162),r=si(r,n,a,i,t[12],7,1804603682),i=si(i,r,n,a,t[13],12,-40341101),a=si(a,i,r,n,t[14],17,-1502002290),r=oi(r,n=si(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=oi(i,r,n,a,t[6],9,-1069501632),a=oi(a,i,r,n,t[11],14,643717713),n=oi(n,a,i,r,t[0],20,-373897302),r=oi(r,n,a,i,t[5],5,-701558691),i=oi(i,r,n,a,t[10],9,38016083),a=oi(a,i,r,n,t[15],14,-660478335),n=oi(n,a,i,r,t[4],20,-405537848),r=oi(r,n,a,i,t[9],5,568446438),i=oi(i,r,n,a,t[14],9,-1019803690),a=oi(a,i,r,n,t[3],14,-187363961),n=oi(n,a,i,r,t[8],20,1163531501),r=oi(r,n,a,i,t[13],5,-1444681467),i=oi(i,r,n,a,t[2],9,-51403784),a=oi(a,i,r,n,t[7],14,1735328473),r=li(r,n=oi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=li(i,r,n,a,t[8],11,-2022574463),a=li(a,i,r,n,t[11],16,1839030562),n=li(n,a,i,r,t[14],23,-35309556),r=li(r,n,a,i,t[1],4,-1530992060),i=li(i,r,n,a,t[4],11,1272893353),a=li(a,i,r,n,t[7],16,-155497632),n=li(n,a,i,r,t[10],23,-1094730640),r=li(r,n,a,i,t[13],4,681279174),i=li(i,r,n,a,t[0],11,-358537222),a=li(a,i,r,n,t[3],16,-722521979),n=li(n,a,i,r,t[6],23,76029189),r=li(r,n,a,i,t[9],4,-640364487),i=li(i,r,n,a,t[12],11,-421815835),a=li(a,i,r,n,t[15],16,530742520),r=ci(r,n=li(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ci(i,r,n,a,t[7],10,1126891415),a=ci(a,i,r,n,t[14],15,-1416354905),n=ci(n,a,i,r,t[5],21,-57434055),r=ci(r,n,a,i,t[12],6,1700485571),i=ci(i,r,n,a,t[3],10,-1894986606),a=ci(a,i,r,n,t[10],15,-1051523),n=ci(n,a,i,r,t[1],21,-2054922799),r=ci(r,n,a,i,t[8],6,1873313359),i=ci(i,r,n,a,t[15],10,-30611744),a=ci(a,i,r,n,t[6],15,-1560198380),n=ci(n,a,i,r,t[13],21,1309151649),r=ci(r,n,a,i,t[4],6,-145523070),i=ci(i,r,n,a,t[11],10,-1120210379),a=ci(a,i,r,n,t[2],15,718787259),n=ci(n,a,i,r,t[9],21,-343485551),e[0]=Gu(r,e[0]),e[1]=Gu(n,e[1]),e[2]=Gu(a,e[2]),e[3]=Gu(i,e[3])}function p5(e,t,r,n,a,i){return t=Gu(Gu(t,e),Gu(n,i)),Gu(t<<a|t>>>32-a,r)}function si(e,t,r,n,a,i,s){return p5(t&r|~t&n,e,t,a,i,s)}function oi(e,t,r,n,a,i,s){return p5(t&n|r&~n,e,t,a,i,s)}function li(e,t,r,n,a,i,s){return p5(t^r^n,e,t,a,i,s)}function ci(e,t,r,n,a,i,s){return p5(r^(t|~n),e,t,a,i,s)}function Nq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)FS(n,Yye(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(FS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,FS(n,a),n}function Yye(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}jg=Wt.atob.bind(Wt),CT=Wt.btoa.bind(Wt);var eL="0123456789abcdef".split("");function Xye(e){for(var t="",r=0;r<4;r++)t+=eL[e>>8*r+4&15]+eL[e>>8*r&15];return t}function Qye(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function NT(e){return Nq(e).map(Qye).join("")}var Jye=function(e){for(var t=0;t<e.length;t++)e[t]=Xye(e[t]);return e.join("")}(Nq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Gu(e,t){if(Jye){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function OT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,m="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^s);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var tL={print:4,modify:8,copy:16,"annot-forms":32};function Yd(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(tL.perm!==void 0)throw new Error("Invalid permission: "+o);a+=tL[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=NT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=OT(this.encryptionKey,this.padding)}function Xd(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function rL(e){if(Mr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){Wt.console&&sn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function gb(e){if(!(this instanceof gb))return new gb(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Oq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function mh(e,t,r,n,a){if(!(this instanceof mh))return new mh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Oq.call(this,n,a)}function m0(e,t,r,n,a){if(!(this instanceof m0))return new m0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Oq.call(this,n,a)}function qt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Mr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=rL;var m="1.3",p=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(L){m=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var y=d.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},_=b.COMPAT;function O(){this.saveGraphicsState(),ae(new Ot(ve,0,0,-ve,0,ti()*ve).toString()+" cm"),this.setFontSize(this.getFontSize()/ve),c="n",_=b.ADVANCED}function C(){this.restoreGraphicsState(),c="S",_=b.COMPAT}var N=d.__private__.combineFontStyleAndFontWeight=function(L,te){if(L=="bold"&&te=="normal"||L=="bold"&&te==400||L=="normal"&&te=="italic"||L=="bold"&&te=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return te&&(L=te==400||te==="normal"?L==="italic"?"italic":"normal":te!=700&&te!=="bold"||L!=="normal"?(te==700?"bold":te)+""+L:"bold"),L};d.advancedAPI=function(L){var te=_===b.COMPAT;return te&&O.call(this),typeof L!="function"||(L(this),te&&C.call(this)),this},d.compatAPI=function(L){var te=_===b.ADVANCED;return te&&C.call(this),typeof L!="function"||(L(this),te&&O.call(this)),this},d.isAdvancedAPI=function(){return _===b.ADVANCED};var T,S=function(L){if(_!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=d.roundToPrecision=d.__private__.roundToPrecision=function(L,te){var _e=t||te;if(isNaN(L)||isNaN(_e))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(_e).replace(/0+$/,"")};T=d.hpf=d.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var D=d.f2=d.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},E=d.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},P=d.scale=d.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return _===b.COMPAT?L*ve:_===b.ADVANCED?L:void 0},j=function(L){return _===b.COMPAT?ti()-L:_===b.ADVANCED?L:void 0},G=function(L){return P(j(L))};d.__private__.setPrecision=d.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var U,Q="00000000000000000000000000000000",J=d.__private__.getFileId=function(){return Q},z=d.__private__.setFileId=function(L){return Q=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(pn=new Yd(u.userPermissions,u.userPassword,u.ownerPassword,Q)),Q};d.setFileId=function(L){return z(L),this},d.getFileId=function(){return J()};var B=d.__private__.convertDateToPDFDate=function(L){var te=L.getTimezoneOffset(),_e=te<0?"+":"-",Te=Math.floor(Math.abs(te/60)),De=Math.abs(te%60),Je=[_e,q(Te),"'",q(De),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),Je].join("")},ee=d.__private__.convertPDFDateToDate=function(L){var te=parseInt(L.substr(2,4),10),_e=parseInt(L.substr(6,2),10)-1,Te=parseInt(L.substr(8,2),10),De=parseInt(L.substr(10,2),10),Je=parseInt(L.substr(12,2),10),ut=parseInt(L.substr(14,2),10);return new Date(te,_e,Te,De,Je,ut,0)},ne=d.__private__.setCreationDate=function(L){var te;if(L===void 0&&(L=new Date),L instanceof Date)te=B(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");te=L}return U=te},I=d.__private__.getCreationDate=function(L){var te=U;return L==="jsDate"&&(te=ee(U)),te};d.setCreationDate=function(L){return ne(L),this},d.getCreationDate=function(L){return I(L)};var F,q=d.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},Y=d.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},K=0,le=[],ce=[],X=0,he=[],de=[],H=!1,Ae=ce,Ee=function(){K=0,X=0,ce=[],le=[],he=[],me=wn(),ge=wn()};d.__private__.setCustomOutputDestination=function(L){H=!0,Ae=L};var Se=function(L){H||(Ae=L)};d.__private__.resetCustomOutputDestination=function(){H=!1,Ae=ce};var ae=d.__private__.out=function(L){return L=L.toString(),X+=L.length+1,Ae.push(L),Ae},Ce=d.__private__.write=function(L){return ae(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},Me=d.__private__.getArrayBuffer=function(L){for(var te=L.length,_e=new ArrayBuffer(te),Te=new Uint8Array(_e);te--;)Te[te]=L.charCodeAt(te);return _e},Be=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Be};var Ze=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(L){return Ze=_===b.ADVANCED?L/ve:L,this};var Re,Qe=d.__private__.getFontSize=d.getFontSize=function(){return _===b.COMPAT?Ze:Ze*ve},je=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(L){return je=L,this},d.__private__.getR2L=d.getR2L=function(){return je};var Ke,ot=d.__private__.setZoomMode=function(L){var te=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Re=L;else if(isNaN(L)){if(te.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Re=L}else Re=parseInt(L,10)};d.__private__.getZoomMode=function(){return Re};var it,ht=d.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ke=L};d.__private__.getPageMode=function(){return Ke};var yt=d.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');it=L};d.__private__.getLayoutMode=function(){return it},d.__private__.setDisplayMode=d.setDisplayMode=function(L,te,_e){return ot(L),yt(te),ht(_e),this};var xt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(L){if(Object.keys(xt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return xt[L]},d.__private__.getDocumentProperties=function(){return xt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(L){for(var te in xt)xt.hasOwnProperty(te)&&L[te]&&(xt[te]=L[te]);return this},d.__private__.setDocumentProperty=function(L,te){if(Object.keys(xt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return xt[L]=te};var dt,ve,Ge,Ye,Dt,Rt={},lr={},Xr=[],Xt={},ki={},Fr={},da={},Pi=null,Ir=0,$t=[],gr=new rL(d),Yi=e.hotfixes||[],Ln={},Ta={},Ci=[],Ot=function L(te,_e,Te,De,Je,ut){if(!(this instanceof L))return new L(te,_e,Te,De,Je,ut);isNaN(te)&&(te=1),isNaN(_e)&&(_e=0),isNaN(Te)&&(Te=0),isNaN(De)&&(De=1),isNaN(Je)&&(Je=0),isNaN(ut)&&(ut=0),this._matrix=[te,_e,Te,De,Je,ut]};Object.defineProperty(Ot.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Ot.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Ot.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Ot.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Ot.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Ot.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Ot.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ot.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ot.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ot.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ot.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(L)},Ot.prototype.multiply=function(L){var te=L.sx*this.sx+L.shy*this.shx,_e=L.sx*this.shy+L.shy*this.sy,Te=L.shx*this.sx+L.sy*this.shx,De=L.shx*this.shy+L.sy*this.sy,Je=L.tx*this.sx+L.ty*this.shx+this.tx,ut=L.tx*this.shy+L.ty*this.sy+this.ty;return new Ot(te,_e,Te,De,Je,ut)},Ot.prototype.decompose=function(){var L=this.sx,te=this.shy,_e=this.shx,Te=this.sy,De=this.tx,Je=this.ty,ut=Math.sqrt(L*L+te*te),At=(L/=ut)*_e+(te/=ut)*Te;_e-=L*At,Te-=te*At;var w=Math.sqrt(_e*_e+Te*Te);return At/=w,L*(Te/=w)<te*(_e/=w)&&(L=-L,te=-te,At=-At,ut=-ut),{scale:new Ot(ut,0,0,w,0,0),translate:new Ot(1,0,0,1,De,Je),rotate:new Ot(L,te,-te,L,0,0),skew:new Ot(1,0,At,1,0,0)}},Ot.prototype.toString=function(L){return this.join(" ")},Ot.prototype.inversed=function(){var L=this.sx,te=this.shy,_e=this.shx,Te=this.sy,De=this.tx,Je=this.ty,ut=1/(L*Te-te*_e),At=Te*ut,w=-te*ut,R=-_e*ut,W=L*ut;return new Ot(At,w,R,W,-At*De-R*Je,-w*De-W*Je)},Ot.prototype.applyToPoint=function(L){var te=L.x*this.sx+L.y*this.shx+this.tx,_e=L.x*this.shy+L.y*this.sy+this.ty;return new Xl(te,_e)},Ot.prototype.applyToRectangle=function(L){var te=this.applyToPoint(L),_e=this.applyToPoint(new Xl(L.x+L.w,L.y+L.h));return new lu(te.x,te.y,_e.x-te.x,_e.y-te.y)},Ot.prototype.clone=function(){var L=this.sx,te=this.shy,_e=this.shx,Te=this.sy,De=this.tx,Je=this.ty;return new Ot(L,te,_e,Te,De,Je)},d.Matrix=Ot;var ei=d.matrixMult=function(L,te){return te.multiply(L)},ra=new Ot(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=ra;var jn=function(L,te){if(!ki[L]){var _e=(te instanceof mh?"Sh":"P")+(Object.keys(Xt).length+1).toString(10);te.id=_e,ki[L]=_e,Xt[_e]=te,gr.publish("addPattern",te)}};d.ShadingPattern=mh,d.TilingPattern=m0,d.addShadingPattern=function(L,te){return S("addShadingPattern()"),jn(L,te),this},d.beginTilingPattern=function(L){S("beginTilingPattern()"),cu(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},d.endTilingPattern=function(L,te){S("endTilingPattern()"),te.stream=de[F].join(`
`),jn(L,te),gr.publish("endTilingPattern",te),Ci.pop().restore()};var kn=d.__private__.newObject=function(){var L=wn();return ie(L,!0),L},wn=d.__private__.newObjectDeferred=function(){return K++,le[K]=function(){return X},K},ie=function(L,te){return te=typeof te=="boolean"&&te,le[L]=X,te&&ae(L+" 0 obj"),L},be=d.__private__.newAdditionalObject=function(){var L={objId:wn(),content:""};return he.push(L),L},me=wn(),ge=wn(),xe=d.__private__.decodeColorString=function(L){var te=L.split(" ");if(te.length!==2||te[1]!=="g"&&te[1]!=="G")te.length===5&&(te[4]==="k"||te[4]==="K")&&(te=[(1-te[0])*(1-te[3]),(1-te[1])*(1-te[3]),(1-te[2])*(1-te[3]),"r"]);else{var _e=parseFloat(te[0]);te=[_e,_e,_e,"r"]}for(var Te="#",De=0;De<3;De++)Te+=("0"+Math.floor(255*parseFloat(te[De])).toString(16)).slice(-2);return Te},we=d.__private__.encodeColorString=function(L){var te;typeof L=="string"&&(L={ch1:L});var _e=L.ch1,Te=L.ch2,De=L.ch3,Je=L.ch4,ut=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof _e=="string"&&_e.charAt(0)!=="#"){var At=new Cq(_e);if(At.ok)_e=At.toHex();else if(!/^\d*\.?\d*$/.test(_e))throw new Error('Invalid color "'+_e+'" passed to jsPDF.encodeColorString.')}if(typeof _e=="string"&&/^#[0-9A-Fa-f]{3}$/.test(_e)&&(_e="#"+_e[1]+_e[1]+_e[2]+_e[2]+_e[3]+_e[3]),typeof _e=="string"&&/^#[0-9A-Fa-f]{6}$/.test(_e)){var w=parseInt(_e.substr(1),16);_e=w>>16&255,Te=w>>8&255,De=255&w}if(Te===void 0||Je===void 0&&_e===Te&&Te===De)if(typeof _e=="string")te=_e+" "+ut[0];else switch(L.precision){case 2:te=D(_e/255)+" "+ut[0];break;case 3:default:te=E(_e/255)+" "+ut[0]}else if(Je===void 0||Mr(Je)==="object"){if(Je&&!isNaN(Je.a)&&Je.a===0)return te=["1.","1.","1.",ut[1]].join(" ");if(typeof _e=="string")te=[_e,Te,De,ut[1]].join(" ");else switch(L.precision){case 2:te=[D(_e/255),D(Te/255),D(De/255),ut[1]].join(" ");break;default:case 3:te=[E(_e/255),E(Te/255),E(De/255),ut[1]].join(" ")}}else if(typeof _e=="string")te=[_e,Te,De,Je,ut[2]].join(" ");else switch(L.precision){case 2:te=[D(_e),D(Te),D(De),D(Je),ut[2]].join(" ");break;case 3:default:te=[E(_e),E(Te),E(De),E(Je),ut[2]].join(" ")}return te},Fe=d.__private__.getFilters=function(){return s},He=d.__private__.putStream=function(L){var te=(L=L||{}).data||"",_e=L.filters||Fe(),Te=L.alreadyAppliedFilters||[],De=L.addLength1||!1,Je=te.length,ut=L.objectId,At=function(er){return er};if(u!==null&&ut===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(At=pn.encryptor(ut,0));var w={};_e===!0&&(_e=["FlateEncode"]);var R=L.additionalKeyValues||[],W=(w=qt.API.processDataByFilters!==void 0?qt.API.processDataByFilters(te,_e):{data:te,reverseChain:[]}).reverseChain+(Array.isArray(Te)?Te.join(" "):Te.toString());if(w.data.length!==0&&(R.push({key:"Length",value:w.data.length}),De===!0&&R.push({key:"Length1",value:Je})),W.length!=0)if(W.split("/").length-1==1)R.push({key:"Filter",value:W});else{R.push({key:"Filter",value:"["+W+"]"});for(var ue=0;ue<R.length;ue+=1)if(R[ue].key==="DecodeParms"){for(var Ie=[],qe=0;qe<w.reverseChain.split("/").length-1;qe+=1)Ie.push("null");Ie.push(R[ue].value),R[ue].value="["+Ie.join(" ")+"]"}}ae("<<");for(var ft=0;ft<R.length;ft++)ae("/"+R[ft].key+" "+R[ft].value);ae(">>"),w.data.length!==0&&(ae("stream"),ae(At(w.data)),ae("endstream"))},$e=d.__private__.putPage=function(L){var te=L.number,_e=L.data,Te=L.objId,De=L.contentsObjId;ie(Te,!0),ae("<</Type /Page"),ae("/Parent "+L.rootDictionaryObjId+" 0 R"),ae("/Resources "+L.resourceDictionaryObjId+" 0 R"),ae("/MediaBox ["+parseFloat(T(L.mediaBox.bottomLeftX))+" "+parseFloat(T(L.mediaBox.bottomLeftY))+" "+T(L.mediaBox.topRightX)+" "+T(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&ae("/CropBox ["+T(L.cropBox.bottomLeftX)+" "+T(L.cropBox.bottomLeftY)+" "+T(L.cropBox.topRightX)+" "+T(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&ae("/BleedBox ["+T(L.bleedBox.bottomLeftX)+" "+T(L.bleedBox.bottomLeftY)+" "+T(L.bleedBox.topRightX)+" "+T(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&ae("/TrimBox ["+T(L.trimBox.bottomLeftX)+" "+T(L.trimBox.bottomLeftY)+" "+T(L.trimBox.topRightX)+" "+T(L.trimBox.topRightY)+"]"),L.artBox!==null&&ae("/ArtBox ["+T(L.artBox.bottomLeftX)+" "+T(L.artBox.bottomLeftY)+" "+T(L.artBox.topRightX)+" "+T(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&ae("/UserUnit "+L.userUnit),gr.publish("putPage",{objId:Te,pageContext:$t[te],pageNumber:te,page:_e}),ae("/Contents "+De+" 0 R"),ae(">>"),ae("endobj");var Je=_e.join(`
`);return _===b.ADVANCED&&(Je+=`
Q`),ie(De,!0),He({data:Je,filters:Fe(),objectId:De}),ae("endobj"),Te},Ve=d.__private__.putPages=function(){var L,te,_e=[];for(L=1;L<=Ir;L++)$t[L].objId=wn(),$t[L].contentsObjId=wn();for(L=1;L<=Ir;L++)_e.push($e({number:L,data:de[L],objId:$t[L].objId,contentsObjId:$t[L].contentsObjId,mediaBox:$t[L].mediaBox,cropBox:$t[L].cropBox,bleedBox:$t[L].bleedBox,trimBox:$t[L].trimBox,artBox:$t[L].artBox,userUnit:$t[L].userUnit,rootDictionaryObjId:me,resourceDictionaryObjId:ge}));ie(me,!0),ae("<</Type /Pages");var Te="/Kids [";for(te=0;te<Ir;te++)Te+=_e[te]+" 0 R ";ae(Te+"]"),ae("/Count "+Ir),ae(">>"),ae("endobj"),gr.publish("postPutPages")},We=function(L){gr.publish("putFont",{font:L,out:ae,newObject:kn,putStream:He}),L.isAlreadyPutted!==!0&&(L.objectNumber=kn(),ae("<<"),ae("/Type /Font"),ae("/BaseFont /"+Xd(L.postScriptName)),ae("/Subtype /Type1"),typeof L.encoding=="string"&&ae("/Encoding /"+L.encoding),ae("/FirstChar 32"),ae("/LastChar 255"),ae(">>"),ae("endobj"))},ct=function(){for(var L in Rt)Rt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&We(Rt[L])},vt=function(L){L.objectNumber=kn();var te=[];te.push({key:"Type",value:"/XObject"}),te.push({key:"Subtype",value:"/Form"}),te.push({key:"BBox",value:"["+[T(L.x),T(L.y),T(L.x+L.width),T(L.y+L.height)].join(" ")+"]"}),te.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var _e=L.pages[1].join(`
`);He({data:_e,additionalKeyValues:te,objectId:L.objectNumber}),ae("endobj")},Tt=function(){for(var L in Ln)Ln.hasOwnProperty(L)&&vt(Ln[L])},pt=function(L,te){var _e,Te=[],De=1/(te-1);for(_e=0;_e<1;_e+=De)Te.push(_e);if(Te.push(1),L[0].offset!=0){var Je={offset:0,color:L[0].color};L.unshift(Je)}if(L[L.length-1].offset!=1){var ut={offset:1,color:L[L.length-1].color};L.push(ut)}for(var At="",w=0,R=0;R<Te.length;R++){for(_e=Te[R];_e>L[w+1].offset;)w++;var W=L[w].offset,ue=(_e-W)/(L[w+1].offset-W),Ie=L[w].color,qe=L[w+1].color;At+=Y(Math.round((1-ue)*Ie[0]+ue*qe[0]).toString(16))+Y(Math.round((1-ue)*Ie[1]+ue*qe[1]).toString(16))+Y(Math.round((1-ue)*Ie[2]+ue*qe[2]).toString(16))}return At.trim()},wt=function(L,te){te||(te=21);var _e=kn(),Te=pt(L.colors,te),De=[];De.push({key:"FunctionType",value:"0"}),De.push({key:"Domain",value:"[0.0 1.0]"}),De.push({key:"Size",value:"["+te+"]"}),De.push({key:"BitsPerSample",value:"8"}),De.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),De.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),He({data:Te,additionalKeyValues:De,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:_e}),ae("endobj"),L.objectNumber=kn(),ae("<< /ShadingType "+L.type),ae("/ColorSpace /DeviceRGB");var Je="/Coords ["+T(parseFloat(L.coords[0]))+" "+T(parseFloat(L.coords[1]))+" ";L.type===2?Je+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3])):Je+=T(parseFloat(L.coords[2]))+" "+T(parseFloat(L.coords[3]))+" "+T(parseFloat(L.coords[4]))+" "+T(parseFloat(L.coords[5])),ae(Je+="]"),L.matrix&&ae("/Matrix ["+L.matrix.toString()+"]"),ae("/Function "+_e+" 0 R"),ae("/Extend [true true]"),ae(">>"),ae("endobj")},Ut=function(L,te){var _e=wn(),Te=kn();te.push({resourcesOid:_e,objectOid:Te}),L.objectNumber=Te;var De=[];De.push({key:"Type",value:"/Pattern"}),De.push({key:"PatternType",value:"1"}),De.push({key:"PaintType",value:"1"}),De.push({key:"TilingType",value:"1"}),De.push({key:"BBox",value:"["+L.boundingBox.map(T).join(" ")+"]"}),De.push({key:"XStep",value:T(L.xStep)}),De.push({key:"YStep",value:T(L.yStep)}),De.push({key:"Resources",value:_e+" 0 R"}),L.matrix&&De.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),He({data:L.stream,additionalKeyValues:De,objectId:L.objectNumber}),ae("endobj")},xr=function(L){var te;for(te in Xt)Xt.hasOwnProperty(te)&&(Xt[te]instanceof mh?wt(Xt[te]):Xt[te]instanceof m0&&Ut(Xt[te],L))},br=function(L){for(var te in L.objectNumber=kn(),ae("<<"),L)switch(te){case"opacity":ae("/ca "+D(L[te]));break;case"stroke-opacity":ae("/CA "+D(L[te]))}ae(">>"),ae("endobj")},Qr=function(){var L;for(L in Fr)Fr.hasOwnProperty(L)&&br(Fr[L])},Ni=function(){for(var L in ae("/XObject <<"),Ln)Ln.hasOwnProperty(L)&&Ln[L].objectNumber>=0&&ae("/"+L+" "+Ln[L].objectNumber+" 0 R");gr.publish("putXobjectDict"),ae(">>")},bo=function(){pn.oid=kn(),ae("<<"),ae("/Filter /Standard"),ae("/V "+pn.v),ae("/R "+pn.r),ae("/U <"+pn.toHexString(pn.U)+">"),ae("/O <"+pn.toHexString(pn.O)+">"),ae("/P "+pn.P),ae(">>"),ae("endobj")},ps=function(){for(var L in ae("/Font <<"),Rt)Rt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&ae("/"+L+" "+Rt[L].objectNumber+" 0 R");ae(">>")},Xi=function(){if(Object.keys(Xt).length>0){for(var L in ae("/Shading <<"),Xt)Xt.hasOwnProperty(L)&&Xt[L]instanceof mh&&Xt[L].objectNumber>=0&&ae("/"+L+" "+Xt[L].objectNumber+" 0 R");gr.publish("putShadingPatternDict"),ae(">>")}},ms=function(L){if(Object.keys(Xt).length>0){for(var te in ae("/Pattern <<"),Xt)Xt.hasOwnProperty(te)&&Xt[te]instanceof d.TilingPattern&&Xt[te].objectNumber>=0&&Xt[te].objectNumber<L&&ae("/"+te+" "+Xt[te].objectNumber+" 0 R");gr.publish("putTilingPatternDict"),ae(">>")}},Ra=function(){if(Object.keys(Fr).length>0){var L;for(L in ae("/ExtGState <<"),Fr)Fr.hasOwnProperty(L)&&Fr[L].objectNumber>=0&&ae("/"+L+" "+Fr[L].objectNumber+" 0 R");gr.publish("putGStateDict"),ae(">>")}},dn=function(L){ie(L.resourcesOid,!0),ae("<<"),ae("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ps(),Xi(),ms(L.objectOid),Ra(),Ni(),ae(">>"),ae("endobj")},$f=function(){var L=[];ct(),Qr(),Tt(),xr(L),gr.publish("putResources"),L.forEach(dn),dn({resourcesOid:ge,objectOid:Number.MAX_SAFE_INTEGER}),gr.publish("postPutResources")},Bf=function(){gr.publish("putAdditionalObjects");for(var L=0;L<he.length;L++){var te=he[L];ie(te.objId,!0),ae(te.content),ae("endobj")}gr.publish("postPutAdditionalObjects")},md=function(L){lr[L.fontName]=lr[L.fontName]||{},lr[L.fontName][L.fontStyle]=L.id},Vf=function(L,te,_e,Te,De){var Je={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:L,fontName:te,fontStyle:_e,encoding:Te,isStandardFont:De||!1,metadata:{}};return gr.publish("addFont",{font:Je,instance:this}),Rt[Je.id]=Je,md(Je),Je.id},gd=function(L){for(var te=0,_e=Be.length;te<_e;te++){var Te=Vf.call(this,L[te][0],L[te][1],L[te][2],Be[te][3],!0);f===!1&&(h[Te]=!0);var De=L[te][0].split("-");md({id:Te,fontName:De[0],fontStyle:De[1]||""})}gr.publish("addFonts",{fonts:Rt,dictionary:lr})},Qi=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Te){var te=Te.stack||"";~te.indexOf(" at ")&&(te=te.split(" at ")[1]);var _e="Error in function "+te.split(`
`)[0].split("<")[0]+": "+Te.message;if(!Wt.console)throw new Error(_e);Wt.console.error(_e,Te),Wt.alert&&alert(_e)}},L.foo.bar=L,L.foo},Xc=function(L,te){var _e,Te,De,Je,ut,At,w,R,W;if(De=(te=te||{}).sourceEncoding||"Unicode",ut=te.outputEncoding,(te.autoencode||ut)&&Rt[dt].metadata&&Rt[dt].metadata[De]&&Rt[dt].metadata[De].encoding&&(Je=Rt[dt].metadata[De].encoding,!ut&&Rt[dt].encoding&&(ut=Rt[dt].encoding),!ut&&Je.codePages&&(ut=Je.codePages[0]),typeof ut=="string"&&(ut=Je[ut]),ut)){for(w=!1,At=[],_e=0,Te=L.length;_e<Te;_e++)(R=ut[L.charCodeAt(_e)])?At.push(String.fromCharCode(R)):At.push(L[_e]),At[_e].charCodeAt(0)>>8&&(w=!0);L=At.join("")}for(_e=L.length;w===void 0&&_e!==0;)L.charCodeAt(_e-1)>>8&&(w=!0),_e--;if(!w)return L;for(At=te.noBOM?[]:[254,255],_e=0,Te=L.length;_e<Te;_e++){if((W=(R=L.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");At.push(W),At.push(R-(W<<8))}return String.fromCharCode.apply(void 0,At)},Mn=d.__private__.pdfEscape=d.pdfEscape=function(L,te){return Xc(L,te).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oi=d.__private__.beginPage=function(L){de[++Ir]=[],$t[Ir]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Uf(Ir),Se(de[F])},Wl=function(L,te){var _e,Te,De;switch(r=te||r,typeof L=="string"&&(_e=y(L.toLowerCase()),Array.isArray(_e)&&(Te=_e[0],De=_e[1])),Array.isArray(L)&&(Te=L[0]*ve,De=L[1]*ve),isNaN(Te)&&(Te=a[0],De=a[1]),(Te>14400||De>14400)&&(sn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Te=Math.min(14400,Te),De=Math.min(14400,De)),a=[Te,De],r.substr(0,1)){case"l":De>Te&&(a=[De,Te]);break;case"p":Te>De&&(a=[De,Te])}Oi(a),Gf(Hf),ae(Fa),Xf!==0&&ae(Xf+" J"),ou!==0&&ae(ou+" j"),gr.publish("addPage",{pageNumber:Ir})},Qc=function(L){L>0&&L<=Ir&&(de.splice(L,1),$t.splice(L,1),Ir--,F>Ir&&(F=Ir),this.setPage(F))},Uf=function(L){L>0&&L<=Ir&&(F=L)},Ur=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return de.length-1},Hl=function(L,te,_e){var Te,De=void 0;return _e=_e||{},L=L!==void 0?L:Rt[dt].fontName,te=te!==void 0?te:Rt[dt].fontStyle,Te=L.toLowerCase(),lr[Te]!==void 0&&lr[Te][te]!==void 0?De=lr[Te][te]:lr[L]!==void 0&&lr[L][te]!==void 0?De=lr[L][te]:_e.disableWarning===!1&&sn.warn("Unable to look up font label for font '"+L+"', '"+te+"'. Refer to getFontList() for available fonts."),De||_e.noFallback||(De=lr.times[te])==null&&(De=lr.times.normal),De},Gl=d.__private__.putInfo=function(){var L=kn(),te=function(Te){return Te};for(var _e in u!==null&&(te=pn.encryptor(L,0)),ae("<<"),ae("/Producer ("+Mn(te("jsPDF "+qt.version))+")"),xt)xt.hasOwnProperty(_e)&&xt[_e]&&ae("/"+_e.substr(0,1).toUpperCase()+_e.substr(1)+" ("+Mn(te(xt[_e]))+")");ae("/CreationDate ("+Mn(te(U))+")"),ae(">>"),ae("endobj")},wo=d.__private__.putCatalog=function(L){var te=(L=L||{}).rootDictionaryObjId||me;switch(kn(),ae("<<"),ae("/Type /Catalog"),ae("/Pages "+te+" 0 R"),Re||(Re="fullwidth"),Re){case"fullwidth":ae("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ae("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ae("/OpenAction [3 0 R /Fit]");break;case"original":ae("/OpenAction [3 0 R /XYZ null null 1]");break;default:var _e=""+Re;_e.substr(_e.length-1)==="%"&&(Re=parseInt(Re)/100),typeof Re=="number"&&ae("/OpenAction [3 0 R /XYZ null null "+D(Re)+"]")}switch(it||(it="continuous"),it){case"continuous":ae("/PageLayout /OneColumn");break;case"single":ae("/PageLayout /SinglePage");break;case"two":case"twoleft":ae("/PageLayout /TwoColumnLeft");break;case"tworight":ae("/PageLayout /TwoColumnRight")}Ke&&ae("/PageMode /"+Ke),gr.publish("putCatalog"),ae(">>"),ae("endobj")},am=d.__private__.putTrailer=function(){ae("trailer"),ae("<<"),ae("/Size "+(K+1)),ae("/Root "+K+" 0 R"),ae("/Info "+(K-1)+" 0 R"),u!==null&&ae("/Encrypt "+pn.oid+" 0 R"),ae("/ID [ <"+Q+"> <"+Q+"> ]"),ae(">>")},vd=d.__private__.putHeader=function(){ae("%PDF-"+m),ae("%ºß¬à")},im=d.__private__.putXRef=function(){var L="0000000000";ae("xref"),ae("0 "+(K+1)),ae("0000000000 65535 f ");for(var te=1;te<=K;te++)typeof le[te]=="function"?ae((L+le[te]()).slice(-10)+" 00000 n "):le[te]!==void 0?ae((L+le[te]).slice(-10)+" 00000 n "):ae("0000000000 00000 n ")},_o=d.__private__.buildDocument=function(){Ee(),Se(ce),gr.publish("buildDocument"),vd(),Ve(),Bf(),$f(),u!==null&&bo(),Gl(),wo();var L=X;return im(),am(),ae("startxref"),ae(""+L),ae("%%EOF"),Se(de[F]),ce.join(`
`)},Jc=d.__private__.getBlob=function(L){return new Blob([Me(L)],{type:"application/pdf"})},Zc=d.output=d.__private__.output=Qi(function(L,te){switch(typeof(te=te||{})=="string"?te={filename:te}:te.filename=te.filename||"generated.pdf",L){case void 0:return _o();case"save":d.save(te.filename);break;case"arraybuffer":return Me(_o());case"blob":return Jc(_o());case"bloburi":case"bloburl":if(Wt.URL!==void 0&&typeof Wt.URL.createObjectURL=="function")return Wt.URL&&Wt.URL.createObjectURL(Jc(_o()))||void 0;sn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var _e="",Te=_o();try{_e=CT(Te)}catch{_e=CT(unescape(encodeURIComponent(Te)))}return"data:application/pdf;filename="+te.filename+";base64,"+_e;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var De="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';te.pdfObjectUrl&&(De=te.pdfObjectUrl,Je="");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+De+'"'+Je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(te)+");<\/script></body></html>",At=Wt.open();return At!==null&&At.document.write(ut),At}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Wt)==="[object Window]"){var w='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(te.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+te.filename+'" width="500px" height="400px" /></body></html>',R=Wt.open();if(R!==null){R.document.write(w);var W=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=te.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(W.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Wt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ue='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",te)+'"></iframe></body></html>',Ie=Wt.open();if(Ie!==null&&(Ie.document.write(ue),Ie.document.title=te.filename),Ie||typeof safari>"u")return Ie;break;case"datauri":case"dataurl":return Wt.document.location.href=this.output("datauristring",te);default:return null}}),ol=function(L){return Array.isArray(Yi)===!0&&Yi.indexOf(L)>-1};switch(n){case"pt":ve=1;break;case"mm":ve=72/25.4;break;case"cm":ve=72/2.54;break;case"in":ve=72;break;case"px":ve=ol("px_scaling")==1?.75:96/72;break;case"pc":case"em":ve=12;break;case"ex":ve=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ve=n}var pn=null;ne(),z();var yd=function(L){return u!==null?pn.encryptor(L,0):function(te){return te}},zf=d.__private__.getPageInfo=d.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[L].objId,pageNumber:L,pageContext:$t[L]}},Gt=d.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var te in $t)if($t[te].objId===L)break;return zf(te)},ll=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:$t[F].objId,pageNumber:F,pageContext:$t[F]}};d.addPage=function(){return Wl.apply(this,arguments),this},d.setPage=function(){return Uf.apply(this,arguments),Se.call(this,de[F]),this},d.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},d.movePage=function(L,te){var _e,Te;if(L>te){_e=de[L],Te=$t[L];for(var De=L;De>te;De--)de[De]=de[De-1],$t[De]=$t[De-1];de[te]=_e,$t[te]=Te,this.setPage(te)}else if(L<te){_e=de[L],Te=$t[L];for(var Je=L;Je<te;Je++)de[Je]=de[Je+1],$t[Je]=$t[Je+1];de[te]=_e,$t[te]=Te,this.setPage(te)}return this},d.deletePage=function(){return Qc.apply(this,arguments),this},d.__private__.text=d.text=function(L,te,_e,Te,De){var Je,ut,At,w,R,W,ue,Ie,qe,ft=(Te=Te||{}).scope||this;if(typeof L=="number"&&typeof te=="number"&&(typeof _e=="string"||Array.isArray(_e))){var er=_e;_e=te,te=L,L=er}if(arguments[3]instanceof Ot?(S("The transform parameter of text() with a Matrix value"),qe=De):(At=arguments[4],w=arguments[5],Mr(ue=arguments[3])==="object"&&ue!==null||(typeof At=="string"&&(w=At,At=null),typeof ue=="string"&&(w=ue,ue=null),typeof ue=="number"&&(At=ue,ue=null),Te={flags:ue,angle:At,align:w})),isNaN(te)||isNaN(_e)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return ft;var hr="",tr=!1,Br=typeof Te.lineHeightFactor=="number"?Te.lineHeightFactor:$r,nn=ft.internal.scaleFactor;function ko(ln){return ln=ln.split("	").join(Array(Te.TabLen||9).join(" ")),Mn(ln,ue)}function $a(ln){for(var cn,Kn=ln.concat(),ma=[],tc=Kn.length;tc--;)typeof(cn=Kn.shift())=="string"?ma.push(cn):Array.isArray(ln)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?ma.push(cn[0]):ma.push([cn[0],cn[1],cn[2]]);return ma}function hl(ln,cn){var Kn;if(typeof ln=="string")Kn=cn(ln)[0];else if(Array.isArray(ln)){for(var ma,tc,pm=ln.concat(),Od=[],oy=pm.length;oy--;)typeof(ma=pm.shift())=="string"?Od.push(cn(ma)[0]):Array.isArray(ma)&&typeof ma[0]=="string"&&(tc=cn(ma[0],ma[1],ma[2]),Od.push([tc[0],tc[1],tc[2]]));Kn=Od}return Kn}var dl=!1,om=!0;if(typeof L=="string")dl=!0;else if(Array.isArray(L)){var lm=L.concat();ut=[];for(var Sd,Ba=lm.length;Ba--;)(typeof(Sd=lm.shift())!="string"||Array.isArray(Sd)&&typeof Sd[0]!="string")&&(om=!1);dl=om}if(dl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Ad=Ze/ft.internal.scaleFactor,Td=Ad*(Br-1);switch(Te.baseline){case"bottom":_e-=Td;break;case"top":_e+=Ad-Td;break;case"hanging":_e+=Ad-2*Td;break;case"middle":_e+=Ad/2-Td}if((W=Te.maxWidth||0)>0&&(typeof L=="string"?L=ft.splitTextToSize(L,W):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(ln,cn){return ln.concat(ft.splitTextToSize(cn,W))},[]))),Je={text:L,x:te,y:_e,options:Te,mutex:{pdfEscape:Mn,activeFontKey:dt,fonts:Rt,activeFontSize:Ze}},gr.publish("preProcessText",Je),L=Je.text,At=(Te=Je.options).angle,!(qe instanceof Ot)&&At&&typeof At=="number"){At*=Math.PI/180,Te.rotationDirection===0&&(At=-At),_===b.ADVANCED&&(At=-At);var Ed=Math.cos(At),cm=Math.sin(At);qe=new Ot(Ed,cm,-cm,Ed,0,0)}else At&&At instanceof Ot&&(qe=At);_!==b.ADVANCED||qe||(qe=ra),(R=Te.charSpace||Yl)!==void 0&&(hr+=T(P(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ie=Te.horizontalScale)!==void 0&&(hr+=T(100*Ie)+` Tz
`),Te.lang;var Ji=-1,n_=Te.renderingMode!==void 0?Te.renderingMode:Te.stroke,um=ft.internal.getCurrentPageInfo().pageContext;switch(n_){case 0:case!1:case"fill":Ji=0;break;case 1:case!0:case"stroke":Ji=1;break;case 2:case"fillThenStroke":Ji=2;break;case 3:case"invisible":Ji=3;break;case 4:case"fillAndAddForClipping":Ji=4;break;case 5:case"strokeAndAddPathForClipping":Ji=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ji=6;break;case 7:case"addToPathForClipping":Ji=7}var ny=um.usedRenderingMode!==void 0?um.usedRenderingMode:-1;Ji!==-1?hr+=Ji+` Tr
`:ny!==-1&&(hr+=`0 Tr
`),Ji!==-1&&(um.usedRenderingMode=Ji),w=Te.align||"left";var Vs,kd=Ze*Br,ay=ft.internal.pageSize.getWidth(),iy=Rt[dt];R=Te.charSpace||Yl,W=Te.maxWidth||0,ue=Object.assign({autoencode:!0,noBOM:!0},Te.flags);var hu=[],Qf=function(ln){return ft.getStringUnitWidth(ln,{font:iy,charSpace:R,fontSize:Ze,doKerning:!1})*Ze/nn};if(Object.prototype.toString.call(L)==="[object Array]"){var Zi;ut=$a(L),w!=="left"&&(Vs=ut.map(Qf));var Ii,du=0;if(w==="right"){te-=Vs[0],L=[],Ba=ut.length;for(var Jl=0;Jl<Ba;Jl++)Jl===0?(Ii=ys(te),Zi=pa(_e)):(Ii=P(du-Vs[Jl]),Zi=-kd),L.push([ut[Jl],Ii,Zi]),du=Vs[Jl]}else if(w==="center"){te-=Vs[0]/2,L=[],Ba=ut.length;for(var Zl=0;Zl<Ba;Zl++)Zl===0?(Ii=ys(te),Zi=pa(_e)):(Ii=P((du-Vs[Zl])/2),Zi=-kd),L.push([ut[Zl],Ii,Zi]),du=Vs[Zl]}else if(w==="left"){L=[],Ba=ut.length;for(var Pd=0;Pd<Ba;Pd++)L.push(ut[Pd])}else if(w==="justify"&&iy.encoding==="Identity-H"){L=[],Ba=ut.length,W=W!==0?W:ay;for(var ec=0,Gn=0;Gn<Ba;Gn++)if(Zi=Gn===0?pa(_e):-kd,Ii=Gn===0?ys(te):ec,Gn<Ba-1){var fm=P((W-Vs[Gn])/(ut[Gn].split(" ").length-1)),Di=ut[Gn].split(" ");L.push([Di[0]+" ",Ii,Zi]),ec=0;for(var Us=1;Us<Di.length;Us++){var Cd=(Qf(Di[Us-1]+" "+Di[Us])-Qf(Di[Us]))*nn+fm;Us==Di.length-1?L.push([Di[Us],Cd,0]):L.push([Di[Us]+" ",Cd,0]),ec-=Cd}}else L.push([ut[Gn],Ii,Zi]);L.push(["",ec,0])}else{if(w!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Ba=ut.length,W=W!==0?W:ay,Gn=0;Gn<Ba;Gn++)Zi=Gn===0?pa(_e):-kd,Ii=Gn===0?ys(te):0,Gn<Ba-1?hu.push(T(P((W-Vs[Gn])/(ut[Gn].split(" ").length-1)))):hu.push(0),L.push([ut[Gn],Ii,Zi])}}var sy=typeof Te.R2L=="boolean"?Te.R2L:je;sy===!0&&(L=hl(L,function(ln,cn,Kn){return[ln.split("").reverse().join(""),cn,Kn]})),Je={text:L,x:te,y:_e,options:Te,mutex:{pdfEscape:Mn,activeFontKey:dt,fonts:Rt,activeFontSize:Ze}},gr.publish("postProcessText",Je),L=Je.text,tr=Je.mutex.isHex||!1;var hm=Rt[dt].encoding;hm!=="WinAnsiEncoding"&&hm!=="StandardEncoding"||(L=hl(L,function(ln,cn,Kn){return[ko(ln),cn,Kn]})),ut=$a(L),L=[];for(var Jf,Zf,pu,eh=0,Nd=1,th=Array.isArray(ut[0])?Nd:eh,mu="",dm=function(ln,cn,Kn){var ma="";return Kn instanceof Ot?(Kn=typeof Te.angle=="number"?ei(Kn,new Ot(1,0,0,1,ln,cn)):ei(new Ot(1,0,0,1,ln,cn),Kn),_===b.ADVANCED&&(Kn=ei(new Ot(1,0,0,-1,0,0),Kn)),ma=Kn.join(" ")+` Tm
`):ma=T(ln)+" "+T(cn)+` Td
`,ma},zs=0;zs<ut.length;zs++){switch(mu="",th){case Nd:pu=(tr?"<":"(")+ut[zs][0]+(tr?">":")"),Jf=parseFloat(ut[zs][1]),Zf=parseFloat(ut[zs][2]);break;case eh:pu=(tr?"<":"(")+ut[zs]+(tr?">":")"),Jf=ys(te),Zf=pa(_e)}hu!==void 0&&hu[zs]!==void 0&&(mu=hu[zs]+` Tw
`),zs===0?L.push(mu+dm(Jf,Zf,qe)+pu):th===eh?L.push(mu+pu):th===Nd&&L.push(mu+dm(Jf,Zf,qe)+pu)}L=th===eh?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var qs=`BT
/`;return qs+=dt+" "+Ze+` Tf
`,qs+=T(Ze*Br)+` TL
`,qs+=To+`
`,qs+=hr,qs+=L,ae(qs+="ET"),h[dt]=!0,ft};var sm=d.__private__.clip=d.clip=function(L){return ae(L==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return sm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return ae("n"),this};var Bs=d.__private__.isValidStyle=function(L){var te=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(te=!0),te};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(L){return Bs(L)&&(c=L),this};var xd=d.__private__.getStyle=d.getStyle=function(L){var te=c;switch(L){case"D":case"S":te="S";break;case"F":te="f";break;case"FD":case"DF":te="B";break;case"f":case"f*":case"B":case"B*":te=L}return te},gs=d.close=function(){return ae("h"),this};d.stroke=function(){return ae("S"),this},d.fill=function(L){return eu("f",L),this},d.fillEvenOdd=function(L){return eu("f*",L),this},d.fillStroke=function(L){return eu("B",L),this},d.fillStrokeEvenOdd=function(L){return eu("B*",L),this};var eu=function(L,te){Mr(te)==="object"?ru(te,L):ae(L)},qf=function(L){L===null||_===b.ADVANCED&&L===void 0||(L=xd(L),ae(L))};function tu(L,te,_e,Te,De){var Je=new m0(te||this.boundingBox,_e||this.xStep,Te||this.yStep,this.gState,De||this.matrix);Je.stream=this.stream;var ut=L+"$$"+this.cloneIndex+++"$$";return jn(ut,Je),Je}var ru=function(L,te){var _e=ki[L.key],Te=Xt[_e];if(Te instanceof mh)ae("q"),ae(bd(te)),Te.gState&&d.setGState(Te.gState),ae(L.matrix.toString()+" cm"),ae("/"+_e+" sh"),ae("Q");else if(Te instanceof m0){var De=new Ot(1,0,0,-1,0,ti());L.matrix&&(De=De.multiply(L.matrix||ra),_e=tu.call(Te,L.key,L.boundingBox,L.xStep,L.yStep,De).id),ae("q"),ae("/Pattern cs"),ae("/"+_e+" scn"),Te.gState&&d.setGState(Te.gState),ae(te),ae("Q")}},bd=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},So=d.moveTo=function(L,te){return ae(T(P(L))+" "+T(G(te))+" m"),this},vs=d.lineTo=function(L,te){return ae(T(P(L))+" "+T(G(te))+" l"),this},Ao=d.curveTo=function(L,te,_e,Te,De,Je){return ae([T(P(L)),T(G(te)),T(P(_e)),T(G(Te)),T(P(De)),T(G(Je)),"c"].join(" ")),this};d.__private__.line=d.line=function(L,te,_e,Te,De){if(isNaN(L)||isNaN(te)||isNaN(_e)||isNaN(Te)||!Bs(De))throw new Error("Invalid arguments passed to jsPDF.line");return _===b.COMPAT?this.lines([[_e-L,Te-te]],L,te,[1,1],De||"S"):this.lines([[_e-L,Te-te]],L,te,[1,1]).stroke()},d.__private__.lines=d.lines=function(L,te,_e,Te,De,Je){var ut,At,w,R,W,ue,Ie,qe,ft,er,hr,tr;if(typeof L=="number"&&(tr=_e,_e=te,te=L,L=tr),Te=Te||[1,1],Je=Je||!1,isNaN(te)||isNaN(_e)||!Array.isArray(L)||!Array.isArray(Te)||!Bs(De)||typeof Je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(So(te,_e),ut=Te[0],At=Te[1],R=L.length,er=te,hr=_e,w=0;w<R;w++)(W=L[w]).length===2?(er=W[0]*ut+er,hr=W[1]*At+hr,vs(er,hr)):(ue=W[0]*ut+er,Ie=W[1]*At+hr,qe=W[2]*ut+er,ft=W[3]*At+hr,er=W[4]*ut+er,hr=W[5]*At+hr,Ao(ue,Ie,qe,ft,er,hr));return Je&&gs(),qf(De),this},d.path=function(L){for(var te=0;te<L.length;te++){var _e=L[te],Te=_e.c;switch(_e.op){case"m":So(Te[0],Te[1]);break;case"l":vs(Te[0],Te[1]);break;case"c":Ao.apply(this,Te);break;case"h":gs()}}return this},d.__private__.rect=d.rect=function(L,te,_e,Te,De){if(isNaN(L)||isNaN(te)||isNaN(_e)||isNaN(Te)||!Bs(De))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b.COMPAT&&(Te=-Te),ae([T(P(L)),T(G(te)),T(P(_e)),T(P(Te)),"re"].join(" ")),qf(De),this},d.__private__.triangle=d.triangle=function(L,te,_e,Te,De,Je,ut){if(isNaN(L)||isNaN(te)||isNaN(_e)||isNaN(Te)||isNaN(De)||isNaN(Je)||!Bs(ut))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[_e-L,Te-te],[De-_e,Je-Te],[L-De,te-Je]],L,te,[1,1],ut,!0),this},d.__private__.roundedRect=d.roundedRect=function(L,te,_e,Te,De,Je,ut){if(isNaN(L)||isNaN(te)||isNaN(_e)||isNaN(Te)||isNaN(De)||isNaN(Je)||!Bs(ut))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var At=4/3*(Math.SQRT2-1);return De=Math.min(De,.5*_e),Je=Math.min(Je,.5*Te),this.lines([[_e-2*De,0],[De*At,0,De,Je-Je*At,De,Je],[0,Te-2*Je],[0,Je*At,-De*At,Je,-De,Je],[2*De-_e,0],[-De*At,0,-De,-Je*At,-De,-Je],[0,2*Je-Te],[0,-Je*At,De*At,-Je,De,-Je]],L+De,te,[1,1],ut,!0),this},d.__private__.ellipse=d.ellipse=function(L,te,_e,Te,De){if(isNaN(L)||isNaN(te)||isNaN(_e)||isNaN(Te)||!Bs(De))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Je=4/3*(Math.SQRT2-1)*_e,ut=4/3*(Math.SQRT2-1)*Te;return So(L+_e,te),Ao(L+_e,te-ut,L+Je,te-Te,L,te-Te),Ao(L-Je,te-Te,L-_e,te-ut,L-_e,te),Ao(L-_e,te+ut,L-Je,te+Te,L,te+Te),Ao(L+Je,te+Te,L+_e,te+ut,L+_e,te),qf(De),this},d.__private__.circle=d.circle=function(L,te,_e,Te){if(isNaN(L)||isNaN(te)||isNaN(_e)||!Bs(Te))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,te,_e,_e,Te)},d.setFont=function(L,te,_e){return _e&&(te=N(te,_e)),dt=Hl(L,te,{disableWarning:!1}),this};var Wf=d.__private__.getFont=d.getFont=function(){return Rt[Hl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var L,te,_e={};for(L in lr)if(lr.hasOwnProperty(L))for(te in _e[L]=[],lr[L])lr[L].hasOwnProperty(te)&&_e[L].push(te);return _e},d.addFont=function(L,te,_e,Te,De){var Je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Je.indexOf(arguments[3])!==-1?De=arguments[3]:arguments[3]&&Je.indexOf(arguments[3])==-1&&(_e=N(_e,Te)),De=De||"Identity-H",Vf.call(this,L,te,_e,De)};var $r,Hf=e.lineWidth||.200025,nu=d.__private__.getLineWidth=d.getLineWidth=function(){return Hf},Gf=d.__private__.setLineWidth=d.setLineWidth=function(L){return Hf=L,ae(T(P(L))+" w"),this};d.__private__.setLineDash=qt.API.setLineDash=qt.API.setLineDashPattern=function(L,te){if(L=L||[],te=te||0,isNaN(te)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(_e){return T(P(_e))}).join(" "),te=T(P(te)),ae("["+L+"] "+te+" d"),this};var Kf=d.__private__.getLineHeight=d.getLineHeight=function(){return Ze*$r};d.__private__.getLineHeight=d.getLineHeight=function(){return Ze*$r};var Yf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&($r=L),this},Kl=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return $r};Yf(e.lineHeight);var ys=d.__private__.getHorizontalCoordinate=function(L){return P(L)},pa=d.__private__.getVerticalCoordinate=function(L){return _===b.ADVANCED?L:$t[F].mediaBox.topRightY-$t[F].mediaBox.bottomLeftY-P(L)},wd=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(L){return T(ys(L))},cl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(L){return T(pa(L))},Fa=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return xe(Fa)},d.__private__.setStrokeColor=d.setDrawColor=function(L,te,_e,Te){return Fa=we({ch1:L,ch2:te,ch3:_e,ch4:Te,pdfColorType:"draw",precision:2}),ae(Fa),this};var au=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return xe(au)},d.__private__.setFillColor=d.setFillColor=function(L,te,_e,Te){return au=we({ch1:L,ch2:te,ch3:_e,ch4:Te,pdfColorType:"fill",precision:2}),ae(au),this};var To=e.textColor||"0 g",iu=d.__private__.getTextColor=d.getTextColor=function(){return xe(To)};d.__private__.setTextColor=d.setTextColor=function(L,te,_e,Te){return To=we({ch1:L,ch2:te,ch3:_e,ch4:Te,pdfColorType:"text",precision:3}),this};var Yl=e.charSpace,su=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Yl||0)};d.__private__.setCharSpace=d.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yl=L,this};var Xf=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(L){var te=d.CapJoinStyles[L];if(te===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=te,ae(te+" J"),this};var ou=0;d.__private__.setLineJoin=d.setLineJoin=function(L){var te=d.CapJoinStyles[L];if(te===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ou=te,ae(te+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ae(T(P(L))+" M"),this},d.GState=gb,d.setGState=function(L){(L=typeof L=="string"?Fr[da[L]]:ul(null,L)).equals(Pi)||(ae("/"+L.id+" gs"),Pi=L)};var ul=function(L,te){if(!L||!da[L]){var _e=!1;for(var Te in Fr)if(Fr.hasOwnProperty(Te)&&Fr[Te].equals(te)){_e=!0;break}if(_e)te=Fr[Te];else{var De="GS"+(Object.keys(Fr).length+1).toString(10);Fr[De]=te,te.id=De}return L&&(da[L]=te.id),gr.publish("addGState",te),te}};d.addGState=function(L,te){return ul(L,te),this},d.saveGraphicsState=function(){return ae("q"),Xr.push({key:dt,size:Ze,color:To}),this},d.restoreGraphicsState=function(){ae("Q");var L=Xr.pop();return dt=L.key,Ze=L.size,To=L.color,Pi=null,this},d.setCurrentTransformationMatrix=function(L){return ae(L.toString()+" cm"),this},d.comment=function(L){return ae("#"+L),this};var Xl=function(L,te){var _e=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return _e},set:function(Je){isNaN(Je)||(_e=parseFloat(Je))}});var Te=te||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Te},set:function(Je){isNaN(Je)||(Te=parseFloat(Je))}});var De="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return De},set:function(Je){De=Je.toString()}}),this},lu=function(L,te,_e,Te){Xl.call(this,L,te),this.type="rect";var De=_e||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return De},set:function(ut){isNaN(ut)||(De=parseFloat(ut))}});var Je=Te||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Je},set:function(ut){isNaN(ut)||(Je=parseFloat(ut))}}),this},Ql=function(){this.page=Ir,this.currentPage=F,this.pages=de.slice(0),this.pagesContext=$t.slice(0),this.x=Ge,this.y=Ye,this.matrix=Dt,this.width=fl(F),this.height=ti(F),this.outputDestination=Ae,this.id="",this.objectNumber=-1};Ql.prototype.restore=function(){Ir=this.page,F=this.currentPage,$t=this.pagesContext,de=this.pages,Ge=this.x,Ye=this.y,Dt=this.matrix,uu(F,this.width),fu(F,this.height),Ae=this.outputDestination};var cu=function(L,te,_e,Te,De){Ci.push(new Ql),Ir=F=0,de=[],Ge=L,Ye=te,Dt=De,Oi([_e,Te])},_d=function(L){if(Ta[L])Ci.pop().restore();else{var te=new Ql,_e="Xo"+(Object.keys(Ln).length+1).toString(10);te.id=_e,Ta[L]=_e,Ln[_e]=te,gr.publish("addFormObject",te),Ci.pop().restore()}};for(var Eo in d.beginFormObject=function(L,te,_e,Te,De){return cu(L,te,_e,Te,De),this},d.endFormObject=function(L){return _d(L),this},d.doFormObject=function(L,te){var _e=Ln[Ta[L]];return ae("q"),ae(te.toString()+" cm"),ae("/"+_e.id+" Do"),ae("Q"),this},d.getFormObject=function(L){var te=Ln[Ta[L]];return{x:te.x,y:te.y,width:te.width,height:te.height,matrix:te.matrix}},d.save=function(L,te){return L=L||"generated.pdf",(te=te||{}).returnPromise=te.returnPromise||!1,te.returnPromise===!1?(uh(Jc(_o()),L),typeof uh.unload=="function"&&Wt.setTimeout&&setTimeout(uh.unload,911),this):new Promise(function(_e,Te){try{var De=uh(Jc(_o()),L);typeof uh.unload=="function"&&Wt.setTimeout&&setTimeout(uh.unload,911),_e(De)}catch(Je){Te(Je.message)}})},qt.API)qt.API.hasOwnProperty(Eo)&&(Eo==="events"&&qt.API.events.length?function(L,te){var _e,Te,De;for(De=te.length-1;De!==-1;De--)_e=te[De][0],Te=te[De][1],L.subscribe.apply(L,[_e].concat(typeof Te=="function"?[Te]:Te))}(gr,qt.API.events):d[Eo]=qt.API[Eo]);var fl=d.getPageWidth=function(L){return($t[L=L||F].mediaBox.topRightX-$t[L].mediaBox.bottomLeftX)/ve},uu=d.setPageWidth=function(L,te){$t[L].mediaBox.topRightX=te*ve+$t[L].mediaBox.bottomLeftX},ti=d.getPageHeight=function(L){return($t[L=L||F].mediaBox.topRightY-$t[L].mediaBox.bottomLeftY)/ve},fu=d.setPageHeight=function(L,te){$t[L].mediaBox.topRightY=te*ve+$t[L].mediaBox.bottomLeftY};return d.internal={pdfEscape:Mn,getStyle:xd,getFont:Wf,getFontSize:Qe,getCharSpace:su,getTextColor:iu,getLineHeight:Kf,getLineHeightFactor:Kl,getLineWidth:nu,write:Ce,getHorizontalCoordinate:ys,getVerticalCoordinate:pa,getCoordinateString:wd,getVerticalCoordinateString:cl,collections:{},newObject:kn,newAdditionalObject:be,newObjectDeferred:wn,newObjectDeferredBegin:ie,getFilters:Fe,putStream:He,events:gr,scaleFactor:ve,pageSize:{getWidth:function(){return fl(F)},setWidth:function(L){uu(F,L)},getHeight:function(){return ti(F)},setHeight:function(L){fu(F,L)}},encryptionOptions:u,encryption:pn,getEncryptor:yd,output:Zc,getNumberOfPages:Ur,pages:de,out:ae,f2:D,f3:E,getPageInfo:zf,getPageInfoByObjId:Gt,getCurrentPageInfo:ll,getPDFVersion:p,Point:Xl,Rectangle:lu,Matrix:Ot,hasHotfix:ol},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return fl(F)},set:function(L){uu(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ti(F)},set:function(L){fu(F,L)},enumerable:!0,configurable:!0}),gd.call(d,Be),dt="F1",Wl(a,r),gr.publish("initialized"),d}Yd.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Yd.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Yd.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Yd.prototype.processOwnerPassword=function(e,t){return OT(NT(t).substr(0,5),e)},Yd.prototype.encryptor=function(e,t){var r=NT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return OT(r,n)}},gb.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Mr(e)!==Mr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},qt.API={events:[]},qt.version="3.0.1";var $n=qt.API,iC=1,ud=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$d=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rr=function(e){return e.toFixed(2)},ku=function(e){return e.toFixed(5)};$n.__acroform__={};var hs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},nL=function(e){return e*iC},yl=function(e){var t=new Dq,r=Mt.internal.getHeight(e)||0,n=Mt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(rr(n)),Number(rr(r))],t},Zye=$n.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},exe=$n.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},txe=$n.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Jn=$n.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return txe(e,t-1)},Zn=$n.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zye(e,t-1)},ea=$n.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return exe(e,t-1)},rxe=$n.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(rr(l.lowerLeft_X)),Number(rr(l.lowerLeft_Y)),Number(rr(l.upperRight_X)),Number(rr(l.upperRight_Y))]},nxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=IT(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+rr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=yl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},IT=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=r,s=Mt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Mt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(E,P,j){if(E+1<a.length){var G=P+" "+a[E+1][0];return dx(G,e,j).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=dx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,m=0,p=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+dx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,_=0;_<a.length;_++)if(a.hasOwnProperty(_)){var O=!1;if(a[_].length!==1&&v!==a[_].length-1){if((f+2)*(b+2)+2>s)continue e;y+=a[_][v],O=!0,p=_,_--}else{y=(y+=a[_][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var C=parseInt(_),N=l(C,y,i),T=_>=a.length-1;if(N&&!T){y+=" ",v=0;continue}if(N||T){if(T)p=C;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;p=C}}for(var S="",A=m;A<=p;A++){var D=a[A];if(e.multiline){if(A===p){S+=D[v]+" ",v=(v+1)%D.length;continue}if(A===m){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=dx(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=rr(c)+" "+rr(d)+` Td
`,t+="("+ud(S)+`) Tj
`,t+=-rr(c)+` 0 Td
`,d=-(i+2),u=0,m=O?p:p+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},dx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},axe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ixe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},sxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Mr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},oxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(al.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(axe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");iC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Lq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&ixe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=rxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Mt.createDefaultAppearanceStream(o),Mr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=nxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var m=d[s];typeof m=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m+" ",a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(a,o)),f+="/"+s+" "+m,a.internal.acroformPlugin.xForms.indexOf(m)>=0||a.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&sxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Iq=$n.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Mr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+ud(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$S=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+ud(n(e))+")"},Al=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Al.prototype.toString=function(){return this.objId+" 0 R"},Al.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Al.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Iq(a,this.objId,this.scope)}):a instanceof Al?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Dq=function(){Al.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};hs(Dq,Al);var Lq=function(){Al.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ud(r(e))+")"}},set:function(r){e=r}})};hs(Lq,Al);var al=function e(){Al.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Jn(t,3)},set:function(y){y?this.F=Zn(t,3):this.F=ea(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof vb)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+ud(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/iC:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof vb||this instanceof Dh))return $S(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Ia?h:$S(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof Ia?y:y.substr(0,1)==="("?$d(y.substr(1,y.length-2)):$d(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia?$d(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof Ia?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ia?d:$S(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof Ia?y:y.substr(0,1)==="("?$d(y.substr(1,y.length-2)):$d(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ia?$d(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Ia?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,p=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){y=!!y,p=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,1)},set:function(y){y?this.Ff=Zn(this.Ff,1):this.Ff=ea(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,2)},set:function(y){y?this.Ff=Zn(this.Ff,2):this.Ff=ea(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,3)},set:function(y){y?this.Ff=Zn(this.Ff,3):this.Ff=ea(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};hs(al,Al);var N0=function(){al.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Iq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,18)},set:function(r){r?this.Ff=Zn(this.Ff,18):this.Ff=ea(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Zn(this.Ff,19):this.Ff=ea(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,20)},set:function(r){r?(this.Ff=Zn(this.Ff,20),t.sort()):this.Ff=ea(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,22)},set:function(r){r?this.Ff=Zn(this.Ff,22):this.Ff=ea(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(r){r?this.Ff=Zn(this.Ff,23):this.Ff=ea(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,27)},set:function(r){r?this.Ff=Zn(this.Ff,27):this.Ff=ea(this.Ff,27)}}),this.hasAppearanceStream=!1};hs(N0,al);var O0=function(){N0.call(this),this.fontName="helvetica",this.combo=!1};hs(O0,N0);var I0=function(){O0.call(this),this.combo=!0};hs(I0,O0);var e2=function(){I0.call(this),this.edit=!0};hs(e2,I0);var Ia=function(){al.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,15)},set:function(r){r?this.Ff=Zn(this.Ff,15):this.Ff=ea(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,16)},set:function(r){r?this.Ff=Zn(this.Ff,16):this.Ff=ea(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,17)},set:function(r){r?this.Ff=Zn(this.Ff,17):this.Ff=ea(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(r){r?this.Ff=Zn(this.Ff,26):this.Ff=ea(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+ud(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Mr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};hs(Ia,al);var t2=function(){Ia.call(this),this.pushButton=!0};hs(t2,Ia);var D0=function(){Ia.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};hs(D0,Ia);var vb=function(){var e,t;al.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+ud(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Mr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hs(vb,al),D0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},D0.prototype.createOption=function(e){var t=new vb;return t.Parent=this,t.optionName=e,this.Kids.push(t),lxe.call(this.scope,t),t};var r2=function(){Ia.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mt.CheckBox.createAppearanceStream()};hs(r2,Ia);var Dh=function(){al.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,13)},set:function(t){t?this.Ff=Zn(this.Ff,13):this.Ff=ea(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,21)},set:function(t){t?this.Ff=Zn(this.Ff,21):this.Ff=ea(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,23)},set:function(t){t?this.Ff=Zn(this.Ff,23):this.Ff=ea(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,24)},set:function(t){t?this.Ff=Zn(this.Ff,24):this.Ff=ea(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,25)},set:function(t){t?this.Ff=Zn(this.Ff,25):this.Ff=ea(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,26)},set:function(t){t?this.Ff=Zn(this.Ff,26):this.Ff=ea(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hs(Dh,al);var n2=function(){Dh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Jn(this.Ff,14)},set:function(e){e?this.Ff=Zn(this.Ff,14):this.Ff=ea(this.Ff,14)}}),this.password=!0};hs(n2,Dh);var Mt={CheckBox:{createAppearanceStream:function(){return{N:{On:Mt.CheckBox.YesNormal},D:{On:Mt.CheckBox.YesPushDown,Off:Mt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=IT(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+rr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=yl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Mt.internal.getHeight(e),s=Mt.internal.getWidth(e),o=IT(e,e.caption);return a.push("1 g"),a.push("0 0 "+rr(s)+" "+rr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+rr(s-1)+" "+rr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+rr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Circle.YesNormal,t.D[e]=Mt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=yl(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Mt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ku(Mt.internal.getWidth(e)/2)+" "+ku(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Mt.internal.Bezier_C).toFixed(5)),s=Number((n*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ku(Mt.internal.getWidth(e)/2)+" "+ku(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ku(Mt.internal.getWidth(e)/2)+" "+ku(Mt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=[],n=Mt.internal.getWidth(e)<=Mt.internal.getHeight(e)?Mt.internal.getWidth(e)/4:Mt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Mt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ku(Mt.internal.getWidth(e)/2)+" "+ku(Mt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Mt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Mt.RadioButton.Cross.YesNormal,t.D[e]=Mt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=yl(e);t.scope=e.scope;var r=[],n=Mt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+rr(Mt.internal.getWidth(e)-2)+" "+rr(Mt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(rr(n.x1.x)+" "+rr(n.x1.y)+" m"),r.push(rr(n.x2.x)+" "+rr(n.x2.y)+" l"),r.push(rr(n.x4.x)+" "+rr(n.x4.y)+" m"),r.push(rr(n.x3.x)+" "+rr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=Mt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+rr(Mt.internal.getWidth(e)-2)+" "+rr(Mt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(rr(r.x1.x)+" "+rr(r.x1.y)+" m"),n.push(rr(r.x2.x)+" "+rr(r.x2.y)+" l"),n.push(rr(r.x4.x)+" "+rr(r.x4.y)+" m"),n.push(rr(r.x3.x)+" "+rr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=yl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(Mt.internal.getWidth(e))+" "+rr(Mt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Mt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Mt.internal.getWidth(e),r=Mt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Mt.internal.getWidth=function(e){var t=0;return Mr(e)==="object"&&(t=nL(e.Rect[2])),t},Mt.internal.getHeight=function(e){var t=0;return Mr(e)==="object"&&(t=nL(e.Rect[3])),t};var lxe=$n.addField=function(e){if(oxe(this,e),!(e instanceof al))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};$n.AcroFormChoiceField=N0,$n.AcroFormListBox=O0,$n.AcroFormComboBox=I0,$n.AcroFormEditBox=e2,$n.AcroFormButton=Ia,$n.AcroFormPushButton=t2,$n.AcroFormRadioButton=D0,$n.AcroFormCheckBox=r2,$n.AcroFormTextField=Dh,$n.AcroFormPasswordField=n2,$n.AcroFormAppearance=Mt,$n.AcroForm={ChoiceField:N0,ListBox:O0,ComboBox:I0,EditBox:e2,Button:Ia,PushButton:t2,RadioButton:D0,CheckBox:r2,TextField:Dh,PasswordField:n2,Appearance:Mt},qt.AcroForm={ChoiceField:N0,ListBox:O0,ComboBox:I0,EditBox:e2,Button:Ia,PushButton:t2,RadioButton:D0,CheckBox:r2,TextField:Dh,PasswordField:n2,Appearance:Mt};function jq(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(E,P){var j,G,U,Q,J,z=t;if((P=P||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(N(E))for(J in r)for(U=r[J],j=0;j<U.length;j+=1){for(Q=!0,G=0;G<U[j].length;G+=1)if(U[j][G]!==void 0&&U[j][G]!==E[G]){Q=!1;break}if(Q===!0){z=J;break}}else for(J in r)for(U=r[J],j=0;j<U.length;j+=1){for(Q=!0,G=0;G<U[j].length;G+=1)if(U[j][G]!==void 0&&U[j][G]!==E.charCodeAt(G)){Q=!1;break}if(Q===!0){z=J;break}}return z===t&&P!==t&&(z=P),z},a=function E(P){for(var j=this.internal.write,G=this.internal.putStream,U=(0,this.internal.getFilters)();U.indexOf("FlateEncode")!==-1;)U.splice(U.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var Q=[];if(Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Image"}),Q.push({key:"Width",value:P.width}),Q.push({key:"Height",value:P.height}),P.colorSpace===v.INDEXED?Q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(Q.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===v.DEVICE_CMYK&&Q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Q.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&Q.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var J="",z=0,B=P.transparency.length;z<B;z++)J+=P.transparency[z]+" "+P.transparency[z]+" ";Q.push({key:"Mask",value:"["+J+"]"})}P.sMask!==void 0&&Q.push({key:"SMask",value:P.objectId+1+" 0 R"});var ee=P.filter!==void 0?["/"+P.filter]:void 0;if(G({data:P.data,additionalKeyValues:Q,alreadyAppliedFilters:ee,objectId:P.objectId}),j("endobj"),"sMask"in P&&P.sMask!==void 0){var ne="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,I={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:ne,data:P.sMask};"filter"in P&&(I.filter=P.filter),E.call(this,I)}if(P.colorSpace===v.INDEXED){var F=this.internal.newObject();G({data:S(new Uint8Array(P.palette)),objectId:F}),j("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var P in E)a.call(this,E[P])},s=function(){var E,P=this.internal.collections.addImage_images,j=this.internal.write;for(var G in P)j("/I"+(E=P[G]).index,E.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var E=this.internal.collections.addImage_images;return o.call(this),E},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(E){return typeof e["process"+E.toUpperCase()]=="function"},f=function(E){return Mr(E)==="object"&&E.nodeType===1},h=function(E,P){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var j=""+E.getAttribute("src");if(j.indexOf("data:image/")===0)return jg(unescape(j).split("base64,").pop());var G=e.loadFile(j,!0);if(G!==void 0)return G}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var U;switch(P){case"PNG":U="image/png";break;case"WEBP":U="image/webp";break;case"JPEG":case"JPG":default:U="image/jpeg"}return jg(E.toDataURL(U,1).split("base64,").pop())}},d=function(E){var P=this.internal.collections.addImage_images;if(P){for(var j in P)if(E===P[j].alias)return P[j]}},m=function(E,P,j){return E||P||(E=-96,P=-96),E<0&&(E=-1*j.width*72/E/this.internal.scaleFactor),P<0&&(P=-1*j.height*72/P/this.internal.scaleFactor),E===0&&(E=P*j.width/j.height),P===0&&(P=E*j.height/j.width),[E,P]},p=function(E,P,j,G,U,Q){var J=m.call(this,j,G,U),z=this.internal.getCoordinateString,B=this.internal.getVerticalCoordinateString,ee=l.call(this);if(j=J[0],G=J[1],ee[U.index]=U,Q){Q*=Math.PI/180;var ne=Math.cos(Q),I=Math.sin(Q),F=function(Y){return Y.toFixed(4)},q=[F(ne),F(I),F(-1*I),F(ne),0,0,"cm"]}this.internal.write("q"),Q?(this.internal.write([1,"0","0",1,z(E),B(P+G),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([z(j),"0","0",z(G),"0","0","cm"].join(" "))):this.internal.write([z(j),"0","0",z(G),z(E),B(P+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+U.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(E){var P,j,G=0;if(typeof E=="string")for(j=E.length,P=0;P<j;P++)G=(G<<5)-G+E.charCodeAt(P),G|=0;else if(N(E))for(j=E.byteLength/2,P=0;P<j;P++)G=(G<<5)-G+E[P],G|=0;return G},_=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var P=!0;return E.length===0&&(P=!1),E.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(P=!1),P},O=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var P=E.indexOf(",");return P<0?null:E.substring(0,P).trim().endsWith("base64")?E.substring(P+1):null},C=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return C()&&E instanceof ArrayBuffer};var N=e.__addimage__.isArrayBufferView=function(E){return C()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},T=e.__addimage__.binaryStringToUint8Array=function(E){for(var P=E.length,j=new Uint8Array(P),G=0;G<P;G++)j[G]=E.charCodeAt(G);return j},S=e.__addimage__.arrayBufferToBinaryString=function(E){for(var P="",j=N(E)?E:new Uint8Array(E),G=0;G<j.length;G+=8192)P+=String.fromCharCode.apply(null,j.subarray(G,G+8192));return P};e.addImage=function(){var E,P,j,G,U,Q,J,z,B;if(typeof arguments[1]=="number"?(P=t,j=arguments[1],G=arguments[2],U=arguments[3],Q=arguments[4],J=arguments[5],z=arguments[6],B=arguments[7]):(P=arguments[1],j=arguments[2],G=arguments[3],U=arguments[4],Q=arguments[5],J=arguments[6],z=arguments[7],B=arguments[8]),Mr(E=arguments[0])==="object"&&!f(E)&&"imageData"in E){var ee=E;E=ee.imageData,P=ee.format||P||t,j=ee.x||j||0,G=ee.y||G||0,U=ee.w||ee.width||U,Q=ee.h||ee.height||Q,J=ee.alias||J,z=ee.compression||z,B=ee.rotation||ee.angle||B}var ne=this.internal.getFilters();if(z===void 0&&ne.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(j)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var I=A.call(this,E,P,J,z);return p.call(this,j,G,U,Q,I,B),this};var A=function(E,P,j,G){var U,Q,J;if(typeof E=="string"&&n(E)===t){E=unescape(E);var z=D(E,!1);(z!==""||(z=e.loadFile(E,!0))!==void 0)&&(E=z)}if(f(E)&&(E=h(E,P)),P=n(E,P),!u(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((J=j)==null||J.length===0)&&(j=function(B){return typeof B=="string"||N(B)?b(B):N(B.data)?b(B.data):null}(E)),(U=d.call(this,j))||(C()&&(E instanceof Uint8Array||P==="RGBA"||(Q=E,E=T(E))),U=this["process"+P.toUpperCase()](E,c.call(this),j,function(B){return B&&typeof B=="string"&&(B=B.toUpperCase()),B in e.image_compression?B:y.NONE}(G),Q)),!U)throw new Error("An unknown error occurred whilst processing the image.");return U},D=e.__addimage__.convertBase64ToBinaryString=function(E,P){P=typeof P!="boolean"||P;var j,G="";if(typeof E=="string"){var U;j=(U=O(E))!==null&&U!==void 0?U:E;try{G=jg(j)}catch(Q){if(P)throw _(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return G};e.getImageProperties=function(E){var P,j,G="";if(f(E)&&(E=h(E)),typeof E=="string"&&n(E)===t&&((G=D(E,!1))===""&&(G=e.loadFile(E)||""),E=G),j=n(E),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!C()||E instanceof Uint8Array||(E=T(E)),!(P=this["process"+j.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=j,P}})(qt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};qt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var p=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(p.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(y(b))+") >>",p.content=i;var _=p.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+_,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(p.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(m(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var C=this.annotations._nameMap[n.options.name];n.options.pageNumber=C.page,n.options.top=C.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var N=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+N+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(qt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(p){return t[p.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(p){return typeof p=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(p)},o=e.__arabicParser__.isArabicEndLetter=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(p){return s(p)&&a.indexOf(p.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(p){return s(p)&&i(p)&&t[p.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(p){var v=0,y=r,b="",_=0;for(v=0;v<p.length;v+=1)y[p.charCodeAt(v)]!==void 0?(_++,typeof(y=y[p.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,_=0),v===p.length-1&&(y=r,b+=p.charAt(v-(_-1)),v-=_-1,_=0)):(y=r,b+=p.charAt(v-_),v-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(p){return p!==void 0&&n[p.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(p,v,y){return s(p)?i(p)===!1?-1:!c(p)||!s(v)&&!s(y)||!s(y)&&o(v)||o(p)&&!s(v)||o(p)&&l(v)||o(p)&&o(v)?0:u(p)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(p)||!s(y)?1:2:-1},d=function(p){var v=0,y=0,b=0,_="",O="",C="",N=(p=p||"").split("\\s+"),T=[];for(v=0;v<N.length;v+=1){for(T.push(""),y=0;y<N[v].length;y+=1)_=N[v][y],O=N[v][y-1],C=N[v][y+1],s(_)?(b=h(_,O,C),T[v]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):T[v]+=_;T[v]=f(T[v])}return T.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var p,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([d(v[b][0]),v[b][1],v[b][2]]):y.push([d(v[b])]);p=y}else p=d(v);return typeof arguments[0]=="string"?p:(arguments[0].text=p,arguments[0])};e.events.push(["preProcessText",m])}(qt.API),qt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(qt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(p){l=p}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(p){c=p}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(p){u=p}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(p){f=p}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(p){h=p}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(p){d=p}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(p){m=p}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,p=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,O){return _.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)d<(p=this.getStringUnitWidth(l[b],{font:f})*u)&&(d=p);return d!==0&&(m=l.length),{w:d/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,m,p,v,y=[],b=[],_=[],O={},C={},N=[],T=[],S=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,E=h.margins||Object.assign({width:this.getPageWidth()},t),P=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",G=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=G,this.setFontSize(D),f==null)b=y=Object.keys(u[0]),_=y.map(function(){return"left"});else if(Array.isArray(f)&&Mr(f[0])==="object")for(y=f.map(function(ee){return ee.name}),b=f.map(function(ee){return ee.prompt||ee.name||""}),_=f.map(function(ee){return ee.align||"left"}),d=0;d<f.length;d+=1)C[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,_=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(O[v=y[d]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),N.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=O[v],this.setFont(void 0,"normal"),p=0;p<m.length;p+=1)N.push(this.getTextDimensions(m[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);C[v]=Math.max.apply(null,N)+P+P,N=[]}if(A){var U={};for(d=0;d<y.length;d+=1)U[y[d]]={},U[y[d]].text=b[d],U[y[d]].align=_[d];var Q=o.call(this,U,C);T=y.map(function(ee){return new i(l,c,C[ee],Q,U[ee].text,void 0,U[ee].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var J=f.reduce(function(ee,ne){return ee[ne.name]=ne.align,ee},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var z=o.call(this,u[d],C);for(p=0;p<y.length;p+=1){var B=u[d][y[p]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:p,data:B},this),s.call(this,new i(l,c,C[y[p]],z,B,d+2,J[y[p]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(qt.API);var Mq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Rq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],DT=jq(Rq),Fq=[100,200,300,400,500,600,700,800,900],cxe=jq(Fq);function LT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Mq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof DT[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function aL(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var uxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},iL={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function sL(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function fxe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},uxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=LT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+sL(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=DT[l],f=u<=DT.normal?-1:1,h=aL(c,Rq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=Mq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=cxe[l],f=aL(c,Fq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+sL(i)+"'.");return s}function oL(e){return e.trimLeft()}function hxe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function dxe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var px,lL,cL,BS=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(I){return I=I||{},this.isStrokeTransparent=I.isStrokeTransparent||!1,this.strokeOpacity=I.strokeOpacity||1,this.strokeStyle=I.strokeStyle||"#000000",this.fillStyle=I.fillStyle||"#000000",this.isFillTransparent=I.isFillTransparent||!1,this.fillOpacity=I.fillOpacity||1,this.font=I.font||"10px sans-serif",this.textBaseline=I.textBaseline||"alphabetic",this.textAlign=I.textAlign||"left",this.lineWidth=I.lineWidth||1,this.lineJoin=I.lineJoin||"miter",this.lineCap=I.lineCap||"butt",this.path=I.path||[],this.transform=I.transform!==void 0?I.transform.clone():new l,this.globalCompositeOperation=I.globalCompositeOperation||"normal",this.globalAlpha=I.globalAlpha||1,this.clip_path=I.clip_path||[],this.currentPoint=I.currentPoint||new s,this.miterLimit=I.miterLimit||10,this.lastPoint=I.lastPoint||new s,this.lineDashOffset=I.lineDashOffset||0,this.lineDash=I.lineDash||[],this.margin=I.margin||[0,0,0,0],this.prevPageLastElemOffset=I.prevPageLastElemOffset||0,this.ignoreClearRect=typeof I.ignoreClearRect!="boolean"||I.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(I){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=I;Object.defineProperty(this,"pdf",{get:function(){return F}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(Se){q=!!Se}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(Se){Y=!!Se}});var K=0;Object.defineProperty(this,"posX",{get:function(){return K},set:function(Se){isNaN(Se)||(K=Se)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(Se){isNaN(Se)||(le=Se)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(Se){var ae;typeof Se=="number"?ae=[Se,Se,Se,Se]:((ae=new Array(4))[0]=Se[0],ae[1]=Se.length>=2?Se[1]:ae[0],ae[2]=Se.length>=3?Se[2]:ae[0],ae[3]=Se.length>=4?Se[3]:ae[1]),c.margin=ae}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(Se){ce=Se}});var X=0;Object.defineProperty(this,"lastBreak",{get:function(){return X},set:function(Se){X=Se}});var he=[];Object.defineProperty(this,"pageBreaks",{get:function(){return he},set:function(Se){he=Se}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(Se){Se instanceof u&&(c=Se)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(Se){c.path=Se}});var de=[];Object.defineProperty(this,"ctxStack",{get:function(){return de},set:function(Se){de=Se}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Se){var ae;ae=h(Se),this.ctx.fillStyle=ae.style,this.ctx.isFillTransparent=ae.a===0,this.ctx.fillOpacity=ae.a,this.pdf.setFillColor(ae.r,ae.g,ae.b,{a:ae.a}),this.pdf.setTextColor(ae.r,ae.g,ae.b,{a:ae.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Se){var ae=h(Se);this.ctx.strokeStyle=ae.style,this.ctx.isStrokeTransparent=ae.a===0,this.ctx.strokeOpacity=ae.a,ae.a===0?this.pdf.setDrawColor(255,255,255):(ae.a,this.pdf.setDrawColor(ae.r,ae.g,ae.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Se){["butt","round","square"].indexOf(Se)!==-1&&(this.ctx.lineCap=Se,this.pdf.setLineCap(Se))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Se){isNaN(Se)||(this.ctx.lineWidth=Se,this.pdf.setLineWidth(Se))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Se){["bevel","round","miter"].indexOf(Se)!==-1&&(this.ctx.lineJoin=Se,this.pdf.setLineJoin(Se))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Se){isNaN(Se)||(this.ctx.miterLimit=Se,this.pdf.setMiterLimit(Se))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Se){this.ctx.textBaseline=Se}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Se){["right","end","center","left","start"].indexOf(Se)!==-1&&(this.ctx.textAlign=Se)}});var H=null;function Ae(Se,ae){if(H===null){var Ce=function(Me){var Be=[];return Object.keys(Me).forEach(function(Ze){Me[Ze].forEach(function(Re){var Qe=null;switch(Re){case"bold":Qe={family:Ze,weight:"bold"};break;case"italic":Qe={family:Ze,style:"italic"};break;case"bolditalic":Qe={family:Ze,weight:"bold",style:"italic"};break;case"":case"normal":Qe={family:Ze}}Qe!==null&&(Qe.ref={name:Ze,style:Re},Be.push(Qe))})}),Be}(Se.getFontList());H=function(Me){for(var Be={},Ze=0;Ze<Me.length;++Ze){var Re=LT(Me[Ze]),Qe=Re.family,je=Re.stretch,Ke=Re.style,ot=Re.weight;Be[Qe]=Be[Qe]||{},Be[Qe][je]=Be[Qe][je]||{},Be[Qe][je][Ke]=Be[Qe][je][Ke]||{},Be[Qe][je][Ke][ot]=Re}return Be}(Ce.concat(ae))}return H}var Ee=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ee},set:function(Se){H=null,Ee=Se}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Se){var ae;if(this.ctx.font=Se,(ae=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Se))!==null){var Ce=ae[1];ae[2];var Me=ae[3],Be=ae[4];ae[5];var Ze=ae[6],Re=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Be)[2];Be=Math.floor(Re==="px"?parseFloat(Be)*this.pdf.internal.scaleFactor:Re==="em"?parseFloat(Be)*this.pdf.getFontSize():parseFloat(Be)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Be);var Qe=function(xt){var dt,ve,Ge=[],Ye=xt.trim();if(Ye==="")return BS;if(Ye in iL)return[iL[Ye]];for(;Ye!=="";){switch(ve=null,dt=(Ye=oL(Ye)).charAt(0)){case'"':case"'":ve=hxe(Ye.substring(1),dt);break;default:ve=dxe(Ye)}if(ve===null||(Ge.push(ve[0]),(Ye=oL(ve[1]))!==""&&Ye.charAt(0)!==","))return BS;Ye=Ye.replace(/^,/,"")}return Ge}(Ze);if(this.fontFaces){var je=fxe(Ae(this.pdf,this.fontFaces),Qe.map(function(xt){return{family:xt,stretch:"normal",weight:Me,style:Ce}}));this.pdf.setFont(je.ref.name,je.ref.style)}else{var Ke="";(Me==="bold"||parseInt(Me,10)>=700||Ce==="bold")&&(Ke="bold"),Ce==="italic"&&(Ke+="italic"),Ke.length===0&&(Ke="normal");for(var ot="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Qe.length;ht++){if(this.pdf.internal.getFont(Qe[ht],Ke,{noFallback:!0,disableWarning:!0})!==void 0){ot=Qe[ht];break}if(Ke==="bolditalic"&&this.pdf.internal.getFont(Qe[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ot=Qe[ht],Ke="bold";else if(this.pdf.internal.getFont(Qe[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ot=Qe[ht],Ke="normal";break}}if(ot===""){for(var yt=0;yt<Qe.length;yt++)if(it[Qe[yt]]){ot=it[Qe[yt]];break}}ot=ot===""?"Times":ot,this.pdf.setFont(ot,Ke)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Se){this.ctx.globalCompositeOperation=Se}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Se){this.ctx.globalAlpha=Se}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Se){this.ctx.lineDashOffset=Se,ne.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Se){this.ctx.lineDash=Se,ne.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Se){this.ctx.ignoreClearRect=!!Se}})};f.prototype.setLineDash=function(I){this.lineDash=I},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(I,F){if(isNaN(I)||isNaN(F))throw sn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(I,F));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(I,F)},f.prototype.closePath=function(){var I=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Mr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){I=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(I.x,I.y)},f.prototype.lineTo=function(I,F){if(isNaN(I)||isNaN(F))throw sn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(I,F));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(I,F,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(I)||isNaN(F))throw sn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var K=this.ctx.transform.applyToPoint(new s(q,Y)),le=this.ctx.transform.applyToPoint(new s(I,F));this.path.push({type:"qct",x1:le.x,y1:le.y,x:K.x,y:K.y}),this.ctx.lastPoint=new s(K.x,K.y)},f.prototype.bezierCurveTo=function(I,F,q,Y,K,le){if(isNaN(K)||isNaN(le)||isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y))throw sn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new s(K,le)),X=this.ctx.transform.applyToPoint(new s(I,F)),he=this.ctx.transform.applyToPoint(new s(q,Y));this.path.push({type:"bct",x1:X.x,y1:X.y,x2:he.x,y2:he.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new s(ce.x,ce.y)},f.prototype.arc=function(I,F,q,Y,K,le){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y)||isNaN(K))throw sn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new s(I,F));I=ce.x,F=ce.y;var X=this.ctx.transform.applyToPoint(new s(0,q)),he=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(X.x-he.x,2)+Math.pow(X.y-he.y,2))}Math.abs(K-Y)>=2*Math.PI&&(Y=0,K=2*Math.PI),this.path.push({type:"arc",x:I,y:F,radius:q,startAngle:Y,endAngle:K,counterclockwise:le})},f.prototype.arcTo=function(I,F,q,Y,K){throw new Error("arcTo not implemented.")},f.prototype.rect=function(I,F,q,Y){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y))throw sn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(I,F),this.lineTo(I+q,F),this.lineTo(I+q,F+Y),this.lineTo(I,F+Y),this.lineTo(I,F),this.lineTo(I+q,F),this.lineTo(I,F)},f.prototype.fillRect=function(I,F,q,Y){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y))throw sn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var K={};this.lineCap!=="butt"&&(K.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(K.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(I,F,q,Y),this.fill(),K.hasOwnProperty("lineCap")&&(this.lineCap=K.lineCap),K.hasOwnProperty("lineJoin")&&(this.lineJoin=K.lineJoin)}},f.prototype.strokeRect=function(I,F,q,Y){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y))throw sn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(I,F,q,Y),this.stroke())},f.prototype.clearRect=function(I,F,q,Y){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y))throw sn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(I,F,q,Y))},f.prototype.save=function(I){I=typeof I!="boolean"||I;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),I){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},f.prototype.restore=function(I){I=typeof I!="boolean"||I;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(F),I&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(I){var F,q,Y,K;if(I.isCanvasGradient===!0&&(I=I.getColor()),!I)return{r:0,g:0,b:0,a:0,style:I};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(I))F=0,q=0,Y=0,K=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(I);if(le!==null)F=parseInt(le[1]),q=parseInt(le[2]),Y=parseInt(le[3]),K=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(I))!==null)F=parseInt(le[1]),q=parseInt(le[2]),Y=parseInt(le[3]),K=parseFloat(le[4]);else{if(K=1,typeof I=="string"&&I.charAt(0)!=="#"){var ce=new Cq(I);I=ce.ok?ce.toHex():"#000000"}I.length===4?(F=I.substring(1,2),F+=F,q=I.substring(2,3),q+=q,Y=I.substring(3,4),Y+=Y):(F=I.substring(1,3),q=I.substring(3,5),Y=I.substring(5,7)),F=parseInt(F,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:F,g:q,b:Y,a:K,style:I}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(I,F,q,Y){if(isNaN(F)||isNaN(q)||typeof I!="string")throw sn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!d.call(this)){var K=z(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:I,x:F,y:q,scale:le,angle:K,align:this.textAlign,maxWidth:Y})}},f.prototype.strokeText=function(I,F,q,Y){if(isNaN(F)||isNaN(q)||typeof I!="string")throw sn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Y=isNaN(Y)?void 0:Y;var K=z(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;P.call(this,{text:I,x:F,y:q,scale:le,renderingMode:"stroke",angle:K,align:this.textAlign,maxWidth:Y})}},f.prototype.measureText=function(I){if(typeof I!="string")throw sn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,q=this.pdf.internal.scaleFactor,Y=F.internal.getFontSize(),K=F.getStringUnitWidth(I)*Y/F.internal.scaleFactor,le=function(ce){var X=(ce=ce||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return X}}),this};return new le({width:K*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(I,F){if(isNaN(I)||isNaN(F))throw sn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(I,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(I){if(isNaN(I))throw sn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(I),Math.sin(I),-Math.sin(I),Math.cos(I),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(I,F){if(isNaN(I)||isNaN(F))throw sn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,I,F);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(I,F,q,Y,K,le){if(isNaN(I)||isNaN(F)||isNaN(q)||isNaN(Y)||isNaN(K)||isNaN(le))throw sn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new l(I,F,q,Y,K,le);this.ctx.transform=this.ctx.transform.multiply(ce)},f.prototype.setTransform=function(I,F,q,Y,K,le){I=isNaN(I)?1:I,F=isNaN(F)?0:F,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,K=isNaN(K)?0:K,le=isNaN(le)?0:le,this.ctx.transform=new l(I,F,q,Y,K,le)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(I,F,q,Y,K,le,ce,X,he){var de=this.pdf.getImageProperties(I),H=1,Ae=1,Ee=1,Se=1;Y!==void 0&&X!==void 0&&(Ee=X/Y,Se=he/K,H=de.width/Y*X/Y,Ae=de.height/K*he/K),le===void 0&&(le=F,ce=q,F=0,q=0),Y!==void 0&&X===void 0&&(X=Y,he=K),Y===void 0&&X===void 0&&(X=de.width,he=de.height);for(var ae,Ce=this.ctx.transform.decompose(),Me=z(Ce.rotate.shx),Be=new l,Ze=(Be=(Be=(Be=Be.multiply(Ce.translate)).multiply(Ce.skew)).multiply(Ce.scale)).applyToRectangle(new o(le-F*Ee,ce-q*Se,Y*H,K*Ae)),Re=v.call(this,Ze),Qe=[],je=0;je<Re.length;je+=1)Qe.indexOf(Re[je])===-1&&Qe.push(Re[je]);if(_(Qe),this.autoPaging)for(var Ke=Qe[0],ot=Qe[Qe.length-1],it=Ke;it<ot+1;it++){this.pdf.setPage(it);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],yt=it===1?this.posY+this.margin[0]:this.margin[0],xt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],dt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ve=it===1?0:xt+(it-2)*dt;if(this.ctx.clip_path.length!==0){var Ge=this.path;ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(ae,this.posX+this.margin[3],-ve+yt+this.ctx.prevPageLastElemOffset),C.call(this,"fill",!0),this.path=Ge}var Ye=JSON.parse(JSON.stringify(Ze));Ye=b([Ye],this.posX+this.margin[3],-ve+yt+this.ctx.prevPageLastElemOffset)[0];var Dt=(it>Ke||it<ot)&&p.call(this);Dt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,dt,null).clip().discardPath()),this.pdf.addImage(I,"JPEG",Ye.x,Ye.y,Ye.w,Ye.h,null,null,Me),Dt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(I,"JPEG",Ze.x,Ze.y,Ze.w,Ze.h,null,null,Me)};var v=function(I,F,q){var Y=[];F=F||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var K=this.posY+this.ctx.prevPageLastElemOffset;switch(I.type){default:case"mt":case"lt":Y.push(Math.floor((I.y+K)/q)+1);break;case"arc":Y.push(Math.floor((I.y+K-I.radius)/q)+1),Y.push(Math.floor((I.y+K+I.radius)/q)+1);break;case"qct":var le=B(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x,I.y);Y.push(Math.floor((le.y+K)/q)+1),Y.push(Math.floor((le.y+le.h+K)/q)+1);break;case"bct":var ce=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,I.x1,I.y1,I.x2,I.y2,I.x,I.y);Y.push(Math.floor((ce.y+K)/q)+1),Y.push(Math.floor((ce.y+ce.h+K)/q)+1);break;case"rect":Y.push(Math.floor((I.y+K)/q)+1),Y.push(Math.floor((I.y+I.h+K)/q)+1)}for(var X=0;X<Y.length;X+=1)for(;this.pdf.internal.getNumberOfPages()<Y[X];)y.call(this);return Y},y=function(){var I=this.fillStyle,F=this.strokeStyle,q=this.font,Y=this.lineCap,K=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=I,this.strokeStyle=F,this.font=q,this.lineCap=Y,this.lineWidth=K,this.lineJoin=le},b=function(I,F,q){for(var Y=0;Y<I.length;Y++)switch(I[Y].type){case"bct":I[Y].x2+=F,I[Y].y2+=q;case"qct":I[Y].x1+=F,I[Y].y1+=q;case"mt":case"lt":case"arc":default:I[Y].x+=F,I[Y].y+=q}return I},_=function(I){return I.sort(function(F,q){return F-q})},O=function(I,F){for(var q,Y,K=this.fillStyle,le=this.strokeStyle,ce=this.lineCap,X=this.lineWidth,he=Math.abs(X*this.ctx.transform.scaleX),de=this.lineJoin,H=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),Ee=[],Se=0;Se<Ae.length;Se++)if(Ae[Se].x!==void 0)for(var ae=v.call(this,Ae[Se]),Ce=0;Ce<ae.length;Ce+=1)Ee.indexOf(ae[Ce])===-1&&Ee.push(ae[Ce]);for(var Me=0;Me<Ee.length;Me++)for(;this.pdf.internal.getNumberOfPages()<Ee[Me];)y.call(this);if(_(Ee),this.autoPaging)for(var Be=Ee[0],Ze=Ee[Ee.length-1],Re=Be;Re<Ze+1;Re++){this.pdf.setPage(Re),this.fillStyle=K,this.strokeStyle=le,this.lineCap=ce,this.lineWidth=he,this.lineJoin=de;var Qe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],je=Re===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=Re===1?0:Ke+(Re-2)*ot;if(this.ctx.clip_path.length!==0){var ht=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(q,this.posX+this.margin[3],-it+je+this.ctx.prevPageLastElemOffset),C.call(this,I,!0),this.path=ht}if(Y=JSON.parse(JSON.stringify(H)),this.path=b(Y,this.posX+this.margin[3],-it+je+this.ctx.prevPageLastElemOffset),F===!1||Re===0){var yt=(Re>Be||Re<Ze)&&p.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Qe,ot,null).clip().discardPath()),C.call(this,I,F),yt&&this.pdf.restoreGraphicsState()}this.lineWidth=X}else this.lineWidth=he,C.call(this,I,F),this.lineWidth=X;this.path=H},C=function(I,F){if((I!=="stroke"||F||!m.call(this))&&(I==="stroke"||F||!d.call(this))){for(var q,Y,K=[],le=this.path,ce=0;ce<le.length;ce++){var X=le[ce];switch(X.type){case"begin":K.push({begin:!0});break;case"close":K.push({close:!0});break;case"mt":K.push({start:X,deltas:[],abs:[]});break;case"lt":var he=K.length;if(le[ce-1]&&!isNaN(le[ce-1].x)&&(q=[X.x-le[ce-1].x,X.y-le[ce-1].y],he>0)){for(;he>=0;he--)if(K[he-1].close!==!0&&K[he-1].begin!==!0){K[he-1].deltas.push(q),K[he-1].abs.push(X);break}}break;case"bct":q=[X.x1-le[ce-1].x,X.y1-le[ce-1].y,X.x2-le[ce-1].x,X.y2-le[ce-1].y,X.x-le[ce-1].x,X.y-le[ce-1].y],K[K.length-1].deltas.push(q);break;case"qct":var de=le[ce-1].x+2/3*(X.x1-le[ce-1].x),H=le[ce-1].y+2/3*(X.y1-le[ce-1].y),Ae=X.x+2/3*(X.x1-X.x),Ee=X.y+2/3*(X.y1-X.y),Se=X.x,ae=X.y;q=[de-le[ce-1].x,H-le[ce-1].y,Ae-le[ce-1].x,Ee-le[ce-1].y,Se-le[ce-1].x,ae-le[ce-1].y],K[K.length-1].deltas.push(q);break;case"arc":K.push({deltas:[],abs:[],arc:!0}),Array.isArray(K[K.length-1].abs)&&K[K.length-1].abs.push(X)}}Y=F?null:I==="stroke"?"stroke":"fill";for(var Ce=!1,Me=0;Me<K.length;Me++)if(K[Me].arc)for(var Be=K[Me].abs,Ze=0;Ze<Be.length;Ze++){var Re=Be[Ze];Re.type==="arc"?S.call(this,Re.x,Re.y,Re.radius,Re.startAngle,Re.endAngle,Re.counterclockwise,void 0,F,!Ce):j.call(this,Re.x,Re.y),Ce=!0}else if(K[Me].close===!0)this.pdf.internal.out("h"),Ce=!1;else if(K[Me].begin!==!0){var Qe=K[Me].start.x,je=K[Me].start.y;G.call(this,K[Me].deltas,Qe,je),Ce=!0}Y&&A.call(this,Y),F&&D.call(this)}},N=function(I){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return I-q;case"top":return I+F-q;case"hanging":return I+F-2*q;case"middle":return I+F/2-q;case"ideographic":return I;case"alphabetic":default:return I}},T=function(I){return I+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var I=function(){};return I.colorStops=[],I.addColorStop=function(F,q){this.colorStops.push([F,q])},I.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},I.isCanvasGradient=!0,I},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(I,F,q,Y,K,le,ce,X,he){for(var de=Q.call(this,q,Y,K,le),H=0;H<de.length;H++){var Ae=de[H];H===0&&(he?E.call(this,Ae.x1+I,Ae.y1+F):j.call(this,Ae.x1+I,Ae.y1+F)),U.call(this,I,F,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}X?D.call(this):A.call(this,ce)},A=function(I){switch(I){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(I,F){this.pdf.internal.out(r(I)+" "+n(F)+" m")},P=function(I){var F;switch(I.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var q=this.pdf.getTextDimensions(I.text),Y=N.call(this,I.y),K=T.call(this,Y)-q.h,le=this.ctx.transform.applyToPoint(new s(I.x,Y)),ce=this.ctx.transform.decompose(),X=new l;X=(X=(X=X.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var he,de,H,Ae=this.ctx.transform.applyToRectangle(new o(I.x,Y,q.w,q.h)),Ee=X.applyToRectangle(new o(I.x,K,q.w,q.h)),Se=v.call(this,Ee),ae=[],Ce=0;Ce<Se.length;Ce+=1)ae.indexOf(Se[Ce])===-1&&ae.push(Se[Ce]);if(_(ae),this.autoPaging)for(var Me=ae[0],Be=ae[ae.length-1],Ze=Me;Ze<Be+1;Ze++){this.pdf.setPage(Ze);var Re=Ze===1?this.posY+this.margin[0]:this.margin[0],Qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],je=this.pdf.internal.pageSize.height-this.margin[2],Ke=je-this.margin[0],ot=this.pdf.internal.pageSize.width-this.margin[1],it=ot-this.margin[3],ht=Ze===1?0:Qe+(Ze-2)*Ke;if(this.ctx.clip_path.length!==0){var yt=this.path;he=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(he,this.posX+this.margin[3],-1*ht+Re),C.call(this,"fill",!0),this.path=yt}var xt=b([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ht+Re+this.ctx.prevPageLastElemOffset)[0];I.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale);var dt=this.autoPaging!=="text";if(dt||xt.y+xt.h<=je){if(dt||xt.y>=Re&&xt.x<=ot){var ve=dt?I.text:this.pdf.splitTextToSize(I.text,I.maxWidth||ot-xt.x)[0],Ge=b([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-ht+Re+this.ctx.prevPageLastElemOffset)[0],Ye=dt&&(Ze>Me||Ze<Be)&&p.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ke,null).clip().discardPath()),this.pdf.text(ve,Ge.x,Ge.y,{angle:I.angle,align:F,renderingMode:I.renderingMode}),Ye&&this.pdf.restoreGraphicsState()}}else xt.y<je&&(this.ctx.prevPageLastElemOffset+=je-xt.y);I.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=H)}else I.scale>=.01&&(de=this.pdf.internal.getFontSize(),this.pdf.setFontSize(de*I.scale),H=this.lineWidth,this.lineWidth=H*I.scale),this.pdf.text(I.text,le.x+this.posX,le.y+this.posY,{angle:I.angle,align:F,renderingMode:I.renderingMode,maxWidth:I.maxWidth}),I.scale>=.01&&(this.pdf.setFontSize(de),this.lineWidth=H)},j=function(I,F,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(r(I+q)+" "+n(F+Y)+" l")},G=function(I,F,q){return this.pdf.lines(I,F,q,null,null)},U=function(I,F,q,Y,K,le,ce,X){this.pdf.internal.out([t(a(q+I)),t(i(Y+F)),t(a(K+I)),t(i(le+F)),t(a(ce+I)),t(i(X+F)),"c"].join(" "))},Q=function(I,F,q,Y){for(var K=2*Math.PI,le=Math.PI/2;F>q;)F-=K;var ce=Math.abs(q-F);ce<K&&Y&&(ce=K-ce);for(var X=[],he=Y?-1:1,de=F;ce>1e-5;){var H=de+he*Math.min(ce,le);X.push(J.call(this,I,de,H)),ce-=Math.abs(H-de),de=H}return X},J=function(I,F,q){var Y=(q-F)/2,K=I*Math.cos(Y),le=I*Math.sin(Y),ce=K,X=-le,he=ce*ce+X*X,de=he+ce*K+X*le,H=4/3*(Math.sqrt(2*he*de)-de)/(ce*le-X*K),Ae=ce-H*X,Ee=X+H*ce,Se=Ae,ae=-Ee,Ce=Y+F,Me=Math.cos(Ce),Be=Math.sin(Ce);return{x1:I*Math.cos(F),y1:I*Math.sin(F),x2:Ae*Me-Ee*Be,y2:Ae*Be+Ee*Me,x3:Se*Me-ae*Be,y3:Se*Be+ae*Me,x4:I*Math.cos(q),y4:I*Math.sin(q)}},z=function(I){return 180*I/Math.PI},B=function(I,F,q,Y,K,le){var ce=I+.5*(q-I),X=F+.5*(Y-F),he=K+.5*(q-K),de=le+.5*(Y-le),H=Math.min(I,K,ce,he),Ae=Math.max(I,K,ce,he),Ee=Math.min(F,le,X,de),Se=Math.max(F,le,X,de);return new o(H,Ee,Ae-H,Se-Ee)},ee=function(I,F,q,Y,K,le,ce,X){var he,de,H,Ae,Ee,Se,ae,Ce,Me,Be,Ze,Re,Qe,je,Ke=q-I,ot=Y-F,it=K-q,ht=le-Y,yt=ce-K,xt=X-le;for(de=0;de<41;de++)Me=(ae=(H=I+(he=de/40)*Ke)+he*((Ee=q+he*it)-H))+he*(Ee+he*(K+he*yt-Ee)-ae),Be=(Ce=(Ae=F+he*ot)+he*((Se=Y+he*ht)-Ae))+he*(Se+he*(le+he*xt-Se)-Ce),de==0?(Ze=Me,Re=Be,Qe=Me,je=Be):(Ze=Math.min(Ze,Me),Re=Math.min(Re,Be),Qe=Math.max(Qe,Me),je=Math.max(je,Be));return new o(Math.round(Ze),Math.round(Re),Math.round(Qe-Ze),Math.round(je-Re))},ne=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var I,F,q=(I=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:I,lineDashOffset:F}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(qt.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,m,p;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(p=u%85))/85)-(m=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,m+33,p+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,m="charCodeAt",p="slice",v="replace";for(i[p](-2),i=i[p](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[p](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[m](c)-33)+614125*(i[m](c+1)-33)+7225*(i[m](c+2)-33)+85*(i[m](c+3)-33)+(i[m](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,b){for(var _=b;_>0;_--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=PT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(qt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(m){var p=m.length,v=[],y=String.fromCharCode;for(h=0;h<p;h+=1)v.push(y(255&m.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(qt.API),function(e){function t(){return(Wt.html2canvas?Promise.resolve(Wt.html2canvas):ST(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(Wt.DOMPurify?Promise.resolve(Wt.DOMPurify):ST(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Mr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],m=d.src.find(function(p){return p.format==="truetype"});m&&l.addFont(m.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||qt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,qt.getPageSize=function(s,o,l){if(Mr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,m=0,p=0;if(h.hasOwnProperty(f))m=h[f][1]/u,p=h[f][0]/u;else try{m=l[1],p=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",p>m&&(d=p,p=m,m=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",m>p&&(d=p,p=m,m=d)}return{width:p,height:m,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(LT):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(qt.API),qt.API.addJS=function(e){return cL=e,this.internal.events.subscribe("postPutResources",function(){px=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(px+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),lL=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+cL+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){px!==void 0&&lL!==void 0&&this.internal.out("/Names <</JavaScript "+px+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(qt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,p={width:0,height:0,numcomponents:1},v=4;v<m;v+=2){if(v+=d,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),p={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}d=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return p}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(qt.API);var Bd,mx,uL,fL,hL,pxe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,m,p,v,y,b,_;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),m=(function(){var O,C;for(C=[],O=0;O<4;++O)C.push(String.fromCharCode(this.data[this.pos++]));return C}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((p=l-this.transparency.indexed.length)>0)for(b=0;0<=p?b<p:b>p;0<=p?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,v.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,m){var p,v,y,b,_,O,C,N,T,S,A,D,E,P,j,G,U,Q,J,z,B,ee=Math.ceil((c.width-f)/d),ne=Math.ceil((c.height-h)/m),I=c.width==ee&&c.height==ne;for(P=s*ee,D=I?o:new Uint8Array(P*ne),O=i.length,E=0,v=0;E<ne&&l<O;){switch(i[l++]){case 0:for(b=U=0;U<P;b=U+=1)D[v++]=i[l++];break;case 1:for(b=Q=0;Q<P;b=Q+=1)p=i[l++],_=b<s?0:D[v-s],D[v++]=(p+_)%256;break;case 2:for(b=J=0;J<P;b=J+=1)p=i[l++],y=(b-b%s)/s,j=E&&D[(E-1)*P+y*s+b%s],D[v++]=(j+p)%256;break;case 3:for(b=z=0;z<P;b=z+=1)p=i[l++],y=(b-b%s)/s,_=b<s?0:D[v-s],j=E&&D[(E-1)*P+y*s+b%s],D[v++]=(p+Math.floor((_+j)/2))%256;break;case 4:for(b=B=0;B<P;b=B+=1)p=i[l++],y=(b-b%s)/s,_=b<s?0:D[v-s],E===0?j=G=0:(j=D[(E-1)*P+y*s+b%s],G=y&&D[(E-1)*P+(y-1)*s+b%s]),C=_+j-G,N=Math.abs(C-_),S=Math.abs(C-j),A=Math.abs(C-G),T=N<=S&&N<=A?_:S<=A?j:G,D[v++]=(p+T)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!I){var F=((h+E*m)*c.width+f)*s,q=E*P;for(b=0;b<ee;b+=1){for(var Y=0;Y<s;Y+=1)o[F++]=D[q++];F+=(d-1)*s}}E++}}return i=Hye(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,m,p,v,y;if(l=this.colors,p=null,o=this.hasAlphaChannel,this.palette.length&&(p=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),m=(c=i.data||i).length,f=p||s,u=h=0,l===1)for(;u<m;)d=p?4*s[u/4]:h,v=f[d++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[d++]:255,h=d;else for(;u<m;)d=p?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(Wt)==="[object Window]"){try{t=Wt.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,m;if(d=o++%c,m=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,m.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mxe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,m=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var p=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&p)&&(h=null),d=p>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,O=e[t++],C=O>>6&1,N=1<<(7&O)+1,T=o,S=l,A=!1;O>>7&&(A=!0,T=t,S=N,t+=3*N);var D=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}u.push({x:v,y,width:b,height:_,has_local_palette:A,palette_offset:T,palette_size:S,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!C,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(P){if(P<0||P>=u.length)throw new Error("Frame index out of range.");return u[P]},this.decodeAndBlitFrameBGRA=function(P,j){var G=this.frameInfo(P),U=G.width*G.height,Q=new Uint8Array(U);dL(e,G.data_offset,Q,U);var J=G.palette_offset,z=G.transparent_index;z===null&&(z=256);var B=G.width,ee=r-B,ne=B,I=4*(G.y*r+G.x),F=4*((G.y+G.height)*r+G.x),q=I,Y=4*ee;G.interlaced===!0&&(Y+=4*r*7);for(var K=8,le=0,ce=Q.length;le<ce;++le){var X=Q[le];if(ne===0&&(ne=B,(q+=Y)>=F&&(Y=4*ee+4*r*(K-1),q=I+(B+ee)*(K<<1),K>>=1)),X===z)q+=4;else{var he=e[J+3*X],de=e[J+3*X+1],H=e[J+3*X+2];j[q++]=H,j[q++]=de,j[q++]=he,j[q++]=255}--ne}},this.decodeAndBlitFrameRGBA=function(P,j){var G=this.frameInfo(P),U=G.width*G.height,Q=new Uint8Array(U);dL(e,G.data_offset,Q,U);var J=G.palette_offset,z=G.transparent_index;z===null&&(z=256);var B=G.width,ee=r-B,ne=B,I=4*(G.y*r+G.x),F=4*((G.y+G.height)*r+G.x),q=I,Y=4*ee;G.interlaced===!0&&(Y+=4*r*7);for(var K=8,le=0,ce=Q.length;le<ce;++le){var X=Q[le];if(ne===0&&(ne=B,(q+=Y)>=F&&(Y=4*ee+4*r*(K-1),q=I+(B+ee)*(K<<1),K>>=1)),X===z)q+=4;else{var he=e[J+3*X],de=e[J+3*X+1],H=e[J+3*X+2];j[q++]=he,j[q++]=de,j[q++]=H,j[q++]=255}--ne}}}function dL(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],m=new Int32Array(4096),p=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:p,b=0,_=y;_>i;)_=m[_]>>8,++b;var O=_;if(h+b+(y!==v?1:0)>n)return void sn.log("Warning, gif stream longer than expected.");r[h++]=O;var C=h+=b;for(y!==v&&(r[h++]=O),_=y;b--;)_=m[_],r[--C]=255&_,_>>=8;p!==null&&o<4096&&(m[o++]=p<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),p=v}else o=s+1,c=(1<<(l=a+1))-1,p=null}return h!==n&&sn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function VS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),m=new Array(64),p=[],v=0,y=7,b=new Array(64),_=new Array(64),O=new Array(64),C=new Array(256),N=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],U=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Q(I,F){for(var q=0,Y=0,K=new Array,le=1;le<=16;le++){for(var ce=1;ce<=I[le];ce++)K[F[Y]]=[],K[F[Y]][0]=q,K[F[Y]][1]=le,Y++,q++;q*=2}return K}function J(I){for(var F=I[0],q=I[1]-1;q>=0;)F&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(z(255),z(0)):z(v),y=7,v=0)}function z(I){p.push(I)}function B(I){z(I>>8&255),z(255&I)}function ee(I,F,q,Y,K){for(var le,ce=K[0],X=K[240],he=function(Be,Ze){var Re,Qe,je,Ke,ot,it,ht,yt,xt,dt,ve=0;for(xt=0;xt<8;++xt){Re=Be[ve],Qe=Be[ve+1],je=Be[ve+2],Ke=Be[ve+3],ot=Be[ve+4],it=Be[ve+5],ht=Be[ve+6];var Ge=Re+(yt=Be[ve+7]),Ye=Re-yt,Dt=Qe+ht,Rt=Qe-ht,lr=je+it,Xr=je-it,Xt=Ke+ot,ki=Ke-ot,Fr=Ge+Xt,da=Ge-Xt,Pi=Dt+lr,Ir=Dt-lr;Be[ve]=Fr+Pi,Be[ve+4]=Fr-Pi;var $t=.707106781*(Ir+da);Be[ve+2]=da+$t,Be[ve+6]=da-$t;var gr=.382683433*((Fr=ki+Xr)-(Ir=Rt+Ye)),Yi=.5411961*Fr+gr,Ln=1.306562965*Ir+gr,Ta=.707106781*(Pi=Xr+Rt),Ci=Ye+Ta,Ot=Ye-Ta;Be[ve+5]=Ot+Yi,Be[ve+3]=Ot-Yi,Be[ve+1]=Ci+Ln,Be[ve+7]=Ci-Ln,ve+=8}for(ve=0,xt=0;xt<8;++xt){Re=Be[ve],Qe=Be[ve+8],je=Be[ve+16],Ke=Be[ve+24],ot=Be[ve+32],it=Be[ve+40],ht=Be[ve+48];var ei=Re+(yt=Be[ve+56]),ra=Re-yt,jn=Qe+ht,kn=Qe-ht,wn=je+it,ie=je-it,be=Ke+ot,me=Ke-ot,ge=ei+be,xe=ei-be,we=jn+wn,Fe=jn-wn;Be[ve]=ge+we,Be[ve+32]=ge-we;var He=.707106781*(Fe+xe);Be[ve+16]=xe+He,Be[ve+48]=xe-He;var $e=.382683433*((ge=me+ie)-(Fe=kn+ra)),Ve=.5411961*ge+$e,We=1.306562965*Fe+$e,ct=.707106781*(we=ie+kn),vt=ra+ct,Tt=ra-ct;Be[ve+40]=Tt+Ve,Be[ve+24]=Tt-Ve,Be[ve+8]=vt+We,Be[ve+56]=vt-We,ve++}for(xt=0;xt<64;++xt)dt=Be[xt]*Ze[xt],d[xt]=dt>0?dt+.5|0:dt-.5|0;return d}(I,F),de=0;de<64;++de)m[T[de]]=he[de];var H=m[0]-q;q=m[0],H==0?J(Y[0]):(J(Y[h[le=32767+H]]),J(f[le]));for(var Ae=63;Ae>0&&m[Ae]==0;)Ae--;if(Ae==0)return J(ce),q;for(var Ee,Se=1;Se<=Ae;){for(var ae=Se;m[Se]==0&&Se<=Ae;)++Se;var Ce=Se-ae;if(Ce>=16){Ee=Ce>>4;for(var Me=1;Me<=Ee;++Me)J(X);Ce&=15}le=32767+m[Se],J(K[(Ce<<4)+h[le]]),J(f[le]),Se++}return Ae!=63&&J(ce),q}function ne(I){I=Math.min(Math.max(I,1),100),i!=I&&(function(F){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var K=s((q[Y]*F+50)/100);K=Math.min(Math.max(K,1),255),o[T[Y]]=K}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var X=s((le[ce]*F+50)/100);X=Math.min(Math.max(X,1),255),l[T[ce]]=X}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],de=0,H=0;H<8;H++)for(var Ae=0;Ae<8;Ae++)c[de]=1/(o[T[de]]*he[H]*he[Ae]*8),u[de]=1/(l[T[de]]*he[H]*he[Ae]*8),de++}(I<50?Math.floor(5e3/I):Math.floor(200-2*I)),i=I)}this.encode=function(I,F){F&&ne(F),p=new Array,v=0,y=7,B(65496),B(65504),B(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),B(1),B(1),z(0),z(0),function(){B(65499),B(132),z(0);for(var Qe=0;Qe<64;Qe++)z(o[Qe]);z(1);for(var je=0;je<64;je++)z(l[je])}(),function(Qe,je){B(65472),B(17),z(8),B(je),B(Qe),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)}(I.width,I.height),function(){B(65476),B(418),z(0);for(var Qe=0;Qe<16;Qe++)z(S[Qe+1]);for(var je=0;je<=11;je++)z(A[je]);z(16);for(var Ke=0;Ke<16;Ke++)z(D[Ke+1]);for(var ot=0;ot<=161;ot++)z(E[ot]);z(1);for(var it=0;it<16;it++)z(P[it+1]);for(var ht=0;ht<=11;ht++)z(j[ht]);z(17);for(var yt=0;yt<16;yt++)z(G[yt+1]);for(var xt=0;xt<=161;xt++)z(U[xt])}(),B(65498),B(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var q=0,Y=0,K=0;v=0,y=7,this.encode.displayName="_encode_";for(var le,ce,X,he,de,H,Ae,Ee,Se,ae=I.data,Ce=I.width,Me=I.height,Be=4*Ce,Ze=0;Ze<Me;){for(le=0;le<Be;){for(de=Be*Ze+le,Ae=-1,Ee=0,Se=0;Se<64;Se++)H=de+(Ee=Se>>3)*Be+(Ae=4*(7&Se)),Ze+Ee>=Me&&(H-=Be*(Ze+1+Ee-Me)),le+Ae>=Be&&(H-=le+Ae-Be+4),ce=ae[H++],X=ae[H++],he=ae[H++],b[Se]=(N[ce]+N[X+256>>0]+N[he+512>>0]>>16)-128,_[Se]=(N[ce+768>>0]+N[X+1024>>0]+N[he+1280>>0]>>16)-128,O[Se]=(N[ce+1280>>0]+N[X+1536>>0]+N[he+1792>>0]>>16)-128;q=ee(b,c,q,t,n),Y=ee(_,u,Y,r,a),K=ee(O,u,K,r,a),le+=32}Ze+=8}if(y>=0){var Re=[];Re[1]=y+1,Re[0]=(1<<y+1)-1,J(Re)}return B(65497),new Uint8Array(p)},e=e||50,function(){for(var I=String.fromCharCode,F=0;F<256;F++)C[F]=I(F)}(),t=Q(S,A),r=Q(P,j),n=Q(D,E),a=Q(G,U),function(){for(var I=1,F=2,q=1;q<=15;q++){for(var Y=I;Y<F;Y++)h[32767+Y]=q,f[32767+Y]=[],f[32767+Y][1]=q,f[32767+Y][0]=Y;for(var K=-(F-1);K<=-I;K++)h[32767+K]=q,f[32767+K]=[],f[32767+K][1]=q,f[32767+K][0]=F-1+K;I<<=1,F<<=1}}(),function(){for(var I=0;I<256;I++)N[I]=19595*I,N[I+256>>0]=38470*I,N[I+512>>0]=7471*I+32768,N[I+768>>0]=-11059*I,N[I+1024>>0]=-21709*I,N[I+1280>>0]=32768*I+8421375,N[I+1536>>0]=-27439*I,N[I+1792>>0]=-5329*I}(),ne(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Lo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function pL(e){function t(S){if(!S)throw Error("assert :P")}function r(S,A,D){for(var E=0;4>E;E++)if(S[A+E]!=D.charCodeAt(E))return!0;return!1}function n(S,A,D,E,P){for(var j=0;j<P;j++)S[A+j]=D[E+j]}function a(S,A,D,E){for(var P=0;P<E;P++)S[A+P]=D}function i(S){return new Int32Array(S)}function s(S,A){for(var D=[],E=0;E<S;E++)D.push(new A);return D}function o(S,A){var D=[];return function E(P,j,G){for(var U=G[j],Q=0;Q<U&&(P.push(G.length>j+1?[]:new A),!(G.length<j+1));Q++)E(P[Q],j+1,G)}(D,0,S),D}var l=function(){var S=this;function A(x,k){for(var M=1<<k-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function D(x,k,M,V,re){t(!(V%M));do x[k+(V-=M)]=re;while(0<V)}function E(x,k,M,V,re){if(t(2328>=re),512>=re)var se=i(512);else if((se=i(re))==null)return 0;return function(oe,fe,pe,ye,ke,Ue){var ze,Le,at=fe,Xe=1<<pe,Pe=i(16),Oe=i(16);for(t(ke!=0),t(ye!=null),t(oe!=null),t(0<pe),Le=0;Le<ke;++Le){if(15<ye[Le])return 0;++Pe[ye[Le]]}if(Pe[0]==ke)return 0;for(Oe[1]=0,ze=1;15>ze;++ze){if(Pe[ze]>1<<ze)return 0;Oe[ze+1]=Oe[ze]+Pe[ze]}for(Le=0;Le<ke;++Le)ze=ye[Le],0<ye[Le]&&(Ue[Oe[ze]++]=Le);if(Oe[15]==1)return(ye=new P).g=0,ye.value=Ue[0],D(oe,at,1,Xe,ye),Xe;var tt,lt=-1,nt=Xe-1,Pt=0,St=1,Vt=1,Et=1<<pe;for(Le=0,ze=1,ke=2;ze<=pe;++ze,ke<<=1){if(St+=Vt<<=1,0>(Vt-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze])(ye=new P).g=ze,ye.value=Ue[Le++],D(oe,at+Pt,ke,Et,ye),Pt=A(Pt,ze)}for(ze=pe+1,ke=2;15>=ze;++ze,ke<<=1){if(St+=Vt<<=1,0>(Vt-=Pe[ze]))return 0;for(;0<Pe[ze];--Pe[ze]){if(ye=new P,(Pt&nt)!=lt){for(at+=Et,tt=1<<(lt=ze)-pe;15>lt&&!(0>=(tt-=Pe[lt]));)++lt,tt<<=1;Xe+=Et=1<<(tt=lt-pe),oe[fe+(lt=Pt&nt)].g=tt+pe,oe[fe+lt].value=at-fe-lt}ye.g=ze-pe,ye.value=Ue[Le++],D(oe,at+(Pt>>pe),ke,Et,ye),Pt=A(Pt,ze)}}return St!=2*Oe[15]-1?0:Xe}(x,k,M,V,re,se)}function P(){this.value=this.g=0}function j(){this.value=this.g=0}function G(){this.G=s(5,P),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ba,j)}function U(x,k,M,V){t(x!=null),t(k!=null),t(2147483648>V),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=k,x.pa=M,x.Jd=k,x.Yc=M+V,x.Zc=4<=V?M+V-4+1:M,le(x)}function Q(x,k){for(var M=0;0<k--;)M|=X(x,128)<<k;return M}function J(x,k){var M=Q(x,k);return ce(x)?-M:M}function z(x,k,M,V){var re,se=0;for(t(x!=null),t(k!=null),t(4294967288>V),x.Sb=V,x.Ra=0,x.u=0,x.h=0,4<V&&(V=4),re=0;re<V;++re)se+=k[M+re]<<8*re;x.Ra=se,x.bb=V,x.oa=k,x.pa=M}function B(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Ed-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function ee(x,k){if(t(0<=k),!x.h&&k<=Td){var M=F(x)&Ad[k];return x.u+=k,B(x),M}return x.h=1,x.u=0}function ne(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function I(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(x){return x.Ra>>>(x.u&Ed-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Ed}function Y(x,k){x.u=k,x.h=q(x)}function K(x){x.u>=cm&&(t(x.u>=cm),B(x))}function le(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ce(x){return Q(x,1)}function X(x,k){var M=x.Ca;0>x.b&&le(x);var V=x.b,re=M*k>>>8,se=(x.I>>>V>re)+0;for(se?(M-=re,x.I-=re+1<<V>>>0):M=re+1,V=M,re=0;256<=V;)re+=8,V>>=8;return V=7^re+Ji[V],x.b-=V,x.Ca=(M<<V)-1,se}function he(x,k,M){x[k+0]=M>>24&255,x[k+1]=M>>16&255,x[k+2]=M>>8&255,x[k+3]=M>>0&255}function de(x,k){return x[k+0]<<0|x[k+1]<<8}function H(x,k){return de(x,k)|x[k+2]<<16}function Ae(x,k){return de(x,k)|de(x,k+2)<<16}function Ee(x,k){var M=1<<k;return t(x!=null),t(0<k),x.X=i(M),x.X==null?0:(x.Mb=32-k,x.Xa=k,1)}function Se(x,k){t(x!=null),t(k!=null),t(x.Xa==k.Xa),n(k.X,0,x.X,0,1<<k.Xa)}function ae(){this.X=[],this.Xa=this.Mb=0}function Ce(x,k,M,V){t(M!=null),t(V!=null);var re=M[0],se=V[0];return re==0&&(re=(x*se+k/2)/k),se==0&&(se=(k*re+x/2)/x),0>=re||0>=se?0:(M[0]=re,V[0]=se,1)}function Me(x,k){return x+(1<<k)-1>>>k}function Be(x,k){return((4278255360&x)+(4278255360&k)>>>0&4278255360)+((16711935&x)+(16711935&k)>>>0&16711935)>>>0}function Ze(x,k){S[k]=function(M,V,re,se,oe,fe,pe){var ye;for(ye=0;ye<oe;++ye){var ke=S[x](fe[pe+ye-1],re,se+ye);fe[pe+ye]=Be(M[V+ye],ke)}}}function Re(){this.ud=this.hd=this.jd=0}function Qe(x,k){return((4278124286&(x^k))>>>1)+(x&k)>>>0}function je(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ke(x,k){return je(x+(x-k+.5>>1))}function ot(x,k,M){return Math.abs(k-M)-Math.abs(x-M)}function it(x,k,M,V,re,se,oe){for(V=se[oe-1],M=0;M<re;++M)se[oe+M]=V=Be(x[k+M],V)}function ht(x,k,M,V,re){var se;for(se=0;se<M;++se){var oe=x[k+se],fe=oe>>8&255,pe=16711935&(pe=(pe=16711935&oe)+((fe<<16)+fe));V[re+se]=(4278255360&oe)+pe>>>0}}function yt(x,k){k.jd=x>>0&255,k.hd=x>>8&255,k.ud=x>>16&255}function xt(x,k,M,V,re,se){var oe;for(oe=0;oe<V;++oe){var fe=k[M+oe],pe=fe>>>8,ye=fe,ke=255&(ke=(ke=fe>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));ye=255&(ye=(ye=ye+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(ke<<24>>24)>>>5)),re[se+oe]=(4278255360&fe)+(ke<<16)+ye}}function dt(x,k,M,V,re){S[k]=function(se,oe,fe,pe,ye,ke,Ue,ze,Le){for(pe=Ue;pe<ze;++pe)for(Ue=0;Ue<Le;++Ue)ye[ke++]=re(fe[V(se[oe++])])},S[x]=function(se,oe,fe,pe,ye,ke,Ue){var ze=8>>se.b,Le=se.Ea,at=se.K[0],Xe=se.w;if(8>ze)for(se=(1<<se.b)-1,Xe=(1<<ze)-1;oe<fe;++oe){var Pe,Oe=0;for(Pe=0;Pe<Le;++Pe)Pe&se||(Oe=V(pe[ye++])),ke[Ue++]=re(at[Oe&Xe]),Oe>>=ze}else S["VP8LMapColor"+M](pe,ye,at,Xe,ke,Ue,oe,fe,Le)}}function ve(x,k,M,V,re){for(M=k+M;k<M;){var se=x[k++];V[re++]=se>>16&255,V[re++]=se>>8&255,V[re++]=se>>0&255}}function Ge(x,k,M,V,re){for(M=k+M;k<M;){var se=x[k++];V[re++]=se>>16&255,V[re++]=se>>8&255,V[re++]=se>>0&255,V[re++]=se>>24&255}}function Ye(x,k,M,V,re){for(M=k+M;k<M;){var se=(oe=x[k++])>>16&240|oe>>12&15,oe=oe>>0&240|oe>>28&15;V[re++]=se,V[re++]=oe}}function Dt(x,k,M,V,re){for(M=k+M;k<M;){var se=(oe=x[k++])>>16&248|oe>>13&7,oe=oe>>5&224|oe>>3&31;V[re++]=se,V[re++]=oe}}function Rt(x,k,M,V,re){for(M=k+M;k<M;){var se=x[k++];V[re++]=se>>0&255,V[re++]=se>>8&255,V[re++]=se>>16&255}}function lr(x,k,M,V,re,se){if(se==0)for(M=k+M;k<M;)he(V,((se=x[k++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),re+=32;else n(V,re,x,k,M)}function Xr(x,k){S[k][0]=S[x+"0"],S[k][1]=S[x+"1"],S[k][2]=S[x+"2"],S[k][3]=S[x+"3"],S[k][4]=S[x+"4"],S[k][5]=S[x+"5"],S[k][6]=S[x+"6"],S[k][7]=S[x+"7"],S[k][8]=S[x+"8"],S[k][9]=S[x+"9"],S[k][10]=S[x+"10"],S[k][11]=S[x+"11"],S[k][12]=S[x+"12"],S[k][13]=S[x+"13"],S[k][14]=S[x+"0"],S[k][15]=S[x+"0"]}function Xt(x){return x==s_||x==o_||x==dy||x==l_}function ki(){this.eb=[],this.size=this.A=this.fb=0}function Fr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function da(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ki,this.f.kb=new Fr,this.sd=null}function Pi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ir(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function $t(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function gr(x,k){var M=x.T,V=k.ba.f.RGBA,re=V.eb,se=V.fb+x.ka*V.A,oe=Hs[k.ba.S],fe=x.y,pe=x.O,ye=x.f,ke=x.N,Ue=x.ea,ze=x.W,Le=k.cc,at=k.dc,Xe=k.Mc,Pe=k.Nc,Oe=x.ka,tt=x.ka+x.T,lt=x.U,nt=lt+1>>1;for(Oe==0?oe(fe,pe,null,null,ye,ke,Ue,ze,ye,ke,Ue,ze,re,se,null,null,lt):(oe(k.ec,k.fc,fe,pe,Le,at,Xe,Pe,ye,ke,Ue,ze,re,se-V.A,re,se,lt),++M);Oe+2<tt;Oe+=2)Le=ye,at=ke,Xe=Ue,Pe=ze,ke+=x.Rc,ze+=x.Rc,se+=2*V.A,oe(fe,(pe+=2*x.fa)-x.fa,fe,pe,Le,at,Xe,Pe,ye,ke,Ue,ze,re,se-V.A,re,se,lt);return pe+=x.fa,x.j+tt<x.o?(n(k.ec,k.fc,fe,pe,lt),n(k.cc,k.dc,ye,ke,nt),n(k.Mc,k.Nc,Ue,ze,nt),M--):1&tt||oe(fe,pe,null,null,ye,ke,Ue,ze,ye,ke,Ue,ze,re,se+V.A,null,null,lt),M}function Yi(x,k,M){var V=x.F,re=[x.J];if(V!=null){var se=x.U,oe=k.ba.S,fe=oe==hy||oe==dy;k=k.ba.f.RGBA;var pe=[0],ye=x.ka;pe[0]=x.T,x.Kb&&(ye==0?--pe[0]:(--ye,re[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-ye));var ke=k.eb;ye=k.fb+ye*k.A,x=cn(V,re[0],x.width,se,pe,ke,ye+(fe?0:3),k.A),t(M==pe),x&&Xt(oe)&&qs(ke,ye,fe,se,pe,k.A)}return 0}function Ln(x){var k=x.ma,M=k.ba.S,V=11>M,re=M==uy||M==fy||M==hy||M==i_||M==12||Xt(M);if(k.memory=null,k.Ib=null,k.Jb=null,k.Nd=null,!om(k.Oa,x,re?11:12))return 0;if(re&&Xt(M)&&ut(),x.da)alert("todo:use_scaling");else{if(V){if(k.Ib=$t,x.Kb){if(M=x.U+1>>1,k.memory=i(x.U+2*M),k.memory==null)return 0;k.ec=k.memory,k.fc=0,k.cc=k.ec,k.dc=k.fc+x.U,k.Mc=k.cc,k.Nc=k.dc+M,k.Ib=gr,ut()}}else alert("todo:EmitYUV");re&&(k.Jb=Yi,V&&De())}if(V&&!SN){for(x=0;256>x;++x)GK[x]=89858*(x-128)+my>>py,XK[x]=-22014*(x-128)+my,YK[x]=-45773*(x-128),KK[x]=113618*(x-128)+my>>py;for(x=gm;x<f_;++x)k=76283*(x-16)+my>>py,QK[x-gm]=Br(k,255),JK[x-gm]=Br(k+8>>4,15);SN=1}return 1}function Ta(x){var k=x.ma,M=x.U,V=x.T;return t(!(1&x.ka)),0>=M||0>=V?0:(M=k.Ib(x,k),k.Jb!=null&&k.Jb(x,k,M),k.Dc+=M,1)}function Ci(x){x.ma.memory=null}function Ot(x,k,M,V){return ee(x,8)!=47?0:(k[0]=ee(x,14)+1,M[0]=ee(x,14)+1,V[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function ei(x,k){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+ee(k,M)+1}function ra(x,k){return 120<k?k-120:1<=(M=((M=DK[k-1])>>4)*x+(8-(15&M)))?M:1;var M}function jn(x,k,M){var V=F(M),re=x[k+=255&V].g-8;return 0<re&&(Y(M,M.u+8),V=F(M),k+=x[k].value,k+=V&(1<<re)-1),Y(M,M.u+x[k].g),x[k].value}function kn(x,k,M){return M.g+=x.g,M.value+=x.value<<k>>>0,t(8>=M.g),x.g}function wn(x,k,M){var V=x.xc;return t((k=V==0?0:x.vc[x.md*(M>>V)+(k>>V)])<x.Wb),x.Ya[k]}function ie(x,k,M,V){var re=x.ab,se=x.c*k,oe=x.C;k=oe+k;var fe=M,pe=V;for(V=x.Ta,M=x.Ua;0<re--;){var ye=x.gc[re],ke=oe,Ue=k,ze=fe,Le=pe,at=(pe=V,fe=M,ye.Ea);switch(t(ke<Ue),t(Ue<=ye.nc),ye.hc){case 2:ny(ze,Le,(Ue-ke)*at,pe,fe);break;case 0:var Xe=ke,Pe=Ue,Oe=pe,tt=fe,lt=(Et=ye).Ea;Xe==0&&(n_(ze,Le,null,null,1,Oe,tt),it(ze,Le+1,0,0,lt-1,Oe,tt+1),Le+=lt,tt+=lt,++Xe);for(var nt=1<<Et.b,Pt=nt-1,St=Me(lt,Et.b),Vt=Et.K,Et=Et.w+(Xe>>Et.b)*St;Xe<Pe;){var Dr=Vt,zr=Et,Er=1;for(um(ze,Le,Oe,tt-lt,1,Oe,tt);Er<lt;){var dr=(Er&~Pt)+nt;dr>lt&&(dr=lt),(0,hu[Dr[zr++]>>8&15])(ze,Le+ +Er,Oe,tt+Er-lt,dr-Er,Oe,tt+Er),Er=dr}Le+=lt,tt+=lt,++Xe&Pt||(Et+=St)}Ue!=ye.nc&&n(pe,fe-at,pe,fe+(Ue-ke-1)*at,at);break;case 1:for(at=ze,Pe=Le,lt=(ze=ye.Ea)-(tt=ze&~(Oe=(Le=1<<ye.b)-1)),Xe=Me(ze,ye.b),nt=ye.K,ye=ye.w+(ke>>ye.b)*Xe;ke<Ue;){for(Pt=nt,St=ye,Vt=new Re,Et=Pe+tt,Dr=Pe+ze;Pe<Et;)yt(Pt[St++],Vt),Qf(Vt,at,Pe,Le,pe,fe),Pe+=Le,fe+=Le;Pe<Dr&&(yt(Pt[St++],Vt),Qf(Vt,at,Pe,lt,pe,fe),Pe+=lt,fe+=lt),++ke&Oe||(ye+=Xe)}break;case 3:if(ze==pe&&Le==fe&&0<ye.b){for(Pe=pe,ze=at=fe+(Ue-ke)*at-(tt=(Ue-ke)*Me(ye.Ea,ye.b)),Le=pe,Oe=fe,Xe=[],tt=(lt=tt)-1;0<=tt;--tt)Xe[tt]=Le[Oe+tt];for(tt=lt-1;0<=tt;--tt)Pe[ze+tt]=Xe[tt];Vs(ye,ke,Ue,pe,at,pe,fe)}else Vs(ye,ke,Ue,ze,Le,pe,fe)}fe=V,pe=M}pe!=M&&n(V,M,fe,pe,se)}function be(x,k){var M=x.V,V=x.Ba+x.c*x.C,re=k-x.C;if(t(k<=x.l.o),t(16>=re),0<re){var se=x.l,oe=x.Ta,fe=x.Ua,pe=se.width;if(ie(x,re,M,V),re=fe=[fe],t((M=x.C)<(V=k)),t(se.v<se.va),V>se.o&&(V=se.o),M<se.j){var ye=se.j-M;M=se.j,re[0]+=ye*pe}if(M>=V?M=0:(re[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=V-M,M=1),M){if(fe=fe[0],11>(M=x.ca).S){var ke=M.f.RGBA,Ue=(V=M.S,re=se.U,se=se.T,ye=ke.eb,ke.A),ze=se;for(ke=ke.fb+x.Ma*ke.A;0<ze--;){var Le=oe,at=fe,Xe=re,Pe=ye,Oe=ke;switch(V){case cy:Zi(Le,at,Xe,Pe,Oe);break;case uy:Ii(Le,at,Xe,Pe,Oe);break;case s_:Ii(Le,at,Xe,Pe,Oe),qs(Pe,Oe,0,Xe,1,0);break;case dN:Zl(Le,at,Xe,Pe,Oe);break;case fy:lr(Le,at,Xe,Pe,Oe,1);break;case o_:lr(Le,at,Xe,Pe,Oe,1),qs(Pe,Oe,0,Xe,1,0);break;case hy:lr(Le,at,Xe,Pe,Oe,0);break;case dy:lr(Le,at,Xe,Pe,Oe,0),qs(Pe,Oe,1,Xe,1,0);break;case i_:du(Le,at,Xe,Pe,Oe);break;case l_:du(Le,at,Xe,Pe,Oe),ln(Pe,Oe,Xe,1,0);break;case pN:Jl(Le,at,Xe,Pe,Oe);break;default:t(0)}fe+=pe,ke+=Ue}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=k,t(x.C<=x.i)}function me(x){var k;if(0<x.ua)return 0;for(k=0;k<x.Wb;++k){var M=x.Ya[k].G,V=x.Ya[k].H;if(0<M[1][V[1]+0].g||0<M[2][V[2]+0].g||0<M[3][V[3]+0].g)return 0}return 1}function ge(x,k,M,V,re,se){if(x.Z!=0){var oe=x.qd,fe=x.rd;for(t(vu[x.Z]!=null);k<M;++k)vu[x.Z](oe,fe,V,re,V,re,se),oe=V,fe=re,re+=se;x.qd=oe,x.rd=fe}}function xe(x,k){var M=x.l.ma,V=M.Z==0||M.Z==1?x.l.j:x.C;if(V=x.C<V?V:x.C,t(k<=x.l.o),k>V){var re=x.l.width,se=M.ca,oe=M.tb+re*V,fe=x.V,pe=x.Ba+x.c*V,ye=x.gc;t(x.ab==1),t(ye[0].hc==3),ay(ye[0],V,k,fe,pe,se,oe),ge(M,V,k,se,oe,re)}x.C=x.Ma=k}function we(x,k,M,V,re,se,oe){var fe=x.$/V,pe=x.$%V,ye=x.m,ke=x.s,Ue=M+x.$,ze=Ue;re=M+V*re;var Le=M+V*se,at=280+ke.ua,Xe=x.Pb?fe:16777216,Pe=0<ke.ua?ke.Wa:null,Oe=ke.wc,tt=Ue<Le?wn(ke,pe,fe):null;t(x.C<se),t(Le<=re);var lt=!1;e:for(;;){for(;lt||Ue<Le;){var nt=0;if(fe>=Xe){var Pt=Ue-M;t((Xe=x).Pb),Xe.wd=Xe.m,Xe.xd=Pt,0<Xe.s.ua&&Se(Xe.s.Wa,Xe.s.vb),Xe=fe+jK}if(pe&Oe||(tt=wn(ke,pe,fe)),t(tt!=null),tt.Qb&&(k[Ue]=tt.qb,lt=!0),!lt)if(K(ye),tt.jc){nt=ye,Pt=k;var St=Ue,Vt=tt.pd[F(nt)&Ba-1];t(tt.jc),256>Vt.g?(Y(nt,nt.u+Vt.g),Pt[St]=Vt.value,nt=0):(Y(nt,nt.u+Vt.g-256),t(256<=Vt.value),nt=Vt.value),nt==0&&(lt=!0)}else nt=jn(tt.G[0],tt.H[0],ye);if(ye.h)break;if(lt||256>nt){if(!lt)if(tt.nd)k[Ue]=(tt.qb|nt<<8)>>>0;else{if(K(ye),lt=jn(tt.G[1],tt.H[1],ye),K(ye),Pt=jn(tt.G[2],tt.H[2],ye),St=jn(tt.G[3],tt.H[3],ye),ye.h)break;k[Ue]=(St<<24|lt<<16|nt<<8|Pt)>>>0}if(lt=!1,++Ue,++pe>=V&&(pe=0,++fe,oe!=null&&fe<=se&&!(fe%16)&&oe(x,fe),Pe!=null))for(;ze<Ue;)nt=k[ze++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt}else if(280>nt){if(nt=ei(nt-256,ye),Pt=jn(tt.G[4],tt.H[4],ye),K(ye),Pt=ra(V,Pt=ei(Pt,ye)),ye.h)break;if(Ue-M<Pt||re-Ue<nt)break e;for(St=0;St<nt;++St)k[Ue+St]=k[Ue+St-Pt];for(Ue+=nt,pe+=nt;pe>=V;)pe-=V,++fe,oe!=null&&fe<=se&&!(fe%16)&&oe(x,fe);if(t(Ue<=re),pe&Oe&&(tt=wn(ke,pe,fe)),Pe!=null)for(;ze<Ue;)nt=k[ze++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt}else{if(!(nt<at))break e;for(lt=nt-280,t(Pe!=null);ze<Ue;)nt=k[ze++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt;nt=Ue,t(!(lt>>>(Pt=Pe).Xa)),k[nt]=Pt.X[lt],lt=!0}lt||t(ye.h==q(ye))}if(x.Pb&&ye.h&&Ue<re)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&Se(x.s.vb,x.s.Wa);else{if(ye.h)break e;oe!=null&&oe(x,fe>se?se:fe),x.a=0,x.$=Ue-M}return 1}return x.a=3,0}function Fe(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var k=x.Wa;k!=null&&(k.X=null),x.vb=null,t(x!=null)}function He(){var x=new _d;return x==null?null:(x.a=0,x.xb=vN,Xr("Predictor","VP8LPredictors"),Xr("Predictor","VP8LPredictors_C"),Xr("PredictorAdd","VP8LPredictorsAdd"),Xr("PredictorAdd","VP8LPredictorsAdd_C"),ny=ht,Qf=xt,Zi=ve,Ii=Ge,du=Ye,Jl=Dt,Zl=Rt,S.VP8LMapColor32b=kd,S.VP8LMapColor8b=iy,x)}function $e(x,k,M,V,re){var se=1,oe=[x],fe=[k],pe=V.m,ye=V.s,ke=null,Ue=0;e:for(;;){if(M)for(;se&&ee(pe,1);){var ze=oe,Le=fe,at=V,Xe=1,Pe=at.m,Oe=at.gc[at.ab],tt=ee(Pe,2);if(at.Oc&1<<tt)se=0;else{switch(at.Oc|=1<<tt,Oe.hc=tt,Oe.Ea=ze[0],Oe.nc=Le[0],Oe.K=[null],++at.ab,t(4>=at.ab),tt){case 0:case 1:Oe.b=ee(Pe,3)+2,Xe=$e(Me(Oe.Ea,Oe.b),Me(Oe.nc,Oe.b),0,at,Oe.K),Oe.K=Oe.K[0];break;case 3:var lt,nt=ee(Pe,8)+1,Pt=16<nt?0:4<nt?1:2<nt?2:3;if(ze[0]=Me(Oe.Ea,Pt),Oe.b=Pt,lt=Xe=$e(nt,1,0,at,Oe.K)){var St,Vt=nt,Et=Oe,Dr=1<<(8>>Et.b),zr=i(Dr);if(zr==null)lt=0;else{var Er=Et.K[0],dr=Et.w;for(zr[0]=Et.K[0][0],St=1;St<1*Vt;++St)zr[St]=Be(Er[dr+St],zr[St-1]);for(;St<4*Dr;++St)zr[St]=0;Et.K[0]=null,Et.K[0]=zr,lt=1}}Xe=lt;break;case 2:break;default:t(0)}se=Xe}}if(oe=oe[0],fe=fe[0],se&&ee(pe,1)&&!(se=1<=(Ue=ee(pe,4))&&11>=Ue)){V.a=3;break e}var an;if(an=se)t:{var Jr,ar,na,es=V,aa=oe,ts=fe,qr=Ue,bs=M,ws=es.m,Ea=es.s,Va=[null],Li=1,Gs=0,pl=LK[qr];r:for(;;){if(bs&&ee(ws,1)){var ka=ee(ws,3)+2,nc=Me(aa,ka),rh=Me(ts,ka),Id=nc*rh;if(!$e(nc,rh,0,es,Va))break r;for(Va=Va[0],Ea.xc=ka,Jr=0;Jr<Id;++Jr){var yu=Va[Jr]>>8&65535;Va[Jr]=yu,yu>=Li&&(Li=yu+1)}}if(ws.h)break r;for(ar=0;5>ar;++ar){var Rn=mN[ar];!ar&&0<qr&&(Rn+=1<<qr),Gs<Rn&&(Gs=Rn)}var h_=s(Li*pl,P),EN=Li,kN=s(EN,G);if(kN==null)var vy=null;else t(65536>=EN),vy=kN;var vm=i(Gs);if(vy==null||vm==null||h_==null){es.a=1;break r}var yy=h_;for(Jr=na=0;Jr<Li;++Jr){var Co=vy[Jr],Dd=Co.G,Ld=Co.H,PN=0,xy=1,CN=0;for(ar=0;5>ar;++ar){Rn=mN[ar],Dd[ar]=yy,Ld[ar]=na,!ar&&0<qr&&(Rn+=1<<qr);a:{var by,d_=Rn,wy=es,ym=vm,tY=yy,rY=na,p_=0,xu=wy.m,nY=ee(xu,1);if(a(ym,0,0,d_),nY){var aY=ee(xu,1)+1,iY=ee(xu,1),NN=ee(xu,iY==0?1:8);ym[NN]=1,aY==2&&(ym[NN=ee(xu,8)]=1);var _y=1}else{var ON=i(19),IN=ee(xu,4)+4;if(19<IN){wy.a=3;var Sy=0;break a}for(by=0;by<IN;++by)ON[IK[by]]=ee(xu,3);var m_=void 0,xm=void 0,DN=wy,sY=ON,Ay=d_,LN=ym,g_=0,bu=DN.m,jN=8,MN=s(128,P);n:for(;E(MN,0,7,sY,19);){if(ee(bu,1)){var oY=2+2*ee(bu,3);if((m_=2+ee(bu,oY))>Ay)break n}else m_=Ay;for(xm=0;xm<Ay&&m_--;){K(bu);var RN=MN[0+(127&F(bu))];Y(bu,bu.u+RN.g);var jd=RN.value;if(16>jd)LN[xm++]=jd,jd!=0&&(jN=jd);else{var lY=jd==16,FN=jd-16,cY=NK[FN],$N=ee(bu,CK[FN])+cY;if(xm+$N>Ay)break n;for(var uY=lY?jN:0;0<$N--;)LN[xm++]=uY}}g_=1;break n}g_||(DN.a=3),_y=g_}(_y=_y&&!xu.h)&&(p_=E(tY,rY,8,ym,d_)),_y&&p_!=0?Sy=p_:(wy.a=3,Sy=0)}if(Sy==0)break r;if(xy&&OK[ar]==1&&(xy=yy[na].g==0),PN+=yy[na].g,na+=Sy,3>=ar){var bm,v_=vm[0];for(bm=1;bm<Rn;++bm)vm[bm]>v_&&(v_=vm[bm]);CN+=v_}}if(Co.nd=xy,Co.Qb=0,xy&&(Co.qb=(Dd[3][Ld[3]+0].value<<24|Dd[1][Ld[1]+0].value<<16|Dd[2][Ld[2]+0].value)>>>0,PN==0&&256>Dd[0][Ld[0]+0].value&&(Co.Qb=1,Co.qb+=Dd[0][Ld[0]+0].value<<8)),Co.jc=!Co.Qb&&6>CN,Co.jc){var Ty,ac=Co;for(Ty=0;Ty<Ba;++Ty){var wu=Ty,_u=ac.pd[wu],Ey=ac.G[0][ac.H[0]+wu];256<=Ey.value?(_u.g=Ey.g+256,_u.value=Ey.value):(_u.g=0,_u.value=0,wu>>=kn(Ey,8,_u),wu>>=kn(ac.G[1][ac.H[1]+wu],16,_u),wu>>=kn(ac.G[2][ac.H[2]+wu],0,_u),kn(ac.G[3][ac.H[3]+wu],24,_u))}}}Ea.vc=Va,Ea.Wb=Li,Ea.Ya=vy,Ea.yc=h_,an=1;break t}an=0}if(!(se=an)){V.a=3;break e}if(0<Ue){if(ye.ua=1<<Ue,!Ee(ye.Wa,Ue)){V.a=1,se=0;break e}}else ye.ua=0;var y_=V,BN=oe,fY=fe,x_=y_.s,b_=x_.xc;if(y_.c=BN,y_.i=fY,x_.md=Me(BN,b_),x_.wc=b_==0?-1:(1<<b_)-1,M){V.xb=UK;break e}if((ke=i(oe*fe))==null){V.a=1,se=0;break e}se=(se=we(V,ke,0,oe,fe,fe,null))&&!pe.h;break e}return se?(re!=null?re[0]=ke:(t(ke==null),t(M)),V.$=0,M||Fe(ye)):Fe(ye),se}function Ve(x,k){var M=x.c*x.i,V=M+k+16*k;return t(x.c<=k),x.V=i(V),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+k,1)}function We(x,k){var M=x.C,V=k-M,re=x.V,se=x.Ba+x.c*M;for(t(k<=x.l.o);0<V;){var oe=16<V?16:V,fe=x.l.ma,pe=x.l.width,ye=pe*oe,ke=fe.ca,Ue=fe.tb+pe*M,ze=x.Ta,Le=x.Ua;ie(x,oe,re,se),Kn(ze,Le,ke,Ue,ye),ge(fe,M,M+oe,ke,Ue,pe),V-=oe,re+=oe*x.c,M+=oe}t(M==k),x.C=x.Ma=k}function ct(){this.ub=this.yd=this.td=this.Rb=0}function vt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Tt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pt(){this.Yb=function(){var x=[];return function k(M,V,re){for(var se=re[V],oe=0;oe<se&&(M.push(re.length>V+1?[]:0),!(re.length<V+1));oe++)k(M[oe],V+1,re)}(x,0,[3,11]),x}()}function wt(){this.jb=i(3),this.Wc=o([4,8],pt),this.Xc=o([4,17],pt)}function Ut(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function xr(){this.ld=this.La=this.dd=this.tc=0}function br(){this.Na=this.la=0}function Qr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ni(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bo(){this.uc=this.M=this.Nb=0,this.wa=Array(new xr),this.Y=0,this.ya=Array(new Ni),this.aa=0,this.l=new ms}function ps(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Xi(){this.cb=this.a=0,this.sc="",this.m=new ne,this.Od=new ct,this.Kc=new vt,this.ed=new Ut,this.Qa=new Tt,this.Ic=this.$c=this.Aa=0,this.D=new bo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ne),this.ia=0,this.pb=s(4,Qr),this.Pa=new wt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ps),this.Hd=0,this.rb=Array(new br),this.sb=0,this.wa=Array(new xr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ni),this.L=this.aa=0,this.gd=o([4,2],xr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ms(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ra(){var x=new Xi;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,mm||(mm=md)),x}function dn(x,k,M){return x.a==0&&(x.a=k,x.sc=M,x.cb=0),0}function $f(x,k,M){return 3<=M&&x[k+0]==157&&x[k+1]==1&&x[k+2]==42}function Bf(x,k){if(x==null)return 0;if(x.a=0,x.sc="OK",k==null)return dn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=k.data,V=k.w,re=k.ha;if(4>re)return dn(x,7,"Truncated header.");var se=M[V+0]|M[V+1]<<8|M[V+2]<<16,oe=x.Od;if(oe.Rb=!(1&se),oe.td=se>>1&7,oe.yd=se>>4&1,oe.ub=se>>5,3<oe.td)return dn(x,3,"Incorrect keyframe parameters.");if(!oe.yd)return dn(x,4,"Frame not displayable.");V+=3,re-=3;var fe=x.Kc;if(oe.Rb){if(7>re)return dn(x,7,"cannot parse picture header");if(!$f(M,V,re))return dn(x,3,"Bad code word");fe.c=16383&(M[V+4]<<8|M[V+3]),fe.Td=M[V+4]>>6,fe.i=16383&(M[V+6]<<8|M[V+5]),fe.Ud=M[V+6]>>6,V+=7,re-=7,x.za=fe.c+15>>4,x.Ub=fe.i+15>>4,k.width=fe.c,k.height=fe.i,k.Da=0,k.j=0,k.v=0,k.va=k.width,k.o=k.height,k.da=0,k.ib=k.width,k.hb=k.height,k.U=k.width,k.T=k.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(oe.ub>re)return dn(x,7,"bad partition length");U(se=x.m,M,V,oe.ub),V+=oe.ub,re-=oe.ub,oe.Rb&&(fe.Ld=ce(se),fe.Kd=ce(se)),fe=x.Qa;var pe,ye=x.Pa;if(t(se!=null),t(fe!=null),fe.Cb=ce(se),fe.Cb){if(fe.Bb=ce(se),ce(se)){for(fe.Fb=ce(se),pe=0;4>pe;++pe)fe.Zb[pe]=ce(se)?J(se,7):0;for(pe=0;4>pe;++pe)fe.Lb[pe]=ce(se)?J(se,6):0}if(fe.Bb)for(pe=0;3>pe;++pe)ye.jb[pe]=ce(se)?Q(se,8):255}else fe.Bb=0;if(se.Ka)return dn(x,3,"cannot parse segment header");if((fe=x.ed).zd=ce(se),fe.Tb=Q(se,6),fe.wb=Q(se,3),fe.Pc=ce(se),fe.Pc&&ce(se)){for(ye=0;4>ye;++ye)ce(se)&&(fe.vd[ye]=J(se,6));for(ye=0;4>ye;++ye)ce(se)&&(fe.od[ye]=J(se,6))}if(x.L=fe.Tb==0?0:fe.zd?1:2,se.Ka)return dn(x,3,"cannot parse filter header");var ke=re;if(re=pe=V,V=pe+ke,fe=ke,x.Xb=(1<<Q(x.m,2))-1,ke<3*(ye=x.Xb))M=7;else{for(pe+=3*ye,fe-=3*ye,ke=0;ke<ye;++ke){var Ue=M[re+0]|M[re+1]<<8|M[re+2]<<16;Ue>fe&&(Ue=fe),U(x.Jc[+ke],M,pe,Ue),pe+=Ue,fe-=Ue,re+=3}U(x.Jc[+ye],M,pe,fe),M=pe<V?0:5}if(M!=0)return dn(x,M,"cannot parse partitions");for(M=Q(pe=x.m,7),re=ce(pe)?J(pe,4):0,V=ce(pe)?J(pe,4):0,fe=ce(pe)?J(pe,4):0,ye=ce(pe)?J(pe,4):0,pe=ce(pe)?J(pe,4):0,ke=x.Qa,Ue=0;4>Ue;++Ue){if(ke.Cb){var ze=ke.Zb[Ue];ke.Fb||(ze+=M)}else{if(0<Ue){x.pb[Ue]=x.pb[0];continue}ze=M}var Le=x.pb[Ue];Le.Sc[0]=c_[Br(ze+re,127)],Le.Sc[1]=u_[Br(ze+0,127)],Le.Eb[0]=2*c_[Br(ze+V,127)],Le.Eb[1]=101581*u_[Br(ze+fe,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=c_[Br(ze+ye,117)],Le.Qc[1]=u_[Br(ze+pe,127)],Le.lc=ze+pe}if(!oe.Rb)return dn(x,4,"Not a key frame.");for(ce(se),oe=x.Pa,M=0;4>M;++M){for(re=0;8>re;++re)for(V=0;3>V;++V)for(fe=0;11>fe;++fe)ye=X(se,BK[M][re][V][fe])?Q(se,8):FK[M][re][V][fe],oe.Wc[M][re].Yb[V][fe]=ye;for(re=0;17>re;++re)oe.Xc[M][re]=oe.Wc[M][VK[re]]}return x.kc=ce(se),x.kc&&(x.Bd=Q(se,8)),x.cb=1}function md(x,k,M,V,re,se,oe){var fe=k[re].Yb[M];for(M=0;16>re;++re){if(!X(x,fe[M+0]))return re;for(;!X(x,fe[M+1]);)if(fe=k[++re].Yb[0],M=0,re==16)return 16;var pe=k[re+1].Yb;if(X(x,fe[M+2])){var ye=x,ke=0;if(X(ye,(ze=fe)[(Ue=M)+3]))if(X(ye,ze[Ue+6])){for(fe=0,Ue=2*(ke=X(ye,ze[Ue+8]))+(ze=X(ye,ze[Ue+9+ke])),ke=0,ze=MK[Ue];ze[fe];++fe)ke+=ke+X(ye,ze[fe]);ke+=3+(8<<Ue)}else X(ye,ze[Ue+7])?(ke=7+2*X(ye,165),ke+=X(ye,145)):ke=5+X(ye,159);else ke=X(ye,ze[Ue+4])?3+X(ye,ze[Ue+5]):2;fe=pe[2]}else ke=1,fe=pe[1];pe=oe+RK[re],0>(ye=x).b&&le(ye);var Ue,ze=ye.b,Le=(Ue=ye.Ca>>1)-(ye.I>>ze)>>31;--ye.b,ye.Ca+=Le,ye.Ca|=1,ye.I-=(Ue+1&Le)<<ze,se[pe]=((ke^Le)-Le)*V[(0<re)+0]}return 16}function Vf(x){var k=x.rb[x.sb-1];k.la=0,k.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function gd(x,k){if(x==null)return 0;if(k==null)return dn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!Bf(x,k))return 0;if(t(x.cb),k.ac==null||k.ac(k)){k.ob&&(x.L=0);var M=gy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=k.v-M>>4,x.zb=k.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=k.o+15+M>>4,x.Hb=k.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var V=x.ed;for(M=0;4>M;++M){var re;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=V.Tb)}else se=V.Tb;for(re=0;1>=re;++re){var oe=x.gd[M][re],fe=se;if(V.Pc&&(fe+=V.vd[0],re&&(fe+=V.od[0])),0<(fe=0>fe?0:63<fe?63:fe)){var pe=fe;0<V.wb&&(pe=4<V.wb?pe>>2:pe>>1)>9-V.wb&&(pe=9-V.wb),1>pe&&(pe=1),oe.dd=pe,oe.tc=2*fe+pe,oe.ld=40<=fe?2:15<=fe?1:0}else oe.tc=0;oe.La=re}}}M=0}else dn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=eY);e:{M=x.Ic,V=4*(pe=x.za);var ye=32*pe,ke=pe+1,Ue=0<x.L?pe*(0<x.Aa?2:1):0,ze=(x.Aa==2?2:1)*pe;if((oe=V+832+(re=3*(16*M+gy[x.L])/2*ye)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=oe)M=0;else{if(oe>x.Vb){if(x.Vb=0,x.Ec=i(oe),x.Fc=0,x.Ec==null){M=dn(x,1,"no memory during frame initialization.");break e}x.Vb=oe}oe=x.Ec,fe=x.Fc,x.Ac=oe,x.Bc=fe,fe+=V,x.Gd=s(ye,ps),x.Hd=0,x.rb=s(ke+1,br),x.sb=1,x.wa=Ue?s(Ue,xr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=oe,x.pc=fe,fe+=832,x.ya=s(ze,Ni),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(ye=gy[x.L])*x.R,ye=ye/2*x.B,x.sa=oe,x.ta=fe+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+ye,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+ye,x.$c=0,fe+=re,x.mb=se?oe:null,x.nb=se?fe:null,t(fe+se<=x.Fc+x.Vb),Vf(x),a(x.Ac,x.Bc,0,V),M=1}}if(M){if(k.ka=0,k.y=x.sa,k.O=x.ta,k.f=x.qa,k.N=x.ra,k.ea=x.Ha,k.Vd=x.Ia,k.fa=x.R,k.Rc=x.B,k.F=null,k.J=0,!oy){for(M=-255;255>=M;++M)ma[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)tc[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)pm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Od[255+M]=0>M?0:255<M?255:M;oy=1}Pd=Gl,ec=Qc,fm=Uf,Di=Ur,Us=Hl,Gn=Wl,Cd=au,sy=To,hm=su,Jf=Xf,Zf=iu,pu=Yl,eh=ou,Nd=ul,th=Kl,mu=ys,dm=pa,zs=wd,Po[0]=Bs,Po[1]=am,Po[2]=ll,Po[3]=sm,Po[4]=xd,Po[5]=eu,Po[6]=gs,Po[7]=qf,Po[8]=ru,Po[9]=tu,gu[0]=ol,gu[1]=im,gu[2]=_o,gu[3]=Jc,gu[4]=pn,gu[5]=yd,gu[6]=zf,rc[0]=Ao,rc[1]=vd,rc[2]=bd,rc[3]=So,rc[4]=$r,rc[5]=Wf,rc[6]=Hf,M=1}else M=0}M&&(M=function(Le,at){for(Le.M=0;Le.M<Le.Va;++Le.M){var Xe,Pe=Le.Jc[Le.M&Le.Xb],Oe=Le.m,tt=Le;for(Xe=0;Xe<tt.za;++Xe){var lt=Oe,nt=tt,Pt=nt.Ac,St=nt.Bc+4*Xe,Vt=nt.zc,Et=nt.ya[nt.aa+Xe];if(nt.Qa.Bb?Et.$b=X(lt,nt.Pa.jb[0])?2+X(lt,nt.Pa.jb[2]):X(lt,nt.Pa.jb[1]):Et.$b=0,nt.kc&&(Et.Ad=X(lt,nt.Bd)),Et.Za=!X(lt,145)+0,Et.Za){var Dr=Et.Ob,zr=0;for(nt=0;4>nt;++nt){var Er,dr=Vt[0+nt];for(Er=0;4>Er;++Er){dr=$K[Pt[St+Er]][dr];for(var an=gN[X(lt,dr[0])];0<an;)an=gN[2*an+X(lt,dr[an])];dr=-an,Pt[St+Er]=dr}n(Dr,zr,Pt,St,4),zr+=4,Vt[0+nt]=dr}}else dr=X(lt,156)?X(lt,128)?1:3:X(lt,163)?2:0,Et.Ob[0]=dr,a(Pt,St,dr,4),a(Vt,0,dr,4);Et.Dd=X(lt,142)?X(lt,114)?X(lt,183)?1:3:2:0}if(tt.m.Ka)return dn(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(tt=Pe,lt=(Oe=Le).rb[Oe.sb-1],Pt=Oe.rb[Oe.sb+Oe.ja],Xe=Oe.ya[Oe.aa+Oe.ja],St=Oe.kc?Xe.Ad:0)lt.la=Pt.la=0,Xe.Za||(lt.Na=Pt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var Jr,ar;if(lt=Pt,Pt=tt,St=Oe.Pa.Xc,Vt=Oe.ya[Oe.aa+Oe.ja],Et=Oe.pb[Vt.$b],nt=Vt.ad,Dr=0,zr=Oe.rb[Oe.sb-1],dr=Er=0,a(nt,Dr,0,384),Vt.Za)var na=0,es=St[3];else{an=i(16);var aa=lt.Na+zr.Na;if(aa=mm(Pt,St[1],aa,Et.Eb,0,an,0),lt.Na=zr.Na=(0<aa)+0,1<aa)Pd(an,0,nt,Dr);else{var ts=an[0]+3>>3;for(an=0;256>an;an+=16)nt[Dr+an]=ts}na=1,es=St[0]}var qr=15&lt.la,bs=15&zr.la;for(an=0;4>an;++an){var ws=1&bs;for(ts=ar=0;4>ts;++ts)qr=qr>>1|(ws=(aa=mm(Pt,es,aa=ws+(1&qr),Et.Sc,na,nt,Dr))>na)<<7,ar=ar<<2|(3<aa?3:1<aa?2:nt[Dr+0]!=0),Dr+=16;qr>>=4,bs=bs>>1|ws<<7,Er=(Er<<8|ar)>>>0}for(es=qr,na=bs>>4,Jr=0;4>Jr;Jr+=2){for(ar=0,qr=lt.la>>4+Jr,bs=zr.la>>4+Jr,an=0;2>an;++an){for(ws=1&bs,ts=0;2>ts;++ts)aa=ws+(1&qr),qr=qr>>1|(ws=0<(aa=mm(Pt,St[2],aa,Et.Qc,0,nt,Dr)))<<3,ar=ar<<2|(3<aa?3:1<aa?2:nt[Dr+0]!=0),Dr+=16;qr>>=2,bs=bs>>1|ws<<5}dr|=ar<<4*Jr,es|=qr<<4<<Jr,na|=(240&bs)<<Jr}lt.la=es,zr.la=na,Vt.Hc=Er,Vt.Gc=dr,Vt.ia=43690&dr?0:Et.ia,St=!(Er|dr)}if(0<Oe.L&&(Oe.wa[Oe.Y+Oe.ja]=Oe.gd[Xe.$b][Xe.Za],Oe.wa[Oe.Y+Oe.ja].La|=!St),tt.Ka)return dn(Le,7,"Premature end-of-file encountered.")}if(Vf(Le),Oe=at,tt=1,Xe=(Pe=Le).D,lt=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Xe.M=Pe.M,Xe.uc=lt,hl(Pe,Xe),tt=1,Xe=(ar=Pe.D).Nb,lt=(dr=gy[Pe.L])*Pe.R,Pt=dr/2*Pe.B,an=16*Xe*Pe.R,ts=8*Xe*Pe.B,St=Pe.sa,Vt=Pe.ta-lt+an,Et=Pe.qa,nt=Pe.ra-Pt+ts,Dr=Pe.Ha,zr=Pe.Ia-Pt+ts,bs=(qr=ar.M)==0,Er=qr>=Pe.Va-1,Pe.Aa==2&&hl(Pe,ar),ar.uc)for(ws=(aa=Pe).D.M,t(aa.D.uc),ar=aa.yb;ar<aa.Hb;++ar){na=ar,es=ws;var Ea=(Va=(Rn=aa).D).Nb;Jr=Rn.R;var Va=Va.wa[Va.Y+na],Li=Rn.sa,Gs=Rn.ta+16*Ea*Jr+16*na,pl=Va.dd,ka=Va.tc;if(ka!=0)if(t(3<=ka),Rn.L==1)0<na&&mu(Li,Gs,Jr,ka+4),Va.La&&zs(Li,Gs,Jr,ka),0<es&&th(Li,Gs,Jr,ka+4),Va.La&&dm(Li,Gs,Jr,ka);else{var nc=Rn.B,rh=Rn.qa,Id=Rn.ra+8*Ea*nc+8*na,yu=Rn.Ha,Rn=Rn.Ia+8*Ea*nc+8*na;Ea=Va.ld,0<na&&(sy(Li,Gs,Jr,ka+4,pl,Ea),Jf(rh,Id,yu,Rn,nc,ka+4,pl,Ea)),Va.La&&(pu(Li,Gs,Jr,ka,pl,Ea),Nd(rh,Id,yu,Rn,nc,ka,pl,Ea)),0<es&&(Cd(Li,Gs,Jr,ka+4,pl,Ea),hm(rh,Id,yu,Rn,nc,ka+4,pl,Ea)),Va.La&&(Zf(Li,Gs,Jr,ka,pl,Ea),eh(rh,Id,yu,Rn,nc,ka,pl,Ea))}}if(Pe.ia&&alert("todo:DitherRow"),Oe.put!=null){if(ar=16*qr,qr=16*(qr+1),bs?(Oe.y=Pe.sa,Oe.O=Pe.ta+an,Oe.f=Pe.qa,Oe.N=Pe.ra+ts,Oe.ea=Pe.Ha,Oe.W=Pe.Ia+ts):(ar-=dr,Oe.y=St,Oe.O=Vt,Oe.f=Et,Oe.N=nt,Oe.ea=Dr,Oe.W=zr),Er||(qr-=dr),qr>Oe.o&&(qr=Oe.o),Oe.F=null,Oe.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&ar<qr&&(Oe.J=fu(Pe,Oe,ar,qr-ar),Oe.F=Pe.mb,Oe.F==null&&Oe.F.length==0)){tt=dn(Pe,3,"Could not decode alpha data.");break e}ar<Oe.j&&(dr=Oe.j-ar,ar=Oe.j,t(!(1&dr)),Oe.O+=Pe.R*dr,Oe.N+=Pe.B*(dr>>1),Oe.W+=Pe.B*(dr>>1),Oe.F!=null&&(Oe.J+=Oe.width*dr)),ar<qr&&(Oe.O+=Oe.v,Oe.N+=Oe.v>>1,Oe.W+=Oe.v>>1,Oe.F!=null&&(Oe.J+=Oe.v),Oe.ka=ar-Oe.j,Oe.U=Oe.va-Oe.v,Oe.T=qr-ar,tt=Oe.put(Oe))}Xe+1!=Pe.Ic||Er||(n(Pe.sa,Pe.ta-lt,St,Vt+16*Pe.R,lt),n(Pe.qa,Pe.ra-Pt,Et,nt+8*Pe.B,Pt),n(Pe.Ha,Pe.Ia-Pt,Dr,zr+8*Pe.B,Pt))}if(!tt)return dn(Le,6,"Output aborted.")}return 1}(x,k)),k.bc!=null&&k.bc(k),M&=1}return M?(x.cb=0,M):0}function Qi(x,k,M,V,re){re=x[k+M+32*V]+(re>>3),x[k+M+32*V]=-256&re?0>re?0:255:re}function Xc(x,k,M,V,re,se){Qi(x,k,0,M,V+re),Qi(x,k,1,M,V+se),Qi(x,k,2,M,V-se),Qi(x,k,3,M,V-re)}function Mn(x){return(20091*x>>16)+x}function Oi(x,k,M,V){var re,se=0,oe=i(16);for(re=0;4>re;++re){var fe=x[k+0]+x[k+8],pe=x[k+0]-x[k+8],ye=(35468*x[k+4]>>16)-Mn(x[k+12]),ke=Mn(x[k+4])+(35468*x[k+12]>>16);oe[se+0]=fe+ke,oe[se+1]=pe+ye,oe[se+2]=pe-ye,oe[se+3]=fe-ke,se+=4,k++}for(re=se=0;4>re;++re)fe=(x=oe[se+0]+4)+oe[se+8],pe=x-oe[se+8],ye=(35468*oe[se+4]>>16)-Mn(oe[se+12]),Qi(M,V,0,0,fe+(ke=Mn(oe[se+4])+(35468*oe[se+12]>>16))),Qi(M,V,1,0,pe+ye),Qi(M,V,2,0,pe-ye),Qi(M,V,3,0,fe-ke),se++,V+=32}function Wl(x,k,M,V){var re=x[k+0]+4,se=35468*x[k+4]>>16,oe=Mn(x[k+4]),fe=35468*x[k+1]>>16;Xc(M,V,0,re+oe,x=Mn(x[k+1]),fe),Xc(M,V,1,re+se,x,fe),Xc(M,V,2,re-se,x,fe),Xc(M,V,3,re-oe,x,fe)}function Qc(x,k,M,V,re){Oi(x,k,M,V),re&&Oi(x,k+16,M,V+4)}function Uf(x,k,M,V){ec(x,k+0,M,V,1),ec(x,k+32,M,V+128,1)}function Ur(x,k,M,V){var re;for(x=x[k+0]+4,re=0;4>re;++re)for(k=0;4>k;++k)Qi(M,V,k,re,x)}function Hl(x,k,M,V){x[k+0]&&Di(x,k+0,M,V),x[k+16]&&Di(x,k+16,M,V+4),x[k+32]&&Di(x,k+32,M,V+128),x[k+48]&&Di(x,k+48,M,V+128+4)}function Gl(x,k,M,V){var re,se=i(16);for(re=0;4>re;++re){var oe=x[k+0+re]+x[k+12+re],fe=x[k+4+re]+x[k+8+re],pe=x[k+4+re]-x[k+8+re],ye=x[k+0+re]-x[k+12+re];se[0+re]=oe+fe,se[8+re]=oe-fe,se[4+re]=ye+pe,se[12+re]=ye-pe}for(re=0;4>re;++re)oe=(x=se[0+4*re]+3)+se[3+4*re],fe=se[1+4*re]+se[2+4*re],pe=se[1+4*re]-se[2+4*re],ye=x-se[3+4*re],M[V+0]=oe+fe>>3,M[V+16]=ye+pe>>3,M[V+32]=oe-fe>>3,M[V+48]=ye-pe>>3,V+=64}function wo(x,k,M){var V,re=k-32,se=xs,oe=255-x[re-1];for(V=0;V<M;++V){var fe,pe=se,ye=oe+x[k-1];for(fe=0;fe<M;++fe)x[k+fe]=pe[ye+x[re+fe]];k+=32}}function am(x,k){wo(x,k,4)}function vd(x,k){wo(x,k,8)}function im(x,k){wo(x,k,16)}function _o(x,k){var M;for(M=0;16>M;++M)n(x,k+32*M,x,k-32,16)}function Jc(x,k){var M;for(M=16;0<M;--M)a(x,k,x[k-1],16),k+=32}function Zc(x,k,M){var V;for(V=0;16>V;++V)a(k,M+32*V,x,16)}function ol(x,k){var M,V=16;for(M=0;16>M;++M)V+=x[k-1+32*M]+x[k+M-32];Zc(V>>5,x,k)}function pn(x,k){var M,V=8;for(M=0;16>M;++M)V+=x[k-1+32*M];Zc(V>>4,x,k)}function yd(x,k){var M,V=8;for(M=0;16>M;++M)V+=x[k+M-32];Zc(V>>4,x,k)}function zf(x,k){Zc(128,x,k)}function Gt(x,k,M){return x+2*k+M+2>>2}function ll(x,k){var M,V=k-32;for(V=new Uint8Array([Gt(x[V-1],x[V+0],x[V+1]),Gt(x[V+0],x[V+1],x[V+2]),Gt(x[V+1],x[V+2],x[V+3]),Gt(x[V+2],x[V+3],x[V+4])]),M=0;4>M;++M)n(x,k+32*M,V,0,V.length)}function sm(x,k){var M=x[k-1],V=x[k-1+32],re=x[k-1+64],se=x[k-1+96];he(x,k+0,16843009*Gt(x[k-1-32],M,V)),he(x,k+32,16843009*Gt(M,V,re)),he(x,k+64,16843009*Gt(V,re,se)),he(x,k+96,16843009*Gt(re,se,se))}function Bs(x,k){var M,V=4;for(M=0;4>M;++M)V+=x[k+M-32]+x[k-1+32*M];for(V>>=3,M=0;4>M;++M)a(x,k+32*M,V,4)}function xd(x,k){var M=x[k-1+0],V=x[k-1+32],re=x[k-1+64],se=x[k-1-32],oe=x[k+0-32],fe=x[k+1-32],pe=x[k+2-32],ye=x[k+3-32];x[k+0+96]=Gt(V,re,x[k-1+96]),x[k+1+96]=x[k+0+64]=Gt(M,V,re),x[k+2+96]=x[k+1+64]=x[k+0+32]=Gt(se,M,V),x[k+3+96]=x[k+2+64]=x[k+1+32]=x[k+0+0]=Gt(oe,se,M),x[k+3+64]=x[k+2+32]=x[k+1+0]=Gt(fe,oe,se),x[k+3+32]=x[k+2+0]=Gt(pe,fe,oe),x[k+3+0]=Gt(ye,pe,fe)}function gs(x,k){var M=x[k+1-32],V=x[k+2-32],re=x[k+3-32],se=x[k+4-32],oe=x[k+5-32],fe=x[k+6-32],pe=x[k+7-32];x[k+0+0]=Gt(x[k+0-32],M,V),x[k+1+0]=x[k+0+32]=Gt(M,V,re),x[k+2+0]=x[k+1+32]=x[k+0+64]=Gt(V,re,se),x[k+3+0]=x[k+2+32]=x[k+1+64]=x[k+0+96]=Gt(re,se,oe),x[k+3+32]=x[k+2+64]=x[k+1+96]=Gt(se,oe,fe),x[k+3+64]=x[k+2+96]=Gt(oe,fe,pe),x[k+3+96]=Gt(fe,pe,pe)}function eu(x,k){var M=x[k-1+0],V=x[k-1+32],re=x[k-1+64],se=x[k-1-32],oe=x[k+0-32],fe=x[k+1-32],pe=x[k+2-32],ye=x[k+3-32];x[k+0+0]=x[k+1+64]=se+oe+1>>1,x[k+1+0]=x[k+2+64]=oe+fe+1>>1,x[k+2+0]=x[k+3+64]=fe+pe+1>>1,x[k+3+0]=pe+ye+1>>1,x[k+0+96]=Gt(re,V,M),x[k+0+64]=Gt(V,M,se),x[k+0+32]=x[k+1+96]=Gt(M,se,oe),x[k+1+32]=x[k+2+96]=Gt(se,oe,fe),x[k+2+32]=x[k+3+96]=Gt(oe,fe,pe),x[k+3+32]=Gt(fe,pe,ye)}function qf(x,k){var M=x[k+0-32],V=x[k+1-32],re=x[k+2-32],se=x[k+3-32],oe=x[k+4-32],fe=x[k+5-32],pe=x[k+6-32],ye=x[k+7-32];x[k+0+0]=M+V+1>>1,x[k+1+0]=x[k+0+64]=V+re+1>>1,x[k+2+0]=x[k+1+64]=re+se+1>>1,x[k+3+0]=x[k+2+64]=se+oe+1>>1,x[k+0+32]=Gt(M,V,re),x[k+1+32]=x[k+0+96]=Gt(V,re,se),x[k+2+32]=x[k+1+96]=Gt(re,se,oe),x[k+3+32]=x[k+2+96]=Gt(se,oe,fe),x[k+3+64]=Gt(oe,fe,pe),x[k+3+96]=Gt(fe,pe,ye)}function tu(x,k){var M=x[k-1+0],V=x[k-1+32],re=x[k-1+64],se=x[k-1+96];x[k+0+0]=M+V+1>>1,x[k+2+0]=x[k+0+32]=V+re+1>>1,x[k+2+32]=x[k+0+64]=re+se+1>>1,x[k+1+0]=Gt(M,V,re),x[k+3+0]=x[k+1+32]=Gt(V,re,se),x[k+3+32]=x[k+1+64]=Gt(re,se,se),x[k+3+64]=x[k+2+64]=x[k+0+96]=x[k+1+96]=x[k+2+96]=x[k+3+96]=se}function ru(x,k){var M=x[k-1+0],V=x[k-1+32],re=x[k-1+64],se=x[k-1+96],oe=x[k-1-32],fe=x[k+0-32],pe=x[k+1-32],ye=x[k+2-32];x[k+0+0]=x[k+2+32]=M+oe+1>>1,x[k+0+32]=x[k+2+64]=V+M+1>>1,x[k+0+64]=x[k+2+96]=re+V+1>>1,x[k+0+96]=se+re+1>>1,x[k+3+0]=Gt(fe,pe,ye),x[k+2+0]=Gt(oe,fe,pe),x[k+1+0]=x[k+3+32]=Gt(M,oe,fe),x[k+1+32]=x[k+3+64]=Gt(V,M,oe),x[k+1+64]=x[k+3+96]=Gt(re,V,M),x[k+1+96]=Gt(se,re,V)}function bd(x,k){var M;for(M=0;8>M;++M)n(x,k+32*M,x,k-32,8)}function So(x,k){var M;for(M=0;8>M;++M)a(x,k,x[k-1],8),k+=32}function vs(x,k,M){var V;for(V=0;8>V;++V)a(k,M+32*V,x,8)}function Ao(x,k){var M,V=8;for(M=0;8>M;++M)V+=x[k+M-32]+x[k-1+32*M];vs(V>>4,x,k)}function Wf(x,k){var M,V=4;for(M=0;8>M;++M)V+=x[k+M-32];vs(V>>3,x,k)}function $r(x,k){var M,V=4;for(M=0;8>M;++M)V+=x[k-1+32*M];vs(V>>3,x,k)}function Hf(x,k){vs(128,x,k)}function nu(x,k,M){var V=x[k-M],re=x[k+0],se=3*(re-V)+a_[1020+x[k-2*M]-x[k+M]],oe=ly[112+(se+4>>3)];x[k-M]=xs[255+V+ly[112+(se+3>>3)]],x[k+0]=xs[255+re-oe]}function Gf(x,k,M,V){var re=x[k+0],se=x[k+M];return Ws[255+x[k-2*M]-x[k-M]]>V||Ws[255+se-re]>V}function Kf(x,k,M,V){return 4*Ws[255+x[k-M]-x[k+0]]+Ws[255+x[k-2*M]-x[k+M]]<=V}function Yf(x,k,M,V,re){var se=x[k-3*M],oe=x[k-2*M],fe=x[k-M],pe=x[k+0],ye=x[k+M],ke=x[k+2*M],Ue=x[k+3*M];return 4*Ws[255+fe-pe]+Ws[255+oe-ye]>V?0:Ws[255+x[k-4*M]-se]<=re&&Ws[255+se-oe]<=re&&Ws[255+oe-fe]<=re&&Ws[255+Ue-ke]<=re&&Ws[255+ke-ye]<=re&&Ws[255+ye-pe]<=re}function Kl(x,k,M,V){var re=2*V+1;for(V=0;16>V;++V)Kf(x,k+V,M,re)&&nu(x,k+V,M)}function ys(x,k,M,V){var re=2*V+1;for(V=0;16>V;++V)Kf(x,k+V*M,1,re)&&nu(x,k+V*M,1)}function pa(x,k,M,V){var re;for(re=3;0<re;--re)Kl(x,k+=4*M,M,V)}function wd(x,k,M,V){var re;for(re=3;0<re;--re)ys(x,k+=4,M,V)}function cl(x,k,M,V,re,se,oe,fe){for(se=2*se+1;0<re--;){if(Yf(x,k,M,se,oe))if(Gf(x,k,M,fe))nu(x,k,M);else{var pe=x,ye=k,ke=M,Ue=pe[ye-2*ke],ze=pe[ye-ke],Le=pe[ye+0],at=pe[ye+ke],Xe=pe[ye+2*ke],Pe=27*(tt=a_[1020+3*(Le-ze)+a_[1020+Ue-at]])+63>>7,Oe=18*tt+63>>7,tt=9*tt+63>>7;pe[ye-3*ke]=xs[255+pe[ye-3*ke]+tt],pe[ye-2*ke]=xs[255+Ue+Oe],pe[ye-ke]=xs[255+ze+Pe],pe[ye+0]=xs[255+Le-Pe],pe[ye+ke]=xs[255+at-Oe],pe[ye+2*ke]=xs[255+Xe-tt]}k+=V}}function Fa(x,k,M,V,re,se,oe,fe){for(se=2*se+1;0<re--;){if(Yf(x,k,M,se,oe))if(Gf(x,k,M,fe))nu(x,k,M);else{var pe=x,ye=k,ke=M,Ue=pe[ye-ke],ze=pe[ye+0],Le=pe[ye+ke],at=ly[112+((Xe=3*(ze-Ue))+4>>3)],Xe=ly[112+(Xe+3>>3)],Pe=at+1>>1;pe[ye-2*ke]=xs[255+pe[ye-2*ke]+Pe],pe[ye-ke]=xs[255+Ue+Xe],pe[ye+0]=xs[255+ze-at],pe[ye+ke]=xs[255+Le-Pe]}k+=V}}function au(x,k,M,V,re,se){cl(x,k,M,1,16,V,re,se)}function To(x,k,M,V,re,se){cl(x,k,1,M,16,V,re,se)}function iu(x,k,M,V,re,se){var oe;for(oe=3;0<oe;--oe)Fa(x,k+=4*M,M,1,16,V,re,se)}function Yl(x,k,M,V,re,se){var oe;for(oe=3;0<oe;--oe)Fa(x,k+=4,1,M,16,V,re,se)}function su(x,k,M,V,re,se,oe,fe){cl(x,k,re,1,8,se,oe,fe),cl(M,V,re,1,8,se,oe,fe)}function Xf(x,k,M,V,re,se,oe,fe){cl(x,k,1,re,8,se,oe,fe),cl(M,V,1,re,8,se,oe,fe)}function ou(x,k,M,V,re,se,oe,fe){Fa(x,k+4*re,re,1,8,se,oe,fe),Fa(M,V+4*re,re,1,8,se,oe,fe)}function ul(x,k,M,V,re,se,oe,fe){Fa(x,k+4,1,re,8,se,oe,fe),Fa(M,V+4,1,re,8,se,oe,fe)}function Xl(){this.ba=new da,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ir,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function lu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ql(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cu(){this.ua=0,this.Wa=new ae,this.vb=new ae,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new P}function _d(){this.xb=this.a=0,this.l=new ms,this.ca=new da,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new I,this.Pb=0,this.wd=new I,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cu,this.ab=0,this.gc=s(4,Ql),this.Oc=0}function Eo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ms,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function fl(x,k,M,V,re,se,oe){for(x=x==null?0:x[k+0],k=0;k<oe;++k)re[se+k]=x+M[V+k]&255,x=re[se+k]}function uu(x,k,M,V,re,se,oe){var fe;if(x==null)fl(null,null,M,V,re,se,oe);else for(fe=0;fe<oe;++fe)re[se+fe]=x[k+fe]+M[V+fe]&255}function ti(x,k,M,V,re,se,oe){if(x==null)fl(null,null,M,V,re,se,oe);else{var fe,pe=x[k+0],ye=pe,ke=pe;for(fe=0;fe<oe;++fe)ye=ke+(pe=x[k+fe])-ye,ke=M[V+fe]+(-256&ye?0>ye?0:255:ye)&255,ye=pe,re[se+fe]=ke}}function fu(x,k,M,V){var re=k.width,se=k.o;if(t(x!=null&&k!=null),0>M||0>=V||M+V>se)return null;if(!x.Cc){if(x.ga==null){var oe;if(x.ga=new Eo,(oe=x.ga==null)||(oe=k.width*k.o,t(x.Gb.length==0),x.Gb=i(oe),x.Uc=0,x.Gb==null?oe=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,oe=1),oe=!oe),!oe){oe=x.ga;var fe=x.Fa,pe=x.P,ye=x.qc,ke=x.mb,Ue=x.nb,ze=pe+1,Le=ye-1,at=oe.l;if(t(fe!=null&&ke!=null&&k!=null),vu[0]=null,vu[1]=fl,vu[2]=uu,vu[3]=ti,oe.ca=ke,oe.tb=Ue,oe.c=k.width,oe.i=k.height,t(0<oe.c&&0<oe.i),1>=ye)k=0;else if(oe.$a=fe[pe+0]>>0&3,oe.Z=fe[pe+0]>>2&3,oe.Lc=fe[pe+0]>>4&3,pe=fe[pe+0]>>6&3,0>oe.$a||1<oe.$a||4<=oe.Z||1<oe.Lc||pe)k=0;else if(at.put=Ta,at.ac=Ln,at.bc=Ci,at.ma=oe,at.width=k.width,at.height=k.height,at.Da=k.Da,at.v=k.v,at.va=k.va,at.j=k.j,at.o=k.o,oe.$a)e:{t(oe.$a==1),k=He();t:for(;;){if(k==null){k=0;break e}if(t(oe!=null),oe.mc=k,k.c=oe.c,k.i=oe.i,k.l=oe.l,k.l.ma=oe,k.l.width=oe.c,k.l.height=oe.i,k.a=0,z(k.m,fe,ze,Le),!$e(oe.c,oe.i,1,k,null)||(k.ab==1&&k.gc[0].hc==3&&me(k.s)?(oe.ic=1,fe=k.c*k.i,k.Ta=null,k.Ua=0,k.V=i(fe),k.Ba=0,k.V==null?(k.a=1,k=0):k=1):(oe.ic=0,k=Ve(k,oe.c)),!k))break t;k=1;break e}oe.mc=null,k=0}else k=Le>=oe.c*oe.i;oe=!k}if(oe)return null;x.ga.Lc!=1?x.Ga=0:V=se-M}t(x.ga!=null),t(M+V<=se);e:{if(k=(fe=x.ga).c,se=fe.l.o,fe.$a==0){if(ze=x.rc,Le=x.Vc,at=x.Fa,pe=x.P+1+M*k,ye=x.mb,ke=x.nb+M*k,t(pe<=x.P+x.qc),fe.Z!=0)for(t(vu[fe.Z]!=null),oe=0;oe<V;++oe)vu[fe.Z](ze,Le,at,pe,ye,ke,k),ze=ye,Le=ke,ke+=k,pe+=k;else for(oe=0;oe<V;++oe)n(ye,ke,at,pe,k),ze=ye,Le=ke,ke+=k,pe+=k;x.rc=ze,x.Vc=Le}else{if(t(fe.mc!=null),k=M+V,t((oe=fe.mc)!=null),t(k<=oe.i),oe.C>=k)k=1;else if(fe.ic||De(),fe.ic){fe=oe.V,ze=oe.Ba,Le=oe.c;var Xe=oe.i,Pe=(at=1,pe=oe.$/Le,ye=oe.$%Le,ke=oe.m,Ue=oe.s,oe.$),Oe=Le*Xe,tt=Le*k,lt=Ue.wc,nt=Pe<tt?wn(Ue,ye,pe):null;t(Pe<=Oe),t(k<=Xe),t(me(Ue));t:for(;;){for(;!ke.h&&Pe<tt;){if(ye&lt||(nt=wn(Ue,ye,pe)),t(nt!=null),K(ke),256>(Xe=jn(nt.G[0],nt.H[0],ke)))fe[ze+Pe]=Xe,++Pe,++ye>=Le&&(ye=0,++pe<=k&&!(pe%16)&&xe(oe,pe));else{if(!(280>Xe)){at=0;break t}Xe=ei(Xe-256,ke);var Pt,St=jn(nt.G[4],nt.H[4],ke);if(K(ke),!(Pe>=(St=ra(Le,St=ei(St,ke)))&&Oe-Pe>=Xe)){at=0;break t}for(Pt=0;Pt<Xe;++Pt)fe[ze+Pe+Pt]=fe[ze+Pe+Pt-St];for(Pe+=Xe,ye+=Xe;ye>=Le;)ye-=Le,++pe<=k&&!(pe%16)&&xe(oe,pe);Pe<tt&&ye&lt&&(nt=wn(Ue,ye,pe))}t(ke.h==q(ke))}xe(oe,pe>k?k:pe);break t}!at||ke.h&&Pe<Oe?(at=0,oe.a=ke.h?5:3):oe.$=Pe,k=at}else k=we(oe,oe.V,oe.Ba,oe.c,oe.i,k,We);if(!k){V=0;break e}}M+V>=se&&(x.Cc=1),V=1}if(!V)return null;if(x.Cc&&((V=x.ga)!=null&&(V.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*re}function L(x,k,M,V,re,se){for(;0<re--;){var oe,fe=x,pe=k+(M?1:0),ye=x,ke=k+(M?0:3);for(oe=0;oe<V;++oe){var Ue=ye[ke+4*oe];Ue!=255&&(Ue*=32897,fe[pe+4*oe+0]=fe[pe+4*oe+0]*Ue>>23,fe[pe+4*oe+1]=fe[pe+4*oe+1]*Ue>>23,fe[pe+4*oe+2]=fe[pe+4*oe+2]*Ue>>23)}k+=se}}function te(x,k,M,V,re){for(;0<V--;){var se;for(se=0;se<M;++se){var oe=x[k+2*se+0],fe=15&(ye=x[k+2*se+1]),pe=4369*fe,ye=(240&ye|ye>>4)*pe>>16;x[k+2*se+0]=(240&oe|oe>>4)*pe>>16&240|(15&oe|oe<<4)*pe>>16>>4&15,x[k+2*se+1]=240&ye|fe}k+=re}}function _e(x,k,M,V,re,se,oe,fe){var pe,ye,ke=255;for(ye=0;ye<re;++ye){for(pe=0;pe<V;++pe){var Ue=x[k+pe];se[oe+4*pe]=Ue,ke&=Ue}k+=M,oe+=fe}return ke!=255}function Te(x,k,M,V,re){var se;for(se=0;se<re;++se)M[V+se]=x[k+se]>>8}function De(){qs=L,ln=te,cn=_e,Kn=Te}function Je(x,k,M){S[x]=function(V,re,se,oe,fe,pe,ye,ke,Ue,ze,Le,at,Xe,Pe,Oe,tt,lt){var nt,Pt=lt-1>>1,St=fe[pe+0]|ye[ke+0]<<16,Vt=Ue[ze+0]|Le[at+0]<<16;t(V!=null);var Et=3*St+Vt+131074>>2;for(k(V[re+0],255&Et,Et>>16,Xe,Pe),se!=null&&(Et=3*Vt+St+131074>>2,k(se[oe+0],255&Et,Et>>16,Oe,tt)),nt=1;nt<=Pt;++nt){var Dr=fe[pe+nt]|ye[ke+nt]<<16,zr=Ue[ze+nt]|Le[at+nt]<<16,Er=St+Dr+Vt+zr+524296,dr=Er+2*(Dr+Vt)>>3;Et=dr+St>>1,St=(Er=Er+2*(St+zr)>>3)+Dr>>1,k(V[re+2*nt-1],255&Et,Et>>16,Xe,Pe+(2*nt-1)*M),k(V[re+2*nt-0],255&St,St>>16,Xe,Pe+(2*nt-0)*M),se!=null&&(Et=Er+Vt>>1,St=dr+zr>>1,k(se[oe+2*nt-1],255&Et,Et>>16,Oe,tt+(2*nt-1)*M),k(se[oe+2*nt+0],255&St,St>>16,Oe,tt+(2*nt+0)*M)),St=Dr,Vt=zr}1&lt||(Et=3*St+Vt+131074>>2,k(V[re+lt-1],255&Et,Et>>16,Xe,Pe+(lt-1)*M),se!=null&&(Et=3*Vt+St+131074>>2,k(se[oe+lt-1],255&Et,Et>>16,Oe,tt+(lt-1)*M)))}}function ut(){Hs[cy]=zK,Hs[uy]=yN,Hs[dN]=qK,Hs[fy]=xN,Hs[hy]=bN,Hs[i_]=wN,Hs[pN]=WK,Hs[s_]=yN,Hs[o_]=xN,Hs[dy]=bN,Hs[l_]=wN}function At(x){return x&~HK?0>x?0:255:x>>_N}function w(x,k){return At((19077*x>>8)+(26149*k>>8)-14234)}function R(x,k,M){return At((19077*x>>8)-(6419*k>>8)-(13320*M>>8)+8708)}function W(x,k){return At((19077*x>>8)+(33050*k>>8)-17685)}function ue(x,k,M,V,re){V[re+0]=w(x,M),V[re+1]=R(x,k,M),V[re+2]=W(x,k)}function Ie(x,k,M,V,re){V[re+0]=W(x,k),V[re+1]=R(x,k,M),V[re+2]=w(x,M)}function qe(x,k,M,V,re){var se=R(x,k,M);k=se<<3&224|W(x,k)>>3,V[re+0]=248&w(x,M)|se>>5,V[re+1]=k}function ft(x,k,M,V,re){var se=240&W(x,k)|15;V[re+0]=240&w(x,M)|R(x,k,M)>>4,V[re+1]=se}function er(x,k,M,V,re){V[re+0]=255,ue(x,k,M,V,re+1)}function hr(x,k,M,V,re){Ie(x,k,M,V,re),V[re+3]=255}function tr(x,k,M,V,re){ue(x,k,M,V,re),V[re+3]=255}function Br(x,k){return 0>x?0:x>k?k:x}function nn(x,k,M){S[x]=function(V,re,se,oe,fe,pe,ye,ke,Ue){for(var ze=ke+(-2&Ue)*M;ke!=ze;)k(V[re+0],se[oe+0],fe[pe+0],ye,ke),k(V[re+1],se[oe+0],fe[pe+0],ye,ke+M),re+=2,++oe,++pe,ke+=2*M;1&Ue&&k(V[re+0],se[oe+0],fe[pe+0],ye,ke)}}function ko(x,k,M){return M==0?x==0?k==0?6:5:k==0?4:0:M}function $a(x,k,M,V,re){switch(x>>>30){case 3:ec(k,M,V,re,0);break;case 2:Gn(k,M,V,re);break;case 1:Di(k,M,V,re)}}function hl(x,k){var M,V,re=k.M,se=k.Nb,oe=x.oc,fe=x.pc+40,pe=x.oc,ye=x.pc+584,ke=x.oc,Ue=x.pc+600;for(M=0;16>M;++M)oe[fe+32*M-1]=129;for(M=0;8>M;++M)pe[ye+32*M-1]=129,ke[Ue+32*M-1]=129;for(0<re?oe[fe-1-32]=pe[ye-1-32]=ke[Ue-1-32]=129:(a(oe,fe-32-1,127,21),a(pe,ye-32-1,127,9),a(ke,Ue-32-1,127,9)),V=0;V<x.za;++V){var ze=k.ya[k.aa+V];if(0<V){for(M=-1;16>M;++M)n(oe,fe+32*M-4,oe,fe+32*M+12,4);for(M=-1;8>M;++M)n(pe,ye+32*M-4,pe,ye+32*M+4,4),n(ke,Ue+32*M-4,ke,Ue+32*M+4,4)}var Le=x.Gd,at=x.Hd+V,Xe=ze.ad,Pe=ze.Hc;if(0<re&&(n(oe,fe-32,Le[at].y,0,16),n(pe,ye-32,Le[at].f,0,8),n(ke,Ue-32,Le[at].ea,0,8)),ze.Za){var Oe=oe,tt=fe-32+16;for(0<re&&(V>=x.za-1?a(Oe,tt,Le[at].y[15],4):n(Oe,tt,Le[at+1].y,0,4)),M=0;4>M;M++)Oe[tt+128+M]=Oe[tt+256+M]=Oe[tt+384+M]=Oe[tt+0+M];for(M=0;16>M;++M,Pe<<=2)Oe=oe,tt=fe+AN[M],Po[ze.Ob[M]](Oe,tt),$a(Pe,Xe,16*+M,Oe,tt)}else if(Oe=ko(V,re,ze.Ob[0]),gu[Oe](oe,fe),Pe!=0)for(M=0;16>M;++M,Pe<<=2)$a(Pe,Xe,16*+M,oe,fe+AN[M]);for(M=ze.Gc,Oe=ko(V,re,ze.Dd),rc[Oe](pe,ye),rc[Oe](ke,Ue),Pe=Xe,Oe=pe,tt=ye,255&(ze=M>>0)&&(170&ze?fm(Pe,256,Oe,tt):Us(Pe,256,Oe,tt)),ze=ke,Pe=Ue,255&(M>>=8)&&(170&M?fm(Xe,320,ze,Pe):Us(Xe,320,ze,Pe)),re<x.Ub-1&&(n(Le[at].y,0,oe,fe+480,16),n(Le[at].f,0,pe,ye+224,8),n(Le[at].ea,0,ke,Ue+224,8)),M=8*se*x.B,Le=x.sa,at=x.ta+16*V+16*se*x.R,Xe=x.qa,ze=x.ra+8*V+M,Pe=x.Ha,Oe=x.Ia+8*V+M,M=0;16>M;++M)n(Le,at+M*x.R,oe,fe+32*M,16);for(M=0;8>M;++M)n(Xe,ze+M*x.B,pe,ye+32*M,8),n(Pe,Oe+M*x.B,ke,Ue+32*M,8)}}function dl(x,k,M,V,re,se,oe,fe,pe){var ye=[0],ke=[0],Ue=0,ze=pe!=null?pe.kd:0,Le=pe??new lu;if(x==null||12>M)return 7;Le.data=x,Le.w=k,Le.ha=M,k=[k],M=[M],Le.gb=[Le.gb];e:{var at=k,Xe=M,Pe=Le.gb;if(t(x!=null),t(Xe!=null),t(Pe!=null),Pe[0]=0,12<=Xe[0]&&!r(x,at[0],"RIFF")){if(r(x,at[0]+8,"WEBP")){Pe=3;break e}var Oe=Ae(x,at[0]+4);if(12>Oe||4294967286<Oe){Pe=3;break e}if(ze&&Oe>Xe[0]-8){Pe=7;break e}Pe[0]=Oe,at[0]+=12,Xe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Oe=0<Le.gb[0],M=M[0];;){e:{var tt=x;Xe=k,Pe=M;var lt=ye,nt=ke,Pt=at=[0];if((Et=Ue=[Ue])[0]=0,8>Pe[0])Pe=7;else{if(!r(tt,Xe[0],"VP8X")){if(Ae(tt,Xe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var St=Ae(tt,Xe[0]+8),Vt=1+H(tt,Xe[0]+12);if(2147483648<=Vt*(tt=1+H(tt,Xe[0]+15))){Pe=3;break e}Pt!=null&&(Pt[0]=St),lt!=null&&(lt[0]=Vt),nt!=null&&(nt[0]=tt),Xe[0]+=18,Pe[0]-=18,Et[0]=1}Pe=0}}if(Ue=Ue[0],at=at[0],Pe!=0)return Pe;if(Xe=!!(2&at),!Oe&&Ue)return 3;if(se!=null&&(se[0]=!!(16&at)),oe!=null&&(oe[0]=Xe),fe!=null&&(fe[0]=0),oe=ye[0],at=ke[0],Ue&&Xe&&pe==null){Pe=0;break}if(4>M){Pe=7;break}if(Oe&&Ue||!Oe&&!Ue&&!r(x,k[0],"ALPH")){M=[M],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{St=x,Pe=k,Oe=M;var Et=Le.gb;lt=Le.na,nt=Le.P,Pt=Le.Sa,Vt=22,t(St!=null),t(Oe!=null),tt=Pe[0];var Dr=Oe[0];for(t(lt!=null),t(Pt!=null),lt[0]=null,nt[0]=null,Pt[0]=0;;){if(Pe[0]=tt,Oe[0]=Dr,8>Dr){Pe=7;break e}var zr=Ae(St,tt+4);if(4294967286<zr){Pe=3;break e}var Er=8+zr+1&-2;if(Vt+=Er,0<Et&&Vt>Et){Pe=3;break e}if(!r(St,tt,"VP8 ")||!r(St,tt,"VP8L")){Pe=0;break e}if(Dr[0]<Er){Pe=7;break e}r(St,tt,"ALPH")||(lt[0]=St,nt[0]=tt+8,Pt[0]=zr),tt+=Er,Dr-=Er}}if(M=M[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],Pe!=0)break}M=[M],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(Et=x,Pe=k,Oe=M,lt=Le.gb[0],nt=Le.Ja,Pt=Le.xa,St=Pe[0],tt=!r(Et,St,"VP8 "),Vt=!r(Et,St,"VP8L"),t(Et!=null),t(Oe!=null),t(nt!=null),t(Pt!=null),8>Oe[0])Pe=7;else{if(tt||Vt){if(Et=Ae(Et,St+4),12<=lt&&Et>lt-12){Pe=3;break e}if(ze&&Et>Oe[0]-8){Pe=7;break e}nt[0]=Et,Pe[0]+=8,Oe[0]-=8,Pt[0]=Vt}else Pt[0]=5<=Oe[0]&&Et[St+0]==47&&!(Et[St+4]>>5),nt[0]=Oe[0];Pe=0}if(M=M[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],k=k[0],Pe!=0)break;if(4294967286<Le.Ja)return 3;if(fe==null||Xe||(fe[0]=Le.xa?2:1),oe=[oe],at=[at],Le.xa){if(5>M){Pe=7;break}fe=oe,ze=at,Xe=se,x==null||5>M?x=0:5<=M&&x[k+0]==47&&!(x[k+4]>>5)?(Oe=[0],Et=[0],lt=[0],z(nt=new I,x,k,M),Ot(nt,Oe,Et,lt)?(fe!=null&&(fe[0]=Oe[0]),ze!=null&&(ze[0]=Et[0]),Xe!=null&&(Xe[0]=lt[0]),x=1):x=0):x=0}else{if(10>M){Pe=7;break}fe=at,x==null||10>M||!$f(x,k+3,M-3)?x=0:(ze=x[k+0]|x[k+1]<<8|x[k+2]<<16,Xe=16383&(x[k+7]<<8|x[k+6]),x=16383&(x[k+9]<<8|x[k+8]),1&ze||3<(ze>>1&7)||!(ze>>4&1)||ze>>5>=Le.Ja||!Xe||!x?x=0:(oe&&(oe[0]=Xe),fe&&(fe[0]=x),x=1))}if(!x||(oe=oe[0],at=at[0],Ue&&(ye[0]!=oe||ke[0]!=at)))return 3;pe!=null&&(pe[0]=Le,pe.offset=k-pe.w,t(4294967286>k-pe.w),t(pe.offset==pe.ha-M));break}return Pe==0||Pe==7&&Ue&&pe==null?(se!=null&&(se[0]|=Le.na!=null&&0<Le.na.length),V!=null&&(V[0]=oe),re!=null&&(re[0]=at),0):Pe}function om(x,k,M){var V=k.width,re=k.height,se=0,oe=0,fe=V,pe=re;if(k.Da=x!=null&&0<x.Da,k.Da&&(fe=x.cd,pe=x.bd,se=x.v,oe=x.j,11>M||(se&=-2,oe&=-2),0>se||0>oe||0>=fe||0>=pe||se+fe>V||oe+pe>re))return 0;if(k.v=se,k.j=oe,k.va=se+fe,k.o=oe+pe,k.U=fe,k.T=pe,k.da=x!=null&&0<x.da,k.da){if(!Ce(fe,pe,M=[x.ib],se=[x.hb]))return 0;k.ib=M[0],k.hb=se[0]}return k.ob=x!=null&&x.ob,k.Kb=x==null||!x.Sd,k.da&&(k.ob=k.ib<3*V/4&&k.hb<3*re/4,k.Kb=0),1}function lm(x){if(x==null)return 2;if(11>x.S){var k=x.f.RGBA;k.fb+=(x.height-1)*k.A,k.A=-k.A}else k=x.f.kb,x=x.height,k.O+=(x-1)*k.fa,k.fa=-k.fa,k.N+=(x-1>>1)*k.Ab,k.Ab=-k.Ab,k.W+=(x-1>>1)*k.Db,k.Db=-k.Db,k.F!=null&&(k.J+=(x-1)*k.lb,k.lb=-k.lb);return 0}function Sd(x,k,M,V){if(V==null||0>=x||0>=k)return 2;if(M!=null){if(M.Da){var re=M.cd,se=M.bd,oe=-2&M.v,fe=-2&M.j;if(0>oe||0>fe||0>=re||0>=se||oe+re>x||fe+se>k)return 2;x=re,k=se}if(M.da){if(!Ce(x,k,re=[M.ib],se=[M.hb]))return 2;x=re[0],k=se[0]}}V.width=x,V.height=k;e:{var pe=V.width,ye=V.height;if(x=V.S,0>=pe||0>=ye||!(x>=cy&&13>x))x=2;else{if(0>=V.Rd&&V.sd==null){oe=se=re=k=0;var ke=(fe=pe*TN[x])*ye;if(11>x||(se=(ye+1)/2*(k=(pe+1)/2),x==12&&(oe=(re=pe)*ye)),(ye=i(ke+2*se+oe))==null){x=1;break e}V.sd=ye,11>x?((pe=V.f.RGBA).eb=ye,pe.fb=0,pe.A=fe,pe.size=ke):((pe=V.f.kb).y=ye,pe.O=0,pe.fa=fe,pe.Fd=ke,pe.f=ye,pe.N=0+ke,pe.Ab=k,pe.Cd=se,pe.ea=ye,pe.W=0+ke+se,pe.Db=k,pe.Ed=se,x==12&&(pe.F=ye,pe.J=0+ke+2*se),pe.Tc=oe,pe.lb=re)}if(k=1,re=V.S,se=V.width,oe=V.height,re>=cy&&13>re)if(11>re)x=V.f.RGBA,k&=(fe=Math.abs(x.A))*(oe-1)+se<=x.size,k&=fe>=se*TN[re],k&=x.eb!=null;else{x=V.f.kb,fe=(se+1)/2,ke=(oe+1)/2,pe=Math.abs(x.fa),ye=Math.abs(x.Ab);var Ue=Math.abs(x.Db),ze=Math.abs(x.lb),Le=ze*(oe-1)+se;k&=pe*(oe-1)+se<=x.Fd,k&=ye*(ke-1)+fe<=x.Cd,k=(k&=Ue*(ke-1)+fe<=x.Ed)&pe>=se&ye>=fe&Ue>=fe,k&=x.y!=null,k&=x.f!=null,k&=x.ea!=null,re==12&&(k&=ze>=se,k&=Le<=x.Tc,k&=x.F!=null)}else k=0;x=k?0:2}}return x!=0||M!=null&&M.fd&&(x=lm(V)),x}var Ba=64,Ad=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Td=24,Ed=32,cm=8,Ji=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,k,M){return k[M+0]},S.Predictor3=function(x,k,M){return k[M+1]},S.Predictor4=function(x,k,M){return k[M-1]},S.Predictor5=function(x,k,M){return Qe(Qe(x,k[M+1]),k[M+0])},S.Predictor6=function(x,k,M){return Qe(x,k[M-1])},S.Predictor7=function(x,k,M){return Qe(x,k[M+0])},S.Predictor8=function(x,k,M){return Qe(k[M-1],k[M+0])},S.Predictor9=function(x,k,M){return Qe(k[M+0],k[M+1])},S.Predictor10=function(x,k,M){return Qe(Qe(x,k[M-1]),Qe(k[M+0],k[M+1]))},S.Predictor11=function(x,k,M){var V=k[M+0];return 0>=ot(V>>24&255,x>>24&255,(k=k[M-1])>>24&255)+ot(V>>16&255,x>>16&255,k>>16&255)+ot(V>>8&255,x>>8&255,k>>8&255)+ot(255&V,255&x,255&k)?V:x},S.Predictor12=function(x,k,M){var V=k[M+0];return(je((x>>24&255)+(V>>24&255)-((k=k[M-1])>>24&255))<<24|je((x>>16&255)+(V>>16&255)-(k>>16&255))<<16|je((x>>8&255)+(V>>8&255)-(k>>8&255))<<8|je((255&x)+(255&V)-(255&k)))>>>0},S.Predictor13=function(x,k,M){var V=k[M-1];return(Ke((x=Qe(x,k[M+0]))>>24&255,V>>24&255)<<24|Ke(x>>16&255,V>>16&255)<<16|Ke(x>>8&255,V>>8&255)<<8|Ke(x>>0&255,V>>0&255))>>>0};var n_=S.PredictorAdd0;S.PredictorAdd1=it,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var um=S.PredictorAdd2;dt("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),dt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var ny,Vs=S.ColorIndexInverseTransform,kd=S.MapARGB,ay=S.VP8LColorIndexInverseTransformAlpha,iy=S.MapAlpha,hu=S.VP8LPredictorsAdd=[];hu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Qf,Zi,Ii,du,Jl,Zl,Pd,ec,Gn,fm,Di,Us,Cd,sy,hm,Jf,Zf,pu,eh,Nd,th,mu,dm,zs,qs,ln,cn,Kn,ma=i(511),tc=i(2041),pm=i(225),Od=i(767),oy=0,a_=tc,ly=pm,xs=Od,Ws=ma,cy=0,uy=1,dN=2,fy=3,hy=4,i_=5,pN=6,s_=7,o_=8,dy=9,l_=10,CK=[2,3,7],NK=[3,3,11],mN=[280,256,256,256,40],OK=[0,1,1,1,0],IK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],DK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],LK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jK=8,c_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],u_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],mm=null,MK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],RK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gN=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],FK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],$K=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],BK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],VK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],gu=[],Po=[],rc=[],UK=1,vN=2,vu=[],Hs=[];Je("UpsampleRgbLinePair",ue,3),Je("UpsampleBgrLinePair",Ie,3),Je("UpsampleRgbaLinePair",tr,4),Je("UpsampleBgraLinePair",hr,4),Je("UpsampleArgbLinePair",er,4),Je("UpsampleRgba4444LinePair",ft,2),Je("UpsampleRgb565LinePair",qe,2);var zK=S.UpsampleRgbLinePair,qK=S.UpsampleBgrLinePair,yN=S.UpsampleRgbaLinePair,xN=S.UpsampleBgraLinePair,bN=S.UpsampleArgbLinePair,wN=S.UpsampleRgba4444LinePair,WK=S.UpsampleRgb565LinePair,py=16,my=1<<py-1,gm=-227,f_=482,_N=6,HK=(256<<_N)-1,SN=0,GK=i(256),KK=i(256),YK=i(256),XK=i(256),QK=i(f_-gm),JK=i(f_-gm);nn("YuvToRgbRow",ue,3),nn("YuvToBgrRow",Ie,3),nn("YuvToRgbaRow",tr,4),nn("YuvToBgraRow",hr,4),nn("YuvToArgbRow",er,4),nn("YuvToRgba4444Row",ft,2),nn("YuvToRgb565Row",qe,2);var AN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gy=[0,2,8],ZK=[8,7,6,4,4,2,2,2,1,1,1,1],eY=1;this.WebPDecodeRGBA=function(x,k,M,V,re){var se=uy,oe=new Xl,fe=new da;oe.ba=fe,fe.S=se,fe.width=[fe.width],fe.height=[fe.height];var pe=fe.width,ye=fe.height,ke=new Pi;if(ke==null||x==null)var Ue=2;else t(ke!=null),Ue=dl(x,k,M,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Ue!=0?pe=0:(pe!=null&&(pe[0]=ke.width[0]),ye!=null&&(ye[0]=ke.height[0]),pe=1),pe){fe.width=fe.width[0],fe.height=fe.height[0],V!=null&&(V[0]=fe.width),re!=null&&(re[0]=fe.height);e:{if(V=new ms,(re=new lu).data=x,re.w=k,re.ha=M,re.kd=1,k=[0],t(re!=null),((x=dl(re.data,re.w,re.ha,null,null,null,k,null,re))==0||x==7)&&k[0]&&(x=4),(k=x)==0){if(t(oe!=null),V.data=re.data,V.w=re.w+re.offset,V.ha=re.ha-re.offset,V.put=Ta,V.ac=Ln,V.bc=Ci,V.ma=oe,re.xa){if((x=He())==null){oe=1;break e}if(function(ze,Le){var at=[0],Xe=[0],Pe=[0];t:for(;;){if(ze==null)return 0;if(Le==null)return ze.a=2,0;if(ze.l=Le,ze.a=0,z(ze.m,Le.data,Le.w,Le.ha),!Ot(ze.m,at,Xe,Pe)){ze.a=3;break t}if(ze.xb=vN,Le.width=at[0],Le.height=Xe[0],!$e(at[0],Xe[0],1,ze,null))break t;return 1}return t(ze.a!=0),0}(x,V)){if(V=(k=Sd(V.width,V.height,oe.Oa,oe.ba))==0){t:{V=x;r:for(;;){if(V==null){V=0;break t}if(t(V.s.yc!=null),t(V.s.Ya!=null),t(0<V.s.Wb),t((M=V.l)!=null),t((re=M.ma)!=null),V.xb!=0){if(V.ca=re.ba,V.tb=re.tb,t(V.ca!=null),!om(re.Oa,M,fy)){V.a=2;break r}if(!Ve(V,M.width)||M.da)break r;if((M.da||Xt(V.ca.S))&&De(),11>V.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),V.ca.f.kb.F!=null&&De()),V.Pb&&0<V.s.ua&&V.s.vb.X==null&&!Ee(V.s.vb,V.s.Wa.Xa)){V.a=1;break r}V.xb=0}if(!we(V,V.V,V.Ba,V.c,V.i,M.o,be))break r;re.Dc=V.Ma,V=1;break t}t(V.a!=0),V=0}V=!V}V&&(k=x.a)}else k=x.a}else{if((x=new Ra)==null){oe=1;break e}if(x.Fa=re.na,x.P=re.P,x.qc=re.Sa,Bf(x,V)){if((k=Sd(V.width,V.height,oe.Oa,oe.ba))==0){if(x.Aa=0,M=oe.Oa,t((re=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(ye=ke=0;4>ye;++ye)12>(Ue=re.pb[ye]).lc&&(Ue.ia=pe*ZK[0>Ue.lc?0:Ue.lc]>>3),ke|=Ue.ia;ke&&(alert("todo:VP8InitRandom"),re.ia=1)}re.Ga=M.Id,100<re.Ga?re.Ga=100:0>re.Ga&&(re.Ga=0)}gd(x,V)||(k=x.a)}}else k=x.a}k==0&&oe.Oa!=null&&oe.Oa.fd&&(k=lm(oe.ba))}oe=k}se=oe!=0?null:11>se?fe.f.RGBA.eb:fe.f.kb.y}else se=null;return se};var TN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,A){for(var D="",E=0;E<4;E++)D+=String.fromCharCode(S[A++]);return D}function u(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16)>>>0}function f(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16|S[A+3]<<24)>>>0}new l;var h=[0],d=[0],m=[],p=new l,v=e,y=function(S,A){var D={},E=0,P=!1,j=0,G=0;if(D.frames=[],!function(F,q,Y,K){for(var le=0;le<K;le++)if(F[q+le]!=Y.charCodeAt(le))return!0;return!1}(S,A,"RIFF",4)){for(f(S,A+=4),A+=8;A<S.length;){var U=c(S,A),Q=f(S,A+=4);A+=4;var J=Q+(1&Q);switch(U){case"VP8 ":case"VP8L":D.frames[E]===void 0&&(D.frames[E]={}),(ee=D.frames[E]).src_off=P?G:A-8,ee.src_size=j+Q+8,E++,P&&(P=!1,j=0,G=0);break;case"VP8X":(ee=D.header={}).feature_flags=S[A];var z=A+4;ee.canvas_width=1+u(S,z),z+=3,ee.canvas_height=1+u(S,z),z+=3;break;case"ALPH":P=!0,j=J+8,G=A-8;break;case"ANIM":(ee=D.header).bgcolor=f(S,A),z=A+4,ee.loop_count=(ne=S)[(I=z)+0]<<0|ne[I+1]<<8,z+=2;break;case"ANMF":var B,ee;(ee=D.frames[E]={}).offset_x=2*u(S,A),A+=3,ee.offset_y=2*u(S,A),A+=3,ee.width=1+u(S,A),A+=3,ee.height=1+u(S,A),A+=3,ee.duration=u(S,A),A+=3,B=S[A++],ee.dispose=1&B,ee.blend=B>>1&1}U!="ANMF"&&(A+=J)}var ne,I;return D}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,_=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],d=[b.canvas_width];for(var O=0;O<_.length&&_[O].blend!=0;O++);}var C=_[0],N=p.WebPDecodeRGBA(v,C.src_off,C.src_size,d,h);C.rgba=N,C.imgwidth=d[0],C.imgheight=h[0];for(var T=0;T<d[0]*h[0]*4;T++)m[T]=N[T];return this.width=d,this.height=h,this.data=m,this}(function(e){var t=function(){return typeof PT=="function"},r=function(h,d,m,p){var v=4,y=s;switch(p){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,d,m,y);var b=PT(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,d,m,p){for(var v,y,b,_=h.length/d,O=new Uint8Array(h.length+_),C=u(),N=0;N<_;N+=1){if(b=N*d,v=h.subarray(b,b+d),p)O.set(p(v,m,y),b+N);else{for(var T,S=C.length,A=[];T<S;T+=1)A[T]=C[T](v,m,y);var D=f(A.concat());O.set(A[D],b+N)}y=v}return O},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var m,p=[],v=h.length;p[0]=1;for(var y=0;y<v;y+=1)m=h[y-d]||0,p[y+1]=h[y]-m+256&255;return p},s=function(h,d,m){var p,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)p=m&&m[b]||0,v[b+1]=h[b]-p+256&255;return v},o=function(h,d,m){var p,v,y=[],b=h.length;y[0]=3;for(var _=0;_<b;_+=1)p=h[_-d]||0,v=m&&m[_]||0,y[_+1]=h[_]+256-(p+v>>>1)&255;return y},l=function(h,d,m){var p,v,y,b,_=[],O=h.length;_[0]=4;for(var C=0;C<O;C+=1)p=h[C-d]||0,v=m&&m[C]||0,y=m&&m[C-d]||0,b=c(p,v,y),_[C+1]=h[C]-b+256&255;return _},c=function(h,d,m){if(h===d&&d===m)return h;var p=Math.abs(d-m),v=Math.abs(h-m),y=Math.abs(h+d-m-m);return p<=v&&p<=y?h:v<=y?d:m},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(m){return m.reduce(function(p,v){return p+Math.abs(v)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,m,p){var v,y,b,_,O,C,N,T,S,A,D,E,P,j,G,U=this.decode.FLATE_DECODE,Q="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new pxe(h)).imgData,y=b.bits,v=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){S=(T=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*b.colors),A=new Uint8Array(S);var J,z=b.pixelBitlength-b.bits;for(j=0,G=0;j<S;j++){for(P=T[j],J=0;J<z;)D[G++]=P>>>J&255,J+=b.bits;A[j]=P>>>J&255}}if(b.bits===16){S=(T=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*(32/b.pixelBitlength)*b.colors),A=new Uint8Array(S*(32/b.pixelBitlength)),E=b.colors>1,j=0,G=0;for(var B=0;j<S;)P=T[j++],D[G++]=P>>>0&255,E&&(D[G++]=P>>>16&255,P=T[j++],D[G++]=P>>>0&255),A[B++]=P>>>16&255;y=8}p!==e.image_compression.NONE&&t()?(h=r(D,b.width*b.colors,b.colors,p),N=r(A,b.width,1,p)):(h=D,N=A,U=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,C=b.palette,b.transparency.indexed)){var ee=b.transparency.indexed,ne=0;for(j=0,S=ee.length;j<S;++j)ne+=ee[j];if((ne/=255)===S-1&&ee.indexOf(0)!==-1)_=[ee.indexOf(0)];else if(ne!==S){for(T=b.decodePixels(),A=new Uint8Array(T.length),j=0,S=T.length;j<S;j++)A[j]=ee[T[j]];N=r(A,b.width,1)}}var I=function(F){var q;switch(F){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(p);return U===this.decode.FLATE_DECODE&&(Q="/Predictor "+I+" "),Q+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(N&&this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),{alias:m,data:h,index:d,filter:U,decodeParameters:Q,transparency:_,palette:C,sMask:N,predictor:I,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(qt.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new mxe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new VS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(qt.API),Lo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Lo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){sn.log("bit decode error:"+r)}},Lo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Lo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Lo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Lo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Lo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Lo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Lo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Lo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Lo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new VS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(qt.API),pL.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new pL(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new VS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(qt.API),qt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:m,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},qt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Bd=qt.API,mx=Bd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,m=0,p=o[0]||l,v=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Mr(c[n])==="object"&&!isNaN(parseInt(c[n][m],10))?c[n][m]/u:0,v.push((o[n]||p)/l+h)),m=n;return v},uL=Bd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Bd.processArabic&&(e=Bd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:mx.apply(this,arguments).reduce(function(i,s){return i+s},0)},fL=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},hL=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,m=0,p=e.split(" "),v=mx.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?p[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];p.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(C,N){return(N&&C.length?`
`:"")+C})):b.push(O[0])}),p=b,l=uL.apply(this,[y,r])}for(i=0,s=p.length;i<s;i++){var _=0;if(n=p[i],l&&n[0]==`
`&&(n=n.substr(1),_=1),h+d+(m=(a=mx.apply(this,[n,r])).reduce(function(O,C){return O+C},0))>t||_){if(m>t){for(o=fL.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);m=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,C){return O+C},0)}else u=[n];f.push(u),h=m+l,d=v}else u.push(n),h+=d+m,d=v}return c=l?function(O,C){return(C?y:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},Bd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(hL.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,m,p,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=i(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(m=i(h).slice(3),p="-"):(m=i(h).slice(2),p=""),m=p+m.slice(0,-1)+n[m.slice(-1)];else{if(Mr(h)!=="object")throw new Error("Don't know what to do with value type "+Mr(h)+".");m=s(h)}v.push(d+m)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,m,p,v={},y=1,b=v,_=[],O="",C="",N=f.length-1,T=1;T<N;T+=1)(p=f[T])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(p):p=="{"?(_.push([b,m]),b={},m=void 0):p=="}"?((d=_.pop())[0][d[1]]=b,m=void 0,b=d[0]):p=="-"?y=-1:m===void 0?r.hasOwnProperty(p)?(O+=r[p],m=parseInt(O,16)*y,y=1,O=""):O+=p:r.hasOwnProperty(p)?(C+=r[p],b[m]=parseInt(C,16)*y,y=1,m=void 0,C=""):C+=p;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var m=c.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(qt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(jg(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(qt),function(e){function t(){return(Wt.canvg?Promise.resolve(Wt.canvg):ST(()=>import("./index.es-ExQ-ueS5.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}qt.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw sn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw sn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(m){return m.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),qt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},qt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(m,p){var v,y=!1;for(v=0;v<m.length;v+=1)m[v]===p&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Mr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,p=[];for(m in r)r[m].explicitSet===!0&&(r[m].type==="name"?p.push("/"+m+" /"+r[m].value):p.push("/"+m+" "+r[m].value));p.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+p.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(qt.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,m){return d-m})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",m=0;m<h.length;m++)d+=String.fromCharCode(h[m]);var p=c();u({data:d,addLength1:!0,objectId:p}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Xd(o.fontName)),l("/FontFile2 "+p+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Xd(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+Xd(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var m=c();u({data:h,addLength1:!0,objectId:m}),l("endobj");var p=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:p}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Xd(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+p+" 0 R/BaseFont/"+Xd(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,m=f.fonts,p=d,v="",y=0,b="",_=m[p].encoding;if(m[p].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,p=d,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)m[p].metadata.hasOwnProperty("cmap")&&(s=m[p].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&m[p].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var O="";return parseInt(p.slice(1))<14||_==="WinAnsiEncoding"?O=h(v,p).split("").map(function(C){return C.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(O=r(v,m[p])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(qt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(qt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},p={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var O=function(E){var P=E.charCodeAt(),j=P>>8,G=p[j];return G!==void 0?f[256*G+(255&P)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},C=function(E){for(var P,j=0;j<E.length;j++){if((P=O(E.charAt(j)))==="L")return!1;if(P==="R")return!0}return!1},N=function(E,P,j,G){var U,Q,J,z,B=P[G];switch(B){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(B="AN");break;case"AL":b=!0,B="R";break;case"WS":B="N";break;case"CS":G<1||G+1>=P.length||(U=j[G-1])!=="EN"&&U!=="AN"||(Q=P[G+1])!=="EN"&&Q!=="AN"?B="N":b&&(Q="AN"),B=Q===U?Q:"N";break;case"ES":B=(U=G>0?j[G-1]:"B")==="EN"&&G+1<P.length&&P[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&j[G-1]==="EN"){B="EN";break}if(b){B="N";break}for(J=G+1,z=P.length;J<z&&P[J]==="ET";)J++;B=J<z&&P[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(z=P.length,J=G+1;J<z&&P[J]==="NSM";)J++;if(J<z){var ee=E[G],ne=ee>=1425&&ee<=2303||ee===64286;if(U=P[J],ne&&(U==="R"||U==="AL")){B="R";break}}}B=G<1||(U=P[G-1])==="B"?"N":j[G-1];break;case"B":b=!1,a=!0,B=_;break;case"S":i=!0,B="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":B="N"}return B},T=function(E,P,j){var G=E.split("");return j&&S(G,j,{hiLevel:_}),G.reverse(),P&&P.reverse(),G.join("")},S=function(E,P,j){var G,U,Q,J,z,B=-1,ee=E.length,ne=0,I=[],F=_?d:h,q=[];for(b=!1,a=!1,i=!1,U=0;U<ee;U++)q[U]=O(E[U]);for(Q=0;Q<ee;Q++){if(z=ne,I[Q]=N(E,q,I,Q),G=240&(ne=F[z][m[I[Q]]]),ne&=15,P[Q]=J=F[ne][5],G>0)if(G===16){for(U=B;U<Q;U++)P[U]=1;B=-1}else B=-1;if(F[ne][6])B===-1&&(B=Q);else if(B>-1){for(U=B;U<Q;U++)P[U]=J;B=-1}q[Q]==="B"&&(P[Q]=0),j.hiLevel|=J}i&&function(Y,K,le){for(var ce=0;ce<le;ce++)if(Y[ce]==="S"){K[ce]=_;for(var X=ce-1;X>=0&&Y[X]==="WS";X--)K[X]=_}}(q,P,ee)},A=function(E,P,j,G,U){if(!(U.hiLevel<E)){if(E===1&&_===1&&!a)return P.reverse(),void(j&&j.reverse());for(var Q,J,z,B,ee=P.length,ne=0;ne<ee;){if(G[ne]>=E){for(z=ne+1;z<ee&&G[z]>=E;)z++;for(B=ne,J=z-1;B<J;B++,J--)Q=P[B],P[B]=P[J],P[J]=Q,j&&(Q=j[B],j[B]=j[J],j[J]=Q);ne=z}ne++}}},D=function(E,P,j){var G=E.split(""),U={hiLevel:_};return j||(j=[]),S(G,j,U),function(Q,J,z){if(z.hiLevel!==0&&u)for(var B,ee=0;ee<Q.length;ee++)J[ee]===1&&(B=v.indexOf(Q[ee]))>=0&&(Q[ee]=v[B+1])}(G,j,U),A(2,G,P,j,U),A(1,G,P,j,U),G.join("")};return this.__bidiEngine__.doBidiReorder=function(E,P,j){if(function(U,Q){if(Q)for(var J=0;J<U.length;J++)Q[J]=J;o===void 0&&(o=C(U)),c===void 0&&(c=C(U))}(E,P),s||!l||c)if(s&&l&&o^c)_=o?1:0,E=T(E,P,j);else if(!s&&l&&c)_=o?1:0,E=D(E,P,j),E=T(E,P);else if(!s||o||l||c){if(s&&!l&&o^c)E=T(E,P),o?(_=0,E=D(E,P,j)):(_=1,E=D(E,P,j),E=T(E,P));else if(s&&o&&!l&&c)_=1,E=D(E,P,j),E=T(E,P);else if(!s&&!l&&o^c){var G=u;o?(_=1,E=D(E,P,j),_=0,u=!1,E=D(E,P,j),u=G):(_=0,E=D(E,P,j),E=T(E,P),_=1,u=!1,E=D(E,P,j),u=G,E=T(E,P))}}else _=0,E=D(E,P,j);else _=o?1:0,E=D(E,P,j);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,l=E.isOutputVisual,o=E.isInputRtl,c=E.isOutputRtl,u=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(qt),qt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Af(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Nxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new gxe(this.contents),this.head=new yxe(this),this.name=new Sxe(this),this.cmap=new $q(this),this.toUnicode={},this.hhea=new xxe(this),this.maxp=new Axe(this),this.hmtx=new Txe(this),this.post=new wxe(this),this.os2=new bxe(this),this.loca=new Cxe(this),this.glyf=new Exe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var il,Af=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),gxe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,m,p;for(p in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new Af).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,m=[],r)for(h=r[p],a.writeString(p),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),m=m.concat(h),p==="head"&&(o=c),c+=h.length;c%4;)m.push(0),c++;return a.write(m),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Bq.call(r);r.length%4;)r.push(0);for(i=new Af(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),vxe={}.hasOwnProperty,zl=function(e,t){for(var r in t)vxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};il=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var yxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Af).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),mL=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),t.pos+=2,p=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),c=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),u=function(){var O,C;for(C=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)C.push(t.readUInt16());return C}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,C;for(C=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)C.push(t.readUInt16());return C}(),l=y=0,_=i.length;y<_;l=++y)for(v=i[l],n=b=m=p[l];m<=v?b<=v:b>=v;n=m<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-m)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y,b,_,O,C,N,T,S,A,D,E,P,j,G,U,Q,J,z,B,ee,ne,I,F,q,Y,K,le,ce,X,he,de,H;switch(G=new Af,s=Object.keys(t).sort(function(Ae,Ee){return Ae-Ee}),r){case"macroman":for(p=0,v=function(){var Ae=[];for(m=0;m<256;++m)Ae.push(0);return Ae}(),b={0:0},i={},U=0,B=s.length;U<B;U++)b[X=t[a=s[U]]]==null&&(b[X]=++p),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(v),{charMap:i,subtable:G.data,maxGlyphID:p+1};case"unicode":for(P=[],f=[],_=0,b={},n={},y=c=null,Q=0,ee=s.length;Q<ee;Q++)b[C=t[a=s[Q]]]==null&&(b[C]=++_),n[a]={old:C,new:b[C]},o=b[C]-a,y!=null&&o===c||(y&&f.push(y),P.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),P.push(65535),D=2*(A=P.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,T=2*A-S,l=[],N=[],d=[],m=J=0,ne=P.length;J<ne;m=++J){if(E=P[m],u=f[m],E===65535){l.push(0),N.push(0);break}if(E-(j=n[E].new)>=32768)for(l.push(0),N.push(2*(d.length+A-m)),a=z=E;E<=u?z<=u:z>=u;a=E<=u?++z:--z)d.push(n[a].new);else l.push(j-E),N.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*A+2*d.length),G.writeUInt16(0),G.writeUInt16(D),G.writeUInt16(S),G.writeUInt16(h),G.writeUInt16(T),le=0,I=f.length;le<I;le++)a=f[le],G.writeUInt16(a);for(G.writeUInt16(0),ce=0,F=P.length;ce<F;ce++)a=P[ce],G.writeUInt16(a);for(he=0,q=l.length;he<q;he++)o=l[he],G.writeUInt16(o);for(de=0,Y=N.length;de<Y;de++)O=N[de],G.writeUInt16(O);for(H=0,K=d.length;H<K;H++)p=d[H],G.writeUInt16(p);return{charMap:n,subtable:G.data,maxGlyphID:_+1}}},e}(),$q=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new mL(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=mL.encode(r,n),(i=new Af).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),xxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),bxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),wxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),_xe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Sxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new _xe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Axe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Txe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Bq=[].slice,Exe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Af(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Pxe(l,u,h,c,f):new kxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),kxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Pxe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Af(Bq.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Cxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return zl(t,il),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),Nxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,m,p,v,y;for(a in n=$q.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=n.charMap)d[(l=y[a]).old]=l.new;for(m in h=n.maxGlyphID,s)m in d||(d[m]=h++);return u=function(b){var _,O;for(_ in O={},b)O[b[_]]=_;return O}(d),f=Object.keys(u).sort(function(b,_){return b-_}),p=function(){var b,_,O;for(O=[],b=0,_=f.length;b<_;b++)o=f[b],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,p,d),c=this.font.loca.encode(i.offsets,p),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();qt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Vq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var m=0;m<f.length;m++)a.text(f[m],t-a.getStringUnitWidth(f[m])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var gL={},L0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:gL=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return gL||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),jT=function(e,t){return jT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},jT(e,t)};function Uq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");jT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var zq=function(e){Uq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function Oxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ixe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function yb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function qq(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=Wq(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function Wq(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function m5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function Hq(e,t){var r=m5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Dxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=US(t,function(_){return a.getComputedStyle(_).backgroundColor});o!=null&&(i.fillColor=o);var l=US(t,function(_){return a.getComputedStyle(_).color});l!=null&&(i.textColor=l);var c=jxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var m=US(t,function(_){return a.getComputedStyle(_)[u]});m!=null&&(i.lineColor=m);var p=["left","right","center","justify"];p.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),p=["middle","bottom","top"],p.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Lxe(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Lxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function US(e,t){var r=Gq(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Gq(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:Gq(e.parentElement,t):r}function jxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=m5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function Kq(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var m=o.rows[d],p=(s=(i=m==null?void 0:m.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Mxe(l,c,r,m,n,a);v&&(p==="thead"?u.push(v):p==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Mxe(e,t,r,n,a,i){for(var s=new zq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=Dxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Rxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Rxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Fxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function dc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function Yq(e,t){var r=new L0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Fxe(a,n,t);var i=dc({},a,n,t),s;typeof window<"u"&&(s=window);var o=$xe(a,n,t),l=Bxe(a,n,t),c=Vxe(r,i),u=zxe(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function $xe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=dc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(m){return m[l]||{}});n[l]=dc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Bxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function Vxe(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,m=m5(t.margin,40/e.scaleFactor()),p=(r=Uxe(e,t.startY))!==null&&r!==void 0?r:m.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,_=t.theme||(b?"plain":"striped"),O=!!t.horizontalPageBreak,C=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:_,startY:p,margin:m,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:C,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function Uxe(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function zxe(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=Kq(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||qxe(n,a,i);return{columns:l,head:n,body:a,foot:i}}function qxe(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var MT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),Wxe=function(e){Uq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(MT),Hxe=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new Wxe(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new MT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new MT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),Xq=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof zq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),Qq=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=m5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),Gxe=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function Kxe(e,t){Yxe(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=RT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=RT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Qxe(t),Jxe(t,e),Xxe(t)}function Yxe(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=Hq(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=yb(c.text,c.styles,e)+f;var h=yb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function RT(e,t,r){for(var n=t,a=e.reduce(function(d,m){return d+m.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=RT(h,t,r))}return t}function Xxe(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function Qxe(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function Jxe(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=vL(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=vL(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function vL(e,t,r,n,a){return e.map(function(i){return Zxe(i,t,r,n,a)})}function Zxe(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=yb(e,r,n))return e;for(;t<yb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function Jq(e,t){var r=new L0(e),n=e2e(t,r.scaleFactor()),a=new Hxe(t,n);return Kxe(r,a),r.applyStyles(r.userStyles),a}function e2e(e,t){var r=e.content,n=r2e(r.columns);if(r.head.length===0){var a=yL(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=yL(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:zS("head",r.head,n,s,i,t),body:zS("body",r.body,n,s,i,t),foot:zS("foot",r.foot,n,s,i,t)}}function zS(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,m=0,p=r;m<p.length;m++){var v=p[m];if(s[v.index]==null||s[v.index].left===0)if(d===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var _=n2e(e,v,c,a,n,i,b),O=new Qq(y,_,e);f[v.dataKey]=O,f[v.index]=O,d=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:d}}else d--,h++;else s[v.index].left--,d=s[v.index].times,u++}return new Xq(l,c,e,f)});return o}function yL(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=t2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function t2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function r2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new Gxe(a,t,r)})}function n2e(e,t,r,n,a,i,s){var o=Ixe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=dc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?dc({},o.alternateRow,a.alternateRowStyles):{},d=Oxe(i),m=dc({},d,c,h,f);return dc(m,s)}function a2e(e,t,r){var n;r===void 0&&(r={});var a=Hq(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(m){return m.dataKey===h||m.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function i2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=a2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Zq(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new L0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(tW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=dc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?s2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Rc(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var m=d===t.body.length-1;xb(u,t,h,m,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Rc(u,t,h,i,t.columns)})),qq(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function s2e(e,t,r,n){var a=i2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?Mg(e,t,r,n,c.columns,!0):xL(e,t,n,c.columns),o2e(e,t,r,n,c.columns),qS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?Mg(e,t,r,n,u,!0):xL(e,t,n,u),c=bL(e,t,s+1,n,u),qS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),Mg(e,t,r,n,h.columns,!0),bL(e,t,s+1,n,h.columns,f),qS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function xL(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Rc(e,t,i,r,n)})}function o2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;xb(e,t,i,o,r,n,a)})}function bL(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=eW(e,t,u,n);l.canEntireRowFit(f,a)&&(Rc(e,t,l,n,a),o=r+c)}),o}function qS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Rc(e,t,i,r,n)})}function l2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function c2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new Qq(c.raw,c.styles,c.section);u=dc(u,c),u.text=[];var f=l2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var m=new Xq(e.raw,-1,e.section,a,!0);m.height=i;for(var p=0,v=r.columns;p<v.length;p++){var l=v[p],u=m.cells[l.index];u&&(u.height=m.height);var c=e.cells[l.index];c&&(c.height=e.height)}return m}function u2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function xb(e,t,r,n,a,i,s){var o=eW(e,t,n,i);if(r.canEntireRowFit(o,s))Rc(e,t,r,i,s);else if(u2e(e,r,o,t)){var l=c2e(r,o,t,e);Rc(e,t,r,i,s),Mg(e,t,a,i,s),xb(e,t,l,n,a,i,s)}else Mg(e,t,a,i,s),xb(e,t,r,n,a,i,s)}function Rc(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}f2e(e,l,n);var u=l.getTextPos();Vq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function f2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Wq(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),h2e(e,t,r,n.lineWidth))}function h2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function eW(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function Mg(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Rc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;qq(e,t,r,n),tW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Rc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function tW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function d2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=Yq(this,n),i=Jq(this,a);return Zq(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Vq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return L0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){L0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new L0(this),i=Kq(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var WS;function p2e(e,t){var r=Yq(e,t),n=Jq(e,r);Zq(e,n)}try{if(typeof window<"u"&&window){var wL=window,_L=wL.jsPDF||((WS=wL.jspdf)===null||WS===void 0?void 0:WS.jsPDF);_L&&d2e(_L)}}catch(e){console.error("Could not apply autoTable plugin",e)}const m2e=()=>{const[e,t]=Z.useState([]),[r,n]=Z.useState(!0),[a,i]=Z.useState(new Date),[s,o]=Z.useState(new Date),[l,c]=Z.useState("all"),[u,f]=Z.useState("all"),[h,d]=Z.useState(""),[m,p]=Z.useState([]),{showToast:v}=rd(),{isDarkMode:y}=tn(),b=async()=>{try{const D=(await Sr(Ct(gt,"users"))).docs.map(E=>({id:E.id,...E.data()}));p(D)}catch(A){console.error("Error fetching users:",A),v("Failed to fetch users","error")}},_=async()=>{n(!0);try{let A=kr(Ct(gt,"activityLogs"),bi("time","desc"));a&&s?A=kr(Ct(gt,"activityLogs"),Hr("time",">=",tb(a).toISOString()),Hr("time","<=",P1(s).toISOString()),bi("time","desc")):a?A=kr(Ct(gt,"activityLogs"),Hr("time",">=",tb(a).toISOString()),bi("time","desc")):s&&(A=kr(Ct(gt,"activityLogs"),Hr("time","<=",P1(s).toISOString()),bi("time","desc")));let E=(await Sr(A)).docs.map(P=>({id:P.id,user:P.data().user,role:P.data().role,detail:P.data().detail,time:P.data().time}));if(l!=="all"&&(E=E.filter(P=>P.user===l)),u!=="all"&&(E=E.filter(P=>{const j=P.detail.toLowerCase();return u==="inbound"?j.includes("added new product")||j.includes("edited product")||j.includes("quantity from")||j.includes("quantity to"):u==="outbound"?j.includes("units deducted from stock")||j.includes("deducted from stock"):!0})),h.trim()){const P=h.toLowerCase();E=E.filter(j=>{const G=j.detail.toLowerCase(),U=j.user.toLowerCase(),Q=j.role.toLowerCase(),J=G.match(/"([^"]+)"/),z=J?J[1].toLowerCase():"";return G.includes(P)||U.includes(P)||Q.includes(P)||z.includes(P)})}t(E)}catch(A){console.error("Error fetching activity logs:",A),v("Failed to fetch activity logs","error")}finally{n(!1)}};Z.useEffect(()=>{b()},[]),Z.useEffect(()=>{_()},[a,s,l,u,h]);const O=[{value:"all",label:"All Users"},...m.map(A=>({value:A.name,label:A.name}))],C=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],N=()=>{i(null),o(null)},T=()=>{try{const D=[["User","Role","Activity","Time"].join(","),...e.map(G=>[G.user,G.role,`"${G.detail.replace(/"/g,'""')}"`,Ft(new Date(G.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),E=new Blob([D],{type:"text/csv;charset=utf-8;"}),P=document.createElement("a"),j=URL.createObjectURL(E);P.setAttribute("href",j),P.setAttribute("download",`activity_logs_${Ft(new Date,"yyyy-MM-dd")}.csv`),P.style.visibility="hidden",document.body.appendChild(P),P.click(),document.body.removeChild(P)}catch(A){console.error("Error exporting to CSV:",A),v("Failed to export to CSV","error")}},S=()=>{var A,D;try{const E=new qt;E.setFontSize(16),E.text("Activity Logs Report",14,15),E.setFontSize(10);const P=a&&s?`${Ft(a,"MMM d, yyyy")} - ${Ft(s,"MMM d, yyyy")}`:a?`From ${Ft(a,"MMM d, yyyy")}`:s?`To ${Ft(s,"MMM d, yyyy")}`:"All Time";E.text(`Date Range: ${P}`,14,25),E.text(`User Filter: ${(A=O.find(j=>j.value===l))==null?void 0:A.label}`,14,30),E.text(`Activity Filter: ${(D=C.find(j=>j.value===u))==null?void 0:D.label}`,14,35),p2e(E,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(j=>[j.user,j.role,j.detail,Ft(new Date(j.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),E.save(`activity_logs_${Ft(new Date,"yyyy-MM-dd")}.pdf`)}catch(E){console.error("Error exporting to PDF:",E),v("Failed to export to PDF","error")}};return g.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:g.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[g.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[g.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[g.jsxs("button",{onClick:T,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[g.jsx(D2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),g.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[g.jsx(D2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),g.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[g.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:g.jsx(bt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:A=>d(A.target.value),className:"w-full sm:w-96",icon:g.jsx(K0,{size:16})})}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[g.jsx(jr,{value:l,onChange:A=>c(A.target.value),options:O,className:"w-full sm:w-40"}),g.jsx(jr,{value:u,onChange:A=>f(A.target.value),options:C,className:"w-full sm:w-40"}),g.jsx(xq,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:N,className:"w-full sm:w-80"}),g.jsx(Nt,{variant:"secondary",onClick:_,className:"flex items-center gap-2 w-full sm:w-auto",children:g.jsx(Pf,{size:16})})]})]}),r?g.jsx("div",{className:"flex justify-center items-center h-32",children:g.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{children:g.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),g.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),g.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:g.jsx(DV,{children:e.map(A=>g.jsxs(Pn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[g.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:A.user}),g.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:A.role}),g.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:A.detail}),g.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Ft(new Date(A.time),"MMM d, yyyy h:mm:ss a")})]},A.id))})})]})}),g.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(A=>g.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:A.user}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:A.role})]}),g.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[g.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),g.jsx("span",{className:"text-sm",children:A.detail})]}),g.jsx("div",{className:"text-xs mt-1",children:g.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",g.jsx("span",{className:"font-medium",children:Ft(new Date(A.time),"MMM d, yyyy h:mm:ss a")})]})})]},A.id))})]}):g.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function rW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=rW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Nr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=rW(e))&&(n&&(n+=" "),n+=t);return n}var g2e=Array.isArray,ds=g2e,v2e=typeof Wm=="object"&&Wm&&Wm.Object===Object&&Wm,nW=v2e,y2e=nW,x2e=typeof self=="object"&&self&&self.Object===Object&&self,b2e=y2e||x2e||Function("return this")(),ql=b2e,w2e=ql,_2e=w2e.Symbol,Gv=_2e,SL=Gv,aW=Object.prototype,S2e=aW.hasOwnProperty,A2e=aW.toString,jm=SL?SL.toStringTag:void 0;function T2e(e){var t=S2e.call(e,jm),r=e[jm];try{e[jm]=void 0;var n=!0}catch{}var a=A2e.call(e);return n&&(t?e[jm]=r:delete e[jm]),a}var E2e=T2e,k2e=Object.prototype,P2e=k2e.toString;function C2e(e){return P2e.call(e)}var N2e=C2e,AL=Gv,O2e=E2e,I2e=N2e,D2e="[object Null]",L2e="[object Undefined]",TL=AL?AL.toStringTag:void 0;function j2e(e){return e==null?e===void 0?L2e:D2e:TL&&TL in Object(e)?O2e(e):I2e(e)}var Gc=j2e;function M2e(e){return e!=null&&typeof e=="object"}var Kc=M2e,R2e=Gc,F2e=Kc,$2e="[object Symbol]";function B2e(e){return typeof e=="symbol"||F2e(e)&&R2e(e)==$2e}var Hp=B2e,V2e=ds,U2e=Hp,z2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q2e=/^\w*$/;function W2e(e,t){if(V2e(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||U2e(e)?!0:q2e.test(e)||!z2e.test(e)||t!=null&&e in Object(t)}var sC=W2e;function H2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Lf=H2e;const Gp=rn(Lf);var G2e=Gc,K2e=Lf,Y2e="[object AsyncFunction]",X2e="[object Function]",Q2e="[object GeneratorFunction]",J2e="[object Proxy]";function Z2e(e){if(!K2e(e))return!1;var t=G2e(e);return t==X2e||t==Q2e||t==Y2e||t==J2e}var oC=Z2e;const cr=rn(oC);var ebe=ql,tbe=ebe["__core-js_shared__"],rbe=tbe,HS=rbe,EL=function(){var e=/[^.]+$/.exec(HS&&HS.keys&&HS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function nbe(e){return!!EL&&EL in e}var abe=nbe,ibe=Function.prototype,sbe=ibe.toString;function obe(e){if(e!=null){try{return sbe.call(e)}catch{}try{return e+""}catch{}}return""}var iW=obe,lbe=oC,cbe=abe,ube=Lf,fbe=iW,hbe=/[\\^$.*+?()[\]{}|]/g,dbe=/^\[object .+?Constructor\]$/,pbe=Function.prototype,mbe=Object.prototype,gbe=pbe.toString,vbe=mbe.hasOwnProperty,ybe=RegExp("^"+gbe.call(vbe).replace(hbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xbe(e){if(!ube(e)||cbe(e))return!1;var t=lbe(e)?ybe:dbe;return t.test(fbe(e))}var bbe=xbe;function wbe(e,t){return e==null?void 0:e[t]}var _be=wbe,Sbe=bbe,Abe=_be;function Tbe(e,t){var r=Abe(e,t);return Sbe(r)?r:void 0}var fd=Tbe,Ebe=fd,kbe=Ebe(Object,"create"),g5=kbe,kL=g5;function Pbe(){this.__data__=kL?kL(null):{},this.size=0}var Cbe=Pbe;function Nbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Obe=Nbe,Ibe=g5,Dbe="__lodash_hash_undefined__",Lbe=Object.prototype,jbe=Lbe.hasOwnProperty;function Mbe(e){var t=this.__data__;if(Ibe){var r=t[e];return r===Dbe?void 0:r}return jbe.call(t,e)?t[e]:void 0}var Rbe=Mbe,Fbe=g5,$be=Object.prototype,Bbe=$be.hasOwnProperty;function Vbe(e){var t=this.__data__;return Fbe?t[e]!==void 0:Bbe.call(t,e)}var Ube=Vbe,zbe=g5,qbe="__lodash_hash_undefined__";function Wbe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=zbe&&t===void 0?qbe:t,this}var Hbe=Wbe,Gbe=Cbe,Kbe=Obe,Ybe=Rbe,Xbe=Ube,Qbe=Hbe;function Kp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Kp.prototype.clear=Gbe;Kp.prototype.delete=Kbe;Kp.prototype.get=Ybe;Kp.prototype.has=Xbe;Kp.prototype.set=Qbe;var Jbe=Kp;function Zbe(){this.__data__=[],this.size=0}var ewe=Zbe;function twe(e,t){return e===t||e!==e&&t!==t}var lC=twe,rwe=lC;function nwe(e,t){for(var r=e.length;r--;)if(rwe(e[r][0],t))return r;return-1}var v5=nwe,awe=v5,iwe=Array.prototype,swe=iwe.splice;function owe(e){var t=this.__data__,r=awe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():swe.call(t,r,1),--this.size,!0}var lwe=owe,cwe=v5;function uwe(e){var t=this.__data__,r=cwe(t,e);return r<0?void 0:t[r][1]}var fwe=uwe,hwe=v5;function dwe(e){return hwe(this.__data__,e)>-1}var pwe=dwe,mwe=v5;function gwe(e,t){var r=this.__data__,n=mwe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var vwe=gwe,ywe=ewe,xwe=lwe,bwe=fwe,wwe=pwe,_we=vwe;function Yp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Yp.prototype.clear=ywe;Yp.prototype.delete=xwe;Yp.prototype.get=bwe;Yp.prototype.has=wwe;Yp.prototype.set=_we;var y5=Yp,Swe=fd,Awe=ql,Twe=Swe(Awe,"Map"),cC=Twe,PL=Jbe,Ewe=y5,kwe=cC;function Pwe(){this.size=0,this.__data__={hash:new PL,map:new(kwe||Ewe),string:new PL}}var Cwe=Pwe;function Nwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Owe=Nwe,Iwe=Owe;function Dwe(e,t){var r=e.__data__;return Iwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var x5=Dwe,Lwe=x5;function jwe(e){var t=Lwe(this,e).delete(e);return this.size-=t?1:0,t}var Mwe=jwe,Rwe=x5;function Fwe(e){return Rwe(this,e).get(e)}var $we=Fwe,Bwe=x5;function Vwe(e){return Bwe(this,e).has(e)}var Uwe=Vwe,zwe=x5;function qwe(e,t){var r=zwe(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Wwe=qwe,Hwe=Cwe,Gwe=Mwe,Kwe=$we,Ywe=Uwe,Xwe=Wwe;function Xp(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xp.prototype.clear=Hwe;Xp.prototype.delete=Gwe;Xp.prototype.get=Kwe;Xp.prototype.has=Ywe;Xp.prototype.set=Xwe;var uC=Xp,sW=uC,Qwe="Expected a function";function fC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Qwe);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(fC.Cache||sW),r}fC.Cache=sW;var oW=fC;const Jwe=rn(oW);var Zwe=oW,e5e=500;function t5e(e){var t=Zwe(e,function(n){return r.size===e5e&&r.clear(),n}),r=t.cache;return t}var r5e=t5e,n5e=r5e,a5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i5e=/\\(\\)?/g,s5e=n5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(a5e,function(r,n,a,i){t.push(a?i.replace(i5e,"$1"):n||r)}),t}),o5e=s5e;function l5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var hC=l5e,CL=Gv,c5e=hC,u5e=ds,f5e=Hp,h5e=1/0,NL=CL?CL.prototype:void 0,OL=NL?NL.toString:void 0;function lW(e){if(typeof e=="string")return e;if(u5e(e))return c5e(e,lW)+"";if(f5e(e))return OL?OL.call(e):"";var t=e+"";return t=="0"&&1/e==-h5e?"-0":t}var d5e=lW,p5e=d5e;function m5e(e){return e==null?"":p5e(e)}var cW=m5e,g5e=ds,v5e=sC,y5e=o5e,x5e=cW;function b5e(e,t){return g5e(e)?e:v5e(e,t)?[e]:y5e(x5e(e))}var uW=b5e,w5e=Hp,_5e=1/0;function S5e(e){if(typeof e=="string"||w5e(e))return e;var t=e+"";return t=="0"&&1/e==-_5e?"-0":t}var b5=S5e,A5e=uW,T5e=b5;function E5e(e,t){t=A5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[T5e(t[r++])];return r&&r==n?e:void 0}var dC=E5e,k5e=dC;function P5e(e,t,r){var n=e==null?void 0:k5e(e,t);return n===void 0?r:n}var fW=P5e;const uo=rn(fW);function C5e(e){return e==null}var N5e=C5e;const mr=rn(N5e);var O5e=Gc,I5e=ds,D5e=Kc,L5e="[object String]";function j5e(e){return typeof e=="string"||!I5e(e)&&D5e(e)&&O5e(e)==L5e}var M5e=j5e;const Gh=rn(M5e);var hW={exports:{}},Yr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pC=Symbol.for("react.element"),mC=Symbol.for("react.portal"),w5=Symbol.for("react.fragment"),_5=Symbol.for("react.strict_mode"),S5=Symbol.for("react.profiler"),A5=Symbol.for("react.provider"),T5=Symbol.for("react.context"),R5e=Symbol.for("react.server_context"),E5=Symbol.for("react.forward_ref"),k5=Symbol.for("react.suspense"),P5=Symbol.for("react.suspense_list"),C5=Symbol.for("react.memo"),N5=Symbol.for("react.lazy"),F5e=Symbol.for("react.offscreen"),dW;dW=Symbol.for("react.module.reference");function yo(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case pC:switch(e=e.type,e){case w5:case S5:case _5:case k5:case P5:return e;default:switch(e=e&&e.$$typeof,e){case R5e:case T5:case E5:case N5:case C5:case A5:return e;default:return t}}case mC:return t}}}Yr.ContextConsumer=T5;Yr.ContextProvider=A5;Yr.Element=pC;Yr.ForwardRef=E5;Yr.Fragment=w5;Yr.Lazy=N5;Yr.Memo=C5;Yr.Portal=mC;Yr.Profiler=S5;Yr.StrictMode=_5;Yr.Suspense=k5;Yr.SuspenseList=P5;Yr.isAsyncMode=function(){return!1};Yr.isConcurrentMode=function(){return!1};Yr.isContextConsumer=function(e){return yo(e)===T5};Yr.isContextProvider=function(e){return yo(e)===A5};Yr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===pC};Yr.isForwardRef=function(e){return yo(e)===E5};Yr.isFragment=function(e){return yo(e)===w5};Yr.isLazy=function(e){return yo(e)===N5};Yr.isMemo=function(e){return yo(e)===C5};Yr.isPortal=function(e){return yo(e)===mC};Yr.isProfiler=function(e){return yo(e)===S5};Yr.isStrictMode=function(e){return yo(e)===_5};Yr.isSuspense=function(e){return yo(e)===k5};Yr.isSuspenseList=function(e){return yo(e)===P5};Yr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===w5||e===S5||e===_5||e===k5||e===P5||e===F5e||typeof e=="object"&&e!==null&&(e.$$typeof===N5||e.$$typeof===C5||e.$$typeof===A5||e.$$typeof===T5||e.$$typeof===E5||e.$$typeof===dW||e.getModuleId!==void 0)};Yr.typeOf=yo;hW.exports=Yr;var $5e=hW.exports,B5e=Gc,V5e=Kc,U5e="[object Number]";function z5e(e){return typeof e=="number"||V5e(e)&&B5e(e)==U5e}var pW=z5e;const q5e=rn(pW);var W5e=pW;function H5e(e){return W5e(e)&&e!=+e}var G5e=H5e;const Kv=rn(G5e);var Yo=function(t){return t===0?0:t>0?1:-1},Sh=function(t){return Gh(t)&&t.indexOf("%")===t.length-1},_t=function(t){return q5e(t)&&!Kv(t)},wa=function(t){return _t(t)||Gh(t)},K5e=0,Yv=function(t){var r=++K5e;return"".concat(t||"").concat(r)},Kh=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(t)&&!Gh(t))return n;var i;if(Sh(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return Kv(i)&&(i=n),a&&i>r&&(i=r),i},Fu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},Y5e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},zo=function(t,r){return _t(t)&&_t(r)?function(n){return t+n*(r-t)}:function(){return r}};function bb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):uo(n,t))===r})}var X5e=function(t,r){return _t(t)&&_t(r)?t-r:Gh(t)&&Gh(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function j0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function FT(e){"@babel/helpers - typeof";return FT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FT(e)}var Q5e=["viewBox","children"],J5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],IL=["points","pathLength"],GS={svg:Q5e,polygon:IL,polyline:IL},gC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],wb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(Z.isValidElement(t)&&(n=t.props),!Gp(n))return null;var a={};return Object.keys(n).forEach(function(i){gC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},Z5e=function(t,r,n){return function(a){return t(r,n,a),null}},_b=function(t,r,n){if(!Gp(t)||FT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];gC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=Z5e(s,r,n))}),a},e_e=["children"],t_e=["children"];function DL(e,t){if(e==null)return{};var r=r_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function r_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $T(e){"@babel/helpers - typeof";return $T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$T(e)}var LL={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},bc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},jL=null,KS=null,vC=function e(t){if(t===jL&&Array.isArray(KS))return KS;var r=[];return Z.Children.forEach(t,function(n){mr(n)||($5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),KS=r,jL=t,r};function fo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return bc(a)}):n=[bc(t)],vC(e).forEach(function(a){var i=uo(a,"type.displayName")||uo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Ts(e,t){var r=fo(e,t);return r&&r[0]}var ML=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!_t(n)||n<=0||!_t(a)||a<=0)},n_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],a_e=function(t){return t&&t.type&&Gh(t.type)&&n_e.indexOf(t.type)>=0},i_e=function(t){return t&&$T(t)==="object"&&"clipDot"in t},s_e=function(t,r,n,a){var i,s=(i=GS==null?void 0:GS[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!cr(t)&&(a&&s.includes(r)||J5e.includes(r))||n&&gC.includes(r)},yr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(Z.isValidElement(t)&&(a=t.props),!Gp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;s_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},BT=function e(t,r){if(t===r)return!0;var n=Z.Children.count(t);if(n!==Z.Children.count(r))return!1;if(n===0)return!0;if(n===1)return RL(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!RL(i,s))return!1}return!0},RL=function(t,r){if(mr(t)&&mr(r))return!0;if(!mr(t)&&!mr(r)){var n=t.props||{},a=n.children,i=DL(n,e_e),s=r.props||{},o=s.children,l=DL(s,t_e);return a&&o?j0(i,l)&&BT(a,o):!a&&!o?j0(i,l):!1}return!1},FL=function(t,r){var n=[],a={};return vC(t).forEach(function(i,s){if(a_e(i))n.push(i);else if(i){var o=bc(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},o_e=function(t){var r=t&&t.type;return r&&LL[r]?LL[r]:null},l_e=function(t,r){return vC(r).indexOf(t)},c_e=["children","width","height","viewBox","className","style","title","desc"];function VT(){return VT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VT.apply(this,arguments)}function u_e(e,t){if(e==null)return{};var r=f_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function UT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=u_e(e,c_e),u=a||{width:r,height:n,x:0,y:0},f=Nr("recharts-surface",i);return Ne.createElement("svg",VT({},yr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Ne.createElement("title",null,o),Ne.createElement("desc",null,l),t)}var h_e=["children","className"];function zT(){return zT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zT.apply(this,arguments)}function d_e(e,t){if(e==null)return{};var r=p_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function p_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var ta=Ne.forwardRef(function(e,t){var r=e.children,n=e.className,a=d_e(e,h_e),i=Nr("recharts-layer",n);return Ne.createElement("g",zT({className:i},yr(a,!0),{ref:t}),r)}),wc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function m_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var g_e=m_e,v_e=g_e;function y_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:v_e(e,t,r)}var x_e=y_e,b_e="\\ud800-\\udfff",w_e="\\u0300-\\u036f",__e="\\ufe20-\\ufe2f",S_e="\\u20d0-\\u20ff",A_e=w_e+__e+S_e,T_e="\\ufe0e\\ufe0f",E_e="\\u200d",k_e=RegExp("["+E_e+b_e+A_e+T_e+"]");function P_e(e){return k_e.test(e)}var mW=P_e;function C_e(e){return e.split("")}var N_e=C_e,gW="\\ud800-\\udfff",O_e="\\u0300-\\u036f",I_e="\\ufe20-\\ufe2f",D_e="\\u20d0-\\u20ff",L_e=O_e+I_e+D_e,j_e="\\ufe0e\\ufe0f",M_e="["+gW+"]",qT="["+L_e+"]",WT="\\ud83c[\\udffb-\\udfff]",R_e="(?:"+qT+"|"+WT+")",vW="[^"+gW+"]",yW="(?:\\ud83c[\\udde6-\\uddff]){2}",xW="[\\ud800-\\udbff][\\udc00-\\udfff]",F_e="\\u200d",bW=R_e+"?",wW="["+j_e+"]?",$_e="(?:"+F_e+"(?:"+[vW,yW,xW].join("|")+")"+wW+bW+")*",B_e=wW+bW+$_e,V_e="(?:"+[vW+qT+"?",qT,yW,xW,M_e].join("|")+")",U_e=RegExp(WT+"(?="+WT+")|"+V_e+B_e,"g");function z_e(e){return e.match(U_e)||[]}var q_e=z_e,W_e=N_e,H_e=mW,G_e=q_e;function K_e(e){return H_e(e)?G_e(e):W_e(e)}var Y_e=K_e,X_e=x_e,Q_e=mW,J_e=Y_e,Z_e=cW;function eSe(e){return function(t){t=Z_e(t);var r=Q_e(t)?J_e(t):void 0,n=r?r[0]:t.charAt(0),a=r?X_e(r,1).join(""):t.slice(1);return n[e]()+a}}var tSe=eSe,rSe=tSe,nSe=rSe("toUpperCase"),aSe=nSe;const O5=rn(aSe);function un(e){return function(){return e}}const _W=Math.cos,Sb=Math.sin,sl=Math.sqrt,Ab=Math.PI,I5=2*Ab,HT=Math.PI,GT=2*HT,fh=1e-6,iSe=GT-fh;function SW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return SW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class oSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?SW:sSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fh)if(!(Math.abs(f*l-c*u)>fh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,m=a-o,p=l*l+c*c,v=d*d+m*m,y=Math.sqrt(p),b=Math.sqrt(h),_=i*Math.tan((HT-Math.acos((p+h-v)/(2*y*b)))/2),O=_/b,C=_/y;Math.abs(O-1)>fh&&this._append`L${t+O*u},${r+O*f}`,this._append`A${i},${i},0,0,${+(f*d>u*m)},${this._x1=t+C*l},${this._y1=r+C*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>fh||Math.abs(this._y1-u)>fh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%GT+GT),h>iSe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>fh&&this._append`A${n},${n},0,${+(h>=HT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function yC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new oSe(t)}function xC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AW(e){this._context=e}AW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function D5(e){return new AW(e)}function TW(e){return e[0]}function EW(e){return e[1]}function kW(e,t){var r=un(!0),n=null,a=D5,i=null,s=yC(o);e=typeof e=="function"?e:e===void 0?TW:un(e),t=typeof t=="function"?t:t===void 0?EW:un(t);function o(l){var c,u=(l=xC(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:un(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:un(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:un(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function gx(e,t,r){var n=null,a=un(!0),i=null,s=D5,o=null,l=yC(c);e=typeof e=="function"?e:e===void 0?TW:un(+e),t=typeof t=="function"?t:un(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?EW:un(+r);function c(f){var h,d,m,p=(f=xC(f)).length,v,y=!1,b,_=new Array(p),O=new Array(p);for(i==null&&(o=s(b=l())),h=0;h<=p;++h){if(!(h<p&&a(v=f[h],h,f))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=h-1;m>=d;--m)o.point(_[m],O[m]);o.lineEnd(),o.areaEnd()}y&&(_[h]=+e(v,h,f),O[h]=+t(v,h,f),o.point(n?+n(v,h,f):_[h],r?+r(v,h,f):O[h]))}if(b)return o=null,b+""||null}function u(){return kW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:un(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:un(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:un(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:un(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:un(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class PW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function lSe(e){return new PW(e,!0)}function cSe(e){return new PW(e,!1)}const bC={draw(e,t){const r=sl(t/Ab);e.moveTo(r,0),e.arc(0,0,r,0,I5)}},uSe={draw(e,t){const r=sl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},CW=sl(1/3),fSe=CW*2,hSe={draw(e,t){const r=sl(t/fSe),n=r*CW;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dSe={draw(e,t){const r=sl(t),n=-r/2;e.rect(n,n,r,r)}},pSe=.8908130915292852,NW=Sb(Ab/10)/Sb(7*Ab/10),mSe=Sb(I5/10)*NW,gSe=-_W(I5/10)*NW,vSe={draw(e,t){const r=sl(t*pSe),n=mSe*r,a=gSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=I5*i/5,o=_W(s),l=Sb(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},YS=sl(3),ySe={draw(e,t){const r=-sl(t/(YS*3));e.moveTo(0,r*2),e.lineTo(-YS*r,-r),e.lineTo(YS*r,-r),e.closePath()}},Xs=-.5,Qs=sl(3)/2,KT=1/sl(12),xSe=(KT/2+1)*3,bSe={draw(e,t){const r=sl(t/xSe),n=r/2,a=r*KT,i=n,s=r*KT+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(Xs*n-Qs*a,Qs*n+Xs*a),e.lineTo(Xs*i-Qs*s,Qs*i+Xs*s),e.lineTo(Xs*o-Qs*l,Qs*o+Xs*l),e.lineTo(Xs*n+Qs*a,Xs*a-Qs*n),e.lineTo(Xs*i+Qs*s,Xs*s-Qs*i),e.lineTo(Xs*o+Qs*l,Xs*l-Qs*o),e.closePath()}};function wSe(e,t){let r=null,n=yC(a);e=typeof e=="function"?e:un(e||bC),t=typeof t=="function"?t:un(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:un(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:un(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Tb(){}function Eb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function OW(e){this._context=e}OW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Eb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _Se(e){return new OW(e)}function IW(e){this._context=e}IW.prototype={areaStart:Tb,areaEnd:Tb,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SSe(e){return new IW(e)}function DW(e){this._context=e}DW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Eb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ASe(e){return new DW(e)}function LW(e){this._context=e}LW.prototype={areaStart:Tb,areaEnd:Tb,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function TSe(e){return new LW(e)}function $L(e){return e<0?-1:1}function BL(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return($L(i)+$L(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function VL(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function XS(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function kb(e){this._context=e}kb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:XS(this,this._t0,VL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,XS(this,VL(this,r=BL(this,e,t)),r);break;default:XS(this,this._t0,r=BL(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jW(e){this._context=new MW(e)}(jW.prototype=Object.create(kb.prototype)).point=function(e,t){kb.prototype.point.call(this,t,e)};function MW(e){this._context=e}MW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function ESe(e){return new kb(e)}function kSe(e){return new jW(e)}function RW(e){this._context=e}RW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=UL(e),a=UL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function UL(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function PSe(e){return new RW(e)}function L5(e,t){this._context=e,this._t=t}L5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function CSe(e){return new L5(e,.5)}function NSe(e){return new L5(e,0)}function OSe(e){return new L5(e,1)}function sp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function YT(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function ISe(e,t){return e[t]}function DSe(e){const t=[];return t.key=e,t}function LSe(){var e=un([]),t=YT,r=sp,n=ISe;function a(i){var s=Array.from(e.apply(this,arguments),DSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=xC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:un(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:un(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?YT:typeof i=="function"?i:un(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??sp,a):r},a}function jSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}sp(e,t)}}function MSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}sp(e,t)}}function RSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,m=0;m<o;++m){var p=e[t[m]],v=p[n][1]||0,y=p[n-1][1]||0;d+=v-y}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,sp(e,t)}}function F1(e){"@babel/helpers - typeof";return F1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F1(e)}var FSe=["type","size","sizeType"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function zL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zL(Object(r),!0).forEach(function(n){$Se(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Se(e,t,r){return t=BSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BSe(e){var t=VSe(e,"string");return F1(t)=="symbol"?t:t+""}function VSe(e,t){if(F1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(F1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function USe(e,t){if(e==null)return{};var r=zSe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zSe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FW={symbolCircle:bC,symbolCross:uSe,symbolDiamond:hSe,symbolSquare:dSe,symbolStar:vSe,symbolTriangle:ySe,symbolWye:bSe},qSe=Math.PI/180,WSe=function(t){var r="symbol".concat(O5(t));return FW[r]||bC},HSe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*qSe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},GSe=function(t,r){FW["symbol".concat(O5(t))]=r},wC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=USe(t,FSe),c=qL(qL({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=WSe(n),y=wSe().type(v).size(HSe(i,o,n));return y()},f=c.className,h=c.cx,d=c.cy,m=yr(c,!0);return h===+h&&d===+d&&i===+i?Ne.createElement("path",XT({},m,{className:Nr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};wC.registerSymbol=GSe;function op(e){"@babel/helpers - typeof";return op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},op(e)}function QT(){return QT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},QT.apply(this,arguments)}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KSe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){$1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YSe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XSe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,BW(n.key),n)}}function QSe(e,t,r){return t&&XSe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JSe(e,t,r){return t=Pb(t),ZSe(e,$W()?Reflect.construct(t,r||[],Pb(e).constructor):t.apply(e,r))}function ZSe(e,t){if(t&&(op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(e)}function eAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $W(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($W=function(){return!!e})()}function Pb(e){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pb(e)}function tAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JT(e,t)}function JT(e,t){return JT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JT(e,t)}function $1(e,t,r){return t=BW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=rAe(e,"string");return op(t)=="symbol"?t:t+""}function rAe(e,t){if(op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Js=32,_C=function(e){function t(){return YSe(this,t),JSe(this,t,arguments)}return tAe(t,e),QSe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Js/2,s=Js/6,o=Js/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Js,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(Js,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Js/8,"h").concat(Js,"v").concat(Js*3/4,"h").concat(-Js,"z"),className:"recharts-legend-icon"});if(Ne.isValidElement(n.legendIcon)){var c=KSe({},n);return delete c.legendIcon,Ne.cloneElement(n.legendIcon,c)}return Ne.createElement(wC,{fill:l,cx:i,cy:i,size:Js,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:Js,height:Js},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,m){var p=d.formatter||l,v=Nr($1($1({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=cr(d.value)?null:d.value;wc(!cr(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=d.inactive?c:d.color;return Ne.createElement("li",QT({className:v,style:f,key:"legend-item-".concat(m)},_b(n.props,d,m)),Ne.createElement(UT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Ne.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},p?p(y,d,m):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Ne.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(Z.PureComponent);$1(_C,"displayName","Legend");$1(_C,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var nAe=y5;function aAe(){this.__data__=new nAe,this.size=0}var iAe=aAe;function sAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var oAe=sAe;function lAe(e){return this.__data__.get(e)}var cAe=lAe;function uAe(e){return this.__data__.has(e)}var fAe=uAe,hAe=y5,dAe=cC,pAe=uC,mAe=200;function gAe(e,t){var r=this.__data__;if(r instanceof hAe){var n=r.__data__;if(!dAe||n.length<mAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pAe(n)}return r.set(e,t),this.size=r.size,this}var vAe=gAe,yAe=y5,xAe=iAe,bAe=oAe,wAe=cAe,_Ae=fAe,SAe=vAe;function Qp(e){var t=this.__data__=new yAe(e);this.size=t.size}Qp.prototype.clear=xAe;Qp.prototype.delete=bAe;Qp.prototype.get=wAe;Qp.prototype.has=_Ae;Qp.prototype.set=SAe;var VW=Qp,AAe="__lodash_hash_undefined__";function TAe(e){return this.__data__.set(e,AAe),this}var EAe=TAe;function kAe(e){return this.__data__.has(e)}var PAe=kAe,CAe=uC,NAe=EAe,OAe=PAe;function Cb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new CAe;++t<r;)this.add(e[t])}Cb.prototype.add=Cb.prototype.push=NAe;Cb.prototype.has=OAe;var UW=Cb;function IAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var zW=IAe;function DAe(e,t){return e.has(t)}var qW=DAe,LAe=UW,jAe=zW,MAe=qW,RAe=1,FAe=2;function $Ae(e,t,r,n,a,i){var s=r&RAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&FAe?new LAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var m=e[f],p=t[f];if(n)var v=s?n(p,m,f,t,e,i):n(m,p,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!jAe(t,function(y,b){if(!MAe(d,b)&&(m===y||a(m,y,r,n,i)))return d.push(b)})){h=!1;break}}else if(!(m===p||a(m,p,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var WW=$Ae,BAe=ql,VAe=BAe.Uint8Array,UAe=VAe;function zAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var qAe=zAe;function WAe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var SC=WAe,HL=Gv,GL=UAe,HAe=lC,GAe=WW,KAe=qAe,YAe=SC,XAe=1,QAe=2,JAe="[object Boolean]",ZAe="[object Date]",e4e="[object Error]",t4e="[object Map]",r4e="[object Number]",n4e="[object RegExp]",a4e="[object Set]",i4e="[object String]",s4e="[object Symbol]",o4e="[object ArrayBuffer]",l4e="[object DataView]",KL=HL?HL.prototype:void 0,QS=KL?KL.valueOf:void 0;function c4e(e,t,r,n,a,i,s){switch(r){case l4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case o4e:return!(e.byteLength!=t.byteLength||!i(new GL(e),new GL(t)));case JAe:case ZAe:case r4e:return HAe(+e,+t);case e4e:return e.name==t.name&&e.message==t.message;case n4e:case i4e:return e==t+"";case t4e:var o=KAe;case a4e:var l=n&XAe;if(o||(o=YAe),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=QAe,s.set(e,t);var u=GAe(o(e),o(t),n,a,i,s);return s.delete(e),u;case s4e:if(QS)return QS.call(e)==QS.call(t)}return!1}var u4e=c4e;function f4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var HW=f4e,h4e=HW,d4e=ds;function p4e(e,t,r){var n=t(e);return d4e(e)?n:h4e(n,r(e))}var m4e=p4e;function g4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var v4e=g4e;function y4e(){return[]}var x4e=y4e,b4e=v4e,w4e=x4e,_4e=Object.prototype,S4e=_4e.propertyIsEnumerable,YL=Object.getOwnPropertySymbols,A4e=YL?function(e){return e==null?[]:(e=Object(e),b4e(YL(e),function(t){return S4e.call(e,t)}))}:w4e,T4e=A4e;function E4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var k4e=E4e,P4e=Gc,C4e=Kc,N4e="[object Arguments]";function O4e(e){return C4e(e)&&P4e(e)==N4e}var I4e=O4e,XL=I4e,D4e=Kc,GW=Object.prototype,L4e=GW.hasOwnProperty,j4e=GW.propertyIsEnumerable,M4e=XL(function(){return arguments}())?XL:function(e){return D4e(e)&&L4e.call(e,"callee")&&!j4e.call(e,"callee")},AC=M4e,Nb={exports:{}};function R4e(){return!1}var F4e=R4e;Nb.exports;(function(e,t){var r=ql,n=F4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Nb,Nb.exports);var KW=Nb.exports,$4e=9007199254740991,B4e=/^(?:0|[1-9]\d*)$/;function V4e(e,t){var r=typeof e;return t=t??$4e,!!t&&(r=="number"||r!="symbol"&&B4e.test(e))&&e>-1&&e%1==0&&e<t}var TC=V4e,U4e=9007199254740991;function z4e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=U4e}var EC=z4e,q4e=Gc,W4e=EC,H4e=Kc,G4e="[object Arguments]",K4e="[object Array]",Y4e="[object Boolean]",X4e="[object Date]",Q4e="[object Error]",J4e="[object Function]",Z4e="[object Map]",eTe="[object Number]",tTe="[object Object]",rTe="[object RegExp]",nTe="[object Set]",aTe="[object String]",iTe="[object WeakMap]",sTe="[object ArrayBuffer]",oTe="[object DataView]",lTe="[object Float32Array]",cTe="[object Float64Array]",uTe="[object Int8Array]",fTe="[object Int16Array]",hTe="[object Int32Array]",dTe="[object Uint8Array]",pTe="[object Uint8ClampedArray]",mTe="[object Uint16Array]",gTe="[object Uint32Array]",gn={};gn[lTe]=gn[cTe]=gn[uTe]=gn[fTe]=gn[hTe]=gn[dTe]=gn[pTe]=gn[mTe]=gn[gTe]=!0;gn[G4e]=gn[K4e]=gn[sTe]=gn[Y4e]=gn[oTe]=gn[X4e]=gn[Q4e]=gn[J4e]=gn[Z4e]=gn[eTe]=gn[tTe]=gn[rTe]=gn[nTe]=gn[aTe]=gn[iTe]=!1;function vTe(e){return H4e(e)&&W4e(e.length)&&!!gn[q4e(e)]}var yTe=vTe;function xTe(e){return function(t){return e(t)}}var YW=xTe,Ob={exports:{}};Ob.exports;(function(e,t){var r=nW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})(Ob,Ob.exports);var bTe=Ob.exports,wTe=yTe,_Te=YW,QL=bTe,JL=QL&&QL.isTypedArray,STe=JL?_Te(JL):wTe,XW=STe,ATe=k4e,TTe=AC,ETe=ds,kTe=KW,PTe=TC,CTe=XW,NTe=Object.prototype,OTe=NTe.hasOwnProperty;function ITe(e,t){var r=ETe(e),n=!r&&TTe(e),a=!r&&!n&&kTe(e),i=!r&&!n&&!a&&CTe(e),s=r||n||a||i,o=s?ATe(e.length,String):[],l=o.length;for(var c in e)(t||OTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||PTe(c,l)))&&o.push(c);return o}var DTe=ITe,LTe=Object.prototype;function jTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||LTe;return e===r}var MTe=jTe;function RTe(e,t){return function(r){return e(t(r))}}var QW=RTe,FTe=QW,$Te=FTe(Object.keys,Object),BTe=$Te,VTe=MTe,UTe=BTe,zTe=Object.prototype,qTe=zTe.hasOwnProperty;function WTe(e){if(!VTe(e))return UTe(e);var t=[];for(var r in Object(e))qTe.call(e,r)&&r!="constructor"&&t.push(r);return t}var HTe=WTe,GTe=oC,KTe=EC;function YTe(e){return e!=null&&KTe(e.length)&&!GTe(e)}var Xv=YTe,XTe=DTe,QTe=HTe,JTe=Xv;function ZTe(e){return JTe(e)?XTe(e):QTe(e)}var j5=ZTe,eEe=m4e,tEe=T4e,rEe=j5;function nEe(e){return eEe(e,rEe,tEe)}var aEe=nEe,ZL=aEe,iEe=1,sEe=Object.prototype,oEe=sEe.hasOwnProperty;function lEe(e,t,r,n,a,i){var s=r&iEe,o=ZL(e),l=o.length,c=ZL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:oEe.call(t,h)))return!1}var d=i.get(e),m=i.get(t);if(d&&m)return d==t&&m==e;var p=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var _=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(_===void 0?y===b||a(y,b,r,n,i):_)){p=!1;break}v||(v=h=="constructor")}if(p&&!v){var O=e.constructor,C=t.constructor;O!=C&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof C=="function"&&C instanceof C)&&(p=!1)}return i.delete(e),i.delete(t),p}var cEe=lEe,uEe=fd,fEe=ql,hEe=uEe(fEe,"DataView"),dEe=hEe,pEe=fd,mEe=ql,gEe=pEe(mEe,"Promise"),vEe=gEe,yEe=fd,xEe=ql,bEe=yEe(xEe,"Set"),JW=bEe,wEe=fd,_Ee=ql,SEe=wEe(_Ee,"WeakMap"),AEe=SEe,ZT=dEe,eE=cC,tE=vEe,rE=JW,nE=AEe,ZW=Gc,Jp=iW,ej="[object Map]",TEe="[object Object]",tj="[object Promise]",rj="[object Set]",nj="[object WeakMap]",aj="[object DataView]",EEe=Jp(ZT),kEe=Jp(eE),PEe=Jp(tE),CEe=Jp(rE),NEe=Jp(nE),hh=ZW;(ZT&&hh(new ZT(new ArrayBuffer(1)))!=aj||eE&&hh(new eE)!=ej||tE&&hh(tE.resolve())!=tj||rE&&hh(new rE)!=rj||nE&&hh(new nE)!=nj)&&(hh=function(e){var t=ZW(e),r=t==TEe?e.constructor:void 0,n=r?Jp(r):"";if(n)switch(n){case EEe:return aj;case kEe:return ej;case PEe:return tj;case CEe:return rj;case NEe:return nj}return t});var OEe=hh,JS=VW,IEe=WW,DEe=u4e,LEe=cEe,ij=OEe,sj=ds,oj=KW,jEe=XW,MEe=1,lj="[object Arguments]",cj="[object Array]",vx="[object Object]",REe=Object.prototype,uj=REe.hasOwnProperty;function FEe(e,t,r,n,a,i){var s=sj(e),o=sj(t),l=s?cj:ij(e),c=o?cj:ij(t);l=l==lj?vx:l,c=c==lj?vx:c;var u=l==vx,f=c==vx,h=l==c;if(h&&oj(e)){if(!oj(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new JS),s||jEe(e)?IEe(e,t,r,n,a,i):DEe(e,t,l,r,n,a,i);if(!(r&MEe)){var d=u&&uj.call(e,"__wrapped__"),m=f&&uj.call(t,"__wrapped__");if(d||m){var p=d?e.value():e,v=m?t.value():t;return i||(i=new JS),a(p,v,r,n,i)}}return h?(i||(i=new JS),LEe(e,t,r,n,a,i)):!1}var $Ee=FEe,BEe=$Ee,fj=Kc;function eH(e,t,r,n,a){return e===t?!0:e==null||t==null||!fj(e)&&!fj(t)?e!==e&&t!==t:BEe(e,t,r,n,eH,a)}var kC=eH,VEe=VW,UEe=kC,zEe=1,qEe=2;function WEe(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new VEe;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?UEe(u,c,zEe|qEe,n,f):h))return!1}}return!0}var HEe=WEe,GEe=Lf;function KEe(e){return e===e&&!GEe(e)}var tH=KEe,YEe=tH,XEe=j5;function QEe(e){for(var t=XEe(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,YEe(a)]}return t}var JEe=QEe;function ZEe(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var rH=ZEe,e3e=HEe,t3e=JEe,r3e=rH;function n3e(e){var t=t3e(e);return t.length==1&&t[0][2]?r3e(t[0][0],t[0][1]):function(r){return r===e||e3e(r,e,t)}}var a3e=n3e;function i3e(e,t){return e!=null&&t in Object(e)}var s3e=i3e,o3e=uW,l3e=AC,c3e=ds,u3e=TC,f3e=EC,h3e=b5;function d3e(e,t,r){t=o3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=h3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&f3e(a)&&u3e(s,a)&&(c3e(e)||l3e(e)))}var p3e=d3e,m3e=s3e,g3e=p3e;function v3e(e,t){return e!=null&&g3e(e,t,m3e)}var y3e=v3e,x3e=kC,b3e=fW,w3e=y3e,_3e=sC,S3e=tH,A3e=rH,T3e=b5,E3e=1,k3e=2;function P3e(e,t){return _3e(e)&&S3e(t)?A3e(T3e(e),t):function(r){var n=b3e(r,e);return n===void 0&&n===t?w3e(r,e):x3e(t,n,E3e|k3e)}}var C3e=P3e;function N3e(e){return e}var Zp=N3e;function O3e(e){return function(t){return t==null?void 0:t[e]}}var I3e=O3e,D3e=dC;function L3e(e){return function(t){return D3e(t,e)}}var j3e=L3e,M3e=I3e,R3e=j3e,F3e=sC,$3e=b5;function B3e(e){return F3e(e)?M3e($3e(e)):R3e(e)}var V3e=B3e,U3e=a3e,z3e=C3e,q3e=Zp,W3e=ds,H3e=V3e;function G3e(e){return typeof e=="function"?e:e==null?q3e:typeof e=="object"?W3e(e)?z3e(e[0],e[1]):U3e(e):H3e(e)}var jf=G3e;function K3e(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var nH=K3e;function Y3e(e){return e!==e}var X3e=Y3e;function Q3e(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var J3e=Q3e,Z3e=nH,eke=X3e,tke=J3e;function rke(e,t,r){return t===t?tke(e,t,r):Z3e(e,eke,r)}var nke=rke,ake=nke;function ike(e,t){var r=e==null?0:e.length;return!!r&&ake(e,t,0)>-1}var ske=ike;function oke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var lke=oke;function cke(){}var uke=cke,ZS=JW,fke=uke,hke=SC,dke=1/0,pke=ZS&&1/hke(new ZS([,-0]))[1]==dke?function(e){return new ZS(e)}:fke,mke=pke,gke=UW,vke=ske,yke=lke,xke=qW,bke=mke,wke=SC,_ke=200;function Ske(e,t,r){var n=-1,a=vke,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=yke;else if(i>=_ke){var c=t?null:bke(e);if(c)return wke(c);s=!1,a=xke,l=new gke}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Ake=Ske,Tke=jf,Eke=Ake;function kke(e,t){return e&&e.length?Eke(e,Tke(t)):[]}var Pke=kke;const hj=rn(Pke);function aH(e,t,r){return t===!0?hj(e,r):cr(t)?hj(e,t):e}function lp(e){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lp(e)}var Cke=["ref"];function dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dj(Object(r),!0).forEach(function(n){M5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sH(n.key),n)}}function Oke(e,t,r){return t&&pj(e.prototype,t),r&&pj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ike(e,t,r){return t=Ib(t),Dke(e,iH()?Reflect.construct(t,r||[],Ib(e).constructor):t.apply(e,r))}function Dke(e,t){if(t&&(lp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lke(e)}function Lke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iH=function(){return!!e})()}function Ib(e){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ib(e)}function jke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&aE(e,t)}function aE(e,t){return aE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},aE(e,t)}function M5(e,t,r){return t=sH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sH(e){var t=Mke(e,"string");return lp(t)=="symbol"?t:t+""}function Mke(e,t){if(lp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rke(e,t){if(e==null)return{};var r=Fke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Fke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $ke(e){return e.value}function Bke(e,t){if(Ne.isValidElement(e))return Ne.cloneElement(e,t);if(typeof e=="function")return Ne.createElement(e,t);t.ref;var r=Rke(t,Cke);return Ne.createElement(_C,r)}var mj=1,_c=function(e){function t(){var r;Nke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Ike(this,t,[].concat(a)),M5(r,"lastBoundingBox",{width:-1,height:-1}),r}return jke(t,e),Oke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>mj||Math.abs(a.height-this.lastBoundingBox.height)>mj)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?sc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();h={top:((u||0)-m.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return sc(sc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=sc(sc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Bke(i,sc(sc({},this.props),{},{payload:aH(u,c,$ke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=sc(sc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&_t(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(Z.PureComponent);M5(_c,"displayName","Legend");M5(_c,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var gj=Gv,Vke=AC,Uke=ds,vj=gj?gj.isConcatSpreadable:void 0;function zke(e){return Uke(e)||Vke(e)||!!(vj&&e&&e[vj])}var qke=zke,Wke=HW,Hke=qke;function oH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=Hke),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?oH(o,t-1,r,n,a):Wke(a,o):n||(a[a.length]=o)}return a}var lH=oH;function Gke(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var Kke=Gke,Yke=Kke,Xke=Yke(),Qke=Xke,Jke=Qke,Zke=j5;function ePe(e,t){return e&&Jke(e,t,Zke)}var cH=ePe,tPe=Xv;function rPe(e,t){return function(r,n){if(r==null)return r;if(!tPe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var nPe=rPe,aPe=cH,iPe=nPe,sPe=iPe(aPe),PC=sPe,oPe=PC,lPe=Xv;function cPe(e,t){var r=-1,n=lPe(e)?Array(e.length):[];return oPe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var uH=cPe;function uPe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var fPe=uPe,yj=Hp;function hPe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=yj(e),s=t!==void 0,o=t===null,l=t===t,c=yj(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var dPe=hPe,pPe=dPe;function mPe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=pPe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var gPe=mPe,eA=hC,vPe=dC,yPe=jf,xPe=uH,bPe=fPe,wPe=YW,_Pe=gPe,SPe=Zp,APe=ds;function TPe(e,t,r){t.length?t=eA(t,function(i){return APe(i)?function(s){return vPe(s,i.length===1?i[0]:i)}:i}):t=[SPe];var n=-1;t=eA(t,wPe(yPe));var a=xPe(e,function(i,s,o){var l=eA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return bPe(a,function(i,s){return _Pe(i,s,r)})}var EPe=TPe;function kPe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var PPe=kPe,CPe=PPe,xj=Math.max;function NPe(e,t,r){return t=xj(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=xj(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),CPe(e,this,o)}}var OPe=NPe;function IPe(e){return function(){return e}}var DPe=IPe,LPe=fd,jPe=function(){try{var e=LPe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),fH=jPe,MPe=DPe,bj=fH,RPe=Zp,FPe=bj?function(e,t){return bj(e,"toString",{configurable:!0,enumerable:!1,value:MPe(t),writable:!0})}:RPe,$Pe=FPe,BPe=800,VPe=16,UPe=Date.now;function zPe(e){var t=0,r=0;return function(){var n=UPe(),a=VPe-(n-r);if(r=n,a>0){if(++t>=BPe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var qPe=zPe,WPe=$Pe,HPe=qPe,GPe=HPe(WPe),KPe=GPe,YPe=Zp,XPe=OPe,QPe=KPe;function JPe(e,t){return QPe(XPe(e,t,YPe),e+"")}var ZPe=JPe,eCe=lC,tCe=Xv,rCe=TC,nCe=Lf;function aCe(e,t,r){if(!nCe(r))return!1;var n=typeof t;return(n=="number"?tCe(r)&&rCe(t,r.length):n=="string"&&t in r)?eCe(r[t],e):!1}var R5=aCe,iCe=lH,sCe=EPe,oCe=ZPe,wj=R5,lCe=oCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&wj(e,t[0],t[1])?t=[]:r>2&&wj(t[0],t[1],t[2])&&(t=[t[0]]),sCe(e,iCe(t,1),[])}),cCe=lCe;const CC=rn(cCe);function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function iE(){return iE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iE.apply(this,arguments)}function uCe(e,t){return pCe(e)||dCe(e,t)||hCe(e,t)||fCe()}function fCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hCe(e,t){if(e){if(typeof e=="string")return _j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _j(e,t)}}function _j(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dCe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function pCe(e){if(Array.isArray(e))return e}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){mCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mCe(e,t,r){return t=gCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gCe(e){var t=vCe(e,"string");return B1(t)=="symbol"?t:t+""}function vCe(e,t){if(B1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(B1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yCe(e){return Array.isArray(e)&&wa(e[0])&&wa(e[1])?e.join(" ~ "):e}var xCe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,m=t.labelClassName,p=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,_=function(){if(u&&u.length){var P={padding:0,margin:0},j=(h?CC(u,h):u).map(function(G,U){if(G.type==="none")return null;var Q=tA({display:"block",paddingTop:4,paddingBottom:4,color:G.color||"#000"},o),J=G.formatter||f||yCe,z=G.value,B=G.name,ee=z,ne=B;if(J&&ee!=null&&ne!=null){var I=J(z,B,G,U,u);if(Array.isArray(I)){var F=uCe(I,2);ee=F[0],ne=F[1]}else ee=I}return Ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(U),style:Q},wa(ne)?Ne.createElement("span",{className:"recharts-tooltip-item-name"},ne):null,wa(ne)?Ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Ne.createElement("span",{className:"recharts-tooltip-item-value"},ee),Ne.createElement("span",{className:"recharts-tooltip-item-unit"},G.unit||""))});return Ne.createElement("ul",{className:"recharts-tooltip-item-list",style:P},j)}return null},O=tA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),C=tA({margin:0},c),N=!mr(p),T=N?p:"",S=Nr("recharts-default-tooltip",d),A=Nr("recharts-tooltip-label",m);N&&v&&u!==void 0&&u!==null&&(T=v(p,u));var D=b?{role:"status","aria-live":"assertive"}:{};return Ne.createElement("div",iE({className:S,style:O},D),Ne.createElement("p",{className:A,style:C},Ne.isValidElement(T)?T:"".concat(T)),_())};function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function yx(e,t,r){return t=bCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bCe(e){var t=wCe(e,"string");return V1(t)=="symbol"?t:t+""}function wCe(e,t){if(V1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(V1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mm="recharts-tooltip-wrapper",_Ce={visibility:"hidden"};function SCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Nr(Mm,yx(yx(yx(yx({},"".concat(Mm,"-right"),_t(r)&&t&&_t(t.x)&&r>=t.x),"".concat(Mm,"-left"),_t(r)&&t&&_t(t.x)&&r<t.x),"".concat(Mm,"-bottom"),_t(n)&&t&&_t(t.y)&&n>=t.y),"".concat(Mm,"-top"),_t(n)&&t&&_t(t.y)&&n<t.y))}function Aj(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&_t(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var m=f+o,p=l[n]+c;return m>p?Math.max(u,l[n]):Math.max(f,l[n])}function ACe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function TCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=Aj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=Aj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=ACe({translateX:u,translateY:f,useTranslate3d:o})):c=_Ce,{cssProperties:c,cssClasses:SCe({translateX:u,translateY:f,coordinate:r})}}function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ej(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){oE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ECe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dH(n.key),n)}}function PCe(e,t,r){return t&&kCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CCe(e,t,r){return t=Db(t),NCe(e,hH()?Reflect.construct(t,r||[],Db(e).constructor):t.apply(e,r))}function NCe(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OCe(e)}function OCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function Db(e){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Db(e)}function ICe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sE(e,t)}function sE(e,t){return sE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},sE(e,t)}function oE(e,t,r){return t=dH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dH(e){var t=DCe(e,"string");return cp(t)=="symbol"?t:t+""}function DCe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kj=1,LCe=function(e){function t(){var r;ECe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=CCe(this,t,[].concat(a)),oE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return ICe(t,e),PCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kj||Math.abs(n.height-this.state.lastBoundingBox.height)>kj)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,m=a.position,p=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,_=TCe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:m,reverseDirection:p,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=_.cssClasses,C=_.cssProperties,N=Ej(Ej({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Ne.createElement("div",{tabIndex:-1,className:O,style:N,ref:function(S){n.wrapperNode=S}},c)}}])}(Z.PureComponent),jCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sc={isSsr:jCe(),get:function(t){return Sc[t]},set:function(t,r){if(typeof t=="string")Sc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Sc[a]=t[a]})}}};function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}function Pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pj(Object(r),!0).forEach(function(n){NC(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mH(n.key),n)}}function FCe(e,t,r){return t&&RCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Ce(e,t,r){return t=Lb(t),BCe(e,pH()?Reflect.construct(t,r||[],Lb(e).constructor):t.apply(e,r))}function BCe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VCe(e)}function VCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function Lb(e){return Lb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lb(e)}function UCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lE(e,t)}function lE(e,t){return lE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},lE(e,t)}function NC(e,t,r){return t=mH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=zCe(e,"string");return up(t)=="symbol"?t:t+""}function zCe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qCe(e){return e.dataKey}function WCe(e,t){return Ne.isValidElement(e)?Ne.cloneElement(e,t):typeof e=="function"?Ne.createElement(e,t):Ne.createElement(xCe,t)}var no=function(e){function t(){return MCe(this,t),$Ce(this,t,arguments)}return UCe(t,e),FCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,m=a.payload,p=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,_=a.viewBox,O=a.wrapperStyle,C=m??[];f&&C.length&&(C=aH(m.filter(function(T){return T.value!=null&&(T.hide!==!0||n.props.includeHidden)}),p,qCe));var N=C.length>0;return Ne.createElement(LCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:N,offset:d,position:v,reverseDirection:y,useTranslate3d:b,viewBox:_,wrapperStyle:O},WCe(c,Cj(Cj({},this.props),{},{payload:C})))}}])}(Z.PureComponent);NC(no,"displayName","Tooltip");NC(no,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var HCe=ql,GCe=function(){return HCe.Date.now()},KCe=GCe,YCe=/\s/;function XCe(e){for(var t=e.length;t--&&YCe.test(e.charAt(t)););return t}var QCe=XCe,JCe=QCe,ZCe=/^\s+/;function eNe(e){return e&&e.slice(0,JCe(e)+1).replace(ZCe,"")}var tNe=eNe,rNe=tNe,Nj=Lf,nNe=Hp,Oj=NaN,aNe=/^[-+]0x[0-9a-f]+$/i,iNe=/^0b[01]+$/i,sNe=/^0o[0-7]+$/i,oNe=parseInt;function lNe(e){if(typeof e=="number")return e;if(nNe(e))return Oj;if(Nj(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Nj(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=rNe(e);var r=iNe.test(e);return r||sNe.test(e)?oNe(e.slice(2),r?2:8):aNe.test(e)?Oj:+e}var gH=lNe,cNe=Lf,rA=KCe,Ij=gH,uNe="Expected a function",fNe=Math.max,hNe=Math.min;function dNe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(uNe);t=Ij(t)||0,cNe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?fNe(Ij(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(N){var T=n,S=a;return n=a=void 0,c=N,s=e.apply(S,T),s}function m(N){return c=N,o=setTimeout(y,t),u?d(N):s}function p(N){var T=N-l,S=N-c,A=t-T;return f?hNe(A,i-S):A}function v(N){var T=N-l,S=N-c;return l===void 0||T>=t||T<0||f&&S>=i}function y(){var N=rA();if(v(N))return b(N);o=setTimeout(y,p(N))}function b(N){return o=void 0,h&&n?d(N):(n=a=void 0,s)}function _(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:b(rA())}function C(){var N=rA(),T=v(N);if(n=arguments,a=this,l=N,T){if(o===void 0)return m(l);if(f)return clearTimeout(o),o=setTimeout(y,t),d(l)}return o===void 0&&(o=setTimeout(y,t)),s}return C.cancel=_,C.flush=O,C}var pNe=dNe,mNe=pNe,gNe=Lf,vNe="Expected a function";function yNe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(vNe);return gNe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),mNe(e,t,{leading:n,maxWait:t,trailing:a})}var xNe=yNe;const vH=rn(xNe);function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){bNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bNe(e,t,r){return t=wNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wNe(e){var t=_Ne(e,"string");return U1(t)=="symbol"?t:t+""}function _Ne(e,t){if(U1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SNe(e,t){return kNe(e)||ENe(e,t)||TNe(e,t)||ANe()}function ANe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TNe(e,t){if(e){if(typeof e=="string")return Lj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lj(e,t)}}function Lj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ENe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function kNe(e){if(Array.isArray(e))return e}var nA=Z.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,m=e.debounce,p=m===void 0?0:m,v=e.id,y=e.className,b=e.onResize,_=e.style,O=_===void 0?{}:_,C=Z.useRef(null),N=Z.useRef();N.current=b,Z.useImperativeHandle(t,function(){return Object.defineProperty(C.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),C.current},configurable:!0})});var T=Z.useState({containerWidth:a.width,containerHeight:a.height}),S=SNe(T,2),A=S[0],D=S[1],E=Z.useCallback(function(j,G){D(function(U){var Q=Math.round(j),J=Math.round(G);return U.containerWidth===Q&&U.containerHeight===J?U:{containerWidth:Q,containerHeight:J}})},[]);Z.useEffect(function(){var j=function(B){var ee,ne=B[0].contentRect,I=ne.width,F=ne.height;E(I,F),(ee=N.current)===null||ee===void 0||ee.call(N,I,F)};p>0&&(j=vH(j,p,{trailing:!0,leading:!1}));var G=new ResizeObserver(j),U=C.current.getBoundingClientRect(),Q=U.width,J=U.height;return E(Q,J),G.observe(C.current),function(){G.disconnect()}},[E,p]);var P=Z.useMemo(function(){var j=A.containerWidth,G=A.containerHeight;if(j<0||G<0)return null;wc(Sh(s)||Sh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),wc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var U=Sh(s)?j:s,Q=Sh(l)?G:l;r&&r>0&&(U?Q=U/r:Q&&(U=Q*r),h&&Q>h&&(Q=h)),wc(U>0||Q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,U,Q,s,l,u,f,r);var J=!Array.isArray(d)&&bc(d.type).endsWith("Chart");return Ne.Children.map(d,function(z){return Ne.isValidElement(z)?Z.cloneElement(z,xx({width:U,height:Q},J?{style:xx({height:"100%",width:"100%",maxHeight:Q,maxWidth:U},z.props.style)}:{})):z})},[r,d,l,h,f,u,A,s]);return Ne.createElement("div",{id:v?"".concat(v):void 0,className:Nr("recharts-responsive-container",y),style:xx(xx({},O),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:C},P)}),yH=function(t){return null};yH.displayName="Cell";function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jj(Object(r),!0).forEach(function(n){PNe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PNe(e,t,r){return t=CNe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CNe(e){var t=NNe(e,"string");return z1(t)=="symbol"?t:t+""}function NNe(e,t){if(z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vd={widthCache:{},cacheCount:0},ONe=2e3,INe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Mj="recharts_measurement_span";function DNe(e){var t=cE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Rg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sc.isSsr)return{width:0,height:0};var n=DNe(r),a=JSON.stringify({text:t,copyStyle:n});if(Vd.widthCache[a])return Vd.widthCache[a];try{var i=document.getElementById(Mj);i||(i=document.createElement("span"),i.setAttribute("id",Mj),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=cE(cE({},INe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Vd.widthCache[a]=l,++Vd.cacheCount>ONe&&(Vd.cacheCount=0,Vd.widthCache={}),l}catch{return{width:0,height:0}}},LNe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function q1(e){"@babel/helpers - typeof";return q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q1(e)}function jb(e,t){return FNe(e)||RNe(e,t)||MNe(e,t)||jNe()}function jNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MNe(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RNe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function FNe(e){if(Array.isArray(e))return e}function $Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fj(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VNe(n.key),n)}}function BNe(e,t,r){return t&&Fj(e.prototype,t),r&&Fj(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function VNe(e){var t=UNe(e,"string");return q1(t)=="symbol"?t:t+""}function UNe(e,t){if(q1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(q1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $j=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Bj=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zNe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qNe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,xH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},WNe=Object.keys(xH),g0="NaN";function HNe(e,t){return e*xH[t]}var bx=function(){function e(t,r){$Ne(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!zNe.test(r)&&(this.num=NaN,this.unit=""),WNe.includes(r)&&(this.num=HNe(t,r),this.unit="px")}return BNe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=qNe.exec(r))!==null&&n!==void 0?n:[],i=jb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function bH(e){if(e.includes(g0))return g0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=$j.exec(t))!==null&&r!==void 0?r:[],a=jb(n,4),i=a[1],s=a[2],o=a[3],l=bx.parse(i??""),c=bx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return g0;t=t.replace($j,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=Bj.exec(t))!==null&&f!==void 0?f:[],d=jb(h,4),m=d[1],p=d[2],v=d[3],y=bx.parse(m??""),b=bx.parse(v??""),_=p==="+"?y.add(b):y.subtract(b);if(_.isNaN())return g0;t=t.replace(Bj,_.toString())}return t}var Vj=/\(([^()]*)\)/;function GNe(e){for(var t=e;t.includes("(");){var r=Vj.exec(t),n=jb(r,2),a=n[1];t=t.replace(Vj,bH(a))}return t}function KNe(e){var t=e.replace(/\s+/g,"");return t=GNe(t),t=bH(t),t}function YNe(e){try{return KNe(e)}catch{return g0}}function aA(e){var t=YNe(e.slice(5,-1));return t===g0?"":t}var XNe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],QNe=["dx","dy","angle","className","breakAll"];function uE(){return uE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uE.apply(this,arguments)}function Uj(e,t){if(e==null)return{};var r=JNe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function JNe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function zj(e,t){return r6e(e)||t6e(e,t)||e6e(e,t)||ZNe()}function ZNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e6e(e,t){if(e){if(typeof e=="string")return qj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qj(e,t)}}function qj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function t6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function r6e(e){if(Array.isArray(e))return e}var wH=/[ \f\n\r\t\v\u2028\u2029]+/,_H=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];mr(r)||(n?i=r.toString().split(""):i=r.toString().split(wH));var s=i.map(function(l){return{word:l,width:Rg(l,a).width}}),o=n?0:Rg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},n6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=_t(s),f=o,h=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce(function(Q,J){var z=J.word,B=J.width,ee=Q[Q.length-1];if(ee&&(a==null||i||ee.width+B+n<Number(a)))ee.words.push(z),ee.width+=B+n;else{var ne={words:[z],width:B};Q.push(ne)}return Q},[])},d=h(r),m=function(U){return U.reduce(function(Q,J){return Q.width>J.width?Q:J})};if(!u)return d;for(var p="…",v=function(U){var Q=f.slice(0,U),J=_H({breakAll:c,style:l,children:Q+p}).wordsWithComputedWidth,z=h(J),B=z.length>s||m(z).width>Number(a);return[B,z]},y=0,b=f.length-1,_=0,O;y<=b&&_<=f.length-1;){var C=Math.floor((y+b)/2),N=C-1,T=v(N),S=zj(T,2),A=S[0],D=S[1],E=v(C),P=zj(E,1),j=P[0];if(!A&&!j&&(y=C+1),A&&j&&(b=C-1),!A&&j){O=D;break}_++}return O||d},Wj=function(t){var r=mr(t)?[]:t.toString().split(wH);return[{words:r}]},a6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Sc.isSsr){var l,c,u=_H({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return Wj(a);return n6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return Wj(a)},Hj="#808080",Mb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,m=t.verticalAnchor,p=m===void 0?"end":m,v=t.fill,y=v===void 0?Hj:v,b=Uj(t,XNe),_=Z.useMemo(function(){return a6e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),O=b.dx,C=b.dy,N=b.angle,T=b.className,S=b.breakAll,A=Uj(b,QNe);if(!wa(n)||!wa(i))return null;var D=n+(_t(O)?O:0),E=i+(_t(C)?C:0),P;switch(p){case"start":P=aA("calc(".concat(c,")"));break;case"middle":P=aA("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:P=aA("calc(".concat(_.length-1," * -").concat(o,")"));break}var j=[];if(f){var G=_[0].width,U=b.width;j.push("scale(".concat((_t(U)?U/G:1)/G,")"))}return N&&j.push("rotate(".concat(N,", ").concat(D,", ").concat(E,")")),j.length&&(A.transform=j.join(" ")),Ne.createElement("text",uE({},yr(A,!0),{x:D,y:E,className:Nr("recharts-text",T),textAnchor:d,fill:y.includes("url")?Hj:y}),_.map(function(Q,J){var z=Q.words.join(S?"":" ");return Ne.createElement("tspan",{x:D,dy:J===0?P:o,key:"".concat(z,"-").concat(J)},z)}))};function uf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function OC(e){let t,r,n;e.length!==2?(t=uf,r=(o,l)=>uf(e(o),l),n=(o,l)=>e(o)-l):(t=e===uf||e===i6e?e:s6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function s6e(){return 0}function SH(e){return e===null?NaN:+e}function*o6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const l6e=OC(uf),Qv=l6e.right;OC(SH).center;class Gj extends Map{constructor(t,r=f6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(Kj(this,t))}has(t){return super.has(Kj(this,t))}set(t,r){return super.set(c6e(this,t),r)}delete(t){return super.delete(u6e(this,t))}}function Kj({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function c6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function u6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function f6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function h6e(e=uf){if(e===uf)return AH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function AH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const d6e=Math.sqrt(50),p6e=Math.sqrt(10),m6e=Math.sqrt(2);function Rb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=d6e?10:i>=p6e?5:i>=m6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Rb(e,t,r*2):[o,l,c]}function fE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Rb(t,e,r):Rb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function hE(e,t,r){return t=+t,e=+e,r=+r,Rb(e,t,r)[2]}function dE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?hE(t,e,r):hE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function Yj(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Xj(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function TH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?AH:h6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),m=Math.min(n,Math.floor(t+(l-c)*f/l+h));TH(e,t,d,m,a)}const i=e[t];let s=r,o=n;for(Rm(e,r,t),a(e[n],i)>0&&Rm(e,r,n);s<o;){for(Rm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?Rm(e,r,o):(++o,Rm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Rm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g6e(e,t,r){if(e=Float64Array.from(o6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Xj(e);if(t>=1)return Yj(e);var n,a=(n-1)*t,i=Math.floor(a),s=Yj(TH(e,i).subarray(0,i+1)),o=Xj(e.subarray(i+1));return s+(o-s)*(a-i)}}function v6e(e,t,r=SH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function y6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function xo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const pE=Symbol("implicit");function IC(){var e=new Gj,t=[],r=[],n=pE;function a(i){let s=e.get(i);if(s===void 0){if(n!==pE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new Gj;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return IC(t,r).unknown(n)},xo.apply(a,arguments),a}function W1(){var e=IC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,m=d?a:n,p=d?n:a;i=(p-m)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),m+=(p-m-i*(h-l))*u,s=i*(1-l),o&&(m=Math.round(m),s=Math.round(s));var v=y6e(h).map(function(y){return m+i*y});return r(d?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return W1(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},xo.apply(f(),arguments)}function EH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return EH(t())},e}function Fg(){return EH(W1.apply(null,arguments).paddingInner(1))}function DC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function kH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Jv(){}var H1=.7,Fb=1/H1,M0="\\s*([+-]?\\d+)\\s*",G1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ll="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x6e=/^#([0-9a-f]{3,8})$/,b6e=new RegExp(`^rgb\\(${M0},${M0},${M0}\\)$`),w6e=new RegExp(`^rgb\\(${Ll},${Ll},${Ll}\\)$`),_6e=new RegExp(`^rgba\\(${M0},${M0},${M0},${G1}\\)$`),S6e=new RegExp(`^rgba\\(${Ll},${Ll},${Ll},${G1}\\)$`),A6e=new RegExp(`^hsl\\(${G1},${Ll},${Ll}\\)$`),T6e=new RegExp(`^hsla\\(${G1},${Ll},${Ll},${G1}\\)$`),Qj={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};DC(Jv,K1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Jj,formatHex:Jj,formatHex8:E6e,formatHsl:k6e,formatRgb:Zj,toString:Zj});function Jj(){return this.rgb().formatHex()}function E6e(){return this.rgb().formatHex8()}function k6e(){return PH(this).formatHsl()}function Zj(){return this.rgb().formatRgb()}function K1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?eM(t):r===3?new ls(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?wx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?wx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b6e.exec(e))?new ls(t[1],t[2],t[3],1):(t=w6e.exec(e))?new ls(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_6e.exec(e))?wx(t[1],t[2],t[3],t[4]):(t=S6e.exec(e))?wx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=A6e.exec(e))?nM(t[1],t[2]/100,t[3]/100,1):(t=T6e.exec(e))?nM(t[1],t[2]/100,t[3]/100,t[4]):Qj.hasOwnProperty(e)?eM(Qj[e]):e==="transparent"?new ls(NaN,NaN,NaN,0):null}function eM(e){return new ls(e>>16&255,e>>8&255,e&255,1)}function wx(e,t,r,n){return n<=0&&(e=t=r=NaN),new ls(e,t,r,n)}function P6e(e){return e instanceof Jv||(e=K1(e)),e?(e=e.rgb(),new ls(e.r,e.g,e.b,e.opacity)):new ls}function mE(e,t,r,n){return arguments.length===1?P6e(e):new ls(e,t,r,n??1)}function ls(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}DC(ls,mE,kH(Jv,{brighter(e){return e=e==null?Fb:Math.pow(Fb,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?H1:Math.pow(H1,e),new ls(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ls(Lh(this.r),Lh(this.g),Lh(this.b),$b(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tM,formatHex:tM,formatHex8:C6e,formatRgb:rM,toString:rM}));function tM(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}`}function C6e(){return`#${Ah(this.r)}${Ah(this.g)}${Ah(this.b)}${Ah((isNaN(this.opacity)?1:this.opacity)*255)}`}function rM(){const e=$b(this.opacity);return`${e===1?"rgb(":"rgba("}${Lh(this.r)}, ${Lh(this.g)}, ${Lh(this.b)}${e===1?")":`, ${e})`}`}function $b(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Lh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ah(e){return e=Lh(e),(e<16?"0":"")+e.toString(16)}function nM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Ho(e,t,r,n)}function PH(e){if(e instanceof Ho)return new Ho(e.h,e.s,e.l,e.opacity);if(e instanceof Jv||(e=K1(e)),!e)return new Ho;if(e instanceof Ho)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Ho(s,o,l,e.opacity)}function N6e(e,t,r,n){return arguments.length===1?PH(e):new Ho(e,t,r,n??1)}function Ho(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}DC(Ho,N6e,kH(Jv,{brighter(e){return e=e==null?Fb:Math.pow(Fb,e),new Ho(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?H1:Math.pow(H1,e),new Ho(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ls(iA(e>=240?e-240:e+120,a,n),iA(e,a,n),iA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Ho(aM(this.h),_x(this.s),_x(this.l),$b(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=$b(this.opacity);return`${e===1?"hsl(":"hsla("}${aM(this.h)}, ${_x(this.s)*100}%, ${_x(this.l)*100}%${e===1?")":`, ${e})`}`}}));function aM(e){return e=(e||0)%360,e<0?e+360:e}function _x(e){return Math.max(0,Math.min(1,e||0))}function iA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const LC=e=>()=>e;function O6e(e,t){return function(r){return e+r*t}}function I6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D6e(e){return(e=+e)==1?CH:function(t,r){return r-t?I6e(t,r,e):LC(isNaN(t)?r:t)}}function CH(e,t){var r=t-e;return r?O6e(e,r):LC(isNaN(e)?t:e)}const iM=function e(t){var r=D6e(t);function n(a,i){var s=r((a=mE(a)).r,(i=mE(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=CH(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function L6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function j6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function M6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=em(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function R6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function F6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=em(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var gE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sA=new RegExp(gE.source,"g");function $6e(e){return function(){return e}}function B6e(e){return function(t){return e(t)+""}}function V6e(e,t){var r=gE.lastIndex=sA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=gE.exec(e))&&(a=sA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Bb(n,a)})),r=sA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?B6e(l[0].x):$6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function em(e,t){var r=typeof t,n;return t==null||r==="boolean"?LC(t):(r==="number"?Bb:r==="string"?(n=K1(t))?(t=n,iM):V6e:t instanceof K1?iM:t instanceof Date?R6e:j6e(t)?L6e:Array.isArray(t)?M6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?F6e:Bb)(e,t)}function jC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function U6e(e,t){t===void 0&&(t=e,e=em);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function z6e(e){return function(){return e}}function Vb(e){return+e}var sM=[0,1];function Vi(e){return e}function vE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:z6e(isNaN(t)?NaN:.5)}function q6e(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function W6e(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=vE(a,n),i=r(s,i)):(n=vE(n,a),i=r(i,s)),function(o){return i(n(o))}}function H6e(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=vE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=Qv(e,o,1,n)-1;return i[l](a[l](o))}}function Zv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function F5(){var e=sM,t=sM,r=em,n,a,i,s=Vi,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==Vi&&(s=q6e(e[0],e[h-1])),o=h>2?H6e:W6e,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Bb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Vb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=jC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:Vi,u()):s!==Vi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function MC(){return F5()(Vi,Vi)}function G6e(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ub(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function fp(e){return e=Ub(Math.abs(e)),e?e[1]:NaN}function K6e(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function Y6e(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var X6e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Y1(e){if(!(t=X6e.exec(e)))throw new Error("invalid format: "+e);var t;return new RC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Y1.prototype=RC.prototype;function RC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}RC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q6e(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var NH;function J6e(e,t){var r=Ub(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(NH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ub(e,Math.max(0,t+i-1))[0]}function oM(e,t){var r=Ub(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const lM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G6e,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oM(e*100,t),r:oM,s:J6e,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cM(e){return e}var uM=Array.prototype.map,fM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Z6e(e){var t=e.grouping===void 0||e.thousands===void 0?cM:K6e(uM.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?cM:Y6e(uM.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Y1(f);var h=f.fill,d=f.align,m=f.sign,p=f.symbol,v=f.zero,y=f.width,b=f.comma,_=f.precision,O=f.trim,C=f.type;C==="n"?(b=!0,C="g"):lM[C]||(_===void 0&&(_=12),O=!0,C="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var N=p==="$"?r:p==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=p==="$"?n:/[%p]/.test(C)?s:"",S=lM[C],A=/[defgprs%]/.test(C);_=_===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function D(E){var P=N,j=T,G,U,Q;if(C==="c")j=S(E)+j,E="";else{E=+E;var J=E<0||1/E<0;if(E=isNaN(E)?l:S(Math.abs(E),_),O&&(E=Q6e(E)),J&&+E==0&&m!=="+"&&(J=!1),P=(J?m==="("?m:o:m==="-"||m==="("?"":m)+P,j=(C==="s"?fM[8+NH/3]:"")+j+(J&&m==="("?")":""),A){for(G=-1,U=E.length;++G<U;)if(Q=E.charCodeAt(G),48>Q||Q>57){j=(Q===46?a+E.slice(G+1):E.slice(G))+j,E=E.slice(0,G);break}}}b&&!v&&(E=t(E,1/0));var z=P.length+E.length+j.length,B=z<y?new Array(y-z+1).join(h):"";switch(b&&v&&(E=t(B+E,B.length?y-j.length:1/0),B=""),d){case"<":E=P+E+j+B;break;case"=":E=P+B+E+j;break;case"^":E=B.slice(0,z=B.length>>1)+P+E+j+B.slice(z);break;default:E=B+P+E+j;break}return i(E)}return D.toString=function(){return f+""},D}function u(f,h){var d=c((f=Y1(f),f.type="f",f)),m=Math.max(-8,Math.min(8,Math.floor(fp(h)/3)))*3,p=Math.pow(10,-m),v=fM[8+m/3];return function(y){return d(p*y)+v}}return{format:c,formatPrefix:u}}var Sx,FC,OH;eOe({thousands:",",grouping:[3],currency:["$",""]});function eOe(e){return Sx=Z6e(e),FC=Sx.format,OH=Sx.formatPrefix,Sx}function tOe(e){return Math.max(0,-fp(Math.abs(e)))}function rOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fp(t)/3)))*3-fp(Math.abs(e)))}function nOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fp(t)-fp(e))+1}function IH(e,t,r,n){var a=dE(e,t,r),i;switch(n=Y1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=rOe(a,s))&&(n.precision=i),OH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=nOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=tOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return FC(n)}function Mf(e){var t=e.domain;return e.ticks=function(r){var n=t();return fE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return IH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=hE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function zb(){var e=MC();return e.copy=function(){return Zv(e,zb())},xo.apply(e,arguments),Mf(e)}function DH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return DH(e).unknown(t)},e=arguments.length?Array.from(e,Vb):[0,1],Mf(r)}function LH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function hM(e){return Math.log(e)}function dM(e){return Math.exp(e)}function aOe(e){return-Math.log(-e)}function iOe(e){return-Math.exp(-e)}function sOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oOe(e){return e===10?sOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pM(e){return(t,r)=>-e(-t,r)}function $C(e){const t=e(hM,dM),r=t.domain;let n=10,a,i;function s(){return a=lOe(n),i=oOe(n),r()[0]<0?(a=pM(a),i=pM(i),e(aOe,iOe)):e(hM,dM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),m,p;const v=o==null?10:+o;let y=[];if(!(n%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(m=1;m<n;++m)if(p=h<0?m/i(-h):m*i(h),!(p<c)){if(p>u)break;y.push(p)}}else for(;h<=d;++h)for(m=n-1;m>=1;--m)if(p=h>0?m/i(-h):m*i(h),!(p<c)){if(p>u)break;y.push(p)}y.length*2<v&&(y=fE(c,u,v))}else y=fE(h,d,Math.min(d-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Y1(l)).precision==null&&(l.trim=!0),l=FC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(LH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function jH(){const e=$C(F5()).domain([1,10]);return e.copy=()=>Zv(e,jH()).base(e.base()),xo.apply(e,arguments),e}function mM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function BC(e){var t=1,r=e(mM(t),gM(t));return r.constant=function(n){return arguments.length?e(mM(t=+n),gM(t)):t},Mf(r)}function MH(){var e=BC(F5());return e.copy=function(){return Zv(e,MH()).constant(e.constant())},xo.apply(e,arguments)}function vM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cOe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uOe(e){return e<0?-e*e:e*e}function VC(e){var t=e(Vi,Vi),r=1;function n(){return r===1?e(Vi,Vi):r===.5?e(cOe,uOe):e(vM(r),vM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Mf(t)}function UC(){var e=VC(F5());return e.copy=function(){return Zv(e,UC()).exponent(e.exponent())},xo.apply(e,arguments),e}function fOe(){return UC.apply(null,arguments).exponent(.5)}function yM(e){return Math.sign(e)*e*e}function hOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function RH(){var e=MC(),t=[0,1],r=!1,n;function a(i){var s=hOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(yM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Vb)).map(yM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return RH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xo.apply(a,arguments),Mf(a)}function FH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=v6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[Qv(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(uf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return FH().domain(e).range(t).unknown(n)},xo.apply(i,arguments)}function $H(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[Qv(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return $H().domain([e,t]).range(a).unknown(i)},xo.apply(Mf(s),arguments)}function BH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Qv(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return BH().domain(e).range(t).unknown(r)},xo.apply(a,arguments)}const oA=new Date,lA=new Date;function Aa(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Aa(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(oA.setTime(+i),lA.setTime(+s),e(oA),e(lA),Math.floor(r(oA,lA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const qb=Aa(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Aa(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):qb);qb.range;const pc=1e3,oo=pc*60,mc=oo*60,Fc=mc*24,zC=Fc*7,xM=Fc*30,cA=Fc*365,Th=Aa(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*pc)},(e,t)=>(t-e)/pc,e=>e.getUTCSeconds());Th.range;const qC=Aa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pc)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getMinutes());qC.range;const WC=Aa(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*oo)},(e,t)=>(t-e)/oo,e=>e.getUTCMinutes());WC.range;const HC=Aa(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*pc-e.getMinutes()*oo)},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getHours());HC.range;const GC=Aa(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*mc)},(e,t)=>(t-e)/mc,e=>e.getUTCHours());GC.range;const ey=Aa(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*oo)/Fc,e=>e.getDate()-1);ey.range;const $5=Aa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fc,e=>e.getUTCDate()-1);$5.range;const VH=Aa(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fc,e=>Math.floor(e/Fc));VH.range;function hd(e){return Aa(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*oo)/zC)}const B5=hd(0),Wb=hd(1),dOe=hd(2),pOe=hd(3),hp=hd(4),mOe=hd(5),gOe=hd(6);B5.range;Wb.range;dOe.range;pOe.range;hp.range;mOe.range;gOe.range;function dd(e){return Aa(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/zC)}const V5=dd(0),Hb=dd(1),vOe=dd(2),yOe=dd(3),dp=dd(4),xOe=dd(5),bOe=dd(6);V5.range;Hb.range;vOe.range;yOe.range;dp.range;xOe.range;bOe.range;const KC=Aa(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());KC.range;const YC=Aa(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());YC.range;const $c=Aa(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());$c.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Aa(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});$c.range;const Bc=Aa(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Aa(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bc.range;function UH(e,t,r,n,a,i){const s=[[Th,1,pc],[Th,5,5*pc],[Th,15,15*pc],[Th,30,30*pc],[i,1,oo],[i,5,5*oo],[i,15,15*oo],[i,30,30*oo],[a,1,mc],[a,3,3*mc],[a,6,6*mc],[a,12,12*mc],[n,1,Fc],[n,2,2*Fc],[r,1,zC],[t,1,xM],[t,3,3*xM],[e,1,cA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),m=d?d.range(c,+u+1):[];return h?m.reverse():m}function l(c,u,f){const h=Math.abs(u-c)/f,d=OC(([,,v])=>v).right(s,h);if(d===s.length)return e.every(dE(c/cA,u/cA,f));if(d===0)return qb.every(Math.max(dE(c,u,f),1));const[m,p]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return m.every(p)}return[o,l]}const[wOe,_Oe]=UH(Bc,YC,V5,VH,GC,WC),[SOe,AOe]=UH($c,KC,B5,ey,HC,qC);function uA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function fA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Fm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function TOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=$m(a),u=Bm(a),f=$m(i),h=Bm(i),d=$m(s),m=Bm(s),p=$m(o),v=Bm(o),y=$m(l),b=Bm(l),_={a:J,A:z,b:B,B:ee,c:null,d:TM,e:TM,f:KOe,g:aIe,G:sIe,H:WOe,I:HOe,j:GOe,L:zH,m:YOe,M:XOe,p:ne,q:I,Q:PM,s:CM,S:QOe,u:JOe,U:ZOe,V:eIe,w:tIe,W:rIe,x:null,X:null,y:nIe,Y:iIe,Z:oIe,"%":kM},O={a:F,A:q,b:Y,B:K,c:null,d:EM,e:EM,f:fIe,g:wIe,G:SIe,H:lIe,I:cIe,j:uIe,L:WH,m:hIe,M:dIe,p:le,q:ce,Q:PM,s:CM,S:pIe,u:mIe,U:gIe,V:vIe,w:yIe,W:xIe,x:null,X:null,y:bIe,Y:_Ie,Z:AIe,"%":kM},C={a:D,A:E,b:P,B:j,c:G,d:SM,e:SM,f:VOe,g:_M,G:wM,H:AM,I:AM,j:ROe,L:BOe,m:MOe,M:FOe,p:A,q:jOe,Q:zOe,s:qOe,S:$Oe,u:NOe,U:OOe,V:IOe,w:COe,W:DOe,x:U,X:Q,y:_M,Y:wM,Z:LOe,"%":UOe};_.x=N(r,_),_.X=N(n,_),_.c=N(t,_),O.x=N(r,O),O.X=N(n,O),O.c=N(t,O);function N(X,he){return function(de){var H=[],Ae=-1,Ee=0,Se=X.length,ae,Ce,Me;for(de instanceof Date||(de=new Date(+de));++Ae<Se;)X.charCodeAt(Ae)===37&&(H.push(X.slice(Ee,Ae)),(Ce=bM[ae=X.charAt(++Ae)])!=null?ae=X.charAt(++Ae):Ce=ae==="e"?" ":"0",(Me=he[ae])&&(ae=Me(de,Ce)),H.push(ae),Ee=Ae+1);return H.push(X.slice(Ee,Ae)),H.join("")}}function T(X,he){return function(de){var H=Fm(1900,void 0,1),Ae=S(H,X,de+="",0),Ee,Se;if(Ae!=de.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(he&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(Ee=fA(Fm(H.y,0,1)),Se=Ee.getUTCDay(),Ee=Se>4||Se===0?Hb.ceil(Ee):Hb(Ee),Ee=$5.offset(Ee,(H.V-1)*7),H.y=Ee.getUTCFullYear(),H.m=Ee.getUTCMonth(),H.d=Ee.getUTCDate()+(H.w+6)%7):(Ee=uA(Fm(H.y,0,1)),Se=Ee.getDay(),Ee=Se>4||Se===0?Wb.ceil(Ee):Wb(Ee),Ee=ey.offset(Ee,(H.V-1)*7),H.y=Ee.getFullYear(),H.m=Ee.getMonth(),H.d=Ee.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),Se="Z"in H?fA(Fm(H.y,0,1)).getUTCDay():uA(Fm(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(Se+5)%7:H.w+H.U*7-(Se+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,fA(H)):uA(H)}}function S(X,he,de,H){for(var Ae=0,Ee=he.length,Se=de.length,ae,Ce;Ae<Ee;){if(H>=Se)return-1;if(ae=he.charCodeAt(Ae++),ae===37){if(ae=he.charAt(Ae++),Ce=C[ae in bM?he.charAt(Ae++):ae],!Ce||(H=Ce(X,de,H))<0)return-1}else if(ae!=de.charCodeAt(H++))return-1}return H}function A(X,he,de){var H=c.exec(he.slice(de));return H?(X.p=u.get(H[0].toLowerCase()),de+H[0].length):-1}function D(X,he,de){var H=d.exec(he.slice(de));return H?(X.w=m.get(H[0].toLowerCase()),de+H[0].length):-1}function E(X,he,de){var H=f.exec(he.slice(de));return H?(X.w=h.get(H[0].toLowerCase()),de+H[0].length):-1}function P(X,he,de){var H=y.exec(he.slice(de));return H?(X.m=b.get(H[0].toLowerCase()),de+H[0].length):-1}function j(X,he,de){var H=p.exec(he.slice(de));return H?(X.m=v.get(H[0].toLowerCase()),de+H[0].length):-1}function G(X,he,de){return S(X,t,he,de)}function U(X,he,de){return S(X,r,he,de)}function Q(X,he,de){return S(X,n,he,de)}function J(X){return s[X.getDay()]}function z(X){return i[X.getDay()]}function B(X){return l[X.getMonth()]}function ee(X){return o[X.getMonth()]}function ne(X){return a[+(X.getHours()>=12)]}function I(X){return 1+~~(X.getMonth()/3)}function F(X){return s[X.getUTCDay()]}function q(X){return i[X.getUTCDay()]}function Y(X){return l[X.getUTCMonth()]}function K(X){return o[X.getUTCMonth()]}function le(X){return a[+(X.getUTCHours()>=12)]}function ce(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var he=N(X+="",_);return he.toString=function(){return X},he},parse:function(X){var he=T(X+="",!1);return he.toString=function(){return X},he},utcFormat:function(X){var he=N(X+="",O);return he.toString=function(){return X},he},utcParse:function(X){var he=T(X+="",!0);return he.toString=function(){return X},he}}}var bM={"-":"",_:" ",0:"0"},Ma=/^\s*\d+/,EOe=/^%/,kOe=/[\\^$*+?|[\]().{}]/g;function Or(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function POe(e){return e.replace(kOe,"\\$&")}function $m(e){return new RegExp("^(?:"+e.map(POe).join("|")+")","i")}function Bm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function COe(e,t,r){var n=Ma.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function NOe(e,t,r){var n=Ma.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function OOe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function IOe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DOe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wM(e,t,r){var n=Ma.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function _M(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function LOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function jOe(e,t,r){var n=Ma.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function MOe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function SM(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function ROe(e,t,r){var n=Ma.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function AM(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function FOe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function $Oe(e,t,r){var n=Ma.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function BOe(e,t,r){var n=Ma.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function VOe(e,t,r){var n=Ma.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UOe(e,t,r){var n=EOe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function zOe(e,t,r){var n=Ma.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function qOe(e,t,r){var n=Ma.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function TM(e,t){return Or(e.getDate(),t,2)}function WOe(e,t){return Or(e.getHours(),t,2)}function HOe(e,t){return Or(e.getHours()%12||12,t,2)}function GOe(e,t){return Or(1+ey.count($c(e),e),t,3)}function zH(e,t){return Or(e.getMilliseconds(),t,3)}function KOe(e,t){return zH(e,t)+"000"}function YOe(e,t){return Or(e.getMonth()+1,t,2)}function XOe(e,t){return Or(e.getMinutes(),t,2)}function QOe(e,t){return Or(e.getSeconds(),t,2)}function JOe(e){var t=e.getDay();return t===0?7:t}function ZOe(e,t){return Or(B5.count($c(e)-1,e),t,2)}function qH(e){var t=e.getDay();return t>=4||t===0?hp(e):hp.ceil(e)}function eIe(e,t){return e=qH(e),Or(hp.count($c(e),e)+($c(e).getDay()===4),t,2)}function tIe(e){return e.getDay()}function rIe(e,t){return Or(Wb.count($c(e)-1,e),t,2)}function nIe(e,t){return Or(e.getFullYear()%100,t,2)}function aIe(e,t){return e=qH(e),Or(e.getFullYear()%100,t,2)}function iIe(e,t){return Or(e.getFullYear()%1e4,t,4)}function sIe(e,t){var r=e.getDay();return e=r>=4||r===0?hp(e):hp.ceil(e),Or(e.getFullYear()%1e4,t,4)}function oIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Or(t/60|0,"0",2)+Or(t%60,"0",2)}function EM(e,t){return Or(e.getUTCDate(),t,2)}function lIe(e,t){return Or(e.getUTCHours(),t,2)}function cIe(e,t){return Or(e.getUTCHours()%12||12,t,2)}function uIe(e,t){return Or(1+$5.count(Bc(e),e),t,3)}function WH(e,t){return Or(e.getUTCMilliseconds(),t,3)}function fIe(e,t){return WH(e,t)+"000"}function hIe(e,t){return Or(e.getUTCMonth()+1,t,2)}function dIe(e,t){return Or(e.getUTCMinutes(),t,2)}function pIe(e,t){return Or(e.getUTCSeconds(),t,2)}function mIe(e){var t=e.getUTCDay();return t===0?7:t}function gIe(e,t){return Or(V5.count(Bc(e)-1,e),t,2)}function HH(e){var t=e.getUTCDay();return t>=4||t===0?dp(e):dp.ceil(e)}function vIe(e,t){return e=HH(e),Or(dp.count(Bc(e),e)+(Bc(e).getUTCDay()===4),t,2)}function yIe(e){return e.getUTCDay()}function xIe(e,t){return Or(Hb.count(Bc(e)-1,e),t,2)}function bIe(e,t){return Or(e.getUTCFullYear()%100,t,2)}function wIe(e,t){return e=HH(e),Or(e.getUTCFullYear()%100,t,2)}function _Ie(e,t){return Or(e.getUTCFullYear()%1e4,t,4)}function SIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?dp(e):dp.ceil(e),Or(e.getUTCFullYear()%1e4,t,4)}function AIe(){return"+0000"}function kM(){return"%"}function PM(e){return+e}function CM(e){return Math.floor(+e/1e3)}var Ud,GH,KH;TIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function TIe(e){return Ud=TOe(e),GH=Ud.format,Ud.parse,KH=Ud.utcFormat,Ud.utcParse,Ud}function EIe(e){return new Date(e)}function kIe(e){return e instanceof Date?+e:+new Date(+e)}function XC(e,t,r,n,a,i,s,o,l,c){var u=MC(),f=u.invert,h=u.domain,d=c(".%L"),m=c(":%S"),p=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),_=c("%B"),O=c("%Y");function C(N){return(l(N)<N?d:o(N)<N?m:s(N)<N?p:i(N)<N?v:n(N)<N?a(N)<N?y:b:r(N)<N?_:O)(N)}return u.invert=function(N){return new Date(f(N))},u.domain=function(N){return arguments.length?h(Array.from(N,kIe)):h().map(EIe)},u.ticks=function(N){var T=h();return e(T[0],T[T.length-1],N??10)},u.tickFormat=function(N,T){return T==null?C:c(T)},u.nice=function(N){var T=h();return(!N||typeof N.range!="function")&&(N=t(T[0],T[T.length-1],N??10)),N?h(LH(T,N)):u},u.copy=function(){return Zv(u,XC(e,t,r,n,a,i,s,o,l,c))},u}function PIe(){return xo.apply(XC(SOe,AOe,$c,KC,B5,ey,HC,qC,Th,GH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function CIe(){return xo.apply(XC(wOe,_Oe,Bc,YC,V5,$5,GC,WC,Th,KH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U5(){var e=0,t=1,r,n,a,i,s=Vi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,m;return arguments.length?([d,m]=h,s=f(d,m),c):[s(0),s(1)]}}return c.range=u(em),c.rangeRound=u(jC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Rf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function YH(){var e=Mf(U5()(Vi));return e.copy=function(){return Rf(e,YH())},Yc.apply(e,arguments)}function XH(){var e=$C(U5()).domain([1,10]);return e.copy=function(){return Rf(e,XH()).base(e.base())},Yc.apply(e,arguments)}function QH(){var e=BC(U5());return e.copy=function(){return Rf(e,QH()).constant(e.constant())},Yc.apply(e,arguments)}function QC(){var e=VC(U5());return e.copy=function(){return Rf(e,QC()).exponent(e.exponent())},Yc.apply(e,arguments)}function NIe(){return QC.apply(null,arguments).exponent(.5)}function JH(){var e=[],t=Vi;function r(n){if(n!=null&&!isNaN(n=+n))return t((Qv(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(uf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>g6e(e,i/n))},r.copy=function(){return JH(t).domain(e)},Yc.apply(r,arguments)}function z5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=Vi,u,f=!1,h;function d(p){return isNaN(p=+p)?h:(p=.5+((p=+u(p))-i)*(n*p<n*i?o:l),c(f?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([e,t,r]=p,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(p){return arguments.length?(f=!!p,d):f},d.interpolator=function(p){return arguments.length?(c=p,d):c};function m(p){return function(v){var y,b,_;return arguments.length?([y,b,_]=v,c=U6e(p,[y,b,_]),d):[c(0),c(.5),c(1)]}}return d.range=m(em),d.rangeRound=m(jC),d.unknown=function(p){return arguments.length?(h=p,d):h},function(p){return u=p,a=p(e),i=p(t),s=p(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function ZH(){var e=Mf(z5()(Vi));return e.copy=function(){return Rf(e,ZH())},Yc.apply(e,arguments)}function eG(){var e=$C(z5()).domain([.1,1,10]);return e.copy=function(){return Rf(e,eG()).base(e.base())},Yc.apply(e,arguments)}function tG(){var e=BC(z5());return e.copy=function(){return Rf(e,tG()).constant(e.constant())},Yc.apply(e,arguments)}function JC(){var e=VC(z5());return e.copy=function(){return Rf(e,JC()).exponent(e.exponent())},Yc.apply(e,arguments)}function OIe(){return JC.apply(null,arguments).exponent(.5)}const NM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:W1,scaleDiverging:ZH,scaleDivergingLog:eG,scaleDivergingPow:JC,scaleDivergingSqrt:OIe,scaleDivergingSymlog:tG,scaleIdentity:DH,scaleImplicit:pE,scaleLinear:zb,scaleLog:jH,scaleOrdinal:IC,scalePoint:Fg,scalePow:UC,scaleQuantile:FH,scaleQuantize:$H,scaleRadial:RH,scaleSequential:YH,scaleSequentialLog:XH,scaleSequentialPow:QC,scaleSequentialQuantile:JH,scaleSequentialSqrt:NIe,scaleSequentialSymlog:QH,scaleSqrt:fOe,scaleSymlog:MH,scaleThreshold:BH,scaleTime:PIe,scaleUtc:CIe,tickFormat:IH},Symbol.toStringTag,{value:"Module"}));var IIe=Hp;function DIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!IIe(s):r(s,o)))var o=s,l=i}return l}var rG=DIe;function LIe(e,t){return e>t}var jIe=LIe,MIe=rG,RIe=jIe,FIe=Zp;function $Ie(e){return e&&e.length?MIe(e,FIe,RIe):void 0}var BIe=$Ie;const q5=rn(BIe);function VIe(e,t){return e<t}var UIe=VIe,zIe=rG,qIe=UIe,WIe=Zp;function HIe(e){return e&&e.length?zIe(e,WIe,qIe):void 0}var GIe=HIe;const W5=rn(GIe);var KIe=hC,YIe=jf,XIe=uH,QIe=ds;function JIe(e,t){var r=QIe(e)?KIe:XIe;return r(e,YIe(t))}var ZIe=JIe,e8e=lH,t8e=ZIe;function r8e(e,t){return e8e(t8e(e,t),1)}var n8e=r8e;const a8e=rn(n8e);var i8e=kC;function s8e(e,t){return i8e(e,t)}var o8e=s8e;const H5=rn(o8e);var tm=1e9,l8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},eN,Tn=!0,go="[DecimalError] ",jh=go+"Invalid argument: ",ZC=go+"Exponent out of range: ",rm=Math.floor,dh=Math.pow,c8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ps,Na=1e7,vn=7,nG=9007199254740991,Gb=rm(nG/vn),jt={};jt.absoluteValue=jt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};jt.comparedTo=jt.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};jt.decimalPlaces=jt.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*vn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};jt.dividedBy=jt.div=function(e){return Ac(this,new this.constructor(e))};jt.dividedToIntegerBy=jt.idiv=function(e){var t=this,r=t.constructor;return on(Ac(t,new r(e),0,1),r.precision)};jt.equals=jt.eq=function(e){return!this.cmp(e)};jt.exponent=function(){return ha(this)};jt.greaterThan=jt.gt=function(e){return this.cmp(e)>0};jt.greaterThanOrEqualTo=jt.gte=function(e){return this.cmp(e)>=0};jt.isInteger=jt.isint=function(){return this.e>this.d.length-2};jt.isNegative=jt.isneg=function(){return this.s<0};jt.isPositive=jt.ispos=function(){return this.s>0};jt.isZero=function(){return this.s===0};jt.lessThan=jt.lt=function(e){return this.cmp(e)<0};jt.lessThanOrEqualTo=jt.lte=function(e){return this.cmp(e)<1};jt.logarithm=jt.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ps))throw Error(go+"NaN");if(r.s<1)throw Error(go+(r.s?"NaN":"-Infinity"));return r.eq(Ps)?new n(0):(Tn=!1,t=Ac(X1(r,i),X1(e,i),i),Tn=!0,on(t,a))};jt.minus=jt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?sG(t,e):aG(t,(e.s=-e.s,e))};jt.modulo=jt.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(go+"NaN");return r.s?(Tn=!1,t=Ac(r,e,0,1).times(e),Tn=!0,r.minus(t)):on(new n(r),a)};jt.naturalExponential=jt.exp=function(){return iG(this)};jt.naturalLogarithm=jt.ln=function(){return X1(this)};jt.negated=jt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};jt.plus=jt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?aG(t,e):sG(t,(e.s=-e.s,e))};jt.precision=jt.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(jh+e);if(t=ha(a)+1,n=a.d.length-1,r=n*vn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};jt.squareRoot=jt.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(go+"NaN")}for(e=ha(o),Tn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Tl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=rm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ac(o,i,s+2)).times(.5),Tl(i.d).slice(0,s)===(t=Tl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(on(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Tn=!0,on(n,r)};jt.times=jt.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%Na|0,t=o/Na|0;i[a]=(i[a]+t)%Na|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Tn?on(e,f.precision):e};jt.toDecimalPlaces=jt.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Bl(e,0,tm),t===void 0?t=n.rounding:Bl(t,0,8),on(r,e+ha(r)+1,t))};jt.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=Yh(n,!0):(Bl(e,0,tm),t===void 0?t=a.rounding:Bl(t,0,8),n=on(new a(n),e+1,t),r=Yh(n,!0,e+1)),r};jt.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?Yh(a):(Bl(e,0,tm),t===void 0?t=i.rounding:Bl(t,0,8),n=on(new i(a),e+ha(a)+1,t),r=Yh(n.abs(),!1,e+ha(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};jt.toInteger=jt.toint=function(){var e=this,t=e.constructor;return on(new t(e),ha(e)+1,t.rounding)};jt.toNumber=function(){return+this};jt.toPower=jt.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ps);if(o=new l(o),!o.s){if(e.s<1)throw Error(go+"Infinity");return o}if(o.eq(Ps))return o;if(n=l.precision,e.eq(Ps))return on(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=nG){for(a=new l(Ps),t=Math.ceil(n/vn+4),Tn=!1;r%2&&(a=a.times(o),IM(a.d,t)),r=rm(r/2),r!==0;)o=o.times(o),IM(o.d,t);return Tn=!0,e.s<0?new l(Ps).div(a):on(a,n)}}else if(i<0)throw Error(go+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Tn=!1,a=e.times(X1(o,n+c)),Tn=!0,a=iG(a),a.s=i,a};jt.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ha(a),n=Yh(a,r<=i.toExpNeg||r>=i.toExpPos)):(Bl(e,1,tm),t===void 0?t=i.rounding:Bl(t,0,8),a=on(new i(a),e,t),r=ha(a),n=Yh(a,e<=r||r<=i.toExpNeg,e)),n};jt.toSignificantDigits=jt.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Bl(e,1,tm),t===void 0?t=n.rounding:Bl(t,0,8)),on(new n(r),e,t)};jt.toString=jt.valueOf=jt.val=jt.toJSON=jt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ha(e),r=e.constructor;return Yh(e,t<=r.toExpNeg||t>=r.toExpPos)};function aG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Tn?on(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/vn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Na|0,l[i]%=Na;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Tn?on(t,f):t}function Bl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(jh+e)}function Tl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=vn-n.length,r&&(i+=Iu(r)),i+=n;s=e[t],n=s+"",r=vn-n.length,r&&(i+=Iu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ac=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Na|0,s=i/Na|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Na+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,m,p,v,y,b,_,O,C,N,T,S,A=n.constructor,D=n.s==a.s?1:-1,E=n.d,P=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(go+"Division by zero");for(l=n.e-a.e,T=P.length,C=E.length,d=new A(D),m=d.d=[],c=0;P[c]==(E[c]||0);)++c;if(P[c]>(E[c]||0)&&--l,i==null?b=i=A.precision:s?b=i+(ha(n)-ha(a))+1:b=i,b<0)return new A(0);if(b=b/vn+2|0,c=0,T==1)for(u=0,P=P[0],b++;(c<C||u)&&b--;c++)_=u*Na+(E[c]||0),m[c]=_/P|0,u=_%P|0;else{for(u=Na/(P[0]+1)|0,u>1&&(P=e(P,u),E=e(E,u),T=P.length,C=E.length),O=T,p=E.slice(0,T),v=p.length;v<T;)p[v++]=0;S=P.slice(),S.unshift(0),N=P[0],P[1]>=Na/2&&++N;do u=0,o=t(P,p,T,v),o<0?(y=p[0],T!=v&&(y=y*Na+(p[1]||0)),u=y/N|0,u>1?(u>=Na&&(u=Na-1),f=e(P,u),h=f.length,v=p.length,o=t(f,p,h,v),o==1&&(u--,r(f,T<h?S:P,h))):(u==0&&(o=u=1),f=P.slice()),h=f.length,h<v&&f.unshift(0),r(p,f,v),o==-1&&(v=p.length,o=t(P,p,T,v),o<1&&(u++,r(p,T<v?S:P,v))),v=p.length):o===0&&(u++,p=[0]),m[c++]=u,o&&p[0]?p[v++]=E[O]||0:(p=[E[O]],v=1);while((O++<C||p[0]!==void 0)&&b--)}return m[0]||m.shift(),d.e=l,on(d,s?i+ha(d)+1:i)}}();function iG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ha(e)>16)throw Error(ZC+ha(e));if(!e.s)return new u(Ps);for(t==null?(Tn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(dh(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ps),u.precision=o;;){if(a=on(a.times(e),o),r=r.times(++l),s=i.plus(Ac(a,r,o)),Tl(s.d).slice(0,o)===Tl(i.d).slice(0,o)){for(;c--;)i=on(i.times(i),o);return u.precision=f,t==null?(Tn=!0,on(i,f)):i}i=s}}function ha(e){for(var t=e.e*vn,r=e.d[0];r>=10;r/=10)t++;return t}function hA(e,t,r){if(t>e.LN10.sd())throw Tn=!0,r&&(e.precision=r),Error(go+"LN10 precision limit exceeded");return on(new e(e.LN10),t)}function Iu(e){for(var t="";e--;)t+="0";return t}function X1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,m=d.d,p=d.constructor,v=p.precision;if(d.s<1)throw Error(go+(d.s?"NaN":"-Infinity"));if(d.eq(Ps))return new p(0);if(t==null?(Tn=!1,c=v):c=t,d.eq(10))return t==null&&(Tn=!0),hA(p,c);if(c+=h,p.precision=c,r=Tl(m),n=r.charAt(0),i=ha(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Tl(d.d),n=r.charAt(0),f++;i=ha(d),n>1?(d=new p("0."+r),i++):d=new p(n+"."+r.slice(1))}else return l=hA(p,c+2,v).times(i+""),d=X1(new p(n+"."+r.slice(1)),c-h).plus(l),p.precision=v,t==null?(Tn=!0,on(d,v)):d;for(o=s=d=Ac(d.minus(Ps),d.plus(Ps),c),u=on(d.times(d),c),a=3;;){if(s=on(s.times(u),c),l=o.plus(Ac(s,new p(a),c)),Tl(l.d).slice(0,c)===Tl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(hA(p,c+2,v).times(i+""))),o=Ac(o,new p(f),c),p.precision=v,t==null?(Tn=!0,on(o,v)):o;o=l,a+=2}}function OM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=rm(r/vn),e.d=[],n=(r+1)%vn,r<0&&(n+=vn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=vn;n<a;)e.d.push(+t.slice(n,n+=vn));t=t.slice(n),n=vn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Tn&&(e.e>Gb||e.e<-Gb))throw Error(ZC+r)}else e.s=0,e.e=0,e.d=[0];return e}function on(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=vn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/vn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=vn,a=n-vn+s}if(r!==void 0&&(i=dh(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/dh(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ha(e),f.length=1,t=t-i-1,f[0]=dh(10,(vn-t%vn)%vn),e.e=rm(-t/vn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=dh(10,vn-n),f[u]=a>0?(c/dh(10,s-a)%dh(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Na&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Na)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Tn&&(e.e>Gb||e.e<-Gb))throw Error(ZC+ha(e));return e}function sG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Tn?on(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/vn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Na-1;--l[i],l[a]+=Na}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Tn?on(t,d):t):new h(0)}function Yh(e,t,r){var n,a=ha(e),i=Tl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Iu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Iu(-a-1)+i,r&&(n=r-s)>0&&(i+=Iu(n))):a>=s?(i+=Iu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Iu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Iu(n))),e.s<0?"-"+i:i}function IM(e,t){if(e.length>t)return e.length=t,!0}function oG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(jh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return OM(s,i.toString())}else if(typeof i!="string")throw Error(jh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,c8e.test(i))OM(s,i);else throw Error(jh+i)}if(a.prototype=jt,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=oG,a.config=a.set=u8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function u8e(e){if(!e||typeof e!="object")throw Error(go+"Object expected");var t,r,n,a=["precision",1,tm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(rm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(jh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jh+r+": "+n);return this}var eN=oG(l8e);Ps=new eN(1);const Zr=eN;function f8e(e){return m8e(e)||p8e(e)||d8e(e)||h8e()}function h8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d8e(e,t){if(e){if(typeof e=="string")return yE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yE(e,t)}}function p8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function m8e(e){if(Array.isArray(e))return yE(e)}function yE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g8e=function(t){return t},lG={"@@functional/placeholder":!0},cG=function(t){return t===lG},DM=function(t){return function r(){return arguments.length===0||arguments.length===1&&cG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},v8e=function e(t,r){return t===1?r:DM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==lG}).length;return s>=t?r.apply(void 0,a):e(t-s,DM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return cG(f)?l.shift():f});return r.apply(void 0,f8e(u).concat(l))}))})},G5=function(t){return v8e(t.length,t)},xE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},y8e=G5(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),x8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return g8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},bE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},uG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function b8e(e){var t;return e===0?t=1:t=Math.floor(new Zr(e).abs().log(10).toNumber())+1,t}function w8e(e,t,r){for(var n=new Zr(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var _8e=G5(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),S8e=G5(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),A8e=G5(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const K5={rangeStep:w8e,getDigitCount:b8e,interpolateNumber:_8e,uninterpolateNumber:S8e,uninterpolateTruncation:A8e};function wE(e){return k8e(e)||E8e(e)||fG(e)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function k8e(e){if(Array.isArray(e))return _E(e)}function Q1(e,t){return N8e(e)||C8e(e,t)||fG(e,t)||P8e()}function P8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fG(e,t){if(e){if(typeof e=="string")return _E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _E(e,t)}}function _E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function C8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function N8e(e){if(Array.isArray(e))return e}function hG(e){var t=Q1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function dG(e,t,r){if(e.lte(0))return new Zr(0);var n=K5.getDigitCount(e.toNumber()),a=new Zr(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new Zr(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new Zr(Math.ceil(l))}function O8e(e,t,r){var n=1,a=new Zr(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new Zr(10).pow(K5.getDigitCount(e)-1),a=new Zr(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Zr(Math.floor(e)))}else e===0?a=new Zr(Math.floor((t-1)/2)):r||(a=new Zr(Math.floor(e)));var s=Math.floor((t-1)/2),o=x8e(y8e(function(l){return a.add(new Zr(l-s).mul(n)).toNumber()}),xE);return o(0,t)}function pG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Zr(0),tickMin:new Zr(0),tickMax:new Zr(0)};var i=dG(new Zr(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new Zr(0):(s=new Zr(e).add(t).div(2),s=s.sub(new Zr(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new Zr(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?pG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new Zr(o).mul(i)),tickMax:s.add(new Zr(l).mul(i))})}function I8e(e){var t=Q1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=hG([r,n]),l=Q1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(wE(xE(0,a-1).map(function(){return 1/0}))):[].concat(wE(xE(0,a-1).map(function(){return-1/0})),[u]);return r>n?bE(f):f}if(c===u)return O8e(c,a,i);var h=pG(c,u,s,i),d=h.step,m=h.tickMin,p=h.tickMax,v=K5.rangeStep(m,p.add(new Zr(.1).mul(d)),d);return r>n?bE(v):v}function D8e(e,t){var r=Q1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=hG([n,a]),o=Q1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=dG(new Zr(c).sub(l).div(u-1),i,0),h=[].concat(wE(K5.rangeStep(new Zr(l),new Zr(c).sub(new Zr(.99).mul(f)),f)),[c]);return n>a?bE(h):h}var L8e=uG(I8e),j8e=uG(D8e),M8e="Invariant failed";function Xh(e,t){throw new Error(M8e)}var R8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kb.apply(this,arguments)}function F8e(e,t){return U8e(e)||V8e(e,t)||B8e(e,t)||$8e()}function $8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(e,t){if(e){if(typeof e=="string")return LM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LM(e,t)}}function LM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function V8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function U8e(e){if(Array.isArray(e))return e}function z8e(e,t){if(e==null)return{};var r=q8e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function q8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function W8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vG(n.key),n)}}function G8e(e,t,r){return t&&H8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function K8e(e,t,r){return t=Yb(t),Y8e(e,mG()?Reflect.construct(t,r||[],Yb(e).constructor):t.apply(e,r))}function Y8e(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X8e(e)}function X8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!e})()}function Yb(e){return Yb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yb(e)}function Q8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SE(e,t)}function SE(e,t){return SE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},SE(e,t)}function gG(e,t,r){return t=vG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vG(e){var t=J8e(e,"string");return pp(t)=="symbol"?t:t+""}function J8e(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ty=function(e){function t(){return W8e(this,t),K8e(this,t,arguments)}return Q8e(t,e),G8e(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=z8e(n,R8e),d=yr(h,!1);this.props.direction==="x"&&u.type!=="number"&&Xh();var m=l.map(function(p){var v=c(p,o),y=v.x,b=v.y,_=v.value,O=v.errorVal;if(!O)return null;var C=[],N,T;if(Array.isArray(O)){var S=F8e(O,2);N=S[0],T=S[1]}else N=T=O;if(i==="vertical"){var A=u.scale,D=b+a,E=D+s,P=D-s,j=A(_-N),G=A(_+T);C.push({x1:G,y1:E,x2:G,y2:P}),C.push({x1:j,y1:D,x2:G,y2:D}),C.push({x1:j,y1:E,x2:j,y2:P})}else if(i==="horizontal"){var U=f.scale,Q=y+a,J=Q-s,z=Q+s,B=U(_-N),ee=U(_+T);C.push({x1:J,y1:ee,x2:z,y2:ee}),C.push({x1:Q,y1:B,x2:Q,y2:ee}),C.push({x1:J,y1:B,x2:z,y2:B})}return Ne.createElement(ta,Kb({className:"recharts-errorBar",key:"bar-".concat(C.map(function(ne){return"".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))},d),C.map(function(ne){return Ne.createElement("line",Kb({},ne,{key:"line-".concat(ne.x1,"-").concat(ne.x2,"-").concat(ne.y1,"-").concat(ne.y2)}))}))});return Ne.createElement(ta,{className:"recharts-errorBars"},m)}}])}(Ne.Component);gG(ty,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gG(ty,"displayName","ErrorBar");function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}function jM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ah(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jM(Object(r),!0).forEach(function(n){Z8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z8e(e,t,r){return t=eDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eDe(e){var t=tDe(e,"string");return J1(t)=="symbol"?t:t+""}function tDe(e,t){if(J1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(J1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Ts(r,_c);if(!s)return null;var o=_c.defaultProps,l=o!==void 0?ah(ah({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,m=d.sectors||d.data||[];return u.concat(m.map(function(p){return{type:s.props.iconType||h.props.legendType,value:p.name,color:p.fill,payload:p}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?ah(ah({},h),f.props):{},m=d.dataKey,p=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:tN(f),value:p||m,payload:d}}),ah(ah(ah({},l),_c.getWithHeight(s,a)),{},{payload:c,item:s})};function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}function MM(e){return iDe(e)||aDe(e)||nDe(e)||rDe()}function rDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nDe(e,t){if(e){if(typeof e=="string")return AE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AE(e,t)}}function aDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iDe(e){if(Array.isArray(e))return AE(e)}function AE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function RM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RM(Object(r),!0).forEach(function(n){R0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R0(e,t,r){return t=sDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sDe(e){var t=oDe(e,"string");return Z1(t)=="symbol"?t:t+""}function oDe(e,t){if(Z1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Z1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rs(e,t,r){return mr(e)||mr(t)?r:wa(t)?uo(e,t,r):cr(t)?t(e):r}function $g(e,t,r,n){var a=a8e(e,function(o){return Rs(o,t)});if(r==="number"){var i=a.filter(function(o){return _t(o)||parseFloat(o)});return i.length?[W5(i),q5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!mr(o)}):a;return s.map(function(o){return wa(o)||o instanceof Date?o:""})}var lDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(Yo(f-u)!==Yo(h-f)){var m=[];if(Yo(h-f)===Yo(l[1]-l[0])){d=h;var p=f+l[1]-l[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{d=u;var v=h+l[1]-l[0];m[0]=Math.min(f,(v+f)/2),m[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>y[0]&&t<=y[1]||t>=m[0]&&t<=m[1]){s=a[c].index;break}}else{var b=Math.min(u,h),_=Math.max(u,h);if(t>(b+f)/2&&t<=(_+f)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},tN=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?zn(zn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},cDe=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var m=u[f[h]],p=m.items,v=m.cateAxisId,y=p.filter(function(T){return bc(T.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,_=b!==void 0?zn(zn({},b),y[0].props):y[0].props,O=_.barSize,C=_[v];s[C]||(s[C]=[]);var N=mr(O)?r:O;s[C].push({item:y[0],stackList:y.slice(1),barSize:mr(N)?void 0:Kh(N,n,0)})}}return s},uDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=Kh(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,m=s.reduce(function(O,C){return O+C.barSize||0},0);m+=(l-1)*c,m>=a&&(m-=(l-1)*c,c=0),m>=a&&d>0&&(h=!0,d*=.9,m=l*d);var p=(a-m)/2>>0,v={offset:p-c,size:0};u=s.reduce(function(O,C){var N={item:C.item,position:{offset:v.offset+v.size+c,size:h?d:C.barSize}},T=[].concat(MM(O),[N]);return v=T[T.length-1].position,C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:v})}),T},f)}else{var y=Kh(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var _=o===+o?Math.min(b,o):b;u=s.reduce(function(O,C,N){var T=[].concat(MM(O),[{item:C.item,position:{offset:y+(b+c)*N+(b-_)/2,size:_}}]);return C.stackList&&C.stackList.length&&C.stackList.forEach(function(S){T.push({item:S,position:T[T.length-1].position})}),T},f)}return u},fDe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=yG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,m=c.verticalAlign,p=c.layout;if((p==="vertical"||p==="horizontal"&&m==="middle")&&d!=="center"&&_t(t[d]))return zn(zn({},t),{},R0({},d,t[d]+(f||0)));if((p==="horizontal"||p==="vertical"&&d==="center")&&m!=="middle"&&_t(t[m]))return zn(zn({},t),{},R0({},m,t[m]+(h||0)))}return t},hDe=function(t,r,n){return mr(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},xG=function(t,r,n,a,i){var s=r.props.children,o=fo(s,ty).filter(function(c){return hDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=Rs(u,n);if(mr(f))return c;var h=Array.isArray(f)?[W5(f),q5(f)]:[f,f],d=l.reduce(function(m,p){var v=Rs(u,p,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(b,m[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},dDe=function(t,r,n,a,i){var s=r.map(function(o){return xG(t,o,n,i,a)}).filter(function(o){return!mr(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},bG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&xG(t,l,c,a)||$g(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},wG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},_G=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},gc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Yo(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!Kv(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},dA=new WeakMap,Ax=function(t,r){if(typeof r!="function")return t;dA.has(t)||dA.set(t,new WeakMap);var n=dA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},pDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:W1(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:zb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Fg(),realScaleType:"point"}:i==="category"?{scale:W1(),realScaleType:"band"}:{scale:zb(),realScaleType:"linear"};if(Gh(a)){var l="scale".concat(O5(a));return{scale:(NM[l]||Fg)(),realScaleType:NM[l]?l:"point"}}return cr(a)?{scale:a}:{scale:Fg(),realScaleType:"point"}},FM=1e-4,mDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-FM,s=Math.max(a[0],a[1])+FM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},gDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},vDe=function(t,r){if(!r||r.length!==2||!_t(r[0])||!_t(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!_t(t[0])||t[0]<n)&&(i[0]=n),(!_t(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},yDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=Kv(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},xDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=Kv(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},bDe={sign:yDe,expand:jSe,none:sp,silhouette:MSe,wiggle:RSe,positive:xDe},wDe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=bDe[n],s=LSe().keys(a).value(function(o,l){return+Rs(o,l,0)}).order(YT).offset(i);return s(t)},_De=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,m=(d=h.type)!==null&&d!==void 0&&d.defaultProps?zn(zn({},h.type.defaultProps),h.props):h.props,p=m.stackId,v=m.hide;if(v)return f;var y=m[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(wa(p)){var _=b.stackGroups[p]||{numericAxisId:n,cateAxisId:a,items:[]};_.items.push(h),b.hasStack=!0,b.stackGroups[p]=_}else b.stackGroups[Yv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return zn(zn({},f),{},R0({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var m={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(p,v){var y=d.stackGroups[v];return zn(zn({},p),{},R0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:wDe(t,y.items,i)}))},m)}return zn(zn({},f),{},R0({},h,d))},u)},SDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=L8e(c,i,o);return t.domain([W5(u),q5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=j8e(f,i,o);return{niceTicks:h}}return null};function $M(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!mr(a[t.dataKey])){var o=bb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=Rs(a,mr(s)?t.dataKey:s);return mr(l)?null:t.scale(l)}var BM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=Rs(s,r.dataKey,r.domain[o]);return mr(l)?null:r.scale(l)-i/2+a},ADe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},TDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?zn(zn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(wa(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},EDe=function(t){return t.reduce(function(r,n){return[W5(n.concat([r[0]]).filter(_t)),q5(n.concat([r[1]]).filter(_t))]},[1/0,-1/0])},SG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=EDe(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},VM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,UM=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,TE=function(t,r,n){if(cr(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(_t(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(VM.test(t[0])){var i=+VM.exec(t[0])[1];a[0]=r[0]-i}else cr(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(_t(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(UM.test(t[1])){var s=+UM.exec(t[1])[1];a[1]=r[1]+s}else cr(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},Xb=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=CC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},zM=function(t,r,n){return!t||!t.length||H5(t,uo(n,"type.defaultProps.domain"))?r:t},AG=function(t,r){var n=t.type.defaultProps?zn(zn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return zn(zn({},yr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:tN(t),value:Rs(r,a),type:l,payload:r,chartType:c,hide:u})};function ev(e){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ev(e)}function qM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qM(Object(r),!0).forEach(function(n){kDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kDe(e,t,r){return t=PDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PDe(e){var t=CDe(e,"string");return ev(t)=="symbol"?t:t+""}function CDe(e,t){if(ev(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qb=Math.PI/180,NDe=function(t){return t*180/Math.PI},Ka=function(t,r,n,a){return{x:t+Math.cos(-Qb*a)*n,y:r+Math.sin(-Qb*a)*n}},ODe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},IDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=ODe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:NDe(c),angleInRadian:c}},DDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},LDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},HM=function(t,r){var n=t.x,a=t.y,i=IDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=DDe(r),f=u.startAngle,h=u.endAngle,d=o,m;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;m=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;m=d>=h&&d<=f}return m?WM(WM({},r),{},{radius:s,angle:LDe(d,r)}):null};function tv(e){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tv(e)}var jDe=["offset"];function MDe(e){return BDe(e)||$De(e)||FDe(e)||RDe()}function RDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FDe(e,t){if(e){if(typeof e=="string")return EE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EE(e,t)}}function $De(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function BDe(e){if(Array.isArray(e))return EE(e)}function EE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VDe(e,t){if(e==null)return{};var r=UDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function UDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){zDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zDe(e,t,r){return t=qDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qDe(e){var t=WDe(e,"string");return tv(t)=="symbol"?t:t+""}function WDe(e,t){if(tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rv(){return rv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rv.apply(this,arguments)}var HDe=function(t){var r=t.value,n=t.formatter,a=mr(t.children)?r:t.children;return cr(n)?n(a):a},GDe=function(t,r){var n=Yo(r-t),a=Math.min(Math.abs(r-t),360);return n*a},KDe=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,m=l.endAngle,p=l.clockWise,v=(f+h)/2,y=GDe(d,m),b=y>=0?1:-1,_,O;a==="insideStart"?(_=d+b*s,O=p):a==="insideEnd"?(_=m-b*s,O=!p):a==="end"&&(_=m+b*s,O=p),O=y<=0?O:!O;var C=Ka(c,u,v,_),N=Ka(c,u,v,_+(O?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(N.x,",").concat(N.y),S=mr(t.id)?Yv("recharts-radial-line-"):t.id;return Ne.createElement("text",rv({},n,{dominantBaseline:"central",className:Nr("recharts-radial-bar-label",o)}),Ne.createElement("defs",null,Ne.createElement("path",{id:S,d:T})),Ne.createElement("textPath",{xlinkHref:"#".concat(S)},r))},YDe=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=Ka(s,o,c+n,h),m=d.x,p=d.y;return{x:m,y:p,textAnchor:m>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Ka(s,o,v,h),b=y.x,_=y.y;return{x:b,y:_,textAnchor:"middle",verticalAnchor:"middle"}},XDe=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",m=f>0?"start":"end",p=c>=0?1:-1,v=p*a,y=p>0?"end":"start",b=p>0?"start":"end";if(i==="top"){var _={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return ga(ga({},_),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:m};return ga(ga({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var C={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return ga(ga({},C),n?{width:Math.max(C.x-n.x,0),height:u}:{})}if(i==="right"){var N={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return ga(ga({},N),n?{width:Math.max(n.x+n.width-N.x,0),height:u}:{})}var T=n?{width:c,height:u}:{};return i==="insideLeft"?ga({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},T):i==="insideRight"?ga({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},T):i==="insideTop"?ga({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:m},T):i==="insideBottom"?ga({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},T):i==="insideTopLeft"?ga({x:o+v,y:l+h,textAnchor:b,verticalAnchor:m},T):i==="insideTopRight"?ga({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:m},T):i==="insideBottomLeft"?ga({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:d},T):i==="insideBottomRight"?ga({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:d},T):Gp(i)&&(_t(i.x)||Sh(i.x))&&(_t(i.y)||Sh(i.y))?ga({x:o+Kh(i.x,c),y:l+Kh(i.y,u),textAnchor:"end",verticalAnchor:"end"},T):ga({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},T)},QDe=function(t){return"cx"in t&&_t(t.cx)};function gi(e){var t=e.offset,r=t===void 0?5:t,n=VDe(e,jDe),a=ga({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||mr(o)&&mr(l)&&!Z.isValidElement(c)&&!cr(c))return null;if(Z.isValidElement(c))return Z.cloneElement(c,a);var d;if(cr(c)){if(d=Z.createElement(c,a),Z.isValidElement(d))return d}else d=HDe(a);var m=QDe(i),p=yr(a,!0);if(m&&(s==="insideStart"||s==="insideEnd"||s==="end"))return KDe(a,d,p);var v=m?YDe(a):XDe(a);return Ne.createElement(Mb,rv({className:Nr("recharts-label",f)},p,v,{breakAll:h}),d)}gi.displayName="Label";var TG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,m=t.left,p=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(_t(p)&&_t(v)){if(_t(f)&&_t(h))return{x:f,y:h,width:p,height:v};if(_t(d)&&_t(m))return{x:d,y:m,width:p,height:v}}return _t(f)&&_t(h)?{x:f,y:h,width:0,height:0}:_t(r)&&_t(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},JDe=function(t,r){return t?t===!0?Ne.createElement(gi,{key:"label-implicit",viewBox:r}):wa(t)?Ne.createElement(gi,{key:"label-implicit",viewBox:r,value:t}):Z.isValidElement(t)?t.type===gi?Z.cloneElement(t,{key:"label-implicit",viewBox:r}):Ne.createElement(gi,{key:"label-implicit",content:t,viewBox:r}):cr(t)?Ne.createElement(gi,{key:"label-implicit",content:t,viewBox:r}):Gp(t)?Ne.createElement(gi,rv({viewBox:r},t,{key:"label-implicit"})):null:null},ZDe=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=TG(t),s=fo(a,gi).map(function(l,c){return Z.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=JDe(t.label,r||i);return[o].concat(MDe(s))};gi.parseViewBox=TG;gi.renderCallByParent=ZDe;function eLe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var tLe=eLe;const rLe=rn(tLe);function nv(e){"@babel/helpers - typeof";return nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nv(e)}var nLe=["valueAccessor"],aLe=["data","dataKey","clockWise","id","textBreakAll"];function iLe(e){return cLe(e)||lLe(e)||oLe(e)||sLe()}function sLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oLe(e,t){if(e){if(typeof e=="string")return kE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kE(e,t)}}function lLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cLe(e){if(Array.isArray(e))return kE(e)}function kE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jb(){return Jb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jb.apply(this,arguments)}function KM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KM(Object(r),!0).forEach(function(n){uLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uLe(e,t,r){return t=fLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fLe(e){var t=hLe(e,"string");return nv(t)=="symbol"?t:t+""}function hLe(e,t){if(nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XM(e,t){if(e==null)return{};var r=dLe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dLe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var pLe=function(t){return Array.isArray(t.value)?rLe(t.value):t.value};function ff(e){var t=e.valueAccessor,r=t===void 0?pLe:t,n=XM(e,nLe),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=XM(n,aLe);return!a||!a.length?null:Ne.createElement(ta,{className:"recharts-label-list"},a.map(function(u,f){var h=mr(i)?r(u,f):Rs(u&&u.payload,i),d=mr(o)?{}:{id:"".concat(o,"-").concat(f)};return Ne.createElement(gi,Jb({},yr(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:gi.parseViewBox(mr(s)?u:YM(YM({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}ff.displayName="LabelList";function mLe(e,t){return e?e===!0?Ne.createElement(ff,{key:"labelList-implicit",data:t}):Ne.isValidElement(e)||cr(e)?Ne.createElement(ff,{key:"labelList-implicit",data:t,content:e}):Gp(e)?Ne.createElement(ff,Jb({data:t},e,{key:"labelList-implicit"})):null:null}function gLe(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=fo(n,ff).map(function(s,o){return Z.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=mLe(e.label,t);return[i].concat(iLe(a))}ff.renderCallByParent=gLe;function av(e){"@babel/helpers - typeof";return av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},av(e)}function PE(){return PE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},PE.apply(this,arguments)}function QM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function JM(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QM(Object(r),!0).forEach(function(n){vLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vLe(e,t,r){return t=yLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yLe(e){var t=xLe(e,"string");return av(t)=="symbol"?t:t+""}function xLe(e,t){if(av(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bLe=function(t,r){var n=Yo(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Tx=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/Qb,h=c?i:i+s*f,d=Ka(r,n,u,h),m=Ka(r,n,a,h),p=c?i-s*f:i,v=Ka(r,n,u*Math.cos(f*Qb),p);return{center:d,circleTangency:m,lineTangency:v,theta:f}},EG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=bLe(s,o),c=s+l,u=Ka(r,n,i,s),f=Ka(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=Ka(r,n,a,s),m=Ka(r,n,a,c);h+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},wLe=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=Yo(u-c),h=Tx({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,m=h.lineTangency,p=h.theta,v=Tx({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,_=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-p-_;if(O<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):EG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var C="M ".concat(m.x,",").concat(m.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var N=Tx({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=N.circleTangency,S=N.lineTangency,A=N.theta,D=Tx({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=D.circleTangency,P=D.lineTangency,j=D.theta,G=l?Math.abs(c-u):Math.abs(c-u)-A-j;if(G<0&&s===0)return"".concat(C,"L").concat(r,",").concat(n,"Z");C+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(G>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else C+="L".concat(r,",").concat(n,"Z");return C},_Le={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kG=function(t){var r=JM(JM({},_Le),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=Nr("recharts-sector",h),m=s-i,p=Kh(o,m,0,!0),v;return p>0&&Math.abs(u-f)<360?v=wLe({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=EG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Ne.createElement("path",PE({},yr(r,!0),{className:d,d:v,role:"img"}))};function iv(e){"@babel/helpers - typeof";return iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iv(e)}function CE(){return CE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CE.apply(this,arguments)}function ZM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZM(Object(r),!0).forEach(function(n){SLe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SLe(e,t,r){return t=ALe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ALe(e){var t=TLe(e,"string");return iv(t)=="symbol"?t:t+""}function TLe(e,t){if(iv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tR={curveBasisClosed:SSe,curveBasisOpen:ASe,curveBasis:_Se,curveBumpX:lSe,curveBumpY:cSe,curveLinearClosed:TSe,curveLinear:D5,curveMonotoneX:ESe,curveMonotoneY:kSe,curveNatural:PSe,curveStep:CSe,curveStepAfter:OSe,curveStepBefore:NSe},Ex=function(t){return t.x===+t.x&&t.y===+t.y},Vm=function(t){return t.x},Um=function(t){return t.y},ELe=function(t,r){if(cr(t))return t;var n="curve".concat(O5(t));return(n==="curveMonotone"||n==="curveBump")&&r?tR["".concat(n).concat(r==="vertical"?"Y":"X")]:tR[n]||D5},kLe=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=ELe(n,o),f=c?i.filter(function(p){return Ex(p)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(p){return Ex(p)}):s,m=f.map(function(p,v){return eR(eR({},p),{},{base:d[v]})});return o==="vertical"?h=gx().y(Um).x1(Vm).x0(function(p){return p.base.x}):h=gx().x(Vm).y1(Um).y0(function(p){return p.base.y}),h.defined(Ex).curve(u),h(m)}return o==="vertical"&&_t(s)?h=gx().y(Um).x1(Vm).x0(s):_t(s)?h=gx().x(Vm).y1(Um).y0(s):h=kW().x(Vm).y(Um),h.defined(Ex).curve(u),h(f)},NE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?kLe(t):a;return Ne.createElement("path",CE({},yr(t,!1),wb(t),{className:Nr("recharts-curve",r),d:s,ref:i}))},PG={exports:{}},PLe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",CLe=PLe,NLe=CLe;function CG(){}function NG(){}NG.resetWarningCache=CG;var OLe=function(){function e(n,a,i,s,o,l){if(l!==NLe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:NG,resetWarningCache:CG};return r.PropTypes=r,r};PG.exports=OLe();var ILe=PG.exports;const Vr=rn(ILe);var DLe=Object.getOwnPropertyNames,LLe=Object.getOwnPropertySymbols,jLe=Object.prototype.hasOwnProperty;function rR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function kx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function nR(e){return DLe(e).concat(LLe(e))}var MLe=Object.hasOwn||function(e,t){return jLe.call(e,t)};function pd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var RLe="__v",FLe="__o",$Le="_owner",aR=Object.getOwnPropertyDescriptor,iR=Object.keys;function BLe(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function VLe(e,t){return pd(e.getTime(),t.getTime())}function ULe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function zLe(e,t){return e===t}function sR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var qLe=pd;function WLe(e,t,r){var n=iR(e),a=n.length;if(iR(t).length!==a)return!1;for(;a-- >0;)if(!OG(e,t,r,n[a]))return!1;return!0}function zm(e,t,r){var n=nR(e),a=n.length;if(nR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!OG(e,t,r,i)||(s=aR(e,i),o=aR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function HLe(e,t){return pd(e.valueOf(),t.valueOf())}function GLe(e,t){return e.source===t.source&&e.flags===t.flags}function oR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function KLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function YLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function OG(e,t,r,n){return(n===$Le||n===FLe||n===RLe)&&(e.$$typeof||t.$$typeof)?!0:MLe(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var XLe="[object Arguments]",QLe="[object Boolean]",JLe="[object Date]",ZLe="[object Error]",eje="[object Map]",tje="[object Number]",rje="[object Object]",nje="[object RegExp]",aje="[object Set]",ije="[object String]",sje="[object URL]",oje=Array.isArray,lR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,cR=Object.assign,lje=Object.prototype.toString.call.bind(Object.prototype.toString);function cje(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(m,p,v){if(m===p)return!0;if(m==null||p==null)return!1;var y=typeof m;if(y!==typeof p)return!1;if(y!=="object")return y==="number"?s(m,p,v):y==="function"?a(m,p,v):!1;var b=m.constructor;if(b!==p.constructor)return!1;if(b===Object)return o(m,p,v);if(oje(m))return t(m,p,v);if(lR!=null&&lR(m))return f(m,p,v);if(b===Date)return r(m,p,v);if(b===RegExp)return c(m,p,v);if(b===Map)return i(m,p,v);if(b===Set)return u(m,p,v);var _=lje(m);return _===JLe?r(m,p,v):_===nje?c(m,p,v):_===eje?i(m,p,v):_===aje?u(m,p,v):_===rje?typeof m.then!="function"&&typeof p.then!="function"&&o(m,p,v):_===sje?h(m,p,v):_===ZLe?n(m,p,v):_===XLe?o(m,p,v):_===QLe||_===tje||_===ije?l(m,p,v):!1}}function uje(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?zm:BLe,areDatesEqual:VLe,areErrorsEqual:ULe,areFunctionsEqual:zLe,areMapsEqual:n?rR(sR,zm):sR,areNumbersEqual:qLe,areObjectsEqual:n?zm:WLe,arePrimitiveWrappersEqual:HLe,areRegExpsEqual:GLe,areSetsEqual:n?rR(oR,zm):oR,areTypedArraysEqual:n?zm:KLe,areUrlsEqual:YLe};if(r&&(a=cR({},a,r(a))),t){var i=kx(a.areArraysEqual),s=kx(a.areMapsEqual),o=kx(a.areObjectsEqual),l=kx(a.areSetsEqual);a=cR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function fje(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function hje(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var dje=Ff();Ff({strict:!0});Ff({circular:!0});Ff({circular:!0,strict:!0});Ff({createInternalComparator:function(){return pd}});Ff({strict:!0,createInternalComparator:function(){return pd}});Ff({circular:!0,createInternalComparator:function(){return pd}});Ff({circular:!0,createInternalComparator:function(){return pd},strict:!0});function Ff(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=uje(e),l=cje(o),c=n?n(l):fje(l);return hje({circular:r,comparator:l,createState:a,equals:c,strict:s})}function pje(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function uR(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):pje(a)};requestAnimationFrame(n)}function OE(e){"@babel/helpers - typeof";return OE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},OE(e)}function mje(e){return xje(e)||yje(e)||vje(e)||gje()}function gje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vje(e,t){if(e){if(typeof e=="string")return fR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fR(e,t)}}function fR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xje(e){if(Array.isArray(e))return e}function bje(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=mje(s),l=o[0],c=o.slice(1);if(typeof l=="number"){uR(a.bind(null,c),l);return}a(l),uR(a.bind(null,c));return}OE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function sv(e){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sv(e)}function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(n){IG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IG(e,t,r){return t=wje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wje(e){var t=_je(e,"string");return sv(t)==="symbol"?t:String(t)}function _je(e,t){if(sv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(sv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sje=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Aje=function(t){return t},Tje=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Bg=function(t,r){return Object.keys(r).reduce(function(n,a){return dR(dR({},n),{},IG({},a,t(a,r[a])))},{})},pR=function(t,r,n){return t.map(function(a){return"".concat(Tje(a)," ").concat(r,"ms ").concat(n)}).join(",")};function Eje(e,t){return Cje(e)||Pje(e,t)||DG(e,t)||kje()}function kje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Cje(e){if(Array.isArray(e))return e}function Nje(e){return Dje(e)||Ije(e)||DG(e)||Oje()}function Oje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DG(e,t){if(e){if(typeof e=="string")return IE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IE(e,t)}}function Ije(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Dje(e){if(Array.isArray(e))return IE(e)}function IE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Zb=1e-4,LG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},jG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},mR=function(t,r){return function(n){var a=LG(t,r);return jG(a,n)}},Lje=function(t,r){return function(n){var a=LG(t,r),i=[].concat(Nje(a.map(function(s,o){return s*o}).slice(1)),[0]);return jG(i,n)}},gR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Eje(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=mR(a,s),h=mR(i,o),d=Lje(a,s),m=function(y){return y>1?1:y<0?0:y},p=function(y){for(var b=y>1?1:y,_=b,O=0;O<8;++O){var C=f(_)-b,N=d(_);if(Math.abs(C-b)<Zb||N<Zb)return h(_);_=m(_-C/N)}return h(_)};return p.isStepper=!1,p},jje=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,m=h*i,p=h+(d-m)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<Zb&&Math.abs(p)<Zb?[f,0]:[v,p]};return l.isStepper=!0,l.dt=o,l},Mje=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return gR(a);case"spring":return jje();default:if(a.split("(")[0]==="cubic-bezier")return gR(a)}return typeof a=="function"?a:null};function ov(e){"@babel/helpers - typeof";return ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ov(e)}function vR(e){return $je(e)||Fje(e)||MG(e)||Rje()}function Rje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $je(e){if(Array.isArray(e))return LE(e)}function yR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ua(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yR(Object(r),!0).forEach(function(n){DE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DE(e,t,r){return t=Bje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bje(e){var t=Vje(e,"string");return ov(t)==="symbol"?t:String(t)}function Vje(e,t){if(ov(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ov(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uje(e,t){return Wje(e)||qje(e,t)||MG(e,t)||zje()}function zje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(e,t){if(e){if(typeof e=="string")return LE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LE(e,t)}}function LE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qje(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function Wje(e){if(Array.isArray(e))return e}var ew=function(t,r,n){return t+(r-t)*n},jE=function(t){var r=t.from,n=t.to;return r!==n},Hje=function e(t,r,n){var a=Bg(function(i,s){if(jE(s)){var o=t(s.from,s.to,s.velocity),l=Uje(o,2),c=l[0],u=l[1];return Ua(Ua({},s),{},{from:c,velocity:u})}return s},r);return n<1?Bg(function(i,s){return jE(s)?Ua(Ua({},s),{},{velocity:ew(s.velocity,a[i].velocity,n),from:ew(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const Gje=function(e,t,r,n,a){var i=Sje(e,t),s=i.reduce(function(v,y){return Ua(Ua({},v),{},DE({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return Ua(Ua({},v),{},DE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Bg(function(y,b){return b.from},o)},d=function(){return!Object.values(o).filter(jE).length},m=function(y){c||(c=y);var b=y-c,_=b/r.dt;o=Hje(r,o,_),a(Ua(Ua(Ua({},e),t),h())),c=y,d()||(l=requestAnimationFrame(f))},p=function(y){u||(u=y);var b=(y-u)/n,_=Bg(function(C,N){return ew.apply(void 0,vR(N).concat([r(b)]))},s);if(a(Ua(Ua(Ua({},e),t),_)),b<1)l=requestAnimationFrame(f);else{var O=Bg(function(C,N){return ew.apply(void 0,vR(N).concat([r(1)]))},s);a(Ua(Ua(Ua({},e),t),O))}};return f=r.isStepper?m:p,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}var Kje=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Yje(e,t){if(e==null)return{};var r=Xje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xje(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function pA(e){return eMe(e)||Zje(e)||Jje(e)||Qje()}function Qje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jje(e,t){if(e){if(typeof e=="string")return ME(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ME(e,t)}}function Zje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eMe(e){if(Array.isArray(e))return ME(e)}function ME(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xR(Object(r),!0).forEach(function(n){ig(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ig(e,t,r){return t=RG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,RG(n.key),n)}}function nMe(e,t,r){return t&&rMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function RG(e){var t=aMe(e,"string");return mp(t)==="symbol"?t:String(t)}function aMe(e,t){if(mp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RE(e,t)}function RE(e,t){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},RE(e,t)}function sMe(e){var t=oMe();return function(){var n=tw(e),a;if(t){var i=tw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return FE(this,a)}}function FE(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $E(e)}function $E(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function tw(e){return tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tw(e)}var Vc=function(e){iMe(r,e);var t=sMe(r);function r(n,a){var i;tMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind($E(i)),i.changeStyle=i.changeStyle.bind($E(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),FE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},FE(i);i.state={style:l?ig({},l,c):c}}else i.state={style:{}};return i}return nMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?ig({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(dje(a.to,u)&&a.canBegin&&a.isActive)){var m=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var p=m||c?f:a.to;if(this.state&&h){var v={style:l?ig({},l,p):p};(l&&h[l]!==p||!l&&h!==p)&&this.setState(v)}this.runAnimation(jo(jo({},this.props),{},{from:p,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=Gje(s,o,Mje(c),l,this.changeStyle),m=function(){i.stopJSAnimation=d()};this.manager.start([h,u,m,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(p,v,y){if(y===0)return p;var b=v.duration,_=v.easing,O=_===void 0?"ease":_,C=v.style,N=v.properties,T=v.onAnimationEnd,S=y>0?s[y-1]:v,A=N||Object.keys(C);if(typeof O=="function"||O==="spring")return[].concat(pA(p),[i.runJSAnimation.bind(i,{from:S.style,to:C,duration:b,easing:O}),b]);var D=pR(A,b,O),E=jo(jo(jo({},S.style),C),{},{transition:D});return[].concat(pA(p),[E,b,T]).filter(Aje)};return this.manager.start([l].concat(pA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=bje());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var p=o?ig({},o,l):l,v=pR(Object.keys(p),s,c);m.start([u,i,jo(jo({},p),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=Yje(a,Kje),c=Z.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var m=d.props,p=m.style,v=p===void 0?{}:p,y=m.className,b=Z.cloneElement(d,jo(jo({},l),{},{style:jo(jo({},v),u),className:y}));return b};return c===1?f(Z.Children.only(i)):Ne.createElement("div",null,Z.Children.map(i,function(h){return f(h)}))}}]),r}(Z.PureComponent);Vc.displayName="Animate";Vc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Vc.propTypes={from:Vr.oneOfType([Vr.object,Vr.string]),to:Vr.oneOfType([Vr.object,Vr.string]),attributeName:Vr.string,duration:Vr.number,begin:Vr.number,easing:Vr.oneOfType([Vr.string,Vr.func]),steps:Vr.arrayOf(Vr.shape({duration:Vr.number.isRequired,style:Vr.object.isRequired,easing:Vr.oneOfType([Vr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Vr.func]),properties:Vr.arrayOf("string"),onAnimationEnd:Vr.func})),children:Vr.oneOfType([Vr.node,Vr.func]),isActive:Vr.bool,canBegin:Vr.bool,onAnimationEnd:Vr.func,shouldReAnimate:Vr.bool,onAnimationStart:Vr.func,onAnimationReStart:Vr.func};function lv(e){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lv(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function lMe(e,t){return hMe(e)||fMe(e,t)||uMe(e,t)||cMe()}function cMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uMe(e,t){if(e){if(typeof e=="string")return bR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bR(e,t)}}function bR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function hMe(e){if(Array.isArray(e))return e}function wR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wR(Object(r),!0).forEach(function(n){dMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dMe(e,t,r){return t=pMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e){var t=mMe(e,"string");return lv(t)=="symbol"?t:t+""}function mMe(e,t){if(lv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(t,",").concat(r+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+l*m,",").concat(r,`
            L `).concat(t+n-l*m,",").concat(r,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*m,`
            L `).concat(t+n,",").concat(r+a-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t+n-l*m,",").concat(r+a,`
            L `).concat(t+l*m,",").concat(r+a,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*m," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},gMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},vMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rN=function(t){var r=_R(_R({},vMe),t),n=Z.useRef(),a=Z.useState(-1),i=lMe(a,2),s=i[0],o=i[1];Z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=Nr("recharts-rectangle",d);return b?Ne.createElement(Vc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:p,animationEasing:m,isActive:b},function(O){var C=O.width,N=O.height,T=O.x,S=O.y;return Ne.createElement(Vc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,isActive:y,easing:m},Ne.createElement("path",rw({},yr(r,!0),{className:_,d:SR(T,S,C,N,h),ref:n})))}):Ne.createElement("path",rw({},yr(r,!0),{className:_,d:SR(l,c,u,f,h)}))};function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BE.apply(this,arguments)}var nN=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Nr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Ne.createElement("circle",BE({},yr(t,!1),wb(t),{className:s,cx:r,cy:n,r:a})):null};function cv(e){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cv(e)}var yMe=["x","y","top","left","width","height","className"];function VE(){return VE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},VE.apply(this,arguments)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){bMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bMe(e,t,r){return t=wMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wMe(e){var t=_Me(e,"string");return cv(t)=="symbol"?t:t+""}function _Me(e,t){if(cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SMe(e,t){if(e==null)return{};var r=AMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var TMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},EMe=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,m=t.className,p=SMe(t,yMe),v=xMe({x:n,y:i,top:o,left:c,width:f,height:d},p);return!_t(n)||!_t(i)||!_t(f)||!_t(d)||!_t(o)||!_t(c)?null:Ne.createElement("path",VE({},yr(v,!0),{className:Nr("recharts-cross",m),d:TMe(n,i,f,d,o,c)}))},kMe=QW,PMe=kMe(Object.getPrototypeOf,Object),CMe=PMe,NMe=Gc,OMe=CMe,IMe=Kc,DMe="[object Object]",LMe=Function.prototype,jMe=Object.prototype,FG=LMe.toString,MMe=jMe.hasOwnProperty,RMe=FG.call(Object);function FMe(e){if(!IMe(e)||NMe(e)!=DMe)return!1;var t=OMe(e);if(t===null)return!0;var r=MMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&FG.call(r)==RMe}var $Me=FMe;const BMe=rn($Me);var VMe=Gc,UMe=Kc,zMe="[object Boolean]";function qMe(e){return e===!0||e===!1||UMe(e)&&VMe(e)==zMe}var WMe=qMe;const HMe=rn(WMe);function uv(e){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uv(e)}function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nw.apply(this,arguments)}function GMe(e,t){return QMe(e)||XMe(e,t)||YMe(e,t)||KMe()}function KMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YMe(e,t){if(e){if(typeof e=="string")return TR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TR(e,t)}}function TR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function QMe(e){if(Array.isArray(e))return e}function ER(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ER(Object(r),!0).forEach(function(n){JMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JMe(e,t,r){return t=ZMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZMe(e){var t=eRe(e,"string");return uv(t)=="symbol"?t:t+""}function eRe(e,t){if(uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},tRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rRe=function(t){var r=kR(kR({},tRe),t),n=Z.useRef(),a=Z.useState(-1),i=GMe(a,2),s=i[0],o=i[1];Z.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&o(_)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,m=r.animationEasing,p=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Nr("recharts-trapezoid",d);return y?Ne.createElement(Vc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:p,animationEasing:m,isActive:y},function(_){var O=_.upperWidth,C=_.lowerWidth,N=_.height,T=_.x,S=_.y;return Ne.createElement(Vc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:p,easing:m},Ne.createElement("path",nw({},yr(r,!0),{className:b,d:PR(T,S,O,C,N),ref:n})))}):Ne.createElement("g",null,Ne.createElement("path",nw({},yr(r,!0),{className:b,d:PR(l,c,u,f,h)})))},nRe=["option","shapeType","propTransformer","activeClassName","isActive"];function fv(e){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fv(e)}function aRe(e,t){if(e==null)return{};var r=iRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function iRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function aw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CR(Object(r),!0).forEach(function(n){sRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sRe(e,t,r){return t=oRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oRe(e){var t=lRe(e,"string");return fv(t)=="symbol"?t:t+""}function lRe(e,t){if(fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cRe(e,t){return aw(aw({},t),e)}function uRe(e,t){return e==="symbols"}function NR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Ne.createElement(rN,r);case"trapezoid":return Ne.createElement(rRe,r);case"sector":return Ne.createElement(kG,r);case"symbols":if(uRe(t))return Ne.createElement(wC,r);break;default:return null}}function fRe(e){return Z.isValidElement(e)?e.props:e}function hRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?cRe:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=aRe(e,nRe),c;if(Z.isValidElement(t))c=Z.cloneElement(t,aw(aw({},l),fRe(t)));else if(cr(t))c=t(l);else if(BMe(t)&&!HMe(t)){var u=a(t,l);c=Ne.createElement(NR,{shapeType:r,elementProps:u})}else{var f=l;c=Ne.createElement(NR,{shapeType:r,elementProps:f})}return o?Ne.createElement(ta,{className:s},c):c}function Y5(e,t){return t!=null&&"trapezoids"in e.props}function X5(e,t){return t!=null&&"sectors"in e.props}function hv(e,t){return t!=null&&"points"in e.props}function dRe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function pRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function mRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function gRe(e,t){var r;return Y5(e,t)?r=dRe:X5(e,t)?r=pRe:hv(e,t)&&(r=mRe),r}function vRe(e,t){var r;return Y5(e,t)?r="trapezoids":X5(e,t)?r="sectors":hv(e,t)&&(r="points"),r}function yRe(e,t){if(Y5(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(X5(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return hv(e,t)?t.payload:{}}function xRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=vRe(r,t),i=yRe(r,t),s=n.filter(function(l,c){var u=H5(i,l),f=r.props[a].filter(function(m){var p=gRe(r,t);return p(m,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var bRe=Math.ceil,wRe=Math.max;function _Re(e,t,r,n){for(var a=-1,i=wRe(bRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var SRe=_Re,ARe=gH,OR=1/0,TRe=17976931348623157e292;function ERe(e){if(!e)return e===0?e:0;if(e=ARe(e),e===OR||e===-OR){var t=e<0?-1:1;return t*TRe}return e===e?e:0}var $G=ERe,kRe=SRe,PRe=R5,mA=$G;function CRe(e){return function(t,r,n){return n&&typeof n!="number"&&PRe(t,r,n)&&(r=n=void 0),t=mA(t),r===void 0?(r=t,t=0):r=mA(r),n=n===void 0?t<r?1:-1:mA(n),kRe(t,r,n,e)}}var NRe=CRe,ORe=NRe,IRe=ORe(),DRe=IRe;const iw=rn(DRe);function dv(e){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dv(e)}function IR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IR(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return t=LRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LRe(e){var t=jRe(e,"string");return dv(t)=="symbol"?t:t+""}function jRe(e,t){if(dv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MRe=["Webkit","Moz","O","ms"],RRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=MRe.reduce(function(i,s){return DR(DR({},i),{},BG({},s+n,r))},{});return a[t]=r,a};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function LR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LR(Object(r),!0).forEach(function(n){Ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UG(n.key),n)}}function $Re(e,t,r){return t&&jR(e.prototype,t),r&&jR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function BRe(e,t,r){return t=ow(t),VRe(e,VG()?Reflect.construct(t,r||[],ow(e).constructor):t.apply(e,r))}function VRe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(e)}function URe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VG=function(){return!!e})()}function ow(e){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(e)}function zRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UE(e,t)}function UE(e,t){return UE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},UE(e,t)}function Ss(e,t,r){return t=UG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=qRe(e,"string");return gp(t)=="symbol"?t:t+""}function qRe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WRe=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Fg().domain(iw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},MR=function(t){return t.changedTouches&&!!t.changedTouches.length},vp=function(e){function t(r){var n;return FRe(this,t),n=BRe(this,t,[r]),Ss(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ss(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ss(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ss(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ss(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ss(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ss(n,"handleSlideDragStart",function(a){var i=MR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return zRe(t,e),$Re(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),m=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=Rs(i[n],o,n);return cr(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,m=l.onChange,p=n.pageX-i;p>0?p=Math.min(p,c+u-f-o,c+u-f-s):p<0&&(p=Math.max(p,c-s,c-o));var v=this.getIndex({startX:s+p,endX:o+p});(v.startIndex!==h||v.endIndex!==d)&&m&&m(v),this.setState({startX:s+p,endX:o+p,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=MR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,m=u.onChange,p=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-d-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var _=this.getIndex(y),O=_.startIndex,C=_.endIndex,N=function(){var S=v.length-1;return s==="startX"&&(o>l?O%p===0:C%p===0)||o<l&&C===S||s==="endX"&&(o>l?C%p===0:O%p===0)||o>l&&C===S};this.setState(Ss(Ss({},s,c+b),"brushMoveStartX",n.pageX),function(){m&&N()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Ss({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Ne.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=Z.Children.only(c);return f?Ne.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,m=l.data,p=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=gA(gA({},yr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=d||"Min value: ".concat((i=m[p])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=m[v])===null||s===void 0?void 0:s.name);return Ne.createElement(ta,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(C){["ArrowLeft","ArrowRight"].includes(C.key)&&(C.preventDefault(),C.stopPropagation(),o.handleTravellerMoveKeyboard(C.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,m={pointerEvents:"none",fill:c};return Ne.createElement(ta,{className:"recharts-brush-texts"},Ne.createElement(Mb,sw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},m),this.getTextOfTick(a)),Ne.createElement(Mb,sw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},m),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,m=h.endX,p=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!_t(o)||!_t(l)||!_t(c)||!_t(u)||c<=0||u<=0)return null;var _=Nr("recharts-brush",i),O=Ne.Children.count(s)===1,C=RRe("userSelect","none");return Ne.createElement(ta,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:C},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(d,m),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(m,"endX"),(p||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Ne.createElement(Ne.Fragment,null,Ne.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Ne.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Ne.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Ne.isValidElement(n)?i=Ne.cloneElement(n,a):cr(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return gA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?WRe({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(Z.PureComponent);Ss(vp,"displayName","Brush");Ss(vp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var HRe=PC;function GRe(e,t){var r;return HRe(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var KRe=GRe,YRe=zW,XRe=jf,QRe=KRe,JRe=ds,ZRe=R5;function eFe(e,t,r){var n=JRe(e)?YRe:QRe;return r&&ZRe(e,t,r)&&(t=void 0),n(e,XRe(t))}var tFe=eFe;const rFe=rn(tFe);var jl=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},RR=fH;function nFe(e,t,r){t=="__proto__"&&RR?RR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var aFe=nFe,iFe=aFe,sFe=cH,oFe=jf;function lFe(e,t){var r={};return t=oFe(t),sFe(e,function(n,a,i){iFe(r,a,t(n,a,i))}),r}var cFe=lFe;const uFe=rn(cFe);function fFe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var hFe=fFe,dFe=PC;function pFe(e,t){var r=!0;return dFe(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var mFe=pFe,gFe=hFe,vFe=mFe,yFe=jf,xFe=ds,bFe=R5;function wFe(e,t,r){var n=xFe(e)?gFe:vFe;return r&&bFe(e,t,r)&&(t=void 0),n(e,yFe(t))}var _Fe=wFe;const zG=rn(_Fe);var SFe=["x","y"];function pv(e){"@babel/helpers - typeof";return pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pv(e)}function zE(){return zE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zE.apply(this,arguments)}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function qm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){AFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AFe(e,t,r){return t=TFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TFe(e){var t=EFe(e,"string");return pv(t)=="symbol"?t:t+""}function EFe(e,t){if(pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kFe(e,t){if(e==null)return{};var r=PFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function PFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function CFe(e,t){var r=e.x,n=e.y,a=kFe(e,SFe),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return qm(qm(qm(qm(qm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function $R(e){return Ne.createElement(hRe,zE({shapeType:"rectangle",propTransformer:CFe,activeClassName:"recharts-active-bar"},e))}var NFe=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||Xh(),r)}},OFe=["value","background"],qG;function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function IFe(e,t){if(e==null)return{};var r=DFe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function DFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lw.apply(this,arguments)}function BR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ca(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BR(Object(r),!0).forEach(function(n){Ku(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HG(n.key),n)}}function jFe(e,t,r){return t&&VR(e.prototype,t),r&&VR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function MFe(e,t,r){return t=cw(t),RFe(e,WG()?Reflect.construct(t,r||[],cw(e).constructor):t.apply(e,r))}function RFe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return FFe(e)}function FFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WG=function(){return!!e})()}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}function $Fe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function Ku(e,t,r){return t=HG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HG(e){var t=BFe(e,"string");return yp(t)=="symbol"?t:t+""}function BFe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ry=function(e){function t(){var r;LFe(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=MFe(this,t,[].concat(a)),Ku(r,"state",{isAnimationFinished:!1}),Ku(r,"id",Yv("recharts-bar-")),Ku(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Ku(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return $Fe(t,e),jFe(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=yr(this.props,!1);return n&&n.map(function(f,h){var d=h===l,m=d?c:s,p=ca(ca(ca({},u),f),{},{isActive:d,option:m,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Ne.createElement(ta,lw({className:"recharts-bar-rectangle"},_b(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Ne.createElement($R,p))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Ne.createElement(Vc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var m=d.t,p=i.map(function(v,y){var b=h&&h[y];if(b){var _=zo(b.x,v.x),O=zo(b.y,v.y),C=zo(b.width,v.width),N=zo(b.height,v.height);return ca(ca({},v),{},{x:_(m),y:O(m),width:C(m),height:N(m)})}if(s==="horizontal"){var T=zo(0,v.height),S=T(m);return ca(ca({},v),{},{y:v.y+v.height-S,height:S})}var A=zo(0,v.width),D=A(m);return ca(ca({},v),{},{width:D})});return Ne.createElement(ta,null,n.renderRectanglesStatically(p))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!H5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=yr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=IFe(c,OFe);if(!f)return null;var d=ca(ca(ca(ca(ca({},h),{},{fill:"#eee"},f),l),_b(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Ne.createElement($R,lw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=fo(u,ty);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:Rs(v,y)}},m={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ta,m,f.map(function(p){return Ne.cloneElement(p,{key:"error-bar-".concat(a,"-").concat(p.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,m=n.background,p=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Nr("recharts-bar",s),b=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,O=b||_,C=mr(p)?this.id:p;return Ne.createElement(ta,{className:y},b||_?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(C)},Ne.createElement("rect",{x:b?c:c-f/2,y:_?u:u-h/2,width:b?f:f*2,height:_?h:h*2}))):null,Ne.createElement(ta,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(C,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,C),(!d||v)&&ff.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(Z.PureComponent);qG=ry;Ku(ry,"displayName","Bar");Ku(ry,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ku(ry,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=gDe(n,r);if(!d)return null;var m=t.layout,p=r.type.defaultProps,v=p!==void 0?ca(ca({},p),r.props):r.props,y=v.dataKey,b=v.children,_=v.minPointSize,O=m==="horizontal"?s:i,C=c?O.scale.domain():null,N=ADe({numericAxis:O}),T=fo(b,yH),S=f.map(function(A,D){var E,P,j,G,U,Q;c?E=vDe(c[u+D],C):(E=Rs(A,y),Array.isArray(E)||(E=[N,E]));var J=NFe(_,qG.defaultProps.minPointSize)(E[1],D);if(m==="horizontal"){var z,B=[s.scale(E[0]),s.scale(E[1])],ee=B[0],ne=B[1];P=BM({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:A,index:D}),j=(z=ne??ee)!==null&&z!==void 0?z:void 0,G=d.size;var I=ee-ne;if(U=Number.isNaN(I)?0:I,Q={x:P,y:s.y,width:G,height:s.height},Math.abs(J)>0&&Math.abs(U)<Math.abs(J)){var F=Yo(U||J)*(Math.abs(J)-Math.abs(U));j-=F,U+=F}}else{var q=[i.scale(E[0]),i.scale(E[1])],Y=q[0],K=q[1];if(P=Y,j=BM({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:A,index:D}),G=K-Y,U=d.size,Q={x:i.x,y:j,width:i.width,height:U},Math.abs(J)>0&&Math.abs(G)<Math.abs(J)){var le=Yo(G||J)*(Math.abs(J)-Math.abs(G));G+=le}}return ca(ca(ca({},A),{},{x:P,y:j,width:G,height:U,value:c?E:E[1],payload:A,background:Q},T&&T[D]&&T[D].props),{},{tooltipPayload:[AG(r,A)],tooltipPosition:{x:P+G/2,y:j+U/2}})});return ca({data:S,layout:m},h)});function mv(e){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mv(e)}function VFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function UFe(e,t,r){return t&&UR(e.prototype,t),r&&UR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zR(Object(r),!0).forEach(function(n){Q5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Q5(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=zFe(e,"string");return mv(t)=="symbol"?t:t+""}function zFe(e,t){if(mv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qFe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Ts(c,ry);return u.reduce(function(d,m){var p=r[m],v=p.orientation,y=p.domain,b=p.padding,_=b===void 0?{}:b,O=p.mirror,C=p.reversed,N="".concat(v).concat(O?"Mirror":""),T,S,A,D,E;if(p.type==="number"&&(p.padding==="gap"||p.padding==="no-gap")){var P=y[1]-y[0],j=1/0,G=p.categoricalDomain.sort(X5e);if(G.forEach(function(q,Y){Y>0&&(j=Math.min((q||0)-(G[Y-1]||0),j))}),Number.isFinite(j)){var U=j/P,Q=p.layout==="vertical"?n.height:n.width;if(p.padding==="gap"&&(T=U*Q/2),p.padding==="no-gap"){var J=Kh(t.barCategoryGap,U*Q),z=U*Q/2;T=z-J-(z-J)/Q*J}}}a==="xAxis"?S=[n.left+(_.left||0)+(T||0),n.left+n.width-(_.right||0)-(T||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(_.bottom||0),n.top+(_.top||0)]:[n.top+(_.top||0)+(T||0),n.top+n.height-(_.bottom||0)-(T||0)]:S=p.range,C&&(S=[S[1],S[0]]);var B=pDe(p,i,h),ee=B.scale,ne=B.realScaleType;ee.domain(y).range(S),mDe(ee);var I=SDe(ee,Bo(Bo({},p),{},{realScaleType:ne}));a==="xAxis"?(E=v==="top"&&!O||v==="bottom"&&O,A=n.left,D=f[N]-E*p.height):a==="yAxis"&&(E=v==="left"&&!O||v==="right"&&O,A=f[N]-E*p.width,D=n.top);var F=Bo(Bo(Bo({},p),I),{},{realScaleType:ne,x:A,y:D,scale:ee,width:a==="xAxis"?n.width:p.width,height:a==="yAxis"?n.height:p.height});return F.bandSize=Xb(F,I),!p.hide&&a==="xAxis"?f[N]+=(E?-1:1)*F.height:p.hide||(f[N]+=(E?-1:1)*F.width),Bo(Bo({},d),{},Q5({},m,F))},{})},KG=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},WFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return KG({x:r,y:n},{x:a,y:i})},YG=function(){function e(t){VFe(this,e),this.scale=t}return UFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();Q5(YG,"EPS",1e-4);var aN=function(t){var r=Object.keys(t).reduce(function(n,a){return Bo(Bo({},n),{},Q5({},a,YG.create(t[a])))},{});return Bo(Bo({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return uFe(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return zG(a,function(i,s){return r[s].isInRange(i)})}})};function HFe(e){return(e%180+180)%180}var GFe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=HFe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},KFe=jf,YFe=Xv,XFe=j5;function QFe(e){return function(t,r,n){var a=Object(t);if(!YFe(t)){var i=KFe(r);t=XFe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var JFe=QFe,ZFe=$G;function e7e(e){var t=ZFe(e),r=t%1;return t===t?r?t-r:t:0}var t7e=e7e,r7e=nH,n7e=jf,a7e=t7e,i7e=Math.max;function s7e(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:a7e(r);return a<0&&(a=i7e(n+a,0)),r7e(e,n7e(t),a)}var o7e=s7e,l7e=JFe,c7e=o7e,u7e=l7e(c7e),f7e=u7e;const h7e=rn(f7e);var d7e=Jwe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),iN=Z.createContext(void 0),sN=Z.createContext(void 0),XG=Z.createContext(void 0),QG=Z.createContext({}),JG=Z.createContext(void 0),ZG=Z.createContext(0),eK=Z.createContext(0),qR=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=d7e(i);return Ne.createElement(iN.Provider,{value:n},Ne.createElement(sN.Provider,{value:a},Ne.createElement(QG.Provider,{value:i},Ne.createElement(XG.Provider,{value:u},Ne.createElement(JG.Provider,{value:s},Ne.createElement(ZG.Provider,{value:c},Ne.createElement(eK.Provider,{value:l},o)))))))},p7e=function(){return Z.useContext(JG)},tK=function(t){var r=Z.useContext(iN);r==null&&Xh();var n=r[t];return n==null&&Xh(),n},m7e=function(){var t=Z.useContext(iN);return Fu(t)},g7e=function(){var t=Z.useContext(sN),r=h7e(t,function(n){return zG(n.domain,Number.isFinite)});return r||Fu(t)},rK=function(t){var r=Z.useContext(sN);r==null&&Xh();var n=r[t];return n==null&&Xh(),n},v7e=function(){var t=Z.useContext(XG);return t},y7e=function(){return Z.useContext(QG)},oN=function(){return Z.useContext(eK)},lN=function(){return Z.useContext(ZG)};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function x7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aK(n.key),n)}}function w7e(e,t,r){return t&&b7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _7e(e,t,r){return t=uw(t),S7e(e,nK()?Reflect.construct(t,r||[],uw(e).constructor):t.apply(e,r))}function S7e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A7e(e)}function A7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nK=function(){return!!e})()}function uw(e){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uw(e)}function T7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WE(e,t)}function WR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function HR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WR(Object(r),!0).forEach(function(n){cN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cN(e,t,r){return t=aK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=E7e(e,"string");return xp(t)=="symbol"?t:t+""}function E7e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k7e(e,t){return O7e(e)||N7e(e,t)||C7e(e,t)||P7e()}function P7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function C7e(e,t){if(e){if(typeof e=="string")return GR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GR(e,t)}}function GR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function N7e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function O7e(e){if(Array.isArray(e))return e}function HE(){return HE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HE.apply(this,arguments)}var I7e=function(t,r){var n;return Ne.isValidElement(t)?n=Ne.cloneElement(t,r):cr(t)?n=t(r):n=Ne.createElement("line",HE({},r,{className:"recharts-reference-line-line"})),n},D7e=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var m=c.y,p=t.y.apply(m,{position:s});if(jl(c,"discard")&&!t.y.isInRange(p))return null;var v=[{x:u+h,y:p},{x:u,y:p}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if(jl(c,"discard")&&!t.x.isInRange(b))return null;var _=[{x:b,y:f+d},{x:b,y:f}];return o==="top"?_.reverse():_}if(a){var O=c.segment,C=O.map(function(N){return t.apply(N,{position:s})});return jl(c,"discard")&&rFe(C,function(N){return!t.isInRange(N)})?null:C}return null};function L7e(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=p7e(),u=tK(a),f=rK(i),h=v7e();if(!c||!h)return null;wc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=aN({x:u.scale,y:f.scale}),m=wa(t),p=wa(r),v=n&&n.length===2,y=D7e(d,m,p,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=k7e(y,2),_=b[0],O=_.x,C=_.y,N=b[1],T=N.x,S=N.y,A=jl(e,"hidden")?"url(#".concat(c,")"):void 0,D=HR(HR({clipPath:A},yr(e,!0)),{},{x1:O,y1:C,x2:T,y2:S});return Ne.createElement(ta,{className:Nr("recharts-reference-line",o)},I7e(s,D),gi.renderCallByParent(e,WFe({x1:O,y1:C,x2:T,y2:S})))}var uN=function(e){function t(){return x7e(this,t),_7e(this,t,arguments)}return T7e(t,e),w7e(t,[{key:"render",value:function(){return Ne.createElement(L7e,this.props)}}])}(Ne.Component);cN(uN,"displayName","ReferenceLine");cN(uN,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function KR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function YR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KR(Object(r),!0).forEach(function(n){J5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,sK(n.key),n)}}function R7e(e,t,r){return t&&M7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function F7e(e,t,r){return t=fw(t),$7e(e,iK()?Reflect.construct(t,r||[],fw(e).constructor):t.apply(e,r))}function $7e(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return B7e(e)}function B7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iK=function(){return!!e})()}function fw(e){return fw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fw(e)}function V7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KE(e,t)}function KE(e,t){return KE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KE(e,t)}function J5(e,t,r){return t=sK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sK(e){var t=U7e(e,"string");return bp(t)=="symbol"?t:t+""}function U7e(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var z7e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=aN({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return jl(t,"discard")&&!s.isInRange(o)?null:o},Z5=function(e){function t(){return j7e(this,t),F7e(this,t,arguments)}return V7e(t,e),R7e(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=wa(a),u=wa(i);if(wc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=z7e(this.props);if(!f)return null;var h=f.x,d=f.y,m=this.props,p=m.shape,v=m.className,y=jl(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=YR(YR({clipPath:y},yr(this.props,!0)),{},{cx:h,cy:d});return Ne.createElement(ta,{className:Nr("recharts-reference-dot",v)},t.renderDot(p,b),gi.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Ne.Component);J5(Z5,"displayName","ReferenceDot");J5(Z5,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});J5(Z5,"renderDot",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):cr(e)?r=e(t):r=Ne.createElement(nN,GE({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function YE(){return YE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},YE.apply(this,arguments)}function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){e_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W7e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lK(n.key),n)}}function H7e(e,t,r){return t&&W7e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function G7e(e,t,r){return t=hw(t),K7e(e,oK()?Reflect.construct(t,r||[],hw(e).constructor):t.apply(e,r))}function K7e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y7e(e)}function Y7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oK=function(){return!!e})()}function hw(e){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},hw(e)}function X7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},XE(e,t)}function e_(e,t,r){return t=lK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lK(e){var t=Q7e(e,"string");return wp(t)=="symbol"?t:t+""}function Q7e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var J7e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=aN({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},m={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return jl(i,"discard")&&(!h.isInRange(d)||!h.isInRange(m))?null:KG(d,m)},t_=function(e){function t(){return q7e(this,t),G7e(this,t,arguments)}return X7e(t,e),H7e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;wc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wa(a),h=wa(i),d=wa(s),m=wa(o),p=this.props.shape;if(!f&&!h&&!d&&!m&&!p)return null;var v=J7e(f,h,d,m,this.props);if(!v&&!p)return null;var y=jl(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Ne.createElement(ta,{className:Nr("recharts-reference-area",l)},t.renderRect(p,QR(QR({clipPath:y},yr(this.props,!0)),v)),gi.renderCallByParent(this.props,v))}}])}(Ne.Component);e_(t_,"displayName","ReferenceArea");e_(t_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});e_(t_,"renderRect",function(e,t){var r;return Ne.isValidElement(e)?r=Ne.cloneElement(e,t):cr(e)?r=e(t):r=Ne.createElement(rN,YE({},t,{className:"recharts-reference-area-rect"})),r});function cK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function Z7e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return GFe(n,r)}function e9e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function dw(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function t9e(e,t){return cK(e,t+1)}function r9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var m=n==null?void 0:n[l];if(m===void 0)return{v:cK(n,c)};var p=l,v,y=function(){return v===void 0&&(v=r(m,p)),v},b=m.coordinate,_=l===0||dw(e,b,y,u,o);_||(l=0,u=s,c+=1),_&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function gv(e){"@babel/helpers - typeof";return gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gv(e)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){n9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9e(e,t,r){return t=a9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9e(e){var t=i9e(e,"string");return gv(t)=="symbol"?t:t+""}function i9e(e,t){if(gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function s9e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],m,p=function(){return m===void 0&&(m=r(d,h)),m};if(h===s-1){var v=e*(d.coordinate+e*p()/2-l);i[h]=d=fi(fi({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate})}else i[h]=d=fi(fi({},d),{},{tickCoord:d.coordinate});var y=dw(e,d.tickCoord,p,o,l);y&&(l=d.tickCoord-e*(p()/2+a),i[h]=fi(fi({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function o9e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=fi(fi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=dw(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=fi(fi({},u),{},{isShow:!0}))}for(var m=i?o-1:o,p=function(b){var _=s[b],O,C=function(){return O===void 0&&(O=r(_,b)),O};if(b===0){var N=e*(_.coordinate-e*C()/2-l);s[b]=_=fi(fi({},_),{},{tickCoord:N<0?_.coordinate-N*e:_.coordinate})}else s[b]=_=fi(fi({},_),{},{tickCoord:_.coordinate});var T=dw(e,_.tickCoord,C,l,c);T&&(l=_.tickCoord+e*(C()/2+a),s[b]=fi(fi({},_),{},{isShow:!0}))},v=0;v<m;v++)p(v);return s}function fN(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(_t(l)||Sc.isSsr)return t9e(a,typeof l=="number"&&_t(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",m=u&&d==="width"?Rg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},p=function(_,O){var C=cr(c)?c(_.value,O):_.value;return d==="width"?Z7e(Rg(C,{fontSize:t,letterSpacing:r}),m,f):Rg(C,{fontSize:t,letterSpacing:r})[d]},v=a.length>=2?Yo(a[1].coordinate-a[0].coordinate):1,y=e9e(i,v,d);return l==="equidistantPreserveStart"?r9e(v,y,p,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=o9e(v,y,p,a,s,l==="preserveStartEnd"):h=s9e(v,y,p,a,s),h.filter(function(b){return b.isShow}))}var l9e=["viewBox"],c9e=["viewBox"],u9e=["ticks"];function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(this,arguments)}function ZR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZR(Object(r),!0).forEach(function(n){hN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vA(e,t){if(e==null)return{};var r=f9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function h9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,fK(n.key),n)}}function d9e(e,t,r){return t&&eF(e.prototype,t),r&&eF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function p9e(e,t,r){return t=pw(t),m9e(e,uK()?Reflect.construct(t,r||[],pw(e).constructor):t.apply(e,r))}function m9e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(e)}function g9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uK=function(){return!!e})()}function pw(e){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},pw(e)}function v9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function hN(e,t,r){return t=fK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fK(e){var t=y9e(e,"string");return _p(t)=="symbol"?t:t+""}function y9e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nm=function(e){function t(r){var n;return h9e(this,t),n=p9e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return v9e(t,e),d9e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=vA(n,l9e),o=this.props,l=o.viewBox,c=vA(o,c9e);return!j0(i,l)||!j0(s,c)||!j0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,m,p,v,y,b,_=f?-1:1,O=n.tickSize||u,C=_t(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=m=n.coordinate,v=s+ +!f*l,p=v-_*O,b=p-_*h,y=C;break;case"left":p=v=n.coordinate,m=i+ +!f*o,d=m-_*O,y=d-_*h,b=C;break;case"right":p=v=n.coordinate,m=i+ +f*o,d=m+_*O,y=d+_*h,b=C;break;default:d=m=n.coordinate,v=s+ +f*l,p=v+_*O,b=p+_*h,y=C;break}return{line:{x1:d,y1:p,x2:m,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=ji(ji(ji({},yr(this.props,!1)),yr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=ji(ji({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=ji(ji({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Ne.createElement("line",v0({},f,{className:Nr("recharts-cartesian-axis-line",uo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=fN(ji(ji({},this.props),{},{ticks:n}),a,i),m=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),v=yr(this.props,!1),y=yr(u,!1),b=ji(ji({},v),{},{fill:"none"},yr(l,!1)),_=d.map(function(O,C){var N=s.getTickLineCoord(O),T=N.line,S=N.tick,A=ji(ji(ji(ji({textAnchor:m,verticalAnchor:p},v),{},{stroke:"none",fill:c},y),S),{},{index:C,payload:O,visibleTicksCount:d.length,tickFormatter:f});return Ne.createElement(ta,v0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},_b(s.props,O,C)),l&&Ne.createElement("line",v0({},b,T,{className:Nr("recharts-cartesian-axis-tick-line",uo(l,"className"))})),u&&t.renderTickItem(u,A,"".concat(cr(f)?f(O.value,C):O.value).concat(h||"")))});return Ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=vA(f,u9e),m=h;return cr(l)&&(m=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!m||!m.length?null:Ne.createElement(ta,{className:Nr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Ne.isValidElement(n)?s=Ne.cloneElement(n,a):cr(n)?s=n(a):s=Ne.createElement(Mb,v0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(Z.Component);hN(nm,"displayName","CartesianAxis");hN(nm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var x9e=["x1","y1","x2","y2","key"],b9e=["offset"];function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function tF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tF(Object(r),!0).forEach(function(n){w9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w9e(e,t,r){return t=_9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9e(e){var t=S9e(e,"string");return Qh(t)=="symbol"?t:t+""}function S9e(e,t){if(Qh(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Eh(){return Eh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Eh.apply(this,arguments)}function rF(e,t){if(e==null)return{};var r=A9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var T9e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Ne.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function hK(e,t){var r;if(Ne.isValidElement(e))r=Ne.cloneElement(e,t);else if(cr(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=rF(t,x9e),c=yr(l,!1);c.offset;var u=rF(c,b9e);r=Ne.createElement("line",Eh({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function E9e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=vi(vi({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return hK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function k9e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=vi(vi({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return hK(a,c)});return Ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function P9e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],p=m?a+s-h:u[d+1]-h;if(p<=0)return null;var v=d%t.length;return Ne.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:p,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function C9e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var m=!u[d+1],p=m?i+o-h:u[d+1]-h;if(p<=0)return null;var v=d%n.length;return Ne.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:p,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var N9e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return _G(fN(vi(vi(vi({},nm.defaultProps),n),{},{ticks:gc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},O9e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return _G(fN(vi(vi(vi({},nm.defaultProps),n),{},{ticks:gc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},zd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function a2(e){var t,r,n,a,i,s,o=oN(),l=lN(),c=y7e(),u=vi(vi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:zd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:zd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:zd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:zd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:zd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:zd.verticalFill,x:_t(e.x)?e.x:c.left,y:_t(e.y)?e.y:c.top,width:_t(e.width)?e.width:c.width,height:_t(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,m=u.height,p=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=m7e(),_=g7e();if(!_t(d)||d<=0||!_t(m)||m<=0||!_t(f)||f!==+f||!_t(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||N9e,C=u.horizontalCoordinatesGenerator||O9e,N=u.horizontalPoints,T=u.verticalPoints;if((!N||!N.length)&&cr(C)){var S=v&&v.length,A=C({yAxis:_?vi(vi({},_),{},{ticks:S?v:_.ticks}):void 0,width:o,height:l,offset:c},S?!0:p);wc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Qh(A),"]")),Array.isArray(A)&&(N=A)}if((!T||!T.length)&&cr(O)){var D=y&&y.length,E=O({xAxis:b?vi(vi({},b),{},{ticks:D?y:b.ticks}):void 0,width:o,height:l,offset:c},D?!0:p);wc(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Qh(E),"]")),Array.isArray(E)&&(T=E)}return Ne.createElement("g",{className:"recharts-cartesian-grid"},Ne.createElement(T9e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Ne.createElement(E9e,Eh({},u,{offset:c,horizontalPoints:N,xAxis:b,yAxis:_})),Ne.createElement(k9e,Eh({},u,{offset:c,verticalPoints:T,xAxis:b,yAxis:_})),Ne.createElement(P9e,Eh({},u,{horizontalPoints:N})),Ne.createElement(C9e,Eh({},u,{verticalPoints:T})))}a2.displayName="CartesianGrid";var I9e=["type","layout","connectNulls","ref"],D9e=["key"];function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function nF(e,t){if(e==null)return{};var r=L9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function L9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function aF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aF(Object(r),!0).forEach(function(n){Vo(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qd(e){return F9e(e)||R9e(e)||M9e(e)||j9e()}function j9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M9e(e,t){if(e){if(typeof e=="string")return JE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JE(e,t)}}function R9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function F9e(e){if(Array.isArray(e))return JE(e)}function JE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iF(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function B9e(e,t,r){return t&&iF(e.prototype,t),r&&iF(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function V9e(e,t,r){return t=mw(t),U9e(e,dK()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function U9e(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z9e(e)}function z9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function q9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZE(e,t)}function ZE(e,t){return ZE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZE(e,t)}function Vo(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=W9e(e,"string");return Sp(t)=="symbol"?t:t+""}function W9e(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wl=function(e){function t(){var r;$9e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=V9e(this,t,[].concat(a)),Vo(r,"state",{isAnimationFinished:!0,totalLength:0}),Vo(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Vo(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],m=0,p=0;m<l.length;p+=l[m],++m)if(p+l[m]>f){d=[].concat(qd(l.slice(0,m)),[f-p]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(qd(t.repeat(l,u)),qd(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Vo(r,"id",Yv("recharts-line-")),Vo(r,"pathRef",function(s){r.mainCurve=s}),Vo(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Vo(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return q9e(t,e),B9e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=fo(u,ty);if(!f)return null;var h=function(p,v){return{x:p.x,y:p.y,value:p.value,errorVal:Rs(p.payload,v)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Ne.createElement(ta,d,f.map(function(m){return Ne.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=yr(this.props,!1),h=yr(l,!0),d=c.map(function(p,v){var y=_s(_s(_s({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:p.x,cy:p.y,value:p.value,dataKey:u,payload:p.payload,points:c});return t.renderDotItem(l,y)}),m={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Ne.createElement(ta,Vg({className:"recharts-line-dots",key:"dots"},m),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=nF(o,I9e),h=_s(_s(_s({},yr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Ne.createElement(NE,Vg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,m=s.animateNewValues,p=s.width,v=s.height,y=this.state,b=y.prevPoints,_=y.totalLength;return Ne.createElement(Vc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var C=O.t;if(b){var N=b.length/o.length,T=o.map(function(P,j){var G=Math.floor(j*N);if(b[G]){var U=b[G],Q=zo(U.x,P.x),J=zo(U.y,P.y);return _s(_s({},P),{},{x:Q(C),y:J(C)})}if(m){var z=zo(p*2,P.x),B=zo(v/2,P.y);return _s(_s({},P),{},{x:z(C),y:B(C)})}return _s(_s({},P),{},{x:P.x,y:P.y})});return i.renderCurveStatically(T,n,a)}var S=zo(0,_),A=S(C),D;if(l){var E="".concat(l).split(/[,\s]+/gim).map(function(P){return parseFloat(P)});D=i.getStrokeDasharray(A,_,E)}else D=i.generateSimpleStrokeDasharray(_,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!H5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,m=a.height,p=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,_=Nr("recharts-line",l),O=c&&c.allowDataOverflow,C=u&&u.allowDataOverflow,N=O||C,T=mr(v)?this.id:v,S=(n=yr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,D=A===void 0?3:A,E=S.strokeWidth,P=E===void 0?2:E,j=i_e(s)?s:{},G=j.clipDot,U=G===void 0?!0:G,Q=D*2+P;return Ne.createElement(ta,{className:_},O||C?Ne.createElement("defs",null,Ne.createElement("clipPath",{id:"clipPath-".concat(T)},Ne.createElement("rect",{x:O?h:h-d/2,y:C?f:f-m/2,width:O?d:d*2,height:C?m:m*2})),!U&&Ne.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Ne.createElement("rect",{x:h-Q/2,y:f-Q/2,width:d+Q,height:m+Q}))):null,!b&&this.renderCurve(N,T),this.renderErrorBar(N,T),(b||s)&&this.renderDots(N,U,T),(!p||y)&&ff.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(qd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(qd(s),qd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Ne.isValidElement(n))i=Ne.cloneElement(n,a);else if(cr(n))i=n(a);else{var s=a.key,o=nF(a,D9e),l=Nr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Ne.createElement(nN,Vg({key:s},o,{className:l}))}return i}}])}(Z.PureComponent);Vo(wl,"displayName","Line");Vo(wl,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Vo(wl,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var m=Rs(h,s);return u==="horizontal"?{x:$M({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:mr(m)?null:n.scale(m),value:m,payload:h}:{x:mr(m)?null:r.scale(m),y:$M({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:m,payload:h}});return _s({points:f,layout:u},c)});function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function H9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vK(n.key),n)}}function K9e(e,t,r){return t&&G9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y9e(e,t,r){return t=gw(t),X9e(e,mK()?Reflect.construct(t,r||[],gw(e).constructor):t.apply(e,r))}function X9e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q9e(e)}function Q9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function gw(e){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(e)}function J9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}function e3(e,t){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(e,t)}function gK(e,t,r){return t=vK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vK(e){var t=Z9e(e,"string");return Ap(t)=="symbol"?t:t+""}function Z9e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t3(){return t3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t3.apply(this,arguments)}function e$e(e){var t=e.xAxisId,r=oN(),n=lN(),a=tK(t);return a==null?null:Ne.createElement(nm,t3({},a,{className:Nr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return gc(s,!0)}}))}var F0=function(e){function t(){return H9e(this,t),Y9e(this,t,arguments)}return J9e(t,e),K9e(t,[{key:"render",value:function(){return Ne.createElement(e$e,this.props)}}])}(Ne.Component);gK(F0,"displayName","XAxis");gK(F0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function t$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,bK(n.key),n)}}function n$e(e,t,r){return t&&r$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a$e(e,t,r){return t=vw(t),i$e(e,yK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function i$e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s$e(e)}function s$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function o$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},r3(e,t)}function xK(e,t,r){return t=bK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bK(e){var t=l$e(e,"string");return Tp(t)=="symbol"?t:t+""}function l$e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n3.apply(this,arguments)}var c$e=function(t){var r=t.yAxisId,n=oN(),a=lN(),i=rK(r);return i==null?null:Ne.createElement(nm,n3({},i,{className:Nr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return gc(o,!0)}}))},$0=function(e){function t(){return t$e(this,t),a$e(this,t,arguments)}return o$e(t,e),n$e(t,[{key:"render",value:function(){return Ne.createElement(c$e,this.props)}}])}(Ne.Component);xK($0,"displayName","YAxis");xK($0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function sF(e){return d$e(e)||h$e(e)||f$e(e)||u$e()}function u$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f$e(e,t){if(e){if(typeof e=="string")return a3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a3(e,t)}}function h$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d$e(e){if(Array.isArray(e))return a3(e)}function a3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var i3=function(t,r,n,a,i){var s=fo(t,uN),o=fo(t,Z5),l=[].concat(sF(s),sF(o)),c=fo(t,t_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(p,v){if(v.props[u]===n&&jl(v.props,"extendDomain")&&_t(v.props[f])){var y=v.props[f];return[Math.min(p[0],y),Math.max(p[1],y)]}return p},h)),c.length){var d="".concat(f,"1"),m="".concat(f,"2");h=c.reduce(function(p,v){if(v.props[u]===n&&jl(v.props,"extendDomain")&&_t(v.props[d])&&_t(v.props[m])){var y=v.props[d],b=v.props[m];return[Math.min(p[0],y,b),Math.max(p[1],y,b)]}return p},h)}return i&&i.length&&(h=i.reduce(function(p,v){return _t(v)?[Math.min(p[0],v),Math.max(p[1],v)]:p},h)),h},wK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),m=r?r+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],d]:l._events[m].push(d):(l._events[m]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,m=new Array(d);h<d;h++)m[h]=f[h].fn;return m},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,m){var p=r?r+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,b,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,m),!0}for(_=1,b=new Array(y-1);_<y;_++)b[_-1]=arguments[_];v.fn.apply(v.context,b)}else{var O=v.length,C;for(_=0;_<O;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,f);break;case 4:v[_].fn.call(v[_].context,u,f,h);break;default:if(!b)for(C=1,b=new Array(y-1);C<y;C++)b[C-1]=arguments[C];v[_].fn.apply(v[_].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var m=this._events[d];if(m.fn)m.fn===u&&(!h||m.once)&&(!f||m.context===f)&&s(this,d);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||h&&!m[p].once||f&&m[p].context!==f)&&v.push(m[p]);v.length?this._events[d]=v.length===1?v[0]:v:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(wK);var p$e=wK.exports;const m$e=rn(p$e);var yA=new m$e,xA="recharts.syncMouseEvents";function vv(e){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vv(e)}function g$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_K(n.key),n)}}function y$e(e,t,r){return t&&v$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bA(e,t,r){return t=_K(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _K(e){var t=x$e(e,"string");return vv(t)=="symbol"?t:t+""}function x$e(e,t){if(vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var b$e=function(){function e(){g$e(this,e),bA(this,"activeIndex",0),bA(this,"coordinateList",[]),bA(this,"layout","horizontal")}return y$e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function w$e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&_t(n)&&_t(a))return!0}return!1}function _$e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=Ka(t,r,n,a),o=Ka(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function S$e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=Ka(o,l,c,f),d=Ka(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return SK(t);return[{x:n,y:a},{x:i,y:s}]}function yv(e){"@babel/helpers - typeof";return yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yv(e)}function oF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Px(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oF(Object(r),!0).forEach(function(n){A$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A$e(e,t,r){return t=T$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T$e(e){var t=E$e(e,"string");return yv(t)=="symbol"?t:t+""}function E$e(e,t){if(yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k$e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var m,p=NE;if(h==="ScatterChart")m=s,p=EMe;else if(h==="BarChart")m=_$e(f,s,l,u),p=rN;else if(f==="radial"){var v=SK(s),y=v.cx,b=v.cy,_=v.radius,O=v.startAngle,C=v.endAngle;m={cx:y,cy:b,startAngle:O,endAngle:C,innerRadius:_,outerRadius:_},p=kG}else m={points:S$e(f,s,l)},p=NE;var N=Px(Px(Px(Px({stroke:"#ccc",pointerEvents:"none"},l),m),yr(d,!1)),{},{payload:o,payloadIndex:c,className:Nr("recharts-tooltip-cursor",d.className)});return Z.isValidElement(d)?Z.cloneElement(d,N):Z.createElement(p,N)}var P$e=["item"],C$e=["children","className","width","height","style","compact","title","desc"];function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(this,arguments)}function lF(e,t){return I$e(e)||O$e(e,t)||TK(e,t)||N$e()}function N$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O$e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function I$e(e){if(Array.isArray(e))return e}function cF(e,t){if(e==null)return{};var r=D$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function L$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EK(n.key),n)}}function M$e(e,t,r){return t&&j$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function R$e(e,t,r){return t=yw(t),F$e(e,AK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function F$e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $$e(e)}function $$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function B$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function kp(e){return z$e(e)||U$e(e)||TK(e)||V$e()}function V$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TK(e,t){if(e){if(typeof e=="string")return o3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o3(e,t)}}function U$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function z$e(e){if(Array.isArray(e))return o3(e)}function o3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uF(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uF(Object(r),!0).forEach(function(n){zt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uF(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zt(e,t,r){return t=EK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=q$e(e,"string");return Ep(t)=="symbol"?t:t+""}function q$e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W$e={xAxis:["bottom","top"],yAxis:["left","right"]},H$e={width:"100%",height:"100%"},kK={x:0,y:0};function Cx(e){return e}var G$e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},K$e=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return et(et(et({},a),Ka(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return et(et(et({},a),Ka(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return kK},r_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(kp(o),kp(c)):o},[]);return s.length>0?s:t&&t.length&&_t(a)&&_t(i)?t.slice(a,i+1):[]};function PK(e){return e==="number"?[0,"auto"]:void 0}var l3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=r_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=bb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(kp(l),[AG(c,h)]):l},[])},fF=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=G$e(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=lDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=l3(t,r,u,f),d=K$e(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},Y$e=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=wG(u,i);return n.reduce(function(m,p){var v,y=p.type.defaultProps!==void 0?et(et({},p.type.defaultProps),p.props):p.props,b=y.type,_=y.dataKey,O=y.allowDataOverflow,C=y.allowDuplicatedCategory,N=y.scale,T=y.ticks,S=y.includeHidden,A=y[s];if(m[A])return m;var D=r_(t.data,{graphicalItems:a.filter(function(I){var F,q=s in I.props?I.props[s]:(F=I.type.defaultProps)===null||F===void 0?void 0:F[s];return q===A}),dataStartIndex:l,dataEndIndex:c}),E=D.length,P,j,G;w$e(y.domain,O,b)&&(P=TE(y.domain,null,O),d&&(b==="number"||N!=="auto")&&(G=$g(D,_,"category")));var U=PK(b);if(!P||P.length===0){var Q,J=(Q=y.domain)!==null&&Q!==void 0?Q:U;if(_){if(P=$g(D,_,b),b==="category"&&d){var z=Y5e(P);C&&z?(j=P,P=iw(0,E)):C||(P=zM(J,P,p).reduce(function(I,F){return I.indexOf(F)>=0?I:[].concat(kp(I),[F])},[]))}else if(b==="category")C?P=P.filter(function(I){return I!==""&&!mr(I)}):P=zM(J,P,p).reduce(function(I,F){return I.indexOf(F)>=0||F===""||mr(F)?I:[].concat(kp(I),[F])},[]);else if(b==="number"){var B=dDe(D,a.filter(function(I){var F,q,Y=s in I.props?I.props[s]:(F=I.type.defaultProps)===null||F===void 0?void 0:F[s],K="hide"in I.props?I.props.hide:(q=I.type.defaultProps)===null||q===void 0?void 0:q.hide;return Y===A&&(S||!K)}),_,i,u);B&&(P=B)}d&&(b==="number"||N!=="auto")&&(G=$g(D,_,"category"))}else d?P=iw(0,E):o&&o[A]&&o[A].hasStack&&b==="number"?P=h==="expand"?[0,1]:SG(o[A].stackGroups,l,c):P=bG(D,a.filter(function(I){var F=s in I.props?I.props[s]:I.type.defaultProps[s],q="hide"in I.props?I.props.hide:I.type.defaultProps.hide;return F===A&&(S||!q)}),b,u,!0);if(b==="number")P=i3(f,P,A,i,T),J&&(P=TE(J,P,O));else if(b==="category"&&J){var ee=J,ne=P.every(function(I){return ee.indexOf(I)>=0});ne&&(P=ee)}}return et(et({},m),{},zt({},A,et(et({},y),{},{axisType:i,domain:P,categoricalDomain:G,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:U,isCategorical:d,layout:u})))},{})},X$e=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=r_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,m=wG(u,i),p=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?et(et({},y.type.defaultProps),y.props):y.props,_=b[s],O=PK("number");if(!v[_]){p++;var C;return m?C=iw(0,d):o&&o[_]&&o[_].hasStack?(C=SG(o[_].stackGroups,l,c),C=i3(f,C,_,i)):(C=TE(O,bG(h,n.filter(function(N){var T,S,A=s in N.props?N.props[s]:(T=N.type.defaultProps)===null||T===void 0?void 0:T[s],D="hide"in N.props?N.props.hide:(S=N.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===_&&!D}),"number",u),a.defaultProps.allowDataOverflow),C=i3(f,C,_,i)),et(et({},v),{},zt({},_,et(et({axisType:i},a.defaultProps),{},{hide:!0,orientation:uo(W$e,"".concat(i,".").concat(p%2),null),domain:C,originalDomain:O,isCategorical:m,layout:u})))}return v},{})},Q$e=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=fo(u,i),d={};return h&&h.length?d=Y$e(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=X$e(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},J$e=function(t){var r=Fu(t),n=gc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:CC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Xb(r,n)}},hF=function(t){var r=t.children,n=t.defaultShowTooltip,a=Ts(r,vp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Z$e=function(t){return!t||!t.length?!1:t.some(function(r){var n=bc(r&&r.type);return n&&n.indexOf("Bar")>=0})},dF=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},eBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Ts(f,vp),m=Ts(f,_c),p=Object.keys(l).reduce(function(C,N){var T=l[N],S=T.orientation;return!T.mirror&&!T.hide?et(et({},C),{},zt({},S,C[S]+T.width)):C},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(C,N){var T=s[N],S=T.orientation;return!T.mirror&&!T.hide?et(et({},C),{},zt({},S,uo(C,"".concat(S))+T.height)):C},{top:h.top||0,bottom:h.bottom||0}),y=et(et({},v),p),b=y.bottom;d&&(y.bottom+=d.props.height||vp.defaultProps.height),m&&r&&(y=fDe(y,a,n,r));var _=c-y.left-y.right,O=u-y.top-y.bottom;return et(et({brushBottom:b},y),{},{width:Math.max(_,0),height:Math.max(O,0)})},tBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},rBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var _=b.graphicalItems,O=b.stackGroups,C=b.offset,N=b.updateId,T=b.dataStartIndex,S=b.dataEndIndex,A=y.barSize,D=y.layout,E=y.barGap,P=y.barCategoryGap,j=y.maxBarSize,G=dF(D),U=G.numericAxisName,Q=G.cateAxisName,J=Z$e(_),z=[];return _.forEach(function(B,ee){var ne=r_(y.data,{graphicalItems:[B],dataStartIndex:T,dataEndIndex:S}),I=B.type.defaultProps!==void 0?et(et({},B.type.defaultProps),B.props):B.props,F=I.dataKey,q=I.maxBarSize,Y=I["".concat(U,"Id")],K=I["".concat(Q,"Id")],le={},ce=l.reduce(function(Re,Qe){var je=b["".concat(Qe.axisType,"Map")],Ke=I["".concat(Qe.axisType,"Id")];je&&je[Ke]||Qe.axisType==="zAxis"||Xh();var ot=je[Ke];return et(et({},Re),{},zt(zt({},Qe.axisType,ot),"".concat(Qe.axisType,"Ticks"),gc(ot)))},le),X=ce[Q],he=ce["".concat(Q,"Ticks")],de=O&&O[Y]&&O[Y].hasStack&&TDe(B,O[Y].stackGroups),H=bc(B.type).indexOf("Bar")>=0,Ae=Xb(X,he),Ee=[],Se=J&&cDe({barSize:A,stackGroups:O,totalSize:tBe(ce,Q)});if(H){var ae,Ce,Me=mr(q)?j:q,Be=(ae=(Ce=Xb(X,he,!0))!==null&&Ce!==void 0?Ce:Me)!==null&&ae!==void 0?ae:0;Ee=uDe({barGap:E,barCategoryGap:P,bandSize:Be!==Ae?Be:Ae,sizeList:Se[K],maxBarSize:Me}),Be!==Ae&&(Ee=Ee.map(function(Re){return et(et({},Re),{},{position:et(et({},Re.position),{},{offset:Re.position.offset-Be/2})})}))}var Ze=B&&B.type&&B.type.getComposedData;Ze&&z.push({props:et(et({},Ze(et(et({},ce),{},{displayedData:ne,props:y,dataKey:F,item:B,bandSize:Ae,barPosition:Ee,offset:C,stackedData:de,layout:D,dataStartIndex:T,dataEndIndex:S}))),{},zt(zt(zt({key:B.key||"item-".concat(ee)},U,ce[U]),Q,ce[Q]),"animationId",N)),childIndex:l_e(B,y.children),item:B})}),z},d=function(y,b){var _=y.props,O=y.dataStartIndex,C=y.dataEndIndex,N=y.updateId;if(!ML({props:_}))return null;var T=_.children,S=_.layout,A=_.stackOffset,D=_.data,E=_.reverseStackOrder,P=dF(S),j=P.numericAxisName,G=P.cateAxisName,U=fo(T,n),Q=_De(D,U,"".concat(j,"Id"),"".concat(G,"Id"),A,E),J=l.reduce(function(I,F){var q="".concat(F.axisType,"Map");return et(et({},I),{},zt({},q,Q$e(_,et(et({},F),{},{graphicalItems:U,stackGroups:F.axisType===j&&Q,dataStartIndex:O,dataEndIndex:C}))))},{}),z=eBe(et(et({},J),{},{props:_,graphicalItems:U}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(I){J[I]=u(_,J[I],z,I.replace("Map",""),r)});var B=J["".concat(G,"Map")],ee=J$e(B),ne=h(_,et(et({},J),{},{dataStartIndex:O,dataEndIndex:C,updateId:N,graphicalItems:U,stackGroups:Q,offset:z}));return et(et({formattedGraphicalItems:ne,graphicalItems:U,offset:z,stackGroups:Q},ee),J)},m=function(v){function y(b){var _,O,C;return L$e(this,y),C=R$e(this,y,[b]),zt(C,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),zt(C,"accessibilityManager",new b$e),zt(C,"handleLegendBBoxUpdate",function(N){if(N){var T=C.state,S=T.dataStartIndex,A=T.dataEndIndex,D=T.updateId;C.setState(et({legendBBox:N},d({props:C.props,dataStartIndex:S,dataEndIndex:A,updateId:D},et(et({},C.state),{},{legendBBox:N}))))}}),zt(C,"handleReceiveSyncEvent",function(N,T,S){if(C.props.syncId===N){if(S===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(T)}}),zt(C,"handleBrushChange",function(N){var T=N.startIndex,S=N.endIndex;if(T!==C.state.dataStartIndex||S!==C.state.dataEndIndex){var A=C.state.updateId;C.setState(function(){return et({dataStartIndex:T,dataEndIndex:S},d({props:C.props,dataStartIndex:T,dataEndIndex:S,updateId:A},C.state))}),C.triggerSyncEvent({dataStartIndex:T,dataEndIndex:S})}}),zt(C,"handleMouseEnter",function(N){var T=C.getMouseInfo(N);if(T){var S=et(et({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseEnter;cr(A)&&A(S,N)}}),zt(C,"triggeredAfterMouseMove",function(N){var T=C.getMouseInfo(N),S=T?et(et({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(S),C.triggerSyncEvent(S);var A=C.props.onMouseMove;cr(A)&&A(S,N)}),zt(C,"handleItemMouseEnter",function(N){C.setState(function(){return{isTooltipActive:!0,activeItem:N,activePayload:N.tooltipPayload,activeCoordinate:N.tooltipPosition||{x:N.cx,y:N.cy}}})}),zt(C,"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),zt(C,"handleMouseMove",function(N){N.persist(),C.throttleTriggeredAfterMouseMove(N)}),zt(C,"handleMouseLeave",function(N){C.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};C.setState(T),C.triggerSyncEvent(T);var S=C.props.onMouseLeave;cr(S)&&S(T,N)}),zt(C,"handleOuterEvent",function(N){var T=o_e(N),S=uo(C.props,"".concat(T));if(T&&cr(S)){var A,D;/.*touch.*/i.test(T)?D=C.getMouseInfo(N.changedTouches[0]):D=C.getMouseInfo(N),S((A=D)!==null&&A!==void 0?A:{},N)}}),zt(C,"handleClick",function(N){var T=C.getMouseInfo(N);if(T){var S=et(et({},T),{},{isTooltipActive:!0});C.setState(S),C.triggerSyncEvent(S);var A=C.props.onClick;cr(A)&&A(S,N)}}),zt(C,"handleMouseDown",function(N){var T=C.props.onMouseDown;if(cr(T)){var S=C.getMouseInfo(N);T(S,N)}}),zt(C,"handleMouseUp",function(N){var T=C.props.onMouseUp;if(cr(T)){var S=C.getMouseInfo(N);T(S,N)}}),zt(C,"handleTouchMove",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(N.changedTouches[0])}),zt(C,"handleTouchStart",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseDown(N.changedTouches[0])}),zt(C,"handleTouchEnd",function(N){N.changedTouches!=null&&N.changedTouches.length>0&&C.handleMouseUp(N.changedTouches[0])}),zt(C,"handleDoubleClick",function(N){var T=C.props.onDoubleClick;if(cr(T)){var S=C.getMouseInfo(N);T(S,N)}}),zt(C,"handleContextMenu",function(N){var T=C.props.onContextMenu;if(cr(T)){var S=C.getMouseInfo(N);T(S,N)}}),zt(C,"triggerSyncEvent",function(N){C.props.syncId!==void 0&&yA.emit(xA,C.props.syncId,N,C.eventEmitterSymbol)}),zt(C,"applySyncEvent",function(N){var T=C.props,S=T.layout,A=T.syncMethod,D=C.state.updateId,E=N.dataStartIndex,P=N.dataEndIndex;if(N.dataStartIndex!==void 0||N.dataEndIndex!==void 0)C.setState(et({dataStartIndex:E,dataEndIndex:P},d({props:C.props,dataStartIndex:E,dataEndIndex:P,updateId:D},C.state)));else if(N.activeTooltipIndex!==void 0){var j=N.chartX,G=N.chartY,U=N.activeTooltipIndex,Q=C.state,J=Q.offset,z=Q.tooltipTicks;if(!J)return;if(typeof A=="function")U=A(z,N);else if(A==="value"){U=-1;for(var B=0;B<z.length;B++)if(z[B].value===N.activeLabel){U=B;break}}var ee=et(et({},J),{},{x:J.left,y:J.top}),ne=Math.min(j,ee.x+ee.width),I=Math.min(G,ee.y+ee.height),F=z[U]&&z[U].value,q=l3(C.state,C.props.data,U),Y=z[U]?{x:S==="horizontal"?z[U].coordinate:ne,y:S==="horizontal"?I:z[U].coordinate}:kK;C.setState(et(et({},N),{},{activeLabel:F,activeCoordinate:Y,activePayload:q,activeTooltipIndex:U}))}else C.setState(N)}),zt(C,"renderCursor",function(N){var T,S=C.state,A=S.isTooltipActive,D=S.activeCoordinate,E=S.activePayload,P=S.offset,j=S.activeTooltipIndex,G=S.tooltipAxisBandSize,U=C.getTooltipEventType(),Q=(T=N.props.active)!==null&&T!==void 0?T:A,J=C.props.layout,z=N.key||"_recharts-cursor";return Ne.createElement(k$e,{key:z,activeCoordinate:D,activePayload:E,activeTooltipIndex:j,chartName:r,element:N,isActive:Q,layout:J,offset:P,tooltipAxisBandSize:G,tooltipEventType:U})}),zt(C,"renderPolarAxis",function(N,T,S){var A=uo(N,"type.axisType"),D=uo(C.state,"".concat(A,"Map")),E=N.type.defaultProps,P=E!==void 0?et(et({},E),N.props):N.props,j=D&&D[P["".concat(A,"Id")]];return Z.cloneElement(N,et(et({},j),{},{className:Nr(A,j.className),key:N.key||"".concat(T,"-").concat(S),ticks:gc(j,!0)}))}),zt(C,"renderPolarGrid",function(N){var T=N.props,S=T.radialLines,A=T.polarAngles,D=T.polarRadius,E=C.state,P=E.radiusAxisMap,j=E.angleAxisMap,G=Fu(P),U=Fu(j),Q=U.cx,J=U.cy,z=U.innerRadius,B=U.outerRadius;return Z.cloneElement(N,{polarAngles:Array.isArray(A)?A:gc(U,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(D)?D:gc(G,!0).map(function(ee){return ee.coordinate}),cx:Q,cy:J,innerRadius:z,outerRadius:B,key:N.key||"polar-grid",radialLines:S})}),zt(C,"renderLegend",function(){var N=C.state.formattedGraphicalItems,T=C.props,S=T.children,A=T.width,D=T.height,E=C.props.margin||{},P=A-(E.left||0)-(E.right||0),j=yG({children:S,formattedGraphicalItems:N,legendWidth:P,legendContent:c});if(!j)return null;var G=j.item,U=cF(j,P$e);return Z.cloneElement(G,et(et({},U),{},{chartWidth:A,chartHeight:D,margin:E,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),zt(C,"renderTooltip",function(){var N,T=C.props,S=T.children,A=T.accessibilityLayer,D=Ts(S,no);if(!D)return null;var E=C.state,P=E.isTooltipActive,j=E.activeCoordinate,G=E.activePayload,U=E.activeLabel,Q=E.offset,J=(N=D.props.active)!==null&&N!==void 0?N:P;return Z.cloneElement(D,{viewBox:et(et({},Q),{},{x:Q.left,y:Q.top}),active:J,label:U,payload:J?G:[],coordinate:j,accessibilityLayer:A})}),zt(C,"renderBrush",function(N){var T=C.props,S=T.margin,A=T.data,D=C.state,E=D.offset,P=D.dataStartIndex,j=D.dataEndIndex,G=D.updateId;return Z.cloneElement(N,{key:N.key||"_recharts-brush",onChange:Ax(C.handleBrushChange,N.props.onChange),data:A,x:_t(N.props.x)?N.props.x:E.left,y:_t(N.props.y)?N.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:_t(N.props.width)?N.props.width:E.width,startIndex:P,endIndex:j,updateId:"brush-".concat(G)})}),zt(C,"renderReferenceElement",function(N,T,S){if(!N)return null;var A=C,D=A.clipPathId,E=C.state,P=E.xAxisMap,j=E.yAxisMap,G=E.offset,U=N.type.defaultProps||{},Q=N.props,J=Q.xAxisId,z=J===void 0?U.xAxisId:J,B=Q.yAxisId,ee=B===void 0?U.yAxisId:B;return Z.cloneElement(N,{key:N.key||"".concat(T,"-").concat(S),xAxis:P[z],yAxis:j[ee],viewBox:{x:G.left,y:G.top,width:G.width,height:G.height},clipPathId:D})}),zt(C,"renderActivePoints",function(N){var T=N.item,S=N.activePoint,A=N.basePoint,D=N.childIndex,E=N.isRange,P=[],j=T.props.key,G=T.item.type.defaultProps!==void 0?et(et({},T.item.type.defaultProps),T.item.props):T.item.props,U=G.activeDot,Q=G.dataKey,J=et(et({index:D,dataKey:Q,cx:S.x,cy:S.y,r:4,fill:tN(T.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},yr(U,!1)),wb(U));return P.push(y.renderActiveDot(U,J,"".concat(j,"-activePoint-").concat(D))),A?P.push(y.renderActiveDot(U,et(et({},J),{},{cx:A.x,cy:A.y}),"".concat(j,"-basePoint-").concat(D))):E&&P.push(null),P}),zt(C,"renderGraphicChild",function(N,T,S){var A=C.filterFormatItem(N,T,S);if(!A)return null;var D=C.getTooltipEventType(),E=C.state,P=E.isTooltipActive,j=E.tooltipAxis,G=E.activeTooltipIndex,U=E.activeLabel,Q=C.props.children,J=Ts(Q,no),z=A.props,B=z.points,ee=z.isRange,ne=z.baseLine,I=A.item.type.defaultProps!==void 0?et(et({},A.item.type.defaultProps),A.item.props):A.item.props,F=I.activeDot,q=I.hide,Y=I.activeBar,K=I.activeShape,le=!!(!q&&P&&J&&(F||Y||K)),ce={};D!=="axis"&&J&&J.props.trigger==="click"?ce={onClick:Ax(C.handleItemMouseEnter,N.props.onClick)}:D!=="axis"&&(ce={onMouseLeave:Ax(C.handleItemMouseLeave,N.props.onMouseLeave),onMouseEnter:Ax(C.handleItemMouseEnter,N.props.onMouseEnter)});var X=Z.cloneElement(N,et(et({},A.props),ce));function he(Qe){return typeof j.dataKey=="function"?j.dataKey(Qe.payload):null}if(le)if(G>=0){var de,H;if(j.dataKey&&!j.allowDuplicatedCategory){var Ae=typeof j.dataKey=="function"?he:"payload.".concat(j.dataKey.toString());de=bb(B,Ae,U),H=ee&&ne&&bb(ne,Ae,U)}else de=B==null?void 0:B[G],H=ee&&ne&&ne[G];if(K||Y){var Ee=N.props.activeIndex!==void 0?N.props.activeIndex:G;return[Z.cloneElement(N,et(et(et({},A.props),ce),{},{activeIndex:Ee})),null,null]}if(!mr(de))return[X].concat(kp(C.renderActivePoints({item:A,activePoint:de,basePoint:H,childIndex:G,isRange:ee})))}else{var Se,ae=(Se=C.getItemByXY(C.state.activeCoordinate))!==null&&Se!==void 0?Se:{graphicalItem:X},Ce=ae.graphicalItem,Me=Ce.item,Be=Me===void 0?N:Me,Ze=Ce.childIndex,Re=et(et(et({},A.props),ce),{},{activeIndex:Ze});return[Z.cloneElement(Be,Re),null,null]}return ee?[X,null,null]:[X,null]}),zt(C,"renderCustomized",function(N,T,S){return Z.cloneElement(N,et(et({key:"recharts-customized-".concat(S)},C.props),C.state))}),zt(C,"renderMap",{CartesianGrid:{handler:Cx,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:Cx},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:Cx},YAxis:{handler:Cx},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((_=b.id)!==null&&_!==void 0?_:Yv("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=vH(C.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),C.state={},C}return B$e(y,v),M$e(y,[{key:"componentDidMount",value:function(){var _,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,O=_.children,C=_.data,N=_.height,T=_.layout,S=Ts(O,no);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=l3(this.state,C,A,D),P=this.state.tooltipTicks[A].coordinate,j=(this.state.offset.top+N)/2,G=T==="horizontal",U=G?{x:P,y:j}:{y:P,x:j},Q=this.state.formattedGraphicalItems.find(function(z){var B=z.item;return B.type.name==="Scatter"});Q&&(U=et(et({},U),Q.props.points[A].tooltipPosition),E=Q.props.points[A].tooltipPayload);var J={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:D,activePayload:E,activeCoordinate:U};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var C,N;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0}})}return null}},{key:"componentDidUpdate",value:function(_){BT([Ts(_.children,no)],[Ts(this.props.children,no)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Ts(this.props.children,no);if(_&&typeof _.props.shared=="boolean"){var O=_.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var O=this.container,C=O.getBoundingClientRect(),N=LNe(C),T={chartX:Math.round(_.pageX-N.left),chartY:Math.round(_.pageY-N.top)},S=C.width/O.offsetWidth||1,A=this.inRange(T.chartX,T.chartY,S);if(!A)return null;var D=this.state,E=D.xAxisMap,P=D.yAxisMap,j=this.getTooltipEventType(),G=fF(this.state,this.props.data,this.props.layout,A);if(j!=="axis"&&E&&P){var U=Fu(E).scale,Q=Fu(P).scale,J=U&&U.invert?U.invert(T.chartX):null,z=Q&&Q.invert?Q.invert(T.chartY):null;return et(et({},T),{},{xValue:J,yValue:z},G)}return G?et(et({},T),G):null}},{key:"inRange",value:function(_,O){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,N=this.props.layout,T=_/C,S=O/C;if(N==="horizontal"||N==="vertical"){var A=this.state.offset,D=T>=A.left&&T<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return D?{x:T,y:S}:null}var E=this.state,P=E.angleAxisMap,j=E.radiusAxisMap;if(P&&j){var G=Fu(P);return HM({x:T,y:S},G)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,O=this.getTooltipEventType(),C=Ts(_,no),N={};C&&O==="axis"&&(C.props.trigger==="click"?N={onClick:this.handleClick}:N={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=wb(this.props,this.handleOuterEvent);return et(et({},T),N)}},{key:"addListener",value:function(){yA.on(xA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){yA.removeListener(xA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,O,C){for(var N=this.state.formattedGraphicalItems,T=0,S=N.length;T<S;T++){var A=N[T];if(A.item===_||A.props.key===_.key||O===bc(A.item.type)&&C===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,O=this.state.offset,C=O.left,N=O.top,T=O.height,S=O.width;return Ne.createElement("defs",null,Ne.createElement("clipPath",{id:_},Ne.createElement("rect",{x:C,y:N,height:T,width:S})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(O,C){var N=lF(C,2),T=N[0],S=N[1];return et(et({},O),{},zt({},T,S.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(O,C){var N=lF(C,2),T=N[0],S=N[1];return et(et({},O),{},zt({},T,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(_){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[_])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(_){var O=this.state,C=O.formattedGraphicalItems,N=O.activeItem;if(C&&C.length)for(var T=0,S=C.length;T<S;T++){var A=C[T],D=A.props,E=A.item,P=E.type.defaultProps!==void 0?et(et({},E.type.defaultProps),E.props):E.props,j=bc(E.type);if(j==="Bar"){var G=(D.data||[]).find(function(z){return gMe(_,z)});if(G)return{graphicalItem:A,payload:G}}else if(j==="RadialBar"){var U=(D.data||[]).find(function(z){return HM(_,z)});if(U)return{graphicalItem:A,payload:U}}else if(Y5(A,N)||X5(A,N)||hv(A,N)){var Q=xRe({graphicalItem:A,activeTooltipItem:N,itemData:P.data}),J=P.activeIndex===void 0?Q:P.activeIndex;return{graphicalItem:et(et({},A),{},{childIndex:J}),payload:hv(A,N)?P.data[Q]:A.props.data[Q]}}}return null}},{key:"render",value:function(){var _=this;if(!ML(this))return null;var O=this.props,C=O.children,N=O.className,T=O.width,S=O.height,A=O.style,D=O.compact,E=O.title,P=O.desc,j=cF(O,C$e),G=yr(j,!1);if(D)return Ne.createElement(qR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement(UT,y0({},G,{width:T,height:S,title:E,desc:P}),this.renderClipPath(),FL(C,this.renderMap)));if(this.props.accessibilityLayer){var U,Q;G.tabIndex=(U=this.props.tabIndex)!==null&&U!==void 0?U:0,G.role=(Q=this.props.role)!==null&&Q!==void 0?Q:"application",G.onKeyDown=function(z){_.accessibilityManager.keyboardEvent(z)},G.onFocus=function(){_.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Ne.createElement(qR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Ne.createElement("div",y0({className:Nr("recharts-wrapper",N),style:et({position:"relative",cursor:"default",width:T,height:S},A)},J,{ref:function(B){_.container=B}}),Ne.createElement(UT,y0({},G,{width:T,height:S,title:E,desc:P,style:H$e}),this.renderClipPath(),FL(C,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(Z.Component);zt(m,"displayName",r),zt(m,"defaultProps",et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),zt(m,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,_=v.data,O=v.children,C=v.width,N=v.height,T=v.layout,S=v.stackOffset,A=v.margin,D=y.dataStartIndex,E=y.dataEndIndex;if(y.updateId===void 0){var P=hF(v);return et(et(et({},P),{},{updateId:0},d(et(et({props:v},P),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:_,prevWidth:C,prevHeight:N,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(b!==y.prevDataKey||_!==y.prevData||C!==y.prevWidth||N!==y.prevHeight||T!==y.prevLayout||S!==y.prevStackOffset||!j0(A,y.prevMargin)){var j=hF(v),G={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},U=et(et({},fF(y,_,T)),{},{updateId:y.updateId+1}),Q=et(et(et({},j),G),U);return et(et(et({},Q),d(et({props:v},Q),y)),{},{prevDataKey:b,prevData:_,prevWidth:C,prevHeight:N,prevLayout:T,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(!BT(O,y.prevChildren)){var J,z,B,ee,ne=Ts(O,vp),I=ne&&(J=(z=ne.props)===null||z===void 0?void 0:z.startIndex)!==null&&J!==void 0?J:D,F=ne&&(B=(ee=ne.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&B!==void 0?B:E,q=I!==D||F!==E,Y=!mr(_),K=Y&&!q?y.updateId:y.updateId+1;return et(et({updateId:K},d(et(et({props:v},y),{},{updateId:K,dataStartIndex:I,dataEndIndex:F}),y)),{},{prevChildren:O,dataStartIndex:I,dataEndIndex:F})}return null}),zt(m,"renderActiveDot",function(v,y,b){var _;return Z.isValidElement(v)?_=Z.cloneElement(v,y):cr(v)?_=v(y):_=Ne.createElement(nN,y),Ne.createElement(ta,{className:"recharts-active-dot",key:b},_)});var p=Z.forwardRef(function(y,b){return Ne.createElement(m,y0({},y,{ref:b}))});return p.displayName=m.displayName,p},wA=rBe({chartName:"LineChart",GraphicalChild:wl,axisComponents:[{axisType:"xAxis",AxisComp:F0},{axisType:"yAxis",AxisComp:$0}],formatAxisMap:qFe});const nBe=()=>{const[e,t]=Z.useState("daily"),[r,n]=Z.useState(ir(new Date,7)),[a,i]=Z.useState(new Date),[s,o]=Z.useState([]),[l,c]=Z.useState([]),[u,f]=Z.useState([]),[h,d]=Z.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[m,p]=Z.useState(!0),{isDarkMode:v}=tn(),{user:y}=Ti(),b=Z.useCallback(async()=>{p(!0);try{const A=a||new Date,D=r||ir(A,7),E=kr(Ct(gt,"orders"),Hr("createdAt",">=",Qt.fromDate(D)),Hr("createdAt","<=",Qt.fromDate(A))),j=(await Sr(E)).docs.map(je=>{var Ke,ot,it;return{id:je.id,...je.data(),createdAt:(Ke=je.data().createdAt)==null?void 0:Ke.toDate(),updatedAt:(ot=je.data().updatedAt)==null?void 0:ot.toDate(),shippedTime:(it=je.data().shippedTime)==null?void 0:it.toDate()}}),G=kr(Ct(gt,"inventory")),Q=(await Sr(G)).docs.map(je=>({id:je.id,...je.data(),lastUpdated:je.data().lastUpdated instanceof Qt?je.data().lastUpdated.toDate():new Date(je.data().lastUpdated)})),J=kr(Ct(gt,"activityLogs"),Hr("time",">=",D.toISOString()),Hr("time","<=",A.toISOString()),bi("time","desc")),B=(await Sr(J)).docs.map(je=>({id:je.id,...je.data()}));f(B),o(Q),c(j);const ee=Q.reduce((je,Ke)=>je+(Ke.quantity||0),0),ne=Q.reduce((je,Ke)=>je+(Ke.quantity||0)*(Ke.price||0),0),I=j.length,F=ir(new Date,1),q=new Date,Y=j.filter(je=>{const Ke=je.createdAt;return Ke>=F&&Ke<=q}),K=Y.length,le=Y.reduce((je,Ke)=>je+(Ke.totalAmount||0),0),ce=a||new Date,X=r||ir(ce,7),de=B.filter(je=>{const Ke=new Date(je.time);return Ke>=X&&Ke<=ce}).filter(je=>{const Ke=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ke){const[,yt]=Ke;return Q.some(xt=>xt.name===yt)}const ot=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,yt]=ot;return Q.some(xt=>xt.name===yt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(yt=>yt.test(je.detail)),!0}),H=ce.getTime()-X.getTime(),Ae=new Date(X.getTime()-H),Ee=new Date(X.getTime()),ae=B.filter(je=>{const Ke=new Date(je.time);return Ke>=Ae&&Ke<=Ee}).filter(je=>{const Ke=je.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ke){const[,yt]=Ke;return Q.some(xt=>xt.name===yt)}const ot=je.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ot){const[,yt]=ot;return Q.some(xt=>xt.name===yt)}return je.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(yt=>yt.test(je.detail)),!0}),Ce=de.reduce((je,Ke)=>{const ot=Ke.detail.match(/(\d+) units deducted/);return je+(ot?parseInt(ot[1]):0)},0),Me=ae.reduce((je,Ke)=>{const ot=Ke.detail.match(/(\d+) units deducted/);return je+(ot?parseInt(ot[1]):0)},0),Be=de.reduce((je,Ke)=>{const ot=Ke.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ot){const[,ht,yt]=ot;if(Q.find(dt=>dt.name===ht))return je+parseInt(yt)}const it=Ke.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(it){const[,ht,yt,xt]=it;if(Q.find(ve=>ve.name===ht)){const ve=parseInt(xt)-parseInt(yt);if(ve>0)return je+ve}}return je},0),Ze=de.reduce((je,Ke)=>{const ot=Ke.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(ot){const[,ht,yt]=ot,xt=Q.find(dt=>dt.name===ht);if(xt){const dt=xt.price||0;return je+parseInt(yt)*dt}}const it=Ke.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(it){const[,ht,yt,xt]=it,dt=Q.find(ve=>ve.name===ht);if(dt){const ve=parseInt(xt)-parseInt(yt);if(ve>0){const Ge=dt.price||0;return je+ve*Ge}}}return je},0),Qe=de.reduce((je,Ke)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(ht=>ht.test(Ke.detail))){let ht=0;const yt=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,xt=Ke.detail.match(yt);if(xt)ht=parseInt(xt[1]);else{const dt=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ve of dt){const Ge=Ke.detail.match(ve);if(Ge){if(Ge.length===3){const Ye=parseInt(Ge[1]),Dt=parseInt(Ge[2]);ht=Math.abs(Ye-Dt)}else ht=parseInt(Ge[1]);break}}}return{incidents:je.incidents+1,units:je.units+(ht>0?ht:1)}}return je},{incidents:0,units:0}).incidents;d({totalOrders:I,totalStock:ee,totalInventoryValue:ne,totalDamagedProducts:Qe,yesterdayOrders:K,yesterdayStockChange:0,yesterdayRevenue:le,totalDeductions:Ce,previousDeductions:Me,todayStockAdditions:Be,todayInventoryValueAdditions:Ze})}catch(A){console.error("Error fetching data:",A)}finally{p(!1)}},[r,a]),_=()=>{n(null),i(null)};if(Z.useEffect(()=>{b()},[b]),Z.useEffect(()=>{},[e]),!y||y.role!=="admin")return g.jsx(g4,{to:"/",replace:!0});const O=()=>{const A=[],D=new Map,E=new Date;let P;switch(e){case"daily":P=ir(E,7);break;case"weekly":P=ir(E,30);break;case"monthly":P=ir(E,90);break;default:P=ir(E,7)}return u.filter(U=>{const Q=new Date(U.time);return Q>=P&&Q<=E}).filter(U=>{const Q=U.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Q){const[,z]=Q;return s.some(B=>B.name===z)}const J=U.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,z]=J;return s.some(B=>B.name===z)}return!0}).forEach(U=>{let Q=0,J=!1,z="";const B=U.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(B){const[,ne,I]=B;s.find(q=>q.name===ne)&&(Q=parseInt(I),z=ne,J=!0)}const ee=U.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(ee){const[,ne,I,F]=ee;if(s.find(Y=>Y.name===ne)){const Y=parseInt(F)-parseInt(I);Y>0&&(Q=Y,z=ne,J=!0)}}if(J){const ne=new Date(U.time);let I;switch(e){case"daily":I=Ft(ne,"MMM dd");break;case"weekly":I=Ft(ne,"'Week' w");break;case"monthly":I=Ft(ne,"MMM yyyy");break}const F=D.get(I)||{activities:0,units:0,uniqueProducts:new Set};F.uniqueProducts.add(z),D.set(I,{activities:F.activities+1,units:F.units+Q,uniqueProducts:F.uniqueProducts})}}),D.forEach((U,Q)=>{A.push({date:Q,activities:U.activities,units:U.units,uniqueProducts:U.uniqueProducts.size})}),A.sort((U,Q)=>{const J=new Date(U.date),z=new Date(Q.date);return J.getTime()-z.getTime()})},C=()=>{const A=[],D=new Map,E=new Date;let P;switch(e){case"daily":P=ir(E,7);break;case"weekly":P=ir(E,30);break;case"monthly":P=ir(E,90);break;default:P=ir(E,7)}return u.filter(U=>{const Q=new Date(U.time);return Q>=P&&Q<=E}).filter(U=>(U.detail.match(/(\d+) units deducted from stock/),!0)).forEach(U=>{const Q=U.detail.match(/(\d+) units deducted from stock/);if(Q){const J=new Date(U.time);let z;switch(e){case"daily":z=Ft(J,"MMM dd");break;case"weekly":z=Ft(J,"'Week' w");break;case"monthly":z=Ft(J,"MMM yyyy");break}const B=D.get(z)||0;D.set(z,B+parseInt(Q[1]))}}),D.forEach((U,Q)=>{A.push({date:Q,products:U})}),A.sort((U,Q)=>{const J=new Date(U.date),z=new Date(Q.date);return J.getTime()-z.getTime()})},N=()=>{const A=[],D=new Map,E=a||new Date,P=r||ir(E,7);return u.filter(U=>{const Q=new Date(U.time);return Q>=P&&Q<=E}).filter(U=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(J=>J.test(U.detail)),!0)).forEach(U=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(z=>z.test(U.detail))){const z=new Date(U.time);let B;switch(e){case"daily":B=Ft(z,"MMM dd");break;case"weekly":B=Ft(z,"'Week' w");break;case"monthly":B=Ft(z,"MMM yyyy");break}let ee=0;const ne=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,I=U.detail.match(ne);if(I)ee=parseInt(I[1]);else{const K=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const le of K){const ce=U.detail.match(le);if(ce){if(ce.length===3){const X=parseInt(ce[1]),he=parseInt(ce[2]);ee=Math.abs(X-he)}else ee=parseInt(ce[1]);break}}}let F="Unknown Product";const q=U.detail.match(/"([^"]+)"/);q&&(F=q[1]),D.has(B)||D.set(B,{incidents:0,units:0,productNames:new Set});const Y=D.get(B);Y.incidents+=1,Y.units+=ee>0?ee:1,Y.productNames.add(F)}}),D.forEach((U,Q)=>{A.push({date:Q,products:U.incidents,units:U.units,productNames:Array.from(U.productNames)})}),A.sort((U,Q)=>new Date(U.date).getTime()-new Date(Q.date).getTime())},T=()=>{try{const A=Ft(new Date,"yyyy-MM-dd-HH-mm"),D=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",E=s.map(ee=>[ee.name,ee.quantity,ee.price,`${ee.locationCode}-${ee.shelfNumber}`,ee.status,ee.damagedItems]),P=O(),j=C(),G=N(),U=Math.max(P.length,j.length,G.length,E.length),Q=[];Q.push(`Warehouse Analytics Report - ${D} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${Ft(new Date,"yyyy-MM-dd HH:mm:ss")}`),Q.push(""),Q.push("SUMMARY STATISTICS"),Q.push(`Total Stock Added (${D}),${h.todayStockAdditions},Total Units Deducted (${D}),${h.totalDeductions},Total Damaged Products (${D}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),Q.push(""),Q.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),Q.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let ee=0;ee<U;ee++){const ne=[];if(ee<P.length){const I=P[ee];ne.push(I.date,I.activities,I.units,I.uniqueProducts)}else ne.push("","","","");if(ee<j.length){const I=j[ee];ne.push(I.date,I.products)}else ne.push("","");if(ee<G.length){const I=G[ee];ne.push(I.date,I.products,I.units)}else ne.push("","","");if(ee<E.length){const I=E[ee];ne.push(...I)}else ne.push("","","","","","");Q.push(ne.join(","))}const J=Q.join(`
`),z=new Blob([J],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a");B.href=URL.createObjectURL(z),B.download=`warehouse-report-${D}-${A}.csv`,B.click(),URL.revokeObjectURL(B.href)}catch(A){console.error("Error exporting CSV:",A),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const A=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",D=O(),E=C(),P=N(),j=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${A}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${A}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${Ft(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${D.length}</p>
                <p><strong>Total Activities:</strong> ${D.reduce((U,Q)=>U+Q.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${D.reduce((U,Q)=>U+Q.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${D.reduce((U,Q)=>U+Q.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.slice(0,15).map(U=>`
                    <tr>
                      <td>${U.date}</td>
                      <td>${U.activities}</td>
                      <td>${U.units}</td>
                      <td>${U.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${D.length>15?`<tr><td colspan="4"><em>... and ${D.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${E.length}</p>
                <p><strong>Total Units Deducted:</strong> ${E.reduce((U,Q)=>U+Q.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${E.slice(0,15).map(U=>`
                    <tr>
                      <td>${U.date}</td>
                      <td>${U.products}</td>
                    </tr>
                  `).join("")}
                  ${E.length>15?`<tr><td colspan="2"><em>... and ${E.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${P.length}</p>
                <p><strong>Total Incidents:</strong> ${P.reduce((U,Q)=>U+Q.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${P.reduce((U,Q)=>U+Q.units,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${P.slice(0,15).map(U=>`
                    <tr>
                      <td>${U.date}</td>
                      <td>${U.products}</td>
                      <td>${U.units}</td>
                      <td>${U.productNames?U.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${P.length>15?`<tr><td colspan="4"><em>... and ${P.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(U=>U.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(U=>U.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((U,Q)=>U+(Q.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(U=>`
                    <tr>
                      <td>${U.name}</td>
                      <td>${U.quantity}</td>
                      <td>${U.price&&!isNaN(U.price)?`£${U.price.toFixed(2)}`:"Not set"}</td>
                      <td>${U.locationCode}-${U.shelfNumber}</td>
                      <td>${U.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,G=window.open("","_blank");G?(G.document.write(j),G.document.close(),G.focus(),setTimeout(()=>{G.print()},500)):alert("Please allow pop-ups to export PDF")}catch(A){console.error("Error exporting PDF:",A),alert("Failed to export PDF. Please try again.")}};return g.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[g.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"text-center md:text-left",children:[g.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),g.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[g.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[g.jsxs("button",{onClick:T,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[g.jsx(D2,{className:"h-4 w-4 mr-2"}),g.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),g.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[g.jsx(D2,{className:"h-4 w-4 mr-2"}),g.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[g.jsx("div",{className:"w-full sm:w-auto",children:g.jsx(jr,{value:e,onChange:A=>t(A.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),g.jsx("div",{className:"w-full sm:w-auto",children:g.jsx(xq,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:_,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),g.jsx(Nt,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${m?"opacity-50 cursor-not-allowed":""}`,disabled:m,children:g.jsx(Pf,{size:16,className:m?"animate-spin":""})})]})]})]}),g.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:m?g.jsxs(g.Fragment,{children:[g.jsx(qu,{}),g.jsx(qu,{}),g.jsx(qu,{}),g.jsx(qu,{})]}):g.jsxs(g.Fragment,{children:[g.jsx(zu,{title:`Total Stock Added (${r&&a?`${Ft(r,"MMM d")} - ${Ft(a,"MMM d, yyyy")}`:r?`From ${Ft(r,"MMM d, yyyy")}`:a?`To ${Ft(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:g.jsx(L2,{size:24,className:"text-blue-600"})}),g.jsx(zu,{title:`Total Units Deducted (${r&&a?`${Ft(r,"MMM d")} - ${Ft(a,"MMM d, yyyy")}`:r?`From ${Ft(r,"MMM d, yyyy")}`:a?`To ${Ft(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:g.jsx(B9,{size:24,className:"text-blue-600"})}),g.jsx(zu,{title:`Total Damaged Products (${r&&a?`${Ft(r,"MMM d")} - ${Ft(a,"MMM d, yyyy")}`:r?`From ${Ft(r,"MMM d, yyyy")}`:a?`To ${Ft(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:g.jsx(Fw,{size:24,className:"text-blue-600"})}),g.jsx(zu,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:g.jsx(F9,{size:24,className:"text-blue-600"})})]})}),m?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):g.jsx(g.Fragment,{children:g.jsxs("div",{className:"space-y-4 md:space-y-6",children:[g.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(nA,{width:"100%",height:"100%",children:g.jsxs(wA,{data:O(),children:[g.jsx(a2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:v?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Inbound Activities"?[`${A} activities`,D]:D==="Units Added"?[`${A} units`,D]:D==="Affected Products"?[`${A} products`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),g.jsx(_c,{}),g.jsx(wl,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),g.jsx(wl,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),g.jsx(wl,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),g.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(nA,{width:"100%",height:"100%",children:g.jsxs(wA,{data:C(),children:[g.jsx(a2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:v?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),g.jsx(_c,{}),g.jsx(wl,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),g.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[g.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),g.jsx("div",{className:"h-64 md:h-80",children:g.jsx(nA,{width:"100%",height:"100%",children:g.jsxs(wA,{data:N(),children:[g.jsx(a2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),g.jsx(F0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),g.jsx($0,{stroke:v?"#94a3b8":"#64748b"}),g.jsx(no,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Damaged Incidents"?[`${A} incidents`,D]:D==="Units Damaged"?[`${A} units`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),g.jsx(_c,{}),g.jsx(wl,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),g.jsx(wl,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},aBe=()=>{const{user:e,setUser:t}=Ti(),{showToast:r}=rd(),{isDarkMode:n,toggleDarkMode:a}=tn(),[i,s]=Z.useState(!1),[o,l]=Z.useState({}),[c,u]=Z.useState([]),[f,h]=Z.useState(null),[d,m]=Z.useState(!1),[p,v]=Z.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=Z.useState({}),[_,O]=Z.useState({}),[C,N]=Z.useState(!1),[T,S]=Z.useState(null),[A,D]=Z.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[E,P]=Z.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),j=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const le=(await Sr(Ct(gt,"users"))).docs.map(ce=>({id:ce.id,...ce.data()}));u(le),console.log("Fetched users:",le.map(ce=>({id:ce.id,username:ce.username,name:ce.name})))}catch(K){console.error("Error fetching users:",K),r("Error fetching users","error")}finally{s(!1)}}};Z.useEffect(()=>{j()},[e==null?void 0:e.role,r]);const G=K=>K.split(" ").map(le=>le[0]).join("").toUpperCase().slice(0,2),U=K=>{const{name:le,value:ce}=K.target;D(X=>({...X,[le]:ce})),o[le]&&l(X=>{const he={...X};return delete he[le],he})},Q=()=>{const K={};return A.username.trim()||(K.username="Username is required"),A.email.trim()&&!/\S+@\S+\.\S+/.test(A.email)&&(K.email="Invalid email format"),A.name.trim()||(K.name="Name is required"),(A.currentPassword||A.newPassword||A.confirmPassword)&&(A.currentPassword?A.currentPassword!==(e==null?void 0:e.password)&&(K.currentPassword="Current password is incorrect"):K.currentPassword="Current password is required",A.newPassword?A.newPassword.length<6&&(K.newPassword="Password must be at least 6 characters"):K.newPassword="New password is required",A.newPassword!==A.confirmPassword&&(K.confirmPassword="Passwords do not match")),l(K),Object.keys(K).length===0},J=async K=>{if(K.preventDefault(),!!e&&Q()){s(!0);try{const le={username:A.username,email:A.email,name:A.name,password:A.currentPassword!=""&&A.confirmPassword!=""&&A.newPassword!=""?A.newPassword:e.password},ce=[];e.username!==A.username&&ce.push(`changed username from "${e.username}" to "${A.username}"`),e.email!==A.email&&ce.push(`changed email from "${e.email}" to "${A.email}"`),e.name!==A.name&&ce.push(`changed full name from "${e.name}" to "${A.name}"`),A.currentPassword&&A.newPassword&&ce.push("changed their password");const X=qn(gt,"users",e.id);await Sl(X,le),ce.length>0&&await Lr(Ct(gt,"activityLogs"),{user:e.name,role:e.role,detail:ce.length===1?ce[0]:`made multiple profile changes: ${ce.join("; ")}`,time:new Date().toISOString()}),t({...e,username:A.username,email:A.email,name:A.name,password:A.newPassword||e.password}),D(he=>({...he,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(le){console.error("Error updating profile:",le),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},z=K=>{console.log("Editing user:",K),h(K),O({}),P({username:K.username,email:K.email,name:K.name,newPassword:"",confirmPassword:""})},B=K=>{const{name:le,value:ce}=K.target;P(X=>({...X,[le]:ce})),_[le]&&O(X=>{const he={...X};return delete he[le],he})},ee=async()=>{if(f)try{if(s(!0),O({}),!E.username.trim()){O({username:"Username is required"});return}if(!E.name.trim()){O({name:"Name is required"});return}if(E.newPassword||E.confirmPassword){if(E.newPassword!==E.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(E.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:E.username,email:E.email,name:E.name,password:E.newPassword?"***":"unchanged"});const K=qn(gt,"users",f.id);console.log("User reference:",K.path);const le={username:E.username,email:E.email,name:E.name,role:f.role};E.newPassword&&(le.password=E.newPassword),console.log("Attempting to update document with data:",le);try{await Sl(K,le),console.log("User updated successfully in Firestore")}catch(ce){console.error("Failed to update by ID, trying to find by username:",ce);const X=kr(Ct(gt,"users"),Hr("username","==",f.username)),he=await Sr(X);if(he.empty)throw new Error("User not found by username either");{const de=he.docs[0];console.log("Found user by username, actual ID:",de.id);const H=qn(gt,"users",de.id);await Sl(H,le),console.log("User updated successfully using fallback method"),u(Ae=>Ae.map(Ee=>Ee.username===f.username?{...Ee,id:de.id,...le}:Ee))}}await Lr(Ct(gt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(ce=>ce.map(X=>X.id===f.id?{...X,...le}:X)),r("User updated successfully","success"),h(null)}catch(K){console.error("Error updating user:",K),console.error("Error details:",{editingUser:f,userEditForm:E,error:K}),r("Failed to update user","error")}finally{s(!1)}},ne=K=>{const{name:le,value:ce}=K.target;v(X=>({...X,[le]:ce})),y[le]&&b(X=>{const he={...X};return delete he[le],he})},I=()=>{const K={};return p.username.trim()||(K.username="Username is required"),p.email.trim()&&!/\S+@\S+\.\S+/.test(p.email)&&(K.email="Invalid email format"),p.name.trim()||(K.name="Name is required"),p.password?p.password.length<6&&(K.password="Password must be at least 6 characters"):K.password="Password is required",p.password!==p.confirmPassword&&(K.confirmPassword="Passwords do not match"),b(K),Object.keys(K).length===0},F=async K=>{if(K.preventDefault(),!!I()){s(!0);try{const ce=(await Sr(Ct(gt,"users"))).docs.map(he=>he.data());if(ce.some(he=>he.username===p.username)){b({username:"Username already exists"});return}if(p.email.trim()&&ce.some(he=>he.email===p.email)){b({email:"Email already exists"});return}const X=await Lr(Ct(gt,"users"),{username:p.username,email:p.email,name:p.name,password:p.password,role:p.role});await Lr(Ct(gt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${p.name}" with role "${p.role}"`,time:new Date().toISOString()}),u(he=>[...he,{id:X.id,username:p.username,email:p.email,name:p.name,role:p.role,password:p.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),m(!1),r("User added successfully!","success")}catch(le){console.error("Error adding user:",le),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(K,le)=>{S({username:le,name:K}),N(!0)},Y=async()=>{if(T)try{s(!0);const K=Ct(gt,"users"),le=kr(K,Hr("username","==",T.username)),ce=await Sr(le);if(ce.empty){r("User not found.","error");return}const X=ce.docs[0],he=qn(gt,"users",X.id);await x1(he),await Lr(Ct(gt,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${T.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(de=>de.filter(H=>H.username!==T.username)),r("User deleted successfully!","success")}catch(K){console.error("Error deleting user:",K),r("Failed to delete user. Please try again.","error")}finally{s(!1),N(!1),S(null)}};return g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex justify-between items-center mb-6",children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),g.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&g.jsx(Nt,{variant:"secondary",onClick:j,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:g.jsx(Pf,{size:16,className:i?"animate-spin":""})}),g.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?g.jsx($9,{size:20}):g.jsx(R9,{size:20})})]})]}),f&&g.jsxs(Wn,{isOpen:!!f,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[g.jsxs("div",{className:"space-y-4",children:[g.jsx(bt,{label:"Username",name:"username",value:E.username,onChange:B,error:_.username}),g.jsx(bt,{label:"Email",name:"email",type:"email",value:E.email,onChange:B,error:_.email}),g.jsx(bt,{label:"Name",name:"name",value:E.name,onChange:B,error:_.name}),g.jsx(Cu,{label:"New Password",name:"newPassword",value:E.newPassword,onChange:B,error:_.newPassword}),g.jsx(Cu,{label:"Confirm Password",name:"confirmPassword",value:E.confirmPassword,onChange:B,error:_.confirmPassword})]}),g.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[g.jsx(Nt,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),g.jsx(Nt,{onClick:ee,disabled:i,children:i?"Updating...":"Update User"})]})]}),g.jsxs(Wn,{isOpen:C,onClose:()=>N(!1),title:"Confirm Deletion",size:"sm",children:[g.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',T==null?void 0:T.name,'" (username: ',T==null?void 0:T.username,")? This action cannot be undone."]}),g.jsxs("div",{className:"flex justify-end gap-3",children:[g.jsx(Nt,{variant:"secondary",onClick:()=>N(!1),disabled:i,children:"Cancel"}),g.jsx(Nt,{variant:"danger",onClick:Y,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),g.jsxs("form",{onSubmit:J,className:"space-y-6",children:[g.jsxs("div",{className:"flex items-center gap-6",children:[g.jsx("div",{className:"relative",children:g.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:g.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:G((e==null?void 0:e.name)||"")})})}),g.jsxs("div",{children:[g.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:A.name}),g.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Username",name:"username",value:A.username,onChange:U,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),g.jsx(bt,{label:"Email",name:"email",type:"email",value:A.email,onChange:U,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),g.jsx(bt,{label:"Full Name",name:"name",value:A.name,onChange:U,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),g.jsxs("div",{className:"space-y-4",children:[g.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),g.jsx(Cu,{label:"Current Password",name:"currentPassword",value:A.currentPassword,onChange:U,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(Cu,{label:"New Password",name:"newPassword",value:A.newPassword,onChange:U,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),g.jsx(Cu,{label:"Confirm Password",name:"confirmPassword",value:A.confirmPassword,onChange:U,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&g.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Nt,{type:"submit",isLoading:i,icon:g.jsx(b4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&g.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[g.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[g.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),g.jsxs(Nt,{onClick:()=>m(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[g.jsx(b4,{size:16}),"Add New User"]})]}),g.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[g.jsx("div",{className:"hidden md:block overflow-x-auto",children:g.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[g.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),g.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(K=>K.id!==(e==null?void 0:e.id)).map(K=>g.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:K.username}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:K.email||"-"}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:K.name}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:K.role}),g.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>z(K),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>q(K.name,K.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:g.jsx(Jo,{size:16})})]})})]},K.id))})]})}),g.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(K=>K.id!==(e==null?void 0:e.id)).map(K=>g.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:K.name}),g.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:K.username})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>z(K),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:g.jsx(Ml,{size:16})}),g.jsx(Nt,{variant:"ghost",size:"sm",onClick:()=>q(K.name,K.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:g.jsx(Jo,{size:16})})]})]}),g.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:K.email||"-"}),g.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:K.role})]},K.id))})]}),g.jsx(Wn,{isOpen:d,onClose:()=>m(!1),title:"Add New User",size:"xl",children:g.jsxs("form",{onSubmit:F,className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Username",name:"username",value:p.username,onChange:ne,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),g.jsx(bt,{label:"Email",name:"email",type:"email",value:p.email,onChange:ne,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[g.jsx(bt,{label:"Full Name",name:"name",value:p.name,onChange:ne,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),g.jsx(jr,{label:"Role",name:"role",value:p.role,onChange:ne,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),g.jsx(Cu,{label:"Password",name:"password",value:p.password,onChange:ne,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),g.jsx(Cu,{label:"Confirm Password",name:"confirmPassword",value:p.confirmPassword,onChange:ne,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),g.jsx("div",{className:"flex justify-end",children:g.jsx(Nt,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},_A=["supply & serve","APHY","AZTEC","ZK"],iBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=Z.useState(""),[i,s]=Z.useState("stock sold"),[o,l]=Z.useState(""),c=_A.includes(e.storeName)?_A:[e.storeName,..._A],u=[...c,"other"],[f,h]=Z.useState(e.storeName||c[0]||""),[d,m]=Z.useState(""),{isDarkMode:p}=tn(),v=async _=>{_.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const C=i==="other"?o:i,N=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-O,reason:C,storeName:N})},b=(()=>{const _=Number(n);return!n||_<=0?"Quantity to deduct must be greater than 0":_>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return g.jsxs("form",{onSubmit:v,className:`space-y-6 ${p?"text-white":"text-gray-900"}`,children:[g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:`p-4 rounded-lg ${p?"bg-slate-800":"bg-slate-50"}`,children:[g.jsx("h3",{className:`text-lg font-semibold ${p?"text-white":"text-gray-900"}`,children:e.name}),g.jsxs("p",{className:`text-sm ${p?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),g.jsx(bt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:_=>a(_.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),g.jsx(jr,{id:"reason",value:i,onChange:_=>s(_.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),g.jsx(bt,{id:"otherReason",type:"text",value:o,onChange:_=>l(_.target.value),placeholder:"Enter the reason",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${p?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),g.jsx(jr,{id:"storeName",value:f,onChange:_=>h(_.target.value),options:u.map(_=>({value:_,label:_==="other"?"Other":_})),required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&g.jsx(bt,{id:"otherStoreName",type:"text",value:d,onChange:_=>m(_.target.value),placeholder:"Enter store name",required:!0,className:`${p?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?g.jsxs("div",{className:`flex items-center space-x-2 text-sm ${p?"text-red-400":"text-red-600"}`,children:[g.jsx(Fw,{size:16}),g.jsx("span",{children:b})]}):g.jsx("p",{className:`text-xs ${p?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),g.jsx("div",{className:"flex justify-end space-x-3",children:g.jsx(Nt,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?g.jsxs(g.Fragment,{children:[g.jsx(qo,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},sBe=()=>{const[e,t]=Z.useState(""),[r,n]=Z.useState("name"),[a,i]=Z.useState(!1),[s,o]=Z.useState(!1),[l,c]=Z.useState(null),[u,f]=Z.useState([]),[h,d]=Z.useState(!1),[m,p]=Z.useState(new Set),{showToast:v}=rd(),{isDarkMode:y}=tn(),{user:b}=Ti(),_=async()=>{o(!0);try{const E=kr(Ct(gt,"inventory"),bi("name")),j=(await Sr(E)).docs.map(G=>{const U=G.data();return{id:G.id,...U,lastUpdated:U.lastUpdated instanceof Qt?U.lastUpdated.toDate():new Date(U.lastUpdated)}});f(j)}catch(E){console.error("Error fetching stock items:",E),v("Failed to fetch stock items","error")}finally{o(!1)}},O=async()=>{try{const E=ir(new Date,90),P=kr(Ct(gt,"activityLogs"),Hr("time",">=",E.toISOString()),bi("time","desc")),G=(await Sr(P)).docs.map(B=>({id:B.id,...B.data()})),U=ir(new Date,10),Q=new Set,J=new Map;G.forEach(B=>{if(B.detail.includes("added new product")){const ee=B.detail.match(/added new product "([^"]+)"/);if(ee){const ne=ee[1],I=new Date(B.time);(!J.has(ne)||I<J.get(ne))&&J.set(ne,I)}}if(B.detail.includes("units deducted from stock")){const ee=B.detail.match(/units deducted from stock "([^"]+)"/);if(ee){const ne=ee[1];new Date(B.time)>=U&&Q.add(ne)}}});const z=new Set;u.forEach(B=>{const ee=B.name,ne=J.get(ee);ne&&ne<U&&!Q.has(ee)&&z.add(ee)}),p(z)}catch(E){console.error("Error fetching activity logs:",E)}};Z.useEffect(()=>{_()},[v]),Z.useEffect(()=>{u.length>0&&O()},[u]);const C=u.filter(E=>E.quantity>0).filter(E=>{const P=e.toLowerCase(),j=E.name.toLowerCase().includes(P),G=`${E.locationCode} - ${E.shelfNumber}`.toLowerCase().includes(P),U=E.asin?E.asin.split(",").some(J=>J.trim().toLowerCase().includes(P)):!1,Q=E.barcode?E.barcode.toLowerCase().includes(P):!1;return j||G||U||Q}).sort((E,P)=>r==="name"?E.name.localeCompare(P.name):r==="quantity"?P.quantity-E.quantity:r==="price"?P.price-E.price:r==="date"?new Date(P.lastUpdated).getTime()-new Date(E.lastUpdated).getTime():0),N=async E=>{o(!0);try{const P=qn(gt,"inventory",E.id),j=await y1(P);if(!j.exists())throw new Error("Stock item not found");const G=j.data();if(!b)throw new Error("User not authenticated");const U=E.reason==="damaged"?G.damagedItems+(G.quantity-E.quantity):G.damagedItems,Q=new Date;await Sl(P,{quantity:E.quantity,damagedItems:U,lastUpdated:Qt.fromDate(Q)}),await Lr(Ct(gt,"activityLogs"),{detail:`${G.quantity-E.quantity} units deducted from stock "${G.name}" (Reason: ${E.reason}, Store: ${E.storeName}) by ${b.role}`,time:new Date().toISOString(),user:b.name,role:b.role});const J=u.map(z=>z.id===E.id?{...z,quantity:E.quantity,damagedItems:U}:z);f(J),c(null),i(!1),v("Stock quantity updated successfully","success")}catch(P){console.error("Error updating stock:",P),v("Failed to update stock quantity","error")}finally{o(!1)}},T=E=>{a||c(E)},S=(E,P)=>{E.stopPropagation(),c(P),i(!0)},A=()=>{d(!0)},D=E=>{t(E),d(!1)};return g.jsxs("div",{className:"container mx-auto px-4 py-8",children:[g.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${y?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),g.jsx("p",{className:`${y?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(bt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:E=>t(E.target.value),icon:g.jsx(K0,{size:16}),style:{paddingRight:48}}),g.jsx("button",{type:"button",onClick:A,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:g.jsx(Cc,{size:16,className:"text-white"})})]})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(jr,{value:r,onChange:E=>n(E.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),g.jsx(Nt,{variant:"secondary",onClick:_,className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:g.jsx(Pf,{size:16,className:s?"animate-spin":""})})]}),s?g.jsx("div",{className:`text-center py-12 ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsxs("div",{className:"flex flex-col items-center gap-4",children:[g.jsx(qo,{className:`w-8 h-8 ${y?"text-blue-400":"text-blue-600"} animate-spin`}),g.jsx("p",{className:y?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):C.length>0?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"w-full",children:[g.jsx("thead",{className:`${y?"bg-slate-800":"bg-slate-50"}`,children:g.jsxs("tr",{children:[g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(b==null?void 0:b.role)==="admin"&&g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),g.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),g.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${y?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),g.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:C.map(E=>g.jsxs("tr",{className:`${y?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>T(E),children:[g.jsx("td",{className:`px-4 py-3 text-sm ${y?"text-blue-400":"text-blue-700"} font-medium`,children:g.jsxs("div",{className:"flex items-center gap-2",children:[E.name,m.has(E.name)&&g.jsxs("div",{className:"relative group",children:[g.jsx(o1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),g.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${y?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",g.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${y?"border-t-slate-800":"border-t-white"}`})]})]})]})}),g.jsx("td",{className:`px-4 py-3 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:E.status==="active"?"Active":"Pending"})}),g.jsxs("td",{className:`px-4 py-3 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:[E.locationCode," - ",E.shelfNumber]}),g.jsx("td",{className:`px-4 py-3 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:E.asin?E.asin.split(",").length>3?E.asin.split(",").slice(0,3).map(P=>P.trim()).join(", ")+"...":E.asin.split(",").map(P=>P.trim()).join(", "):"-"}),g.jsx("td",{className:`px-4 py-3 text-sm ${y?"text-slate-200":"text-slate-800"} text-right`,children:g.jsxs("div",{className:"flex items-center justify-end gap-2",children:[E.quantity<=10&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),E.quantity>10&&E.quantity<=25&&g.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),g.jsx("span",{children:E.quantity})]})}),(b==null?void 0:b.role)==="admin"&&g.jsx("td",{className:`px-4 py-3 text-right text-sm ${y?"text-slate-200":"text-slate-900"}`,children:Number(E.price)>0?`£${Number(E.price).toFixed(2)}`:"(Not set)"}),g.jsx("td",{className:`px-4 py-3 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Ft(new Date(E.lastUpdated),"MMM d, yyyy")}),g.jsx("td",{className:"px-4 py-3 text-right text-sm",children:g.jsx("div",{className:"flex items-center justify-end gap-2",children:g.jsx(Nt,{variant:"secondary",size:"sm",onClick:P=>S(P,E),className:`p-1 ${y?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:g.jsx(Ml,{size:16})})})})]},E.id))})]})})}),g.jsx("div",{className:"block md:hidden space-y-4",children:C.map(E=>g.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>T(E),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:E.name}),g.jsxs("div",{className:"flex items-center gap-2",children:[m.has(E.name)&&g.jsxs("div",{className:"relative group",children:[g.jsx(o1,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),g.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${y?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",g.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${y?"border-t-slate-800":"border-t-white"}`})]})]}),g.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${E.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:E.status==="active"?"Active":"Pending"})]})]}),g.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[g.jsxs("span",{className:y?"text-slate-300":"text-slate-600",children:["Location: ",g.jsxs("span",{className:"font-medium",children:[E.locationCode," - ",E.shelfNumber]})]}),g.jsxs("span",{className:y?"text-slate-300":"text-slate-600",children:["Qty: ",g.jsx("span",{className:"font-medium",children:E.quantity})]}),E.asin&&g.jsxs("span",{className:y?"text-slate-300":"text-slate-600",children:["ASIN: ",g.jsx("span",{className:"font-medium",children:E.asin})]}),(b==null?void 0:b.role)==="admin"&&g.jsxs("span",{className:y?"text-slate-300":"text-slate-600",children:["Price: ",g.jsx("span",{className:"font-medium",children:Number(E.price)>0?`£${Number(E.price).toFixed(2)}`:"(Not set)"})]}),g.jsxs("span",{className:y?"text-slate-300":"text-slate-600",children:["Updated: ",g.jsx("span",{className:"font-medium",children:Ft(new Date(E.lastUpdated),"MMM d, yyyy")})]})]}),g.jsx("div",{className:"flex gap-2 mt-2",children:g.jsxs(Nt,{size:"sm",variant:"secondary",onClick:P=>{P.stopPropagation(),S(P,E)},children:[g.jsx(Ml,{size:14})," Edit"]})})]},E.id))})]}):g.jsx("div",{className:`text-center py-12 ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:g.jsx("p",{className:y?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),g.jsx(Wn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&g.jsx(iBe,{item:l,onSubmit:N,isLoading:s})}),l&&!a&&g.jsx(vq,{isOpen:!0,onClose:()=>c(null),item:l}),g.jsx(nd,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:D})]})},oBe=()=>{const[e,t]=Z.useState(!0),[r,n]=Z.useState([]),[a,i]=Z.useState(new Set),[s,o]=Z.useState(""),[l,c]=Z.useState(""),[u,f]=Z.useState("locationCode"),[h,d]=Z.useState({}),{showToast:m}=rd(),{isDarkMode:p}=tn(),[v,y]=Z.useState(!1),[b,_]=Z.useState(null),[O,C]=Z.useState(1),[N,T]=Z.useState("A1"),[S,A]=Z.useState("0"),[D,E]=Z.useState(!1),[P,j]=Z.useState(!1),[G,U]=Z.useState(""),{user:Q}=Ti(),J=async()=>{t(!0);try{const X=kr(Ct(gt,"inventory"),bi("locationCode")),de=(await Sr(X)).docs.map(H=>{const Ae=H.data();return{id:H.id,name:Ae.name||"",quantity:Ae.quantity||0,price:Ae.price||0,supplier:Ae.supplier??null,lastUpdated:Ae.lastUpdated instanceof Qt?Ae.lastUpdated.toDate():new Date,locationCode:Ae.locationCode||"",shelfNumber:Ae.shelfNumber||"",barcode:Ae.barcode??null,asin:Ae.asin??null,status:Ae.status||"pending",damagedItems:Ae.damagedItems||0,fulfillmentType:Ae.fulfillmentType||"fba",storeName:Ae.storeName||""}});n(de)}catch(X){console.error("Error fetching locations:",X),m("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},z=async()=>{try{const X=kr(Ct(gt,"locations")),he=await Sr(X),de={};he.forEach(H=>{de[H.id]=H.data().isAvailable!==!1}),d(de)}catch(X){console.error("Error fetching location availability:",X)}};Z.useEffect(()=>{t(!0),Promise.all([J(),z()]).finally(()=>t(!1))},[]);const B=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],ee=B.reduce((X,he)=>{const H=r.filter(Ae=>Ae.locationCode===he).reduce((Ae,Ee)=>{const Se=Ae.findIndex(ae=>ae.name===Ee.name&&le(ae.asin)===le(Ee.asin)&&le(ae.barcode)===le(Ee.barcode)&&ae.locationCode===Ee.locationCode&&ae.shelfNumber===Ee.shelfNumber);return Se>=0?Ae[Se]={...Ae[Se],quantity:Ae[Se].quantity+Ee.quantity,lastUpdated:Ae[Se].lastUpdated>Ee.lastUpdated?Ae[Se].lastUpdated:Ee.lastUpdated}:Ae.push(Ee),Ae},[]);return X[he]={locationCode:he,totalStock:H.reduce((Ae,Ee)=>Ae+Ee.quantity,0),products:H},X},{}),ne=Object.values(ee).filter(X=>{const he=s.toLowerCase(),de=l.toLowerCase(),H=de===""||X.locationCode.toLowerCase().includes(de),Ae=he===""||X.products.some(Ee=>Ee.name.toLowerCase().includes(he)||Ee.asin&&Ee.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(he))||Ee.barcode&&Ee.barcode.toLowerCase().includes(he));return H&&Ae}).sort((X,he)=>{if(u==="totalStock")return he.totalStock-X.totalStock;if(u==="locationCode")return X.locationCode==="Awaiting Location"?-1:he.locationCode==="Awaiting Location"?1:X.locationCode.localeCompare(he.locationCode);if(u==="availability"){const de=h[X.locationCode]!==!1,H=h[he.locationCode]!==!1;return de===H?X.locationCode==="Awaiting Location"?-1:he.locationCode==="Awaiting Location"?1:X.locationCode.localeCompare(he.locationCode):de?-1:1}return 0});Z.useEffect(()=>{if(s.trim()&&s!==G){const X=ne.filter(he=>{const de=s.toLowerCase();return he.products.some(H=>H.name.toLowerCase().includes(de)||H.asin&&H.asin.split(",").some(Ae=>Ae.trim().toLowerCase().includes(de))||H.barcode&&H.barcode.toLowerCase().includes(de))});if(X.length>0){const he=X.flatMap(H=>H.products.filter(Ae=>{const Ee=s.toLowerCase();return Ae.name.toLowerCase().includes(Ee)||Ae.asin&&Ae.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(Ee))||Ae.barcode&&Ae.barcode.toLowerCase().includes(Ee)})),de=[...new Set(he.map(H=>`${H.locationCode}-${H.shelfNumber}`))];m(`Product found! Located at: ${de.join(", ")}`,"success"),U(s)}else s.trim()&&s!==G&&(m("Product not found in any location","error"),U(s))}else!s.trim()&&G&&U("")},[ne,s,m,G]);const I=X=>{i(he=>{const de=new Set(he);return de.has(X)?de.delete(X):de.add(X),de})},F=()=>{j(!0)},q=X=>{o(X),j(!1)},Y=async X=>{const he=!(h[X]??!0);d(de=>({...de,[X]:he}));try{await Yy(qn(gt,"locations",X),{isAvailable:he},{merge:!0})}catch(de){m("Failed to update availability","error"),d(H=>({...H,[X]:!he})),console.log(de)}};function K(X){const he={...X};return Object.keys(he).forEach(de=>{he[de]===void 0&&(he[de]=null)}),he}function le(X){return X??""}const ce=async()=>{if(b&&!(O<1||O>b.quantity)){E(!0);try{const X=kr(Ct(gt,"inventory")),he=await Sr(X);let de=null;if(he.forEach(H=>{const Ae=H.data();Ae.name===b.name&&Ae.locationCode===N&&Ae.shelfNumber===S&&le(Ae.asin)===le(b.asin)&&le(Ae.barcode)===le(b.barcode)&&(de={...Ae,id:H.id})}),O===b.quantity)await Yy(qn(gt,"inventory",b.id),K({...b,locationCode:N,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await Yy(qn(gt,"inventory",b.id),K({...b,quantity:b.quantity-O,lastUpdated:new Date}),{merge:!0}),de)await Yy(qn(gt,"inventory",de.id),K({...de,quantity:de.quantity+O,lastUpdated:new Date}),{merge:!0});else{const{id:H,...Ae}=b;await Lr(Ct(gt,"inventory"),K({...Ae,quantity:O,locationCode:N,shelfNumber:S,lastUpdated:new Date}))}await Lr(Ct(gt,"activityLogs"),{user:(Q==null?void 0:Q.name)||"Unknown",role:(Q==null?void 0:Q.role)||"Unknown",detail:`Moved ${O} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${N}-${S}`,time:new Date().toISOString()}),m("Stock moved successfully","success"),y(!1),_(null),J()}catch(X){m("Failed to move stock","error"),console.log(X)}finally{E(!1)}}};return g.jsxs("div",{className:`space-y-6 ${p?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[g.jsxs("div",{children:[g.jsx("h1",{className:`text-2xl font-bold ${p?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),g.jsx("p",{className:`${p?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),g.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("div",{className:"relative",children:[g.jsx(bt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:X=>o(X.target.value),icon:g.jsx(K0,{size:16}),style:{paddingRight:48}}),g.jsx("button",{type:"button",onClick:F,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:g.jsx(Cc,{size:16,className:"text-white"})})]})}),g.jsx("div",{className:"flex-1",children:g.jsx(bt,{type:"text",placeholder:"Search by location code...",value:l,onChange:X=>c(X.target.value),icon:g.jsx(K0,{size:16})})}),g.jsx("div",{className:"w-full sm:w-48",children:g.jsx(jr,{value:u,onChange:X=>f(X.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),g.jsx(Nt,{variant:"secondary",onClick:J,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:g.jsx(Pf,{size:16,className:e?"animate-spin":""})})]}),e?g.jsx("div",{className:"flex justify-center items-center h-64",children:g.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${p?"border-white":"border-slate-800"}`})}):ne.length===0?g.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[g.jsx(L2,{className:`w-12 h-12 ${p?"text-slate-600":"text-slate-400"}`}),g.jsx("p",{className:`text-lg font-medium ${p?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),g.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(ne).map(X=>{const he=a.has(X.locationCode);return g.jsxs("div",{className:`${p?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${he?"ring-2 ring-blue-500":""}`,children:[g.jsxs("div",{className:`p-4 border-b ${p?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>I(X.locationCode),children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center space-x-3",children:[g.jsx("div",{className:`p-2 rounded-lg ${p?"bg-slate-700":"bg-slate-100"}`,children:g.jsx(L2,{className:`w-5 h-5 ${p?"text-blue-400":"text-blue-600"}`})}),g.jsx("h3",{className:`text-lg font-medium ${p?"text-white":"text-slate-800"}`,children:X.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${X.locationCode}`})]}),g.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[g.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[g.jsx("input",{type:"checkbox",checked:h[X.locationCode]!==!1,onChange:de=>{de.stopPropagation(),Y(X.locationCode)},className:"sr-only peer"}),g.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[X.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),g.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[X.locationCode]!==!1?"translate-x-5":""}
                          `})]}),g.jsx("span",{className:`text-xs font-semibold ml-2 ${h[X.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[X.locationCode]!==!1?"Available":"Not Available"}),g.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:de=>{de.stopPropagation(),I(X.locationCode)},"aria-label":he?"Collapse":"Expand",children:he?g.jsx(ZJ,{className:`w-5 h-5 ${p?"text-blue-400":"text-blue-600"}`}):g.jsx(x4,{className:`w-5 h-5 ${p?"text-blue-400":"text-blue-600"}`})})]})]}),g.jsxs("div",{className:"flex justify-between items-end mt-2",children:[g.jsxs("div",{children:[g.jsx("p",{className:`text-sm ${p?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),g.jsxs("p",{className:`font-bold text-2xl ${p?"text-white":"text-slate-800"}`,children:[X.totalStock," units"]})]}),g.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?X.products.filter(de=>{const H=s.toLowerCase();return de.name.toLowerCase().includes(H)||de.asin&&de.asin.split(",").some(Ae=>Ae.trim().toLowerCase().includes(H))||de.barcode&&de.barcode.toLowerCase().includes(H)}).length:X.products.length," product",(s.trim()?X.products.filter(de=>{const H=s.toLowerCase();return de.name.toLowerCase().includes(H)||de.asin&&de.asin.split(",").some(Ae=>Ae.trim().toLowerCase().includes(H))||de.barcode&&de.barcode.toLowerCase().includes(H)}).length:X.products.length)!==1?"s":""]})]})]}),he&&g.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[g.jsx("h4",{className:`font-medium ${p?"text-slate-300":"text-slate-700"}`,children:s.trim()?X.products.filter(de=>{const H=s.toLowerCase();return de.name.toLowerCase().includes(H)||de.asin&&de.asin.split(",").some(Ae=>Ae.trim().toLowerCase().includes(H))||de.barcode&&de.barcode.toLowerCase().includes(H)}).length===0:X.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),g.jsx("div",{className:"space-y-4",children:X.products.filter(de=>{if(s.trim()){const H=s.toLowerCase();return de.name.toLowerCase().includes(H)||de.asin&&de.asin.split(",").some(Ae=>Ae.trim().toLowerCase().includes(H))||de.barcode&&de.barcode.toLowerCase().includes(H)}return!0}).map(de=>{const H=X.totalStock===0?0:de.quantity/X.totalStock*100,Ae=s.toLowerCase(),Ee=de.name.toLowerCase().includes(Ae)||de.asin&&de.asin.split(",").some(Se=>Se.trim().toLowerCase().includes(Ae))||de.barcode&&de.barcode.toLowerCase().includes(Ae);return g.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${Ee?p?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsxs("div",{children:[g.jsx("h4",{className:`font-medium ${Ee?"text-blue-600":p?"text-white":"text-slate-800"}`,children:de.name}),g.jsxs("p",{className:`text-sm ${p?"text-slate-400":"text-slate-500"}`,children:["Shelf ",de.shelfNumber]})]}),g.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[g.jsxs("p",{className:`font-medium ${p?"text-white":"text-slate-800"}`,children:[de.quantity," units"]}),g.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async Se=>{Se.stopPropagation();const ae=await y1(qn(gt,"inventory",de.id));if(ae.exists()){const Ce=ae.data();_({...Ce,id:de.id}),C(1),T(de.locationCode),A(de.shelfNumber),y(!0)}else m("Failed to fetch product details","error")},children:"Move"})]})]}),g.jsx("div",{className:`w-full ${p?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:g.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${H>75?"bg-green-500":H>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${H}%`},title:`${de.quantity} out of ${X.totalStock} units (${H.toFixed(1)}%)`})})]},de.id)})})]})]},X.locationCode)})}),g.jsx(Wn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&g.jsxs("form",{onSubmit:X=>{X.preventDefault(),ce()},className:`space-y-4 ${p?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${p?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),g.jsx("input",{type:"number",min:1,max:b.quantity,value:O,onChange:X=>C(Number(X.target.value)),className:`w-full rounded border px-2 py-1 ${p?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),g.jsxs("div",{className:`text-xs mt-1 ${p?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${p?"text-slate-200":"text-slate-700"}`,children:"New Location"}),g.jsx("select",{value:N,onChange:X=>T(X.target.value),className:`w-full rounded border px-2 py-1 ${p?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:B.map(X=>g.jsx("option",{value:X,children:X},X))})]}),g.jsxs("div",{children:[g.jsx("label",{className:`block text-sm font-medium mb-1 ${p?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),g.jsx("select",{value:S,onChange:X=>A(X.target.value),className:`w-full rounded border px-2 py-1 ${p?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:[0,1,2,3,4,5].map(X=>g.jsx("option",{value:X,children:X},X))})]}),g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx("button",{type:"button",className:`px-3 py-1 rounded ${p?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),g.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${p?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:D,children:D?"Moving...":"Move"})]})]})}),g.jsx(nd,{isOpen:P,onClose:()=>j(!1),onBarcodeScanned:q})]})},oc=({children:e,allowedRoles:t})=>{const{user:r}=Ti();return r?t.includes(r.role)?g.jsx(g.Fragment,{children:e}):g.jsx(g4,{to:"/",replace:!0}):g.jsx(g4,{to:"/login",replace:!0})};function lBe(){return g.jsxs(NJ,{children:[g.jsx(Zs,{path:"/login",element:g.jsx(yce,{})}),g.jsxs(Zs,{path:"/",element:g.jsx(gce,{}),children:[g.jsx(Zs,{index:!0,element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(aye,{})})}),g.jsx(Zs,{path:"stock",element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(yye,{})})}),g.jsx(Zs,{path:"orders",element:g.jsx(oc,{allowedRoles:[""],children:g.jsx(Oye,{})})}),g.jsx(Zs,{path:"outbound-stock",element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(sBe,{})})}),g.jsx(Zs,{path:"warehouse-locations",element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(oBe,{})})}),g.jsx(Zs,{path:"warehouse-operations",element:g.jsx(oc,{allowedRoles:["admin"],children:g.jsx(m2e,{})})}),g.jsx(Zs,{path:"reports-analytics",element:g.jsx(oc,{allowedRoles:["admin"],children:g.jsx(nBe,{})})}),g.jsx(Zs,{path:"settings",element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(aBe,{})})}),g.jsx(Zs,{path:"add",element:g.jsx(oc,{allowedRoles:["admin","staff"],children:g.jsx(gq,{})})})]})]})}E9(document.getElementById("root")).render(g.jsx(Z.StrictMode,{children:g.jsx(FJ,{basename:"/",children:g.jsx(bae,{children:g.jsx(xae,{children:g.jsx(vce,{children:g.jsx(lBe,{})})})})})}));export{Mr as _,Wm as c,rn as g};
