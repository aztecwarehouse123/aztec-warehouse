function _Y(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E7={exports:{}},kw={},k7={exports:{}},kr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E1=Symbol.for("react.element"),SY=Symbol.for("react.portal"),AY=Symbol.for("react.fragment"),TY=Symbol.for("react.strict_mode"),EY=Symbol.for("react.profiler"),kY=Symbol.for("react.provider"),NY=Symbol.for("react.context"),CY=Symbol.for("react.forward_ref"),PY=Symbol.for("react.suspense"),OY=Symbol.for("react.memo"),IY=Symbol.for("react.lazy"),XP=Symbol.iterator;function DY(e){return e===null||typeof e!="object"?null:(e=XP&&e[XP]||e["@@iterator"],typeof e=="function"?e:null)}var N7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C7=Object.assign,P7={};function jp(e,t,r){this.props=e,this.context=t,this.refs=P7,this.updater=r||N7}jp.prototype.isReactComponent={};jp.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jp.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function O7(){}O7.prototype=jp.prototype;function g3(e,t,r){this.props=e,this.context=t,this.refs=P7,this.updater=r||N7}var v3=g3.prototype=new O7;v3.constructor=g3;C7(v3,jp.prototype);v3.isPureReactComponent=!0;var QP=Array.isArray,I7=Object.prototype.hasOwnProperty,y3={current:null},D7={key:!0,ref:!0,__self:!0,__source:!0};function j7(e,t,r){var n,a={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)I7.call(t,n)&&!D7.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:E1,type:e,key:i,ref:s,props:a,_owner:y3.current}}function jY(e,t){return{$$typeof:E1,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function x3(e){return typeof e=="object"&&e!==null&&e.$$typeof===E1}function LY(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var JP=/\/+/g;function N_(e,t){return typeof e=="object"&&e!==null&&e.key!=null?LY(""+e.key):t.toString(36)}function Rx(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case E1:case SY:s=!0}}if(s)return s=e,a=a(s),e=n===""?"."+N_(s,0):n,QP(a)?(r="",e!=null&&(r=e.replace(JP,"$&/")+"/"),Rx(a,t,r,"",function(c){return c})):a!=null&&(x3(a)&&(a=jY(a,r+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(JP,"$&/")+"/")+e)),t.push(a)),1;if(s=0,n=n===""?".":n+":",QP(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+N_(i,o);s+=Rx(i,t,r,l,a)}else if(l=DY(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+N_(i,o++),s+=Rx(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function jy(e,t,r){if(e==null)return e;var n=[],a=0;return Rx(e,n,"","",function(i){return t.call(r,i,a++)}),n}function MY(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ji={current:null},Fx={transition:null},RY={ReactCurrentDispatcher:Ji,ReactCurrentBatchConfig:Fx,ReactCurrentOwner:y3};function L7(){throw Error("act(...) is not supported in production builds of React.")}kr.Children={map:jy,forEach:function(e,t,r){jy(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return jy(e,function(){t++}),t},toArray:function(e){return jy(e,function(t){return t})||[]},only:function(e){if(!x3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kr.Component=jp;kr.Fragment=AY;kr.Profiler=EY;kr.PureComponent=g3;kr.StrictMode=TY;kr.Suspense=PY;kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RY;kr.act=L7;kr.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C7({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=y3.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)I7.call(t,l)&&!D7.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:E1,type:e.type,key:a,ref:i,props:n,_owner:s}};kr.createContext=function(e){return e={$$typeof:NY,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:kY,_context:e},e.Consumer=e};kr.createElement=j7;kr.createFactory=function(e){var t=j7.bind(null,e);return t.type=e,t};kr.createRef=function(){return{current:null}};kr.forwardRef=function(e){return{$$typeof:CY,render:e}};kr.isValidElement=x3;kr.lazy=function(e){return{$$typeof:IY,_payload:{_status:-1,_result:e},_init:MY}};kr.memo=function(e,t){return{$$typeof:OY,type:e,compare:t===void 0?null:t}};kr.startTransition=function(e){var t=Fx.transition;Fx.transition={};try{e()}finally{Fx.transition=t}};kr.unstable_act=L7;kr.useCallback=function(e,t){return Ji.current.useCallback(e,t)};kr.useContext=function(e){return Ji.current.useContext(e)};kr.useDebugValue=function(){};kr.useDeferredValue=function(e){return Ji.current.useDeferredValue(e)};kr.useEffect=function(e,t){return Ji.current.useEffect(e,t)};kr.useId=function(){return Ji.current.useId()};kr.useImperativeHandle=function(e,t,r){return Ji.current.useImperativeHandle(e,t,r)};kr.useInsertionEffect=function(e,t){return Ji.current.useInsertionEffect(e,t)};kr.useLayoutEffect=function(e,t){return Ji.current.useLayoutEffect(e,t)};kr.useMemo=function(e,t){return Ji.current.useMemo(e,t)};kr.useReducer=function(e,t,r){return Ji.current.useReducer(e,t,r)};kr.useRef=function(e){return Ji.current.useRef(e)};kr.useState=function(e){return Ji.current.useState(e)};kr.useSyncExternalStore=function(e,t,r){return Ji.current.useSyncExternalStore(e,t,r)};kr.useTransition=function(){return Ji.current.useTransition()};kr.version="18.3.1";k7.exports=kr;var W=k7.exports;const Oe=pn(W),FY=_Y({__proto__:null,default:Oe},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Y=W,BY=Symbol.for("react.element"),VY=Symbol.for("react.fragment"),UY=Object.prototype.hasOwnProperty,zY=$Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qY={key:!0,ref:!0,__self:!0,__source:!0};function M7(e,t,r){var n,a={},i=null,s=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)UY.call(t,n)&&!qY.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:BY,type:e,key:i,ref:s,props:a,_owner:zY.current}}kw.Fragment=VY;kw.jsx=M7;kw.jsxs=M7;E7.exports=kw;var p=E7.exports,R7={exports:{}},Ws={},F7={exports:{}},$7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,U){var re=H.length;H.push(U);e:for(;0<re;){var z=re-1>>>1,C=H[z];if(0<a(C,U))H[z]=U,H[re]=C,re=z;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var U=H[0],re=H.pop();if(re!==U){H[0]=re;e:for(var z=0,C=H.length,F=C>>>1;z<F;){var q=2*(z+1)-1,K=H[q],Z=q+1,oe=H[Z];if(0>a(K,re))Z<C&&0>a(oe,K)?(H[z]=oe,H[Z]=re,z=Z):(H[z]=K,H[q]=re,z=q);else if(Z<C&&0>a(oe,re))H[z]=oe,H[Z]=re,z=Z;else break e}}return U}function a(H,U){var re=H.sortIndex-U.sortIndex;return re!==0?re:H.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],c=[],u=1,f=null,h=3,d=!1,g=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=H)n(c),U.sortIndex=U.expirationTime,t(l,U);else break;U=r(c)}}function O(H){if(m=!1,w(H),!g)if(r(l)!==null)g=!0,Y(P);else{var U=r(c);U!==null&&J(O,U.startTime-H)}}function P(H,U){g=!1,m&&(m=!1,y(S),S=-1),d=!0;var re=h;try{for(w(U),f=r(l);f!==null&&(!(f.expirationTime>U)||H&&!T());){var z=f.callback;if(typeof z=="function"){f.callback=null,h=f.priorityLevel;var C=z(f.expirationTime<=U);U=e.unstable_now(),typeof C=="function"?f.callback=C:f===r(l)&&n(l),w(U)}else n(l);f=r(l)}if(f!==null)var F=!0;else{var q=r(c);q!==null&&J(O,q.startTime-U),F=!1}return F}finally{f=null,h=re,d=!1}}var I=!1,E=null,S=-1,A=5,D=-1;function T(){return!(e.unstable_now()-D<A)}function k(){if(E!==null){var H=e.unstable_now();D=H;var U=!0;try{U=E(!0,H)}finally{U?j():(I=!1,E=null)}}else I=!1}var j;if(typeof b=="function")j=function(){b(k)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,Q=V.port2;V.port1.onmessage=k,j=function(){Q.postMessage(null)}}else j=function(){v(k,0)};function Y(H){E=H,I||(I=!0,j())}function J(H,U){S=v(function(){H(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){g||d||(g=!0,Y(P))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var re=h;h=U;try{return H()}finally{h=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,U){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var re=h;h=H;try{return U()}finally{h=re}},e.unstable_scheduleCallback=function(H,U,re){var z=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=re+C,H={id:u++,callback:U,priorityLevel:H,startTime:re,expirationTime:C,sortIndex:-1},re>z?(H.sortIndex=re,t(c,H),r(l)===null&&H===r(c)&&(m?(y(S),S=-1):m=!0,J(O,re-z))):(H.sortIndex=C,t(l,H),g||d||(g=!0,Y(P))),H},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(H){var U=h;return function(){var re=h;h=U;try{return H.apply(this,arguments)}finally{h=re}}}})($7);F7.exports=$7;var WY=F7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HY=W,Vs=WY;function Nt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var B7=new Set,Yg={};function id(e,t){H0(e,t),H0(e+"Capture",t)}function H0(e,t){for(Yg[e]=t,e=0;e<t.length;e++)B7.add(t[e])}var kc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PA=Object.prototype.hasOwnProperty,GY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ZP={},e6={};function KY(e){return PA.call(e6,e)?!0:PA.call(ZP,e)?!1:GY.test(e)?e6[e]=!0:(ZP[e]=!0,!1)}function YY(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function XY(e,t,r,n){if(t===null||typeof t>"u"||YY(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Zi(e,t,r,n,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var oi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){oi[e]=new Zi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];oi[t]=new Zi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){oi[e]=new Zi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){oi[e]=new Zi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){oi[e]=new Zi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){oi[e]=new Zi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){oi[e]=new Zi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){oi[e]=new Zi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){oi[e]=new Zi(e,5,!1,e.toLowerCase(),null,!1,!1)});var b3=/[\-:]([a-z])/g;function w3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Zi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Zi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(b3,w3);oi[t]=new Zi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){oi[e]=new Zi(e,1,!1,e.toLowerCase(),null,!1,!1)});oi.xlinkHref=new Zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){oi[e]=new Zi(e,1,!1,e.toLowerCase(),null,!0,!0)});function _3(e,t,r,n){var a=oi.hasOwnProperty(t)?oi[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(XY(t,r,a,n)&&(r=null),n||a===null?KY(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Wc=HY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ly=Symbol.for("react.element"),n0=Symbol.for("react.portal"),a0=Symbol.for("react.fragment"),S3=Symbol.for("react.strict_mode"),OA=Symbol.for("react.profiler"),V7=Symbol.for("react.provider"),U7=Symbol.for("react.context"),A3=Symbol.for("react.forward_ref"),IA=Symbol.for("react.suspense"),DA=Symbol.for("react.suspense_list"),T3=Symbol.for("react.memo"),ju=Symbol.for("react.lazy"),z7=Symbol.for("react.offscreen"),t6=Symbol.iterator;function km(e){return e===null||typeof e!="object"?null:(e=t6&&e[t6]||e["@@iterator"],typeof e=="function"?e:null)}var Un=Object.assign,C_;function Jm(e){if(C_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);C_=t&&t[1]||""}return`
`+C_+e}var P_=!1;function O_(e,t){if(!e||P_)return"";P_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var n=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){n=c}e.call(t.prototype)}else{try{throw Error()}catch(c){n=c}e()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var a=c.stack.split(`
`),i=n.stack.split(`
`),s=a.length-1,o=i.length-1;1<=s&&0<=o&&a[s]!==i[o];)o--;for(;1<=s&&0<=o;s--,o--)if(a[s]!==i[o]){if(s!==1||o!==1)do if(s--,o--,0>o||a[s]!==i[o]){var l=`
`+a[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{P_=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Jm(e):""}function QY(e){switch(e.tag){case 5:return Jm(e.type);case 16:return Jm("Lazy");case 13:return Jm("Suspense");case 19:return Jm("SuspenseList");case 0:case 2:case 15:return e=O_(e.type,!1),e;case 11:return e=O_(e.type.render,!1),e;case 1:return e=O_(e.type,!0),e;default:return""}}function jA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case a0:return"Fragment";case n0:return"Portal";case OA:return"Profiler";case S3:return"StrictMode";case IA:return"Suspense";case DA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case U7:return(e.displayName||"Context")+".Consumer";case V7:return(e._context.displayName||"Context")+".Provider";case A3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T3:return t=e.displayName||null,t!==null?t:jA(e.type)||"Memo";case ju:t=e._payload,e=e._init;try{return jA(e(t))}catch{}}return null}function JY(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jA(t);case 8:return t===S3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function gf(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q7(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ZY(e){var t=q7(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function My(e){e._valueTracker||(e._valueTracker=ZY(e))}function W7(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q7(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function h2(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function LA(e,t){var r=t.checked;return Un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function r6(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=gf(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function H7(e,t){t=t.checked,t!=null&&_3(e,"checked",t,!1)}function MA(e,t){H7(e,t);var r=gf(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?RA(e,t.type,r):t.hasOwnProperty("defaultValue")&&RA(e,t.type,gf(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n6(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function RA(e,t,r){(t!=="number"||h2(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Zm=Array.isArray;function T0(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+gf(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function FA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Nt(91));return Un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function a6(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Nt(92));if(Zm(r)){if(1<r.length)throw Error(Nt(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:gf(r)}}function G7(e,t){var r=gf(t.value),n=gf(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function i6(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function K7(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $A(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?K7(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ry,Y7=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ry=Ry||document.createElement("div"),Ry.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ry.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Xg(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var dg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eX=["Webkit","ms","Moz","O"];Object.keys(dg).forEach(function(e){eX.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),dg[t]=dg[e]})});function X7(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||dg.hasOwnProperty(e)&&dg[e]?(""+t).trim():t+"px"}function Q7(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=X7(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var tX=Un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BA(e,t){if(t){if(tX[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Nt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Nt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Nt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Nt(62))}}function VA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UA=null;function E3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zA=null,E0=null,k0=null;function s6(e){if(e=C1(e)){if(typeof zA!="function")throw Error(Nt(280));var t=e.stateNode;t&&(t=Iw(t),zA(e.stateNode,e.type,t))}}function J7(e){E0?k0?k0.push(e):k0=[e]:E0=e}function Z7(){if(E0){var e=E0,t=k0;if(k0=E0=null,s6(e),t)for(e=0;e<t.length;e++)s6(t[e])}}function eF(e,t){return e(t)}function tF(){}var I_=!1;function rF(e,t,r){if(I_)return e(t,r);I_=!0;try{return eF(e,t,r)}finally{I_=!1,(E0!==null||k0!==null)&&(tF(),Z7())}}function Qg(e,t){var r=e.stateNode;if(r===null)return null;var n=Iw(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Nt(231,t,typeof r));return r}var qA=!1;if(kc)try{var Nm={};Object.defineProperty(Nm,"passive",{get:function(){qA=!0}}),window.addEventListener("test",Nm,Nm),window.removeEventListener("test",Nm,Nm)}catch{qA=!1}function rX(e,t,r,n,a,i,s,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(u){this.onError(u)}}var pg=!1,d2=null,p2=!1,WA=null,nX={onError:function(e){pg=!0,d2=e}};function aX(e,t,r,n,a,i,s,o,l){pg=!1,d2=null,rX.apply(nX,arguments)}function iX(e,t,r,n,a,i,s,o,l){if(aX.apply(this,arguments),pg){if(pg){var c=d2;pg=!1,d2=null}else throw Error(Nt(198));p2||(p2=!0,WA=c)}}function sd(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function nF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function o6(e){if(sd(e)!==e)throw Error(Nt(188))}function sX(e){var t=e.alternate;if(!t){if(t=sd(e),t===null)throw Error(Nt(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return o6(a),e;if(i===n)return o6(a),t;i=i.sibling}throw Error(Nt(188))}if(r.return!==n.return)r=a,n=i;else{for(var s=!1,o=a.child;o;){if(o===r){s=!0,r=a,n=i;break}if(o===n){s=!0,n=a,r=i;break}o=o.sibling}if(!s){for(o=i.child;o;){if(o===r){s=!0,r=i,n=a;break}if(o===n){s=!0,n=i,r=a;break}o=o.sibling}if(!s)throw Error(Nt(189))}}if(r.alternate!==n)throw Error(Nt(190))}if(r.tag!==3)throw Error(Nt(188));return r.stateNode.current===r?e:t}function aF(e){return e=sX(e),e!==null?iF(e):null}function iF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=iF(e);if(t!==null)return t;e=e.sibling}return null}var sF=Vs.unstable_scheduleCallback,l6=Vs.unstable_cancelCallback,oX=Vs.unstable_shouldYield,lX=Vs.unstable_requestPaint,aa=Vs.unstable_now,cX=Vs.unstable_getCurrentPriorityLevel,k3=Vs.unstable_ImmediatePriority,oF=Vs.unstable_UserBlockingPriority,m2=Vs.unstable_NormalPriority,uX=Vs.unstable_LowPriority,lF=Vs.unstable_IdlePriority,Nw=null,Pl=null;function fX(e){if(Pl&&typeof Pl.onCommitFiberRoot=="function")try{Pl.onCommitFiberRoot(Nw,e,void 0,(e.current.flags&128)===128)}catch{}}var rl=Math.clz32?Math.clz32:pX,hX=Math.log,dX=Math.LN2;function pX(e){return e>>>=0,e===0?32:31-(hX(e)/dX|0)|0}var Fy=64,$y=4194304;function eg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g2(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,s=r&268435455;if(s!==0){var o=s&~a;o!==0?n=eg(o):(i&=s,i!==0&&(n=eg(i)))}else s=r&~a,s!==0?n=eg(s):i!==0&&(n=eg(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-rl(t),a=1<<r,n|=e[r],t&=~a;return n}function mX(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gX(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-rl(i),o=1<<s,l=a[s];l===-1?(!(o&r)||o&n)&&(a[s]=mX(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function HA(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function cF(){var e=Fy;return Fy<<=1,!(Fy&4194240)&&(Fy=64),e}function D_(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function k1(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rl(t),e[t]=r}function vX(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-rl(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function N3(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-rl(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var on=0;function uF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var fF,C3,hF,dF,pF,GA=!1,By=[],Ju=null,Zu=null,ef=null,Jg=new Map,Zg=new Map,Ru=[],yX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function c6(e,t){switch(e){case"focusin":case"focusout":Ju=null;break;case"dragenter":case"dragleave":Zu=null;break;case"mouseover":case"mouseout":ef=null;break;case"pointerover":case"pointerout":Jg.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zg.delete(t.pointerId)}}function Cm(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=C1(t),t!==null&&C3(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function xX(e,t,r,n,a){switch(t){case"focusin":return Ju=Cm(Ju,e,t,r,n,a),!0;case"dragenter":return Zu=Cm(Zu,e,t,r,n,a),!0;case"mouseover":return ef=Cm(ef,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return Jg.set(i,Cm(Jg.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Zg.set(i,Cm(Zg.get(i)||null,e,t,r,n,a)),!0}return!1}function mF(e){var t=bh(e.target);if(t!==null){var r=sd(t);if(r!==null){if(t=r.tag,t===13){if(t=nF(r),t!==null){e.blockedOn=t,pF(e.priority,function(){hF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $x(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=KA(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);UA=n,r.target.dispatchEvent(n),UA=null}else return t=C1(r),t!==null&&C3(t),e.blockedOn=r,!1;t.shift()}return!0}function u6(e,t,r){$x(e)&&r.delete(t)}function bX(){GA=!1,Ju!==null&&$x(Ju)&&(Ju=null),Zu!==null&&$x(Zu)&&(Zu=null),ef!==null&&$x(ef)&&(ef=null),Jg.forEach(u6),Zg.forEach(u6)}function Pm(e,t){e.blockedOn===t&&(e.blockedOn=null,GA||(GA=!0,Vs.unstable_scheduleCallback(Vs.unstable_NormalPriority,bX)))}function ev(e){function t(a){return Pm(a,e)}if(0<By.length){Pm(By[0],e);for(var r=1;r<By.length;r++){var n=By[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ju!==null&&Pm(Ju,e),Zu!==null&&Pm(Zu,e),ef!==null&&Pm(ef,e),Jg.forEach(t),Zg.forEach(t),r=0;r<Ru.length;r++)n=Ru[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ru.length&&(r=Ru[0],r.blockedOn===null);)mF(r),r.blockedOn===null&&Ru.shift()}var N0=Wc.ReactCurrentBatchConfig,v2=!0;function wX(e,t,r,n){var a=on,i=N0.transition;N0.transition=null;try{on=1,P3(e,t,r,n)}finally{on=a,N0.transition=i}}function _X(e,t,r,n){var a=on,i=N0.transition;N0.transition=null;try{on=4,P3(e,t,r,n)}finally{on=a,N0.transition=i}}function P3(e,t,r,n){if(v2){var a=KA(e,t,r,n);if(a===null)z_(e,t,n,y2,r),c6(e,n);else if(xX(a,e,t,r,n))n.stopPropagation();else if(c6(e,n),t&4&&-1<yX.indexOf(e)){for(;a!==null;){var i=C1(a);if(i!==null&&fF(i),i=KA(e,t,r,n),i===null&&z_(e,t,n,y2,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else z_(e,t,n,null,r)}}var y2=null;function KA(e,t,r,n){if(y2=null,e=E3(n),e=bh(e),e!==null)if(t=sd(e),t===null)e=null;else if(r=t.tag,r===13){if(e=nF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return y2=e,null}function gF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cX()){case k3:return 1;case oF:return 4;case m2:case uX:return 16;case lF:return 536870912;default:return 16}default:return 16}}var zu=null,O3=null,Bx=null;function vF(){if(Bx)return Bx;var e,t=O3,r=t.length,n,a="value"in zu?zu.value:zu.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===a[i-n];n++);return Bx=a.slice(e,1<n?1-n:void 0)}function Vx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vy(){return!0}function f6(){return!1}function Hs(e){function t(r,n,a,i,s){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vy:f6,this.isPropagationStopped=f6,this}return Un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vy)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vy)},persist:function(){},isPersistent:Vy}),t}var Lp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I3=Hs(Lp),N1=Un({},Lp,{view:0,detail:0}),SX=Hs(N1),j_,L_,Om,Cw=Un({},N1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Om&&(Om&&e.type==="mousemove"?(j_=e.screenX-Om.screenX,L_=e.screenY-Om.screenY):L_=j_=0,Om=e),j_)},movementY:function(e){return"movementY"in e?e.movementY:L_}}),h6=Hs(Cw),AX=Un({},Cw,{dataTransfer:0}),TX=Hs(AX),EX=Un({},N1,{relatedTarget:0}),M_=Hs(EX),kX=Un({},Lp,{animationName:0,elapsedTime:0,pseudoElement:0}),NX=Hs(kX),CX=Un({},Lp,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),PX=Hs(CX),OX=Un({},Lp,{data:0}),d6=Hs(OX),IX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LX(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=jX[e])?!!t[e]:!1}function D3(){return LX}var MX=Un({},N1,{key:function(e){if(e.key){var t=IX[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?DX[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D3,charCode:function(e){return e.type==="keypress"?Vx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),RX=Hs(MX),FX=Un({},Cw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p6=Hs(FX),$X=Un({},N1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D3}),BX=Hs($X),VX=Un({},Lp,{propertyName:0,elapsedTime:0,pseudoElement:0}),UX=Hs(VX),zX=Un({},Cw,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qX=Hs(zX),WX=[9,13,27,32],j3=kc&&"CompositionEvent"in window,mg=null;kc&&"documentMode"in document&&(mg=document.documentMode);var HX=kc&&"TextEvent"in window&&!mg,yF=kc&&(!j3||mg&&8<mg&&11>=mg),m6=" ",g6=!1;function xF(e,t){switch(e){case"keyup":return WX.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var i0=!1;function GX(e,t){switch(e){case"compositionend":return bF(t);case"keypress":return t.which!==32?null:(g6=!0,m6);case"textInput":return e=t.data,e===m6&&g6?null:e;default:return null}}function KX(e,t){if(i0)return e==="compositionend"||!j3&&xF(e,t)?(e=vF(),Bx=O3=zu=null,i0=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yF&&t.locale!=="ko"?null:t.data;default:return null}}var YX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v6(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!YX[e.type]:t==="textarea"}function wF(e,t,r,n){J7(n),t=x2(t,"onChange"),0<t.length&&(r=new I3("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var gg=null,tv=null;function XX(e){IF(e,0)}function Pw(e){var t=l0(e);if(W7(t))return e}function QX(e,t){if(e==="change")return t}var _F=!1;if(kc){var R_;if(kc){var F_="oninput"in document;if(!F_){var y6=document.createElement("div");y6.setAttribute("oninput","return;"),F_=typeof y6.oninput=="function"}R_=F_}else R_=!1;_F=R_&&(!document.documentMode||9<document.documentMode)}function x6(){gg&&(gg.detachEvent("onpropertychange",SF),tv=gg=null)}function SF(e){if(e.propertyName==="value"&&Pw(tv)){var t=[];wF(t,tv,e,E3(e)),rF(XX,t)}}function JX(e,t,r){e==="focusin"?(x6(),gg=t,tv=r,gg.attachEvent("onpropertychange",SF)):e==="focusout"&&x6()}function ZX(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pw(tv)}function eQ(e,t){if(e==="click")return Pw(t)}function tQ(e,t){if(e==="input"||e==="change")return Pw(t)}function rQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sl=typeof Object.is=="function"?Object.is:rQ;function rv(e,t){if(sl(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!PA.call(t,a)||!sl(e[a],t[a]))return!1}return!0}function b6(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function w6(e,t){var r=b6(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=b6(r)}}function AF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?AF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function TF(){for(var e=window,t=h2();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=h2(e.document)}return t}function L3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function nQ(e){var t=TF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&AF(r.ownerDocument.documentElement,r)){if(n!==null&&L3(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=w6(r,i);var s=w6(r,n);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var aQ=kc&&"documentMode"in document&&11>=document.documentMode,s0=null,YA=null,vg=null,XA=!1;function _6(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;XA||s0==null||s0!==h2(n)||(n=s0,"selectionStart"in n&&L3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vg&&rv(vg,n)||(vg=n,n=x2(YA,"onSelect"),0<n.length&&(t=new I3("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=s0)))}function Uy(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var o0={animationend:Uy("Animation","AnimationEnd"),animationiteration:Uy("Animation","AnimationIteration"),animationstart:Uy("Animation","AnimationStart"),transitionend:Uy("Transition","TransitionEnd")},$_={},EF={};kc&&(EF=document.createElement("div").style,"AnimationEvent"in window||(delete o0.animationend.animation,delete o0.animationiteration.animation,delete o0.animationstart.animation),"TransitionEvent"in window||delete o0.transitionend.transition);function Ow(e){if($_[e])return $_[e];if(!o0[e])return e;var t=o0[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in EF)return $_[e]=t[r];return e}var kF=Ow("animationend"),NF=Ow("animationiteration"),CF=Ow("animationstart"),PF=Ow("transitionend"),OF=new Map,S6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pf(e,t){OF.set(e,t),id(t,[e])}for(var B_=0;B_<S6.length;B_++){var V_=S6[B_],iQ=V_.toLowerCase(),sQ=V_[0].toUpperCase()+V_.slice(1);Pf(iQ,"on"+sQ)}Pf(kF,"onAnimationEnd");Pf(NF,"onAnimationIteration");Pf(CF,"onAnimationStart");Pf("dblclick","onDoubleClick");Pf("focusin","onFocus");Pf("focusout","onBlur");Pf(PF,"onTransitionEnd");H0("onMouseEnter",["mouseout","mouseover"]);H0("onMouseLeave",["mouseout","mouseover"]);H0("onPointerEnter",["pointerout","pointerover"]);H0("onPointerLeave",["pointerout","pointerover"]);id("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));id("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));id("onBeforeInput",["compositionend","keypress","textInput","paste"]);id("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));id("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));id("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(tg));function A6(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,iX(n,t,void 0,e),e.currentTarget=null}function IF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==i&&a.isPropagationStopped())break e;A6(a,o,c),i=l}else for(s=0;s<n.length;s++){if(o=n[s],l=o.instance,c=o.currentTarget,o=o.listener,l!==i&&a.isPropagationStopped())break e;A6(a,o,c),i=l}}}if(p2)throw e=WA,p2=!1,WA=null,e}function kn(e,t){var r=t[t4];r===void 0&&(r=t[t4]=new Set);var n=e+"__bubble";r.has(n)||(DF(t,e,2,!1),r.add(n))}function U_(e,t,r){var n=0;t&&(n|=4),DF(r,e,n,t)}var zy="_reactListening"+Math.random().toString(36).slice(2);function nv(e){if(!e[zy]){e[zy]=!0,B7.forEach(function(r){r!=="selectionchange"&&(oQ.has(r)||U_(r,!1,e),U_(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zy]||(t[zy]=!0,U_("selectionchange",!1,t))}}function DF(e,t,r,n){switch(gF(t)){case 1:var a=wX;break;case 4:a=_X;break;default:a=P3}r=a.bind(null,t,r,e),a=void 0,!qA||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function z_(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;s=s.return}for(;o!==null;){if(s=bh(o),s===null)return;if(l=s.tag,l===5||l===6){n=i=s;continue e}o=o.parentNode}}n=n.return}rF(function(){var c=i,u=E3(r),f=[];e:{var h=OF.get(e);if(h!==void 0){var d=I3,g=e;switch(e){case"keypress":if(Vx(r)===0)break e;case"keydown":case"keyup":d=RX;break;case"focusin":g="focus",d=M_;break;case"focusout":g="blur",d=M_;break;case"beforeblur":case"afterblur":d=M_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=h6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=TX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=BX;break;case kF:case NF:case CF:d=NX;break;case PF:d=UX;break;case"scroll":d=SX;break;case"wheel":d=qX;break;case"copy":case"cut":case"paste":d=PX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=p6}var m=(t&4)!==0,v=!m&&e==="scroll",y=m?h!==null?h+"Capture":null:h;m=[];for(var b=c,w;b!==null;){w=b;var O=w.stateNode;if(w.tag===5&&O!==null&&(w=O,y!==null&&(O=Qg(b,y),O!=null&&m.push(av(b,O,w)))),v)break;b=b.return}0<m.length&&(h=new d(h,g,null,r,u),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",h&&r!==UA&&(g=r.relatedTarget||r.fromElement)&&(bh(g)||g[Nc]))break e;if((d||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,d?(g=r.relatedTarget||r.toElement,d=c,g=g?bh(g):null,g!==null&&(v=sd(g),g!==v||g.tag!==5&&g.tag!==6)&&(g=null)):(d=null,g=c),d!==g)){if(m=h6,O="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(m=p6,O="onPointerLeave",y="onPointerEnter",b="pointer"),v=d==null?h:l0(d),w=g==null?h:l0(g),h=new m(O,b+"leave",d,r,u),h.target=v,h.relatedTarget=w,O=null,bh(u)===c&&(m=new m(y,b+"enter",g,r,u),m.target=w,m.relatedTarget=v,O=m),v=O,d&&g)t:{for(m=d,y=g,b=0,w=m;w;w=Ud(w))b++;for(w=0,O=y;O;O=Ud(O))w++;for(;0<b-w;)m=Ud(m),b--;for(;0<w-b;)y=Ud(y),w--;for(;b--;){if(m===y||y!==null&&m===y.alternate)break t;m=Ud(m),y=Ud(y)}m=null}else m=null;d!==null&&T6(f,h,d,m,!1),g!==null&&v!==null&&T6(f,v,g,m,!0)}}e:{if(h=c?l0(c):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var P=QX;else if(v6(h))if(_F)P=tQ;else{P=ZX;var I=JX}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=eQ);if(P&&(P=P(e,c))){wF(f,P,r,u);break e}I&&I(e,h,c),e==="focusout"&&(I=h._wrapperState)&&I.controlled&&h.type==="number"&&RA(h,"number",h.value)}switch(I=c?l0(c):window,e){case"focusin":(v6(I)||I.contentEditable==="true")&&(s0=I,YA=c,vg=null);break;case"focusout":vg=YA=s0=null;break;case"mousedown":XA=!0;break;case"contextmenu":case"mouseup":case"dragend":XA=!1,_6(f,r,u);break;case"selectionchange":if(aQ)break;case"keydown":case"keyup":_6(f,r,u)}var E;if(j3)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else i0?xF(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(yF&&r.locale!=="ko"&&(i0||S!=="onCompositionStart"?S==="onCompositionEnd"&&i0&&(E=vF()):(zu=u,O3="value"in zu?zu.value:zu.textContent,i0=!0)),I=x2(c,S),0<I.length&&(S=new d6(S,e,null,r,u),f.push({event:S,listeners:I}),E?S.data=E:(E=bF(r),E!==null&&(S.data=E)))),(E=HX?GX(e,r):KX(e,r))&&(c=x2(c,"onBeforeInput"),0<c.length&&(u=new d6("onBeforeInput","beforeinput",null,r,u),f.push({event:u,listeners:c}),u.data=E))}IF(f,t)})}function av(e,t,r){return{instance:e,listener:t,currentTarget:r}}function x2(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=Qg(e,r),i!=null&&n.unshift(av(e,i,a)),i=Qg(e,t),i!=null&&n.push(av(e,i,a))),e=e.return}return n}function Ud(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function T6(e,t,r,n,a){for(var i=t._reactName,s=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,a?(l=Qg(r,i),l!=null&&s.unshift(av(r,l,o))):a||(l=Qg(r,i),l!=null&&s.push(av(r,l,o)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var lQ=/\r\n?/g,cQ=/\u0000|\uFFFD/g;function E6(e){return(typeof e=="string"?e:""+e).replace(lQ,`
`).replace(cQ,"")}function qy(e,t,r){if(t=E6(t),E6(e)!==t&&r)throw Error(Nt(425))}function b2(){}var QA=null,JA=null;function ZA(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var e4=typeof setTimeout=="function"?setTimeout:void 0,uQ=typeof clearTimeout=="function"?clearTimeout:void 0,k6=typeof Promise=="function"?Promise:void 0,fQ=typeof queueMicrotask=="function"?queueMicrotask:typeof k6<"u"?function(e){return k6.resolve(null).then(e).catch(hQ)}:e4;function hQ(e){setTimeout(function(){throw e})}function q_(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),ev(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);ev(t)}function tf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function N6(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Mp=Math.random().toString(36).slice(2),kl="__reactFiber$"+Mp,iv="__reactProps$"+Mp,Nc="__reactContainer$"+Mp,t4="__reactEvents$"+Mp,dQ="__reactListeners$"+Mp,pQ="__reactHandles$"+Mp;function bh(e){var t=e[kl];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nc]||r[kl]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=N6(e);e!==null;){if(r=e[kl])return r;e=N6(e)}return t}e=r,r=e.parentNode}return null}function C1(e){return e=e[kl]||e[Nc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function l0(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Nt(33))}function Iw(e){return e[iv]||null}var r4=[],c0=-1;function Of(e){return{current:e}}function In(e){0>c0||(e.current=r4[c0],r4[c0]=null,c0--)}function Sn(e,t){c0++,r4[c0]=e.current,e.current=t}var vf={},Pi=Of(vf),gs=Of(!1),Uh=vf;function G0(e,t){var r=e.type.contextTypes;if(!r)return vf;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function vs(e){return e=e.childContextTypes,e!=null}function w2(){In(gs),In(Pi)}function C6(e,t,r){if(Pi.current!==vf)throw Error(Nt(168));Sn(Pi,t),Sn(gs,r)}function jF(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(Nt(108,JY(e)||"Unknown",a));return Un({},r,n)}function _2(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vf,Uh=Pi.current,Sn(Pi,e),Sn(gs,gs.current),!0}function P6(e,t,r){var n=e.stateNode;if(!n)throw Error(Nt(169));r?(e=jF(e,t,Uh),n.__reactInternalMemoizedMergedChildContext=e,In(gs),In(Pi),Sn(Pi,e)):In(gs),Sn(gs,r)}var fc=null,Dw=!1,W_=!1;function LF(e){fc===null?fc=[e]:fc.push(e)}function mQ(e){Dw=!0,LF(e)}function If(){if(!W_&&fc!==null){W_=!0;var e=0,t=on;try{var r=fc;for(on=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}fc=null,Dw=!1}catch(a){throw fc!==null&&(fc=fc.slice(e+1)),sF(k3,If),a}finally{on=t,W_=!1}}return null}var u0=[],f0=0,S2=null,A2=0,uo=[],fo=0,zh=null,hc=1,dc="";function ch(e,t){u0[f0++]=A2,u0[f0++]=S2,S2=e,A2=t}function MF(e,t,r){uo[fo++]=hc,uo[fo++]=dc,uo[fo++]=zh,zh=e;var n=hc;e=dc;var a=32-rl(n)-1;n&=~(1<<a),r+=1;var i=32-rl(t)+a;if(30<i){var s=a-a%5;i=(n&(1<<s)-1).toString(32),n>>=s,a-=s,hc=1<<32-rl(t)+a|r<<a|n,dc=i+e}else hc=1<<i|r<<a|n,dc=e}function M3(e){e.return!==null&&(ch(e,1),MF(e,1,0))}function R3(e){for(;e===S2;)S2=u0[--f0],u0[f0]=null,A2=u0[--f0],u0[f0]=null;for(;e===zh;)zh=uo[--fo],uo[fo]=null,dc=uo[--fo],uo[fo]=null,hc=uo[--fo],uo[fo]=null}var Bs=null,Ms=null,jn=!1,Yo=null;function RF(e,t){var r=ho(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function O6(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Bs=e,Ms=tf(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Bs=e,Ms=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zh!==null?{id:hc,overflow:dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ho(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Bs=e,Ms=null,!0):!1;default:return!1}}function n4(e){return(e.mode&1)!==0&&(e.flags&128)===0}function a4(e){if(jn){var t=Ms;if(t){var r=t;if(!O6(e,t)){if(n4(e))throw Error(Nt(418));t=tf(r.nextSibling);var n=Bs;t&&O6(e,t)?RF(n,r):(e.flags=e.flags&-4097|2,jn=!1,Bs=e)}}else{if(n4(e))throw Error(Nt(418));e.flags=e.flags&-4097|2,jn=!1,Bs=e}}}function I6(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Bs=e}function Wy(e){if(e!==Bs)return!1;if(!jn)return I6(e),jn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ZA(e.type,e.memoizedProps)),t&&(t=Ms)){if(n4(e))throw FF(),Error(Nt(418));for(;t;)RF(e,t),t=tf(t.nextSibling)}if(I6(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Nt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ms=tf(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ms=null}}else Ms=Bs?tf(e.stateNode.nextSibling):null;return!0}function FF(){for(var e=Ms;e;)e=tf(e.nextSibling)}function K0(){Ms=Bs=null,jn=!1}function F3(e){Yo===null?Yo=[e]:Yo.push(e)}var gQ=Wc.ReactCurrentBatchConfig;function Im(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Nt(309));var n=r.stateNode}if(!n)throw Error(Nt(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var o=a.refs;s===null?delete o[i]:o[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Nt(284));if(!r._owner)throw Error(Nt(290,e))}return e}function Hy(e,t){throw e=Object.prototype.toString.call(t),Error(Nt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function D6(e){var t=e._init;return t(e._payload)}function $F(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function r(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function n(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=sf(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,b,w,O){return b===null||b.tag!==6?(b=J_(w,y.mode,O),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,O){var P=w.type;return P===a0?u(y,b,w.props.children,O,w.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ju&&D6(P)===b.type)?(O=a(b,w.props),O.ref=Im(y,b,w),O.return=y,O):(O=Kx(w.type,w.key,w.props,null,y.mode,O),O.ref=Im(y,b,w),O.return=y,O)}function c(y,b,w,O){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=Z_(w,y.mode,O),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function u(y,b,w,O,P){return b===null||b.tag!==7?(b=Dh(w,y.mode,O,P),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=J_(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ly:return w=Kx(b.type,b.key,b.props,null,y.mode,w),w.ref=Im(y,null,b),w.return=y,w;case n0:return b=Z_(b,y.mode,w),b.return=y,b;case ju:var O=b._init;return f(y,O(b._payload),w)}if(Zm(b)||km(b))return b=Dh(b,y.mode,w,null),b.return=y,b;Hy(y,b)}return null}function h(y,b,w,O){var P=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:o(y,b,""+w,O);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ly:return w.key===P?l(y,b,w,O):null;case n0:return w.key===P?c(y,b,w,O):null;case ju:return P=w._init,h(y,b,P(w._payload),O)}if(Zm(w)||km(w))return P!==null?null:u(y,b,w,O,null);Hy(y,w)}return null}function d(y,b,w,O,P){if(typeof O=="string"&&O!==""||typeof O=="number")return y=y.get(w)||null,o(b,y,""+O,P);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Ly:return y=y.get(O.key===null?w:O.key)||null,l(b,y,O,P);case n0:return y=y.get(O.key===null?w:O.key)||null,c(b,y,O,P);case ju:var I=O._init;return d(y,b,w,I(O._payload),P)}if(Zm(O)||km(O))return y=y.get(w)||null,u(b,y,O,P,null);Hy(b,O)}return null}function g(y,b,w,O){for(var P=null,I=null,E=b,S=b=0,A=null;E!==null&&S<w.length;S++){E.index>S?(A=E,E=null):A=E.sibling;var D=h(y,E,w[S],O);if(D===null){E===null&&(E=A);break}e&&E&&D.alternate===null&&t(y,E),b=i(D,b,S),I===null?P=D:I.sibling=D,I=D,E=A}if(S===w.length)return r(y,E),jn&&ch(y,S),P;if(E===null){for(;S<w.length;S++)E=f(y,w[S],O),E!==null&&(b=i(E,b,S),I===null?P=E:I.sibling=E,I=E);return jn&&ch(y,S),P}for(E=n(y,E);S<w.length;S++)A=d(E,y,S,w[S],O),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?S:A.key),b=i(A,b,S),I===null?P=A:I.sibling=A,I=A);return e&&E.forEach(function(T){return t(y,T)}),jn&&ch(y,S),P}function m(y,b,w,O){var P=km(w);if(typeof P!="function")throw Error(Nt(150));if(w=P.call(w),w==null)throw Error(Nt(151));for(var I=P=null,E=b,S=b=0,A=null,D=w.next();E!==null&&!D.done;S++,D=w.next()){E.index>S?(A=E,E=null):A=E.sibling;var T=h(y,E,D.value,O);if(T===null){E===null&&(E=A);break}e&&E&&T.alternate===null&&t(y,E),b=i(T,b,S),I===null?P=T:I.sibling=T,I=T,E=A}if(D.done)return r(y,E),jn&&ch(y,S),P;if(E===null){for(;!D.done;S++,D=w.next())D=f(y,D.value,O),D!==null&&(b=i(D,b,S),I===null?P=D:I.sibling=D,I=D);return jn&&ch(y,S),P}for(E=n(y,E);!D.done;S++,D=w.next())D=d(E,y,S,D.value,O),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?S:D.key),b=i(D,b,S),I===null?P=D:I.sibling=D,I=D);return e&&E.forEach(function(k){return t(y,k)}),jn&&ch(y,S),P}function v(y,b,w,O){if(typeof w=="object"&&w!==null&&w.type===a0&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ly:e:{for(var P=w.key,I=b;I!==null;){if(I.key===P){if(P=w.type,P===a0){if(I.tag===7){r(y,I.sibling),b=a(I,w.props.children),b.return=y,y=b;break e}}else if(I.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ju&&D6(P)===I.type){r(y,I.sibling),b=a(I,w.props),b.ref=Im(y,I,w),b.return=y,y=b;break e}r(y,I);break}else t(y,I);I=I.sibling}w.type===a0?(b=Dh(w.props.children,y.mode,O,w.key),b.return=y,y=b):(O=Kx(w.type,w.key,w.props,null,y.mode,O),O.ref=Im(y,b,w),O.return=y,y=O)}return s(y);case n0:e:{for(I=w.key;b!==null;){if(b.key===I)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){r(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{r(y,b);break}else t(y,b);b=b.sibling}b=Z_(w,y.mode,O),b.return=y,y=b}return s(y);case ju:return I=w._init,v(y,b,I(w._payload),O)}if(Zm(w))return g(y,b,w,O);if(km(w))return m(y,b,w,O);Hy(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(r(y,b.sibling),b=a(b,w),b.return=y,y=b):(r(y,b),b=J_(w,y.mode,O),b.return=y,y=b),s(y)):r(y,b)}return v}var Y0=$F(!0),BF=$F(!1),T2=Of(null),E2=null,h0=null,$3=null;function B3(){$3=h0=E2=null}function V3(e){var t=T2.current;In(T2),e._currentValue=t}function i4(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function C0(e,t){E2=e,$3=h0=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(hs=!0),e.firstContext=null)}function xo(e){var t=e._currentValue;if($3!==e)if(e={context:e,memoizedValue:t,next:null},h0===null){if(E2===null)throw Error(Nt(308));h0=e,E2.dependencies={lanes:0,firstContext:e}}else h0=h0.next=e;return t}var wh=null;function U3(e){wh===null?wh=[e]:wh.push(e)}function VF(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,U3(t)):(r.next=a.next,a.next=r),t.interleaved=r,Cc(e,n)}function Cc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Lu=!1;function z3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UF(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rf(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,qr&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Cc(e,r)}return a=n.interleaved,a===null?(t.next=t,U3(n)):(t.next=a.next,a.next=t),n.interleaved=t,Cc(e,r)}function Ux(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}function j6(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=s:i=i.next=s,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function k2(e,t,r,n){var a=e.updateQueue;Lu=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var l=o,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==s&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;s=0,u=c=l=null,o=i;do{var h=o.lane,d=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var g=e,m=o;switch(h=t,d=r,m.tag){case 1:if(g=m.payload,typeof g=="function"){f=g.call(d,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=m.payload,h=typeof g=="function"?g.call(d,f,h):g,h==null)break e;f=Un({},f,h);break e;case 2:Lu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=a.effects,h===null?a.effects=[o]:h.push(o))}else d={eventTime:d,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,s|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;h=o,o=h.next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}while(!0);if(u===null&&(l=f),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Wh|=s,e.lanes=s,e.memoizedState=f}}function L6(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(Nt(191,a));a.call(n)}}}var P1={},Ol=Of(P1),sv=Of(P1),ov=Of(P1);function _h(e){if(e===P1)throw Error(Nt(174));return e}function q3(e,t){switch(Sn(ov,t),Sn(sv,e),Sn(Ol,P1),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$A(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$A(t,e)}In(Ol),Sn(Ol,t)}function X0(){In(Ol),In(sv),In(ov)}function zF(e){_h(ov.current);var t=_h(Ol.current),r=$A(t,e.type);t!==r&&(Sn(sv,e),Sn(Ol,r))}function W3(e){sv.current===e&&(In(Ol),In(sv))}var $n=Of(0);function N2(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var H_=[];function H3(){for(var e=0;e<H_.length;e++)H_[e]._workInProgressVersionPrimary=null;H_.length=0}var zx=Wc.ReactCurrentDispatcher,G_=Wc.ReactCurrentBatchConfig,qh=0,Bn=null,Aa=null,Fa=null,C2=!1,yg=!1,lv=0,vQ=0;function ui(){throw Error(Nt(321))}function G3(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!sl(e[r],t[r]))return!1;return!0}function K3(e,t,r,n,a,i){if(qh=i,Bn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zx.current=e===null||e.memoizedState===null?wQ:_Q,e=r(n,a),yg){i=0;do{if(yg=!1,lv=0,25<=i)throw Error(Nt(301));i+=1,Fa=Aa=null,t.updateQueue=null,zx.current=SQ,e=r(n,a)}while(yg)}if(zx.current=P2,t=Aa!==null&&Aa.next!==null,qh=0,Fa=Aa=Bn=null,C2=!1,t)throw Error(Nt(300));return e}function Y3(){var e=lv!==0;return lv=0,e}function Al(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fa===null?Bn.memoizedState=Fa=e:Fa=Fa.next=e,Fa}function bo(){if(Aa===null){var e=Bn.alternate;e=e!==null?e.memoizedState:null}else e=Aa.next;var t=Fa===null?Bn.memoizedState:Fa.next;if(t!==null)Fa=t,Aa=e;else{if(e===null)throw Error(Nt(310));Aa=e,e={memoizedState:Aa.memoizedState,baseState:Aa.baseState,baseQueue:Aa.baseQueue,queue:Aa.queue,next:null},Fa===null?Bn.memoizedState=Fa=e:Fa=Fa.next=e}return Fa}function cv(e,t){return typeof t=="function"?t(e):t}function K_(e){var t=bo(),r=t.queue;if(r===null)throw Error(Nt(311));r.lastRenderedReducer=e;var n=Aa,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var o=s=null,l=null,c=i;do{var u=c.lane;if((qh&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:e(n,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,s=n):l=l.next=f,Bn.lanes|=u,Wh|=u}c=c.next}while(c!==null&&c!==i);l===null?s=n:l.next=o,sl(n,t.memoizedState)||(hs=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Bn.lanes|=i,Wh|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Y_(e){var t=bo(),r=t.queue;if(r===null)throw Error(Nt(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);sl(i,t.memoizedState)||(hs=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qF(){}function WF(e,t){var r=Bn,n=bo(),a=t(),i=!sl(n.memoizedState,a);if(i&&(n.memoizedState=a,hs=!0),n=n.queue,X3(KF.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Fa!==null&&Fa.memoizedState.tag&1){if(r.flags|=2048,uv(9,GF.bind(null,r,n,a,t),void 0,null),Va===null)throw Error(Nt(349));qh&30||HF(r,t,a)}return a}function HF(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function GF(e,t,r,n){t.value=r,t.getSnapshot=n,YF(t)&&XF(e)}function KF(e,t,r){return r(function(){YF(t)&&XF(e)})}function YF(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!sl(e,r)}catch{return!0}}function XF(e){var t=Cc(e,1);t!==null&&nl(t,e,1,-1)}function M6(e){var t=Al();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cv,lastRenderedState:e},t.queue=e,e=e.dispatch=bQ.bind(null,Bn,e),[t.memoizedState,e]}function uv(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Bn.updateQueue,t===null?(t={lastEffect:null,stores:null},Bn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function QF(){return bo().memoizedState}function qx(e,t,r,n){var a=Al();Bn.flags|=e,a.memoizedState=uv(1|t,r,void 0,n===void 0?null:n)}function jw(e,t,r,n){var a=bo();n=n===void 0?null:n;var i=void 0;if(Aa!==null){var s=Aa.memoizedState;if(i=s.destroy,n!==null&&G3(n,s.deps)){a.memoizedState=uv(t,r,i,n);return}}Bn.flags|=e,a.memoizedState=uv(1|t,r,i,n)}function R6(e,t){return qx(8390656,8,e,t)}function X3(e,t){return jw(2048,8,e,t)}function JF(e,t){return jw(4,2,e,t)}function ZF(e,t){return jw(4,4,e,t)}function e$(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function t$(e,t,r){return r=r!=null?r.concat([e]):null,jw(4,4,e$.bind(null,t,e),r)}function Q3(){}function r$(e,t){var r=bo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G3(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function n$(e,t){var r=bo();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&G3(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function a$(e,t,r){return qh&21?(sl(r,t)||(r=cF(),Bn.lanes|=r,Wh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,hs=!0),e.memoizedState=r)}function yQ(e,t){var r=on;on=r!==0&&4>r?r:4,e(!0);var n=G_.transition;G_.transition={};try{e(!1),t()}finally{on=r,G_.transition=n}}function i$(){return bo().memoizedState}function xQ(e,t,r){var n=af(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},s$(e))o$(t,r);else if(r=VF(e,t,r,n),r!==null){var a=Hi();nl(r,e,n,a),l$(r,t,n)}}function bQ(e,t,r){var n=af(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(s$(e))o$(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,o=i(s,r);if(a.hasEagerState=!0,a.eagerState=o,sl(o,s)){var l=t.interleaved;l===null?(a.next=a,U3(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=VF(e,t,a,n),r!==null&&(a=Hi(),nl(r,e,n,a),l$(r,t,n))}}function s$(e){var t=e.alternate;return e===Bn||t!==null&&t===Bn}function o$(e,t){yg=C2=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function l$(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,N3(e,r)}}var P2={readContext:xo,useCallback:ui,useContext:ui,useEffect:ui,useImperativeHandle:ui,useInsertionEffect:ui,useLayoutEffect:ui,useMemo:ui,useReducer:ui,useRef:ui,useState:ui,useDebugValue:ui,useDeferredValue:ui,useTransition:ui,useMutableSource:ui,useSyncExternalStore:ui,useId:ui,unstable_isNewReconciler:!1},wQ={readContext:xo,useCallback:function(e,t){return Al().memoizedState=[e,t===void 0?null:t],e},useContext:xo,useEffect:R6,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qx(4194308,4,e$.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qx(4194308,4,e,t)},useInsertionEffect:function(e,t){return qx(4,2,e,t)},useMemo:function(e,t){var r=Al();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Al();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=xQ.bind(null,Bn,e),[n.memoizedState,e]},useRef:function(e){var t=Al();return e={current:e},t.memoizedState=e},useState:M6,useDebugValue:Q3,useDeferredValue:function(e){return Al().memoizedState=e},useTransition:function(){var e=M6(!1),t=e[0];return e=yQ.bind(null,e[1]),Al().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Bn,a=Al();if(jn){if(r===void 0)throw Error(Nt(407));r=r()}else{if(r=t(),Va===null)throw Error(Nt(349));qh&30||HF(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,R6(KF.bind(null,n,i,e),[e]),n.flags|=2048,uv(9,GF.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Al(),t=Va.identifierPrefix;if(jn){var r=dc,n=hc;r=(n&~(1<<32-rl(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=lv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=vQ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_Q={readContext:xo,useCallback:r$,useContext:xo,useEffect:X3,useImperativeHandle:t$,useInsertionEffect:JF,useLayoutEffect:ZF,useMemo:n$,useReducer:K_,useRef:QF,useState:function(){return K_(cv)},useDebugValue:Q3,useDeferredValue:function(e){var t=bo();return a$(t,Aa.memoizedState,e)},useTransition:function(){var e=K_(cv)[0],t=bo().memoizedState;return[e,t]},useMutableSource:qF,useSyncExternalStore:WF,useId:i$,unstable_isNewReconciler:!1},SQ={readContext:xo,useCallback:r$,useContext:xo,useEffect:X3,useImperativeHandle:t$,useInsertionEffect:JF,useLayoutEffect:ZF,useMemo:n$,useReducer:Y_,useRef:QF,useState:function(){return Y_(cv)},useDebugValue:Q3,useDeferredValue:function(e){var t=bo();return Aa===null?t.memoizedState=e:a$(t,Aa.memoizedState,e)},useTransition:function(){var e=Y_(cv)[0],t=bo().memoizedState;return[e,t]},useMutableSource:qF,useSyncExternalStore:WF,useId:i$,unstable_isNewReconciler:!1};function qo(e,t){if(e&&e.defaultProps){t=Un({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function s4(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Un({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Lw={isMounted:function(e){return(e=e._reactInternals)?sd(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Hi(),a=af(e),i=xc(n,a);i.payload=t,r!=null&&(i.callback=r),t=rf(e,i,a),t!==null&&(nl(t,e,a,n),Ux(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Hi(),a=af(e),i=xc(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=rf(e,i,a),t!==null&&(nl(t,e,a,n),Ux(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Hi(),n=af(e),a=xc(r,n);a.tag=2,t!=null&&(a.callback=t),t=rf(e,a,n),t!==null&&(nl(t,e,n,r),Ux(t,e,n))}};function F6(e,t,r,n,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!rv(r,n)||!rv(a,i):!0}function c$(e,t,r){var n=!1,a=vf,i=t.contextType;return typeof i=="object"&&i!==null?i=xo(i):(a=vs(t)?Uh:Pi.current,n=t.contextTypes,i=(n=n!=null)?G0(e,a):vf),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Lw,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function $6(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Lw.enqueueReplaceState(t,t.state,null)}function o4(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},z3(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=xo(i):(i=vs(t)?Uh:Pi.current,a.context=G0(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(s4(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Lw.enqueueReplaceState(a,a.state,null),k2(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Q0(e,t){try{var r="",n=t;do r+=QY(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function X_(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function l4(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var AQ=typeof WeakMap=="function"?WeakMap:Map;function u$(e,t,r){r=xc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){I2||(I2=!0,y4=n),l4(e,t)},r}function f$(e,t,r){r=xc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){l4(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){l4(e,t),typeof n!="function"&&(nf===null?nf=new Set([this]):nf.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function B6(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new AQ;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=FQ.bind(null,e,t,r),t.then(e,e))}function V6(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function U6(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=xc(-1,1),t.tag=2,rf(r,t,1))),r.lanes|=1),e)}var TQ=Wc.ReactCurrentOwner,hs=!1;function $i(e,t,r,n){t.child=e===null?BF(t,null,r,n):Y0(t,e.child,r,n)}function z6(e,t,r,n,a){r=r.render;var i=t.ref;return C0(t,a),n=K3(e,t,r,n,i,a),r=Y3(),e!==null&&!hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(jn&&r&&M3(t),t.flags|=1,$i(e,t,n,a),t.child)}function q6(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!ik(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,h$(e,t,i,n,a)):(e=Kx(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(r=r.compare,r=r!==null?r:rv,r(s,n)&&e.ref===t.ref)return Pc(e,t,a)}return t.flags|=1,e=sf(i,n),e.ref=t.ref,e.return=t,t.child=e}function h$(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(rv(i,n)&&e.ref===t.ref)if(hs=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(hs=!0);else return t.lanes=e.lanes,Pc(e,t,a)}return c4(e,t,r,n,a)}function d$(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sn(p0,Os),Os|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sn(p0,Os),Os|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Sn(p0,Os),Os|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Sn(p0,Os),Os|=n;return $i(e,t,a,r),t.child}function p$(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function c4(e,t,r,n,a){var i=vs(r)?Uh:Pi.current;return i=G0(t,i),C0(t,a),r=K3(e,t,r,n,i,a),n=Y3(),e!==null&&!hs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Pc(e,t,a)):(jn&&n&&M3(t),t.flags|=1,$i(e,t,r,a),t.child)}function W6(e,t,r,n,a){if(vs(r)){var i=!0;_2(t)}else i=!1;if(C0(t,a),t.stateNode===null)Wx(e,t),c$(t,r,n),o4(t,r,n,a),n=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,c=r.contextType;typeof c=="object"&&c!==null?c=xo(c):(c=vs(r)?Uh:Pi.current,c=G0(t,c));var u=r.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==n||l!==c)&&$6(t,s,n,c),Lu=!1;var h=t.memoizedState;s.state=h,k2(t,n,s,a),l=t.memoizedState,o!==n||h!==l||gs.current||Lu?(typeof u=="function"&&(s4(t,r,u,n),l=t.memoizedState),(o=Lu||F6(t,r,o,n,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=c,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,UF(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:qo(t.type,o),s.props=c,f=t.pendingProps,h=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=xo(l):(l=vs(r)?Uh:Pi.current,l=G0(t,l));var d=r.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&$6(t,s,n,l),Lu=!1,h=t.memoizedState,s.state=h,k2(t,n,s,a);var g=t.memoizedState;o!==f||h!==g||gs.current||Lu?(typeof d=="function"&&(s4(t,r,d,n),g=t.memoizedState),(c=Lu||F6(t,r,c,n,h,g,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,g,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),s.props=n,s.state=g,s.context=l,n=c):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return u4(e,t,r,n,i,a)}function u4(e,t,r,n,a,i){p$(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return a&&P6(t,r,!1),Pc(e,t,i);n=t.stateNode,TQ.current=t;var o=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Y0(t,e.child,null,i),t.child=Y0(t,null,o,i)):$i(e,t,o,i),t.memoizedState=n.state,a&&P6(t,r,!0),t.child}function m$(e){var t=e.stateNode;t.pendingContext?C6(e,t.pendingContext,t.pendingContext!==t.context):t.context&&C6(e,t.context,!1),q3(e,t.containerInfo)}function H6(e,t,r,n,a){return K0(),F3(a),t.flags|=256,$i(e,t,r,n),t.child}var f4={dehydrated:null,treeContext:null,retryLane:0};function h4(e){return{baseLanes:e,cachePool:null,transitions:null}}function g$(e,t,r){var n=t.pendingProps,a=$n.current,i=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Sn($n,a&1),e===null)return a4(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Fw(s,n,0,null),e=Dh(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=h4(r),t.memoizedState=f4,e):J3(t,s));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return EQ(e,t,s,n,o,a,r);if(i){i=n.fallback,s=t.mode,a=e.child,o=a.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=sf(a,l),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?i=sf(o,i):(i=Dh(i,s,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=e.child.memoizedState,s=s===null?h4(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~r,t.memoizedState=f4,n}return i=e.child,e=i.sibling,n=sf(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function J3(e,t){return t=Fw({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gy(e,t,r,n){return n!==null&&F3(n),Y0(t,e.child,null,r),e=J3(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EQ(e,t,r,n,a,i,s){if(r)return t.flags&256?(t.flags&=-257,n=X_(Error(Nt(422))),Gy(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=Fw({mode:"visible",children:n.children},a,0,null),i=Dh(i,a,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Y0(t,e.child,null,s),t.child.memoizedState=h4(s),t.memoizedState=f4,i);if(!(t.mode&1))return Gy(e,t,s,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(Nt(419)),n=X_(i,n,void 0),Gy(e,t,s,n)}if(o=(s&e.childLanes)!==0,hs||o){if(n=Va,n!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Cc(e,a),nl(n,e,a,-1))}return ak(),n=X_(Error(Nt(421))),Gy(e,t,s,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=$Q.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Ms=tf(a.nextSibling),Bs=t,jn=!0,Yo=null,e!==null&&(uo[fo++]=hc,uo[fo++]=dc,uo[fo++]=zh,hc=e.id,dc=e.overflow,zh=t),t=J3(t,n.children),t.flags|=4096,t)}function G6(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),i4(e.return,t,r)}function Q_(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function v$(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if($i(e,t,n.children,r),n=$n.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G6(e,r,t);else if(e.tag===19)G6(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Sn($n,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&N2(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Q_(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&N2(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Q_(t,!0,r,null,i);break;case"together":Q_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wx(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Pc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Nt(153));if(t.child!==null){for(e=t.child,r=sf(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sf(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function kQ(e,t,r){switch(t.tag){case 3:m$(t),K0();break;case 5:zF(t);break;case 1:vs(t.type)&&_2(t);break;case 4:q3(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Sn(T2,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Sn($n,$n.current&1),t.flags|=128,null):r&t.child.childLanes?g$(e,t,r):(Sn($n,$n.current&1),e=Pc(e,t,r),e!==null?e.sibling:null);Sn($n,$n.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return v$(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Sn($n,$n.current),n)break;return null;case 22:case 23:return t.lanes=0,d$(e,t,r)}return Pc(e,t,r)}var y$,d4,x$,b$;y$=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};d4=function(){};x$=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,_h(Ol.current);var i=null;switch(r){case"input":a=LA(e,a),n=LA(e,n),i=[];break;case"select":a=Un({},a,{value:void 0}),n=Un({},n,{value:void 0}),i=[];break;case"textarea":a=FA(e,a),n=FA(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=b2)}BA(r,n);var s;r=null;for(c in a)if(!n.hasOwnProperty(c)&&a.hasOwnProperty(c)&&a[c]!=null)if(c==="style"){var o=a[c];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Yg.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(o=a!=null?a[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Yg.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&kn("scroll",e),i||o===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};b$=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dm(e,t){if(!jn)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function fi(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function NQ(e,t,r){var n=t.pendingProps;switch(R3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fi(t),null;case 1:return vs(t.type)&&w2(),fi(t),null;case 3:return n=t.stateNode,X0(),In(gs),In(Pi),H3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Wy(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Yo!==null&&(w4(Yo),Yo=null))),d4(e,t),fi(t),null;case 5:W3(t);var a=_h(ov.current);if(r=t.type,e!==null&&t.stateNode!=null)x$(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Nt(166));return fi(t),null}if(e=_h(Ol.current),Wy(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[kl]=t,n[iv]=i,e=(t.mode&1)!==0,r){case"dialog":kn("cancel",n),kn("close",n);break;case"iframe":case"object":case"embed":kn("load",n);break;case"video":case"audio":for(a=0;a<tg.length;a++)kn(tg[a],n);break;case"source":kn("error",n);break;case"img":case"image":case"link":kn("error",n),kn("load",n);break;case"details":kn("toggle",n);break;case"input":r6(n,i),kn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},kn("invalid",n);break;case"textarea":a6(n,i),kn("invalid",n)}BA(r,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var o=i[s];s==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&qy(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qy(n.textContent,o,e),a=["children",""+o]):Yg.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&kn("scroll",n)}switch(r){case"input":My(n),n6(n,i,!0);break;case"textarea":My(n),i6(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=b2)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=K7(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[kl]=t,e[iv]=n,y$(e,t,!1,!1),t.stateNode=e;e:{switch(s=VA(r,n),r){case"dialog":kn("cancel",e),kn("close",e),a=n;break;case"iframe":case"object":case"embed":kn("load",e),a=n;break;case"video":case"audio":for(a=0;a<tg.length;a++)kn(tg[a],e);a=n;break;case"source":kn("error",e),a=n;break;case"img":case"image":case"link":kn("error",e),kn("load",e),a=n;break;case"details":kn("toggle",e),a=n;break;case"input":r6(e,n),a=LA(e,n),kn("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Un({},n,{value:void 0}),kn("invalid",e);break;case"textarea":a6(e,n),a=FA(e,n),kn("invalid",e);break;default:a=n}BA(r,a),o=a;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Q7(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Y7(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Xg(e,l):typeof l=="number"&&Xg(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Yg.hasOwnProperty(i)?l!=null&&i==="onScroll"&&kn("scroll",e):l!=null&&_3(e,i,l,s))}switch(r){case"input":My(e),n6(e,n,!1);break;case"textarea":My(e),i6(e);break;case"option":n.value!=null&&e.setAttribute("value",""+gf(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?T0(e,!!n.multiple,i,!1):n.defaultValue!=null&&T0(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=b2)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return fi(t),null;case 6:if(e&&t.stateNode!=null)b$(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Nt(166));if(r=_h(ov.current),_h(Ol.current),Wy(t)){if(n=t.stateNode,r=t.memoizedProps,n[kl]=t,(i=n.nodeValue!==r)&&(e=Bs,e!==null))switch(e.tag){case 3:qy(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qy(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[kl]=t,t.stateNode=n}return fi(t),null;case 13:if(In($n),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(jn&&Ms!==null&&t.mode&1&&!(t.flags&128))FF(),K0(),t.flags|=98560,i=!1;else if(i=Wy(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Nt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Nt(317));i[kl]=t}else K0(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;fi(t),i=!1}else Yo!==null&&(w4(Yo),Yo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||$n.current&1?Ea===0&&(Ea=3):ak())),t.updateQueue!==null&&(t.flags|=4),fi(t),null);case 4:return X0(),d4(e,t),e===null&&nv(t.stateNode.containerInfo),fi(t),null;case 10:return V3(t.type._context),fi(t),null;case 17:return vs(t.type)&&w2(),fi(t),null;case 19:if(In($n),i=t.memoizedState,i===null)return fi(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Dm(i,!1);else{if(Ea!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=N2(e),s!==null){for(t.flags|=128,Dm(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Sn($n,$n.current&1|2),t.child}e=e.sibling}i.tail!==null&&aa()>J0&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304)}else{if(!n)if(e=N2(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dm(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!jn)return fi(t),null}else 2*aa()-i.renderingStartTime>J0&&r!==1073741824&&(t.flags|=128,n=!0,Dm(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(r=i.last,r!==null?r.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=aa(),t.sibling=null,r=$n.current,Sn($n,n?r&1|2:r&1),t):(fi(t),null);case 22:case 23:return nk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Os&1073741824&&(fi(t),t.subtreeFlags&6&&(t.flags|=8192)):fi(t),null;case 24:return null;case 25:return null}throw Error(Nt(156,t.tag))}function CQ(e,t){switch(R3(t),t.tag){case 1:return vs(t.type)&&w2(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return X0(),In(gs),In(Pi),H3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return W3(t),null;case 13:if(In($n),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Nt(340));K0()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return In($n),null;case 4:return X0(),null;case 10:return V3(t.type._context),null;case 22:case 23:return nk(),null;case 24:return null;default:return null}}var Ky=!1,_i=!1,PQ=typeof WeakSet=="function"?WeakSet:Set,Wt=null;function d0(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Yn(e,t,n)}else r.current=null}function p4(e,t,r){try{r()}catch(n){Yn(e,t,n)}}var K6=!1;function OQ(e,t){if(QA=v2,e=TF(),L3(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var s=0,o=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=s+a),f!==i||n!==0&&f.nodeType!==3||(l=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===e)break t;if(h===r&&++c===a&&(o=s),h===i&&++u===n&&(l=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(JA={focusedElem:e,selectionRange:r},v2=!1,Wt=t;Wt!==null;)if(t=Wt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Wt=e;else for(;Wt!==null;){t=Wt;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:qo(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Nt(163))}}catch(O){Yn(t,t.return,O)}if(e=t.sibling,e!==null){e.return=t.return,Wt=e;break}Wt=t.return}return g=K6,K6=!1,g}function xg(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&p4(t,r,i)}a=a.next}while(a!==n)}}function Mw(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function m4(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function w$(e){var t=e.alternate;t!==null&&(e.alternate=null,w$(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[kl],delete t[iv],delete t[t4],delete t[dQ],delete t[pQ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function _$(e){return e.tag===5||e.tag===3||e.tag===4}function Y6(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||_$(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function g4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=b2));else if(n!==4&&(e=e.child,e!==null))for(g4(e,t,r),e=e.sibling;e!==null;)g4(e,t,r),e=e.sibling}function v4(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(v4(e,t,r),e=e.sibling;e!==null;)v4(e,t,r),e=e.sibling}var Qa=null,Ho=!1;function ku(e,t,r){for(r=r.child;r!==null;)S$(e,t,r),r=r.sibling}function S$(e,t,r){if(Pl&&typeof Pl.onCommitFiberUnmount=="function")try{Pl.onCommitFiberUnmount(Nw,r)}catch{}switch(r.tag){case 5:_i||d0(r,t);case 6:var n=Qa,a=Ho;Qa=null,ku(e,t,r),Qa=n,Ho=a,Qa!==null&&(Ho?(e=Qa,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Qa.removeChild(r.stateNode));break;case 18:Qa!==null&&(Ho?(e=Qa,r=r.stateNode,e.nodeType===8?q_(e.parentNode,r):e.nodeType===1&&q_(e,r),ev(e)):q_(Qa,r.stateNode));break;case 4:n=Qa,a=Ho,Qa=r.stateNode.containerInfo,Ho=!0,ku(e,t,r),Qa=n,Ho=a;break;case 0:case 11:case 14:case 15:if(!_i&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&p4(r,t,s),a=a.next}while(a!==n)}ku(e,t,r);break;case 1:if(!_i&&(d0(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Yn(r,t,o)}ku(e,t,r);break;case 21:ku(e,t,r);break;case 22:r.mode&1?(_i=(n=_i)||r.memoizedState!==null,ku(e,t,r),_i=n):ku(e,t,r);break;default:ku(e,t,r)}}function X6(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new PQ),t.forEach(function(n){var a=BQ.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Mo(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Qa=o.stateNode,Ho=!1;break e;case 3:Qa=o.stateNode.containerInfo,Ho=!0;break e;case 4:Qa=o.stateNode.containerInfo,Ho=!0;break e}o=o.return}if(Qa===null)throw Error(Nt(160));S$(i,s,a),Qa=null,Ho=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(c){Yn(a,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)A$(t,e),t=t.sibling}function A$(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mo(t,e),bl(e),n&4){try{xg(3,e,e.return),Mw(3,e)}catch(m){Yn(e,e.return,m)}try{xg(5,e,e.return)}catch(m){Yn(e,e.return,m)}}break;case 1:Mo(t,e),bl(e),n&512&&r!==null&&d0(r,r.return);break;case 5:if(Mo(t,e),bl(e),n&512&&r!==null&&d0(r,r.return),e.flags&32){var a=e.stateNode;try{Xg(a,"")}catch(m){Yn(e,e.return,m)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&H7(a,i),VA(o,s);var c=VA(o,i);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?Q7(a,f):u==="dangerouslySetInnerHTML"?Y7(a,f):u==="children"?Xg(a,f):_3(a,u,f,c)}switch(o){case"input":MA(a,i);break;case"textarea":G7(a,i);break;case"select":var h=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?T0(a,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?T0(a,!!i.multiple,i.defaultValue,!0):T0(a,!!i.multiple,i.multiple?[]:"",!1))}a[iv]=i}catch(m){Yn(e,e.return,m)}}break;case 6:if(Mo(t,e),bl(e),n&4){if(e.stateNode===null)throw Error(Nt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(m){Yn(e,e.return,m)}}break;case 3:if(Mo(t,e),bl(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ev(t.containerInfo)}catch(m){Yn(e,e.return,m)}break;case 4:Mo(t,e),bl(e);break;case 13:Mo(t,e),bl(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(tk=aa())),n&4&&X6(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(_i=(c=_i)||u,Mo(t,e),_i=c):Mo(t,e),bl(e),n&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(Wt=e,u=e.child;u!==null;){for(f=Wt=u;Wt!==null;){switch(h=Wt,d=h.child,h.tag){case 0:case 11:case 14:case 15:xg(4,h,h.return);break;case 1:d0(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){Yn(n,r,m)}}break;case 5:d0(h,h.return);break;case 22:if(h.memoizedState!==null){J6(f);continue}}d!==null?(d.return=h,Wt=d):J6(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{a=f.stateNode,c?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=X7("display",s))}catch(m){Yn(e,e.return,m)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(m){Yn(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Mo(t,e),bl(e),n&4&&X6(e);break;case 21:break;default:Mo(t,e),bl(e)}}function bl(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(_$(r)){var n=r;break e}r=r.return}throw Error(Nt(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Xg(a,""),n.flags&=-33);var i=Y6(e);v4(e,i,a);break;case 3:case 4:var s=n.stateNode.containerInfo,o=Y6(e);g4(e,o,s);break;default:throw Error(Nt(161))}}catch(l){Yn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function IQ(e,t,r){Wt=e,T$(e)}function T$(e,t,r){for(var n=(e.mode&1)!==0;Wt!==null;){var a=Wt,i=a.child;if(a.tag===22&&n){var s=a.memoizedState!==null||Ky;if(!s){var o=a.alternate,l=o!==null&&o.memoizedState!==null||_i;o=Ky;var c=_i;if(Ky=s,(_i=l)&&!c)for(Wt=a;Wt!==null;)s=Wt,l=s.child,s.tag===22&&s.memoizedState!==null?Z6(a):l!==null?(l.return=s,Wt=l):Z6(a);for(;i!==null;)Wt=i,T$(i),i=i.sibling;Wt=a,Ky=o,_i=c}Q6(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Wt=i):Q6(e)}}function Q6(e){for(;Wt!==null;){var t=Wt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_i||Mw(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!_i)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:qo(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&L6(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}L6(t,s,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&ev(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Nt(163))}_i||t.flags&512&&m4(t)}catch(h){Yn(t,t.return,h)}}if(t===e){Wt=null;break}if(r=t.sibling,r!==null){r.return=t.return,Wt=r;break}Wt=t.return}}function J6(e){for(;Wt!==null;){var t=Wt;if(t===e){Wt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Wt=r;break}Wt=t.return}}function Z6(e){for(;Wt!==null;){var t=Wt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Mw(4,t)}catch(l){Yn(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Yn(t,a,l)}}var i=t.return;try{m4(t)}catch(l){Yn(t,i,l)}break;case 5:var s=t.return;try{m4(t)}catch(l){Yn(t,s,l)}}}catch(l){Yn(t,t.return,l)}if(t===e){Wt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Wt=o;break}Wt=t.return}}var DQ=Math.ceil,O2=Wc.ReactCurrentDispatcher,Z3=Wc.ReactCurrentOwner,mo=Wc.ReactCurrentBatchConfig,qr=0,Va=null,ga=null,ai=0,Os=0,p0=Of(0),Ea=0,fv=null,Wh=0,Rw=0,ek=0,bg=null,cs=null,tk=0,J0=1/0,uc=null,I2=!1,y4=null,nf=null,Yy=!1,qu=null,D2=0,wg=0,x4=null,Hx=-1,Gx=0;function Hi(){return qr&6?aa():Hx!==-1?Hx:Hx=aa()}function af(e){return e.mode&1?qr&2&&ai!==0?ai&-ai:gQ.transition!==null?(Gx===0&&(Gx=cF()),Gx):(e=on,e!==0||(e=window.event,e=e===void 0?16:gF(e.type)),e):1}function nl(e,t,r,n){if(50<wg)throw wg=0,x4=null,Error(Nt(185));k1(e,r,n),(!(qr&2)||e!==Va)&&(e===Va&&(!(qr&2)&&(Rw|=r),Ea===4&&Fu(e,ai)),ys(e,n),r===1&&qr===0&&!(t.mode&1)&&(J0=aa()+500,Dw&&If()))}function ys(e,t){var r=e.callbackNode;gX(e,t);var n=g2(e,e===Va?ai:0);if(n===0)r!==null&&l6(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&l6(r),t===1)e.tag===0?mQ(eO.bind(null,e)):LF(eO.bind(null,e)),fQ(function(){!(qr&6)&&If()}),r=null;else{switch(uF(n)){case 1:r=k3;break;case 4:r=oF;break;case 16:r=m2;break;case 536870912:r=lF;break;default:r=m2}r=D$(r,E$.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function E$(e,t){if(Hx=-1,Gx=0,qr&6)throw Error(Nt(327));var r=e.callbackNode;if(P0()&&e.callbackNode!==r)return null;var n=g2(e,e===Va?ai:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=j2(e,n);else{t=n;var a=qr;qr|=2;var i=N$();(Va!==e||ai!==t)&&(uc=null,J0=aa()+500,Ih(e,t));do try{MQ();break}catch(o){k$(e,o)}while(!0);B3(),O2.current=i,qr=a,ga!==null?t=0:(Va=null,ai=0,t=Ea)}if(t!==0){if(t===2&&(a=HA(e),a!==0&&(n=a,t=b4(e,a))),t===1)throw r=fv,Ih(e,0),Fu(e,n),ys(e,aa()),r;if(t===6)Fu(e,n);else{if(a=e.current.alternate,!(n&30)&&!jQ(a)&&(t=j2(e,n),t===2&&(i=HA(e),i!==0&&(n=i,t=b4(e,i))),t===1))throw r=fv,Ih(e,0),Fu(e,n),ys(e,aa()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(Nt(345));case 2:uh(e,cs,uc);break;case 3:if(Fu(e,n),(n&130023424)===n&&(t=tk+500-aa(),10<t)){if(g2(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Hi(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=e4(uh.bind(null,e,cs,uc),t);break}uh(e,cs,uc);break;case 4:if(Fu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var s=31-rl(n);i=1<<s,s=t[s],s>a&&(a=s),n&=~i}if(n=a,n=aa()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DQ(n/1960))-n,10<n){e.timeoutHandle=e4(uh.bind(null,e,cs,uc),n);break}uh(e,cs,uc);break;case 5:uh(e,cs,uc);break;default:throw Error(Nt(329))}}}return ys(e,aa()),e.callbackNode===r?E$.bind(null,e):null}function b4(e,t){var r=bg;return e.current.memoizedState.isDehydrated&&(Ih(e,t).flags|=256),e=j2(e,t),e!==2&&(t=cs,cs=r,t!==null&&w4(t)),e}function w4(e){cs===null?cs=e:cs.push.apply(cs,e)}function jQ(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!sl(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Fu(e,t){for(t&=~ek,t&=~Rw,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rl(t),n=1<<r;e[r]=-1,t&=~n}}function eO(e){if(qr&6)throw Error(Nt(327));P0();var t=g2(e,0);if(!(t&1))return ys(e,aa()),null;var r=j2(e,t);if(e.tag!==0&&r===2){var n=HA(e);n!==0&&(t=n,r=b4(e,n))}if(r===1)throw r=fv,Ih(e,0),Fu(e,t),ys(e,aa()),r;if(r===6)throw Error(Nt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,uh(e,cs,uc),ys(e,aa()),null}function rk(e,t){var r=qr;qr|=1;try{return e(t)}finally{qr=r,qr===0&&(J0=aa()+500,Dw&&If())}}function Hh(e){qu!==null&&qu.tag===0&&!(qr&6)&&P0();var t=qr;qr|=1;var r=mo.transition,n=on;try{if(mo.transition=null,on=1,e)return e()}finally{on=n,mo.transition=r,qr=t,!(qr&6)&&If()}}function nk(){Os=p0.current,In(p0)}function Ih(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,uQ(r)),ga!==null)for(r=ga.return;r!==null;){var n=r;switch(R3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&w2();break;case 3:X0(),In(gs),In(Pi),H3();break;case 5:W3(n);break;case 4:X0();break;case 13:In($n);break;case 19:In($n);break;case 10:V3(n.type._context);break;case 22:case 23:nk()}r=r.return}if(Va=e,ga=e=sf(e.current,null),ai=Os=t,Ea=0,fv=null,ek=Rw=Wh=0,cs=bg=null,wh!==null){for(t=0;t<wh.length;t++)if(r=wh[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var s=i.next;i.next=a,n.next=s}r.pending=n}wh=null}return e}function k$(e,t){do{var r=ga;try{if(B3(),zx.current=P2,C2){for(var n=Bn.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}C2=!1}if(qh=0,Fa=Aa=Bn=null,yg=!1,lv=0,Z3.current=null,r===null||r.return===null){Ea=1,fv=t,ga=null;break}e:{var i=e,s=r.return,o=r,l=t;if(t=ai,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=V6(s);if(d!==null){d.flags&=-257,U6(d,s,o,i,t),d.mode&1&&B6(i,c,t),t=d,l=c;var g=t.updateQueue;if(g===null){var m=new Set;m.add(l),t.updateQueue=m}else g.add(l);break e}else{if(!(t&1)){B6(i,c,t),ak();break e}l=Error(Nt(426))}}else if(jn&&o.mode&1){var v=V6(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),U6(v,s,o,i,t),F3(Q0(l,o));break e}}i=l=Q0(l,o),Ea!==4&&(Ea=2),bg===null?bg=[i]:bg.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=u$(i,l,t);j6(i,y);break e;case 1:o=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(nf===null||!nf.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var O=f$(i,o,t);j6(i,O);break e}}i=i.return}while(i!==null)}P$(r)}catch(P){t=P,ga===r&&r!==null&&(ga=r=r.return);continue}break}while(!0)}function N$(){var e=O2.current;return O2.current=P2,e===null?P2:e}function ak(){(Ea===0||Ea===3||Ea===2)&&(Ea=4),Va===null||!(Wh&268435455)&&!(Rw&268435455)||Fu(Va,ai)}function j2(e,t){var r=qr;qr|=2;var n=N$();(Va!==e||ai!==t)&&(uc=null,Ih(e,t));do try{LQ();break}catch(a){k$(e,a)}while(!0);if(B3(),qr=r,O2.current=n,ga!==null)throw Error(Nt(261));return Va=null,ai=0,Ea}function LQ(){for(;ga!==null;)C$(ga)}function MQ(){for(;ga!==null&&!oX();)C$(ga)}function C$(e){var t=I$(e.alternate,e,Os);e.memoizedProps=e.pendingProps,t===null?P$(e):ga=t,Z3.current=null}function P$(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=CQ(r,t),r!==null){r.flags&=32767,ga=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ea=6,ga=null;return}}else if(r=NQ(r,t,Os),r!==null){ga=r;return}if(t=t.sibling,t!==null){ga=t;return}ga=t=e}while(t!==null);Ea===0&&(Ea=5)}function uh(e,t,r){var n=on,a=mo.transition;try{mo.transition=null,on=1,RQ(e,t,r,n)}finally{mo.transition=a,on=n}return null}function RQ(e,t,r,n){do P0();while(qu!==null);if(qr&6)throw Error(Nt(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Nt(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(vX(e,i),e===Va&&(ga=Va=null,ai=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yy||(Yy=!0,D$(m2,function(){return P0(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=mo.transition,mo.transition=null;var s=on;on=1;var o=qr;qr|=4,Z3.current=null,OQ(e,r),A$(r,e),nQ(JA),v2=!!QA,JA=QA=null,e.current=r,IQ(r),lX(),qr=o,on=s,mo.transition=i}else e.current=r;if(Yy&&(Yy=!1,qu=e,D2=a),i=e.pendingLanes,i===0&&(nf=null),fX(r.stateNode),ys(e,aa()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(I2)throw I2=!1,e=y4,y4=null,e;return D2&1&&e.tag!==0&&P0(),i=e.pendingLanes,i&1?e===x4?wg++:(wg=0,x4=e):wg=0,If(),null}function P0(){if(qu!==null){var e=uF(D2),t=mo.transition,r=on;try{if(mo.transition=null,on=16>e?16:e,qu===null)var n=!1;else{if(e=qu,qu=null,D2=0,qr&6)throw Error(Nt(331));var a=qr;for(qr|=4,Wt=e.current;Wt!==null;){var i=Wt,s=i.child;if(Wt.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Wt=c;Wt!==null;){var u=Wt;switch(u.tag){case 0:case 11:case 15:xg(8,u,i)}var f=u.child;if(f!==null)f.return=u,Wt=f;else for(;Wt!==null;){u=Wt;var h=u.sibling,d=u.return;if(w$(u),u===c){Wt=null;break}if(h!==null){h.return=d,Wt=h;break}Wt=d}}}var g=i.alternate;if(g!==null){var m=g.child;if(m!==null){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Wt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Wt=s;else e:for(;Wt!==null;){if(i=Wt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xg(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Wt=y;break e}Wt=i.return}}var b=e.current;for(Wt=b;Wt!==null;){s=Wt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Wt=w;else e:for(s=b;Wt!==null;){if(o=Wt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Mw(9,o)}}catch(P){Yn(o,o.return,P)}if(o===s){Wt=null;break e}var O=o.sibling;if(O!==null){O.return=o.return,Wt=O;break e}Wt=o.return}}if(qr=a,If(),Pl&&typeof Pl.onPostCommitFiberRoot=="function")try{Pl.onPostCommitFiberRoot(Nw,e)}catch{}n=!0}return n}finally{on=r,mo.transition=t}}return!1}function tO(e,t,r){t=Q0(r,t),t=u$(e,t,1),e=rf(e,t,1),t=Hi(),e!==null&&(k1(e,1,t),ys(e,t))}function Yn(e,t,r){if(e.tag===3)tO(e,e,r);else for(;t!==null;){if(t.tag===3){tO(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(nf===null||!nf.has(n))){e=Q0(r,e),e=f$(t,e,1),t=rf(t,e,1),e=Hi(),t!==null&&(k1(t,1,e),ys(t,e));break}}t=t.return}}function FQ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Hi(),e.pingedLanes|=e.suspendedLanes&r,Va===e&&(ai&r)===r&&(Ea===4||Ea===3&&(ai&130023424)===ai&&500>aa()-tk?Ih(e,0):ek|=r),ys(e,t)}function O$(e,t){t===0&&(e.mode&1?(t=$y,$y<<=1,!($y&130023424)&&($y=4194304)):t=1);var r=Hi();e=Cc(e,t),e!==null&&(k1(e,t,r),ys(e,r))}function $Q(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),O$(e,r)}function BQ(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Nt(314))}n!==null&&n.delete(t),O$(e,r)}var I$;I$=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||gs.current)hs=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return hs=!1,kQ(e,t,r);hs=!!(e.flags&131072)}else hs=!1,jn&&t.flags&1048576&&MF(t,A2,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wx(e,t),e=t.pendingProps;var a=G0(t,Pi.current);C0(t,r),a=K3(null,t,n,e,a,r);var i=Y3();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vs(n)?(i=!0,_2(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,z3(t),a.updater=Lw,t.stateNode=a,a._reactInternals=t,o4(t,n,e,r),t=u4(null,t,n,!0,i,r)):(t.tag=0,jn&&i&&M3(t),$i(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wx(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=UQ(n),e=qo(n,e),a){case 0:t=c4(null,t,n,e,r);break e;case 1:t=W6(null,t,n,e,r);break e;case 11:t=z6(null,t,n,e,r);break e;case 14:t=q6(null,t,n,qo(n.type,e),r);break e}throw Error(Nt(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qo(n,a),c4(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qo(n,a),W6(e,t,n,a,r);case 3:e:{if(m$(t),e===null)throw Error(Nt(387));n=t.pendingProps,i=t.memoizedState,a=i.element,UF(e,t),k2(t,n,null,r);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=Q0(Error(Nt(423)),t),t=H6(e,t,n,r,a);break e}else if(n!==a){a=Q0(Error(Nt(424)),t),t=H6(e,t,n,r,a);break e}else for(Ms=tf(t.stateNode.containerInfo.firstChild),Bs=t,jn=!0,Yo=null,r=BF(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(K0(),n===a){t=Pc(e,t,r);break e}$i(e,t,n,r)}t=t.child}return t;case 5:return zF(t),e===null&&a4(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,ZA(n,a)?s=null:i!==null&&ZA(n,i)&&(t.flags|=32),p$(e,t),$i(e,t,s,r),t.child;case 6:return e===null&&a4(t),null;case 13:return g$(e,t,r);case 4:return q3(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Y0(t,null,n,r):$i(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qo(n,a),z6(e,t,n,a,r);case 7:return $i(e,t,t.pendingProps,r),t.child;case 8:return $i(e,t,t.pendingProps.children,r),t.child;case 12:return $i(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Sn(T2,n._currentValue),n._currentValue=s,i!==null)if(sl(i.value,s)){if(i.children===a.children&&!gs.current){t=Pc(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){s=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xc(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),i4(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Nt(341));s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),i4(s,r,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}$i(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,C0(t,r),a=xo(a),n=n(a),t.flags|=1,$i(e,t,n,r),t.child;case 14:return n=t.type,a=qo(n,t.pendingProps),a=qo(n.type,a),q6(e,t,n,a,r);case 15:return h$(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:qo(n,a),Wx(e,t),t.tag=1,vs(n)?(e=!0,_2(t)):e=!1,C0(t,r),c$(t,n,a),o4(t,n,a,r),u4(null,t,n,!0,e,r);case 19:return v$(e,t,r);case 22:return d$(e,t,r)}throw Error(Nt(156,t.tag))};function D$(e,t){return sF(e,t)}function VQ(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ho(e,t,r,n){return new VQ(e,t,r,n)}function ik(e){return e=e.prototype,!(!e||!e.isReactComponent)}function UQ(e){if(typeof e=="function")return ik(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A3)return 11;if(e===T3)return 14}return 2}function sf(e,t){var r=e.alternate;return r===null?(r=ho(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Kx(e,t,r,n,a,i){var s=2;if(n=e,typeof e=="function")ik(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case a0:return Dh(r.children,a,i,t);case S3:s=8,a|=8;break;case OA:return e=ho(12,r,t,a|2),e.elementType=OA,e.lanes=i,e;case IA:return e=ho(13,r,t,a),e.elementType=IA,e.lanes=i,e;case DA:return e=ho(19,r,t,a),e.elementType=DA,e.lanes=i,e;case z7:return Fw(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V7:s=10;break e;case U7:s=9;break e;case A3:s=11;break e;case T3:s=14;break e;case ju:s=16,n=null;break e}throw Error(Nt(130,e==null?e:typeof e,""))}return t=ho(s,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Dh(e,t,r,n){return e=ho(7,e,n,t),e.lanes=r,e}function Fw(e,t,r,n){return e=ho(22,e,n,t),e.elementType=z7,e.lanes=r,e.stateNode={isHidden:!1},e}function J_(e,t,r){return e=ho(6,e,null,t),e.lanes=r,e}function Z_(e,t,r){return t=ho(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zQ(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=D_(0),this.expirationTimes=D_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=D_(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function sk(e,t,r,n,a,i,s,o,l){return e=new zQ(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ho(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},z3(i),e}function qQ(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function j$(e){if(!e)return vf;e=e._reactInternals;e:{if(sd(e)!==e||e.tag!==1)throw Error(Nt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vs(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Nt(171))}if(e.tag===1){var r=e.type;if(vs(r))return jF(e,r,t)}return t}function L$(e,t,r,n,a,i,s,o,l){return e=sk(r,n,!0,e,a,i,s,o,l),e.context=j$(null),r=e.current,n=Hi(),a=af(r),i=xc(n,a),i.callback=t??null,rf(r,i,a),e.current.lanes=a,k1(e,a,n),ys(e,n),e}function $w(e,t,r,n){var a=t.current,i=Hi(),s=af(a);return r=j$(r),t.context===null?t.context=r:t.pendingContext=r,t=xc(i,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=rf(a,t,s),e!==null&&(nl(e,a,s,i),Ux(e,a,s)),s}function L2(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rO(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function ok(e,t){rO(e,t),(e=e.alternate)&&rO(e,t)}function WQ(){return null}var M$=typeof reportError=="function"?reportError:function(e){console.error(e)};function lk(e){this._internalRoot=e}Bw.prototype.render=lk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Nt(409));$w(e,t,null,null)};Bw.prototype.unmount=lk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hh(function(){$w(null,e,null,null)}),t[Nc]=null}};function Bw(e){this._internalRoot=e}Bw.prototype.unstable_scheduleHydration=function(e){if(e){var t=dF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ru.length&&t!==0&&t<Ru[r].priority;r++);Ru.splice(r,0,e),r===0&&mF(e)}};function ck(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Vw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nO(){}function HQ(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var c=L2(s);i.call(c)}}var s=L$(t,n,e,0,null,!1,!1,"",nO);return e._reactRootContainer=s,e[Nc]=s.current,nv(e.nodeType===8?e.parentNode:e),Hh(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var c=L2(l);o.call(c)}}var l=sk(e,0,!1,null,null,!1,!1,"",nO);return e._reactRootContainer=l,e[Nc]=l.current,nv(e.nodeType===8?e.parentNode:e),Hh(function(){$w(t,l,r,n)}),l}function Uw(e,t,r,n,a){var i=r._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var o=a;a=function(){var l=L2(s);o.call(l)}}$w(t,s,e,a)}else s=HQ(r,t,e,a,n);return L2(s)}fF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=eg(t.pendingLanes);r!==0&&(N3(t,r|1),ys(t,aa()),!(qr&6)&&(J0=aa()+500,If()))}break;case 13:Hh(function(){var n=Cc(e,1);if(n!==null){var a=Hi();nl(n,e,1,a)}}),ok(e,1)}};C3=function(e){if(e.tag===13){var t=Cc(e,134217728);if(t!==null){var r=Hi();nl(t,e,134217728,r)}ok(e,134217728)}};hF=function(e){if(e.tag===13){var t=af(e),r=Cc(e,t);if(r!==null){var n=Hi();nl(r,e,t,n)}ok(e,t)}};dF=function(){return on};pF=function(e,t){var r=on;try{return on=e,t()}finally{on=r}};zA=function(e,t,r){switch(t){case"input":if(MA(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Iw(n);if(!a)throw Error(Nt(90));W7(n),MA(n,a)}}}break;case"textarea":G7(e,r);break;case"select":t=r.value,t!=null&&T0(e,!!r.multiple,t,!1)}};eF=rk;tF=Hh;var GQ={usingClientEntryPoint:!1,Events:[C1,l0,Iw,J7,Z7,rk]},jm={findFiberByHostInstance:bh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KQ={bundleType:jm.bundleType,version:jm.version,rendererPackageName:jm.rendererPackageName,rendererConfig:jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Wc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aF(e),e===null?null:e.stateNode},findFiberByHostInstance:jm.findFiberByHostInstance||WQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xy.isDisabled&&Xy.supportsFiber)try{Nw=Xy.inject(KQ),Pl=Xy}catch{}}Ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GQ;Ws.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ck(t))throw Error(Nt(200));return qQ(e,t,null,r)};Ws.createRoot=function(e,t){if(!ck(e))throw Error(Nt(299));var r=!1,n="",a=M$;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=sk(e,1,!1,null,null,r,!1,n,a),e[Nc]=t.current,nv(e.nodeType===8?e.parentNode:e),new lk(t)};Ws.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Nt(188)):(e=Object.keys(e).join(","),Error(Nt(268,e)));return e=aF(t),e=e===null?null:e.stateNode,e};Ws.flushSync=function(e){return Hh(e)};Ws.hydrate=function(e,t,r){if(!Vw(t))throw Error(Nt(200));return Uw(null,e,t,!0,r)};Ws.hydrateRoot=function(e,t,r){if(!ck(e))throw Error(Nt(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",s=M$;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=L$(t,null,e,1,r??null,a,!1,i,s),e[Nc]=t.current,nv(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Bw(t)};Ws.render=function(e,t,r){if(!Vw(t))throw Error(Nt(200));return Uw(null,e,t,!1,r)};Ws.unmountComponentAtNode=function(e){if(!Vw(e))throw Error(Nt(40));return e._reactRootContainer?(Hh(function(){Uw(null,null,e,!1,function(){e._reactRootContainer=null,e[Nc]=null})}),!0):!1};Ws.unstable_batchedUpdates=rk;Ws.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Vw(r))throw Error(Nt(200));if(e==null||e._reactInternals===void 0)throw Error(Nt(38));return Uw(e,t,r,!1,n)};Ws.version="18.3.1-next-f1338f8080-20240426";function R$(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R$)}catch(e){console.error(e)}}R$(),R7.exports=Ws;var YQ=R7.exports,F$,aO=YQ;F$=aO.createRoot,aO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(this,arguments)}var Wu;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Wu||(Wu={}));const iO="popstate";function XQ(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:s,hash:o}=n.location;return _4("",{pathname:i,search:s,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:M2(a)}return JQ(t,r,null,e)}function Vn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $$(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function QQ(){return Math.random().toString(36).substr(2,8)}function sO(e,t){return{usr:e.state,key:e.key,idx:t}}function _4(e,t,r,n){return r===void 0&&(r=null),hv({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Rp(t):t,{state:r,key:t&&t.key||n||QQ()})}function M2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Rp(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function JQ(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,o=Wu.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(hv({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function f(){o=Wu.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:m.location,delta:y})}function h(v,y){o=Wu.Push;let b=_4(m.location,v,y);c=u()+1;let w=sO(b,c),O=m.createHref(b);try{s.pushState(w,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(O)}i&&l&&l({action:o,location:m.location,delta:1})}function d(v,y){o=Wu.Replace;let b=_4(m.location,v,y);c=u();let w=sO(b,c),O=m.createHref(b);s.replaceState(w,"",O),i&&l&&l({action:o,location:m.location,delta:0})}function g(v){let y=a.location.origin!=="null"?a.location.origin:a.location.href,b=typeof v=="string"?v:M2(v);return b=b.replace(/ $/,"%20"),Vn(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let m={get action(){return o},get location(){return e(a,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(iO,f),l=v,()=>{a.removeEventListener(iO,f),l=null}},createHref(v){return t(a,v)},createURL:g,encodeLocation(v){let y=g(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:d,go(v){return s.go(v)}};return m}var oO;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(oO||(oO={}));function ZQ(e,t,r){return r===void 0&&(r="/"),eJ(e,t,r,!1)}function eJ(e,t,r,n){let a=typeof t=="string"?Rp(t):t,i=Z0(a.pathname||"/",r);if(i==null)return null;let s=B$(e);tJ(s);let o=null;for(let l=0;o==null&&l<s.length;++l){let c=hJ(i);o=uJ(s[l],c,n)}return o}function B$(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(Vn(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=of([n,l.relativePath]),u=r.concat(l);i.children&&i.children.length>0&&(Vn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),B$(i.children,t,u,c)),!(i.path==null&&!i.index)&&t.push({path:c,score:lJ(c,i.index),routesMeta:u})};return e.forEach((i,s)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))a(i,s);else for(let l of V$(i.path))a(i,s,l)}),t}function V$(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=V$(n.join("/")),o=[];return o.push(...s.map(l=>l===""?i:[i,l].join("/"))),a&&o.push(...s),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function tJ(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:cJ(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const rJ=/^:[\w-]+$/,nJ=3,aJ=2,iJ=1,sJ=10,oJ=-2,lO=e=>e==="*";function lJ(e,t){let r=e.split("/"),n=r.length;return r.some(lO)&&(n+=oJ),t&&(n+=aJ),r.filter(a=>!lO(a)).reduce((a,i)=>a+(rJ.test(i)?nJ:i===""?iJ:sJ),n)}function cJ(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function uJ(e,t,r){let{routesMeta:n}=e,a={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,u=i==="/"?t:t.slice(i.length)||"/",f=R2({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&r&&!n[n.length-1].route.index&&(f=R2({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(a,f.params),s.push({params:a,pathname:of([i,f.pathname]),pathnameBase:gJ(of([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=of([i,f.pathnameBase]))}return s}function R2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=fJ(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((c,u,f)=>{let{paramName:h,isOptional:d}=u;if(h==="*"){let m=o[f]||"";s=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}const g=o[f];return d&&!g?c[h]=void 0:c[h]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:s,pattern:e}}function fJ(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),$$(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function hJ(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $$(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Z0(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function dJ(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Rp(e):e;return{pathname:r?r.startsWith("/")?r:pJ(r,t):t,search:vJ(n),hash:yJ(a)}}function pJ(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function eS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function mJ(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function uk(e,t){let r=mJ(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function fk(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Rp(e):(a=hv({},e),Vn(!a.pathname||!a.pathname.includes("?"),eS("?","pathname","search",a)),Vn(!a.pathname||!a.pathname.includes("#"),eS("#","pathname","hash",a)),Vn(!a.search||!a.search.includes("#"),eS("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,o;if(s==null)o=r;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}o=f>=0?t[f]:"/"}let l=dJ(a,o),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const of=e=>e.join("/").replace(/\/\/+/g,"/"),gJ=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),vJ=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yJ=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xJ(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const U$=["post","put","patch","delete"];new Set(U$);const bJ=["get",...U$];new Set(bJ);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(this,arguments)}const zw=W.createContext(null),z$=W.createContext(null),Hc=W.createContext(null),qw=W.createContext(null),Gc=W.createContext({outlet:null,matches:[],isDataRoute:!1}),q$=W.createContext(null);function wJ(e,t){let{relative:r}=t===void 0?{}:t;Fp()||Vn(!1);let{basename:n,navigator:a}=W.useContext(Hc),{hash:i,pathname:s,search:o}=Ww(e,{relative:r}),l=s;return n!=="/"&&(l=s==="/"?n:of([n,s])),a.createHref({pathname:l,search:o,hash:i})}function Fp(){return W.useContext(qw)!=null}function $p(){return Fp()||Vn(!1),W.useContext(qw).location}function W$(e){W.useContext(Hc).static||W.useLayoutEffect(e)}function O1(){let{isDataRoute:e}=W.useContext(Gc);return e?MJ():_J()}function _J(){Fp()||Vn(!1);let e=W.useContext(zw),{basename:t,future:r,navigator:n}=W.useContext(Hc),{matches:a}=W.useContext(Gc),{pathname:i}=$p(),s=JSON.stringify(uk(a,r.v7_relativeSplatPath)),o=W.useRef(!1);return W$(()=>{o.current=!0}),W.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let f=fk(c,JSON.parse(s),i,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:of([t,f.pathname])),(u.replace?n.replace:n.push)(f,u.state,u)},[t,n,s,i,e])}const SJ=W.createContext(null);function AJ(e){let t=W.useContext(Gc).outlet;return t&&W.createElement(SJ.Provider,{value:e},t)}function Ww(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=W.useContext(Hc),{matches:a}=W.useContext(Gc),{pathname:i}=$p(),s=JSON.stringify(uk(a,n.v7_relativeSplatPath));return W.useMemo(()=>fk(e,JSON.parse(s),i,r==="path"),[e,s,i,r])}function TJ(e,t){return EJ(e,t)}function EJ(e,t,r,n){Fp()||Vn(!1);let{navigator:a,static:i}=W.useContext(Hc),{matches:s}=W.useContext(Gc),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=$p(),f;if(t){var h;let y=typeof t=="string"?Rp(t):t;c==="/"||(h=y.pathname)!=null&&h.startsWith(c)||Vn(!1),f=y}else f=u;let d=f.pathname||"/",g=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");g="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let m=!i&&r&&r.matches&&r.matches.length>0?r.matches:ZQ(e,{pathname:g}),v=OJ(m&&m.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:of([c,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:of([c,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),s,r,n);return t&&v?W.createElement(qw.Provider,{value:{location:dv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Wu.Pop}},v):v}function kJ(){let e=LJ(),t=xJ(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},t),r?W.createElement("pre",{style:a},r):null,null)}const NJ=W.createElement(kJ,null);class CJ extends W.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?W.createElement(Gc.Provider,{value:this.props.routeContext},W.createElement(q$.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PJ(e){let{routeContext:t,match:r,children:n}=e,a=W.useContext(zw);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),W.createElement(Gc.Provider,{value:t},n)}function OJ(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||Vn(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:h,errors:d}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,h)=>{let d,g=!1,m=null,v=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,m=f.route.errorElement||NJ,l&&(c<0&&h===0?(g=!0,v=null):c===h&&(g=!0,v=f.route.hydrateFallbackElement||null)));let y=t.concat(s.slice(0,h+1)),b=()=>{let w;return d?w=m:g?w=v:f.route.Component?w=W.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=u,W.createElement(PJ,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?W.createElement(CJ,{location:r.location,revalidation:r.revalidation,component:m,error:d,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var H$=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(H$||{}),F2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(F2||{});function IJ(e){let t=W.useContext(zw);return t||Vn(!1),t}function DJ(e){let t=W.useContext(z$);return t||Vn(!1),t}function jJ(e){let t=W.useContext(Gc);return t||Vn(!1),t}function G$(e){let t=jJ(),r=t.matches[t.matches.length-1];return r.route.id||Vn(!1),r.route.id}function LJ(){var e;let t=W.useContext(q$),r=DJ(F2.UseRouteError),n=G$(F2.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function MJ(){let{router:e}=IJ(H$.UseNavigateStable),t=G$(F2.UseNavigateStable),r=W.useRef(!1);return W$(()=>{r.current=!0}),W.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,dv({fromRouteId:t},i)))},[e,t])}function RJ(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function S4(e){let{to:t,replace:r,state:n,relative:a}=e;Fp()||Vn(!1);let{future:i,static:s}=W.useContext(Hc),{matches:o}=W.useContext(Gc),{pathname:l}=$p(),c=O1(),u=fk(t,uk(o,i.v7_relativeSplatPath),l,a==="path"),f=JSON.stringify(u);return W.useEffect(()=>c(JSON.parse(f),{replace:r,state:n,relative:a}),[c,f,a,r,n]),null}function FJ(e){return AJ(e.context)}function ss(e){Vn(!1)}function $J(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Wu.Pop,navigator:i,static:s=!1,future:o}=e;Fp()&&Vn(!1);let l=t.replace(/^\/*/,"/"),c=W.useMemo(()=>({basename:l,navigator:i,static:s,future:dv({v7_relativeSplatPath:!1},o)}),[l,o,i,s]);typeof n=="string"&&(n=Rp(n));let{pathname:u="/",search:f="",hash:h="",state:d=null,key:g="default"}=n,m=W.useMemo(()=>{let v=Z0(u,l);return v==null?null:{location:{pathname:v,search:f,hash:h,state:d,key:g},navigationType:a}},[l,u,f,h,d,g,a]);return m==null?null:W.createElement(Hc.Provider,{value:c},W.createElement(qw.Provider,{children:r,value:m}))}function BJ(e){let{children:t,location:r}=e;return TJ(A4(t),r)}new Promise(()=>{});function A4(e,t){t===void 0&&(t=[]);let r=[];return W.Children.forEach(e,(n,a)=>{if(!W.isValidElement(n))return;let i=[...t,a];if(n.type===W.Fragment){r.push.apply(r,A4(n.props.children,i));return}n.type!==ss&&Vn(!1),!n.props.index||!n.props.children||Vn(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=A4(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $2(){return $2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$2.apply(this,arguments)}function K$(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function VJ(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function UJ(e,t){return e.button===0&&(!t||t==="_self")&&!VJ(e)}const zJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],WJ="6";try{window.__reactRouterVersion=WJ}catch{}const HJ=W.createContext({isTransitioning:!1}),GJ="startTransition",cO=FY[GJ];function KJ(e){let{basename:t,children:r,future:n,window:a}=e,i=W.useRef();i.current==null&&(i.current=XQ({window:a,v5Compat:!0}));let s=i.current,[o,l]=W.useState({action:s.action,location:s.location}),{v7_startTransition:c}=n||{},u=W.useCallback(f=>{c&&cO?cO(()=>l(f)):l(f)},[l,c]);return W.useLayoutEffect(()=>s.listen(u),[s,u]),W.useEffect(()=>RJ(n),[n]),W.createElement($J,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:s,future:n})}const YJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QJ=W.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=t,h=K$(t,zJ),{basename:d}=W.useContext(Hc),g,m=!1;if(typeof c=="string"&&XJ.test(c)&&(g=c,YJ))try{let w=new URL(window.location.href),O=c.startsWith("//")?new URL(w.protocol+c):new URL(c),P=Z0(O.pathname,d);O.origin===w.origin&&P!=null?c=P+O.search+O.hash:m=!0}catch{}let v=wJ(c,{relative:a}),y=ZJ(c,{replace:s,state:o,target:l,preventScrollReset:u,relative:a,viewTransition:f});function b(w){n&&n(w),w.defaultPrevented||y(w)}return W.createElement("a",$2({},h,{href:g||v,onClick:m||i?n:b,ref:r,target:l}))}),tS=W.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:a=!1,className:i="",end:s=!1,style:o,to:l,viewTransition:c,children:u}=t,f=K$(t,qJ),h=Ww(l,{relative:f.relative}),d=$p(),g=W.useContext(z$),{navigator:m,basename:v}=W.useContext(Hc),y=g!=null&&eZ(h)&&c===!0,b=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,w=d.pathname,O=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;a||(w=w.toLowerCase(),O=O?O.toLowerCase():null,b=b.toLowerCase()),O&&v&&(O=Z0(O,v)||O);const P=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let I=w===b||!s&&w.startsWith(b)&&w.charAt(P)==="/",E=O!=null&&(O===b||!s&&O.startsWith(b)&&O.charAt(b.length)==="/"),S={isActive:I,isPending:E,isTransitioning:y},A=I?n:void 0,D;typeof i=="function"?D=i(S):D=[i,I?"active":null,E?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(S):o;return W.createElement(QJ,$2({},f,{"aria-current":A,className:D,ref:r,style:T,to:l,viewTransition:c}),typeof u=="function"?u(S):u)});var T4;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T4||(T4={}));var uO;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uO||(uO={}));function JJ(e){let t=W.useContext(zw);return t||Vn(!1),t}function ZJ(e,t){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:o}=t===void 0?{}:t,l=O1(),c=$p(),u=Ww(e,{relative:s});return W.useCallback(f=>{if(UJ(f,r)){f.preventDefault();let h=n!==void 0?n:M2(c)===M2(u);l(e,{replace:h,state:a,preventScrollReset:i,relative:s,viewTransition:o})}},[c,l,u,n,a,r,e,i,s,o])}function eZ(e,t){t===void 0&&(t={});let r=W.useContext(HJ);r==null&&Vn(!1);let{basename:n}=JJ(T4.useViewTransitionState),a=Ww(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Z0(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Z0(r.nextLocation.pathname,n)||r.nextLocation.pathname;return R2(a.pathname,s)!=null||R2(a.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rZ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),lr=(e,t)=>{const r=W.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:o="",children:l,...c},u)=>W.createElement("svg",{ref:u,...tZ,width:a,height:a,stroke:n,strokeWidth:s?Number(i)*24/Number(a):i,className:["lucide",`lucide-${rZ(e)}`,o].join(" "),...c},[...t.map(([f,h])=>W.createElement(f,h)),...Array.isArray(l)?l:[l]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nZ=lr("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=lr("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=lr("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aZ=lr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iZ=lr("BarChart",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=lr("Barcode",[["path",{d:"M3 5v14",key:"1nt18q"}],["path",{d:"M8 5v14",key:"1ybrkv"}],["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"M17 5v14",key:"ycjyhj"}],["path",{d:"M21 5v14",key:"nzette"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sZ=lr("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oZ=lr("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lZ=lr("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=lr("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=lr("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=lr("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=lr("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=lr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=lr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=lr("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cZ=lr("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=lr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uZ=lr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=lr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fZ=lr("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hZ=lr("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dZ=lr("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=lr("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=lr("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=lr("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pZ=lr("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=lr("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mZ=lr("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=lr("PackageOpen",[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vZ=lr("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ep=lr("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=lr("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yZ=lr("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=lr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=lr("PoundSterling",[["path",{d:"M18 7c0-5.333-8-5.333-8 0",key:"1prm2n"}],["path",{d:"M10 7v14",key:"18tmcs"}],["path",{d:"M6 21h12",key:"4dkmi1"}],["path",{d:"M6 13h10",key:"ybwr4a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=lr("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=lr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=lr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=lr("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=lr("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J$=lr("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=lr("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=lr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=lr("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=lr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=lr("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=lr("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=lr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),AZ=()=>{};var gO={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9=function(e){const t=[];let r=0;for(let n=0;n<e.length;n++){let a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&n+1<e.length&&(e.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(e.charCodeAt(++n)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},TZ=function(e){const t=[];let r=0,n=0;for(;r<e.length;){const a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){const i=e[r++];t[n++]=String.fromCharCode((a&31)<<6|i&63)}else if(a>239&&a<365){const i=e[r++],s=e[r++],o=e[r++],l=((a&7)<<18|(i&63)<<12|(s&63)<<6|o&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{const i=e[r++],s=e[r++];t[n++]=String.fromCharCode((a&15)<<12|(i&63)<<6|s&63)}}return t.join("")},t9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<e.length;a+=3){const i=e[a],s=a+1<e.length,o=s?e[a+1]:0,l=a+2<e.length,c=l?e[a+2]:0,u=i>>2,f=(i&3)<<4|o>>4;let h=(o&15)<<2|c>>6,d=c&63;l||(d=64,s||(h=64)),n.push(r[u],r[f],r[h],r[d])}return n.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(e9(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):TZ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<e.length;){const i=r[e.charAt(a++)],o=a<e.length?r[e.charAt(a)]:0;++a;const c=a<e.length?r[e.charAt(a)]:64;++a;const f=a<e.length?r[e.charAt(a)]:64;if(++a,i==null||o==null||c==null||f==null)throw new EZ;const h=i<<2|o>>4;if(n.push(h),c!==64){const d=o<<4&240|c>>2;if(n.push(d),f!==64){const g=c<<6&192|f;n.push(g)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class EZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kZ=function(e){const t=e9(e);return t9.encodeByteArray(t,!0)},U2=function(e){return kZ(e).replace(/\./g,"")},NZ=function(e){try{return t9.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PZ=()=>CZ().__FIREBASE_DEFAULTS__,OZ=()=>{if(typeof process>"u"||typeof gO>"u")return;const e=gO.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},IZ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&NZ(e[1]);return t&&JSON.parse(t)},hk=()=>{try{return AZ()||PZ()||OZ()||IZ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},DZ=e=>{var t,r;return(r=(t=hk())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[e]},jZ=e=>{const t=DZ(e);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const n=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),n]:[t.substring(0,r),n]},r9=()=>{var e;return(e=hk())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(e){return e.endsWith(".cloudworkstations.dev")}async function MZ(e){return(await fetch(e,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RZ(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=t||"demo-project",a=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[U2(JSON.stringify(r)),U2(JSON.stringify(s)),""].join(".")}const _g={};function FZ(){const e={prod:[],emulator:[]};for(const t of Object.keys(_g))_g[t]?e.emulator.push(t):e.prod.push(t);return e}function $Z(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}let vO=!1;function n9(e,t){if(typeof window>"u"||typeof document>"u"||!dk(window.location.host)||_g[e]===t||_g[e]||vO)return;_g[e]=t;function r(h){return`__firebase__banner__${h}`}const n="__firebase__banner",i=FZ().prod.length>0;function s(){const h=document.getElementById(n);h&&h.remove()}function o(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function l(h,d){h.setAttribute("width","24"),h.setAttribute("id",d),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function c(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{vO=!0,s()},h}function u(h,d){h.setAttribute("id",d),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=$Z(n),d=r("text"),g=document.getElementById(d)||document.createElement("span"),m=r("learnmore"),v=document.getElementById(m)||document.createElement("a"),y=r("preprendIcon"),b=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const w=h.element;o(w),u(v,m);const O=c();l(b,y),w.append(b,g,v,O),document.body.appendChild(w)}i?(g.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,g.innerText="Preview backend running in this workspace."),g.setAttribute("id",d)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VZ(){var e;const t=(e=hk())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UZ(){return!VZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zZ(){try{return typeof indexedDB=="object"}catch{return!1}}function qZ(){return new Promise((e,t)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var i;t(((i=a.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WZ="FirebaseError";class Bp extends Error{constructor(t,r,n){super(r),this.code=t,this.customData=n,this.name=WZ,Object.setPrototypeOf(this,Bp.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a9.prototype.create)}}class a9{constructor(t,r,n){this.service=t,this.serviceName=r,this.errors=n}create(t,...r){const n=r[0]||{},a=`${this.service}/${t}`,i=this.errors[t],s=i?HZ(i,n):"Error",o=`${this.serviceName}: ${s} (${a}).`;return new Bp(a,o,n)}}function HZ(e,t){return e.replace(GZ,(r,n)=>{const a=t[n];return a!=null?String(a):`<${n}?>`})}const GZ=/\{\$([^}]+)}/g;function z2(e,t){if(e===t)return!0;const r=Object.keys(e),n=Object.keys(t);for(const a of r){if(!n.includes(a))return!1;const i=e[a],s=t[a];if(yO(i)&&yO(s)){if(!z2(i,s))return!1}else if(i!==s)return!1}for(const a of n)if(!r.includes(a))return!1;return!0}function yO(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(e){return e&&e._delegate?e._delegate:e}class gv{constructor(t,r,n){this.name=t,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fh="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KZ{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const n=new LZ;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(a)return null;throw i}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(XZ(t))try{this.getOrInitializeService({instanceIdentifier:fh})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:a});n.resolve(i)}catch{}}}}clearInstance(t=fh){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fh){return this.instances.has(t)}getOptions(t=fh){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);n===o&&s.resolve(a)}return a}onInit(t,r){var n;const a=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;i.add(t),this.onInitCallbacks.set(a,i);const s=this.instances.get(a);return s&&t(s,a),()=>{i.delete(t)}}invokeOnInitCallbacks(t,r){const n=this.onInitCallbacks.get(r);if(n)for(const a of n)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:YZ(t),options:r}),this.instances.set(t,n),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=fh){return this.component?this.component.multipleInstances?t:fh:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YZ(e){return e===fh?void 0:e}function XZ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new KZ(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fr;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Fr||(Fr={}));const JZ={debug:Fr.DEBUG,verbose:Fr.VERBOSE,info:Fr.INFO,warn:Fr.WARN,error:Fr.ERROR,silent:Fr.SILENT},ZZ=Fr.INFO,eee={[Fr.DEBUG]:"log",[Fr.VERBOSE]:"log",[Fr.INFO]:"info",[Fr.WARN]:"warn",[Fr.ERROR]:"error"},tee=(e,t,...r)=>{if(t<e.logLevel)return;const n=new Date().toISOString(),a=eee[t];if(a)console[a](`[${n}]  ${e.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class i9{constructor(t){this.name=t,this._logLevel=ZZ,this._logHandler=tee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Fr))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JZ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Fr.DEBUG,...t),this._logHandler(this,Fr.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Fr.VERBOSE,...t),this._logHandler(this,Fr.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Fr.INFO,...t),this._logHandler(this,Fr.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Fr.WARN,...t),this._logHandler(this,Fr.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Fr.ERROR,...t),this._logHandler(this,Fr.ERROR,...t)}}const ree=(e,t)=>t.some(r=>e instanceof r);let xO,bO;function nee(){return xO||(xO=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aee(){return bO||(bO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s9=new WeakMap,C4=new WeakMap,o9=new WeakMap,rS=new WeakMap,pk=new WeakMap;function iee(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{r(lf(e.result)),a()},s=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(r=>{r instanceof IDBCursor&&s9.set(r,e)}).catch(()=>{}),pk.set(t,e),t}function see(e){if(C4.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{r(),a()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});C4.set(e,t)}let P4={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return C4.get(e);if(t==="objectStoreNames")return e.objectStoreNames||o9.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return lf(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function oee(e){P4=e(P4)}function lee(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const n=e.call(nS(this),t,...r);return o9.set(n,t.sort?t.sort():[t]),lf(n)}:aee().includes(e)?function(...t){return e.apply(nS(this),t),lf(s9.get(this))}:function(...t){return lf(e.apply(nS(this),t))}}function cee(e){return typeof e=="function"?lee(e):(e instanceof IDBTransaction&&see(e),ree(e,nee())?new Proxy(e,P4):e)}function lf(e){if(e instanceof IDBRequest)return iee(e);if(rS.has(e))return rS.get(e);const t=cee(e);return t!==e&&(rS.set(e,t),pk.set(t,e)),t}const nS=e=>pk.get(e);function uee(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const s=indexedDB.open(e,t),o=lf(s);return n&&s.addEventListener("upgradeneeded",l=>{n(lf(s.result),l.oldVersion,l.newVersion,lf(s.transaction),l)}),r&&s.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{i&&l.addEventListener("close",()=>i()),a&&l.addEventListener("versionchange",c=>a(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const fee=["get","getKey","getAll","getAllKeys","count"],hee=["put","add","delete","clear"],aS=new Map;function wO(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(aS.get(t))return aS.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=hee.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||fee.includes(r)))return;const i=async function(s,...o){const l=this.transaction(s,a?"readwrite":"readonly");let c=l.store;return n&&(c=c.index(o.shift())),(await Promise.all([c[r](...o),a&&l.done]))[0]};return aS.set(t,i),i}oee(e=>({...e,get:(t,r,n)=>wO(t,r)||e.get(t,r,n),has:(t,r)=>!!wO(t,r)||e.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dee{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(pee(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function pee(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const O4="@firebase/app",_O="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc=new i9("@firebase/app"),mee="@firebase/app-compat",gee="@firebase/analytics-compat",vee="@firebase/analytics",yee="@firebase/app-check-compat",xee="@firebase/app-check",bee="@firebase/auth",wee="@firebase/auth-compat",_ee="@firebase/database",See="@firebase/data-connect",Aee="@firebase/database-compat",Tee="@firebase/functions",Eee="@firebase/functions-compat",kee="@firebase/installations",Nee="@firebase/installations-compat",Cee="@firebase/messaging",Pee="@firebase/messaging-compat",Oee="@firebase/performance",Iee="@firebase/performance-compat",Dee="@firebase/remote-config",jee="@firebase/remote-config-compat",Lee="@firebase/storage",Mee="@firebase/storage-compat",Ree="@firebase/firestore",Fee="@firebase/vertexai",$ee="@firebase/firestore-compat",Bee="firebase",Vee="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I4="[DEFAULT]",Uee={[O4]:"fire-core",[mee]:"fire-core-compat",[vee]:"fire-analytics",[gee]:"fire-analytics-compat",[xee]:"fire-app-check",[yee]:"fire-app-check-compat",[bee]:"fire-auth",[wee]:"fire-auth-compat",[_ee]:"fire-rtdb",[See]:"fire-data-connect",[Aee]:"fire-rtdb-compat",[Tee]:"fire-fn",[Eee]:"fire-fn-compat",[kee]:"fire-iid",[Nee]:"fire-iid-compat",[Cee]:"fire-fcm",[Pee]:"fire-fcm-compat",[Oee]:"fire-perf",[Iee]:"fire-perf-compat",[Dee]:"fire-rc",[jee]:"fire-rc-compat",[Lee]:"fire-gcs",[Mee]:"fire-gcs-compat",[Ree]:"fire-fst",[$ee]:"fire-fst-compat",[Fee]:"fire-vertex","fire-js":"fire-js",[Bee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=new Map,zee=new Map,D4=new Map;function SO(e,t){try{e.container.addComponent(t)}catch(r){Dc.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function W2(e){const t=e.name;if(D4.has(t))return Dc.debug(`There were multiple attempts to register component ${t}.`),!1;D4.set(t,e);for(const r of q2.values())SO(r,e);for(const r of zee.values())SO(r,e);return!0}function qee(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function Wee(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cf=new a9("app","Firebase",Hee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(t,r,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new gv("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=Vee;function l9(e,t={}){let r=e;typeof t!="object"&&(t={name:t});const n=Object.assign({name:I4,automaticDataCollectionEnabled:!1},t),a=n.name;if(typeof a!="string"||!a)throw cf.create("bad-app-name",{appName:String(a)});if(r||(r=r9()),!r)throw cf.create("no-options");const i=q2.get(a);if(i){if(z2(r,i.options)&&z2(n,i.config))return i;throw cf.create("duplicate-app",{appName:a})}const s=new QZ(a);for(const l of D4.values())s.addComponent(l);const o=new Gee(r,n,s);return q2.set(a,o),o}function Yee(e=I4){const t=q2.get(e);if(!t&&e===I4&&r9())return l9();if(!t)throw cf.create("no-app",{appName:e});return t}function O0(e,t,r){var n;let a=(n=Uee[e])!==null&&n!==void 0?n:e;r&&(a+=`-${r}`);const i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){const o=[`Unable to register library "${a}" with version "${t}":`];i&&o.push(`library name "${a}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Dc.warn(o.join(" "));return}W2(new gv(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xee="firebase-heartbeat-database",Qee=1,vv="firebase-heartbeat-store";let iS=null;function c9(){return iS||(iS=uee(Xee,Qee,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(vv)}catch(r){console.warn(r)}}}}).catch(e=>{throw cf.create("idb-open",{originalErrorMessage:e.message})})),iS}async function Jee(e){try{const r=(await c9()).transaction(vv),n=await r.objectStore(vv).get(u9(e));return await r.done,n}catch(t){if(t instanceof Bp)Dc.warn(t.message);else{const r=cf.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Dc.warn(r.message)}}}async function AO(e,t){try{const n=(await c9()).transaction(vv,"readwrite");await n.objectStore(vv).put(t,u9(e)),await n.done}catch(r){if(r instanceof Bp)Dc.warn(r.message);else{const n=cf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Dc.warn(n.message)}}}function u9(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zee=1024,ete=30;class tte{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new nte(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=TO();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:a}),this._heartbeatsCache.heartbeats.length>ete){const s=ate(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Dc.warn(n)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=TO(),{heartbeatsToSend:n,unsentEntries:a}=rte(this._heartbeatsCache.heartbeats),i=U2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return Dc.warn(r),""}}}function TO(){return new Date().toISOString().substring(0,10)}function rte(e,t=Zee){const r=[];let n=e.slice();for(const a of e){const i=r.find(s=>s.agent===a.agent);if(i){if(i.dates.push(a.date),EO(r)>t){i.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),EO(r)>t){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class nte{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zZ()?qZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Jee(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return AO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return AO(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function EO(e){return U2(JSON.stringify({version:2,heartbeats:e})).length}function ate(e){if(e.length===0)return-1;let t=0,r=e[0].date;for(let n=1;n<e.length;n++)e[n].date<r&&(r=e[n].date,t=n);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ite(e){W2(new gv("platform-logger",t=>new dee(t),"PRIVATE")),W2(new gv("heartbeat",t=>new tte(t),"PRIVATE")),O0(O4,_O,e),O0(O4,_O,"esm2017"),O0("fire-js","")}ite("");var ste="firebase",ote="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */O0(ste,ote,"app");var kO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uf,f9;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(E,S){function A(){}A.prototype=S.prototype,E.D=S.prototype,E.prototype=new A,E.prototype.constructor=E,E.C=function(D,T,k){for(var j=Array(arguments.length-2),V=2;V<arguments.length;V++)j[V-2]=arguments[V];return S.prototype[T].apply(D,j)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(E,S,A){A||(A=0);var D=Array(16);if(typeof S=="string")for(var T=0;16>T;++T)D[T]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(T=0;16>T;++T)D[T]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=E.g[0],A=E.g[1],T=E.g[2];var k=E.g[3],j=S+(k^A&(T^k))+D[0]+3614090360&4294967295;S=A+(j<<7&4294967295|j>>>25),j=k+(T^S&(A^T))+D[1]+3905402710&4294967295,k=S+(j<<12&4294967295|j>>>20),j=T+(A^k&(S^A))+D[2]+606105819&4294967295,T=k+(j<<17&4294967295|j>>>15),j=A+(S^T&(k^S))+D[3]+3250441966&4294967295,A=T+(j<<22&4294967295|j>>>10),j=S+(k^A&(T^k))+D[4]+4118548399&4294967295,S=A+(j<<7&4294967295|j>>>25),j=k+(T^S&(A^T))+D[5]+1200080426&4294967295,k=S+(j<<12&4294967295|j>>>20),j=T+(A^k&(S^A))+D[6]+2821735955&4294967295,T=k+(j<<17&4294967295|j>>>15),j=A+(S^T&(k^S))+D[7]+4249261313&4294967295,A=T+(j<<22&4294967295|j>>>10),j=S+(k^A&(T^k))+D[8]+1770035416&4294967295,S=A+(j<<7&4294967295|j>>>25),j=k+(T^S&(A^T))+D[9]+2336552879&4294967295,k=S+(j<<12&4294967295|j>>>20),j=T+(A^k&(S^A))+D[10]+4294925233&4294967295,T=k+(j<<17&4294967295|j>>>15),j=A+(S^T&(k^S))+D[11]+2304563134&4294967295,A=T+(j<<22&4294967295|j>>>10),j=S+(k^A&(T^k))+D[12]+1804603682&4294967295,S=A+(j<<7&4294967295|j>>>25),j=k+(T^S&(A^T))+D[13]+4254626195&4294967295,k=S+(j<<12&4294967295|j>>>20),j=T+(A^k&(S^A))+D[14]+2792965006&4294967295,T=k+(j<<17&4294967295|j>>>15),j=A+(S^T&(k^S))+D[15]+1236535329&4294967295,A=T+(j<<22&4294967295|j>>>10),j=S+(T^k&(A^T))+D[1]+4129170786&4294967295,S=A+(j<<5&4294967295|j>>>27),j=k+(A^T&(S^A))+D[6]+3225465664&4294967295,k=S+(j<<9&4294967295|j>>>23),j=T+(S^A&(k^S))+D[11]+643717713&4294967295,T=k+(j<<14&4294967295|j>>>18),j=A+(k^S&(T^k))+D[0]+3921069994&4294967295,A=T+(j<<20&4294967295|j>>>12),j=S+(T^k&(A^T))+D[5]+3593408605&4294967295,S=A+(j<<5&4294967295|j>>>27),j=k+(A^T&(S^A))+D[10]+38016083&4294967295,k=S+(j<<9&4294967295|j>>>23),j=T+(S^A&(k^S))+D[15]+3634488961&4294967295,T=k+(j<<14&4294967295|j>>>18),j=A+(k^S&(T^k))+D[4]+3889429448&4294967295,A=T+(j<<20&4294967295|j>>>12),j=S+(T^k&(A^T))+D[9]+568446438&4294967295,S=A+(j<<5&4294967295|j>>>27),j=k+(A^T&(S^A))+D[14]+3275163606&4294967295,k=S+(j<<9&4294967295|j>>>23),j=T+(S^A&(k^S))+D[3]+4107603335&4294967295,T=k+(j<<14&4294967295|j>>>18),j=A+(k^S&(T^k))+D[8]+1163531501&4294967295,A=T+(j<<20&4294967295|j>>>12),j=S+(T^k&(A^T))+D[13]+2850285829&4294967295,S=A+(j<<5&4294967295|j>>>27),j=k+(A^T&(S^A))+D[2]+4243563512&4294967295,k=S+(j<<9&4294967295|j>>>23),j=T+(S^A&(k^S))+D[7]+1735328473&4294967295,T=k+(j<<14&4294967295|j>>>18),j=A+(k^S&(T^k))+D[12]+2368359562&4294967295,A=T+(j<<20&4294967295|j>>>12),j=S+(A^T^k)+D[5]+4294588738&4294967295,S=A+(j<<4&4294967295|j>>>28),j=k+(S^A^T)+D[8]+2272392833&4294967295,k=S+(j<<11&4294967295|j>>>21),j=T+(k^S^A)+D[11]+1839030562&4294967295,T=k+(j<<16&4294967295|j>>>16),j=A+(T^k^S)+D[14]+4259657740&4294967295,A=T+(j<<23&4294967295|j>>>9),j=S+(A^T^k)+D[1]+2763975236&4294967295,S=A+(j<<4&4294967295|j>>>28),j=k+(S^A^T)+D[4]+1272893353&4294967295,k=S+(j<<11&4294967295|j>>>21),j=T+(k^S^A)+D[7]+4139469664&4294967295,T=k+(j<<16&4294967295|j>>>16),j=A+(T^k^S)+D[10]+3200236656&4294967295,A=T+(j<<23&4294967295|j>>>9),j=S+(A^T^k)+D[13]+681279174&4294967295,S=A+(j<<4&4294967295|j>>>28),j=k+(S^A^T)+D[0]+3936430074&4294967295,k=S+(j<<11&4294967295|j>>>21),j=T+(k^S^A)+D[3]+3572445317&4294967295,T=k+(j<<16&4294967295|j>>>16),j=A+(T^k^S)+D[6]+76029189&4294967295,A=T+(j<<23&4294967295|j>>>9),j=S+(A^T^k)+D[9]+3654602809&4294967295,S=A+(j<<4&4294967295|j>>>28),j=k+(S^A^T)+D[12]+3873151461&4294967295,k=S+(j<<11&4294967295|j>>>21),j=T+(k^S^A)+D[15]+530742520&4294967295,T=k+(j<<16&4294967295|j>>>16),j=A+(T^k^S)+D[2]+3299628645&4294967295,A=T+(j<<23&4294967295|j>>>9),j=S+(T^(A|~k))+D[0]+4096336452&4294967295,S=A+(j<<6&4294967295|j>>>26),j=k+(A^(S|~T))+D[7]+1126891415&4294967295,k=S+(j<<10&4294967295|j>>>22),j=T+(S^(k|~A))+D[14]+2878612391&4294967295,T=k+(j<<15&4294967295|j>>>17),j=A+(k^(T|~S))+D[5]+4237533241&4294967295,A=T+(j<<21&4294967295|j>>>11),j=S+(T^(A|~k))+D[12]+1700485571&4294967295,S=A+(j<<6&4294967295|j>>>26),j=k+(A^(S|~T))+D[3]+2399980690&4294967295,k=S+(j<<10&4294967295|j>>>22),j=T+(S^(k|~A))+D[10]+4293915773&4294967295,T=k+(j<<15&4294967295|j>>>17),j=A+(k^(T|~S))+D[1]+2240044497&4294967295,A=T+(j<<21&4294967295|j>>>11),j=S+(T^(A|~k))+D[8]+1873313359&4294967295,S=A+(j<<6&4294967295|j>>>26),j=k+(A^(S|~T))+D[15]+4264355552&4294967295,k=S+(j<<10&4294967295|j>>>22),j=T+(S^(k|~A))+D[6]+2734768916&4294967295,T=k+(j<<15&4294967295|j>>>17),j=A+(k^(T|~S))+D[13]+1309151649&4294967295,A=T+(j<<21&4294967295|j>>>11),j=S+(T^(A|~k))+D[4]+4149444226&4294967295,S=A+(j<<6&4294967295|j>>>26),j=k+(A^(S|~T))+D[11]+3174756917&4294967295,k=S+(j<<10&4294967295|j>>>22),j=T+(S^(k|~A))+D[2]+718787259&4294967295,T=k+(j<<15&4294967295|j>>>17),j=A+(k^(T|~S))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+S&4294967295,E.g[1]=E.g[1]+(T+(j<<21&4294967295|j>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+k&4294967295}n.prototype.u=function(E,S){S===void 0&&(S=E.length);for(var A=S-this.blockSize,D=this.B,T=this.h,k=0;k<S;){if(T==0)for(;k<=A;)a(this,E,k),k+=this.blockSize;if(typeof E=="string"){for(;k<S;)if(D[T++]=E.charCodeAt(k++),T==this.blockSize){a(this,D),T=0;break}}else for(;k<S;)if(D[T++]=E[k++],T==this.blockSize){a(this,D),T=0;break}}this.h=T,this.o+=S},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var S=1;S<E.length-8;++S)E[S]=0;var A=8*this.o;for(S=E.length-8;S<E.length;++S)E[S]=A&255,A/=256;for(this.u(E),E=Array(16),S=A=0;4>S;++S)for(var D=0;32>D;D+=8)E[A++]=this.g[S]>>>D&255;return E};function i(E,S){var A=o;return Object.prototype.hasOwnProperty.call(A,E)?A[E]:A[E]=S(E)}function s(E,S){this.h=S;for(var A=[],D=!0,T=E.length-1;0<=T;T--){var k=E[T]|0;D&&k==S||(A[T]=k,D=!1)}this.g=A}var o={};function l(E){return-128<=E&&128>E?i(E,function(S){return new s([S|0],0>S?-1:0)}):new s([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return f;if(0>E)return v(c(-E));for(var S=[],A=1,D=0;E>=A;D++)S[D]=E/A|0,A*=4294967296;return new s(S,0)}function u(E,S){if(E.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E.charAt(0)=="-")return v(u(E.substring(1),S));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(S,8)),D=f,T=0;T<E.length;T+=8){var k=Math.min(8,E.length-T),j=parseInt(E.substring(T,T+k),S);8>k?(k=c(Math.pow(S,k)),D=D.j(k).add(c(j))):(D=D.j(A),D=D.add(c(j)))}return D}var f=l(0),h=l(1),d=l(16777216);e=s.prototype,e.m=function(){if(m(this))return-v(this).m();for(var E=0,S=1,A=0;A<this.g.length;A++){var D=this.i(A);E+=(0<=D?D:4294967296+D)*S,S*=4294967296}return E},e.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(g(this))return"0";if(m(this))return"-"+v(this).toString(E);for(var S=c(Math.pow(E,6)),A=this,D="";;){var T=O(A,S).g;A=y(A,T.j(S));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(E);if(A=T,g(A))return k+D;for(;6>k.length;)k="0"+k;D=k+D}},e.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function g(E){if(E.h!=0)return!1;for(var S=0;S<E.g.length;S++)if(E.g[S]!=0)return!1;return!0}function m(E){return E.h==-1}e.l=function(E){return E=y(this,E),m(E)?-1:g(E)?0:1};function v(E){for(var S=E.g.length,A=[],D=0;D<S;D++)A[D]=~E.g[D];return new s(A,~E.h).add(h)}e.abs=function(){return m(this)?v(this):this},e.add=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],D=0,T=0;T<=S;T++){var k=D+(this.i(T)&65535)+(E.i(T)&65535),j=(k>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=j>>>16,k&=65535,j&=65535,A[T]=j<<16|k}return new s(A,A[A.length-1]&-2147483648?-1:0)};function y(E,S){return E.add(v(S))}e.j=function(E){if(g(this)||g(E))return f;if(m(this))return m(E)?v(this).j(v(E)):v(v(this).j(E));if(m(E))return v(this.j(v(E)));if(0>this.l(d)&&0>E.l(d))return c(this.m()*E.m());for(var S=this.g.length+E.g.length,A=[],D=0;D<2*S;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var k=this.i(D)>>>16,j=this.i(D)&65535,V=E.i(T)>>>16,Q=E.i(T)&65535;A[2*D+2*T]+=j*Q,b(A,2*D+2*T),A[2*D+2*T+1]+=k*Q,b(A,2*D+2*T+1),A[2*D+2*T+1]+=j*V,b(A,2*D+2*T+1),A[2*D+2*T+2]+=k*V,b(A,2*D+2*T+2)}for(D=0;D<S;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=S;D<2*S;D++)A[D]=0;return new s(A,0)};function b(E,S){for(;(E[S]&65535)!=E[S];)E[S+1]+=E[S]>>>16,E[S]&=65535,S++}function w(E,S){this.g=E,this.h=S}function O(E,S){if(g(S))throw Error("division by zero");if(g(E))return new w(f,f);if(m(E))return S=O(v(E),S),new w(v(S.g),v(S.h));if(m(S))return S=O(E,v(S)),new w(v(S.g),S.h);if(30<E.g.length){if(m(E)||m(S))throw Error("slowDivide_ only works with positive integers.");for(var A=h,D=S;0>=D.l(E);)A=P(A),D=P(D);var T=I(A,1),k=I(D,1);for(D=I(D,2),A=I(A,2);!g(D);){var j=k.add(D);0>=j.l(E)&&(T=T.add(A),k=j),D=I(D,1),A=I(A,1)}return S=y(E,T.j(S)),new w(T,S)}for(T=f;0<=E.l(S);){for(A=Math.max(1,Math.floor(E.m()/S.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),k=c(A),j=k.j(S);m(j)||0<j.l(E);)A-=D,k=c(A),j=k.j(S);g(k)&&(k=h),T=T.add(k),E=y(E,j)}return new w(T,E)}e.A=function(E){return O(this,E).h},e.and=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)&E.i(D);return new s(A,this.h&E.h)},e.or=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)|E.i(D);return new s(A,this.h|E.h)},e.xor=function(E){for(var S=Math.max(this.g.length,E.g.length),A=[],D=0;D<S;D++)A[D]=this.i(D)^E.i(D);return new s(A,this.h^E.h)};function P(E){for(var S=E.g.length+1,A=[],D=0;D<S;D++)A[D]=E.i(D)<<1|E.i(D-1)>>>31;return new s(A,E.h)}function I(E,S){var A=S>>5;S%=32;for(var D=E.g.length-A,T=[],k=0;k<D;k++)T[k]=0<S?E.i(k+A)>>>S|E.i(k+A+1)<<32-S:E.i(k+A);return new s(T,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,f9=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,uf=s}).apply(typeof kO<"u"?kO:typeof self<"u"?self:typeof window<"u"?window:{});var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var h9,rg,d9,Xx,j4,p9,m9,g9;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(_,R,X){return _==Array.prototype||_==Object.prototype||(_[R]=X.value),_};function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qy=="object"&&Qy];for(var R=0;R<_.length;++R){var X=_[R];if(X&&X.Math==Math)return X}throw Error("Cannot find global object")}var n=r(this);function a(_,R){if(R)e:{var X=n;_=_.split(".");for(var ce=0;ce<_.length-1;ce++){var De=_[ce];if(!(De in X))break e;X=X[De]}_=_[_.length-1],ce=X[_],R=R(ce),R!=ce&&R!=null&&t(X,_,{configurable:!0,writable:!0,value:R})}}function i(_,R){_ instanceof String&&(_+="");var X=0,ce=!1,De={next:function(){if(!ce&&X<_.length){var We=X++;return{value:R(We,_[We]),done:!1}}return ce=!0,{done:!0,value:void 0}}};return De[Symbol.iterator]=function(){return De},De}a("Array.prototype.values",function(_){return _||function(){return i(this,function(R,X){return X})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function l(_){var R=typeof _;return R=R!="object"?R:_?Array.isArray(_)?"array":R:"null",R=="array"||R=="object"&&typeof _.length=="number"}function c(_){var R=typeof _;return R=="object"&&_!=null||R=="function"}function u(_,R,X){return _.call.apply(_.bind,arguments)}function f(_,R,X){if(!_)throw Error();if(2<arguments.length){var ce=Array.prototype.slice.call(arguments,2);return function(){var De=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(De,ce),_.apply(R,De)}}return function(){return _.apply(R,arguments)}}function h(_,R,X){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,h.apply(null,arguments)}function d(_,R){var X=Array.prototype.slice.call(arguments,1);return function(){var ce=X.slice();return ce.push.apply(ce,arguments),_.apply(this,ce)}}function g(_,R){function X(){}X.prototype=R.prototype,_.aa=R.prototype,_.prototype=new X,_.prototype.constructor=_,_.Qb=function(ce,De,We){for(var xt=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)xt[mr-2]=arguments[mr];return R.prototype[De].apply(ce,xt)}}function m(_){const R=_.length;if(0<R){const X=Array(R);for(let ce=0;ce<R;ce++)X[ce]=_[ce];return X}return[]}function v(_,R){for(let X=1;X<arguments.length;X++){const ce=arguments[X];if(l(ce)){const De=_.length||0,We=ce.length||0;_.length=De+We;for(let xt=0;xt<We;xt++)_[De+xt]=ce[xt]}else _.push(ce)}}class y{constructor(R,X){this.i=R,this.j=X,this.h=0,this.g=null}get(){let R;return 0<this.h?(this.h--,R=this.g,this.g=R.next,R.next=null):R=this.i(),R}}function b(_){return/^[\s\xa0]*$/.test(_)}function w(){var _=o.navigator;return _&&(_=_.userAgent)?_:""}function O(_){return O[" "](_),_}O[" "]=function(){};var P=w().indexOf("Gecko")!=-1&&!(w().toLowerCase().indexOf("webkit")!=-1&&w().indexOf("Edge")==-1)&&!(w().indexOf("Trident")!=-1||w().indexOf("MSIE")!=-1)&&w().indexOf("Edge")==-1;function I(_,R,X){for(const ce in _)R.call(X,_[ce],ce,_)}function E(_,R){for(const X in _)R.call(void 0,_[X],X,_)}function S(_){const R={};for(const X in _)R[X]=_[X];return R}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(_,R){let X,ce;for(let De=1;De<arguments.length;De++){ce=arguments[De];for(X in ce)_[X]=ce[X];for(let We=0;We<A.length;We++)X=A[We],Object.prototype.hasOwnProperty.call(ce,X)&&(_[X]=ce[X])}}function T(_){var R=1;_=_.split(":");const X=[];for(;0<R&&_.length;)X.push(_.shift()),R--;return _.length&&X.push(_.join(":")),X}function k(_){o.setTimeout(()=>{throw _},0)}function j(){var _=U;let R=null;return _.g&&(R=_.g,_.g=_.g.next,_.g||(_.h=null),R.next=null),R}class V{constructor(){this.h=this.g=null}add(R,X){const ce=Q.get();ce.set(R,X),this.h?this.h.next=ce:this.g=ce,this.h=ce}}var Q=new y(()=>new Y,_=>_.reset());class Y{constructor(){this.next=this.g=this.h=null}set(R,X){this.h=R,this.g=X,this.next=null}reset(){this.next=this.g=this.h=null}}let J,H=!1,U=new V,re=()=>{const _=o.Promise.resolve(void 0);J=()=>{_.then(z)}};var z=()=>{for(var _;_=j();){try{_.h.call(_.g)}catch(X){k(X)}var R=Q;R.j(_),100>R.h&&(R.h++,_.next=R.g,R.g=_)}H=!1};function C(){this.s=this.s,this.C=this.C}C.prototype.s=!1,C.prototype.ma=function(){this.s||(this.s=!0,this.N())},C.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function F(_,R){this.type=_,this.g=this.target=R,this.defaultPrevented=!1}F.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var _=!1,R=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const X=()=>{};o.addEventListener("test",X,R),o.removeEventListener("test",X,R)}catch{}return _}();function K(_,R){if(F.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_){var X=this.type=_.type,ce=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;if(this.target=_.target||_.srcElement,this.g=R,R=_.relatedTarget){if(P){e:{try{O(R.nodeName);var De=!0;break e}catch{}De=!1}De||(R=null)}}else X=="mouseover"?R=_.fromElement:X=="mouseout"&&(R=_.toElement);this.relatedTarget=R,ce?(this.clientX=ce.clientX!==void 0?ce.clientX:ce.pageX,this.clientY=ce.clientY!==void 0?ce.clientY:ce.pageY,this.screenX=ce.screenX||0,this.screenY=ce.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=typeof _.pointerType=="string"?_.pointerType:Z[_.pointerType]||"",this.state=_.state,this.i=_,_.defaultPrevented&&K.aa.h.call(this)}}g(K,F);var Z={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),fe=0;function ie(_,R,X,ce,De){this.listener=_,this.proxy=null,this.src=R,this.type=X,this.capture=!!ce,this.ha=De,this.key=++fe,this.da=this.fa=!1}function de(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function _e(_){this.src=_,this.g={},this.h=0}_e.prototype.add=function(_,R,X,ce,De){var We=_.toString();_=this.g[We],_||(_=this.g[We]=[],this.h++);var xt=Te(_,R,ce,De);return-1<xt?(R=_[xt],X||(R.fa=!1)):(R=new ie(R,this.src,We,!!ce,De),R.fa=X,_.push(R)),R};function B(_,R){var X=R.type;if(X in _.g){var ce=_.g[X],De=Array.prototype.indexOf.call(ce,R,void 0),We;(We=0<=De)&&Array.prototype.splice.call(ce,De,1),We&&(de(R),_.g[X].length==0&&(delete _.g[X],_.h--))}}function Te(_,R,X,ce){for(var De=0;De<_.length;++De){var We=_[De];if(!We.da&&We.listener==R&&We.capture==!!X&&We.ha==ce)return De}return-1}var ge="closure_lm_"+(1e6*Math.random()|0),ve={};function te(_,R,X,ce,De){if(Array.isArray(R)){for(var We=0;We<R.length;We++)te(_,R[We],X,ce,De);return null}return X=mt(X),_&&_[oe]?_.K(R,X,c(ce)?!!ce.capture:!!ce,De):ke(_,R,X,!1,ce,De)}function ke(_,R,X,ce,De,We){if(!R)throw Error("Invalid event type");var xt=c(De)?!!De.capture:!!De,mr=Me(_);if(mr||(_[ge]=mr=new _e(_)),X=mr.add(R,X,ce,xt,We),X.proxy)return X;if(ce=$e(),X.proxy=ce,ce.src=_,ce.listener=X,_.addEventListener)q||(De=xt),De===void 0&&(De=!1),_.addEventListener(R.toString(),ce,De);else if(_.attachEvent)_.attachEvent(Le(R.toString()),ce);else if(_.addListener&&_.removeListener)_.addListener(ce);else throw Error("addEventListener and attachEvent are unavailable.");return X}function $e(){function _(X){return R.call(_.src,_.listener,X)}const R=Ge;return _}function Fe(_,R,X,ce,De){if(Array.isArray(R))for(var We=0;We<R.length;We++)Fe(_,R[We],X,ce,De);else ce=c(ce)?!!ce.capture:!!ce,X=mt(X),_&&_[oe]?(_=_.i,R=String(R).toString(),R in _.g&&(We=_.g[R],X=Te(We,X,ce,De),-1<X&&(de(We[X]),Array.prototype.splice.call(We,X,1),We.length==0&&(delete _.g[R],_.h--)))):_&&(_=Me(_))&&(R=_.g[R.toString()],_=-1,R&&(_=Te(R,X,ce,De)),(X=-1<_?R[_]:null)&&Qe(X))}function Qe(_){if(typeof _!="number"&&_&&!_.da){var R=_.src;if(R&&R[oe])B(R.i,_);else{var X=_.type,ce=_.proxy;R.removeEventListener?R.removeEventListener(X,ce,_.capture):R.detachEvent?R.detachEvent(Le(X),ce):R.addListener&&R.removeListener&&R.removeListener(ce),(X=Me(R))?(B(X,_),X.h==0&&(X.src=null,R[ge]=null)):de(_)}}}function Le(_){return _ in ve?ve[_]:ve[_]="on"+_}function Ge(_,R){if(_.da)_=!0;else{R=new K(R,this);var X=_.listener,ce=_.ha||_.src;_.fa&&Qe(_),_=X.call(ce,R)}return _}function Me(_){return _=_[ge],_ instanceof _e?_:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function mt(_){return typeof _=="function"?_:(_[Ye]||(_[Ye]=function(R){return _.handleEvent(R)}),_[Ye])}function at(){C.call(this),this.i=new _e(this),this.M=this,this.F=null}g(at,C),at.prototype[oe]=!0,at.prototype.removeEventListener=function(_,R,X,ce){Fe(this,_,R,X,ce)};function gt(_,R){var X,ce=_.F;if(ce)for(X=[];ce;ce=ce.F)X.push(ce);if(_=_.M,ce=R.type||R,typeof R=="string")R=new F(R,_);else if(R instanceof F)R.target=R.target||_;else{var De=R;R=new F(ce,_),D(R,De)}if(De=!0,X)for(var We=X.length-1;0<=We;We--){var xt=R.g=X[We];De=At(xt,ce,!0,R)&&De}if(xt=R.g=_,De=At(xt,ce,!0,R)&&De,De=At(xt,ce,!1,R)&&De,X)for(We=0;We<X.length;We++)xt=R.g=X[We],De=At(xt,ce,!1,R)&&De}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var _=this.i,R;for(R in _.g){for(var X=_.g[R],ce=0;ce<X.length;ce++)de(X[ce]);delete _.g[R],_.h--}}this.F=null},at.prototype.K=function(_,R,X,ce){return this.i.add(String(_),R,!1,X,ce)},at.prototype.L=function(_,R,X,ce){return this.i.add(String(_),R,!0,X,ce)};function At(_,R,X,ce){if(R=_.i.g[String(R)],!R)return!0;R=R.concat();for(var De=!0,We=0;We<R.length;++We){var xt=R[We];if(xt&&!xt.da&&xt.capture==X){var mr=xt.listener,Cr=xt.ha||xt.src;xt.fa&&B(_.i,xt),De=mr.call(Cr,ce)!==!1&&De}}return De&&!ce.defaultPrevented}function Pt(_,R,X){if(typeof _=="function")X&&(_=h(_,X));else if(_&&typeof _.handleEvent=="function")_=h(_.handleEvent,_);else throw Error("Invalid listener argument");return 2147483647<Number(R)?-1:o.setTimeout(_,R||0)}function ft(_){_.g=Pt(()=>{_.g=null,_.i&&(_.i=!1,ft(_))},_.l);const R=_.h;_.h=null,_.m.apply(null,R)}class rt extends C{constructor(R,X){super(),this.m=R,this.l=X,this.h=null,this.i=!1,this.g=null}j(R){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kt(_){C.call(this),this.h=_,this.g={}}g(Kt,C);var Vt=[];function Ur(_){I(_.g,function(R,X){this.g.hasOwnProperty(X)&&Qe(R)},_),_.g={}}Kt.prototype.N=function(){Kt.aa.N.call(this),Ur(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wt=o.JSON.stringify,Ct=o.JSON.parse,Qt=class{stringify(_){return o.JSON.stringify(_,void 0)}parse(_){return o.JSON.parse(_,void 0)}};function Bt(){}Bt.prototype.h=null;function Sr(_){return _.h||(_.h=_.i())}function Ee(){}var Xe={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nt(){F.call(this,"d")}g(nt,F);function St(){F.call(this,"c")}g(St,F);var ht={},Mt=null;function xr(){return Mt=Mt||new at}ht.La="serverreachability";function Nr(_){F.call(this,ht.La,_)}g(Nr,F);function Zn(_){const R=xr();gt(R,new Nr(R))}ht.STAT_EVENT="statevent";function qa(_,R){F.call(this,ht.STAT_EVENT,_),this.stat=R}g(qa,F);function we(_){const R=xr();gt(R,new qa(R,_))}ht.Ma="timingevent";function _t(_,R){F.call(this,ht.Ma,_),this.size=R}g(_t,F);function kt(_,R){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){_()},R)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function It(_,R,X,ce,De,We){_.info(function(){if(_.g)if(We)for(var xt="",mr=We.split("&"),Cr=0;Cr<mr.length;Cr++){var gr=mr[Cr].split("=");if(1<gr.length){var en=gr[0];gr=gr[1];var mn=en.split("_");xt=2<=mn.length&&mn[1]=="type"?xt+(en+"="+gr+"&"):xt+(en+"=redacted&")}}else xt=null;else xt=We;return"XMLHTTP REQ ("+ce+") [attempt "+De+"]: "+R+`
`+X+`
`+xt})}function dt(_,R,X,ce,De,We,xt){_.info(function(){return"XMLHTTP RESP ("+ce+") [ attempt "+De+"]: "+R+`
`+X+`
`+We+" "+xt})}function ee(_,R,X,ce){_.info(function(){return"XMLHTTP TEXT ("+R+"): "+he(_,X)+(ce?" "+ce:"")})}function ye(_,R){_.info(function(){return"TIMEOUT: "+R})}Yt.prototype.info=function(){};function he(_,R){if(!_.g)return R;if(!R)return null;try{var X=JSON.parse(R);if(X){for(_=0;_<X.length;_++)if(Array.isArray(X[_])){var ce=X[_];if(!(2>ce.length)){var De=ce[1];if(Array.isArray(De)&&!(1>De.length)){var We=De[0];if(We!="noop"&&We!="stop"&&We!="close")for(var xt=1;xt<De.length;xt++)De[xt]=""}}}}return wt(X)}catch{return R}}var me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},be={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Se;function Be(){}g(Be,Bt),Be.prototype.g=function(){return new XMLHttpRequest},Be.prototype.i=function(){return{}},Se=new Be;function Ke(_,R,X,ce){this.j=_,this.i=R,this.l=X,this.R=ce||1,this.U=new Kt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}var Ue={},He={};function vt(_,R,X){_.L=1,_.v=Yl(ji(R)),_.m=X,_.P=!0,Ot(_,null)}function Ot(_,R){_.F=Date.now(),Dt(_),_.A=ji(_.v);var X=_.A,ce=_.R;Array.isArray(ce)||(ce=[String(ce)]),cr(X.i,"t",ce),_.C=0,X=_.j.J,_.h=new Ve,_.g=ne(_.j,X?R:null,!_.m),0<_.O&&(_.M=new rt(h(_.Y,_,_.g),_.O)),R=_.U,X=_.g,ce=_.ca;var De="readystatechange";Array.isArray(De)||(De&&(Vt[0]=De.toString()),De=Vt);for(var We=0;We<De.length;We++){var xt=te(X,De[We],ce||R.handleEvent,!1,R.h||R);if(!xt)break;R.g[xt.key]=xt}R=_.H?S(_.H):{},_.m?(_.u||(_.u="POST"),R["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.A,_.u,_.m,R)):(_.u="GET",_.g.ea(_.A,_.u,null,R)),Zn(),It(_.i,_.u,_.A,_.l,_.R,_.m)}Ke.prototype.ca=function(_){_=_.target;const R=this.M;R&&ba(_)==3?R.j():this.Y(_)},Ke.prototype.Y=function(_){try{if(_==this.g)e:{const mn=ba(this.g);var R=this.g.Ba();const Do=this.g.Z();if(!(3>mn)&&(mn!=3||this.g&&(this.h.h||this.g.oa()||kd(this.g)))){this.J||mn!=4||R==7||(R==8||0>=Do?Zn(3):Zn(2)),Lr(this);var X=this.g.Z();this.X=X;t:if(Ft(this)){var ce=kd(this.g);_="";var De=ce.length,We=ba(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Mr(this);var xt="";break t}this.h.i=new o.TextDecoder}for(R=0;R<De;R++)this.h.h=!0,_+=this.h.i.decode(ce[R],{stream:!(We&&R==De-1)});ce.length=0,this.h.g+=_,this.C=0,xt=this.h.g}else xt=this.g.oa();if(this.o=X==200,dt(this.i,this.u,this.A,this.l,this.R,mn,X),this.o){if(this.T&&!this.K){t:{if(this.g){var mr,Cr=this.g;if((mr=Cr.g?Cr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!b(mr)){var gr=mr;break t}}gr=null}if(X=gr)ee(this.i,this.l,X,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Di(this,X);else{this.o=!1,this.s=3,we(12),un(this),Mr(this);break e}}if(this.P){X=!0;let Ga;for(;!this.J&&this.C<xt.length;)if(Ga=Tt(this,xt),Ga==He){mn==4&&(this.s=4,we(14),X=!1),ee(this.i,this.l,null,"[Incomplete Response]");break}else if(Ga==Ue){this.s=4,we(15),ee(this.i,this.l,xt,"[Invalid Chunk]"),X=!1;break}else ee(this.i,this.l,Ga,null),Di(this,Ga);if(Ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mn!=4||xt.length!=0||this.h.h||(this.s=1,we(16),X=!1),this.o=this.o&&X,!X)ee(this.i,this.l,xt,"[Invalid Chunked Response]"),un(this),Mr(this);else if(0<xt.length&&!this.W){this.W=!0;var en=this.j;en.g==this&&en.ba&&!en.M&&(en.j.info("Great, no buffering proxy detected. Bytes received: "+xt.length),du(en),en.M=!0,we(11))}}else ee(this.i,this.l,xt,null),Di(this,xt);mn==4&&un(this),this.o&&!this.J&&(mn==4?gl(this.j,this):(this.o=!1,Dt(this)))}else pl(this.g),X==400&&0<xt.indexOf("Unknown SID")?(this.s=3,we(12)):(this.s=0,we(13)),un(this),Mr(this)}}}catch{}finally{}};function Ft(_){return _.g?_.u=="GET"&&_.L!=2&&_.j.Ca:!1}function Tt(_,R){var X=_.C,ce=R.indexOf(`
`,X);return ce==-1?He:(X=Number(R.substring(X,ce)),isNaN(X)?Ue:(ce+=1,ce+X>R.length?He:(R=R.slice(ce,ce+X),_.C=ce+X,R)))}Ke.prototype.cancel=function(){this.J=!0,un(this)};function Dt(_){_.S=Date.now()+_.I,rr(_,_.I)}function rr(_,R){if(_.B!=null)throw Error("WatchDog timer not null");_.B=kt(h(_.ba,_),R)}function Lr(_){_.B&&(o.clearTimeout(_.B),_.B=null)}Ke.prototype.ba=function(){this.B=null;const _=Date.now();0<=_-this.S?(ye(this.i,this.A),this.L!=2&&(Zn(),we(17)),un(this),this.s=2,Mr(this)):rr(this,this.S-_)};function Mr(_){_.j.G==0||_.J||gl(_.j,_)}function un(_){Lr(_);var R=_.M;R&&typeof R.ma=="function"&&R.ma(),_.M=null,Ur(_.U),_.g&&(R=_.g,_.g=null,R.abort(),R.ma())}function Di(_,R){try{var X=_.j;if(X.G!=0&&(X.g==_||Wa(X.h,_))){if(!_.K&&Wa(X.h,_)&&X.G==3){try{var ce=X.Da.g.parse(R)}catch{ce=null}if(Array.isArray(ce)&&ce.length==3){var De=ce;if(De[0]==0){e:if(!X.u){if(X.g)if(X.g.F+3e3<_.F)Io(X),cu(X);else break e;ec(X),we(18)}}else X.za=De[1],0<X.za-X.T&&37500>De[2]&&X.F&&X.v==0&&!X.C&&(X.C=kt(h(X.Za,X),6e3));if(1>=_s(X.h)&&X.ca){try{X.ca()}catch{}X.ca=void 0}}else ci(X,11)}else if((_.K||X.g==_)&&Io(X),!b(R))for(De=X.Da.g.parse(R),R=0;R<De.length;R++){let gr=De[R];if(X.T=gr[0],gr=gr[1],X.G==2)if(gr[0]=="c"){X.K=gr[1],X.ia=gr[2];const en=gr[3];en!=null&&(X.la=en,X.j.info("VER="+X.la));const mn=gr[4];mn!=null&&(X.Aa=mn,X.j.info("SVER="+X.Aa));const Do=gr[5];Do!=null&&typeof Do=="number"&&0<Do&&(ce=1.5*Do,X.L=ce,X.j.info("backChannelRequestTimeoutMs_="+ce)),ce=X;const Ga=_.g;if(Ga){const vl=Ga.g?Ga.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vl){var We=ce.h;We.g||vl.indexOf("spdy")==-1&&vl.indexOf("quic")==-1&&vl.indexOf("h2")==-1||(We.j=We.l,We.g=new Set,We.h&&(Tn(We,We.h),We.h=null))}if(ce.D){const yl=Ga.g?Ga.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(ce.ya=yl,rn(ce.I,ce.D,yl))}}X.G=3,X.l&&X.l.ua(),X.ba&&(X.R=Date.now()-_.F,X.j.info("Handshake RTT: "+X.R+"ms")),ce=X;var xt=_;if(ce.qa=L(ce,ce.J?ce.ia:null,ce.W),xt.K){zf(ce.h,xt);var mr=xt,Cr=ce.L;Cr&&(mr.I=Cr),mr.B&&(Lr(mr),Dt(mr)),ce.g=xt}else hu(ce);0<X.i.length&&uu(X)}else gr[0]!="stop"&&gr[0]!="close"||ci(X,7);else X.G==3&&(gr[0]=="stop"||gr[0]=="close"?gr[0]=="stop"?ci(X,7):Oo(X):gr[0]!="noop"&&X.l&&X.l.ta(gr),X.v=0)}}Zn(4)}catch{}}var Eo=class{constructor(_,R){this.g=_,this.map=R}};function ws(_){this.l=_||10,o.PerformanceNavigationTiming?(_=o.performance.getEntriesByType("navigation"),_=0<_.length&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function es(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function _s(_){return _.h?1:_.g?_.g.size:0}function Wa(_,R){return _.h?_.h==R:_.g?_.g.has(R):!1}function Tn(_,R){_.g?_.g.add(R):_.h=R}function zf(_,R){_.h&&_.h==R?_.h=null:_.g&&_.g.has(R)&&_.g.delete(R)}ws.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function qf(_){if(_.h!=null)return _.i.concat(_.h.D);if(_.g!=null&&_.g.size!==0){let R=_.i;for(const X of _.g.values())R=R.concat(X.D);return R}return m(_.i)}function wd(_){if(_.V&&typeof _.V=="function")return _.V();if(typeof Map<"u"&&_ instanceof Map||typeof Set<"u"&&_ instanceof Set)return Array.from(_.values());if(typeof _=="string")return _.split("");if(l(_)){for(var R=[],X=_.length,ce=0;ce<X;ce++)R.push(_[ce]);return R}R=[],X=0;for(ce in _)R[X++]=_[ce];return R}function Wf(_){if(_.na&&typeof _.na=="function")return _.na();if(!_.V||typeof _.V!="function"){if(typeof Map<"u"&&_ instanceof Map)return Array.from(_.keys());if(!(typeof Set<"u"&&_ instanceof Set)){if(l(_)||typeof _=="string"){var R=[];_=_.length;for(var X=0;X<_;X++)R.push(X);return R}R=[],X=0;for(const ce in _)R[X++]=ce;return R}}}function _d(_,R){if(_.forEach&&typeof _.forEach=="function")_.forEach(R,void 0);else if(l(_)||typeof _=="string")Array.prototype.forEach.call(_,R,void 0);else for(var X=Wf(_),ce=wd(_),De=ce.length,We=0;We<De;We++)R.call(void 0,ce[We],X&&X[We],_)}var ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eu(_,R){if(_){_=_.split("&");for(var X=0;X<_.length;X++){var ce=_[X].indexOf("="),De=null;if(0<=ce){var We=_[X].substring(0,ce);De=_[X].substring(ce+1)}else We=_[X];R(We,De?decodeURIComponent(De.replace(/\+/g," ")):"")}}}function qn(_){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,_ instanceof qn){this.h=_.h,Kl(this,_.j),this.o=_.o,this.g=_.g,tu(this,_.s),this.l=_.l;var R=_.i,X=new hl;X.i=R.i,R.g&&(X.g=new Map(R.g),X.h=R.h),Hf(this,X),this.m=_.m}else _&&(R=String(_).match(ts))?(this.h=!1,Kl(this,R[1]||"",!0),this.o=Xl(R[2]||""),this.g=Xl(R[3]||"",!0),tu(this,R[4]),this.l=Xl(R[5]||"",!0),Hf(this,R[6]||"",!0),this.m=Xl(R[7]||"")):(this.h=!1,this.i=new hl(null,this.h))}qn.prototype.toString=function(){var _=[],R=this.j;R&&_.push(ko(R,Sd,!0),":");var X=this.g;return(X||R=="file")&&(_.push("//"),(R=this.o)&&_.push(ko(R,Sd,!0),"@"),_.push(encodeURIComponent(String(X)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),X=this.s,X!=null&&_.push(":",String(X))),(X=this.l)&&(this.g&&X.charAt(0)!="/"&&_.push("/"),_.push(ko(X,X.charAt(0)=="/"?No:fm,!0))),(X=this.i.toString())&&_.push("?",X),(X=this.m)&&_.push("#",ko(X,nu)),_.join("")};function ji(_){return new qn(_)}function Kl(_,R,X){_.j=X?Xl(R,!0):R,_.j&&(_.j=_.j.replace(/:$/,""))}function tu(_,R){if(R){if(R=Number(R),isNaN(R)||0>R)throw Error("Bad port number "+R);_.s=R}else _.s=null}function Hf(_,R,X){R instanceof hl?(_.i=R,hm(_.i,_.h)):(X||(R=ko(R,ru)),_.i=new hl(R,_.h))}function rn(_,R,X){_.i.set(R,X)}function Yl(_){return rn(_,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),_}function Xl(_,R){return _?R?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function ko(_,R,X){return typeof _=="string"?(_=encodeURI(_).replace(R,um),X&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function um(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Sd=/[#\/\?@]/g,fm=/[#\?:]/g,No=/[#\?]/g,ru=/[#\?@]/g,nu=/#/g;function hl(_,R){this.h=this.g=null,this.i=_||null,this.j=!!R}function En(_){_.g||(_.g=new Map,_.h=0,_.i&&eu(_.i,function(R,X){_.add(decodeURIComponent(R.replace(/\+/g," ")),X)}))}e=hl.prototype,e.add=function(_,R){En(this),this.i=null,_=dl(this,_);var X=this.g.get(_);return X||this.g.set(_,X=[]),X.push(R),this.h+=1,this};function Ad(_,R){En(_),R=dl(_,R),_.g.has(R)&&(_.i=null,_.h-=_.g.get(R).length,_.g.delete(R))}function Gf(_,R){return En(_),R=dl(_,R),_.g.has(R)}e.forEach=function(_,R){En(this),this.g.forEach(function(X,ce){X.forEach(function(De){_.call(R,De,ce,this)},this)},this)},e.na=function(){En(this);const _=Array.from(this.g.values()),R=Array.from(this.g.keys()),X=[];for(let ce=0;ce<R.length;ce++){const De=_[ce];for(let We=0;We<De.length;We++)X.push(R[ce])}return X},e.V=function(_){En(this);let R=[];if(typeof _=="string")Gf(this,_)&&(R=R.concat(this.g.get(dl(this,_))));else{_=Array.from(this.g.values());for(let X=0;X<_.length;X++)R=R.concat(_[X])}return R},e.set=function(_,R){return En(this),this.i=null,_=dl(this,_),Gf(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[R]),this.h+=1,this},e.get=function(_,R){return _?(_=this.V(_),0<_.length?String(_[0]):R):R};function cr(_,R,X){Ad(_,R),0<X.length&&(_.i=null,_.g.set(dl(_,R),m(X)),_.h+=X.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],R=Array.from(this.g.keys());for(var X=0;X<R.length;X++){var ce=R[X];const We=encodeURIComponent(String(ce)),xt=this.V(ce);for(ce=0;ce<xt.length;ce++){var De=We;xt[ce]!==""&&(De+="="+encodeURIComponent(String(xt[ce]))),_.push(De)}}return this.i=_.join("&")};function dl(_,R){return R=String(R),_.j&&(R=R.toLowerCase()),R}function hm(_,R){R&&!_.j&&(En(_),_.i=null,_.g.forEach(function(X,ce){var De=ce.toLowerCase();ce!=De&&(Ad(this,ce),cr(this,De,X))},_)),_.j=R}function Gs(_,R){const X=new Yt;if(o.Image){const ce=new Image;ce.onload=d(Ss,X,"TestLoadImage: loaded",!0,R,ce),ce.onerror=d(Ss,X,"TestLoadImage: error",!1,R,ce),ce.onabort=d(Ss,X,"TestLoadImage: abort",!1,R,ce),ce.ontimeout=d(Ss,X,"TestLoadImage: timeout",!1,R,ce),o.setTimeout(function(){ce.ontimeout&&ce.ontimeout()},1e4),ce.src=_}else R(!1)}function Td(_,R){const X=new Yt,ce=new AbortController,De=setTimeout(()=>{ce.abort(),Ss(X,"TestPingServer: timeout",!1,R)},1e4);fetch(_,{signal:ce.signal}).then(We=>{clearTimeout(De),We.ok?Ss(X,"TestPingServer: ok",!0,R):Ss(X,"TestPingServer: server error",!1,R)}).catch(()=>{clearTimeout(De),Ss(X,"TestPingServer: error",!1,R)})}function Ss(_,R,X,ce,De){try{De&&(De.onload=null,De.onerror=null,De.onabort=null,De.ontimeout=null),ce(X)}catch{}}function au(){this.g=new Qt}function Kf(_,R,X){const ce=X||"";try{_d(_,function(De,We){let xt=De;c(De)&&(xt=wt(De)),R.push(ce+We+"="+encodeURIComponent(xt))})}catch(De){throw R.push(ce+"type="+encodeURIComponent("_badmap")),De}}function iu(_){this.l=_.Ub||null,this.j=_.eb||!1}g(iu,Bt),iu.prototype.g=function(){return new su(this.l,this.j)},iu.prototype.i=function(_){return function(){return _}}({});function su(_,R){at.call(this),this.D=_,this.o=R,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(su,at),e=su.prototype,e.open=function(_,R){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=_,this.A=R,this.readyState=1,As(this)},e.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const R={headers:this.u,method:this.B,credentials:this.m,cache:void 0};_&&(R.body=_),(this.D||o).fetch(new Request(this.A,R)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Co(this)),this.readyState=0},e.Sa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,As(this)),this.g&&(this.readyState=3,As(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ed(this)}else _.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ed(_){_.j.read().then(_.Pa.bind(_)).catch(_.ga.bind(_))}e.Pa=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var R=_.value?_.value:new Uint8Array(0);(R=this.v.decode(R,{stream:!_.done}))&&(this.response=this.responseText+=R)}_.done?Co(this):As(this),this.readyState==3&&Ed(this)}},e.Ra=function(_){this.g&&(this.response=this.responseText=_,Co(this))},e.Qa=function(_){this.g&&(this.response=_,Co(this))},e.ga=function(){this.g&&Co(this)};function Co(_){_.readyState=4,_.l=null,_.j=null,_.v=null,As(_)}e.setRequestHeader=function(_,R){this.u.append(_,R)},e.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],R=this.h.entries();for(var X=R.next();!X.done;)X=X.value,_.push(X[0]+": "+X[1]),X=R.next();return _.join(`\r
`)};function As(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(su.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Po(_){let R="";return I(_,function(X,ce){R+=ce,R+=":",R+=X,R+=`\r
`}),R}function Yf(_,R,X){e:{for(ce in X){var ce=!1;break e}ce=!0}ce||(X=Po(X),typeof _=="string"?X!=null&&encodeURIComponent(String(X)):rn(_,R,X))}function Zr(_){at.call(this),this.headers=new Map,this.o=_||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Zr,at);var Xf=/^https?$/i,ou=["POST","PUT"];e=Zr.prototype,e.Ha=function(_){this.J=_},e.ea=function(_,R,X,ce){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);R=R?R.toUpperCase():"GET",this.D=_,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Se.g(),this.v=this.o?Sr(this.o):Sr(Se),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(R,String(_),!0),this.B=!1}catch(We){Qf(this,We);return}if(_=X||"",X=new Map(this.headers),ce)if(Object.getPrototypeOf(ce)===Object.prototype)for(var De in ce)X.set(De,ce[De]);else if(typeof ce.keys=="function"&&typeof ce.get=="function")for(const We of ce.keys())X.set(We,ce.get(We));else throw Error("Unknown input type for opt_headers: "+String(ce));ce=Array.from(X.keys()).find(We=>We.toLowerCase()=="content-type"),De=o.FormData&&_ instanceof o.FormData,!(0<=Array.prototype.indexOf.call(ou,R,void 0))||ce||De||X.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[We,xt]of X)this.g.setRequestHeader(We,xt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ts(this),this.u=!0,this.g.send(_),this.u=!1}catch(We){Qf(this,We)}};function Qf(_,R){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=R,_.m=5,Jf(_),Ql(_)}function Jf(_){_.A||(_.A=!0,gt(_,"complete"),gt(_,"error"))}e.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=_||7,gt(this,"complete"),gt(this,"abort"),Ql(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),Zr.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Zf(this):this.bb())},e.bb=function(){Zf(this)};function Zf(_){if(_.h&&typeof s<"u"&&(!_.v[1]||ba(_)!=4||_.Z()!=2)){if(_.u&&ba(_)==4)Pt(_.Ea,0,_);else if(gt(_,"readystatechange"),ba(_)==4){_.h=!1;try{const xt=_.Z();e:switch(xt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var R=!0;break e;default:R=!1}var X;if(!(X=R)){var ce;if(ce=xt===0){var De=String(_.D).match(ts)[1]||null;!De&&o.self&&o.self.location&&(De=o.self.location.protocol.slice(0,-1)),ce=!Xf.test(De?De.toLowerCase():"")}X=ce}if(X)gt(_,"complete"),gt(_,"success");else{_.m=6;try{var We=2<ba(_)?_.g.statusText:""}catch{We=""}_.l=We+" ["+_.Z()+"]",Jf(_)}}finally{Ql(_)}}}}function Ql(_,R){if(_.g){Ts(_);const X=_.g,ce=_.v[0]?()=>{}:null;_.g=null,_.v=null,R||gt(_,"ready");try{X.onreadystatechange=ce}catch{}}}function Ts(_){_.I&&(o.clearTimeout(_.I),_.I=null)}e.isActive=function(){return!!this.g};function ba(_){return _.g?_.g.readyState:0}e.Z=function(){try{return 2<ba(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(_){if(this.g){var R=this.g.responseText;return _&&R.indexOf(_)==0&&(R=R.substring(_.length)),Ct(R)}};function kd(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.H){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function pl(_){const R={};_=(_.g&&2<=ba(_)&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let ce=0;ce<_.length;ce++){if(b(_[ce]))continue;var X=T(_[ce]);const De=X[0];if(X=X[1],typeof X!="string")continue;X=X.trim();const We=R[De]||[];R[De]=We,We.push(X)}E(R,function(ce){return ce.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ha(_,R,X){return X&&X.internalChannelParams&&X.internalChannelParams[_]||R}function lu(_){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ha("failFast",!1,_),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ha("baseRetryDelayMs",5e3,_),this.cb=Ha("retryDelaySeedMs",1e4,_),this.Wa=Ha("forwardChannelMaxRetries",2,_),this.wa=Ha("forwardChannelRequestTimeoutMs",2e4,_),this.pa=_&&_.xmlHttpFactory||void 0,this.Xa=_&&_.Tb||void 0,this.Ca=_&&_.useFetchStreams||!1,this.L=void 0,this.J=_&&_.supportsCrossDomainXhr||!1,this.K="",this.h=new ws(_&&_.concurrentRequestLimit),this.Da=new au,this.P=_&&_.fastHandshake||!1,this.O=_&&_.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=_&&_.Rb||!1,_&&_.xa&&this.j.xa(),_&&_.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&_&&_.detectBufferingProxy||!1,this.ja=void 0,_&&_.longPollingTimeout&&0<_.longPollingTimeout&&(this.ja=_.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=lu.prototype,e.la=8,e.G=1,e.connect=function(_,R,X,ce){we(0),this.W=_,this.H=R||{},X&&ce!==void 0&&(this.H.OSID=X,this.H.OAID=ce),this.F=this.X,this.I=L(this,null,this.W),uu(this)};function Oo(_){if(Jl(_),_.G==3){var R=_.U++,X=ji(_.I);if(rn(X,"SID",_.K),rn(X,"RID",R),rn(X,"TYPE","terminate"),ml(_,X),R=new Ke(_,_.j,R),R.L=2,R.v=Yl(ji(X)),X=!1,o.navigator&&o.navigator.sendBeacon)try{X=o.navigator.sendBeacon(R.v.toString(),"")}catch{}!X&&o.Image&&(new Image().src=R.v,X=!0),X||(R.g=ne(R.j,null),R.g.ea(R.v)),R.F=Date.now(),Dt(R)}mu(_)}function cu(_){_.g&&(du(_),_.g.cancel(),_.g=null)}function Jl(_){cu(_),_.u&&(o.clearTimeout(_.u),_.u=null),Io(_),_.h.cancel(),_.s&&(typeof _.s=="number"&&o.clearTimeout(_.s),_.s=null)}function uu(_){if(!es(_.h)&&!_.s){_.s=!0;var R=_.Ga;J||re(),H||(J(),H=!0),U.add(R,_),_.B=0}}function eh(_,R){return _s(_.h)>=_.h.j-(_.s?1:0)?!1:_.s?(_.i=R.D.concat(_.i),!0):_.G==1||_.G==2||_.B>=(_.Va?0:_.Wa)?!1:(_.s=kt(h(_.Ga,_,R),pu(_,_.B)),_.B++,!0)}e.Ga=function(_){if(this.s)if(this.s=null,this.G==1){if(!_){this.U=Math.floor(1e5*Math.random()),_=this.U++;const De=new Ke(this,this.j,_);let We=this.o;if(this.S&&(We?(We=S(We),D(We,this.S)):We=this.S),this.m!==null||this.O||(De.H=We,We=null),this.P)e:{for(var R=0,X=0;X<this.i.length;X++){t:{var ce=this.i[X];if("__data__"in ce.map&&(ce=ce.map.__data__,typeof ce=="string")){ce=ce.length;break t}ce=void 0}if(ce===void 0)break;if(R+=ce,4096<R){R=X;break e}if(R===4096||X===this.i.length-1){R=X+1;break e}}R=1e3}else R=1e3;R=Zl(this,De,R),X=ji(this.I),rn(X,"RID",_),rn(X,"CVER",22),this.D&&rn(X,"X-HTTP-Session-Id",this.D),ml(this,X),We&&(this.O?R="headers="+encodeURIComponent(String(Po(We)))+"&"+R:this.m&&Yf(X,this.m,We)),Tn(this.h,De),this.Ua&&rn(X,"TYPE","init"),this.P?(rn(X,"$req",R),rn(X,"SID","null"),De.T=!0,vt(De,X,null)):vt(De,X,R),this.G=2}}else this.G==3&&(_?fu(this,_):this.i.length==0||es(this.h)||fu(this))};function fu(_,R){var X;R?X=R.l:X=_.U++;const ce=ji(_.I);rn(ce,"SID",_.K),rn(ce,"RID",X),rn(ce,"AID",_.T),ml(_,ce),_.m&&_.o&&Yf(ce,_.m,_.o),X=new Ke(_,_.j,X,_.B+1),_.m===null&&(X.H=_.o),R&&(_.i=R.D.concat(_.i)),R=Zl(_,X,1e3),X.I=Math.round(.5*_.wa)+Math.round(.5*_.wa*Math.random()),Tn(_.h,X),vt(X,ce,R)}function ml(_,R){_.H&&I(_.H,function(X,ce){rn(R,ce,X)}),_.l&&_d({},function(X,ce){rn(R,ce,X)})}function Zl(_,R,X){X=Math.min(_.i.length,X);var ce=_.l?h(_.l.Na,_.l,_):null;e:{var De=_.i;let We=-1;for(;;){const xt=["count="+X];We==-1?0<X?(We=De[0].g,xt.push("ofs="+We)):We=0:xt.push("ofs="+We);let mr=!0;for(let Cr=0;Cr<X;Cr++){let gr=De[Cr].g;const en=De[Cr].map;if(gr-=We,0>gr)We=Math.max(0,De[Cr].g-100),mr=!1;else try{Kf(en,xt,"req"+gr+"_")}catch{ce&&ce(en)}}if(mr){ce=xt.join("&");break e}}}return _=_.i.splice(0,X),R.D=_,ce}function hu(_){if(!_.g&&!_.u){_.Y=1;var R=_.Fa;J||re(),H||(J(),H=!0),U.add(R,_),_.v=0}}function ec(_){return _.g||_.u||3<=_.v?!1:(_.Y++,_.u=kt(h(_.Fa,_),pu(_,_.v)),_.v++,!0)}e.Fa=function(){if(this.u=null,Nd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var _=2*this.R;this.j.info("BP detection timer enabled: "+_),this.A=kt(h(this.ab,this),_)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,we(10),cu(this),Nd(this))};function du(_){_.A!=null&&(o.clearTimeout(_.A),_.A=null)}function Nd(_){_.g=new Ke(_,_.j,"rpc",_.Y),_.m===null&&(_.g.H=_.o),_.g.O=0;var R=ji(_.qa);rn(R,"RID","rpc"),rn(R,"SID",_.K),rn(R,"AID",_.T),rn(R,"CI",_.F?"0":"1"),!_.F&&_.ja&&rn(R,"TO",_.ja),rn(R,"TYPE","xmlhttp"),ml(_,R),_.m&&_.o&&Yf(R,_.m,_.o),_.L&&(_.g.I=_.L);var X=_.g;_=_.ia,X.L=1,X.v=Yl(ji(R)),X.m=null,X.P=!0,Ot(X,_)}e.Za=function(){this.C!=null&&(this.C=null,cu(this),ec(this),we(19))};function Io(_){_.C!=null&&(o.clearTimeout(_.C),_.C=null)}function gl(_,R){var X=null;if(_.g==R){Io(_),du(_),_.g=null;var ce=2}else if(Wa(_.h,R))X=R.D,zf(_.h,R),ce=1;else return;if(_.G!=0){if(R.o)if(ce==1){X=R.m?R.m.length:0,R=Date.now()-R.F;var De=_.B;ce=xr(),gt(ce,new _t(ce,X)),uu(_)}else hu(_);else if(De=R.s,De==3||De==0&&0<R.X||!(ce==1&&eh(_,R)||ce==2&&ec(_)))switch(X&&0<X.length&&(R=_.h,R.i=R.i.concat(X)),De){case 1:ci(_,5);break;case 4:ci(_,10);break;case 3:ci(_,6);break;default:ci(_,2)}}}function pu(_,R){let X=_.Ta+Math.floor(Math.random()*_.cb);return _.isActive()||(X*=2),X*R}function ci(_,R){if(_.j.info("Error code "+R),R==2){var X=h(_.fb,_),ce=_.Xa;const De=!ce;ce=new qn(ce||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Kl(ce,"https"),Yl(ce),De?Gs(ce.toString(),X):Td(ce.toString(),X)}else we(2);_.G=0,_.l&&_.l.sa(R),mu(_),Jl(_)}e.fb=function(_){_?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function mu(_){if(_.G=0,_.ka=[],_.l){const R=qf(_.h);(R.length!=0||_.i.length!=0)&&(v(_.ka,R),v(_.ka,_.i),_.h.i.length=0,m(_.i),_.i.length=0),_.l.ra()}}function L(_,R,X){var ce=X instanceof qn?ji(X):new qn(X);if(ce.g!="")R&&(ce.g=R+"."+ce.g),tu(ce,ce.s);else{var De=o.location;ce=De.protocol,R=R?R+"."+De.hostname:De.hostname,De=+De.port;var We=new qn(null);ce&&Kl(We,ce),R&&(We.g=R),De&&tu(We,De),X&&(We.l=X),ce=We}return X=_.D,R=_.ya,X&&R&&rn(ce,X,R),rn(ce,"VER",_.la),ml(_,ce),ce}function ne(_,R,X){if(R&&!_.J)throw Error("Can't create secondary domain capable XhrIo object.");return R=_.Ca&&!_.pa?new Zr(new iu({eb:X})):new Zr(_.pa),R.Ha(_.J),R}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ae(){}e=Ae.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function Ne(){}Ne.prototype.g=function(_,R){return new je(_,R)};function je(_,R){at.call(this),this.g=new lu(R),this.l=_,this.h=R&&R.messageUrlParams||null,_=R&&R.messageHeaders||null,R&&R.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=R&&R.initMessageHeaders||null,R&&R.messageContentType&&(_?_["X-WebChannel-Content-Type"]=R.messageContentType:_={"X-WebChannel-Content-Type":R.messageContentType}),R&&R.va&&(_?_["X-WebChannel-Client-Profile"]=R.va:_={"X-WebChannel-Client-Profile":R.va}),this.g.S=_,(_=R&&R.Sb)&&!b(_)&&(this.g.m=_),this.v=R&&R.supportsCrossDomainXhr||!1,this.u=R&&R.sendRawJson||!1,(R=R&&R.httpSessionIdParam)&&!b(R)&&(this.g.D=R,_=this.h,_!==null&&R in _&&(_=this.h,R in _&&delete _[R])),this.j=new Rt(this)}g(je,at),je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},je.prototype.close=function(){Oo(this.g)},je.prototype.o=function(_){var R=this.g;if(typeof _=="string"){var X={};X.__data__=_,_=X}else this.u&&(X={},X.__data__=wt(_),_=X);R.i.push(new Eo(R.Ya++,_)),R.G==3&&uu(R)},je.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,je.aa.N.call(this)};function Ze(_){nt.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var R=_.__sm__;if(R){e:{for(const X in R){_=X;break e}_=void 0}(this.i=_)&&(_=this.i,R=R!==null&&_ in R?R[_]:void 0),this.data=R}else this.data=_}g(Ze,nt);function yt(){St.call(this),this.status=1}g(yt,St);function Rt(_){this.g=_}g(Rt,Ae),Rt.prototype.ua=function(){gt(this.g,"a")},Rt.prototype.ta=function(_){gt(this.g,new Ze(_))},Rt.prototype.sa=function(_){gt(this.g,new yt)},Rt.prototype.ra=function(){gt(this.g,"b")},Ne.prototype.createWebChannel=Ne.prototype.g,je.prototype.send=je.prototype.o,je.prototype.open=je.prototype.m,je.prototype.close=je.prototype.close,g9=function(){return new Ne},m9=function(){return xr()},p9=ht,j4={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},me.NO_ERROR=0,me.TIMEOUT=8,me.HTTP_ERROR=6,Xx=me,be.COMPLETE="complete",d9=be,Ee.EventType=Xe,Xe.OPEN="a",Xe.CLOSE="b",Xe.ERROR="c",Xe.MESSAGE="d",at.prototype.listen=at.prototype.K,rg=Ee,Zr.prototype.listenOnce=Zr.prototype.L,Zr.prototype.getLastError=Zr.prototype.Ka,Zr.prototype.getLastErrorCode=Zr.prototype.Ba,Zr.prototype.getStatus=Zr.prototype.Z,Zr.prototype.getResponseJson=Zr.prototype.Oa,Zr.prototype.getResponseText=Zr.prototype.oa,Zr.prototype.send=Zr.prototype.ea,Zr.prototype.setWithCredentials=Zr.prototype.Ha,h9=Zr}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});const NO="@firebase/firestore",CO="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}bi.UNAUTHENTICATED=new bi(null),bi.GOOGLE_CREDENTIALS=new bi("google-credentials-uid"),bi.FIRST_PARTY=new bi("first-party-uid"),bi.MOCK_USER=new bi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vp="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh=new i9("@firebase/firestore");function Qd(){return Kh.logLevel}function qt(e,...t){if(Kh.logLevel<=Fr.DEBUG){const r=t.map(mk);Kh.debug(`Firestore (${Vp}): ${e}`,...r)}}function jc(e,...t){if(Kh.logLevel<=Fr.ERROR){const r=t.map(mk);Kh.error(`Firestore (${Vp}): ${e}`,...r)}}function tp(e,...t){if(Kh.logLevel<=Fr.WARN){const r=t.map(mk);Kh.warn(`Firestore (${Vp}): ${e}`,...r)}}function mk(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(e,t,r){let n="Unexpected state";typeof t=="string"?n=t:r=t,v9(e,n,r)}function v9(e,t,r){let n=`FIRESTORE (${Vp}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw jc(n),new Error(n)}function Qr(e,t,r,n){let a="Unexpected state";typeof r=="string"?a=r:n=r,e||v9(t,a,n)}function dr(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends Bp{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(bi.UNAUTHENTICATED))}shutdown(){}}class cte{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class ute{constructor(t){this.t=t,this.currentUser=bi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){Qr(this.o===void 0,42304);let n=this.i;const a=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new Il;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Il,t.enqueueRetryable(()=>a(this.currentUser))};const s=()=>{const l=i;t.enqueueRetryable(async()=>{await l.promise,await a(this.currentUser)})},o=l=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Il)}},0),s()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==t?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Qr(typeof n.accessToken=="string",31837,{l:n}),new y9(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qr(t===null||typeof t=="string",2055,{h:t}),new bi(t)}}class fte{constructor(t,r,n){this.P=t,this.T=r,this.I=n,this.type="FirstParty",this.user=bi.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class hte{constructor(t,r,n){this.P=t,this.T=r,this.I=n}getToken(){return Promise.resolve(new fte(this.P,this.T,this.I))}start(t,r){t.enqueueRetryable(()=>r(bi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class PO{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dte{constructor(t,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wee(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,r){Qr(this.o===void 0,3512);const n=i=>{i.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.m;return this.m=i.token,qt("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(i.token):Promise.resolve()};this.o=i=>{t.enqueueRetryable(()=>n(i))};const a=i=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>a(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?a(i):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new PO(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(Qr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new PO(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pte(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let n=0;n<e;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x9(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b9{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const a=pte(40);for(let i=0;i<a.length;++i)n.length<20&&a[i]<r&&(n+=t.charAt(a[i]%62))}return n}}function Tr(e,t){return e<t?-1:e>t?1:0}function L4(e,t){let r=0;for(;r<e.length&&r<t.length;){const n=e.codePointAt(r),a=t.codePointAt(r);if(n!==a){if(n<128&&a<128)return Tr(n,a);{const i=x9(),s=mte(i.encode(OO(e,r)),i.encode(OO(t,r)));return s!==0?s:Tr(n,a)}}r+=n>65535?2:1}return Tr(e.length,t.length)}function OO(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function mte(e,t){for(let r=0;r<e.length&&r<t.length;++r)if(e[r]!==t[r])return Tr(e[r],t[r]);return Tr(e.length,t.length)}function rp(e,t,r){return e.length===t.length&&e.every((n,a)=>r(n,t[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=-62135596800,DO=1e6;class Zt{static now(){return Zt.fromMillis(Date.now())}static fromDate(t){return Zt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),n=Math.floor((t-1e3*r)*DO);return new Zt(r,n)}constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new Ut(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new Ut(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<IO)throw new Ut(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ut(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/DO}_compareTo(t){return this.seconds===t.seconds?Tr(this.nanoseconds,t.nanoseconds):Tr(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-IO;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{static fromTimestamp(t){return new pr(t)}static min(){return new pr(new Zt(0,0))}static max(){return new pr(new Zt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__name__";class Tl{constructor(t,r,n){r===void 0?r=0:r>t.length&&or(637,{offset:r,range:t.length}),n===void 0?n=t.length-r:n>t.length-r&&or(1746,{length:n,range:t.length-r}),this.segments=t,this.offset=r,this.len=n}get length(){return this.len}isEqual(t){return Tl.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof Tl?t.forEach(n=>{r.push(n)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,n=this.limit();r<n;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const n=Math.min(t.length,r.length);for(let a=0;a<n;a++){const i=Tl.compareSegments(t.get(a),r.get(a));if(i!==0)return i}return Tr(t.length,r.length)}static compareSegments(t,r){const n=Tl.isNumericId(t),a=Tl.isNumericId(r);return n&&!a?-1:!n&&a?1:n&&a?Tl.extractNumericId(t).compare(Tl.extractNumericId(r)):L4(t,r)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return uf.fromString(t.substring(4,t.length-2))}}class Pn extends Tl{construct(t,r,n){return new Pn(t,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const r=[];for(const n of t){if(n.indexOf("//")>=0)throw new Ut(ot.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(a=>a.length>0))}return new Pn(r)}static emptyPath(){return new Pn([])}}const gte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ri extends Tl{construct(t,r,n){return new ri(t,r,n)}static isValidIdentifier(t){return gte.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ri.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jO}static keyField(){return new ri([jO])}static fromServerFormat(t){const r=[];let n="",a=0;const i=()=>{if(n.length===0)throw new Ut(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;a<t.length;){const o=t[a];if(o==="\\"){if(a+1===t.length)throw new Ut(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[a+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ut(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,a+=2}else o==="`"?(s=!s,a++):o!=="."||s?(n+=o,a++):(i(),a++)}if(i(),s)throw new Ut(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ri(r)}static emptyPath(){return new ri([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t){this.path=t}static fromPath(t){return new Jt(Pn.fromString(t))}static fromName(t){return new Jt(Pn.fromString(t).popFirst(5))}static empty(){return new Jt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Pn.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return Pn.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Jt(new Pn(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=-1;function vte(e,t){const r=e.toTimestamp().seconds,n=e.toTimestamp().nanoseconds+1,a=pr.fromTimestamp(n===1e9?new Zt(r+1,0):new Zt(r,n));return new xf(a,Jt.empty(),t)}function yte(e){return new xf(e.readTime,e.key,yv)}class xf{constructor(t,r,n){this.readTime=t,this.documentKey=r,this.largestBatchId=n}static min(){return new xf(pr.min(),Jt.empty(),yv)}static max(){return new xf(pr.max(),Jt.empty(),yv)}}function xte(e,t){let r=e.readTime.compareTo(t.readTime);return r!==0?r:(r=Jt.comparator(e.documentKey,t.documentKey),r!==0?r:Tr(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Up(e){if(e.code!==ot.FAILED_PRECONDITION||e.message!==bte)throw e;qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&or(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new ut((n,a)=>{this.nextCallback=i=>{this.wrapSuccess(t,i).next(n,a)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,a)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof ut?r:ut.resolve(r)}catch(r){return ut.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):ut.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):ut.reject(r)}static resolve(t){return new ut((r,n)=>{r(t)})}static reject(t){return new ut((r,n)=>{n(t)})}static waitFor(t){return new ut((r,n)=>{let a=0,i=0,s=!1;t.forEach(o=>{++a,o.next(()=>{++i,s&&i===a&&r()},l=>n(l))}),s=!0,i===a&&r()})}static or(t){let r=ut.resolve(!1);for(const n of t)r=r.next(a=>a?ut.resolve(a):n());return r}static forEach(t,r){const n=[];return t.forEach((a,i)=>{n.push(r.call(this,a,i))}),this.waitFor(n)}static mapArray(t,r){return new ut((n,a)=>{const i=t.length,s=new Array(i);let o=0;for(let l=0;l<i;l++){const c=l;r(t[c]).next(u=>{s[c]=u,++o,o===i&&n(s)},u=>a(u))}})}static doWhile(t,r){return new ut((n,a)=>{const i=()=>{t()===!0?r().next(()=>{i()},a):n()};i()})}}function _te(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function zp(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=n=>this.ue(n),this.ce=n=>r.writeSequenceNumber(n))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hw.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=-1;function Gw(e){return e==null}function H2(e){return e===0&&1/e==-1/0}function Ste(e){return typeof e=="number"&&Number.isInteger(e)&&!H2(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="";function Ate(e){let t="";for(let r=0;r<e.length;r++)t.length>0&&(t=LO(t)),t=Tte(e.get(r),t);return LO(t)}function Tte(e,t){let r=t;const n=e.length;for(let a=0;a<n;a++){const i=e.charAt(a);switch(i){case"\0":r+="";break;case w9:r+="";break;default:r+=i}}return r}function LO(e){return e+w9+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MO(e){let t=0;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t++;return t}function Df(e,t){for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&t(r,e[r])}function Ete(e,t){const r=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.push(t(e[n],n,e));return r}function _9(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t,r){this.comparator=t,this.root=r||ei.EMPTY}insert(t,r){return new zn(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,ei.BLACK,null,null))}remove(t){return new zn(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ei.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(t,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(t){let r=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(t,n.key);if(a===0)return r+n.left.size;a<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,n)=>(t(r,n),!1))}toString(){const t=[];return this.inorderTraversal((r,n)=>(t.push(`${r}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jy(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jy(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jy(this.root,t,this.comparator,!0)}}class Jy{constructor(t,r,n,a){this.isReverse=a,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=r?n(t.key,r):1,r&&a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(i===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ei{constructor(t,r,n,a,i){this.key=t,this.value=r,this.color=n??ei.RED,this.left=a??ei.EMPTY,this.right=i??ei.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,n,a,i){return new ei(t??this.key,r??this.value,n??this.color,a??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,n){let a=this;const i=n(t,a.key);return a=i<0?a.copy(null,null,null,a.left.insert(t,r,n),null):i===0?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return ei.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let n,a=this;if(r(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,r),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),r(t,a.key)===0){if(a.right.isEmpty())return ei.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,r))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ei.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ei.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw or(43730,{key:this.key,value:this.value});if(this.right.isRed())throw or(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw or(27949);return t+(this.isRed()?0:1)}}ei.EMPTY=null,ei.RED=!0,ei.BLACK=!1;ei.EMPTY=new class{constructor(){this.size=0}get key(){throw or(57766)}get value(){throw or(16141)}get color(){throw or(16727)}get left(){throw or(29726)}get right(){throw or(36894)}copy(t,r,n,a,i){return this}insert(t,r,n){return new ei(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.comparator=t,this.data=new zn(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,n)=>(t(r),!1))}forEachInRange(t,r){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,t[1])>=0)return;r(a.key)}}forEachWhile(t,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new RO(this.data.getIterator())}getIteratorFrom(t){return new RO(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(n=>{r=r.add(n)}),r}isEqual(t){if(!(t instanceof Pa)||this.size!==t.size)return!1;const r=this.data.getIterator(),n=t.data.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(this.comparator(a,i)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Pa(this.comparator);return r.data=t,r}}class RO{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t){this.fields=t,t.sort(ri.comparator)}static empty(){return new Fs([])}unionWith(t){let r=new Pa(ri.comparator);for(const n of this.fields)r=r.add(n);for(const n of t)r=r.add(n);return new Fs(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return rp(this.fields,t.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(a){try{return atob(a)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new S9("Invalid base64 string: "+i):i}}(t);return new li(r)}static fromUint8Array(t){const r=function(a){let i="";for(let s=0;s<a.length;++s)i+=String.fromCharCode(a[s]);return i}(t);return new li(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let a=0;a<r.length;a++)n[a]=r.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Tr(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}li.EMPTY_BYTE_STRING=new li("");const kte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bf(e){if(Qr(!!e,39018),typeof e=="string"){let t=0;const r=kte.exec(e);if(Qr(!!r,46558,{timestamp:e}),r[1]){let a=r[1];a=(a+"000000000").substr(0,9),t=Number(a)}const n=new Date(e);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:na(e.seconds),nanos:na(e.nanos)}}function na(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function wf(e){return typeof e=="string"?li.fromBase64String(e):li.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9="server_timestamp",T9="__type__",E9="__previous_value__",k9="__local_write_time__";function vk(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[T9])===null||r===void 0?void 0:r.stringValue)===A9}function Kw(e){const t=e.mapValue.fields[E9];return vk(t)?Kw(t):t}function xv(e){const t=bf(e.mapValue.fields[k9].timestampValue);return new Zt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(t,r,n,a,i,s,o,l,c,u){this.databaseId=t,this.appId=r,this.persistenceKey=n,this.host=a,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const G2="(default)";class bv{constructor(t,r){this.projectId=t,this.database=r||G2}static empty(){return new bv("","")}get isDefaultDatabase(){return this.database===G2}isEqual(t){return t instanceof bv&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9="__type__",C9="__max__",Zy={mapValue:{fields:{__type__:{stringValue:C9}}}},P9="__vector__",K2="value";function _f(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?vk(e)?4:Pte(e)?9007199254740991:Cte(e)?10:11:or(28295,{value:e})}function Bl(e,t){if(e===t)return!0;const r=_f(e);if(r!==_f(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xv(e).isEqual(xv(t));case 3:return function(a,i){if(typeof a.timestampValue=="string"&&typeof i.timestampValue=="string"&&a.timestampValue.length===i.timestampValue.length)return a.timestampValue===i.timestampValue;const s=bf(a.timestampValue),o=bf(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(a,i){return wf(a.bytesValue).isEqual(wf(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(a,i){return na(a.geoPointValue.latitude)===na(i.geoPointValue.latitude)&&na(a.geoPointValue.longitude)===na(i.geoPointValue.longitude)}(e,t);case 2:return function(a,i){if("integerValue"in a&&"integerValue"in i)return na(a.integerValue)===na(i.integerValue);if("doubleValue"in a&&"doubleValue"in i){const s=na(a.doubleValue),o=na(i.doubleValue);return s===o?H2(s)===H2(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return rp(e.arrayValue.values||[],t.arrayValue.values||[],Bl);case 10:case 11:return function(a,i){const s=a.mapValue.fields||{},o=i.mapValue.fields||{};if(MO(s)!==MO(o))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(o[l]===void 0||!Bl(s[l],o[l])))return!1;return!0}(e,t);default:return or(52216,{left:e})}}function wv(e,t){return(e.values||[]).find(r=>Bl(r,t))!==void 0}function np(e,t){if(e===t)return 0;const r=_f(e),n=_f(t);if(r!==n)return Tr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Tr(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=na(i.integerValue||i.doubleValue),l=na(s.integerValue||s.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(e,t);case 3:return FO(e.timestampValue,t.timestampValue);case 4:return FO(xv(e),xv(t));case 5:return L4(e.stringValue,t.stringValue);case 6:return function(i,s){const o=wf(i),l=wf(s);return o.compareTo(l)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),l=s.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Tr(o[c],l[c]);if(u!==0)return u}return Tr(o.length,l.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=Tr(na(i.latitude),na(s.latitude));return o!==0?o:Tr(na(i.longitude),na(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $O(e.arrayValue,t.arrayValue);case 10:return function(i,s){var o,l,c,u;const f=i.fields||{},h=s.fields||{},d=(o=f[K2])===null||o===void 0?void 0:o.arrayValue,g=(l=h[K2])===null||l===void 0?void 0:l.arrayValue,m=Tr(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:$O(d,g)}(e.mapValue,t.mapValue);case 11:return function(i,s){if(i===Zy.mapValue&&s===Zy.mapValue)return 0;if(i===Zy.mapValue)return 1;if(s===Zy.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let f=0;f<l.length&&f<u.length;++f){const h=L4(l[f],u[f]);if(h!==0)return h;const d=np(o[l[f]],c[u[f]]);if(d!==0)return d}return Tr(l.length,u.length)}(e.mapValue,t.mapValue);default:throw or(23264,{Pe:r})}}function FO(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return Tr(e,t);const r=bf(e),n=bf(t),a=Tr(r.seconds,n.seconds);return a!==0?a:Tr(r.nanos,n.nanos)}function $O(e,t){const r=e.values||[],n=t.values||[];for(let a=0;a<r.length&&a<n.length;++a){const i=np(r[a],n[a]);if(i)return i}return Tr(r.length,n.length)}function ap(e){return M4(e)}function M4(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const n=bf(r);return`time(${n.seconds},${n.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(r){return wf(r).toBase64()}(e.bytesValue):"referenceValue"in e?function(r){return Jt.fromName(r).toString()}(e.referenceValue):"geoPointValue"in e?function(r){return`geo(${r.latitude},${r.longitude})`}(e.geoPointValue):"arrayValue"in e?function(r){let n="[",a=!0;for(const i of r.values||[])a?a=!1:n+=",",n+=M4(i);return n+"]"}(e.arrayValue):"mapValue"in e?function(r){const n=Object.keys(r.fields||{}).sort();let a="{",i=!0;for(const s of n)i?i=!1:a+=",",a+=`${s}:${M4(r.fields[s])}`;return a+"}"}(e.mapValue):or(61005,{value:e})}function Qx(e){switch(_f(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Kw(e);return t?16+Qx(t):16;case 5:return 2*e.stringValue.length;case 6:return wf(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(n){return(n.values||[]).reduce((a,i)=>a+Qx(i),0)}(e.arrayValue);case 10:case 11:return function(n){let a=0;return Df(n.fields,(i,s)=>{a+=i.length+Qx(s)}),a}(e.mapValue);default:throw or(13486,{value:e})}}function BO(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function R4(e){return!!e&&"integerValue"in e}function yk(e){return!!e&&"arrayValue"in e}function VO(e){return!!e&&"nullValue"in e}function UO(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Jx(e){return!!e&&"mapValue"in e}function Cte(e){var t,r;return((r=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[N9])===null||r===void 0?void 0:r.stringValue)===P9}function Sg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Df(e.mapValue.fields,(r,n)=>t.mapValue.fields[r]=Sg(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(e.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=Sg(e.arrayValue.values[r]);return t}return Object.assign({},e)}function Pte(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===C9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(t){this.value=t}static empty(){return new fs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let n=0;n<t.length-1;++n)if(r=(r.mapValue.fields||{})[t.get(n)],!Jx(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=Sg(r)}setAll(t){let r=ri.emptyPath(),n={},a=[];t.forEach((s,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,a),n={},a=[],r=o.popLast()}s?n[o.lastSegment()]=Sg(s):a.push(o.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,a)}delete(t){const r=this.field(t.popLast());Jx(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return Bl(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<t.length;++n){let a=r.mapValue.fields[t.get(n)];Jx(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},r.mapValue.fields[t.get(n)]=a),r=a}return r.mapValue.fields}applyChanges(t,r,n){Df(r,(a,i)=>t[a]=i);for(const a of n)delete t[a]}clone(){return new fs(Sg(this.value))}}function O9(e){const t=[];return Df(e.fields,(r,n)=>{const a=new ri([r]);if(Jx(n)){const i=O9(n.mapValue).fields;if(i.length===0)t.push(a);else for(const s of i)t.push(a.child(s))}else t.push(a)}),new Fs(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(t,r,n,a,i,s,o){this.key=t,this.documentType=r,this.version=n,this.readTime=a,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Si(t,0,pr.min(),pr.min(),pr.min(),fs.empty(),0)}static newFoundDocument(t,r,n,a){return new Si(t,1,r,pr.min(),n,a,0)}static newNoDocument(t,r){return new Si(t,2,r,pr.min(),pr.min(),fs.empty(),0)}static newUnknownDocument(t,r){return new Si(t,3,r,pr.min(),pr.min(),fs.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(pr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pr.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Si(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,r){this.position=t,this.inclusive=r}}function zO(e,t,r){let n=0;for(let a=0;a<e.position.length;a++){const i=t[a],s=e.position[a];if(i.field.isKeyField()?n=Jt.comparator(Jt.fromName(s.referenceValue),r.key):n=np(s,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function qO(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let r=0;r<e.position.length;r++)if(!Bl(e.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(t,r="asc"){this.field=t,this.dir=r}}function Ote(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{}class va extends I9{constructor(t,r,n){super(),this.field=t,this.op=r,this.value=n}static create(t,r,n){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,n):new Dte(t,r,n):r==="array-contains"?new Mte(t,n):r==="in"?new Rte(t,n):r==="not-in"?new Fte(t,n):r==="array-contains-any"?new $te(t,n):new va(t,r,n)}static createKeyFieldInFilter(t,r,n){return r==="in"?new jte(t,n):new Lte(t,n)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(np(r,this.value)):r!==null&&_f(this.value)===_f(r)&&this.matchesComparison(np(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return or(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends I9{constructor(t,r){super(),this.filters=t,this.op=r,this.Te=null}static create(t,r){return new ll(t,r)}matches(t){return D9(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function D9(e){return e.op==="and"}function j9(e){return Ite(e)&&D9(e)}function Ite(e){for(const t of e.filters)if(t instanceof ll)return!1;return!0}function F4(e){if(e instanceof va)return e.field.canonicalString()+e.op.toString()+ap(e.value);if(j9(e))return e.filters.map(t=>F4(t)).join(",");{const t=e.filters.map(r=>F4(r)).join(",");return`${e.op}(${t})`}}function L9(e,t){return e instanceof va?function(n,a){return a instanceof va&&n.op===a.op&&n.field.isEqual(a.field)&&Bl(n.value,a.value)}(e,t):e instanceof ll?function(n,a){return a instanceof ll&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((i,s,o)=>i&&L9(s,a.filters[o]),!0):!1}(e,t):void or(19439)}function M9(e){return e instanceof va?function(r){return`${r.field.canonicalString()} ${r.op} ${ap(r.value)}`}(e):e instanceof ll?function(r){return r.op.toString()+" {"+r.getFilters().map(M9).join(" ,")+"}"}(e):"Filter"}class Dte extends va{constructor(t,r,n){super(t,r,n),this.key=Jt.fromName(n.referenceValue)}matches(t){const r=Jt.comparator(t.key,this.key);return this.matchesComparison(r)}}class jte extends va{constructor(t,r){super(t,"in",r),this.keys=R9("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class Lte extends va{constructor(t,r){super(t,"not-in",r),this.keys=R9("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function R9(e,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Jt.fromName(n.referenceValue))}class Mte extends va{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return yk(r)&&wv(r.arrayValue,this.value)}}class Rte extends va{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&wv(this.value.arrayValue,r)}}class Fte extends va{constructor(t,r){super(t,"not-in",r)}matches(t){if(wv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&r.nullValue===void 0&&!wv(this.value.arrayValue,r)}}class $te extends va{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!yk(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>wv(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bte{constructor(t,r=null,n=[],a=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=r,this.orderBy=n,this.filters=a,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function WO(e,t=null,r=[],n=[],a=null,i=null,s=null){return new Bte(e,t,r,n,a,i,s)}function xk(e){const t=dr(e);if(t.Ie===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(n=>F4(n)).join(","),r+="|ob:",r+=t.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Gw(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(n=>ap(n)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(n=>ap(n)).join(",")),t.Ie=r}return t.Ie}function bk(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<e.orderBy.length;r++)if(!Ote(e.orderBy[r],t.orderBy[r]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let r=0;r<e.filters.length;r++)if(!L9(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!qO(e.startAt,t.startAt)&&qO(e.endAt,t.endAt)}function $4(e){return Jt.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(t,r=null,n=[],a=[],i=null,s="F",o=null,l=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=a,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=l,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Vte(e,t,r,n,a,i,s,o){return new qp(e,t,r,n,a,i,s,o)}function wk(e){return new qp(e)}function HO(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function F9(e){return e.collectionGroup!==null}function Ag(e){const t=dr(e);if(t.Ee===null){t.Ee=[];const r=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),r.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Pa(ri.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(t).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||t.Ee.push(new _v(i,n))}),r.has(ri.keyField().canonicalString())||t.Ee.push(new _v(ri.keyField(),n))}return t.Ee}function Dl(e){const t=dr(e);return t.de||(t.de=$9(t,Ag(e))),t.de}function Ute(e){const t=dr(e);return t.Ae||(t.Ae=$9(t,e.explicitOrderBy)),t.Ae}function $9(e,t){if(e.limitType==="F")return WO(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(a=>{const i=a.dir==="desc"?"asc":"desc";return new _v(a.field,i)});const r=e.endAt?new Y2(e.endAt.position,e.endAt.inclusive):null,n=e.startAt?new Y2(e.startAt.position,e.startAt.inclusive):null;return WO(e.path,e.collectionGroup,t,e.filters,e.limit,r,n)}}function B4(e,t){const r=e.filters.concat([t]);return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),r,e.limit,e.limitType,e.startAt,e.endAt)}function X2(e,t,r){return new qp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,r,e.startAt,e.endAt)}function Yw(e,t){return bk(Dl(e),Dl(t))&&e.limitType===t.limitType}function B9(e){return`${xk(Dl(e))}|lt:${e.limitType}`}function Jd(e){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(a=>M9(a)).join(", ")}]`),Gw(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(a=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(a)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(a=>ap(a)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(a=>ap(a)).join(",")),`Target(${n})`}(Dl(e))}; limitType=${e.limitType})`}function Xw(e,t){return t.isFoundDocument()&&function(n,a){const i=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Jt.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,a){for(const i of Ag(n))if(!i.field.isKeyField()&&a.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,a){for(const i of n.filters)if(!i.matches(a))return!1;return!0}(e,t)&&function(n,a){return!(n.startAt&&!function(s,o,l){const c=zO(s,o,l);return s.inclusive?c<=0:c<0}(n.startAt,Ag(n),a)||n.endAt&&!function(s,o,l){const c=zO(s,o,l);return s.inclusive?c>=0:c>0}(n.endAt,Ag(n),a))}(e,t)}function zte(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function V9(e){return(t,r)=>{let n=!1;for(const a of Ag(e)){const i=qte(a,t,r);if(i!==0)return i;n=n||a.field.isKeyField()}return 0}}function qte(e,t,r){const n=e.field.isKeyField()?Jt.comparator(t.key,r.key):function(i,s,o){const l=s.data.field(i),c=o.data.field(i);return l!==null&&c!==null?np(l,c):or(42886)}(e.field,t,r);switch(e.dir){case"asc":return n;case"desc":return-1*n;default:return or(19790,{direction:e.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n!==void 0){for(const[a,i]of n)if(this.equalsFn(a,t))return i}}has(t){return this.get(t)!==void 0}set(t,r){const n=this.mapKeyFn(t),a=this.inner[n];if(a===void 0)return this.inner[n]=[[t,r]],void this.innerSize++;for(let i=0;i<a.length;i++)if(this.equalsFn(a[i][0],t))return void(a[i]=[t,r]);a.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),n=this.inner[r];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],t))return n.length===1?delete this.inner[r]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Df(this.inner,(r,n)=>{for(const[a,i]of n)t(a,i)})}isEmpty(){return _9(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wte=new zn(Jt.comparator);function Lc(){return Wte}const U9=new zn(Jt.comparator);function ng(...e){let t=U9;for(const r of e)t=t.insert(r.key,r);return t}function z9(e){let t=U9;return e.forEach((r,n)=>t=t.insert(r,n.overlayedDocument)),t}function Sh(){return Tg()}function q9(){return Tg()}function Tg(){return new od(e=>e.toString(),(e,t)=>e.isEqual(t))}const Hte=new zn(Jt.comparator),Gte=new Pa(Jt.comparator);function Or(...e){let t=Gte;for(const r of e)t=t.add(r);return t}const Kte=new Pa(Tr);function Yte(){return Kte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:H2(t)?"-0":t}}function W9(e){return{integerValue:""+e}}function Xte(e,t){return Ste(t)?W9(t):_k(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(){this._=void 0}}function Qte(e,t,r){return e instanceof Sv?function(a,i){const s={fields:{[T9]:{stringValue:A9},[k9]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return i&&vk(i)&&(i=Kw(i)),i&&(s.fields[E9]=i),{mapValue:s}}(r,t):e instanceof Av?G9(e,t):e instanceof Tv?K9(e,t):function(a,i){const s=H9(a,i),o=GO(s)+GO(a.Re);return R4(s)&&R4(a.Re)?W9(o):_k(a.serializer,o)}(e,t)}function Jte(e,t,r){return e instanceof Av?G9(e,t):e instanceof Tv?K9(e,t):r}function H9(e,t){return e instanceof Q2?function(n){return R4(n)||function(i){return!!i&&"doubleValue"in i}(n)}(t)?t:{integerValue:0}:null}class Sv extends Qw{}class Av extends Qw{constructor(t){super(),this.elements=t}}function G9(e,t){const r=Y9(t);for(const n of e.elements)r.some(a=>Bl(a,n))||r.push(n);return{arrayValue:{values:r}}}class Tv extends Qw{constructor(t){super(),this.elements=t}}function K9(e,t){let r=Y9(t);for(const n of e.elements)r=r.filter(a=>!Bl(a,n));return{arrayValue:{values:r}}}class Q2 extends Qw{constructor(t,r){super(),this.serializer=t,this.Re=r}}function GO(e){return na(e.integerValue||e.doubleValue)}function Y9(e){return yk(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zte{constructor(t,r){this.field=t,this.transform=r}}function ere(e,t){return e.field.isEqual(t.field)&&function(n,a){return n instanceof Av&&a instanceof Av||n instanceof Tv&&a instanceof Tv?rp(n.elements,a.elements,Bl):n instanceof Q2&&a instanceof Q2?Bl(n.Re,a.Re):n instanceof Sv&&a instanceof Sv}(e.transform,t.transform)}class tre{constructor(t,r){this.version=t,this.transformResults=r}}class Ki{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new Ki}static exists(t){return new Ki(void 0,t)}static updateTime(t){return new Ki(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Zx(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Jw{}function X9(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new Zw(e.key,Ki.none()):new I1(e.key,e.data,Ki.none());{const r=e.data,n=fs.empty();let a=new Pa(ri.comparator);for(let i of t.fields)if(!a.has(i)){let s=r.field(i);s===null&&i.length>1&&(i=i.popLast(),s=r.field(i)),s===null?n.delete(i):n.set(i,s),a=a.add(i)}return new jf(e.key,n,new Fs(a.toArray()),Ki.none())}}function rre(e,t,r){e instanceof I1?function(a,i,s){const o=a.value.clone(),l=YO(a.fieldTransforms,i,s.transformResults);o.setAll(l),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,r):e instanceof jf?function(a,i,s){if(!Zx(a.precondition,i))return void i.convertToUnknownDocument(s.version);const o=YO(a.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(Q9(a)),l.setAll(o),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(e,t,r):function(a,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,r)}function Eg(e,t,r,n){return e instanceof I1?function(i,s,o,l){if(!Zx(i.precondition,s))return o;const c=i.value.clone(),u=XO(i.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(e,t,r,n):e instanceof jf?function(i,s,o,l){if(!Zx(i.precondition,s))return o;const c=XO(i.fieldTransforms,l,s),u=s.data;return u.setAll(Q9(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(e,t,r,n):function(i,s,o){return Zx(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,r)}function nre(e,t){let r=null;for(const n of e.fieldTransforms){const a=t.data.field(n.field),i=H9(n.transform,a||null);i!=null&&(r===null&&(r=fs.empty()),r.set(n.field,i))}return r||null}function KO(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&rp(n,a,(i,s)=>ere(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class I1 extends Jw{constructor(t,r,n,a=[]){super(),this.key=t,this.value=r,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class jf extends Jw{constructor(t,r,n,a,i=[]){super(),this.key=t,this.data=r,this.fieldMask=n,this.precondition=a,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Q9(e){const t=new Map;return e.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=e.data.field(r);t.set(r,n)}}),t}function YO(e,t,r){const n=new Map;Qr(e.length===r.length,32656,{Ve:r.length,me:e.length});for(let a=0;a<r.length;a++){const i=e[a],s=i.transform,o=t.data.field(i.field);n.set(i.field,Jte(s,o,r[a]))}return n}function XO(e,t,r){const n=new Map;for(const a of e){const i=a.transform,s=r.data.field(a.field);n.set(a.field,Qte(i,s,t))}return n}class Zw extends Jw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class are extends Jw{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ire{constructor(t,r,n,a){this.batchId=t,this.localWriteTime=r,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(t,r){const n=r.mutationResults;for(let a=0;a<this.mutations.length;a++){const i=this.mutations[a];i.key.isEqual(t.key)&&rre(i,t,n[a])}}applyToLocalView(t,r){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(r=Eg(n,t,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(r=Eg(n,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const n=q9();return this.mutations.forEach(a=>{const i=t.get(a.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=r.has(a.key)?null:o;const l=X9(s,o);l!==null&&n.set(a.key,l),s.isValidDocument()||s.convertToNoDocument(pr.min())}),n}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Or())}isEqual(t){return this.batchId===t.batchId&&rp(this.mutations,t.mutations,(r,n)=>KO(r,n))&&rp(this.baseMutations,t.baseMutations,(r,n)=>KO(r,n))}}class Sk{constructor(t,r,n,a){this.batch=t,this.commitVersion=r,this.mutationResults=n,this.docVersions=a}static from(t,r,n){Qr(t.mutations.length===n.length,58842,{fe:t.mutations.length,ge:n.length});let a=function(){return Hte}();const i=t.mutations;for(let s=0;s<i.length;s++)a=a.insert(i[s].key,n[s].version);return new Sk(t,r,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sre{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ore{constructor(t,r,n){this.alias=t,this.aggregateType=r,this.fieldPath=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lre{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ha,Rr;function cre(e){switch(e){case ot.OK:return or(64938);case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0;default:return or(15467,{code:e})}}function J9(e){if(e===void 0)return jc("GRPC error has no .code"),ot.UNKNOWN;switch(e){case ha.OK:return ot.OK;case ha.CANCELLED:return ot.CANCELLED;case ha.UNKNOWN:return ot.UNKNOWN;case ha.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case ha.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case ha.INTERNAL:return ot.INTERNAL;case ha.UNAVAILABLE:return ot.UNAVAILABLE;case ha.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case ha.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case ha.NOT_FOUND:return ot.NOT_FOUND;case ha.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case ha.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case ha.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case ha.ABORTED:return ot.ABORTED;case ha.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case ha.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case ha.DATA_LOSS:return ot.DATA_LOSS;default:return or(39323,{code:e})}}(Rr=ha||(ha={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ure=new uf([4294967295,4294967295],0);function QO(e){const t=x9().encode(e),r=new f9;return r.update(t),new Uint8Array(r.digest())}function JO(e){const t=new DataView(e.buffer),r=t.getUint32(0,!0),n=t.getUint32(4,!0),a=t.getUint32(8,!0),i=t.getUint32(12,!0);return[new uf([r,n],0),new uf([a,i],0)]}class Ak{constructor(t,r,n){if(this.bitmap=t,this.padding=r,this.hashCount=n,r<0||r>=8)throw new ag(`Invalid padding: ${r}`);if(n<0)throw new ag(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new ag(`Invalid hash count: ${n}`);if(t.length===0&&r!==0)throw new ag(`Invalid padding when bitmap length is 0: ${r}`);this.pe=8*t.length-r,this.ye=uf.fromNumber(this.pe)}we(t,r,n){let a=t.add(r.multiply(uf.fromNumber(n)));return a.compare(ure)===1&&(a=new uf([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const r=QO(t),[n,a]=JO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);if(!this.be(s))return!1}return!0}static create(t,r,n){const a=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new Ak(i,a,r);return n.forEach(o=>s.insert(o)),s}insert(t){if(this.pe===0)return;const r=QO(t),[n,a]=JO(r);for(let i=0;i<this.hashCount;i++){const s=this.we(n,a,i);this.Se(s)}}Se(t){const r=Math.floor(t/8),n=t%8;this.bitmap[r]|=1<<n}}class ag extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(t,r,n,a,i){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,r,n){const a=new Map;return a.set(t,D1.createSynthesizedTargetChangeForCurrentChange(t,r,n)),new e5(pr.min(),a,new zn(Tr),Lc(),Or())}}class D1{constructor(t,r,n,a,i){this.resumeToken=t,this.current=r,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,r,n){return new D1(n,r,Or(),Or(),Or())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,r,n,a){this.De=t,this.removedTargetIds=r,this.key=n,this.ve=a}}class Z9{constructor(t,r){this.targetId=t,this.Ce=r}}class eB{constructor(t,r,n=li.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=r,this.resumeToken=n,this.cause=a}}class ZO{constructor(){this.Fe=0,this.Me=eI(),this.xe=li.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=Or(),r=Or(),n=Or();return this.Me.forEach((a,i)=>{switch(i){case 0:t=t.add(a);break;case 2:r=r.add(a);break;case 1:n=n.add(a);break;default:or(38017,{changeType:i})}}),new D1(this.xe,this.Oe,t,r,n)}Qe(){this.Ne=!1,this.Me=eI()}$e(t,r){this.Ne=!0,this.Me=this.Me.insert(t,r)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,Qr(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fre{constructor(t){this.ze=t,this.je=new Map,this.He=Lc(),this.Je=ex(),this.Ye=ex(),this.Ze=new zn(Tr)}Xe(t){for(const r of t.De)t.ve&&t.ve.isFoundDocument()?this.et(r,t.ve):this.tt(r,t.key,t.ve);for(const r of t.removedTargetIds)this.tt(r,t.key,t.ve)}nt(t){this.forEachTarget(t,r=>{const n=this.rt(r);switch(t.state){case 0:this.it(r)&&n.ke(t.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(t.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(r);break;case 3:this.it(r)&&(n.Ge(),n.ke(t.resumeToken));break;case 4:this.it(r)&&(this.st(r),n.ke(t.resumeToken));break;default:or(56790,{state:t.state})}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.je.forEach((n,a)=>{this.it(a)&&r(a)})}ot(t){const r=t.targetId,n=t.Ce.count,a=this._t(r);if(a){const i=a.target;if($4(i))if(n===0){const s=new Jt(i.path);this.tt(r,s,Si.newNoDocument(s,pr.min()))}else Qr(n===1,20013,{expectedCount:n});else{const s=this.ut(r);if(s!==n){const o=this.ct(t),l=o?this.lt(o,t,s):1;if(l!==0){this.st(r);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,c)}}}}}ct(t){const r=t.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:i=0}=r;let s,o;try{s=wf(n).toUint8Array()}catch(l){if(l instanceof S9)return tp("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Ak(s,a,i)}catch(l){return tp(l instanceof ag?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.pe===0?null:o}lt(t,r,n){return r.Ce.count===n-this.Tt(t,r.targetId)?0:2}Tt(t,r){const n=this.ze.getRemoteKeysForTarget(r);let a=0;return n.forEach(i=>{const s=this.ze.Pt(),o=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;t.mightContain(o)||(this.tt(r,i,null),a++)}),a}It(t){const r=new Map;this.je.forEach((i,s)=>{const o=this._t(s);if(o){if(i.current&&$4(o.target)){const l=new Jt(o.target.path);this.Et(l).has(s)||this.dt(s,l)||this.tt(s,l,Si.newNoDocument(l,t))}i.Le&&(r.set(s,i.qe()),i.Qe())}});let n=Or();this.Ye.forEach((i,s)=>{let o=!0;s.forEachWhile(l=>{const c=this._t(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(i))}),this.He.forEach((i,s)=>s.setReadTime(t));const a=new e5(t,r,this.Ze,this.He,n);return this.He=Lc(),this.Je=ex(),this.Ye=ex(),this.Ze=new zn(Tr),a}et(t,r){if(!this.it(t))return;const n=this.dt(t,r.key)?2:0;this.rt(t).$e(r.key,n),this.He=this.He.insert(r.key,r),this.Je=this.Je.insert(r.key,this.Et(r.key).add(t)),this.Ye=this.Ye.insert(r.key,this.At(r.key).add(t))}tt(t,r,n){if(!this.it(t))return;const a=this.rt(t);this.dt(t,r)?a.$e(r,1):a.Ue(r),this.Ye=this.Ye.insert(r,this.At(r).delete(t)),this.Ye=this.Ye.insert(r,this.At(r).add(t)),n&&(this.He=this.He.insert(r,n))}removeTarget(t){this.je.delete(t)}ut(t){const r=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let r=this.je.get(t);return r||(r=new ZO,this.je.set(t,r)),r}At(t){let r=this.Ye.get(t);return r||(r=new Pa(Tr),this.Ye=this.Ye.insert(t,r)),r}Et(t){let r=this.Je.get(t);return r||(r=new Pa(Tr),this.Je=this.Je.insert(t,r)),r}it(t){const r=this._t(t)!==null;return r||qt("WatchChangeAggregator","Detected inactive target",t),r}_t(t){const r=this.je.get(t);return r&&r.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new ZO),this.ze.getRemoteKeysForTarget(t).forEach(r=>{this.tt(t,r,null)})}dt(t,r){return this.ze.getRemoteKeysForTarget(t).has(r)}}function ex(){return new zn(Jt.comparator)}function eI(){return new zn(Jt.comparator)}const hre={asc:"ASCENDING",desc:"DESCENDING"},dre={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pre={and:"AND",or:"OR"};class mre{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function V4(e,t){return e.useProto3Json||Gw(t)?t:{value:t}}function J2(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function tB(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function gre(e,t){return J2(e,t.toTimestamp())}function jl(e){return Qr(!!e,49232),pr.fromTimestamp(function(r){const n=bf(r);return new Zt(n.seconds,n.nanos)}(e))}function Tk(e,t){return U4(e,t).canonicalString()}function U4(e,t){const r=function(a){return new Pn(["projects",a.projectId,"databases",a.database])}(e).child("documents");return t===void 0?r:r.child(t)}function rB(e){const t=Pn.fromString(e);return Qr(lB(t),10190,{key:t.toString()}),t}function z4(e,t){return Tk(e.databaseId,t.path)}function sS(e,t){const r=rB(t);if(r.get(1)!==e.databaseId.projectId)throw new Ut(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+e.databaseId.projectId);if(r.get(3)!==e.databaseId.database)throw new Ut(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+e.databaseId.database);return new Jt(aB(r))}function nB(e,t){return Tk(e.databaseId,t)}function vre(e){const t=rB(e);return t.length===4?Pn.emptyPath():aB(t)}function q4(e){return new Pn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function aB(e){return Qr(e.length>4&&e.get(4)==="documents",29091,{key:e.toString()}),e.popFirst(5)}function tI(e,t,r){return{name:z4(e,t),fields:r.value.mapValue.fields}}function yre(e,t){let r;if("targetChange"in t){t.targetChange;const n=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:or(39313,{state:c})}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Qr(u===void 0||typeof u=="string",58123),li.fromBase64String(u||"")):(Qr(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),li.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(c){const u=c.code===void 0?ot.UNKNOWN:J9(c.code);return new Ut(u,c.message||"")}(s);r=new eB(n,a,i,o||null)}else if("documentChange"in t){t.documentChange;const n=t.documentChange;n.document,n.document.name,n.document.updateTime;const a=sS(e,n.document.name),i=jl(n.document.updateTime),s=n.document.createTime?jl(n.document.createTime):pr.min(),o=new fs({mapValue:{fields:n.document.fields}}),l=Si.newFoundDocument(a,i,s,o),c=n.targetIds||[],u=n.removedTargetIds||[];r=new e2(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const n=t.documentDelete;n.document;const a=sS(e,n.document),i=n.readTime?jl(n.readTime):pr.min(),s=Si.newNoDocument(a,i),o=n.removedTargetIds||[];r=new e2([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const n=t.documentRemove;n.document;const a=sS(e,n.document),i=n.removedTargetIds||[];r=new e2([],i,a,null)}else{if(!("filter"in t))return or(11601,{Vt:t});{t.filter;const n=t.filter;n.targetId;const{count:a=0,unchangedNames:i}=n,s=new lre(a,i),o=n.targetId;r=new Z9(o,s)}}return r}function xre(e,t){let r;if(t instanceof I1)r={update:tI(e,t.key,t.value)};else if(t instanceof Zw)r={delete:z4(e,t.key)};else if(t instanceof jf)r={update:tI(e,t.key,t.data),updateMask:Nre(t.fieldMask)};else{if(!(t instanceof are))return or(16599,{ft:t.type});r={verify:z4(e,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(n=>function(i,s){const o=s.transform;if(o instanceof Sv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Av)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Tv)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Q2)return{fieldPath:s.field.canonicalString(),increment:o.Re};throw or(20930,{transform:s.transform})}(0,n))),t.precondition.isNone||(r.currentDocument=function(a,i){return i.updateTime!==void 0?{updateTime:gre(a,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:or(27497)}(e,t.precondition)),r}function bre(e,t){return e&&e.length>0?(Qr(t!==void 0,14353),e.map(r=>function(a,i){let s=a.updateTime?jl(a.updateTime):jl(i);return s.isEqual(pr.min())&&(s=jl(i)),new tre(s,a.transformResults||[])}(r,t))):[]}function wre(e,t){return{documents:[nB(e,t.path)]}}function iB(e,t){const r={structuredQuery:{}},n=t.path;let a;t.collectionGroup!==null?(a=n,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=nB(e,a);const i=function(c){if(c.length!==0)return oB(ll.create(c,"and"))}(t.filters);i&&(r.structuredQuery.where=i);const s=function(c){if(c.length!==0)return c.map(u=>function(h){return{field:$u(h.field),direction:Tre(h.dir)}}(u))}(t.orderBy);s&&(r.structuredQuery.orderBy=s);const o=V4(e,t.limit);return o!==null&&(r.structuredQuery.limit=o),t.startAt&&(r.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(t.endAt)),{gt:r,parent:a}}function _re(e,t,r,n){const{gt:a,parent:i}=iB(e,t),s={},o=[];let l=0;return r.forEach(c=>{const u="aggregate_"+l++;s[u]=c.alias,c.aggregateType==="count"?o.push({alias:u,count:{}}):c.aggregateType==="avg"?o.push({alias:u,avg:{field:$u(c.fieldPath)}}):c.aggregateType==="sum"&&o.push({alias:u,sum:{field:$u(c.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:o,structuredQuery:a.structuredQuery},parent:a.parent},yt:s,parent:i}}function Sre(e){let t=vre(e.parent);const r=e.structuredQuery,n=r.from?r.from.length:0;let a=null;if(n>0){Qr(n===1,65062);const u=r.from[0];u.allDescendants?a=u.collectionId:t=t.child(u.collectionId)}let i=[];r.where&&(i=function(f){const h=sB(f);return h instanceof ll&&j9(h)?h.getFilters():[h]}(r.where));let s=[];r.orderBy&&(s=function(f){return f.map(h=>function(g){return new _v(Zd(g.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(r.orderBy));let o=null;r.limit&&(o=function(f){let h;return h=typeof f=="object"?f.value:f,Gw(h)?null:h}(r.limit));let l=null;r.startAt&&(l=function(f){const h=!!f.before,d=f.values||[];return new Y2(d,h)}(r.startAt));let c=null;return r.endAt&&(c=function(f){const h=!f.before,d=f.values||[];return new Y2(d,h)}(r.endAt)),Vte(t,a,s,i,o,"F",l,c)}function Are(e,t){const r=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return or(28987,{purpose:a})}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function sB(e){return e.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Zd(r.unaryFilter.field);return va.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Zd(r.unaryFilter.field);return va.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zd(r.unaryFilter.field);return va.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Zd(r.unaryFilter.field);return va.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return or(61313);default:return or(60726)}}(e):e.fieldFilter!==void 0?function(r){return va.create(Zd(r.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return or(58110);default:return or(50506)}}(r.fieldFilter.op),r.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(r){return ll.create(r.compositeFilter.filters.map(n=>sB(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return or(1026)}}(r.compositeFilter.op))}(e):or(30097,{filter:e})}function Tre(e){return hre[e]}function Ere(e){return dre[e]}function kre(e){return pre[e]}function $u(e){return{fieldPath:e.canonicalString()}}function Zd(e){return ri.fromServerFormat(e.fieldPath)}function oB(e){return e instanceof va?function(r){if(r.op==="=="){if(UO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NAN"}};if(VO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(UO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NAN"}};if(VO(r.value))return{unaryFilter:{field:$u(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$u(r.field),op:Ere(r.op),value:r.value}}}(e):e instanceof ll?function(r){const n=r.getFilters().map(a=>oB(a));return n.length===1?n[0]:{compositeFilter:{op:kre(r.op),filters:n}}}(e):or(54877,{filter:e})}function Nre(e){const t=[];return e.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function lB(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(t,r,n,a,i=pr.min(),s=pr.min(),o=li.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=r,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(t){return new Hu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cre{constructor(t){this.wt=t}}function Pre(e){const t=Sre({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?X2(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ore{constructor(){this.yn=new Ire}addToCollectionParentIndex(t,r){return this.yn.add(r),ut.resolve()}getCollectionParents(t,r){return ut.resolve(this.yn.getEntries(r))}addFieldIndex(t,r){return ut.resolve()}deleteFieldIndex(t,r){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,r){return ut.resolve()}getDocumentsMatchingTarget(t,r){return ut.resolve(null)}getIndexType(t,r){return ut.resolve(0)}getFieldIndexes(t,r){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,r){return ut.resolve(xf.min())}getMinOffsetFromCollectionGroup(t,r){return ut.resolve(xf.min())}updateCollectionGroup(t,r,n){return ut.resolve()}updateIndexEntries(t,r){return ut.resolve()}}class Ire{constructor(){this.index={}}add(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r]||new Pa(Pn.comparator),i=!a.has(n);return this.index[r]=a.add(n),i}has(t){const r=t.lastSegment(),n=t.popLast(),a=this.index[r];return a&&a.has(n)}getEntries(t){return(this.index[t]||new Pa(Pn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cB=41943040;class ls{static withCacheSize(t){return new ls(t,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,r,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls.DEFAULT_COLLECTION_PERCENTILE=10,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ls.DEFAULT=new ls(cB,ls.DEFAULT_COLLECTION_PERCENTILE,ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ls.DISABLED=new ls(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(t){this.nr=t}next(){return this.nr+=2,this.nr}static rr(){return new ip(0)}static ir(){return new ip(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="LruGarbageCollector",Dre=1048576;function aI([e,t],[r,n]){const a=Tr(e,r);return a===0?Tr(t,n):a}class jre{constructor(t){this.cr=t,this.buffer=new Pa(aI),this.lr=0}hr(){return++this.lr}Pr(t){const r=[t,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();aI(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Lre{constructor(t,r,n){this.garbageCollector=t,this.asyncQueue=r,this.localStore=n,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(t){qt(nI,`Garbage collection scheduled in ${t}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){zp(r)?qt(nI,"Ignoring IndexedDB error during garbage collection: ",r):await Up(r)}await this.Ir(3e5)})}}class Mre{constructor(t,r){this.Er=t,this.params=r}calculateTargetCount(t,r){return this.Er.dr(t).next(n=>Math.floor(r/100*n))}nthSequenceNumber(t,r){if(r===0)return ut.resolve(Hw.le);const n=new jre(r);return this.Er.forEachTarget(t,a=>n.Pr(a.sequenceNumber)).next(()=>this.Er.Ar(t,a=>n.Pr(a))).next(()=>n.maxValue)}removeTargets(t,r,n){return this.Er.removeTargets(t,r,n)}removeOrphanedDocuments(t,r){return this.Er.removeOrphanedDocuments(t,r)}collect(t,r){return this.params.cacheSizeCollectionThreshold===-1?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(rI)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rI):this.Rr(t,r))}getCacheSize(t){return this.Er.getCacheSize(t)}Rr(t,r){let n,a,i,s,o,l,c;const u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),a=this.params.maximumSequenceNumbersToCollect):a=f,s=Date.now(),this.nthSequenceNumber(t,a))).next(f=>(n=f,o=Date.now(),this.removeTargets(t,n,r))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(t,n))).next(f=>(c=Date.now(),Qd()<=Fr.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-u}ms
	Determined least recently used ${a} in `+(o-s)+`ms
	Removed ${i} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:i,documentsRemoved:f})))}}function Rre(e,t){return new Mre(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(){this.changes=new od(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Si.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ut.resolve(n):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(t,r,n,a){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=a}getDocument(t,r){let n=null;return this.documentOverlayCache.getOverlay(t,r).next(a=>(n=a,this.remoteDocumentCache.getEntry(t,r))).next(a=>(n!==null&&Eg(n.mutation,a,Fs.empty(),Zt.now()),a))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.getLocalViewOfDocuments(t,n,Or()).next(()=>n))}getLocalViewOfDocuments(t,r,n=Or()){const a=Sh();return this.populateOverlays(t,a,r).next(()=>this.computeViews(t,r,a,n).next(i=>{let s=ng();return i.forEach((o,l)=>{s=s.insert(o,l.overlayedDocument)}),s}))}getOverlayedDocuments(t,r){const n=Sh();return this.populateOverlays(t,n,r).next(()=>this.computeViews(t,r,n,Or()))}populateOverlays(t,r,n){const a=[];return n.forEach(i=>{r.has(i)||a.push(i)}),this.documentOverlayCache.getOverlays(t,a).next(i=>{i.forEach((s,o)=>{r.set(s,o)})})}computeViews(t,r,n,a){let i=Lc();const s=Tg(),o=function(){return Tg()}();return r.forEach((l,c)=>{const u=n.get(c.key);a.has(c.key)&&(u===void 0||u.mutation instanceof jf)?i=i.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Eg(u.mutation,c,u.mutation.getFieldMask(),Zt.now())):s.set(c.key,Fs.empty())}),this.recalculateAndSaveOverlays(t,i).next(l=>(l.forEach((c,u)=>s.set(c,u)),r.forEach((c,u)=>{var f;return o.set(c,new $re(u,(f=s.get(c))!==null&&f!==void 0?f:null))}),o))}recalculateAndSaveOverlays(t,r){const n=Tg();let a=new zn((s,o)=>s-o),i=Or();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(s=>{for(const o of s)o.keys().forEach(l=>{const c=r.get(l);if(c===null)return;let u=n.get(l)||Fs.empty();u=o.applyToLocalView(c,u),n.set(l,u);const f=(a.get(o.batchId)||Or()).add(l);a=a.insert(o.batchId,f)})}).next(()=>{const s=[],o=a.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,f=q9();u.forEach(h=>{if(!i.has(h)){const d=X9(r.get(h),n.get(h));d!==null&&f.set(h,d),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(t,c,f))}return ut.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,r,n,a){return function(s){return Jt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):F9(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,n,a):this.getDocumentsMatchingCollectionQuery(t,r,n,a)}getNextDocuments(t,r,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,n,a).next(i=>{const s=a-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,n.largestBatchId,a-i.size):ut.resolve(Sh());let o=yv,l=i;return s.next(c=>ut.forEach(c,(u,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),i.get(u)?ut.resolve():this.remoteDocumentCache.getEntry(t,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(t,c,i)).next(()=>this.computeViews(t,l,c,Or())).next(u=>({batchId:o,changes:z9(u)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new Jt(r)).next(n=>{let a=ng();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(t,r,n,a){const i=r.collectionGroup;let s=ng();return this.indexManager.getCollectionParents(t,i).next(o=>ut.forEach(o,l=>{const c=function(f,h){return new qp(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(t,c,n,a).next(u=>{u.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,r,n,a){let i;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,n,i,a))).next(s=>{i.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Si.newInvalidDocument(u)))});let o=ng();return s.forEach((l,c)=>{const u=i.get(l);u!==void 0&&Eg(u.mutation,c,Fs.empty(),Zt.now()),Xw(r,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vre{constructor(t){this.serializer=t,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(t,r){return ut.resolve(this.Fr.get(r))}saveBundleMetadata(t,r){return this.Fr.set(r.id,function(a){return{id:a.id,version:a.version,createTime:jl(a.createTime)}}(r)),ut.resolve()}getNamedQuery(t,r){return ut.resolve(this.Mr.get(r))}saveNamedQuery(t,r){return this.Mr.set(r.name,function(a){return{name:a.name,query:Pre(a.bundledQuery),readTime:jl(a.readTime)}}(r)),ut.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ure{constructor(){this.overlays=new zn(Jt.comparator),this.Or=new Map}getOverlay(t,r){return ut.resolve(this.overlays.get(r))}getOverlays(t,r){const n=Sh();return ut.forEach(r,a=>this.getOverlay(t,a).next(i=>{i!==null&&n.set(a,i)})).next(()=>n)}saveOverlays(t,r,n){return n.forEach((a,i)=>{this.St(t,r,i)}),ut.resolve()}removeOverlaysForBatchId(t,r,n){const a=this.Or.get(n);return a!==void 0&&(a.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(n)),ut.resolve()}getOverlaysForCollection(t,r,n){const a=Sh(),i=r.length+1,s=new Jt(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!r.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>n&&a.set(l.getKey(),l)}return ut.resolve(a)}getOverlaysForCollectionGroup(t,r,n,a){let i=new zn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===r&&c.largestBatchId>n){let u=i.get(c.largestBatchId);u===null&&(u=Sh(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=Sh(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=a)););return ut.resolve(o)}St(t,r,n){const a=this.overlays.get(n.key);if(a!==null){const s=this.Or.get(a.largestBatchId).delete(n.key);this.Or.set(a.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new sre(r,n));let i=this.Or.get(r);i===void 0&&(i=Or(),this.Or.set(r,i)),this.Or.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(){this.sessionToken=li.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,r){return this.sessionToken=r,ut.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(){this.Nr=new Pa(La.Br),this.Lr=new Pa(La.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(t,r){const n=new La(t,r);this.Nr=this.Nr.add(n),this.Lr=this.Lr.add(n)}qr(t,r){t.forEach(n=>this.addReference(n,r))}removeReference(t,r){this.Qr(new La(t,r))}$r(t,r){t.forEach(n=>this.removeReference(n,r))}Ur(t){const r=new Jt(new Pn([])),n=new La(r,t),a=new La(r,t+1),i=[];return this.Lr.forEachInRange([n,a],s=>{this.Qr(s),i.push(s.key)}),i}Kr(){this.Nr.forEach(t=>this.Qr(t))}Qr(t){this.Nr=this.Nr.delete(t),this.Lr=this.Lr.delete(t)}Wr(t){const r=new Jt(new Pn([])),n=new La(r,t),a=new La(r,t+1);let i=Or();return this.Lr.forEachInRange([n,a],s=>{i=i.add(s.key)}),i}containsKey(t){const r=new La(t,0),n=this.Nr.firstAfterOrEqual(r);return n!==null&&t.isEqual(n.key)}}class La{constructor(t,r){this.key=t,this.Gr=r}static Br(t,r){return Jt.comparator(t.key,r.key)||Tr(t.Gr,r.Gr)}static kr(t,r){return Tr(t.Gr,r.Gr)||Jt.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qre{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.Jn=1,this.zr=new Pa(La.Br)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,n,a){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ire(i,r,n,a);this.mutationQueue.push(s);for(const o of a)this.zr=this.zr.add(new La(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return ut.resolve(s)}lookupMutationBatch(t,r){return ut.resolve(this.jr(r))}getNextMutationBatchAfterBatchId(t,r){const n=r+1,a=this.Hr(n),i=a<0?0:a;return ut.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?gk:this.Jn-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const n=new La(r,0),a=new La(r,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([n,a],s=>{const o=this.jr(s.Gr);i.push(o)}),ut.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,r){let n=new Pa(Tr);return r.forEach(a=>{const i=new La(a,0),s=new La(a,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,s],o=>{n=n.add(o.Gr)})}),ut.resolve(this.Jr(n))}getAllMutationBatchesAffectingQuery(t,r){const n=r.path,a=n.length+1;let i=n;Jt.isDocumentKey(i)||(i=i.child(""));const s=new La(new Jt(i),0);let o=new Pa(Tr);return this.zr.forEachWhile(l=>{const c=l.key.path;return!!n.isPrefixOf(c)&&(c.length===a&&(o=o.add(l.Gr)),!0)},s),ut.resolve(this.Jr(o))}Jr(t){const r=[];return t.forEach(n=>{const a=this.jr(n);a!==null&&r.push(a)}),r}removeMutationBatch(t,r){Qr(this.Yr(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.zr;return ut.forEach(r.mutations,a=>{const i=new La(a.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)}).next(()=>{this.zr=n})}Xn(t){}containsKey(t,r){const n=new La(r,0),a=this.zr.firstAfterOrEqual(n);return ut.resolve(r.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}Yr(t,r){return this.Hr(t)}Hr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}jr(t){const r=this.Hr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wre{constructor(t){this.Zr=t,this.docs=function(){return new zn(Jt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const n=r.key,a=this.docs.get(n),i=a?a.size:0,s=this.Zr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const n=this.docs.get(r);return ut.resolve(n?n.document.mutableCopy():Si.newInvalidDocument(r))}getEntries(t,r){let n=Lc();return r.forEach(a=>{const i=this.docs.get(a);n=n.insert(a,i?i.document.mutableCopy():Si.newInvalidDocument(a))}),ut.resolve(n)}getDocumentsMatchingQuery(t,r,n,a){let i=Lc();const s=r.path,o=new Jt(s.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||xte(yte(u),n)<=0||(a.has(u.key)||Xw(r,u))&&(i=i.insert(u.key,u.mutableCopy()))}return ut.resolve(i)}getAllFromCollectionGroup(t,r,n,a){or(9500)}Xr(t,r){return ut.forEach(this.docs,n=>r(n))}newChangeBuffer(t){return new Hre(this)}getSize(t){return ut.resolve(this.size)}}class Hre extends Fre{constructor(t){super(),this.vr=t}applyChanges(t){const r=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?r.push(this.vr.addEntry(t,a)):this.vr.removeEntry(n)}),ut.waitFor(r)}getFromCache(t,r){return this.vr.getEntry(t,r)}getAllFromCache(t,r){return this.vr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gre{constructor(t){this.persistence=t,this.ei=new od(r=>xk(r),bk),this.lastRemoteSnapshotVersion=pr.min(),this.highestTargetId=0,this.ti=0,this.ni=new Ek,this.targetCount=0,this.ri=ip.rr()}forEachTarget(t,r){return this.ei.forEach((n,a)=>r(a)),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.ti)}allocateTargetId(t){return this.highestTargetId=this.ri.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ti&&(this.ti=r),ut.resolve()}ar(t){this.ei.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.ri=new ip(r),this.highestTargetId=r),t.sequenceNumber>this.ti&&(this.ti=t.sequenceNumber)}addTargetData(t,r){return this.ar(r),this.targetCount+=1,ut.resolve()}updateTargetData(t,r){return this.ar(r),ut.resolve()}removeTargetData(t,r){return this.ei.delete(r.target),this.ni.Ur(r.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,r,n){let a=0;const i=[];return this.ei.forEach((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ei.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),a++)}),ut.waitFor(i).next(()=>a)}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,r){const n=this.ei.get(r)||null;return ut.resolve(n)}addMatchingKeys(t,r,n){return this.ni.qr(r,n),ut.resolve()}removeMatchingKeys(t,r,n){this.ni.$r(r,n);const a=this.persistence.referenceDelegate,i=[];return a&&r.forEach(s=>{i.push(a.markPotentiallyOrphaned(t,s))}),ut.waitFor(i)}removeMatchingKeysForTargetId(t,r){return this.ni.Ur(r),ut.resolve()}getMatchingKeysForTargetId(t,r){const n=this.ni.Wr(r);return ut.resolve(n)}containsKey(t,r){return ut.resolve(this.ni.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(t,r){this.ii={},this.overlays={},this.si=new Hw(0),this.oi=!1,this.oi=!0,this._i=new zre,this.referenceDelegate=t(this),this.ai=new Gre(this),this.indexManager=new Ore,this.remoteDocumentCache=function(a){return new Wre(a)}(n=>this.referenceDelegate.ui(n)),this.serializer=new Cre(r),this.ci=new Vre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new Ure,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let n=this.ii[t.toKey()];return n||(n=new qre(r,this.referenceDelegate),this.ii[t.toKey()]=n),n}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(t,r,n){qt("MemoryPersistence","Starting transaction:",t);const a=new Kre(this.si.next());return this.referenceDelegate.li(),n(a).next(i=>this.referenceDelegate.hi(a).next(()=>i)).toPromise().then(i=>(a.raiseOnCommittedEvent(),i))}Pi(t,r){return ut.or(Object.values(this.ii).map(n=>()=>n.containsKey(t,r)))}}class Kre extends wte{constructor(t){super(),this.currentSequenceNumber=t}}class kk{constructor(t){this.persistence=t,this.Ti=new Ek,this.Ii=null}static Ei(t){return new kk(t)}get di(){if(this.Ii)return this.Ii;throw or(60996)}addReference(t,r,n){return this.Ti.addReference(n,r),this.di.delete(n.toString()),ut.resolve()}removeReference(t,r,n){return this.Ti.removeReference(n,r),this.di.add(n.toString()),ut.resolve()}markPotentiallyOrphaned(t,r){return this.di.add(r.toString()),ut.resolve()}removeTarget(t,r){this.Ti.Ur(r.targetId).forEach(a=>this.di.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,r.targetId).next(a=>{a.forEach(i=>this.di.add(i.toString()))}).next(()=>n.removeTargetData(t,r))}li(){this.Ii=new Set}hi(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.di,n=>{const a=Jt.fromPath(n);return this.Ai(t,a).next(i=>{i||r.removeEntry(a,pr.min())})}).next(()=>(this.Ii=null,r.apply(t)))}updateLimboDocument(t,r){return this.Ai(t,r).next(n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())})}ui(t){return 0}Ai(t,r){return ut.or([()=>ut.resolve(this.Ti.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Pi(t,r)])}}class Z2{constructor(t,r){this.persistence=t,this.Ri=new od(n=>Ate(n.path),(n,a)=>n.isEqual(a)),this.garbageCollector=Rre(this,r)}static Ei(t,r){return new Z2(t,r)}li(){}hi(t){return ut.resolve()}forEachTarget(t,r){return this.persistence.getTargetCache().forEachTarget(t,r)}dr(t){const r=this.Vr(t);return this.persistence.getTargetCache().getTargetCount(t).next(n=>r.next(a=>n+a))}Vr(t){let r=0;return this.Ar(t,n=>{r++}).next(()=>r)}Ar(t,r){return ut.forEach(this.Ri,(n,a)=>this.gr(t,n,a).next(i=>i?ut.resolve():r(a)))}removeTargets(t,r,n){return this.persistence.getTargetCache().removeTargets(t,r,n)}removeOrphanedDocuments(t,r){let n=0;const a=this.persistence.getRemoteDocumentCache(),i=a.newChangeBuffer();return a.Xr(t,s=>this.gr(t,s,r).next(o=>{o||(n++,i.removeEntry(s,pr.min()))})).next(()=>i.apply(t)).next(()=>n)}markPotentiallyOrphaned(t,r){return this.Ri.set(r,t.currentSequenceNumber),ut.resolve()}removeTarget(t,r){const n=r.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,n)}addReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ut.resolve()}removeReference(t,r,n){return this.Ri.set(n,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,r){return this.Ri.set(r,t.currentSequenceNumber),ut.resolve()}ui(t){let r=t.key.toString().length;return t.isFoundDocument()&&(r+=Qx(t.data.value)),r}gr(t,r,n){return ut.or([()=>this.persistence.Pi(t,r),()=>this.persistence.getTargetCache().containsKey(t,r),()=>{const a=this.Ri.get(r);return ut.resolve(a!==void 0&&a>n)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(t,r,n,a){this.targetId=t,this.fromCache=r,this.ls=n,this.hs=a}static Ps(t,r){let n=Or(),a=Or();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:a=a.add(i.doc.key)}return new Nk(t,r.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xre{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return UZ()?8:_te(BZ())>0?6:4}()}initialize(t,r){this.As=t,this.indexManager=r,this.Ts=!0}getDocumentsMatchingQuery(t,r,n,a){const i={result:null};return this.Rs(t,r).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Vs(t,r,a,n).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new Yre;return this.fs(t,r,s).next(o=>{if(i.result=o,this.Is)return this.gs(t,r,s,o.size)})}).next(()=>i.result)}gs(t,r,n,a){return n.documentReadCount<this.Es?(Qd()<=Fr.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",Jd(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),ut.resolve()):(Qd()<=Fr.DEBUG&&qt("QueryEngine","Query:",Jd(r),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.ds*a?(Qd()<=Fr.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",Jd(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Dl(r))):ut.resolve())}Rs(t,r){if(HO(r))return ut.resolve(null);let n=Dl(r);return this.indexManager.getIndexType(t,n).next(a=>a===0?null:(r.limit!==null&&a===1&&(r=X2(r,null,"F"),n=Dl(r)),this.indexManager.getDocumentsMatchingTarget(t,n).next(i=>{const s=Or(...i);return this.As.getDocuments(t,s).next(o=>this.indexManager.getMinOffset(t,n).next(l=>{const c=this.ps(r,o);return this.ys(r,c,s,l.readTime)?this.Rs(t,X2(r,null,"F")):this.ws(t,c,r,l)}))})))}Vs(t,r,n,a){return HO(r)||a.isEqual(pr.min())?ut.resolve(null):this.As.getDocuments(t,n).next(i=>{const s=this.ps(r,i);return this.ys(r,s,n,a)?ut.resolve(null):(Qd()<=Fr.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Jd(r)),this.ws(t,s,r,vte(a,yv)).next(o=>o))})}ps(t,r){let n=new Pa(V9(t));return r.forEach((a,i)=>{Xw(t,i)&&(n=n.add(i))}),n}ys(t,r,n,a){if(t.limit===null)return!1;if(n.size!==r.size)return!0;const i=t.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(a)>0)}fs(t,r,n){return Qd()<=Fr.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",Jd(r)),this.As.getDocumentsMatchingQuery(t,r,xf.min(),n)}ws(t,r,n,a){return this.As.getDocumentsMatchingQuery(t,n,a).next(i=>(r.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck="LocalStore",Qre=3e8;class Jre{constructor(t,r,n,a){this.persistence=t,this.bs=r,this.serializer=a,this.Ss=new zn(Tr),this.Ds=new od(i=>xk(i),bk),this.vs=new Map,this.Cs=t.getRemoteDocumentCache(),this.ai=t.getTargetCache(),this.ci=t.getBundleCache(),this.Fs(n)}Fs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Bre(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ss))}}function Zre(e,t,r,n){return new Jre(e,t,r,n)}async function fB(e,t){const r=dr(e);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let a;return r.mutationQueue.getAllMutationBatches(n).next(i=>(a=i,r.Fs(t),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const s=[],o=[];let l=Or();for(const c of a){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return r.localDocuments.getDocuments(n,l).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:o}))})})}function ene(e,t){const r=dr(e);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=t.batch.keys(),i=r.Cs.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const f=c.batch,h=f.keys();let d=ut.resolve();return h.forEach(g=>{d=d.next(()=>u.getEntry(l,g)).next(m=>{const v=c.docVersions.get(g);Qr(v!==null,48541),m.version.compareTo(v)<0&&(f.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,f))}(r,n,t,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,a,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Or();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(t))).next(()=>r.localDocuments.getDocuments(n,a))})}function hB(e){const t=dr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.ai.getLastRemoteSnapshotVersion(r))}function tne(e,t){const r=dr(e),n=t.snapshotVersion;let a=r.Ss;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=r.Cs.newChangeBuffer({trackRemovals:!0});a=r.Ss;const o=[];t.targetChanges.forEach((u,f)=>{const h=a.get(f);if(!h)return;o.push(r.ai.removeMatchingKeys(i,u.removedDocuments,f).next(()=>r.ai.addMatchingKeys(i,u.addedDocuments,f)));let d=h.withSequenceNumber(i.currentSequenceNumber);t.targetMismatches.get(f)!==null?d=d.withResumeToken(li.EMPTY_BYTE_STRING,pr.min()).withLastLimboFreeSnapshotVersion(pr.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,n)),a=a.insert(f,d),function(m,v,y){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=Qre?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,d,u)&&o.push(r.ai.updateTargetData(i,d))});let l=Lc(),c=Or();if(t.documentUpdates.forEach(u=>{t.resolvedLimboDocuments.has(u)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(i,u))}),o.push(rne(i,s,t.documentUpdates).next(u=>{l=u.xs,c=u.Os})),!n.isEqual(pr.min())){const u=r.ai.getLastRemoteSnapshotVersion(i).next(f=>r.ai.setTargetsMetadata(i,i.currentSequenceNumber,n));o.push(u)}return ut.waitFor(o).next(()=>s.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(r.Ss=a,i))}function rne(e,t,r){let n=Or(),a=Or();return r.forEach(i=>n=n.add(i)),t.getEntries(e,n).next(i=>{let s=Lc();return r.forEach((o,l)=>{const c=i.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(a=a.add(o)),l.isNoDocument()&&l.version.isEqual(pr.min())?(t.removeEntry(o,l.readTime),s=s.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(t.addEntry(l),s=s.insert(o,l)):qt(Ck,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{xs:s,Os:a}})}function nne(e,t){const r=dr(e);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=gk),r.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function ane(e,t){const r=dr(e);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return r.ai.getTargetData(n,t).next(i=>i?(a=i,ut.resolve(a)):r.ai.allocateTargetId(n).next(s=>(a=new Hu(t,s,"TargetPurposeListen",n.currentSequenceNumber),r.ai.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=r.Ss.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(r.Ss=r.Ss.insert(n.targetId,n),r.Ds.set(t,n.targetId)),n})}async function W4(e,t,r){const n=dr(e),a=n.Ss.get(t),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,s=>n.persistence.referenceDelegate.removeTarget(s,a))}catch(s){if(!zp(s))throw s;qt(Ck,`Failed to update sequence numbers for target ${t}: ${s}`)}n.Ss=n.Ss.remove(t),n.Ds.delete(a.target)}function iI(e,t,r){const n=dr(e);let a=pr.min(),i=Or();return n.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const f=dr(l),h=f.Ds.get(u);return h!==void 0?ut.resolve(f.Ss.get(h)):f.ai.getTargetData(c,u)}(n,s,Dl(t)).next(o=>{if(o)return a=o.lastLimboFreeSnapshotVersion,n.ai.getMatchingKeysForTargetId(s,o.targetId).next(l=>{i=l})}).next(()=>n.bs.getDocumentsMatchingQuery(s,t,r?a:pr.min(),r?i:Or())).next(o=>(ine(n,zte(t),o),{documents:o,Ns:i})))}function ine(e,t,r){let n=e.vs.get(t)||pr.min();r.forEach((a,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),e.vs.set(t,n)}class sI{constructor(){this.activeTargetIds=Yte()}$s(t){this.activeTargetIds=this.activeTargetIds.add(t)}Us(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Qs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sne{constructor(){this.So=new sI,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,n){}addLocalQueryTarget(t,r=!0){return r&&this.So.$s(t),this.Do[t]||"not-current"}updateQueryState(t,r,n){this.Do[t]=r}removeLocalQueryTarget(t){this.So.Us(t)}isLocalQueryTarget(t){return this.So.activeTargetIds.has(t)}clearQueryState(t){delete this.Do[t]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(t){return this.So.activeTargetIds.has(t)}start(){return this.So=new sI,Promise.resolve()}handleUserChange(t,r,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class one{vo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="ConnectivityMonitor";class lI{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(t){this.Oo.push(t)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){qt(oI,"Network connectivity changed: AVAILABLE");for(const t of this.Oo)t(0)}xo(){qt(oI,"Network connectivity changed: UNAVAILABLE");for(const t of this.Oo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tx=null;function H4(){return tx===null?tx=function(){return 268435456+Math.round(2147483648*Math.random())}():tx++,"0x"+tx.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="RestConnection",lne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cne{get Bo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Lo=r+"://"+t.host,this.ko=`projects/${n}/databases/${a}`,this.qo=this.databaseId.database===G2?`project_id=${n}`:`project_id=${n}&database_id=${a}`}Qo(t,r,n,a,i){const s=H4(),o=this.$o(t,r.toUriEncodedString());qt(oS,`Sending RPC '${t}' ${s}:`,o,n);const l={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(l,a,i);const{host:c}=new URL(o),u=dk(c);return this.Ko(t,o,l,n,u).then(f=>(qt(oS,`Received RPC '${t}' ${s}: `,f),f),f=>{throw tp(oS,`RPC '${t}' ${s} failed with error: `,f,"url: ",o,"request:",n),f})}Wo(t,r,n,a,i,s){return this.Qo(t,r,n,a,i)}Uo(t,r,n){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Vp}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((a,i)=>t[i]=a),n&&n.headers.forEach((a,i)=>t[i]=a)}$o(t,r){const n=lne[t];return`${this.Lo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(t){this.Go=t.Go,this.zo=t.zo}jo(t){this.Ho=t}Jo(t){this.Yo=t}Zo(t){this.Xo=t}onMessage(t){this.e_=t}close(){this.zo()}send(t){this.Go(t)}t_(){this.Ho()}n_(){this.Yo()}r_(t){this.Xo(t)}i_(t){this.e_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="WebChannelConnection";class fne extends cne{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ko(t,r,n,a,i){const s=H4();return new Promise((o,l)=>{const c=new h9;c.setWithCredentials(!0),c.listenOnce(d9.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Xx.NO_ERROR:const f=c.getResponseJson();qt(hi,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(f)),o(f);break;case Xx.TIMEOUT:qt(hi,`RPC '${t}' ${s} timed out`),l(new Ut(ot.DEADLINE_EXCEEDED,"Request time out"));break;case Xx.HTTP_ERROR:const h=c.getStatus();if(qt(hi,`RPC '${t}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);const g=d==null?void 0:d.error;if(g&&g.status&&g.message){const m=function(y){const b=y.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(b)>=0?b:ot.UNKNOWN}(g.status);l(new Ut(m,g.message))}else l(new Ut(ot.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Ut(ot.UNAVAILABLE,"Connection failed."));break;default:or(9055,{s_:t,streamId:s,o_:c.getLastErrorCode(),__:c.getLastError()})}}finally{qt(hi,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(a);qt(hi,`RPC '${t}' ${s} sending request:`,a),c.send(r,"POST",u,n,15)})}a_(t,r,n){const a=H4(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=g9(),o=m9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Uo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const u=i.join("");qt(hi,`Creating RPC '${t}' stream ${a}: ${u}`,l);const f=s.createWebChannel(u,l);let h=!1,d=!1;const g=new une({Go:v=>{d?qt(hi,`Not sending because RPC '${t}' stream ${a} is closed:`,v):(h||(qt(hi,`Opening RPC '${t}' stream ${a} transport.`),f.open(),h=!0),qt(hi,`RPC '${t}' stream ${a} sending:`,v),f.send(v))},zo:()=>f.close()}),m=(v,y,b)=>{v.listen(y,w=>{try{b(w)}catch(O){setTimeout(()=>{throw O},0)}})};return m(f,rg.EventType.OPEN,()=>{d||(qt(hi,`RPC '${t}' stream ${a} transport opened.`),g.t_())}),m(f,rg.EventType.CLOSE,()=>{d||(d=!0,qt(hi,`RPC '${t}' stream ${a} transport closed`),g.r_())}),m(f,rg.EventType.ERROR,v=>{d||(d=!0,tp(hi,`RPC '${t}' stream ${a} transport errored. Name:`,v.name,"Message:",v.message),g.r_(new Ut(ot.UNAVAILABLE,"The operation could not be completed")))}),m(f,rg.EventType.MESSAGE,v=>{var y;if(!d){const b=v.data[0];Qr(!!b,16349);const w=b,O=(w==null?void 0:w.error)||((y=w[0])===null||y===void 0?void 0:y.error);if(O){qt(hi,`RPC '${t}' stream ${a} received error:`,O);const P=O.status;let I=function(A){const D=ha[A];if(D!==void 0)return J9(D)}(P),E=O.message;I===void 0&&(I=ot.INTERNAL,E="Unknown error status: "+P+" with message "+O.message),d=!0,g.r_(new Ut(I,E)),f.close()}else qt(hi,`RPC '${t}' stream ${a} received:`,b),g.i_(b)}}),m(o,p9.STAT_EVENT,v=>{v.stat===j4.PROXY?qt(hi,`RPC '${t}' stream ${a} detected buffering proxy`):v.stat===j4.NOPROXY&&qt(hi,`RPC '${t}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{g.n_()},0),g}}function lS(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(e){return new mre(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dB{constructor(t,r,n=1e3,a=1.5,i=6e4){this.bi=t,this.timerId=r,this.u_=n,this.c_=a,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(t){this.cancel();const r=Math.floor(this.h_+this.d_()),n=Math.max(0,Date.now()-this.T_),a=Math.max(0,r-n);a>0&&qt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.h_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,a,()=>(this.T_=Date.now(),t())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="PersistentStream";class pB{constructor(t,r,n,a,i,s,o,l){this.bi=t,this.R_=n,this.V_=a,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new dB(t,r)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(t){this.M_(),this.stream.send(t)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(t,r){this.M_(),this.x_(),this.y_.cancel(),this.m_++,t!==4?this.y_.reset():r&&r.code===ot.RESOURCE_EXHAUSTED?(jc(r.toString()),jc("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):r&&r.code===ot.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zo(r)}O_(){}auth(){this.state=1;const t=this.N_(this.m_),r=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.m_===r&&this.B_(n,a)},n=>{t(()=>{const a=new Ut(ot.UNKNOWN,"Fetching auth token failed: "+n.message);return this.L_(a)})})}B_(t,r){const n=this.N_(this.m_);this.stream=this.k_(t,r),this.stream.jo(()=>{n(()=>this.listener.jo())}),this.stream.Jo(()=>{n(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(a=>{n(()=>this.L_(a))}),this.stream.onMessage(a=>{n(()=>++this.p_==1?this.q_(a):this.onNext(a))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(t){return qt(cI,`close with error: ${t}`),this.stream=null,this.close(4,t)}N_(t){return r=>{this.bi.enqueueAndForget(()=>this.m_===t?r():(qt(cI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hne extends pB{constructor(t,r,n,a,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}k_(t,r){return this.connection.a_("Listen",t,r)}q_(t){return this.onNext(t)}onNext(t){this.y_.reset();const r=yre(this.serializer,t),n=function(i){if(!("targetChange"in i))return pr.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?pr.min():s.readTime?jl(s.readTime):pr.min()}(t);return this.listener.Q_(r,n)}U_(t){const r={};r.database=q4(this.serializer),r.addTarget=function(i,s){let o;const l=s.target;if(o=$4(l)?{documents:wre(i,l)}:{query:iB(i,l).gt},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=tB(i,s.resumeToken);const c=V4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}else if(s.snapshotVersion.compareTo(pr.min())>0){o.readTime=J2(i,s.snapshotVersion.toTimestamp());const c=V4(i,s.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,t);const n=Are(this.serializer,t);n&&(r.labels=n),this.F_(r)}K_(t){const r={};r.database=q4(this.serializer),r.removeTarget=t,this.F_(r)}}class dne extends pB{constructor(t,r,n,a,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,a,s),this.serializer=i}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(t,r){return this.connection.a_("Write",t,r)}q_(t){return Qr(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qr(!t.writeResults||t.writeResults.length===0,55816),this.listener.z_()}onNext(t){Qr(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.y_.reset();const r=bre(t.writeResults,t.commitTime),n=jl(t.commitTime);return this.listener.j_(n,r)}H_(){const t={};t.database=q4(this.serializer),this.F_(t)}G_(t){const r={streamToken:this.lastStreamToken,writes:t.map(n=>xre(this.serializer,n))};this.F_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pne{}class mne extends pne{constructor(t,r,n,a){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=n,this.serializer=a,this.J_=!1}Y_(){if(this.J_)throw new Ut(ot.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(t,r,n,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Qo(t,U4(r,n),a,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ut(ot.UNKNOWN,i.toString())})}Wo(t,r,n,a,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(t,U4(r,n),a,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ut(ot.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class gne{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(t){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.na("Offline")))}set(t){this.sa(),this.Z_=0,t==="Online"&&(this.ea=!1),this.na(t)}na(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ra(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(jc(r),this.ea=!1):qt("OnlineStateTracker",r)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="RemoteStore";class vne{constructor(t,r,n,a,i){this.localStore=t,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(s=>{n.enqueueAndForget(async()=>{ld(this)&&(qt(Yh,"Restarting streams for network reachability change."),await async function(l){const c=dr(l);c.aa.add(4),await j1(c),c.la.set("Unknown"),c.aa.delete(4),await r5(c)}(this))})}),this.la=new gne(n,a)}}async function r5(e){if(ld(e))for(const t of e.ua)await t(!0)}async function j1(e){for(const t of e.ua)await t(!1)}function mB(e,t){const r=dr(e);r._a.has(t.targetId)||(r._a.set(t.targetId,t),Dk(r)?Ik(r):Wp(r).b_()&&Ok(r,t))}function Pk(e,t){const r=dr(e),n=Wp(r);r._a.delete(t),n.b_()&&gB(r,t),r._a.size===0&&(n.b_()?n.v_():ld(r)&&r.la.set("Unknown"))}function Ok(e,t){if(e.ha.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(pr.min())>0){const r=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}Wp(e).U_(t)}function gB(e,t){e.ha.Ke(t),Wp(e).K_(t)}function Ik(e){e.ha=new fre({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e._a.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),Wp(e).start(),e.la.ta()}function Dk(e){return ld(e)&&!Wp(e).w_()&&e._a.size>0}function ld(e){return dr(e).aa.size===0}function vB(e){e.ha=void 0}async function yne(e){e.la.set("Online")}async function xne(e){e._a.forEach((t,r)=>{Ok(e,t)})}async function bne(e,t){vB(e),Dk(e)?(e.la.ia(t),Ik(e)):e.la.set("Unknown")}async function wne(e,t,r){if(e.la.set("Online"),t instanceof eB&&t.state===2&&t.cause)try{await async function(a,i){const s=i.cause;for(const o of i.targetIds)a._a.has(o)&&(await a.remoteSyncer.rejectListen(o,s),a._a.delete(o),a.ha.removeTarget(o))}(e,t)}catch(n){qt(Yh,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await eb(e,n)}else if(t instanceof e2?e.ha.Xe(t):t instanceof Z9?e.ha.ot(t):e.ha.nt(t),!r.isEqual(pr.min()))try{const n=await hB(e.localStore);r.compareTo(n)>=0&&await function(i,s){const o=i.ha.It(s);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i._a.get(c);u&&i._a.set(c,u.withResumeToken(l.resumeToken,s))}}),o.targetMismatches.forEach((l,c)=>{const u=i._a.get(l);if(!u)return;i._a.set(l,u.withResumeToken(li.EMPTY_BYTE_STRING,u.snapshotVersion)),gB(i,l);const f=new Hu(u.target,l,c,u.sequenceNumber);Ok(i,f)}),i.remoteSyncer.applyRemoteEvent(o)}(e,r)}catch(n){qt(Yh,"Failed to raise snapshot:",n),await eb(e,n)}}async function eb(e,t,r){if(!zp(t))throw t;e.aa.add(1),await j1(e),e.la.set("Offline"),r||(r=()=>hB(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{qt(Yh,"Retrying IndexedDB access"),await r(),e.aa.delete(1),await r5(e)})}function yB(e,t){return t().catch(r=>eb(e,r,t))}async function n5(e){const t=dr(e),r=Sf(t);let n=t.oa.length>0?t.oa[t.oa.length-1].batchId:gk;for(;_ne(t);)try{const a=await nne(t.localStore,n);if(a===null){t.oa.length===0&&r.v_();break}n=a.batchId,Sne(t,a)}catch(a){await eb(t,a)}xB(t)&&bB(t)}function _ne(e){return ld(e)&&e.oa.length<10}function Sne(e,t){e.oa.push(t);const r=Sf(e);r.b_()&&r.W_&&r.G_(t.mutations)}function xB(e){return ld(e)&&!Sf(e).w_()&&e.oa.length>0}function bB(e){Sf(e).start()}async function Ane(e){Sf(e).H_()}async function Tne(e){const t=Sf(e);for(const r of e.oa)t.G_(r.mutations)}async function Ene(e,t,r){const n=e.oa.shift(),a=Sk.from(n,t,r);await yB(e,()=>e.remoteSyncer.applySuccessfulWrite(a)),await n5(e)}async function kne(e,t){t&&Sf(e).W_&&await async function(n,a){if(function(s){return cre(s)&&s!==ot.ABORTED}(a.code)){const i=n.oa.shift();Sf(n).D_(),await yB(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,a)),await n5(n)}}(e,t),xB(e)&&bB(e)}async function uI(e,t){const r=dr(e);r.asyncQueue.verifyOperationInProgress(),qt(Yh,"RemoteStore received new credentials");const n=ld(r);r.aa.add(3),await j1(r),n&&r.la.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.aa.delete(3),await r5(r)}async function Nne(e,t){const r=dr(e);t?(r.aa.delete(2),await r5(r)):t||(r.aa.add(2),await j1(r),r.la.set("Unknown"))}function Wp(e){return e.Pa||(e.Pa=function(r,n,a){const i=dr(r);return i.Y_(),new hne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:yne.bind(null,e),Jo:xne.bind(null,e),Zo:bne.bind(null,e),Q_:wne.bind(null,e)}),e.ua.push(async t=>{t?(e.Pa.D_(),Dk(e)?Ik(e):e.la.set("Unknown")):(await e.Pa.stop(),vB(e))})),e.Pa}function Sf(e){return e.Ta||(e.Ta=function(r,n,a){const i=dr(r);return i.Y_(),new dne(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,a)}(e.datastore,e.asyncQueue,{jo:()=>Promise.resolve(),Jo:Ane.bind(null,e),Zo:kne.bind(null,e),z_:Tne.bind(null,e),j_:Ene.bind(null,e)}),e.ua.push(async t=>{t?(e.Ta.D_(),await n5(e)):(await e.Ta.stop(),e.oa.length>0&&(qt(Yh,`Stopping write stream with ${e.oa.length} pending writes`),e.oa=[]))})),e.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(t,r,n,a,i){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=n,this.op=a,this.removalCallback=i,this.deferred=new Il,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,r,n,a,i){const s=Date.now()+n,o=new jk(t,r,s,a,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ut(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lk(e,t){if(jc("AsyncQueue",`${t}: ${e}`),zp(e))return new Ut(ot.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static emptySet(t){return new I0(t.comparator)}constructor(t){this.comparator=t?(r,n)=>t(r,n)||Jt.comparator(r.key,n.key):(r,n)=>Jt.comparator(r.key,n.key),this.keyedMap=ng(),this.sortedSet=new zn(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,n)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof I0)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;r.hasNext();){const a=r.getNext().key,i=n.getNext().key;if(!a.isEqual(i))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const n=new I0;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.Ia=new zn(Jt.comparator)}track(t){const r=t.doc.key,n=this.Ia.get(r);n?t.type!==0&&n.type===3?this.Ia=this.Ia.insert(r,t):t.type===3&&n.type!==1?this.Ia=this.Ia.insert(r,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.Ia=this.Ia.insert(r,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.Ia=this.Ia.remove(r):t.type===1&&n.type===2?this.Ia=this.Ia.insert(r,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.Ia=this.Ia.insert(r,{type:2,doc:t.doc}):or(63341,{Vt:t,Ea:n}):this.Ia=this.Ia.insert(r,t)}da(){const t=[];return this.Ia.inorderTraversal((r,n)=>{t.push(n)}),t}}class sp{constructor(t,r,n,a,i,s,o,l,c){this.query=t,this.docs=r,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(t,r,n,a,i){const s=[];return r.forEach(o=>{s.push({type:0,doc:o})}),new sp(t,r,I0.emptySet(r),s,n,a,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Yw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,n=t.docChanges;if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(r[a].type!==n[a].type||!r[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(t=>t.ma())}}class Pne{constructor(){this.queries=hI(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(r,n){const a=dr(r),i=a.queries;a.queries=hI(),i.forEach((s,o)=>{for(const l of o.Ra)l.onError(n)})})(this,new Ut(ot.ABORTED,"Firestore shutting down"))}}function hI(){return new od(e=>B9(e),Yw)}async function wB(e,t){const r=dr(e);let n=3;const a=t.query;let i=r.queries.get(a);i?!i.Va()&&t.ma()&&(n=2):(i=new Cne,n=t.ma()?0:1);try{switch(n){case 0:i.Aa=await r.onListen(a,!0);break;case 1:i.Aa=await r.onListen(a,!1);break;case 2:await r.onFirstRemoteStoreListen(a)}}catch(s){const o=Lk(s,`Initialization of query '${Jd(t.query)}' failed`);return void t.onError(o)}r.queries.set(a,i),i.Ra.push(t),t.ga(r.onlineState),i.Aa&&t.pa(i.Aa)&&Mk(r)}async function _B(e,t){const r=dr(e),n=t.query;let a=3;const i=r.queries.get(n);if(i){const s=i.Ra.indexOf(t);s>=0&&(i.Ra.splice(s,1),i.Ra.length===0?a=t.ma()?0:1:!i.Va()&&t.ma()&&(a=2))}switch(a){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function One(e,t){const r=dr(e);let n=!1;for(const a of t){const i=a.query,s=r.queries.get(i);if(s){for(const o of s.Ra)o.pa(a)&&(n=!0);s.Aa=a}}n&&Mk(r)}function Ine(e,t,r){const n=dr(e),a=n.queries.get(t);if(a)for(const i of a.Ra)i.onError(r);n.queries.delete(t)}function Mk(e){e.fa.forEach(t=>{t.next()})}var G4,dI;(dI=G4||(G4={})).ya="default",dI.Cache="cache";class SB{constructor(t,r,n){this.query=t,this.wa=r,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=n||{}}pa(t){if(!this.options.includeMetadataChanges){const n=[];for(const a of t.docChanges)a.type!==3&&n.push(a);t=new sp(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.ba?this.Da(t)&&(this.wa.next(t),r=!0):this.va(t,this.onlineState)&&(this.Ca(t),r=!0),this.Sa=t,r}onError(t){this.wa.error(t)}ga(t){this.onlineState=t;let r=!1;return this.Sa&&!this.ba&&this.va(this.Sa,t)&&(this.Ca(this.Sa),r=!0),r}va(t,r){if(!t.fromCache||!this.ma())return!0;const n=r!=="Offline";return(!this.options.Fa||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Da(t){if(t.docChanges.length>0)return!0;const r=this.Sa&&this.Sa.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}Ca(t){t=sp.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ba=!0,this.wa.next(t)}ma(){return this.options.source!==G4.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AB{constructor(t){this.key=t}}class TB{constructor(t){this.key=t}}class Dne{constructor(t,r){this.query=t,this.qa=r,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Or(),this.mutatedKeys=Or(),this.Ua=V9(t),this.Ka=new I0(this.Ua)}get Wa(){return this.qa}Ga(t,r){const n=r?r.za:new fI,a=r?r.Ka:this.Ka;let i=r?r.mutatedKeys:this.mutatedKeys,s=a,o=!1;const l=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,c=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal((u,f)=>{const h=a.get(u),d=Xw(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;h&&d?h.data.isEqual(d.data)?g!==m&&(n.track({type:3,doc:d}),v=!0):this.ja(h,d)||(n.track({type:2,doc:d}),v=!0,(l&&this.Ua(d,l)>0||c&&this.Ua(d,c)<0)&&(o=!0)):!h&&d?(n.track({type:0,doc:d}),v=!0):h&&!d&&(n.track({type:1,doc:h}),v=!0,(l||c)&&(o=!0)),v&&(d?(s=s.add(d),i=m?i.add(u):i.delete(u)):(s=s.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),i=i.delete(u.key),n.track({type:1,doc:u})}return{Ka:s,za:n,ys:o,mutatedKeys:i}}ja(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,n,a){const i=this.Ka;this.Ka=t.Ka,this.mutatedKeys=t.mutatedKeys;const s=t.za.da();s.sort((u,f)=>function(d,g){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return or(20277,{Vt:v})}};return m(d)-m(g)}(u.type,f.type)||this.Ua(u.doc,f.doc)),this.Ha(n),a=a!=null&&a;const o=r&&!a?this.Ja():[],l=this.$a.size===0&&this.current&&!a?1:0,c=l!==this.Qa;return this.Qa=l,s.length!==0||c?{snapshot:new sp(this.query,t.Ka,i,s,t.mutatedKeys,l===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ya:o}:{Ya:o}}ga(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new fI,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(t){return!this.qa.has(t)&&!!this.Ka.has(t)&&!this.Ka.get(t).hasLocalMutations}Ha(t){t&&(t.addedDocuments.forEach(r=>this.qa=this.qa.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.qa=this.qa.delete(r)),this.current=t.current)}Ja(){if(!this.current)return[];const t=this.$a;this.$a=Or(),this.Ka.forEach(n=>{this.Za(n.key)&&(this.$a=this.$a.add(n.key))});const r=[];return t.forEach(n=>{this.$a.has(n)||r.push(new TB(n))}),this.$a.forEach(n=>{t.has(n)||r.push(new AB(n))}),r}Xa(t){this.qa=t.Ns,this.$a=Or();const r=this.Ga(t.documents);return this.applyChanges(r,!0)}eu(){return sp.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Rk="SyncEngine";class jne{constructor(t,r,n){this.query=t,this.targetId=r,this.view=n}}class Lne{constructor(t){this.key=t,this.tu=!1}}class Mne{constructor(t,r,n,a,i,s){this.localStore=t,this.remoteStore=r,this.eventManager=n,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new od(o=>B9(o),Yw),this.iu=new Map,this.su=new Set,this.ou=new zn(Jt.comparator),this._u=new Map,this.au=new Ek,this.uu={},this.cu=new Map,this.lu=ip.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function Rne(e,t,r=!0){const n=OB(e);let a;const i=n.ru.get(t);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),a=i.view.eu()):a=await EB(n,t,r,!0),a}async function Fne(e,t){const r=OB(e);await EB(r,t,!0,!1)}async function EB(e,t,r,n){const a=await ane(e.localStore,Dl(t)),i=a.targetId,s=e.sharedClientState.addLocalQueryTarget(i,r);let o;return n&&(o=await $ne(e,t,i,s==="current",a.resumeToken)),e.isPrimaryClient&&r&&mB(e.remoteStore,a),o}async function $ne(e,t,r,n,a){e.Pu=(f,h,d)=>async function(m,v,y,b){let w=v.view.Ga(y);w.ys&&(w=await iI(m.localStore,v.query,!1).then(({documents:E})=>v.view.Ga(E,w)));const O=b&&b.targetChanges.get(v.targetId),P=b&&b.targetMismatches.get(v.targetId)!=null,I=v.view.applyChanges(w,m.isPrimaryClient,O,P);return mI(m,v.targetId,I.Ya),I.snapshot}(e,f,h,d);const i=await iI(e.localStore,t,!0),s=new Dne(t,i.Ns),o=s.Ga(i.documents),l=D1.createSynthesizedTargetChangeForCurrentChange(r,n&&e.onlineState!=="Offline",a),c=s.applyChanges(o,e.isPrimaryClient,l);mI(e,r,c.Ya);const u=new jne(t,r,s);return e.ru.set(t,u),e.iu.has(r)?e.iu.get(r).push(t):e.iu.set(r,[t]),c.snapshot}async function Bne(e,t,r){const n=dr(e),a=n.ru.get(t),i=n.iu.get(a.targetId);if(i.length>1)return n.iu.set(a.targetId,i.filter(s=>!Yw(s,t))),void n.ru.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await W4(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),r&&Pk(n.remoteStore,a.targetId),K4(n,a.targetId)}).catch(Up)):(K4(n,a.targetId),await W4(n.localStore,a.targetId,!0))}async function Vne(e,t){const r=dr(e),n=r.ru.get(t),a=r.iu.get(n.targetId);r.isPrimaryClient&&a.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Pk(r.remoteStore,n.targetId))}async function Une(e,t,r){const n=Yne(e);try{const a=await function(s,o){const l=dr(s),c=Zt.now(),u=o.reduce((d,g)=>d.add(g.key),Or());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Lc(),m=Or();return l.Cs.getEntries(d,u).next(v=>{g=v,g.forEach((y,b)=>{b.isValidDocument()||(m=m.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,g)).next(v=>{f=v;const y=[];for(const b of o){const w=nre(b,f.get(b.key).overlayedDocument);w!=null&&y.push(new jf(b.key,w,O9(w.value.mapValue),Ki.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,y,o)}).next(v=>{h=v;const y=v.applyToLocalDocumentSet(f,m);return l.documentOverlayCache.saveOverlays(d,v.batchId,y)})}).then(()=>({batchId:h.batchId,changes:z9(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(a.batchId),function(s,o,l){let c=s.uu[s.currentUser.toKey()];c||(c=new zn(Tr)),c=c.insert(o,l),s.uu[s.currentUser.toKey()]=c}(n,a.batchId,r),await L1(n,a.changes),await n5(n.remoteStore)}catch(a){const i=Lk(a,"Failed to persist write");r.reject(i)}}async function kB(e,t){const r=dr(e);try{const n=await tne(r.localStore,t);t.targetChanges.forEach((a,i)=>{const s=r._u.get(i);s&&(Qr(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?s.tu=!0:a.modifiedDocuments.size>0?Qr(s.tu,14607):a.removedDocuments.size>0&&(Qr(s.tu,42227),s.tu=!1))}),await L1(r,n,t)}catch(n){await Up(n)}}function pI(e,t,r){const n=dr(e);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const a=[];n.ru.forEach((i,s)=>{const o=s.view.ga(t);o.snapshot&&a.push(o.snapshot)}),function(s,o){const l=dr(s);l.onlineState=o;let c=!1;l.queries.forEach((u,f)=>{for(const h of f.Ra)h.ga(o)&&(c=!0)}),c&&Mk(l)}(n.eventManager,t),a.length&&n.nu.Q_(a),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}async function zne(e,t,r){const n=dr(e);n.sharedClientState.updateQueryState(t,"rejected",r);const a=n._u.get(t),i=a&&a.key;if(i){let s=new zn(Jt.comparator);s=s.insert(i,Si.newNoDocument(i,pr.min()));const o=Or().add(i),l=new e5(pr.min(),new Map,new zn(Tr),s,o);await kB(n,l),n.ou=n.ou.remove(i),n._u.delete(t),Fk(n)}else await W4(n.localStore,t,!1).then(()=>K4(n,t,r)).catch(Up)}async function qne(e,t){const r=dr(e),n=t.batch.batchId;try{const a=await ene(r.localStore,t);CB(r,n,null),NB(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await L1(r,a)}catch(a){await Up(a)}}async function Wne(e,t,r){const n=dr(e);try{const a=await function(s,o){const l=dr(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(f=>(Qr(f!==null,37113),u=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(n.localStore,t);CB(n,t,r),NB(n,t),n.sharedClientState.updateMutationState(t,"rejected",r),await L1(n,a)}catch(a){await Up(a)}}function NB(e,t){(e.cu.get(t)||[]).forEach(r=>{r.resolve()}),e.cu.delete(t)}function CB(e,t,r){const n=dr(e);let a=n.uu[n.currentUser.toKey()];if(a){const i=a.get(t);i&&(r?i.reject(r):i.resolve(),a=a.remove(t)),n.uu[n.currentUser.toKey()]=a}}function K4(e,t,r=null){e.sharedClientState.removeLocalQueryTarget(t);for(const n of e.iu.get(t))e.ru.delete(n),r&&e.nu.Tu(n,r);e.iu.delete(t),e.isPrimaryClient&&e.au.Ur(t).forEach(n=>{e.au.containsKey(n)||PB(e,n)})}function PB(e,t){e.su.delete(t.path.canonicalString());const r=e.ou.get(t);r!==null&&(Pk(e.remoteStore,r),e.ou=e.ou.remove(t),e._u.delete(r),Fk(e))}function mI(e,t,r){for(const n of r)n instanceof AB?(e.au.addReference(n.key,t),Hne(e,n)):n instanceof TB?(qt(Rk,"Document no longer in limbo: "+n.key),e.au.removeReference(n.key,t),e.au.containsKey(n.key)||PB(e,n.key)):or(19791,{Iu:n})}function Hne(e,t){const r=t.key,n=r.path.canonicalString();e.ou.get(r)||e.su.has(n)||(qt(Rk,"New document in limbo: "+r),e.su.add(n),Fk(e))}function Fk(e){for(;e.su.size>0&&e.ou.size<e.maxConcurrentLimboResolutions;){const t=e.su.values().next().value;e.su.delete(t);const r=new Jt(Pn.fromString(t)),n=e.lu.next();e._u.set(n,new Lne(r)),e.ou=e.ou.insert(r,n),mB(e.remoteStore,new Hu(Dl(wk(r.path)),n,"TargetPurposeLimboResolution",Hw.le))}}async function L1(e,t,r){const n=dr(e),a=[],i=[],s=[];n.ru.isEmpty()||(n.ru.forEach((o,l)=>{s.push(n.Pu(l,t,r).then(c=>{var u;if((c||r)&&n.isPrimaryClient){const f=c?!c.fromCache:(u=r==null?void 0:r.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){a.push(c);const f=Nk.Ps(l.targetId,c);i.push(f)}}))}),await Promise.all(s),n.nu.Q_(a),await async function(l,c){const u=dr(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ut.forEach(c,h=>ut.forEach(h.ls,d=>u.persistence.referenceDelegate.addReference(f,h.targetId,d)).next(()=>ut.forEach(h.hs,d=>u.persistence.referenceDelegate.removeReference(f,h.targetId,d)))))}catch(f){if(!zp(f))throw f;qt(Ck,"Failed to update sequence numbers: "+f)}for(const f of c){const h=f.targetId;if(!f.fromCache){const d=u.Ss.get(h),g=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(g);u.Ss=u.Ss.insert(h,m)}}}(n.localStore,i))}async function Gne(e,t){const r=dr(e);if(!r.currentUser.isEqual(t)){qt(Rk,"User change. New user:",t.toKey());const n=await fB(r.localStore,t);r.currentUser=t,function(i,s){i.cu.forEach(o=>{o.forEach(l=>{l.reject(new Ut(ot.CANCELLED,s))})}),i.cu.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),await L1(r,n.Ms)}}function Kne(e,t){const r=dr(e),n=r._u.get(t);if(n&&n.tu)return Or().add(n.key);{let a=Or();const i=r.iu.get(t);if(!i)return a;for(const s of i){const o=r.ru.get(s);a=a.unionWith(o.view.Wa)}return a}}function OB(e){const t=dr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Kne.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zne.bind(null,t),t.nu.Q_=One.bind(null,t.eventManager),t.nu.Tu=Ine.bind(null,t.eventManager),t}function Yne(e){const t=dr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qne.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Wne.bind(null,t),t}class tb{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=t5(t.databaseInfo.databaseId),this.sharedClientState=this.Au(t),this.persistence=this.Ru(t),await this.persistence.start(),this.localStore=this.Vu(t),this.gcScheduler=this.mu(t,this.localStore),this.indexBackfillerScheduler=this.fu(t,this.localStore)}mu(t,r){return null}fu(t,r){return null}Vu(t){return Zre(this.persistence,new Xre,t.initialUser,this.serializer)}Ru(t){return new uB(kk.Ei,this.serializer)}Au(t){return new sne}async terminate(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}tb.provider={build:()=>new tb};class Xne extends tb{constructor(t){super(),this.cacheSizeBytes=t}mu(t,r){Qr(this.persistence.referenceDelegate instanceof Z2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Lre(n,t.asyncQueue,r)}Ru(t){const r=this.cacheSizeBytes!==void 0?ls.withCacheSize(this.cacheSizeBytes):ls.DEFAULT;return new uB(n=>Z2.Ei(n,r),this.serializer)}}class Y4{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>pI(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Gne.bind(null,this.syncEngine),await Nne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Pne}()}createDatastore(t){const r=t5(t.databaseInfo.databaseId),n=function(i){return new fne(i)}(t.databaseInfo);return function(i,s,o,l){return new mne(i,s,o,l)}(t.authCredentials,t.appCheckCredentials,n,r)}createRemoteStore(t){return function(n,a,i,s,o){return new vne(n,a,i,s,o)}(this.localStore,this.datastore,t.asyncQueue,r=>pI(this.syncEngine,r,0),function(){return lI.C()?new lI:new one}())}createSyncEngine(t,r){return function(a,i,s,o,l,c,u){const f=new Mne(a,i,s,o,l,c);return u&&(f.hu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}async terminate(){var t,r;await async function(a){const i=dr(a);qt(Yh,"RemoteStore shutting down."),i.aa.add(5),await j1(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}Y4.provider={build:()=>new Y4};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.pu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.pu(this.observer.error,t):jc("Uncaught Error in snapshot listener:",t.toString()))}yu(){this.muted=!0}pu(t,r){setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="FirestoreClient";class Qne{constructor(t,r,n,a,i){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=a,this.user=bi.UNAUTHENTICATED,this.clientId=b9.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async s=>{qt(Af,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(n,s=>(qt(Af,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Il;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const n=Lk(r,"Failed to shutdown persistence");t.reject(n)}}),t.promise}}async function cS(e,t){e.asyncQueue.verifyOperationInProgress(),qt(Af,"Initializing OfflineComponentProvider");const r=e.configuration;await t.initialize(r);let n=r.initialUser;e.setCredentialChangeListener(async a=>{n.isEqual(a)||(await fB(t.localStore,a),n=a)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function gI(e,t){e.asyncQueue.verifyOperationInProgress();const r=await Jne(e);qt(Af,"Initializing OnlineComponentProvider"),await t.initialize(r,e.configuration),e.setCredentialChangeListener(n=>uI(t.remoteStore,n)),e.setAppCheckTokenChangeListener((n,a)=>uI(t.remoteStore,a)),e._onlineComponents=t}async function Jne(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){qt(Af,"Using user provided OfflineComponentProvider");try{await cS(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!function(a){return a.name==="FirebaseError"?a.code===ot.FAILED_PRECONDITION||a.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(r))throw r;tp("Error using user provided cache. Falling back to memory cache: "+r),await cS(e,new tb)}}else qt(Af,"Using default OfflineComponentProvider"),await cS(e,new Xne(void 0));return e._offlineComponents}async function $k(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(qt(Af,"Using user provided OnlineComponentProvider"),await gI(e,e._uninitializedComponentsProvider._online)):(qt(Af,"Using default OnlineComponentProvider"),await gI(e,new Y4))),e._onlineComponents}function Zne(e){return $k(e).then(t=>t.syncEngine)}function eae(e){return $k(e).then(t=>t.datastore)}async function DB(e){const t=await $k(e),r=t.eventManager;return r.onListen=Rne.bind(null,t.syncEngine),r.onUnlisten=Bne.bind(null,t.syncEngine),r.onFirstRemoteStoreListen=Fne.bind(null,t.syncEngine),r.onLastRemoteStoreUnlisten=Vne.bind(null,t.syncEngine),r}function tae(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new IB({next:h=>{u.yu(),s.enqueueAndForget(()=>_B(i,f));const d=h.docs.has(o);!d&&h.fromCache?c.reject(new Ut(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?c.reject(new Ut(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new SB(wk(o.path),u,{includeMetadataChanges:!0,Fa:!0});return wB(i,f)}(await DB(e),e.asyncQueue,t,r,n)),n.promise}function rae(e,t,r={}){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,l,c){const u=new IB({next:h=>{u.yu(),s.enqueueAndForget(()=>_B(i,f)),h.fromCache&&l.source==="server"?c.reject(new Ut(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),f=new SB(o,u,{includeMetadataChanges:!0,Fa:!0});return wB(i,f)}(await DB(e),e.asyncQueue,t,r,n)),n.promise}function nae(e,t,r){const n=new Il;return e.asyncQueue.enqueueAndForget(async()=>{try{const a=await eae(e);n.resolve(async function(s,o,l){var c;const u=dr(s),{request:f,yt:h,parent:d}=_re(u.serializer,Ute(o),l);u.connection.Bo||delete f.parent;const g=(await u.Wo("RunAggregationQuery",u.serializer.databaseId,d,f,1)).filter(v=>!!v.result);Qr(g.length===1,64727);const m=(c=g[0].result)===null||c===void 0?void 0:c.aggregateFields;return Object.keys(m).reduce((v,y)=>(v[h[y]]=m[y],v),{})}(a,t,r))}catch(a){n.reject(a)}}),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jB(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(e,t,r){if(!r)throw new Ut(ot.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function aae(e,t,r,n){if(t===!0&&n===!0)throw new Ut(ot.INVALID_ARGUMENT,`${e} and ${r} cannot be used together.`)}function yI(e){if(!Jt.isDocumentKey(e))throw new Ut(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xI(e){if(Jt.isDocumentKey(e))throw new Ut(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function a5(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":or(12329,{type:typeof e})}function Us(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=a5(e);throw new Ut(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return e}function iae(e,t){if(t<=0)throw new Ut(ot.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB="firestore.googleapis.com",bI=!0;class wI{constructor(t){var r,n;if(t.host===void 0){if(t.ssl!==void 0)throw new Ut(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MB,this.ssl=bI}else this.host=t.host,this.ssl=(r=t.ssl)!==null&&r!==void 0?r:bI;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=cB;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Dre)throw new Ut(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}aae("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jB((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ut(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ut(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ut(ot.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class i5{constructor(t,r,n,a){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wI({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ut(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wI(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new lte;switch(n.type){case"firstParty":return new hte(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ut(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,n9("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=vI.get(r);n&&(qt("ComponentProvider","Removing Datastore"),vI.delete(r),n.terminate())}(this),Promise.resolve()}}function sae(e,t,r,n={}){var a;e=Us(e,i5);const i=dk(t),s=e._getSettings(),o=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${r}`;s.host!==MB&&s.host!==l&&tp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:i,emulatorOptions:n});if(!z2(c,o)&&(e._setSettings(c),i&&(MZ(`https://${l}`),n9("Firestore",!0)),n.mockUserToken)){let u,f;if(typeof n.mockUserToken=="string")u=n.mockUserToken,f=bi.MOCK_USER;else{u=RZ(n.mockUserToken,(a=e._app)===null||a===void 0?void 0:a.options.projectId);const h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new Ut(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new bi(h)}e._authCredentials=new cte(new y9(u,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(t,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Lf(this.firestore,t,this._query)}}class Yi{constructor(t,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ff(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Yi(this.firestore,t,this._key)}}class ff extends Lf{constructor(t,r,n){super(t,r,wk(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Yi(this.firestore,null,new Jt(t))}withConverter(t){return new ff(this.firestore,t,this._path)}}function Et(e,t,...r){if(e=ol(e),LB("collection","path",t),e instanceof i5){const n=Pn.fromString(t,...r);return xI(n),new ff(e,null,n)}{if(!(e instanceof Yi||e instanceof ff))throw new Ut(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pn.fromString(t,...r));return xI(n),new ff(e.firestore,null,n)}}function Hr(e,t,...r){if(e=ol(e),arguments.length===1&&(t=b9.newId()),LB("doc","path",t),e instanceof i5){const n=Pn.fromString(t,...r);return yI(n),new Yi(e,null,new Jt(n))}{if(!(e instanceof Yi||e instanceof ff))throw new Ut(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pn.fromString(t,...r));return yI(n),new Yi(e.firestore,e instanceof ff?e.converter:null,new Jt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I="AsyncQueue";class SI{constructor(t=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new dB(this,"async_queue_retry"),this.ju=()=>{const n=lS();n&&qt(_I,"Visibility state changed to "+n.visibilityState),this.y_.A_()},this.Hu=t;const r=lS();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ju(),this.Yu(t)}enterRestrictedMode(t){if(!this.$u){this.$u=!0,this.Gu=t||!1;const r=lS();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.ju)}}enqueue(t){if(this.Ju(),this.$u)return new Promise(()=>{});const r=new Il;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qu.push(t),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(t){if(!zp(t))throw t;qt(_I,"Operation failed with retryable error: "+t)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(t){const r=this.Hu.then(()=>(this.Wu=!0,t().catch(n=>{throw this.Ku=n,this.Wu=!1,jc("INTERNAL UNHANDLED ERROR: ",AI(n)),n}).then(n=>(this.Wu=!1,n))));return this.Hu=r,r}enqueueAfterDelay(t,r,n){this.Ju(),this.zu.indexOf(t)>-1&&(r=0);const a=jk.createAndSchedule(this,t,r,n,i=>this.Xu(i));return this.Uu.push(a),a}Ju(){this.Ku&&or(47125,{ec:AI(this.Ku)})}verifyOperationInProgress(){}async tc(){let t;do t=this.Hu,await t;while(t!==this.Hu)}nc(t){for(const r of this.Uu)if(r.timerId===t)return!0;return!1}rc(t){return this.tc().then(()=>{this.Uu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Uu)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.tc()})}sc(t){this.zu.push(t)}Xu(t){const r=this.Uu.indexOf(t);this.Uu.splice(r,1)}}function AI(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}class Kc extends i5{constructor(t,r,n,a){super(t,r,n,a),this.type="firestore",this._queue=new SI,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new SI(t),this._firestoreClient=void 0,await t}}}function oae(e,t){const r=typeof e=="object"?e:Yee(),n=typeof e=="string"?e:G2,a=qee(r,"firestore").getImmediate({identifier:n});if(!a._initialized){const i=jZ("firestore");i&&sae(a,...i)}return a}function M1(e){if(e._terminated)throw new Ut(ot.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||lae(e),e._firestoreClient}function lae(e){var t,r,n;const a=e._freezeSettings(),i=function(o,l,c,u){return new Nte(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,jB(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,a);e._componentsProvider||!((r=a.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Qne(e._authCredentials,e._appCheckCredentials,e._queue,i,e._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cae{constructor(t="count",r){this._internalFieldPath=r,this.type="AggregateField",this.aggregateType=t}}class uae{constructor(t,r,n){this._userDataWriter=r,this._data=n,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(t){this._byteString=t}static fromBase64String(t){try{return new op(li.fromBase64String(t))}catch(r){throw new Ut(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new op(li.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new Ut(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ri(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new Ut(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new Ut(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Tr(this._lat,t._lat)||Tr(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(t){this._values=(t||[]).map(r=>r)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,a){if(n.length!==a.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==a[i])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fae=/^__.*__$/;class hae{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return this.fieldMask!==null?new jf(t,this.data,this.fieldMask,r,this.fieldTransforms):new I1(t,this.data,r,this.fieldTransforms)}}class RB{constructor(t,r,n){this.data=t,this.fieldMask=r,this.fieldTransforms=n}toMutation(t,r){return new jf(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function FB(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw or(40011,{oc:e})}}class Uk{constructor(t,r,n,a,i,s){this.settings=t,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=a,i===void 0&&this._c(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(t){return new Uk(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a.lc(t),a}hc(t){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(t),a=this.ac({path:n,cc:!1});return a._c(),a}Pc(t){return this.ac({path:void 0,cc:!0})}Tc(t){return rb(t,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}_c(){if(this.path)for(let t=0;t<this.path.length;t++)this.lc(this.path.get(t))}lc(t){if(t.length===0)throw this.Tc("Document fields must not be empty");if(FB(this.oc)&&fae.test(t))throw this.Tc('Document fields cannot begin and end with "__"')}}class dae{constructor(t,r,n){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=n||t5(t)}dc(t,r,n,a=!1){return new Uk({oc:t,methodName:r,Ec:n,path:ri.emptyPath(),cc:!1,Ic:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function F1(e){const t=e._freezeSettings(),r=t5(e._databaseId);return new dae(e._databaseId,!!t.ignoreUndefinedProperties,r)}function zk(e,t,r,n,a,i={}){const s=e.dc(i.merge||i.mergeFields?2:0,t,r,a);Wk("Data must be an object, but it was:",s,n);const o=VB(n,s);let l,c;if(i.merge)l=new Fs(s.fieldMask),c=s.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const h=X4(t,f,r);if(!s.contains(h))throw new Ut(ot.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zB(u,h)||u.push(h)}l=new Fs(u),c=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=s.fieldTransforms;return new hae(new fs(o),l,c)}class $1 extends s5{_toFieldTransform(t){if(t.oc!==2)throw t.oc===1?t.Tc(`${this._methodName}() can only appear at the top level of your update data`):t.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $1}}class qk extends s5{_toFieldTransform(t){return new Zte(t.path,new Sv)}isEqual(t){return t instanceof qk}}function $B(e,t,r,n){const a=e.dc(1,t,r);Wk("Data must be an object, but it was:",a,n);const i=[],s=fs.empty();Df(n,(l,c)=>{const u=Hk(t,l,r);c=ol(c);const f=a.hc(u);if(c instanceof $1)i.push(u);else{const h=B1(c,f);h!=null&&(i.push(u),s.set(u,h))}});const o=new Fs(i);return new RB(s,o,a.fieldTransforms)}function BB(e,t,r,n,a,i){const s=e.dc(1,t,r),o=[X4(t,n,r)],l=[a];if(i.length%2!=0)throw new Ut(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)o.push(X4(t,i[h])),l.push(i[h+1]);const c=[],u=fs.empty();for(let h=o.length-1;h>=0;--h)if(!zB(c,o[h])){const d=o[h];let g=l[h];g=ol(g);const m=s.hc(d);if(g instanceof $1)c.push(d);else{const v=B1(g,m);v!=null&&(c.push(d),u.set(d,v))}}const f=new Fs(c);return new RB(u,f,s.fieldTransforms)}function pae(e,t,r,n=!1){return B1(r,e.dc(n?4:3,t))}function B1(e,t){if(UB(e=ol(e)))return Wk("Unsupported field value:",t,e),VB(e,t);if(e instanceof s5)return function(n,a){if(!FB(a.oc))throw a.Tc(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Tc(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(a);i&&a.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.cc&&t.oc!==4)throw t.Tc("Nested arrays are not supported");return function(n,a){const i=[];let s=0;for(const o of n){let l=B1(o,a.Pc(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,a){if((n=ol(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Xte(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Zt.fromDate(n);return{timestampValue:J2(a.serializer,i)}}if(n instanceof Zt){const i=new Zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:J2(a.serializer,i)}}if(n instanceof Bk)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof op)return{bytesValue:tB(a.serializer,n._byteString)};if(n instanceof Yi){const i=a.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw a.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Tk(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Vk)return function(s,o){return{mapValue:{fields:{[N9]:{stringValue:P9},[K2]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw o.Tc("VectorValues must only contain numeric values.");return _k(o.serializer,c)})}}}}}}(n,a);throw a.Tc(`Unsupported field value: ${a5(n)}`)}(e,t)}function VB(e,t){const r={};return _9(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Df(e,(n,a)=>{const i=B1(a,t.uc(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function UB(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof Zt||e instanceof Bk||e instanceof op||e instanceof Yi||e instanceof s5||e instanceof Vk)}function Wk(e,t,r){if(!UB(r)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(r)){const n=a5(r);throw n==="an object"?t.Tc(e+" a custom object"):t.Tc(e+" "+n)}}function X4(e,t,r){if((t=ol(t))instanceof R1)return t._internalPath;if(typeof t=="string")return Hk(e,t);throw rb("Field path arguments must be of type string or ",e,!1,void 0,r)}const mae=new RegExp("[~\\*/\\[\\]]");function Hk(e,t,r){if(t.search(mae)>=0)throw rb(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,r);try{return new R1(...t.split("."))._internalPath}catch{throw rb(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,r)}}function rb(e,t,r,n,a){const i=n&&!n.isEmpty(),s=a!==void 0;let o=`Function ${t}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${n}`),s&&(l+=` in document ${a}`),l+=")"),new Ut(ot.INVALID_ARGUMENT,o+e+l)}function zB(e,t){return e.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(t,r,n,a,i){this._firestore=t,this._userDataWriter=r,this._key=n,this._document=a,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Yi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new gae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(o5("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class gae extends qB{data(){return super.data()}}function o5(e,t){return typeof t=="string"?Hk(e,t):t instanceof R1?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vae(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ut(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gk{}class Kk extends Gk{}function sr(e,t,...r){let n=[];t instanceof Gk&&n.push(t),n=n.concat(r),function(i){const s=i.filter(l=>l instanceof Yk).length,o=i.filter(l=>l instanceof l5).length;if(s>1||s>0&&o>0)throw new Ut(ot.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class l5 extends Kk{constructor(t,r,n){super(),this._field=t,this._op=r,this._value=n,this.type="where"}static _create(t,r,n){return new l5(t,r,n)}_apply(t){const r=this._parse(t);return WB(t._query,r),new Lf(t.firestore,t.converter,B4(t._query,r))}_parse(t){const r=F1(t.firestore);return function(i,s,o,l,c,u,f){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ut(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){EI(f,u);const g=[];for(const m of f)g.push(TI(l,i,m));h={arrayValue:{values:g}}}else h=TI(l,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||EI(f,u),h=pae(o,s,f,u==="in"||u==="not-in");return va.create(c,u,h)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function tr(e,t,r){const n=t,a=o5("where",e);return l5._create(a,n,r)}class Yk extends Gk{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new Yk(t,r)}_parse(t){const r=this._queryConstraints.map(n=>n._parse(t)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ll.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(a,i){let s=a;const o=i.getFlattenedFilters();for(const l of o)WB(s,l),s=B4(s,l)}(t._query,r),new Lf(t.firestore,t.converter,B4(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xk extends Kk{constructor(t,r){super(),this._field=t,this._direction=r,this.type="orderBy"}static _create(t,r){return new Xk(t,r)}_apply(t){const r=function(a,i,s){if(a.startAt!==null)throw new Ut(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ut(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _v(i,s)}(t._query,this._field,this._direction);return new Lf(t.firestore,t.converter,function(a,i){const s=a.explicitOrderBy.concat([i]);return new qp(a.path,a.collectionGroup,s,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(t._query,r))}}function ka(e,t="asc"){const r=t,n=o5("orderBy",e);return Xk._create(n,r)}class Qk extends Kk{constructor(t,r,n){super(),this.type=t,this._limit=r,this._limitType=n}static _create(t,r,n){return new Qk(t,r,n)}_apply(t){return new Lf(t.firestore,t.converter,X2(t._query,this._limit,this._limitType))}}function ig(e){return iae("limit",e),Qk._create("limit",e,"F")}function TI(e,t,r){if(typeof(r=ol(r))=="string"){if(r==="")throw new Ut(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!F9(t)&&r.indexOf("/")!==-1)throw new Ut(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=t.path.child(Pn.fromString(r));if(!Jt.isDocumentKey(n))throw new Ut(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return BO(e,new Jt(n))}if(r instanceof Yi)return BO(e,r._key);throw new Ut(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${a5(r)}.`)}function EI(e,t){if(!Array.isArray(e)||e.length===0)throw new Ut(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function WB(e,t){const r=function(a,i){for(const s of a)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new Ut(ot.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ut(ot.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}class yae{convertValue(t,r="none"){switch(_f(t)){case 0:return null;case 1:return t.booleanValue;case 2:return na(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(wf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 11:return this.convertObject(t.mapValue,r);case 10:return this.convertVectorValue(t.mapValue);default:throw or(62114,{value:t})}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const n={};return Df(t,(a,i)=>{n[a]=this.convertValue(i,r)}),n}convertVectorValue(t){var r,n,a;const i=(a=(n=(r=t.fields)===null||r===void 0?void 0:r[K2].arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(s=>na(s.doubleValue));return new Vk(i)}convertGeoPoint(t){return new Bk(na(t.latitude),na(t.longitude))}convertArray(t,r){return(t.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(t,r){switch(r){case"previous":const n=Kw(t);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(xv(t));default:return null}}convertTimestamp(t){const r=bf(t);return new Zt(r.seconds,r.nanos)}convertDocumentKey(t,r){const n=Pn.fromString(t);Qr(lB(n),9688,{name:t});const a=new bv(n.get(1),n.get(3)),i=new Jt(n.popFirst(5));return a.isEqual(r)||jc(`Document ${i} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jk(e,t,r){let n;return n=e?r&&(r.merge||r.mergeFields)?e.toFirestore(t,r):e.toFirestore(t):t,n}function xae(){return new cae("count")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class HB extends qB{constructor(t,r,n,a,i,s){super(t,r,n,a,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new t2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const n=this._document.data.field(o5("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class t2 extends HB{data(t={}){return super.data(t)}}class bae{constructor(t,r,n,a){this._firestore=t,this._userDataWriter=r,this._snapshot=a,this.metadata=new sg(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(n=>{t.call(r,new t2(this._firestore,this._userDataWriter,n.key,n,new sg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new Ut(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(a,i){if(a._snapshot.oldDocs.isEmpty()){let s=0;return a._snapshot.docChanges.map(o=>{const l=new t2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new sg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new t2(a._firestore,a._userDataWriter,o.doc.key,o.doc,new sg(a._snapshot.mutatedKeys.has(o.doc.key),a._snapshot.fromCache),a.query.converter);let c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:wae(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wae(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return or(61501,{type:e})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(e){e=Us(e,Yi);const t=Us(e.firestore,Kc);return tae(M1(t),e._key).then(r=>_ae(t,e,r))}class Zk extends yae{constructor(t){super(),this.firestore=t}convertBytes(t){return new op(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new Yi(this.firestore,null,r)}}function hr(e){e=Us(e,Lf);const t=Us(e.firestore,Kc),r=M1(t),n=new Zk(t);return vae(e._query),rae(r,e._query).then(a=>new bae(t,n,e,a))}function rx(e,t,r){e=Us(e,Yi);const n=Us(e.firestore,Kc),a=Jk(e.converter,t,r);return V1(n,[zk(F1(n),"setDoc",e._key,a,e.converter!==null,r).toMutation(e._key,Ki.none())])}function Ta(e,t,r,...n){e=Us(e,Yi);const a=Us(e.firestore,Kc),i=F1(a);let s;return s=typeof(t=ol(t))=="string"||t instanceof R1?BB(i,"updateDoc",e._key,t,r,n):$B(i,"updateDoc",e._key,t),V1(a,[s.toMutation(e._key,Ki.exists(!0))])}function jh(e){return V1(Us(e.firestore,Kc),[new Zw(e._key,Ki.none())])}function Er(e,t){const r=Us(e.firestore,Kc),n=Hr(e),a=Jk(e.converter,t);return V1(r,[zk(F1(e.firestore),"addDoc",n._key,a,e.converter!==null,{}).toMutation(n._key,Ki.exists(!1))]).then(()=>n)}function V1(e,t){return function(n,a){const i=new Il;return n.asyncQueue.enqueueAndForget(async()=>Une(await Zne(n),a,i)),i.promise}(M1(e),t)}function _ae(e,t,r){const n=r.docs.get(t._key),a=new Zk(e);return new HB(e,a,t._key,n,new sg(r.hasPendingWrites,r.fromCache),t.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(e){return Sae(e,{count:xae()})}function Sae(e,t){const r=Us(e.firestore,Kc),n=M1(r),a=Ete(t,(i,s)=>new ore(s,i.aggregateType,i._internalFieldPath));return nae(n,e._query,a).then(i=>function(o,l,c){const u=new Zk(o);return new uae(l,u,c)}(r,e,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aae{constructor(t,r){this._firestore=t,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=F1(t)}set(t,r,n){this._verifyNotCommitted();const a=uS(t,this._firestore),i=Jk(a.converter,r,n),s=zk(this._dataReader,"WriteBatch.set",a._key,i,a.converter!==null,n);return this._mutations.push(s.toMutation(a._key,Ki.none())),this}update(t,r,n,...a){this._verifyNotCommitted();const i=uS(t,this._firestore);let s;return s=typeof(r=ol(r))=="string"||r instanceof R1?BB(this._dataReader,"WriteBatch.update",i._key,r,n,a):$B(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(s.toMutation(i._key,Ki.exists(!0))),this}delete(t){this._verifyNotCommitted();const r=uS(t,this._firestore);return this._mutations=this._mutations.concat(new Zw(r._key,Ki.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ut(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uS(e,t){if((e=ol(e)).firestore!==t)throw new Ut(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return new $1("deleteField")}function Ah(){return new qk("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tae(e){return M1(e=Us(e,Kc)),new Aae(e,t=>V1(e,t))}(function(t,r=!0){(function(a){Vp=a})(Kee),W2(new gv("firestore",(n,{instanceIdentifier:a,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new Kc(new ute(n.getProvider("auth-internal")),new dte(s,n.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ut(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bv(c.options.projectId,u)}(s,a),s);return i=Object.assign({useFetchStreams:r},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),O0(NO,CO,t),O0(NO,CO,"esm2017")})();const Eae={apiKey:"AIzaSyBrPAITwnh9vpsoS6W5hmuLLWPQzANOHfQ",authDomain:"aztec-warehouse.firebaseapp.com",projectId:"aztec-warehouse",storageBucket:"aztec-warehouse.firebasestorage.app",messagingSenderId:"587188643888",appId:"1:587188643888:web:2f5d9bb858e6e4bb3565f5",measurementId:"G-59VTWPJ775"},kae=l9(Eae),et=oae(kae),GB=W.createContext(void 0),xa=()=>{const e=W.useContext(GB);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Nae=({children:e})=>{const[t,r]=W.useState(()=>{const l=localStorage.getItem("user");return l?JSON.parse(l):null}),[n,a]=W.useState(!1),o={user:t,isAuthenticated:!!t,login:async(l,c)=>{a(!0);try{const u=await hr(Et(et,"users"));for(const f of u.docs){const h=f.data();if(h.username===l&&h.password===c){const d={id:f.id,username:h.username,email:h.email,name:h.name,role:h.role,password:h.password};r(d),localStorage.setItem("user",JSON.stringify(d));try{await Er(Et(et,"activityLogs"),{user:d.name,role:d.role,detail:"logged in",time:new Date().toISOString()})}catch(g){console.error("Error logging activity:",g)}return!0}}return!1}catch(u){return console.error("Login error:",u),!1}finally{a(!1)}},logout:()=>{if(t){const l={...t};r(null),localStorage.removeItem("user"),Er(Et(et,"activityLogs"),{user:l.name,role:l.role,detail:"logged out",time:new Date().toISOString()}).catch(c=>{console.error("Error logging activity:",c)})}},isLoading:n,setUser:r};return p.jsx(GB.Provider,{value:o,children:e})},KB=W.createContext(void 0),Cae=({children:e})=>{const[t,r]=W.useState(!0),n=()=>{r(!t)};return p.jsx(KB.Provider,{value:{isDarkMode:t,toggleDarkMode:n},children:e})},Jr=()=>{const e=W.useContext(KB);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e},tN=W.createContext({});function U1(e){const t=W.useRef(null);return t.current===null&&(t.current=e()),t.current}const rN=typeof window<"u",nN=rN?W.useLayoutEffect:W.useEffect,c5=W.createContext(null);function aN(e,t){e.indexOf(t)===-1&&e.push(t)}function u5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Mc=(e,t,r)=>r>t?t:r<e?e:r;let nb=()=>{};const Rc={},YB=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function XB(e){return typeof e=="object"&&e!==null}const QB=e=>/^0[^.\s]+$/u.test(e);function iN(e){let t;return()=>(t===void 0&&(t=e()),t)}const go=e=>e,Pae=(e,t)=>r=>t(e(r)),z1=(...e)=>e.reduce(Pae),lp=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class sN{constructor(){this.subscriptions=[]}add(t){return aN(this.subscriptions,t),()=>u5(this.subscriptions,t)}notify(t,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,r,n);else for(let i=0;i<a;i++){const s=this.subscriptions[i];s&&s(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const al=e=>e*1e3,Ll=e=>e/1e3;function JB(e,t){return t?e*(1e3/t):0}const Oae=(e,t,r)=>{const n=t-e;return((r-e)%n+n)%n+e},ZB=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Iae=1e-7,Dae=12;function jae(e,t,r,n,a){let i,s,o=0;do s=t+(r-t)/2,i=ZB(s,n,a)-e,i>0?r=s:t=s;while(Math.abs(i)>Iae&&++o<Dae);return s}function q1(e,t,r,n){if(e===t&&r===n)return go;const a=i=>jae(i,0,1,e,r);return i=>i===0||i===1?i:ZB(a(i),t,n)}const eV=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,tV=e=>t=>1-e(1-t),rV=q1(.33,1.53,.69,.99),oN=tV(rV),nV=eV(oN),aV=e=>(e*=2)<1?.5*oN(e):.5*(2-Math.pow(2,-10*(e-1))),lN=e=>1-Math.sin(Math.acos(e)),iV=tV(lN),sV=eV(lN),Lae=q1(.42,0,1,1),Mae=q1(0,0,.58,1),oV=q1(.42,0,.58,1),lV=e=>Array.isArray(e)&&typeof e[0]!="number";function cV(e,t){return lV(e)?e[Oae(0,e.length,t)]:e}const uV=e=>Array.isArray(e)&&typeof e[0]=="number",NI={linear:go,easeIn:Lae,easeInOut:oV,easeOut:Mae,circIn:lN,circInOut:sV,circOut:iV,backIn:oN,backInOut:nV,backOut:rV,anticipate:aV},Rae=e=>typeof e=="string",CI=e=>{if(uV(e)){nb(e.length===4);const[t,r,n,a]=e;return q1(t,r,n,a)}else if(Rae(e))return nb(NI[e]!==void 0),NI[e];return e},nx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],PI={value:null,addProjectionMetrics:null};function Fae(e,t){let r=new Set,n=new Set,a=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){s.has(f)&&(u.schedule(f),e()),l++,f(o)}const u={schedule:(f,h=!1,d=!1)=>{const m=d&&a?r:n;return h&&s.add(f),m.has(f)||m.add(f),f},cancel:f=>{n.delete(f),s.delete(f)},process:f=>{if(o=f,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),t&&PI.value&&PI.value.frameloop[t].push(l),l=0,r.clear(),a=!1,i&&(i=!1,u.process(f))}};return u}const $ae=40;function fV(e,t){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,s=nx.reduce((w,O)=>(w[O]=Fae(i,t?O:void 0),w),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:h,render:d,postRender:g}=s,m=()=>{const w=Rc.useManualTiming?a.timestamp:performance.now();r=!1,Rc.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(w-a.timestamp,$ae),1)),a.timestamp=w,a.isProcessing=!0,o.process(a),l.process(a),c.process(a),u.process(a),f.process(a),h.process(a),d.process(a),g.process(a),a.isProcessing=!1,r&&t&&(n=!1,e(m))},v=()=>{r=!0,n=!0,a.isProcessing||e(m)};return{schedule:nx.reduce((w,O)=>{const P=s[O];return w[O]=(I,E=!1,S=!1)=>(r||v(),P.schedule(I,E,S)),w},{}),cancel:w=>{for(let O=0;O<nx.length;O++)s[nx[O]].cancel(w)},state:a,steps:s}}const{schedule:Rn,cancel:Fc,state:Ja,steps:fS}=fV(typeof requestAnimationFrame<"u"?requestAnimationFrame:go,!0);let r2;function Bae(){r2=void 0}const ps={now:()=>(r2===void 0&&ps.set(Ja.isProcessing||Rc.useManualTiming?Ja.timestamp:performance.now()),r2),set:e=>{r2=e,queueMicrotask(Bae)}},hV=e=>t=>typeof t=="string"&&t.startsWith(e),cN=hV("--"),Vae=hV("var(--"),uN=e=>Vae(e)?Uae.test(e.split("/*")[0].trim()):!1,Uae=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Hp={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},kv={...Hp,transform:e=>Mc(0,1,e)},ax={...Hp,default:1},kg=e=>Math.round(e*1e5)/1e5,fN=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zae(e){return e==null}const qae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,hN=(e,t)=>r=>!!(typeof r=="string"&&qae.test(r)&&r.startsWith(e)||t&&!zae(r)&&Object.prototype.hasOwnProperty.call(r,t)),dV=(e,t,r)=>n=>{if(typeof n!="string")return n;const[a,i,s,o]=n.match(fN);return{[e]:parseFloat(a),[t]:parseFloat(i),[r]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Wae=e=>Mc(0,255,e),hS={...Hp,transform:e=>Math.round(Wae(e))},Th={test:hN("rgb","red"),parse:dV("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+hS.transform(e)+", "+hS.transform(t)+", "+hS.transform(r)+", "+kg(kv.transform(n))+")"};function Hae(e){let t="",r="",n="",a="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),a=e.substring(4,5),t+=t,r+=r,n+=n,a+=a),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const Q4={test:hN("#"),parse:Hae,transform:Th.transform},W1=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Iu=W1("deg"),Ml=W1("%"),ur=W1("px"),Gae=W1("vh"),Kae=W1("vw"),OI={...Ml,parse:e=>Ml.parse(e)/100,transform:e=>Ml.transform(e*100)},m0={test:hN("hsl","hue"),parse:dV("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Ml.transform(kg(t))+", "+Ml.transform(kg(r))+", "+kg(kv.transform(n))+")"},yi={test:e=>Th.test(e)||Q4.test(e)||m0.test(e),parse:e=>Th.test(e)?Th.parse(e):m0.test(e)?m0.parse(e):Q4.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Th.transform(e):m0.transform(e)},Yae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Xae(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(fN))==null?void 0:t.length)||0)+(((r=e.match(Yae))==null?void 0:r.length)||0)>0}const pV="number",mV="color",Qae="var",Jae="var(",II="${}",Zae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Nv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const o=t.replace(Zae,l=>(yi.test(l)?(n.color.push(i),a.push(mV),r.push(yi.parse(l))):l.startsWith(Jae)?(n.var.push(i),a.push(Qae),r.push(l)):(n.number.push(i),a.push(pV),r.push(parseFloat(l))),++i,II)).split(II);return{values:r,split:o,indexes:n,types:a}}function gV(e){return Nv(e).values}function vV(e){const{split:t,types:r}=Nv(e),n=t.length;return a=>{let i="";for(let s=0;s<n;s++)if(i+=t[s],a[s]!==void 0){const o=r[s];o===pV?i+=kg(a[s]):o===mV?i+=yi.transform(a[s]):i+=a[s]}return i}}const eie=e=>typeof e=="number"?0:e;function tie(e){const t=gV(e);return vV(e)(t.map(eie))}const Tf={test:Xae,parse:gV,createTransformer:vV,getAnimatableNone:tie};function dS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function rie({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let a=0,i=0,s=0;if(!t)a=i=s=r;else{const o=r<.5?r*(1+t):r+t-r*t,l=2*r-o;a=dS(l,o,e+1/3),i=dS(l,o,e),s=dS(l,o,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:n}}function ab(e,t){return r=>r>0?t:e}const Ln=(e,t,r)=>e+(t-e)*r,pS=(e,t,r)=>{const n=e*e,a=r*(t*t-n)+n;return a<0?0:Math.sqrt(a)},nie=[Q4,Th,m0],aie=e=>nie.find(t=>t.test(e));function DI(e){const t=aie(e);if(!t)return!1;let r=t.parse(e);return t===m0&&(r=rie(r)),r}const jI=(e,t)=>{const r=DI(e),n=DI(t);if(!r||!n)return ab(e,t);const a={...r};return i=>(a.red=pS(r.red,n.red,i),a.green=pS(r.green,n.green,i),a.blue=pS(r.blue,n.blue,i),a.alpha=Ln(r.alpha,n.alpha,i),Th.transform(a))},J4=new Set(["none","hidden"]);function iie(e,t){return J4.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function sie(e,t){return r=>Ln(e,t,r)}function dN(e){return typeof e=="number"?sie:typeof e=="string"?uN(e)?ab:yi.test(e)?jI:cie:Array.isArray(e)?yV:typeof e=="object"?yi.test(e)?jI:oie:ab}function yV(e,t){const r=[...e],n=r.length,a=e.map((i,s)=>dN(i)(i,t[s]));return i=>{for(let s=0;s<n;s++)r[s]=a[s](i);return r}}function oie(e,t){const r={...e,...t},n={};for(const a in r)e[a]!==void 0&&t[a]!==void 0&&(n[a]=dN(e[a])(e[a],t[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function lie(e,t){const r=[],n={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const i=t.types[a],s=e.indexes[i][n[i]],o=e.values[s]??0;r[a]=o,n[i]++}return r}const cie=(e,t)=>{const r=Tf.createTransformer(t),n=Nv(e),a=Nv(t);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?J4.has(e)&&!a.values.length||J4.has(t)&&!n.values.length?iie(e,t):z1(yV(lie(n,a),a.values),r):ab(e,t)};function xV(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ln(e,t,r):dN(e)(e,t)}const uie=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Rn.update(t,r),stop:()=>Fc(t),now:()=>Ja.isProcessing?Ja.timestamp:ps.now()}},bV=(e,t,r=10)=>{let n="";const a=Math.max(Math.round(t/r),2);for(let i=0;i<a;i++)n+=e(i/(a-1))+", ";return`linear(${n.substring(0,n.length-2)})`},ib=2e4;function pN(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<ib;)t+=r,n=e.next(t);return t>=ib?1/0:t}function wV(e,t=100,r){const n=r({...e,keyframes:[0,t]}),a=Math.min(pN(n),ib);return{type:"keyframes",ease:i=>n.next(a*i).value/t,duration:Ll(a)}}const fie=5;function _V(e,t,r){const n=Math.max(t-fie,0);return JB(r-e(n),t-n)}const Kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mS=.001;function hie({duration:e=Kn.duration,bounce:t=Kn.bounce,velocity:r=Kn.velocity,mass:n=Kn.mass}){let a,i,s=1-t;s=Mc(Kn.minDamping,Kn.maxDamping,s),e=Mc(Kn.minDuration,Kn.maxDuration,Ll(e)),s<1?(a=c=>{const u=c*s,f=u*e,h=u-r,d=Z4(c,s),g=Math.exp(-f);return mS-h/d*g},i=c=>{const f=c*s*e,h=f*r+r,d=Math.pow(s,2)*Math.pow(c,2)*e,g=Math.exp(-f),m=Z4(Math.pow(c,2),s);return(-a(c)+mS>0?-1:1)*((h-d)*g)/m}):(a=c=>{const u=Math.exp(-c*e),f=(c-r)*e+1;return-mS+u*f},i=c=>{const u=Math.exp(-c*e),f=(r-c)*(e*e);return u*f});const o=5/e,l=pie(a,i,o);if(e=al(e),isNaN(l))return{stiffness:Kn.stiffness,damping:Kn.damping,duration:e};{const c=Math.pow(l,2)*n;return{stiffness:c,damping:s*2*Math.sqrt(n*c),duration:e}}}const die=12;function pie(e,t,r){let n=r;for(let a=1;a<die;a++)n=n-e(n)/t(n);return n}function Z4(e,t){return e*Math.sqrt(1-t*t)}const mie=["duration","bounce"],gie=["stiffness","damping","mass"];function LI(e,t){return t.some(r=>e[r]!==void 0)}function vie(e){let t={velocity:Kn.velocity,stiffness:Kn.stiffness,damping:Kn.damping,mass:Kn.mass,isResolvedFromDuration:!1,...e};if(!LI(e,gie)&&LI(e,mie))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Mc(.05,1,1-(e.bounce||0))*Math.sqrt(a);t={...t,mass:Kn.mass,stiffness:a,damping:i}}else{const r=hie(e);t={...t,...r,mass:Kn.mass},t.isResolvedFromDuration=!0}return t}function Cv(e=Kn.visualDuration,t=Kn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],s=r.keyframes[r.keyframes.length-1],o={done:!1,value:i},{stiffness:l,damping:c,mass:u,duration:f,velocity:h,isResolvedFromDuration:d}=vie({...r,velocity:-Ll(r.velocity||0)}),g=h||0,m=c/(2*Math.sqrt(l*u)),v=s-i,y=Ll(Math.sqrt(l/u)),b=Math.abs(v)<5;n||(n=b?Kn.restSpeed.granular:Kn.restSpeed.default),a||(a=b?Kn.restDelta.granular:Kn.restDelta.default);let w;if(m<1){const P=Z4(y,m);w=I=>{const E=Math.exp(-m*y*I);return s-E*((g+m*y*v)/P*Math.sin(P*I)+v*Math.cos(P*I))}}else if(m===1)w=P=>s-Math.exp(-y*P)*(v+(g+y*v)*P);else{const P=y*Math.sqrt(m*m-1);w=I=>{const E=Math.exp(-m*y*I),S=Math.min(P*I,300);return s-E*((g+m*y*v)*Math.sinh(S)+P*v*Math.cosh(S))/P}}const O={calculatedDuration:d&&f||null,next:P=>{const I=w(P);if(d)o.done=P>=f;else{let E=P===0?g:0;m<1&&(E=P===0?al(g):_V(w,P,I));const S=Math.abs(E)<=n,A=Math.abs(s-I)<=a;o.done=S&&A}return o.value=o.done?s:I,o},toString:()=>{const P=Math.min(pN(O),ib),I=bV(E=>O.next(P*E).value,P,30);return P+"ms "+I},toTransition:()=>{}};return O}Cv.applyToOptions=e=>{const t=wV(e,100,Cv);return e.ease=t.ease,e.duration=al(t.duration),e.type="keyframes",e};function eT({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:s,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=e[0],h={done:!1,value:f},d=S=>o!==void 0&&S<o||l!==void 0&&S>l,g=S=>o===void 0?l:l===void 0||Math.abs(o-S)<Math.abs(l-S)?o:l;let m=r*t;const v=f+m,y=s===void 0?v:s(v);y!==v&&(m=y-f);const b=S=>-m*Math.exp(-S/n),w=S=>y+b(S),O=S=>{const A=b(S),D=w(S);h.done=Math.abs(A)<=c,h.value=h.done?y:D};let P,I;const E=S=>{d(h.value)&&(P=S,I=Cv({keyframes:[h.value,g(h.value)],velocity:_V(w,S,h.value),damping:a,stiffness:i,restDelta:c,restSpeed:u}))};return E(0),{calculatedDuration:null,next:S=>{let A=!1;return!I&&P===void 0&&(A=!0,O(S),E(S)),P!==void 0&&S>=P?I.next(S-P):(!A&&O(S),h)}}}function yie(e,t,r){const n=[],a=r||Rc.mix||xV,i=e.length-1;for(let s=0;s<i;s++){let o=a(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||go:t;o=z1(l,o)}n.push(o)}return n}function SV(e,t,{clamp:r=!0,ease:n,mixer:a}={}){const i=e.length;if(nb(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const s=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=yie(t,n,a),l=o.length,c=u=>{if(s&&u<e[0])return t[0];let f=0;if(l>1)for(;f<e.length-2&&!(u<e[f+1]);f++);const h=lp(e[f],e[f+1],u);return o[f](h)};return r?u=>c(Mc(e[0],e[i-1],u)):c}function AV(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const a=lp(0,t,n);e.push(Ln(r,1,a))}}function TV(e){const t=[0];return AV(t,e.length-1),t}function xie(e,t){return e.map(r=>r*t)}function bie(e,t){return e.map(()=>t||oV).splice(0,e.length-1)}function Ng({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const a=lV(n)?n.map(CI):CI(n),i={done:!1,value:t[0]},s=xie(r&&r.length===t.length?r:TV(t),e),o=SV(s,t,{ease:Array.isArray(a)?a:bie(t,a)});return{calculatedDuration:e,next:l=>(i.value=o(l),i.done=l>=e,i)}}const wie=e=>e!==null;function mN(e,{repeat:t,repeatType:r="loop"},n,a=1){const i=e.filter(wie),o=a<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!o||n===void 0?i[o]:n}const _ie={decay:eT,inertia:eT,tween:Ng,keyframes:Ng,spring:Cv};function EV(e){typeof e.type=="string"&&(e.type=_ie[e.type])}class gN{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const Sie=e=>e/100;class vN extends gN{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(r=!0)=>{var n,a;if(r){const{motionValue:i}=this.options;i&&i.updatedAt!==ps.now()&&this.tick(ps.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;EV(t);const{type:r=Ng,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:s=0}=t;let{keyframes:o}=t;const l=r||Ng;l!==Ng&&typeof o[0]!="number"&&(this.mixKeyframes=z1(Sie,xV(o[0],o[1])),o=[0,100]);const c=l({...t,keyframes:o});i==="mirror"&&(this.mirroredGenerator=l({...t,keyframes:[...o].reverse(),velocity:-s})),c.calculatedDuration===null&&(c.calculatedDuration=pN(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=c}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:s,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:h,repeatDelay:d,type:g,onUpdate:m,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-a/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),b=this.playbackSpeed>=0?y<0:y>a;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let w=this.currentTime,O=n;if(f){const S=Math.min(this.currentTime,a)/o;let A=Math.floor(S),D=S%1;!D&&S>=1&&(D=1),D===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(D=1-D,d&&(D-=d/o)):h==="mirror"&&(O=s)),w=Mc(0,1,D)*o}const P=b?{done:!1,value:u[0]}:O.next(w);i&&(P.value=i(P.value));let{done:I}=P;!b&&l!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return E&&g!==eT&&(P.value=mN(u,this.options,v,this.speed)),m&&m(P.value),E&&this.finish(),P}then(t,r){return this.finished.then(t,r)}get duration(){return Ll(this.calculatedDuration)}get time(){return Ll(this.currentTime)}set time(t){var r;t=al(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ps.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Ll(this.currentTime))}play(){var a,i;if(this.isStopped)return;const{driver:t=uie,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),(i=(a=this.options).onPlay)==null||i.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ps.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function Aie(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Eh=e=>e*180/Math.PI,tT=e=>{const t=Eh(Math.atan2(e[1],e[0]));return rT(t)},Tie={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:tT,rotateZ:tT,skewX:e=>Eh(Math.atan(e[1])),skewY:e=>Eh(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},rT=e=>(e=e%360,e<0&&(e+=360),e),MI=tT,RI=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),FI=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Eie={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:RI,scaleY:FI,scale:e=>(RI(e)+FI(e))/2,rotateX:e=>rT(Eh(Math.atan2(e[6],e[5]))),rotateY:e=>rT(Eh(Math.atan2(-e[2],e[0]))),rotateZ:MI,rotate:MI,skewX:e=>Eh(Math.atan(e[4])),skewY:e=>Eh(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nT(e){return e.includes("scale")?1:0}function aT(e,t){if(!e||e==="none")return nT(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Eie,a=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Tie,a=o}if(!a)return nT(t);const i=n[t],s=a[1].split(",").map(Nie);return typeof i=="function"?i(s):s[i]}const kie=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return aT(r,t)};function Nie(e){return parseFloat(e.trim())}const Gp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kp=new Set(Gp),$I=e=>e===Hp||e===ur,Cie=new Set(["x","y","z"]),Pie=Gp.filter(e=>!Cie.has(e));function Oie(e){const t=[];return Pie.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Lh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>aT(t,"x"),y:(e,{transform:t})=>aT(t,"y")};Lh.translateX=Lh.x;Lh.translateY=Lh.y;const Mh=new Set;let iT=!1,sT=!1,oT=!1;function kV(){if(sT){const e=Array.from(Mh).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const a=Oie(n);a.length&&(r.set(n,a),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,s])=>{var o;(o=n.getValue(i))==null||o.set(s)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}sT=!1,iT=!1,Mh.forEach(e=>e.complete(oT)),Mh.clear()}function NV(){Mh.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(sT=!0)})}function Iie(){oT=!0,NV(),kV(),oT=!1}class yN{constructor(t,r,n,a,i,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(Mh.add(this),iT||(iT=!0,Rn.read(NV),Rn.resolveKeyframes(kV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:a}=this;if(t[0]===null){const i=a==null?void 0:a.get(),s=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const o=n.readValue(r,s);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=s),a&&i===void 0&&a.set(t[0])}Aie(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Mh.delete(this)}cancel(){this.state==="scheduled"&&(Mh.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Die=e=>e.startsWith("--");function jie(e,t,r){Die(t)?e.style.setProperty(t,r):e.style[t]=r}const Lie=iN(()=>window.ScrollTimeline!==void 0),Mie={};function Rie(e,t){const r=iN(e);return()=>Mie[t]??r()}const CV=Rie(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),og=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,BI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:og([0,.65,.55,1]),circOut:og([.55,0,1,.45]),backIn:og([.31,.01,.66,-.59]),backOut:og([.33,1.53,.69,.99])};function PV(e,t){if(e)return typeof e=="function"?CV()?bV(e,t):"ease-out":uV(e)?og(e):Array.isArray(e)?e.map(r=>PV(r,t)||BI.easeOut):BI[e]}function Fie(e,t,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:s="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:r};l&&(u.offset=l);const f=PV(o,a);Array.isArray(f)&&(u.easing=f);const h={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"};return c&&(h.pseudoElement=c),e.animate(u,h)}function xN(e){return typeof e=="function"&&"applyToOptions"in e}function $ie({type:e,...t}){return xN(e)&&CV()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Bie extends gN{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:s=!1,finalKeyframe:o,onComplete:l}=t;this.isPseudoElement=!!i,this.allowFlatten=s,this.options=t,nb(typeof t.type!="string");const c=$ie(t);this.animation=Fie(r,n,a,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const u=mN(a,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):jie(r,n,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ll(Number(t))}get time(){return Ll(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=al(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Lie()?(this.animation.timeline=t,go):r(this)}}const OV={anticipate:aV,backInOut:nV,circInOut:sV};function Vie(e){return e in OV}function Uie(e){typeof e.ease=="string"&&Vie(e.ease)&&(e.ease=OV[e.ease])}const VI=10;class zie extends Bie{constructor(t){Uie(t),EV(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...s}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new vN({...s,autoplay:!1}),l=al(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-VI).value,o.sample(l).value,VI),o.stop()}}const UI=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Tf.test(e)||e==="0")&&!e.startsWith("url("));function qie(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Wie(e,t,r,n){const a=e[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],s=UI(a,t),o=UI(i,t);return!s||!o?!1:qie(e)||(r==="spring"||xN(r))&&n}function bN(e){return XB(e)&&"offsetHeight"in e}const Hie=new Set(["opacity","clipPath","filter","transform"]),Gie=iN(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kie(e){var c;const{motionValue:t,name:r,repeatDelay:n,repeatType:a,damping:i,type:s}=e;if(!bN((c=t==null?void 0:t.owner)==null?void 0:c.current))return!1;const{onUpdate:o,transformTemplate:l}=t.owner.getProps();return Gie()&&r&&Hie.has(r)&&(r!=="transform"||!l)&&!o&&!n&&a!=="mirror"&&i!==0&&s!=="inertia"}const Yie=40;class Xie extends gN{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:s="loop",keyframes:o,name:l,motionValue:c,element:u,...f}){var g;super(),this.stop=()=>{var m,v;this._animation&&(this._animation.stop(),(m=this.stopTimeline)==null||m.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ps.now();const h={autoplay:t,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:s,name:l,motionValue:c,element:u,...f},d=(u==null?void 0:u.KeyframeResolver)||yN;this.keyframeResolver=new d(o,(m,v,y)=>this.onKeyframesResolved(m,v,h,!y),l,c,u),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,a){this.keyframeResolver=void 0;const{name:i,type:s,velocity:o,delay:l,isHandoff:c,onUpdate:u}=n;this.resolvedAt=ps.now(),Wie(t,i,s,o)||((Rc.instantAnimations||!l)&&(u==null||u(mN(t,n,r))),t[0]=t[t.length-1],n.duration=0,n.repeat=0);const h={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Yie?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},d=!c&&Kie(h)?new zie({...h,element:h.motionValue.owner.current}):new vN(h);d.finished.then(()=>this.notifyFinished()).catch(go),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Iie()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class Qie{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t){const r=this.animations.map(n=>n.attachTimeline(t));return()=>{r.forEach((n,a)=>{n&&n(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Jie extends Qie{then(t,r){return this.finished.finally(t).then(()=>{})}}const Zie=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ese(e){const t=Zie.exec(e);if(!t)return[,];const[,r,n,a]=t;return[`--${r??n}`,a]}function IV(e,t,r=1){const[n,a]=ese(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const s=i.trim();return YB(s)?parseFloat(s):s}return uN(a)?IV(a,t,r+1):a}function wN(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const DV=new Set(["width","height","top","left","right","bottom",...Gp]),tse={test:e=>e==="auto",parse:e=>e},jV=e=>t=>t.test(e),LV=[Hp,ur,Ml,Iu,Kae,Gae,tse],zI=e=>LV.find(jV(e));function rse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||QB(e):!0}const nse=new Set(["brightness","contrast","saturate","opacity"]);function ase(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(fN)||[];if(!n)return e;const a=r.replace(n,"");let i=nse.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+a+")"}const ise=/\b([a-z-]*)\(.*?\)/gu,lT={...Tf,getAnimatableNone:e=>{const t=e.match(ise);return t?t.map(ase).join(" "):e}},qI={...Hp,transform:Math.round},sse={rotate:Iu,rotateX:Iu,rotateY:Iu,rotateZ:Iu,scale:ax,scaleX:ax,scaleY:ax,scaleZ:ax,skew:Iu,skewX:Iu,skewY:Iu,distance:ur,translateX:ur,translateY:ur,translateZ:ur,x:ur,y:ur,z:ur,perspective:ur,transformPerspective:ur,opacity:kv,originX:OI,originY:OI,originZ:ur},_N={borderWidth:ur,borderTopWidth:ur,borderRightWidth:ur,borderBottomWidth:ur,borderLeftWidth:ur,borderRadius:ur,radius:ur,borderTopLeftRadius:ur,borderTopRightRadius:ur,borderBottomRightRadius:ur,borderBottomLeftRadius:ur,width:ur,maxWidth:ur,height:ur,maxHeight:ur,top:ur,right:ur,bottom:ur,left:ur,padding:ur,paddingTop:ur,paddingRight:ur,paddingBottom:ur,paddingLeft:ur,margin:ur,marginTop:ur,marginRight:ur,marginBottom:ur,marginLeft:ur,backgroundPositionX:ur,backgroundPositionY:ur,...sse,zIndex:qI,fillOpacity:kv,strokeOpacity:kv,numOctaves:qI},ose={..._N,color:yi,backgroundColor:yi,outlineColor:yi,fill:yi,stroke:yi,borderColor:yi,borderTopColor:yi,borderRightColor:yi,borderBottomColor:yi,borderLeftColor:yi,filter:lT,WebkitFilter:lT},MV=e=>ose[e];function RV(e,t){let r=MV(e);return r!==lT&&(r=Tf),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const lse=new Set(["auto","none","0"]);function cse(e,t,r){let n=0,a;for(;n<e.length&&!a;){const i=e[n];typeof i=="string"&&!lse.has(i)&&Nv(i).values.length&&(a=e[n]),n++}if(a&&r)for(const i of t)e[i]=RV(r,a)}class use extends yN{constructor(t,r,n,a,i){super(t,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<t.length;l++){let c=t[l];if(typeof c=="string"&&(c=c.trim(),uN(c))){const u=IV(c,r.current);u!==void 0&&(t[l]=u),l===t.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!DV.has(n)||t.length!==2)return;const[a,i]=t,s=zI(a),o=zI(i);if(s!==o)if($I(s)&&$I(o))for(let l=0;l<t.length;l++){const c=t[l];typeof c=="string"&&(t[l]=parseFloat(c))}else Lh[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let a=0;a<t.length;a++)(t[a]===null||rse(t[a]))&&n.push(a);n.length&&cse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Lh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&t.getValue(n,a).jump(a,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,s=n[i];n[i]=Lh[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=s),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{t.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function FV(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;const a=(r==null?void 0:r[e])??n.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}const WI=30,fse=e=>!isNaN(parseFloat(e)),Cg={current:void 0};class hse{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,a=!0)=>{var s,o;const i=ps.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();a&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ps.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=fse(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new sN);const n=this.events[t].add(r);return t==="change"?()=>{n(),Rn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cg.current&&Cg.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ps.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>WI)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,WI);return JB(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Xh(e,t){return new hse(e,t)}const $V=(e,t)=>t&&typeof e=="number"?t.transform(e):e,{schedule:SN,cancel:SBe}=fV(queueMicrotask,!1),zo={x:!1,y:!1};function BV(){return zo.x||zo.y}function dse(e){return e==="x"||e==="y"?zo[e]?null:(zo[e]=!0,()=>{zo[e]=!1}):zo.x||zo.y?null:(zo.x=zo.y=!0,()=>{zo.x=zo.y=!1})}function VV(e,t){const r=FV(e),n=new AbortController,a={passive:!0,...t,signal:n.signal};return[r,a,()=>n.abort()]}function HI(e){return!(e.pointerType==="touch"||BV())}function pse(e,t,r={}){const[n,a,i]=VV(e,r),s=o=>{if(!HI(o))return;const{target:l}=o,c=t(l,o);if(typeof c!="function"||!l)return;const u=f=>{HI(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,a)};return n.forEach(o=>{o.addEventListener("pointerenter",s,a)}),i}const UV=(e,t)=>t?e===t?!0:UV(e,t.parentElement):!1,AN=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,mse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gse(e){return mse.has(e.tagName)||e.tabIndex!==-1}const n2=new WeakSet;function GI(e){return t=>{t.key==="Enter"&&e(t)}}function gS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=GI(()=>{if(n2.has(r))return;gS(r,"down");const a=GI(()=>{gS(r,"up")}),i=()=>gS(r,"cancel");r.addEventListener("keyup",a,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function KI(e){return AN(e)&&!BV()}function yse(e,t,r={}){const[n,a,i]=VV(e,r),s=o=>{const l=o.currentTarget;if(!KI(o))return;n2.add(l);const c=t(l,o),u=(d,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),n2.has(l)&&n2.delete(l),KI(d)&&typeof c=="function"&&c(d,{success:g})},f=d=>{u(d,l===window||l===document||r.useGlobalTarget||UV(l,d.target))},h=d=>{u(d,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",h,a)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",s,a),bN(o)&&(o.addEventListener("focus",c=>vse(c,a)),!gse(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),i}function TN(e){return XB(e)&&"ownerSVGElement"in e}function zV(e){return TN(e)&&e.tagName==="svg"}function xse(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],a=e[1+r],i=e[2+r],s=e[3+r],o=SV(a,i,s);return t?o(n):o}const Ba=e=>!!(e&&e.getVelocity),bse=[...LV,yi,Tf],wse=e=>bse.find(jV(e)),f5=W.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class _se extends W.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=bN(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Sse({children:e,isPresent:t,anchorX:r}){const n=W.useId(),a=W.useRef(null),i=W.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=W.useContext(f5);return W.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u,right:f}=i.current;if(t||!a.current||!o||!l)return;const h=r==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=n;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            ${h}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(d)&&document.head.removeChild(d)}},[t]),p.jsx(_se,{isPresent:t,childRef:a,sizeRef:i,children:W.cloneElement(e,{ref:a})})}const Ase=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:s,anchorX:o})=>{const l=U1(Tse),c=W.useId();let u=!0,f=W.useMemo(()=>(u=!1,{id:c,initial:t,isPresent:r,custom:a,onExitComplete:h=>{l.set(h,!0);for(const d of l.values())if(!d)return;n&&n()},register:h=>(l.set(h,!1),()=>l.delete(h))}),[r,l,n]);return i&&u&&(f={...f}),W.useMemo(()=>{l.forEach((h,d)=>l.set(d,!1))},[r]),W.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),s==="popLayout"&&(e=p.jsx(Sse,{isPresent:r,anchorX:o,children:e})),p.jsx(c5.Provider,{value:f,children:e})};function Tse(){return new Map}function qV(e=!0){const t=W.useContext(c5);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=t,i=W.useId();W.useEffect(()=>{if(e)return a(i)},[e]);const s=W.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,s]:[!0]}const ix=e=>e.key||"";function YI(e){const t=[];return W.Children.forEach(e,r=>{W.isValidElement(r)&&t.push(r)}),t}const WV=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:s=!1,anchorX:o="left"})=>{const[l,c]=qV(s),u=W.useMemo(()=>YI(e),[e]),f=s&&!l?[]:u.map(ix),h=W.useRef(!0),d=W.useRef(u),g=U1(()=>new Map),[m,v]=W.useState(u),[y,b]=W.useState(u);nN(()=>{h.current=!1,d.current=u;for(let P=0;P<y.length;P++){const I=ix(y[P]);f.includes(I)?g.delete(I):g.get(I)!==!0&&g.set(I,!1)}},[y,f.length,f.join("-")]);const w=[];if(u!==m){let P=[...u];for(let I=0;I<y.length;I++){const E=y[I],S=ix(E);f.includes(S)||(P.splice(I,0,E),w.push(E))}return i==="wait"&&w.length&&(P=w),b(YI(P)),v(u),null}const{forceRender:O}=W.useContext(tN);return p.jsx(p.Fragment,{children:y.map(P=>{const I=ix(P),E=s&&!l?!1:u===y||f.includes(I),S=()=>{if(g.has(I))g.set(I,!0);else return;let A=!0;g.forEach(D=>{D||(A=!1)}),A&&(O==null||O(),b(d.current),s&&(c==null||c()),n&&n())};return p.jsx(Ase,{isPresent:E,initial:!h.current||r?void 0:!1,custom:t,presenceAffectsLayout:a,mode:i,onExitComplete:E?void 0:S,anchorX:o,children:P},I)})})},HV=W.createContext({strict:!1}),XI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},cp={};for(const e in XI)cp[e]={isEnabled:t=>XI[e].some(r=>!!t[r])};function Ese(e){for(const t in e)cp[t]={...cp[t],...e[t]}}const kse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||kse.has(e)}let GV=e=>!sb(e);function Nse(e){e&&(GV=t=>t.startsWith("on")?!sb(t):e(t))}try{Nse(require("@emotion/is-prop-valid").default)}catch{}function Cse(e,t,r){const n={};for(const a in e)a==="values"&&typeof e.values=="object"||(GV(a)||r===!0&&sb(a)||!t&&!sb(a)||e.draggable&&a.startsWith("onDrag"))&&(n[a]=e[a]);return n}function Pse(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,a)=>a==="create"?e:(t.has(a)||t.set(a,e(a)),t.get(a))})}const h5=W.createContext({});function d5(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Pv(e){return typeof e=="string"||Array.isArray(e)}const EN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kN=["initial",...EN];function p5(e){return d5(e.animate)||kN.some(t=>Pv(e[t]))}function KV(e){return!!(p5(e)||e.variants)}function Ose(e,t){if(p5(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Pv(r)?r:void 0,animate:Pv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Ise(e){const{initial:t,animate:r}=Ose(e,W.useContext(h5));return W.useMemo(()=>({initial:t,animate:r}),[QI(t),QI(r)])}function QI(e){return Array.isArray(e)?e.join(" "):e}const Dse=Symbol.for("motionComponentSymbol");function g0(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jse(e,t,r){return W.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):g0(r)&&(r.current=n))},[t])}const NN=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Lse="framerAppearId",YV="data-"+NN(Lse),XV=W.createContext({});function Mse(e,t,r,n,a){var m,v;const{visualElement:i}=W.useContext(h5),s=W.useContext(HV),o=W.useContext(c5),l=W.useContext(f5).reducedMotion,c=W.useRef(null);n=n||s.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,f=W.useContext(XV);u&&!u.projection&&a&&(u.type==="html"||u.type==="svg")&&Rse(c.current,r,a,f);const h=W.useRef(!1);W.useInsertionEffect(()=>{u&&h.current&&u.update(r,o)});const d=r[YV],g=W.useRef(!!d&&!((m=window.MotionHandoffIsComplete)!=null&&m.call(window,d))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,d)));return nN(()=>{u&&(h.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),SN.render(u.render),g.current&&u.animationState&&u.animationState.animateChanges())}),W.useEffect(()=>{u&&(!g.current&&u.animationState&&u.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,d)}),g.current=!1))}),u}function Rse(e,t,r,n){const{layoutId:a,layout:i,drag:s,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:QV(e.parent)),e.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!s||o&&g0(o),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:l,layoutRoot:c})}function QV(e){if(e)return e.options.allowProjection!==!1?e.projection:QV(e.parent)}function Fse({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:a}){e&&Ese(e);function i(o,l){let c;const u={...W.useContext(f5),...o,layoutId:$se(o)},{isStatic:f}=u,h=Ise(o),d=n(o,f);if(!f&&rN){Bse();const g=Vse(u);c=g.MeasureLayout,h.visualElement=Mse(a,d,u,t,g.ProjectionNode)}return p.jsxs(h5.Provider,{value:h,children:[c&&h.visualElement?p.jsx(c,{visualElement:h.visualElement,...u}):null,r(a,o,jse(d,h.visualElement,l),d,f,h.visualElement)]})}i.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const s=W.forwardRef(i);return s[Dse]=a,s}function $se({layoutId:e}){const t=W.useContext(tN).id;return t&&e!==void 0?t+"-"+e:e}function Bse(e,t){W.useContext(HV).strict}function Vse(e){const{drag:t,layout:r}=cp;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Ov={};function Use(e){for(const t in e)Ov[t]=e[t],cN(t)&&(Ov[t].isCSSVariable=!0)}function JV(e,{layout:t,layoutId:r}){return Kp.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ov[e]||e==="opacity")}const zse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qse=Gp.length;function Wse(e,t,r){let n="",a=!0;for(let i=0;i<qse;i++){const s=Gp[i],o=e[s];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(s.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const c=$V(o,_N[s]);if(!l){a=!1;const u=zse[s]||s;n+=`${u}(${c}) `}r&&(t[s]=c)}}return n=n.trim(),r?n=r(t,a?"":n):a&&(n="none"),n}function CN(e,t,r){const{style:n,vars:a,transformOrigin:i}=e;let s=!1,o=!1;for(const l in t){const c=t[l];if(Kp.has(l)){s=!0;continue}else if(cN(l)){a[l]=c;continue}else{const u=$V(c,_N[l]);l.startsWith("origin")?(o=!0,i[l]=u):n[l]=u}}if(t.transform||(s||r?n.transform=Wse(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=i;n.transformOrigin=`${l} ${c} ${u}`}}const PN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZV(e,t,r){for(const n in t)!Ba(t[n])&&!JV(n,r)&&(e[n]=t[n])}function Hse({transformTemplate:e},t){return W.useMemo(()=>{const r=PN();return CN(r,t,e),Object.assign({},r.vars,r.style)},[t])}function Gse(e,t){const r=e.style||{},n={};return ZV(n,r,e),Object.assign(n,Hse(e,t)),n}function Kse(e,t){const r={},n=Gse(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const Yse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xse={offset:"strokeDashoffset",array:"strokeDasharray"};function Qse(e,t,r=1,n=0,a=!0){e.pathLength=1;const i=a?Yse:Xse;e[i.offset]=ur.transform(-n);const s=ur.transform(t),o=ur.transform(r);e[i.array]=`${s} ${o}`}function eU(e,{attrX:t,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:s=0,...o},l,c,u){if(CN(e,o,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Qse(f,a,i,s,!1)}const tU=()=>({...PN(),attrs:{}}),rU=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Jse(e,t,r,n){const a=W.useMemo(()=>{const i=tU();return eU(i,t,rU(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ZV(i,e.style,e),a.style={...i,...a.style}}return a}const Zse=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ON(e){return typeof e!="string"||e.includes("-")?!1:!!(Zse.indexOf(e)>-1||/[A-Z]/u.test(e))}function eoe(e=!1){return(r,n,a,{latestValues:i},s)=>{const l=(ON(r)?Jse:Kse)(n,i,s,r),c=Cse(n,typeof r=="string",e),u=r!==W.Fragment?{...c,...l,ref:a}:{},{children:f}=n,h=W.useMemo(()=>Ba(f)?f.get():f,[f]);return W.createElement(r,{...u,children:h})}}function JI(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function IN(e,t,r,n){if(typeof t=="function"){const[a,i]=JI(n);t=t(r!==void 0?r:e.custom,a,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[a,i]=JI(n);t=t(r!==void 0?r:e.custom,a,i)}return t}function a2(e){return Ba(e)?e.get():e}function toe({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,a){return{latestValues:roe(r,n,a,e),renderState:t()}}const nU=e=>(t,r)=>{const n=W.useContext(h5),a=W.useContext(c5),i=()=>toe(e,t,n,a);return r?i():U1(i)};function roe(e,t,r,n){const a={},i=n(e,{});for(const h in i)a[h]=a2(i[h]);let{initial:s,animate:o}=e;const l=p5(e),c=KV(e);t&&c&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||s===!1;const f=u?o:s;if(f&&typeof f!="boolean"&&!d5(f)){const h=Array.isArray(f)?f:[f];for(let d=0;d<h.length;d++){const g=IN(e,h[d]);if(g){const{transitionEnd:m,transition:v,...y}=g;for(const b in y){let w=y[b];if(Array.isArray(w)){const O=u?w.length-1:0;w=w[O]}w!==null&&(a[b]=w)}for(const b in m)a[b]=m[b]}}}return a}function DN(e,t,r){var i;const{style:n}=e,a={};for(const s in n)(Ba(n[s])||t.style&&Ba(t.style[s])||JV(s,e)||((i=r==null?void 0:r.getValue(s))==null?void 0:i.liveStyle)!==void 0)&&(a[s]=n[s]);return a}const noe={useVisualState:nU({scrapeMotionValuesFromProps:DN,createRenderState:PN})};function aU(e,t,r){const n=DN(e,t,r);for(const a in e)if(Ba(e[a])||Ba(t[a])){const i=Gp.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=e[a]}return n}const aoe={useVisualState:nU({scrapeMotionValuesFromProps:aU,createRenderState:tU})};function ioe(e,t){return function(n,{forwardMotionProps:a}={forwardMotionProps:!1}){const s={...ON(n)?aoe:noe,preloadedFeatures:e,useRender:eoe(a),createVisualElement:t,Component:n};return Fse(s)}}function Iv(e,t,r){const n=e.getProps();return IN(n,t,r!==void 0?r:n.custom,e)}const cT=e=>Array.isArray(e);function soe(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Xh(r))}function ooe(e){return cT(e)?e[e.length-1]||0:e}function loe(e,t){const r=Iv(e,t);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const s in i){const o=ooe(i[s]);soe(e,s,o)}}function coe(e){return!!(Ba(e)&&e.add)}function uT(e,t){const r=e.getValue("willChange");if(coe(r))return r.add(t);if(!r&&Rc.WillChange){const n=new Rc.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function iU(e){return e.props[YV]}const uoe=e=>e!==null;function foe(e,{repeat:t,repeatType:r="loop"},n){const a=e.filter(uoe),i=t&&r!=="loop"&&t%2===1?0:a.length-1;return!i||n===void 0?a[i]:n}const hoe={type:"spring",stiffness:500,damping:25,restSpeed:10},doe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),poe={type:"keyframes",duration:.8},moe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},goe=(e,{keyframes:t})=>t.length>2?poe:Kp.has(e)?e.startsWith("scale")?doe(t[1]):hoe:moe;function voe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:s,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const jN=(e,t,r,n={},a,i)=>s=>{const o=wN(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-al(l);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:h=>{t.set(h),o.onUpdate&&o.onUpdate(h)},onComplete:()=>{s(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:i?void 0:a};voe(o)||Object.assign(u,goe(e,u)),u.duration&&(u.duration=al(u.duration)),u.repeatDelay&&(u.repeatDelay=al(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(f=!0)),(Rc.instantAnimations||Rc.skipAnimations)&&(f=!0,u.duration=0,u.delay=0),u.allowFlatten=!o.type&&!o.ease,f&&!i&&t.get()!==void 0){const h=foe(u.keyframes,o);if(h!==void 0){Rn.update(()=>{u.onUpdate(h),u.onComplete()});return}}return o.isSync?new vN(u):new Xie(u)};function yoe({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function LN(e,t,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:s,...o}=t;n&&(i=n);const l=[],c=a&&e.animationState&&e.animationState.getState()[a];for(const u in o){const f=e.getValue(u,e.latestValues[u]??null),h=o[u];if(h===void 0||c&&yoe(c,u))continue;const d={delay:r,...wN(i||{},u)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!d.velocity)continue;let m=!1;if(window.MotionHandoffAnimation){const y=iU(e);if(y){const b=window.MotionHandoffAnimation(y,u,Rn);b!==null&&(d.startTime=b,m=!0)}}uT(e,u),f.start(jN(u,f,h,e.shouldReduceMotion&&DV.has(u)?{type:!1}:d,e,m));const v=f.animation;v&&l.push(v)}return s&&Promise.all(l).then(()=>{Rn.update(()=>{s&&loe(e,s)})}),l}function fT(e,t,r={}){var l;const n=Iv(e,t,r.type==="exit"?(l=e.presenceContext)==null?void 0:l.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(LN(e,n,r)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:h}=a;return xoe(e,t,u+c,f,h,r)}:()=>Promise.resolve(),{when:o}=a;if(o){const[c,u]=o==="beforeChildren"?[i,s]:[s,i];return c().then(()=>u())}else return Promise.all([i(),s(r.delay)])}function xoe(e,t,r=0,n=0,a=1,i){const s=[],o=(e.variantChildren.size-1)*n,l=a===1?(c=0)=>c*n:(c=0)=>o-c*n;return Array.from(e.variantChildren).sort(boe).forEach((c,u)=>{c.notify("AnimationStart",t),s.push(fT(c,t,{...i,delay:r+l(u)}).then(()=>c.notify("AnimationComplete",t)))}),Promise.all(s)}function boe(e,t){return e.sortNodePosition(t)}function woe(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const a=t.map(i=>fT(e,i,r));n=Promise.all(a)}else if(typeof t=="string")n=fT(e,t,r);else{const a=typeof t=="function"?Iv(e,t,r.custom):t;n=Promise.all(LN(e,a,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function sU(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const _oe=kN.length;function oU(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?oU(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<_oe;r++){const n=kN[r],a=e.props[n];(Pv(a)||a===!1)&&(t[n]=a)}return t}const Soe=[...EN].reverse(),Aoe=EN.length;function Toe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>woe(e,r,n)))}function Eoe(e){let t=Toe(e),r=ZI(),n=!0;const a=l=>(c,u)=>{var h;const f=Iv(e,u,l==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:d,transitionEnd:g,...m}=f;c={...c,...m,...g}}return c};function i(l){t=l(e)}function s(l){const{props:c}=e,u=oU(e.parent)||{},f=[],h=new Set;let d={},g=1/0;for(let v=0;v<Aoe;v++){const y=Soe[v],b=r[y],w=c[y]!==void 0?c[y]:u[y],O=Pv(w),P=y===l?b.isActive:null;P===!1&&(g=v);let I=w===u[y]&&w!==c[y]&&O;if(I&&n&&e.manuallyAnimateOnMount&&(I=!1),b.protectedKeys={...d},!b.isActive&&P===null||!w&&!b.prevProp||d5(w)||typeof w=="boolean")continue;const E=koe(b.prevProp,w);let S=E||y===l&&b.isActive&&!I&&O||v>g&&O,A=!1;const D=Array.isArray(w)?w:[w];let T=D.reduce(a(y),{});P===!1&&(T={});const{prevResolvedValues:k={}}=b,j={...k,...T},V=J=>{S=!0,h.has(J)&&(A=!0,h.delete(J)),b.needsAnimating[J]=!0;const H=e.getValue(J);H&&(H.liveStyle=!1)};for(const J in j){const H=T[J],U=k[J];if(d.hasOwnProperty(J))continue;let re=!1;cT(H)&&cT(U)?re=!sU(H,U):re=H!==U,re?H!=null?V(J):h.add(J):H!==void 0&&h.has(J)?V(J):b.protectedKeys[J]=!0}b.prevProp=w,b.prevResolvedValues=T,b.isActive&&(d={...d,...T}),n&&e.blockInitialAnimation&&(S=!1),S&&(!(I&&E)||A)&&f.push(...D.map(J=>({animation:J,options:{type:y}})))}if(h.size){const v={};if(typeof c.initial!="boolean"){const y=Iv(e,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}h.forEach(y=>{const b=e.getBaseTarget(y),w=e.getValue(y);w&&(w.liveStyle=!0),v[y]=b??null}),f.push({animation:v})}let m=!!f.length;return n&&(c.initial===!1||c.initial===c.animate)&&!e.manuallyAnimateOnMount&&(m=!1),n=!1,m?t(f):Promise.resolve()}function o(l,c){var f;if(r[l].isActive===c)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var d;return(d=h.animationState)==null?void 0:d.setActive(l,c)}),r[l].isActive=c;const u=s(l);for(const h in r)r[h].protectedKeys={};return u}return{animateChanges:s,setActive:o,setAnimateFunction:i,getState:()=>r,reset:()=>{r=ZI(),n=!0}}}function koe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!sU(t,e):!1}function oh(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ZI(){return{animate:oh(!0),whileInView:oh(),whileHover:oh(),whileTap:oh(),whileDrag:oh(),whileFocus:oh(),exit:oh()}}class Mf{constructor(t){this.isMounted=!1,this.node=t}update(){}}class Noe extends Mf{constructor(t){super(t),t.animationState||(t.animationState=Eoe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();d5(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Coe=0;class Poe extends Mf{constructor(){super(...arguments),this.id=Coe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const a=this.node.animationState.setActive("exit",!t);r&&!t&&a.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const Ooe={animation:{Feature:Noe},exit:{Feature:Poe}};function Dv(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function H1(e){return{point:{x:e.pageX,y:e.pageY}}}const Ioe=e=>t=>AN(t)&&e(t,H1(t));function Pg(e,t,r,n){return Dv(e,t,Ioe(r),n)}function lU({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Doe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function joe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}const cU=1e-4,Loe=1-cU,Moe=1+cU,uU=.01,Roe=0-uU,Foe=0+uU;function zi(e){return e.max-e.min}function $oe(e,t,r){return Math.abs(e-t)<=r}function e8(e,t,r,n=.5){e.origin=n,e.originPoint=Ln(t.min,t.max,e.origin),e.scale=zi(r)/zi(t),e.translate=Ln(r.min,r.max,e.origin)-e.originPoint,(e.scale>=Loe&&e.scale<=Moe||isNaN(e.scale))&&(e.scale=1),(e.translate>=Roe&&e.translate<=Foe||isNaN(e.translate))&&(e.translate=0)}function Og(e,t,r,n){e8(e.x,t.x,r.x,n?n.originX:void 0),e8(e.y,t.y,r.y,n?n.originY:void 0)}function t8(e,t,r){e.min=r.min+t.min,e.max=e.min+zi(t)}function Boe(e,t,r){t8(e.x,t.x,r.x),t8(e.y,t.y,r.y)}function r8(e,t,r){e.min=t.min-r.min,e.max=e.min+zi(t)}function Ig(e,t,r){r8(e.x,t.x,r.x),r8(e.y,t.y,r.y)}const n8=()=>({translate:0,scale:1,origin:0,originPoint:0}),v0=()=>({x:n8(),y:n8()}),a8=()=>({min:0,max:0}),Hn=()=>({x:a8(),y:a8()});function oo(e){return[e("x"),e("y")]}function vS(e){return e===void 0||e===1}function hT({scale:e,scaleX:t,scaleY:r}){return!vS(e)||!vS(t)||!vS(r)}function hh(e){return hT(e)||fU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function fU(e){return i8(e.x)||i8(e.y)}function i8(e){return e&&e!=="0%"}function ob(e,t,r){const n=e-r,a=t*n;return r+a}function s8(e,t,r,n,a){return a!==void 0&&(e=ob(e,a,n)),ob(e,r,n)+t}function dT(e,t=0,r=1,n,a){e.min=s8(e.min,t,r,n,a),e.max=s8(e.max,t,r,n,a)}function hU(e,{x:t,y:r}){dT(e.x,t.translate,t.scale,t.originPoint),dT(e.y,r.translate,r.scale,r.originPoint)}const o8=.999999999999,l8=1.0000000000001;function Voe(e,t,r,n=!1){const a=r.length;if(!a)return;t.x=t.y=1;let i,s;for(let o=0;o<a;o++){i=r[o],s=i.projectionDelta;const{visualElement:l}=i.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&x0(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,hU(e,s)),n&&hh(i.latestValues)&&x0(e,i.latestValues))}t.x<l8&&t.x>o8&&(t.x=1),t.y<l8&&t.y>o8&&(t.y=1)}function y0(e,t){e.min=e.min+t,e.max=e.max+t}function c8(e,t,r,n,a=.5){const i=Ln(e.min,e.max,a);dT(e,t,r,i,n)}function x0(e,t){c8(e.x,t.x,t.scaleX,t.scale,t.originX),c8(e.y,t.y,t.scaleY,t.scale,t.originY)}function dU(e,t){return lU(joe(e.getBoundingClientRect(),t))}function Uoe(e,t,r){const n=dU(e,r),{scroll:a}=t;return a&&(y0(n.x,a.offset.x),y0(n.y,a.offset.y)),n}const pU=({current:e})=>e?e.ownerDocument.defaultView:null,u8=(e,t)=>Math.abs(e-t);function zoe(e,t){const r=u8(e.x,t.x),n=u8(e.y,t.y);return Math.sqrt(r**2+n**2)}class mU{constructor(t,r,{transformPagePoint:n,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xS(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=zoe(f.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:g}=f,{timestamp:m}=Ja;this.history.push({...g,timestamp:m});const{onStart:v,onMove:y}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=yS(h,this.transformPagePoint),Rn.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:d,onSessionEnd:g,resumeAnimation:m}=this.handlers;if(this.dragSnapToOrigin&&m&&m(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xS(f.type==="pointercancel"?this.lastMoveEventInfo:yS(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(f,v),g&&g(f,v)},!AN(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=a||window;const s=H1(t),o=yS(s,this.transformPagePoint),{point:l}=o,{timestamp:c}=Ja;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=r;u&&u(t,xS(o,this.history)),this.removeListeners=z1(Pg(this.contextWindow,"pointermove",this.handlePointerMove),Pg(this.contextWindow,"pointerup",this.handlePointerUp),Pg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Fc(this.updatePoint)}}function yS(e,t){return t?{point:t(e.point)}:e}function f8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xS({point:e},t){return{point:e,delta:f8(e,gU(t)),offset:f8(e,qoe(t)),velocity:Woe(t,.1)}}function qoe(e){return e[0]}function gU(e){return e[e.length-1]}function Woe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const a=gU(e);for(;r>=0&&(n=e[r],!(a.timestamp-n.timestamp>al(t)));)r--;if(!n)return{x:0,y:0};const i=Ll(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const s={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Hoe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ln(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ln(r,e,n.max):Math.min(e,r)),e}function h8(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Goe(e,{top:t,left:r,bottom:n,right:a}){return{x:h8(e.x,r,a),y:h8(e.y,t,n)}}function d8(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function Koe(e,t){return{x:d8(e.x,t.x),y:d8(e.y,t.y)}}function Yoe(e,t){let r=.5;const n=zi(e),a=zi(t);return a>n?r=lp(t.min,t.max-n,e.min):n>a&&(r=lp(e.min,e.max-a,t.min)),Mc(0,1,r)}function Xoe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const pT=.35;function Qoe(e=pT){return e===!1?e=0:e===!0&&(e=pT),{x:p8(e,"left","right"),y:p8(e,"top","bottom")}}function p8(e,t,r){return{min:m8(e,t),max:m8(e,r)}}function m8(e,t){return typeof e=="number"?e:e[t]||0}const Joe=new WeakMap;class Zoe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(H1(u).point)},i=(u,f)=>{const{drag:h,dragPropagation:d,onDragStart:g}=this.getProps();if(h&&!d&&(this.openDragLock&&this.openDragLock(),this.openDragLock=dse(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),oo(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Ml.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[v];w&&(y=zi(w)*(parseFloat(y)/100))}}this.originPoint[v]=y}),g&&Rn.postRender(()=>g(u,f)),uT(this.visualElement,"transform");const{animationState:m}=this.visualElement;m&&m.setActive("whileDrag",!0)},s=(u,f)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:g,onDrag:m}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:v}=f;if(d&&this.currentDirection===null){this.currentDirection=ele(v),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),m&&m(u,f)},o=(u,f)=>this.stop(u,f),l=()=>oo(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new mU(t,{onSessionStart:a,onStart:i,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:pU(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&Rn.postRender(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:a}=this.getProps();if(!n||!sx(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let s=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(s=Hoe(s,this.constraints[t],this.elastic[t])),i.set(s)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,a=this.constraints;t&&g0(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=Goe(n.layoutBox,t):this.constraints=!1,this.elastic=Qoe(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&oo(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=Xoe(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!g0(t))return!1;const n=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Uoe(n,a.root,this.visualElement.getTransformPagePoint());let s=Koe(a.layout.layoutBox,i);if(r){const o=r(Doe(s));this.hasMutatedConstraints=!!o,o&&(s=lU(o))}return s}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=oo(u=>{if(!sx(u,r,this.currentDirection))return;let f=l&&l[u]||{};s&&(f={min:0,max:0});const h=a?200:1e6,d=a?40:1e7,g={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return uT(this.visualElement,t),n.start(jN(t,n,0,r,this.visualElement,!1))}stopAnimation(){oo(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){oo(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){oo(r=>{const{drag:n}=this.getProps();if(!sx(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:s,max:o}=a.layout.layoutBox[r];i.set(t[r]-Ln(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!g0(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};oo(s=>{const o=this.getAxisMotionValue(s);if(o&&this.constraints!==!1){const l=o.get();a[s]=Yoe({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),oo(s=>{if(!sx(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];o.set(Ln(l,c,a[s]))})}addListeners(){if(!this.visualElement.current)return;Joe.set(this.visualElement,this);const t=this.visualElement.current,r=Pg(t,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();g0(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Rn.read(n);const s=Dv(window,"resize",()=>this.scalePositionWithinConstraints()),o=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(oo(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:s=pT,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:s,dragMomentum:o}}}function sx(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ele(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class tle extends Mf{constructor(t){super(t),this.removeGroupControls=go,this.removeListeners=go,this.controls=new Zoe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||go}unmount(){this.removeGroupControls(),this.removeListeners()}}const g8=e=>(t,r)=>{e&&Rn.postRender(()=>e(t,r))};class rle extends Mf{constructor(){super(...arguments),this.removePointerDownListener=go}onPointerDown(t){this.session=new mU(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pU(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:g8(t),onStart:g8(r),onMove:n,onEnd:(i,s)=>{delete this.session,a&&Rn.postRender(()=>a(i,s))}}}mount(){this.removePointerDownListener=Pg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const i2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function v8(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Lm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ur.test(e))e=parseFloat(e);else return e;const r=v8(e,t.target.x),n=v8(e,t.target.y);return`${r}% ${n}%`}},nle={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,a=Tf.parse(e);if(a.length>5)return n;const i=Tf.createTransformer(e),s=typeof a[0]!="number"?1:0,o=r.x.scale*t.x,l=r.y.scale*t.y;a[0+s]/=o,a[1+s]/=l;const c=Ln(o,l,.5);return typeof a[2+s]=="number"&&(a[2+s]/=c),typeof a[3+s]=="number"&&(a[3+s]/=c),i(a)}};class ale extends W.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=t;Use(ile),i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),i2.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:s}=n;return s&&(s.isPresent=i,a||t.layoutDependency!==r||r===void 0||t.isPresent!==i?s.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?s.promote():s.relegate()||Rn.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),SN.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vU(e){const[t,r]=qV(),n=W.useContext(tN);return p.jsx(ale,{...e,layoutGroup:n,switchLayoutGroup:W.useContext(XV),isPresent:t,safeToRemove:r})}const ile={borderRadius:{...Lm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Lm,borderTopRightRadius:Lm,borderBottomLeftRadius:Lm,borderBottomRightRadius:Lm,boxShadow:nle};function yU(e,t,r){const n=Ba(e)?e:Xh(e);return n.start(jN("",n,t,r)),n.animation}const sle=(e,t)=>e.depth-t.depth;class ole{constructor(){this.children=[],this.isDirty=!1}add(t){aN(this.children,t),this.isDirty=!0}remove(t){u5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sle),this.isDirty=!1,this.children.forEach(t)}}function lle(e,t){const r=ps.now(),n=({timestamp:a})=>{const i=a-r;i>=t&&(Fc(n),e(i-t))};return Rn.setup(n,!0),()=>Fc(n)}const xU=["TopLeft","TopRight","BottomLeft","BottomRight"],cle=xU.length,y8=e=>typeof e=="string"?parseFloat(e):e,x8=e=>typeof e=="number"||ur.test(e);function ule(e,t,r,n,a,i){a?(e.opacity=Ln(0,r.opacity??1,fle(n)),e.opacityExit=Ln(t.opacity??1,0,hle(n))):i&&(e.opacity=Ln(t.opacity??1,r.opacity??1,n));for(let s=0;s<cle;s++){const o=`border${xU[s]}Radius`;let l=b8(t,o),c=b8(r,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||x8(l)===x8(c)?(e[o]=Math.max(Ln(y8(l),y8(c),n),0),(Ml.test(c)||Ml.test(l))&&(e[o]+="%")):e[o]=c}(t.rotate||r.rotate)&&(e.rotate=Ln(t.rotate||0,r.rotate||0,n))}function b8(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fle=bU(0,.5,iV),hle=bU(.5,.95,go);function bU(e,t,r){return n=>n<e?0:n>t?1:r(lp(e,t,n))}function w8(e,t){e.min=t.min,e.max=t.max}function to(e,t){w8(e.x,t.x),w8(e.y,t.y)}function _8(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function S8(e,t,r,n,a){return e-=t,e=ob(e,1/r,n),a!==void 0&&(e=ob(e,1/a,n)),e}function dle(e,t=0,r=1,n=.5,a,i=e,s=e){if(Ml.test(t)&&(t=parseFloat(t),t=Ln(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Ln(i.min,i.max,n);e===i&&(o-=t),e.min=S8(e.min,t,r,o,a),e.max=S8(e.max,t,r,o,a)}function A8(e,t,[r,n,a],i,s){dle(e,t[r],t[n],t[a],t.scale,i,s)}const ple=["x","scaleX","originX"],mle=["y","scaleY","originY"];function T8(e,t,r,n){A8(e.x,t,ple,r?r.x:void 0,n?n.x:void 0),A8(e.y,t,mle,r?r.y:void 0,n?n.y:void 0)}function E8(e){return e.translate===0&&e.scale===1}function wU(e){return E8(e.x)&&E8(e.y)}function k8(e,t){return e.min===t.min&&e.max===t.max}function gle(e,t){return k8(e.x,t.x)&&k8(e.y,t.y)}function N8(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _U(e,t){return N8(e.x,t.x)&&N8(e.y,t.y)}function C8(e){return zi(e.x)/zi(e.y)}function P8(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vle{constructor(){this.members=[]}add(t){aN(this.members,t),t.scheduleRender()}remove(t){if(u5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(a=>t===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yle(e,t,r){let n="";const a=e.x.translate/t.x,i=e.y.translate/t.y,s=(r==null?void 0:r.z)||0;if((a||i||s)&&(n=`translate3d(${a}px, ${i}px, ${s}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:h,skewX:d,skewY:g}=r;c&&(n=`perspective(${c}px) ${n}`),u&&(n+=`rotate(${u}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),d&&(n+=`skewX(${d}deg) `),g&&(n+=`skewY(${g}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const bS=["","X","Y","Z"],xle={visibility:"hidden"},ble=1e3;let wle=0;function wS(e,t,r,n){const{latestValues:a}=t;a[e]&&(r[e]=a[e],t.setStaticValue(e,0),n&&(n[e]=0))}function SU(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=iU(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Rn,!(a||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&SU(n)}function AU({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(s={},o=t==null?void 0:t()){this.id=wle++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Ale),this.nodes.forEach(Cle),this.nodes.forEach(Ple),this.nodes.forEach(Tle)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new ole)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new sN),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s){if(this.instance)return;this.isSVG=TN(s)&&!zV(s),this.instance=s;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),e){let u;const f=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=lle(f,250),i2.hasAnimatedSinceResize&&(i2.hasAnimatedSinceResize=!1,this.nodes.forEach(I8))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:d})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||c.getDefaultTransition()||Lle,{onLayoutAnimationStart:m,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!_U(this.targetLayout,d),b=!f&&h;if(this.options.layoutRoot||this.resumeFrom||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,b);const w={...wN(g,"layout"),onPlay:m,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||I8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=d})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Fc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Ole),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SU(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(O8);return}this.isUpdating||this.nodes.forEach(kle),this.isUpdating=!1,this.nodes.forEach(Nle),this.nodes.forEach(_le),this.nodes.forEach(Sle),this.clearAllSnapshots();const o=ps.now();Ja.delta=Mc(0,1e3/60,o-Ja.timestamp),Ja.timestamp=o,Ja.isProcessing=!0,fS.update.process(Ja),fS.preRender.process(Ja),fS.render.process(Ja),Ja.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,SN.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ele),this.sharedNodes.forEach(Ile)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Rn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Rn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!zi(this.snapshot.measuredBox.x)&&!zi(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:s,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!a)return;const s=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!wU(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&this.instance&&(o||hh(this.latestValues)||u)&&(a(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),Mle(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:s}=this.options;if(!s)return Hn();const o=s.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(Rle))){const{scroll:u}=this.root;u&&(y0(o.x,u.offset.x),y0(o.y,u.offset.y))}return o}removeElementScroll(s){var l;const o=Hn();if(to(o,s),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:h}=u;u!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&to(o,s),y0(o.x,f.offset.x),y0(o.y,f.offset.y))}return o}applyTransform(s,o=!1){const l=Hn();to(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&x0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hh(u.latestValues)&&x0(l,u.latestValues)}return hh(this.latestValues)&&x0(l,this.latestValues),l}removeTransform(s){const o=Hn();to(o,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hh(c.latestValues))continue;hT(c.latestValues)&&c.updateSnapshot();const u=Hn(),f=c.measurePageBox();to(u,f),T8(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hh(this.latestValues)&&T8(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ja.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var h;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(s||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!(!this.layout||!(u||f))){if(this.resolvedRelativeTargetAt=Ja.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Ig(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),to(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Boe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):to(this.target,this.layout.layoutBox),hU(this.target,this.targetDelta)):to(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Ig(this.relativeTargetOrigin,this.target,d.target),to(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hT(this.parent.latestValues)||fU(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const s=this.getLead(),o=!!this.resumingFrom||this!==s;let l=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ja.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;to(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Voe(this.layoutCorrected,this.treeScale,this.path,o),s.layout&&!s.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(s.target=s.layout.layoutBox,s.targetWithTransforms=Hn());const{target:d}=s;if(!d){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_8(this.prevProjectionDelta.x,this.projectionDelta.x),_8(this.prevProjectionDelta.y,this.projectionDelta.y)),Og(this.projectionDelta,this.layoutCorrected,d,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!P8(this.projectionDelta.x,this.prevProjectionDelta.x)||!P8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",d))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=v0(),this.projectionDelta=v0(),this.projectionDeltaWithTransform=v0()}setAnimationOrigin(s,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=v0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Hn(),d=l?l.source:void 0,g=this.layout?this.layout.source:void 0,m=d!==g,v=this.getStack(),y=!v||v.members.length<=1,b=!!(m&&!y&&this.options.crossfade===!0&&!this.path.some(jle));this.animationProgress=0;let w;this.mixTargetDelta=O=>{const P=O/1e3;D8(f.x,s.x,P),D8(f.y,s.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Dle(this.relativeTarget,this.relativeTargetOrigin,h,P),w&&gle(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Hn()),to(w,this.relativeTarget)),m&&(this.animationValues=u,ule(u,c,this.latestValues,P,b,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(!1),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(Fc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Rn.update(()=>{i2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Xh(0)),this.currentAnimation=yU(this.motionValue,[0,1e3],{...s,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),s.onUpdate&&s.onUpdate(u)},onStop:()=>{},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ble),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=s;if(!(!o||!l||!c)){if(this!==s&&this.layout&&c&&TU(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Hn();const f=zi(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=zi(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}to(o,l),x0(o,u),Og(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new vle),this.sharedNodes.get(s).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var o;const{layoutId:s}=this.options;return s?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:s}=this.options;return s?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetSkewAndRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&wS("z",s,c,this.animationValues);for(let u=0;u<bS.length;u++)wS(`rotate${bS[u]}`,s,c,this.animationValues),wS(`skew${bS[u]}`,s,c,this.animationValues);s.render();for(const u in c)s.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);s.scheduleRender()}getProjectionStyles(s){if(!this.instance||this.isSVG)return;if(!this.isVisible)return xle;const o={visibility:""},l=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,o.opacity="",o.pointerEvents=a2(s==null?void 0:s.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none",o;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const d={};return this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=a2(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!hh(this.latestValues)&&(d.transform=l?l({},""):"none",this.hasProjected=!1),d}const u=c.animationValues||c.latestValues;this.applyTransformsToTarget(),o.transform=yle(this.projectionDeltaWithTransform,this.treeScale,u),l&&(o.transform=l(u,o.transform));const{x:f,y:h}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const d in Ov){if(u[d]===void 0)continue;const{correct:g,applyTo:m,isCSSVariable:v}=Ov[d],y=o.transform==="none"?u[d]:g(u[d],c);if(m){const b=m.length;for(let w=0;w<b;w++)o[m[w]]=y}else v?this.options.visualElement.renderState.vars[d]=y:o[d]=y}return this.options.layoutId&&(o.pointerEvents=c===this?a2(s==null?void 0:s.pointerEvents)||"":"none"),o}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)==null?void 0:o.stop(!1)}),this.root.nodes.forEach(O8),this.root.sharedNodes.clear()}}}function _le(e){e.updateLayout()}function Sle(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=e.layout,{animationType:i}=e.options,s=t.source!==e.layout.source;i==="size"?oo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=zi(h);h.min=n[f].min,h.max=h.min+d}):TU(i,t.layoutBox,n)&&oo(f=>{const h=s?t.measuredBox[f]:t.layoutBox[f],d=zi(n[f]);h.max=h.min+d,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+d)});const o=v0();Og(o,n,t.layoutBox);const l=v0();s?Og(l,e.applyTransform(a,!0),t.measuredBox):Og(l,n,t.layoutBox);const c=!wU(o);let u=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:d}=f;if(h&&d){const g=Hn();Ig(g,t.layoutBox,h.layoutBox);const m=Hn();Ig(m,n,d.layoutBox),_U(g,m)||(u=!0),f.options.layoutRoot&&(e.relativeTarget=m,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Ale(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Tle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ele(e){e.clearSnapshot()}function O8(e){e.clearMeasurements()}function kle(e){e.isLayoutDirty=!1}function Nle(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function I8(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Cle(e){e.resolveTargetDelta()}function Ple(e){e.calcProjection()}function Ole(e){e.resetSkewAndRotation()}function Ile(e){e.removeLeadSnapshot()}function D8(e,t,r){e.translate=Ln(t.translate,0,r),e.scale=Ln(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function j8(e,t,r,n){e.min=Ln(t.min,r.min,n),e.max=Ln(t.max,r.max,n)}function Dle(e,t,r,n){j8(e.x,t.x,r.x,n),j8(e.y,t.y,r.y,n)}function jle(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Lle={duration:.45,ease:[.4,0,.1,1]},L8=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),M8=L8("applewebkit/")&&!L8("chrome/")?Math.round:go;function R8(e){e.min=M8(e.min),e.max=M8(e.max)}function Mle(e){R8(e.x),R8(e.y)}function TU(e,t,r){return e==="position"||e==="preserve-aspect"&&!$oe(C8(t),C8(r),.2)}function Rle(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Fle=AU({attachResizeListener:(e,t)=>Dv(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_S={current:void 0},EU=AU({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_S.current){const e=new Fle({});e.mount(window),e.setOptions({layoutScroll:!0}),_S.current=e}return _S.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),$le={pan:{Feature:rle},drag:{Feature:tle,ProjectionNode:EU,MeasureLayout:vU}};function F8(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&Rn.postRender(()=>i(t,H1(t)))}class Ble extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=pse(t,(r,n)=>(F8(this.node,n,"Start"),a=>F8(this.node,a,"End"))))}unmount(){}}class Vle extends Mf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=z1(Dv(this.node.current,"focus",()=>this.onFocus()),Dv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function $8(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&Rn.postRender(()=>i(t,H1(t)))}class Ule extends Mf{mount(){const{current:t}=this.node;t&&(this.unmount=yse(t,(r,n)=>($8(this.node,n,"Start"),(a,{success:i})=>$8(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const mT=new WeakMap,SS=new WeakMap,zle=e=>{const t=mT.get(e.target);t&&t(e)},qle=e=>{e.forEach(zle)};function Wle({root:e,...t}){const r=e||document;SS.has(r)||SS.set(r,{});const n=SS.get(r),a=JSON.stringify(t);return n[a]||(n[a]=new IntersectionObserver(qle,{root:e,...t})),n[a]}function Hle(e,t,r){const n=Wle(t);return mT.set(e,r),n.observe(e),()=>{mT.delete(e),n.unobserve(e)}}const Gle={some:0,all:1};class Kle extends Mf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=t,s={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:Gle[a]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),h=c?u:f;h&&h(l)};return Hle(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Yle(t,r))&&this.startObserver()}unmount(){}}function Yle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Xle={inView:{Feature:Kle},tap:{Feature:Ule},focus:{Feature:Vle},hover:{Feature:Ble}},Qle={layout:{ProjectionNode:EU,MeasureLayout:vU}},gT={current:null},kU={current:!1};function Jle(){if(kU.current=!0,!!rN)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>gT.current=e.matches;e.addListener(t),t()}else gT.current=!1}const jv=new WeakMap;function Zle(e,t,r){for(const n in t){const a=t[n],i=r[n];if(Ba(a))e.addValue(n,a);else if(Ba(i))e.addValue(n,Xh(a,{owner:e}));else if(i!==a)if(e.hasValue(n)){const s=e.getValue(n);s.liveStyle===!0?s.jump(a):s.hasAnimated||s.set(a)}else{const s=e.getStaticValue(n);e.addValue(n,Xh(s!==void 0?s:a,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const B8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class NU{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=yN,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ps.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Rn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=s;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.blockInitialAnimation=!!i,this.isControllingVariants=p5(r),this.isVariantNode=KV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const d=f[h];l[h]!==void 0&&Ba(d)&&d.set(l[h],!1)}}mount(t){this.current=t,jv.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),kU.current||Jle(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:gT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Fc(this.notifyUpdate),Fc(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Kp.has(t);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Rn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{a(),i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in cp){const r=cp[t];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[t]&&a&&n(this.props)&&(this.features[t]=new a(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<B8.length;n++){const a=B8[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,s=t[i];s&&(this.propEventSubscriptions[a]=this.on(a,s))}this.prevMotionValues=Zle(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Xh(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(YB(n)||QB(n))?n=parseFloat(n):!wse(n)&&Tf.test(r)&&(n=RV(t,r)),this.setBaseTarget(t,Ba(n)?n.get():n)),Ba(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const s=IN(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);s&&(n=s[t])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ba(a)?a:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new sN),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class CU extends NU{constructor(){super(...arguments),this.KeyframeResolver=use}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ba(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function PU(e,{style:t,vars:r},n,a){Object.assign(e.style,t,a&&a.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}function ece(e){return window.getComputedStyle(e)}class OU extends CU{constructor(){super(...arguments),this.type="html",this.renderInstance=PU}readValueFromInstance(t,r){var n;if(Kp.has(r))return(n=this.projection)!=null&&n.isProjecting?nT(r):kie(t,r);{const a=ece(t),i=(cN(r)?a.getPropertyValue(r):a[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return dU(t,r)}build(t,r,n){CN(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return DN(t,r,n)}}const IU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tce(e,t,r,n){PU(e,t,void 0,n);for(const a in t.attrs)e.setAttribute(IU.has(a)?a:NN(a),t.attrs[a])}class DU extends CU{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Kp.has(r)){const n=MV(r);return n&&n.default||0}return r=IU.has(r)?r:NN(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return aU(t,r,n)}build(t,r,n){eU(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,a){tce(t,r,n,a)}mount(t){this.isSVGTag=rU(t.tagName),super.mount(t)}}const rce=(e,t)=>ON(e)?new DU(t):new OU(t,{allowProjection:e!==W.Fragment}),nce=ioe({...Ooe,...Xle,...$le,...Qle},rce),Fn=Pse(nce);function vT(e){const t=U1(()=>Xh(e)),{isStatic:r}=W.useContext(f5);if(r){const[,n]=W.useState(e);W.useEffect(()=>t.on("change",n),[])}return t}function jU(e,t){const r=vT(t()),n=()=>r.set(t());return n(),nN(()=>{const a=()=>Rn.preRender(n,!1,!0),i=e.map(s=>s.on("change",a));return()=>{i.forEach(s=>s()),Fc(n)}}),r}function ace(e){Cg.current=[],e();const t=jU(Cg.current,e);return Cg.current=void 0,t}function V8(e,t,r,n){if(typeof e=="function")return ace(e);const a=typeof t=="function"?t:xse(t,r,n);return Array.isArray(e)?U8(e,a):U8([e],([i])=>a(i))}function U8(e,t){const r=U1(()=>[]);return jU(e,()=>{r.length=0;const n=e.length;for(let a=0;a<n;a++)r[a]=e[a].get();return t(r)})}function MN(e){return typeof e=="object"&&!Array.isArray(e)}function LU(e,t,r,n){return typeof e=="string"&&MN(t)?FV(e,r,n):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function ice(e,t,r){return e*(t+1)}function z8(e,t,r,n){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?r:n.get(t)??e}function sce(e,t,r){for(let n=0;n<e.length;n++){const a=e[n];a.at>t&&a.at<r&&(u5(e,a),n--)}}function oce(e,t,r,n,a,i){sce(e,a,i);for(let s=0;s<t.length;s++)e.push({value:t[s],at:Ln(a,i,n[s]),easing:cV(r,s)})}function lce(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]/(t+1)}function cce(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const uce="easeInOut";function fce(e,{defaultTransition:t={},...r}={},n,a){const i=t.duration||.3,s=new Map,o=new Map,l={},c=new Map;let u=0,f=0,h=0;for(let d=0;d<e.length;d++){const g=e[d];if(typeof g=="string"){c.set(g,f);continue}else if(!Array.isArray(g)){c.set(g.name,z8(f,g.at,u,c));continue}let[m,v,y={}]=g;y.at!==void 0&&(f=z8(f,y.at,u,c));let b=0;const w=(O,P,I,E=0,S=0)=>{const A=hce(O),{delay:D=0,times:T=TV(A),type:k="keyframes",repeat:j,repeatType:V,repeatDelay:Q=0,...Y}=P;let{ease:J=t.ease||"easeOut",duration:H}=P;const U=typeof D=="function"?D(E,S):D,re=A.length,z=xN(k)?k:a==null?void 0:a[k];if(re<=2&&z){let K=100;if(re===2&&mce(A)){const fe=A[1]-A[0];K=Math.abs(fe)}const Z={...Y};H!==void 0&&(Z.duration=al(H));const oe=wV(Z,K,z);J=oe.ease,H=oe.duration}H??(H=i);const C=f+U;T.length===1&&T[0]===0&&(T[1]=1);const F=T.length-A.length;if(F>0&&AV(T,F),A.length===1&&A.unshift(null),j){H=ice(H,j);const K=[...A],Z=[...T];J=Array.isArray(J)?[...J]:[J];const oe=[...J];for(let fe=0;fe<j;fe++){A.push(...K);for(let ie=0;ie<K.length;ie++)T.push(Z[ie]+(fe+1)),J.push(ie===0?"linear":cV(oe,ie-1))}lce(T,j)}const q=C+H;oce(I,A,J,T,C,q),b=Math.max(U+H,b),h=Math.max(q,h)};if(Ba(m)){const O=q8(m,o);w(v,y,W8("default",O))}else{const O=LU(m,v,n,l),P=O.length;for(let I=0;I<P;I++){v=v,y=y;const E=O[I],S=q8(E,o);for(const A in v)w(v[A],dce(y,A),W8(A,S),I,P)}}u=f,f+=b}return o.forEach((d,g)=>{for(const m in d){const v=d[m];v.sort(cce);const y=[],b=[],w=[];for(let P=0;P<v.length;P++){const{at:I,value:E,easing:S}=v[P];y.push(E),b.push(lp(0,h,I)),w.push(S||"easeOut")}b[0]!==0&&(b.unshift(0),y.unshift(y[0]),w.unshift(uce)),b[b.length-1]!==1&&(b.push(1),y.push(null)),s.has(g)||s.set(g,{keyframes:{},transition:{}});const O=s.get(g);O.keyframes[m]=y,O.transition[m]={...t,duration:h,ease:w,times:b,...r}}}),s}function q8(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function W8(e,t){return t[e]||(t[e]=[]),t[e]}function hce(e){return Array.isArray(e)?e:[e]}function dce(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const pce=e=>typeof e=="number",mce=e=>e.every(pce);function gce(e,t){return e in t}class vce extends NU{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,r){if(gce(r,t)){const n=t[r];if(typeof n=="string"||typeof n=="number")return n}}getBaseTargetFromProps(){}removeValueFromRenderState(t,r){delete r.output[t]}measureInstanceViewportBox(){return Hn()}build(t,r){Object.assign(t.output,r)}renderInstance(t,{output:r}){Object.assign(t,r)}sortInstanceNodePosition(){return 0}}function yce(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},r=TN(e)&&!zV(e)?new DU(t):new OU(t);r.mount(e),jv.set(e,r)}function xce(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},r=new vce(t);r.mount(e),jv.set(e,r)}function bce(e,t){return Ba(e)||typeof e=="number"||typeof e=="string"&&!MN(t)}function MU(e,t,r,n){const a=[];if(bce(e,t))a.push(yU(e,MN(t)&&t.default||t,r&&(r.default||r)));else{const i=LU(e,t,n),s=i.length;for(let o=0;o<s;o++){const l=i[o],c=l instanceof Element?yce:xce;jv.has(l)||c(l);const u=jv.get(l),f={...r};"delay"in f&&typeof f.delay=="function"&&(f.delay=f.delay(o,s)),a.push(...LN(u,{...t,transition:f},{}))}}return a}function wce(e,t,r){const n=[];return fce(e,t,r,{spring:Cv}).forEach(({keyframes:i,transition:s},o)=>{n.push(...MU(o,i,s))}),n}function _ce(e){return Array.isArray(e)&&e.some(Array.isArray)}function Sce(e){function t(r,n,a){let i=[];return _ce(r)?i=wce(r,n,e):i=MU(r,n,a,e),new Jie(i)}return t}const H8=Sce(),Ace=()=>{const{user:e,logout:t}=xa(),r=O1(),{isDarkMode:n}=Jr(),[a,i]=W.useState(!1),s=h=>h.split(" ").map(d=>d[0]).join("").toUpperCase().slice(0,2),o=async()=>{r("/login"),t()},l=()=>{i(!a)},c=()=>{i(!1)},f=e?[{to:"/",icon:p.jsx(hZ,{size:20}),label:"Dashboard",roles:["admin"]},{to:"/add",icon:p.jsx(Gi,{size:20}),label:"Add",roles:["admin","staff"]},{to:"/stock",icon:p.jsx(vZ,{size:20}),label:"Inbound",roles:["admin","staff"]},{to:"/outbound-stock",icon:p.jsx(mZ,{size:20}),label:"Outbound",roles:["admin","staff"]},{to:"/inventory",icon:p.jsx(sZ,{size:20}),label:"Inventory",roles:["admin"]},{to:"/jobs",icon:p.jsx(oZ,{size:20}),label:"Jobs",roles:["admin","staff"]},{to:"/warehouse-locations",icon:p.jsx(X$,{size:20}),label:"Locations",roles:["admin","staff"]},{to:"/orders",icon:p.jsx(bZ,{size:20}),label:"Orders",roles:[""]},{to:"/reports-analytics",icon:p.jsx(iZ,{size:20}),label:"Reports",roles:["admin"]},{to:"/warehouse-operations",icon:p.jsx(nZ,{size:20}),label:"Logs",roles:["admin","staff"]},{to:"/settings",icon:p.jsx(xZ,{size:20}),label:"Settings",roles:["admin","staff"]}].filter(h=>h.roles.includes(e.role)):[];return p.jsxs(Fn.header,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:`${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-b sticky top-0 z-10`,children:[p.jsx("div",{className:"container mx-auto px-4 md:px-6 lg:px-8",children:p.jsxs("div",{className:"flex items-center justify-between h-16",children:[p.jsx(Fn.div,{className:"flex items-center",whileHover:{scale:1.02},transition:{type:"spring",stiffness:400,damping:10},children:p.jsx(tS,{to:"/",className:"flex items-center gap-2 font-semibold text-lg",children:p.jsx(Fn.span,{className:`font-bold ${n?"text-blue-400":"text-blue-600"}`,whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:"AZTEC"})})}),p.jsx("nav",{className:"hidden md:flex items-center justify-center flex-1 space-x-1",children:f.map((h,d)=>p.jsx(Fn.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:p.jsx("div",{className:"group relative",children:p.jsx(tS,{to:h.to,className:({isActive:g})=>`flex items-center h-10 rounded-lg transition-all duration-300 overflow-hidden ${g?`px-3 ${n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700"}`:`group-hover:px-3 ${n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`}`,...h.to==="/"?{end:!0}:{},children:({isActive:g})=>p.jsxs(p.Fragment,{children:[p.jsx(Fn.div,{className:"flex items-center justify-center w-10 h-10 flex-shrink-0",whileHover:{scale:1.05},whileTap:{scale:.95},children:h.icon}),p.jsx("span",{className:`text-sm font-medium whitespace-nowrap transition-all duration-300 overflow-hidden ${g?"opacity-100 w-auto ml-1":"opacity-0 w-0 group-hover:opacity-100 group-hover:w-auto group-hover:ml-1"}`,children:h.label})]})})})},h.to))}),p.jsxs("div",{className:"flex items-center gap-4",children:[e&&p.jsxs(Fn.div,{className:"hidden md:flex items-center gap-3",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:[p.jsxs("div",{className:"text-right",children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]}),p.jsx(Fn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsx(Fn.button,{onClick:o,className:`p-2 ${n?"text-slate-300 hover:text-red-400 hover:bg-slate-700":"text-slate-600 hover:text-red-600 hover:bg-slate-100"} rounded-full transition-colors`,"aria-label":"Logout",whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx(pO,{size:20})})]}),p.jsx(Fn.button,{onClick:l,className:`md:hidden p-2 ${n?"text-slate-300 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"} rounded-lg`,"aria-label":a?"Close menu":"Open menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:a?p.jsx(mv,{size:24}):p.jsx(pZ,{size:24})})]})]})}),p.jsx(WV,{children:a&&p.jsx(Fn.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`md:hidden ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border-t`,children:p.jsxs("div",{className:"container mx-auto px-4 py-3 space-y-1",children:[f.map((h,d)=>p.jsx(Fn.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:d*.1},children:p.jsx(tS,{to:h.to,className:({isActive:g})=>`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${g?n?"bg-slate-700 text-white":"bg-blue-100 text-blue-700":n?"text-slate-300 hover:bg-slate-700 hover:text-white":"text-slate-700 hover:bg-slate-100"}`,onClick:c,...h.to==="/"?{end:!0}:{},children:p.jsxs(Fn.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center gap-3",children:[h.icon,p.jsx("span",{className:"text-sm font-medium",children:h.label})]})})},h.to)),p.jsx(Fn.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:`border-t ${n?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:e&&p.jsxs("div",{className:"flex items-center justify-between py-2",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx(Fn.div,{className:`h-8 w-8 rounded-full overflow-hidden ${n?"bg-blue-900/50":"bg-blue-100"} flex items-center justify-center`,whileHover:{scale:1.1},whileTap:{scale:.9},children:p.jsx("span",{className:`text-sm font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:s(e.name)})}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${n?"text-white":"text-slate-700"}`,children:e.name}),p.jsx("p",{className:`text-xs ${n?"text-slate-400":"text-slate-500"} capitalize`,children:e.role})]})]}),p.jsxs(Fn.button,{onClick:o,className:`flex items-center gap-2 px-3 py-2 ${n?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-red-50"} rounded-lg transition-colors`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[p.jsx(pO,{size:18}),p.jsx("span",{children:"Logout"})]})]})})]})})})]})},Tce=()=>{const{isAuthenticated:e}=xa(),t=O1(),{isDarkMode:r}=Jr();return Oe.useEffect(()=>{e||t("/login")},[e,t]),e?p.jsxs("div",{className:`flex flex-col min-h-screen ${r?"bg-slate-900":"bg-slate-50"}`,children:[p.jsx(Ace,{}),p.jsx("main",{className:"flex-grow container mx-auto px-4 py-6 md:px-6 lg:px-8",children:p.jsx(FJ,{})})]}):null},RU=({message:e,type:t,onClose:r,duration:n=3e3})=>{const[a,i]=W.useState(!1),[s,o]=W.useState(!1);W.useEffect(()=>{requestAnimationFrame(()=>{o(!0)});const f=setTimeout(()=>{i(!0),setTimeout(r,300)},n);return()=>clearTimeout(f)},[n,r]);const l={success:p.jsx(E4,{className:"text-green-500",size:20}),error:p.jsx(mO,{className:"text-red-500",size:20}),warning:p.jsx(Gh,{className:"text-yellow-500",size:20}),info:p.jsx(fZ,{className:"text-blue-500",size:20})},c={success:"bg-green-50 border-green-200",error:"bg-red-50 border-red-200",warning:"bg-yellow-50 border-yellow-200",info:"bg-blue-50 border-blue-200"},u={success:"text-green-800",error:"text-red-800",warning:"text-yellow-800",info:"text-blue-800"};return p.jsx("div",{className:"fixed top-4 right-4 z-50",children:p.jsxs("div",{className:`transform transition-all duration-300 ease-in-out
          ${a?"translate-x-full opacity-0":s?"translate-x-0 opacity-100":"translate-x-full opacity-0"}
          flex items-center gap-3 px-4 py-3 rounded-lg border ${c[t]} ${u[t]} shadow-lg`,children:[l[t],p.jsx("p",{className:"text-sm font-medium",children:e}),p.jsx("button",{onClick:()=>{i(!0),setTimeout(r,300)},className:"ml-2 text-slate-400 hover:text-slate-600 transition-colors",children:p.jsx(mO,{size:18})})]})})},FU=W.createContext(void 0),Yc=()=>{const e=W.useContext(FU);if(!e)throw new Error("useToast must be used within a ToastProvider");return e},Ece=({children:e})=>{const[t,r]=W.useState(null),n=(i,s)=>{r({message:i,type:s})},a=()=>{r(null)};return p.jsxs(FU.Provider,{value:{showToast:n},children:[e,t&&p.jsx(RU,{message:t.message,type:t.type,onClose:a})]})},bt=({label:e,error:t,icon:r,fullWidth:n=!1,className:a="",darkMode:i,...s})=>{const{isDarkMode:o}=Jr(),l=i??o;return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${l?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsxs("div",{className:"relative",children:[r&&p.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:Oe.cloneElement(r,{size:20,className:l?"text-white":"text-slate-400"})}),p.jsx("input",{...s,className:`
            block w-full rounded-lg border px-3 py-2
            ${l?"bg-slate-800 border-slate-700 text-slate-200 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 placeholder-slate-400 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
            ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
            ${r?"pl-10":""}
          `})]}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:t})]})},Du=({label:e,error:t,fullWidth:r=!1,className:n="",darkMode:a,...i})=>{const[s,o]=W.useState(!1),{isDarkMode:l}=Jr(),c=a??l,u=()=>{o(!s)};return p.jsxs("div",{className:"relative",children:[p.jsx(bt,{label:e,type:s?"text":"password",error:t,fullWidth:r,className:n,darkMode:c,...i}),p.jsx("button",{type:"button",onClick:u,className:`absolute right-3 top-[38px] ${c?"text-slate-400 hover:text-slate-300":"text-slate-500 hover:text-slate-700"}`,children:s?p.jsx(uZ,{size:18}):p.jsx(k4,{size:18})})]})},st=({children:e,variant:t="primary",size:r="md",isLoading:n=!1,icon:a,className:i="",...s})=>{const o={primary:"bg-blue-700 hover:bg-blue-800 text-white",secondary:"bg-slate-100 hover:bg-slate-200 text-slate-700 dark:bg-slate-700 dark:hover:bg-slate-600 dark:text-slate-200",outline:"bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 dark:bg-transparent dark:border-slate-600 dark:hover:bg-slate-700 dark:text-slate-200",danger:"bg-red-600 hover:bg-red-700 text-white",ghost:"bg-transparent hover:bg-slate-100 text-slate-500 dark:hover:bg-slate-700/50 dark:text-slate-400",success:"bg-green-600 hover:bg-green-700 text-white"},l={sm:"text-sm px-3 py-1.5",md:"px-4 py-2",lg:"text-lg px-5 py-2.5"};return p.jsxs("button",{className:`
        ${o[t]} 
        ${l[r]} 
        rounded-lg font-medium transition-colors 
        flex items-center justify-center gap-2
        focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-blue-500
        disabled:opacity-60 disabled:cursor-not-allowed
        ${i}
      `,disabled:n||s.disabled,...s,children:[n&&p.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!n&&a,e]})},kce=()=>{const[e,t]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),{login:s,isAuthenticated:o,isLoading:l,user:c}=xa(),{showToast:u}=Yc(),{isDarkMode:f,toggleDarkMode:h}=Jr(),d=O1();W.useEffect(()=>{o&&c&&(u(`Welcome back, ${c.name}!`,"success"),c.role==="staff"?d("/add"):d("/"))},[o,c,d,u]);const g=async m=>{if(m.preventDefault(),i(""),!e||!r){i("Please enter both username and password");return}await s(e,r)||(i("Invalid username or password"),u("Invalid username or password","error"))};return p.jsxs("div",{className:`min-h-screen flex overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:[p.jsx(Fn.div,{className:"hidden lg:flex lg:w-1/2 bg-blue-700 text-white items-center justify-center",initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"max-w-md p-8 text-center",children:[p.jsx("h1",{className:"text-4xl font-bold mb-4",children:"AZTEC"}),p.jsx("p",{className:"text-xl text-blue-100",children:"Warehouse Management System"})]})}),p.jsx(Fn.div,{className:"w-full lg:w-1/2 flex items-center justify-center p-4 sm:p-6 lg:p-8",initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},children:p.jsxs("div",{className:"w-full max-w-md",children:[p.jsxs("div",{className:"lg:hidden text-center mb-6 space-y-2",children:[p.jsx(gZ,{size:48,className:"mx-auto text-blue-600"}),p.jsx("h1",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"AZTEC"}),p.jsx("p",{className:f?"text-slate-400":"text-slate-600",children:"Warehouse Management System"})]}),p.jsxs("div",{className:`${f?"bg-slate-800 border-slate-700 shadow-xl":"bg-white border-slate-200 shadow-lg"} rounded-xl p-6 sm:p-8 border`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-800"}`,children:"Welcome back"}),p.jsx("button",{onClick:h,className:`p-2 rounded-lg transition-colors ${f?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":f?"Switch to light mode":"Switch to dark mode",children:f?p.jsx(J$,{size:20}):p.jsx(Q$,{size:20})})]}),a&&p.jsx(Fn.div,{className:`${f?"bg-red-900/50 text-red-200":"bg-red-50 text-red-700"} p-4 rounded-lg mb-6 text-sm`,initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},children:a}),p.jsxs("form",{onSubmit:g,className:"space-y-6",children:[p.jsx(bt,{label:"Username",type:"text",id:"username",value:e,onChange:m=>t(m.target.value),icon:p.jsx(N4,{size:20}),placeholder:"Enter your username",autoComplete:"username",fullWidth:!0,darkMode:f}),p.jsx(Du,{label:"Password",name:"password",value:r,onChange:m=>n(m.target.value),placeholder:"Enter your password",autoComplete:"current-password",fullWidth:!0,darkMode:f}),p.jsx(st,{type:"submit",isLoading:l,className:"w-full",size:"lg",children:"Sign In"})]})]})]})})]})},Za=({title:e,value:t,icon:r,change:n})=>{const{isDarkMode:a}=Jr(),i=vT(0),s=vT(0),o=V8(i,Math.round),l=V8(s,Math.round);return Oe.useEffect(()=>{if(typeof t=="number"){const c=H8(i,t,{duration:1});if(n){const u=H8(s,n.value,{duration:1});return()=>{c.stop(),u.stop()}}return()=>c.stop()}},[t,n]),p.jsx("div",{className:`p-6 rounded-lg shadow-sm border ${a?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm font-medium ${a?"text-slate-400":"text-slate-500"}`,children:e}),p.jsx("h3",{className:`text-2xl font-semibold ${a?"text-white":"text-slate-800"} mt-1`,children:typeof t=="number"?p.jsx(Fn.span,{children:o}):t}),n&&p.jsxs("div",{className:"flex items-center mt-2",children:[n.customIcon||p.jsx("span",{className:`text-sm ${n.isPositive?"text-green-500":"text-red-500"}`,children:n.isPositive?"↑":"↓"}),p.jsx(Fn.span,{className:`text-sm font-medium ${n.isPositive?"text-green-500":"text-red-500"}`,children:l}),n.label&&p.jsx("span",{className:`text-xs ${a?"text-slate-400":"text-slate-500"} ml-1`,children:n.label})]})]}),p.jsx("div",{className:`p-3 rounded-full ${a?"bg-slate-700":"bg-slate-100"}`,children:r})]})})},Gu=()=>{const{isDarkMode:e}=Jr();return p.jsxs("div",{className:`p-6 rounded-lg shadow-sm border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-8 w-16 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]}),p.jsx("div",{className:`p-3 rounded-full ${e?"bg-slate-700":"bg-slate-100"}`,children:p.jsx("div",{className:`h-6 w-6 rounded ${e?"bg-slate-600":"bg-slate-200"}`})})]}),p.jsx("div",{className:"mt-4",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("div",{className:`h-4 w-12 rounded ${e?"bg-slate-700":"bg-slate-200"}`}),p.jsx("div",{className:`h-4 w-24 rounded ${e?"bg-slate-700":"bg-slate-200"}`})]})})]})},AS=({title:e,children:t,className:r=""})=>{const{isDarkMode:n}=Jr();return p.jsxs("div",{className:`rounded-lg shadow-sm border ${n?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} ${r}`,children:[e&&p.jsx("div",{className:`px-6 py-4 border-b ${n?"border-slate-700":"border-slate-200"}`,children:p.jsx("h3",{className:`text-lg font-medium ${n?"text-white":"text-slate-800"}`,children:e})}),p.jsx("div",{className:"p-6",children:t})]})};function Xr(e){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function Vl(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ln(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function dn(e){ln(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Xr(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Nce(e,t){ln(2,arguments);var r=dn(e),n=Vl(t);return isNaN(n)?new Date(NaN):(n&&r.setDate(r.getDate()+n),r)}function Cce(e,t){ln(2,arguments);var r=dn(e).getTime(),n=Vl(t);return new Date(r+n)}var Pce={};function G1(){return Pce}function yT(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function lb(e){ln(1,arguments);var t=dn(e);return t.setHours(0,0,0,0),t}function s2(e,t){ln(2,arguments);var r=dn(e),n=dn(t),a=r.getTime()-n.getTime();return a<0?-1:a>0?1:a}var $U=6e4,BU=36e5;function Oce(e){return ln(1,arguments),e instanceof Date||Xr(e)==="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Ice(e){if(ln(1,arguments),!Oce(e)&&typeof e!="number")return!1;var t=dn(e);return!isNaN(Number(t))}function Dce(e,t){ln(2,arguments);var r=dn(e),n=dn(t),a=r.getFullYear()-n.getFullYear(),i=r.getMonth()-n.getMonth();return a*12+i}function jce(e,t){return ln(2,arguments),dn(e).getTime()-dn(t).getTime()}var G8={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},Lce="trunc";function Mce(e){return e?G8[e]:G8[Lce]}function Lv(e){ln(1,arguments);var t=dn(e);return t.setHours(23,59,59,999),t}function Rce(e){ln(1,arguments);var t=dn(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function Fce(e){ln(1,arguments);var t=dn(e);return Lv(t).getTime()===Rce(t).getTime()}function $ce(e,t){ln(2,arguments);var r=dn(e),n=dn(t),a=s2(r,n),i=Math.abs(Dce(r,n)),s;if(i<1)s=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*i);var o=s2(r,n)===-a;Fce(dn(e))&&i===1&&s2(e,n)===1&&(o=!1),s=a*(i-Number(o))}return s===0?0:s}function Bce(e,t,r){ln(2,arguments);var n=jce(e,t)/1e3;return Mce(void 0)(n)}function Vce(e,t){ln(2,arguments);var r=Vl(t);return Cce(e,-r)}var Uce=864e5;function zce(e){ln(1,arguments);var t=dn(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),a=r-n;return Math.floor(a/Uce)+1}function cb(e){ln(1,arguments);var t=1,r=dn(e),n=r.getUTCDay(),a=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-a),r.setUTCHours(0,0,0,0),r}function VU(e){ln(1,arguments);var t=dn(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var a=cb(n),i=new Date(0);i.setUTCFullYear(r,0,4),i.setUTCHours(0,0,0,0);var s=cb(i);return t.getTime()>=a.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function qce(e){ln(1,arguments);var t=VU(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=cb(r);return n}var Wce=6048e5;function Hce(e){ln(1,arguments);var t=dn(e),r=cb(t).getTime()-qce(t).getTime();return Math.round(r/Wce)+1}function ub(e,t){var r,n,a,i,s,o,l,c;ln(1,arguments);var u=G1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.weekStartsOn)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.weekStartsOn)!==null&&a!==void 0?a:u.weekStartsOn)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.weekStartsOn)!==null&&r!==void 0?r:0);if(!(f>=0&&f<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=dn(e),d=h.getUTCDay(),g=(d<f?7:0)+d-f;return h.setUTCDate(h.getUTCDate()-g),h.setUTCHours(0,0,0,0),h}function UU(e,t){var r,n,a,i,s,o,l,c;ln(1,arguments);var u=dn(e),f=u.getUTCFullYear(),h=G1(),d=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:h.firstWeekContainsDate)!==null&&n!==void 0?n:(l=h.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var g=new Date(0);g.setUTCFullYear(f+1,0,d),g.setUTCHours(0,0,0,0);var m=ub(g,t),v=new Date(0);v.setUTCFullYear(f,0,d),v.setUTCHours(0,0,0,0);var y=ub(v,t);return u.getTime()>=m.getTime()?f+1:u.getTime()>=y.getTime()?f:f-1}function Gce(e,t){var r,n,a,i,s,o,l,c;ln(1,arguments);var u=G1(),f=Vl((r=(n=(a=(i=t==null?void 0:t.firstWeekContainsDate)!==null&&i!==void 0?i:t==null||(s=t.locale)===null||s===void 0||(o=s.options)===null||o===void 0?void 0:o.firstWeekContainsDate)!==null&&a!==void 0?a:u.firstWeekContainsDate)!==null&&n!==void 0?n:(l=u.locale)===null||l===void 0||(c=l.options)===null||c===void 0?void 0:c.firstWeekContainsDate)!==null&&r!==void 0?r:1),h=UU(e,t),d=new Date(0);d.setUTCFullYear(h,0,f),d.setUTCHours(0,0,0,0);var g=ub(d,t);return g}var Kce=6048e5;function Yce(e,t){ln(1,arguments);var r=dn(e),n=ub(r,t).getTime()-Gce(r,t).getTime();return Math.round(n/Kce)+1}function sn(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var Nu={y:function(t,r){var n=t.getUTCFullYear(),a=n>0?n:1-n;return sn(r==="yy"?a%100:a,r.length)},M:function(t,r){var n=t.getUTCMonth();return r==="M"?String(n+1):sn(n+1,2)},d:function(t,r){return sn(t.getUTCDate(),r.length)},a:function(t,r){var n=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h:function(t,r){return sn(t.getUTCHours()%12||12,r.length)},H:function(t,r){return sn(t.getUTCHours(),r.length)},m:function(t,r){return sn(t.getUTCMinutes(),r.length)},s:function(t,r){return sn(t.getUTCSeconds(),r.length)},S:function(t,r){var n=r.length,a=t.getUTCMilliseconds(),i=Math.floor(a*Math.pow(10,n-3));return sn(i,r.length)}},zd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Xce={G:function(t,r,n){var a=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(t,r,n){if(r==="yo"){var a=t.getUTCFullYear(),i=a>0?a:1-a;return n.ordinalNumber(i,{unit:"year"})}return Nu.y(t,r)},Y:function(t,r,n,a){var i=UU(t,a),s=i>0?i:1-i;if(r==="YY"){var o=s%100;return sn(o,2)}return r==="Yo"?n.ordinalNumber(s,{unit:"year"}):sn(s,r.length)},R:function(t,r){var n=VU(t);return sn(n,r.length)},u:function(t,r){var n=t.getUTCFullYear();return sn(n,r.length)},Q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(a);case"QQ":return sn(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(t,r,n){var a=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(a);case"qq":return sn(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(t,r,n){var a=t.getUTCMonth();switch(r){case"M":case"MM":return Nu.M(t,r);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(t,r,n){var a=t.getUTCMonth();switch(r){case"L":return String(a+1);case"LL":return sn(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(t,r,n,a){var i=Yce(t,a);return r==="wo"?n.ordinalNumber(i,{unit:"week"}):sn(i,r.length)},I:function(t,r,n){var a=Hce(t);return r==="Io"?n.ordinalNumber(a,{unit:"week"}):sn(a,r.length)},d:function(t,r,n){return r==="do"?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):Nu.d(t,r)},D:function(t,r,n){var a=zce(t);return r==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):sn(a,r.length)},E:function(t,r,n){var a=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"e":return String(s);case"ee":return sn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,r,n,a){var i=t.getUTCDay(),s=(i-a.weekStartsOn+8)%7||7;switch(r){case"c":return String(s);case"cc":return sn(s,r.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,r,n){var a=t.getUTCDay(),i=a===0?7:a;switch(r){case"i":return String(i);case"ii":return sn(i,r.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(t,r,n){var a=t.getUTCHours(),i=a/12>=1?"pm":"am";switch(r){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,r,n){var a=t.getUTCHours(),i;switch(a===12?i=zd.noon:a===0?i=zd.midnight:i=a/12>=1?"pm":"am",r){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,r,n){var a=t.getUTCHours(),i;switch(a>=17?i=zd.evening:a>=12?i=zd.afternoon:a>=4?i=zd.morning:i=zd.night,r){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,r,n){if(r==="ho"){var a=t.getUTCHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Nu.h(t,r)},H:function(t,r,n){return r==="Ho"?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Nu.H(t,r)},K:function(t,r,n){var a=t.getUTCHours()%12;return r==="Ko"?n.ordinalNumber(a,{unit:"hour"}):sn(a,r.length)},k:function(t,r,n){var a=t.getUTCHours();return a===0&&(a=24),r==="ko"?n.ordinalNumber(a,{unit:"hour"}):sn(a,r.length)},m:function(t,r,n){return r==="mo"?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Nu.m(t,r)},s:function(t,r,n){return r==="so"?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):Nu.s(t,r)},S:function(t,r){return Nu.S(t,r)},X:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();if(s===0)return"Z";switch(r){case"X":return Y8(s);case"XXXX":case"XX":return dh(s);case"XXXXX":case"XXX":default:return dh(s,":")}},x:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"x":return Y8(s);case"xxxx":case"xx":return dh(s);case"xxxxx":case"xxx":default:return dh(s,":")}},O:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+K8(s,":");case"OOOO":default:return"GMT"+dh(s,":")}},z:function(t,r,n,a){var i=a._originalDate||t,s=i.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+K8(s,":");case"zzzz":default:return"GMT"+dh(s,":")}},t:function(t,r,n,a){var i=a._originalDate||t,s=Math.floor(i.getTime()/1e3);return sn(s,r.length)},T:function(t,r,n,a){var i=a._originalDate||t,s=i.getTime();return sn(s,r.length)}};function K8(e,t){var r=e>0?"-":"+",n=Math.abs(e),a=Math.floor(n/60),i=n%60;if(i===0)return r+String(a);var s=t;return r+String(a)+s+sn(i,2)}function Y8(e,t){if(e%60===0){var r=e>0?"-":"+";return r+sn(Math.abs(e)/60,2)}return dh(e,t)}function dh(e,t){var r=t||"",n=e>0?"-":"+",a=Math.abs(e),i=sn(Math.floor(a/60),2),s=sn(a%60,2);return n+i+r+s}var X8=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},zU=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Qce=function(t,r){var n=t.match(/(P+)(p+)?/)||[],a=n[1],i=n[2];if(!i)return X8(t,r);var s;switch(a){case"P":s=r.dateTime({width:"short"});break;case"PP":s=r.dateTime({width:"medium"});break;case"PPP":s=r.dateTime({width:"long"});break;case"PPPP":default:s=r.dateTime({width:"full"});break}return s.replace("{{date}}",X8(a,r)).replace("{{time}}",zU(i,r))},Jce={p:zU,P:Qce},Zce=["D","DD"],eue=["YY","YYYY"];function tue(e){return Zce.indexOf(e)!==-1}function rue(e){return eue.indexOf(e)!==-1}function Q8(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var nue={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aue=function(t,r,n){var a,i=nue[t];return typeof i=="string"?a=i:r===1?a=i.one:a=i.other.replace("{{count}}",r.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function TS(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var iue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},oue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},lue={date:TS({formats:iue,defaultWidth:"full"}),time:TS({formats:sue,defaultWidth:"full"}),dateTime:TS({formats:oue,defaultWidth:"full"})},cue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},uue=function(t,r,n,a){return cue[t]};function Mm(e){return function(t,r){var n=r!=null&&r.context?String(r.context):"standalone",a;if(n==="formatting"&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,s=r!=null&&r.width?String(r.width):i;a=e.formattingValues[s]||e.formattingValues[i]}else{var o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;a=e.values[l]||e.values[o]}var c=e.argumentCallback?e.argumentCallback(t):t;return a[c]}}var fue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},hue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},due={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},mue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vue=function(t,r){var n=Number(t),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},yue={ordinalNumber:vue,era:Mm({values:fue,defaultWidth:"wide"}),quarter:Mm({values:hue,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Mm({values:due,defaultWidth:"wide"}),day:Mm({values:pue,defaultWidth:"wide"}),dayPeriod:Mm({values:mue,defaultWidth:"wide",formattingValues:gue,defaultFormattingWidth:"wide"})};function Rm(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(a);if(!i)return null;var s=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?bue(o,function(f){return f.test(s)}):xue(o,function(f){return f.test(s)}),c;c=e.valueCallback?e.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;var u=t.slice(s.length);return{value:c,rest:u}}}function xue(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function bue(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function wue(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var a=n[0],i=t.match(e.parsePattern);if(!i)return null;var s=e.valueCallback?e.valueCallback(i[0]):i[0];s=r.valueCallback?r.valueCallback(s):s;var o=t.slice(a.length);return{value:s,rest:o}}}var _ue=/^(\d+)(th|st|nd|rd)?/i,Sue=/\d+/i,Aue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Tue={any:[/^b/i,/^(a|c)/i]},Eue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},kue={any:[/1/i,/2/i,/3/i,/4/i]},Nue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Cue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Pue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Oue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Due={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jue={ordinalNumber:wue({matchPattern:_ue,parsePattern:Sue,valueCallback:function(t){return parseInt(t,10)}}),era:Rm({matchPatterns:Aue,defaultMatchWidth:"wide",parsePatterns:Tue,defaultParseWidth:"any"}),quarter:Rm({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:kue,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Rm({matchPatterns:Nue,defaultMatchWidth:"wide",parsePatterns:Cue,defaultParseWidth:"any"}),day:Rm({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Oue,defaultParseWidth:"any"}),dayPeriod:Rm({matchPatterns:Iue,defaultMatchWidth:"any",parsePatterns:Due,defaultParseWidth:"any"})},qU={code:"en-US",formatDistance:aue,formatLong:lue,formatRelative:uue,localize:yue,match:jue,options:{weekStartsOn:0,firstWeekContainsDate:1}},Lue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mue=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Rue=/^'([^]*?)'?$/,Fue=/''/g,$ue=/[a-zA-Z]/;function Xt(e,t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v;ln(2,arguments);var y=String(t),b=G1(),w=(n=(a=void 0)!==null&&a!==void 0?a:b.locale)!==null&&n!==void 0?n:qU,O=Vl((i=(s=(o=(l=void 0)!==null&&l!==void 0?l:void 0)!==null&&o!==void 0?o:b.firstWeekContainsDate)!==null&&s!==void 0?s:(c=b.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&i!==void 0?i:1);if(!(O>=1&&O<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var P=Vl((f=(h=(d=(g=void 0)!==null&&g!==void 0?g:void 0)!==null&&d!==void 0?d:b.weekStartsOn)!==null&&h!==void 0?h:(m=b.locale)===null||m===void 0||(v=m.options)===null||v===void 0?void 0:v.weekStartsOn)!==null&&f!==void 0?f:0);if(!(P>=0&&P<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!w.localize)throw new RangeError("locale must contain localize property");if(!w.formatLong)throw new RangeError("locale must contain formatLong property");var I=dn(e);if(!Ice(I))throw new RangeError("Invalid time value");var E=yT(I),S=Vce(I,E),A={firstWeekContainsDate:O,weekStartsOn:P,locale:w,_originalDate:I},D=y.match(Mue).map(function(T){var k=T[0];if(k==="p"||k==="P"){var j=Jce[k];return j(T,w.formatLong)}return T}).join("").match(Lue).map(function(T){if(T==="''")return"'";var k=T[0];if(k==="'")return Bue(T);var j=Xce[k];if(j)return rue(T)&&Q8(T,t,String(e)),tue(T)&&Q8(T,t,String(e)),j(S,T,w.localize,A);if(k.match($ue))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");return T}).join("");return D}function Bue(e){var t=e.match(Rue);return t?t[1].replace(Fue,"'"):e}function WU(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}function Vue(e){return WU({},e)}var J8=1440,Uue=2520,ES=43200,zue=86400;function que(e,t,r){var n,a;ln(2,arguments);var i=G1(),s=(n=(a=r==null?void 0:r.locale)!==null&&a!==void 0?a:i.locale)!==null&&n!==void 0?n:qU;if(!s.formatDistance)throw new RangeError("locale must contain formatDistance property");var o=s2(e,t);if(isNaN(o))throw new RangeError("Invalid time value");var l=WU(Vue(r),{addSuffix:!!(r!=null&&r.addSuffix),comparison:o}),c,u;o>0?(c=dn(t),u=dn(e)):(c=dn(e),u=dn(t));var f=Bce(u,c),h=(yT(u)-yT(c))/1e3,d=Math.round((f-h)/60),g;if(d<2)return r!=null&&r.includeSeconds?f<5?s.formatDistance("lessThanXSeconds",5,l):f<10?s.formatDistance("lessThanXSeconds",10,l):f<20?s.formatDistance("lessThanXSeconds",20,l):f<40?s.formatDistance("halfAMinute",0,l):f<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):d===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",d,l);if(d<45)return s.formatDistance("xMinutes",d,l);if(d<90)return s.formatDistance("aboutXHours",1,l);if(d<J8){var m=Math.round(d/60);return s.formatDistance("aboutXHours",m,l)}else{if(d<Uue)return s.formatDistance("xDays",1,l);if(d<ES){var v=Math.round(d/J8);return s.formatDistance("xDays",v,l)}else if(d<zue)return g=Math.round(d/ES),s.formatDistance("aboutXMonths",g,l)}if(g=$ce(u,c),g<12){var y=Math.round(d/ES);return s.formatDistance("xMonths",y,l)}else{var b=g%12,w=Math.floor(g/12);return b<3?s.formatDistance("aboutXYears",w,l):b<9?s.formatDistance("overXYears",w,l):s.formatDistance("almostXYears",w+1,l)}}function Wue(e,t){return ln(1,arguments),que(e,Date.now(),t)}function wr(e,t){ln(2,arguments);var r=Vl(t);return Nce(e,-r)}function Hue(e,t){var r;ln(1,arguments);var n=Vl((r=void 0)!==null&&r!==void 0?r:2);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var a=Xue(e),i;if(a.date){var s=Que(a.date,n);i=Jue(s.restDateString,s.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var o=i.getTime(),l=0,c;if(a.time&&(l=Zue(a.time),isNaN(l)))return new Date(NaN);if(a.timezone){if(c=efe(a.timezone),isNaN(c))return new Date(NaN)}else{var u=new Date(o+l),f=new Date(0);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return new Date(o+l+c)}var ox={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Gue=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Kue=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Yue=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Xue(e){var t={},r=e.split(ox.dateTimeDelimiter),n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],ox.timeZoneDelimiter.test(t.date)&&(t.date=e.split(ox.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){var a=ox.timezone.exec(n);a?(t.time=n.replace(a[1],""),t.timezone=a[1]):t.time=n}return t}function Que(e,t){var r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};var a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:e.slice((n[1]||n[2]).length)}}function Jue(e,t){if(t===null)return new Date(NaN);var r=e.match(Gue);if(!r)return new Date(NaN);var n=!!r[4],a=Fm(r[1]),i=Fm(r[2])-1,s=Fm(r[3]),o=Fm(r[4]),l=Fm(r[5])-1;if(n)return ife(t,o,l)?tfe(t,o,l):new Date(NaN);var c=new Date(0);return!nfe(t,i,s)||!afe(t,a)?new Date(NaN):(c.setUTCFullYear(t,i,Math.max(a,s)),c)}function Fm(e){return e?parseInt(e):1}function Zue(e){var t=e.match(Kue);if(!t)return NaN;var r=kS(t[1]),n=kS(t[2]),a=kS(t[3]);return sfe(r,n,a)?r*BU+n*$U+a*1e3:NaN}function kS(e){return e&&parseFloat(e.replace(",","."))||0}function efe(e){if(e==="Z")return 0;var t=e.match(Yue);if(!t)return 0;var r=t[1]==="+"?-1:1,n=parseInt(t[2]),a=t[3]&&parseInt(t[3])||0;return ofe(n,a)?r*(n*BU+a*$U):NaN}function tfe(e,t,r){var n=new Date(0);n.setUTCFullYear(e,0,4);var a=n.getUTCDay()||7,i=(t-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+i),n}var rfe=[31,null,31,30,31,30,31,31,30,31,30,31];function HU(e){return e%400===0||e%4===0&&e%100!==0}function nfe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(rfe[t]||(HU(e)?29:28))}function afe(e,t){return t>=1&&t<=(HU(e)?366:365)}function ife(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function sfe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function ofe(e,t){return t>=0&&t<=59}const lfe=()=>{const[e,t]=W.useState(!0),[r,n]=W.useState([]),[a,i]=W.useState([]),[s,o]=W.useState([]),[l,c]=W.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,todayDamagedProducts:0,yesterdayDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,yesterdayDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),{isDarkMode:u}=Jr(),f=async()=>{t(!0);try{const m=new Date,v=wr(m,30),y=wr(m,1),b=m,w=sr(Et(et,"orders"),tr("createdAt",">=",Zt.fromDate(v)),tr("createdAt","<=",Zt.fromDate(m))),O=sr(Et(et,"orders"),tr("createdAt",">=",Zt.fromDate(y)),tr("createdAt","<=",Zt.fromDate(b))),P=sr(Et(et,"inventory")),I=sr(Et(et,"inventory"),tr("lastUpdated",">=",Zt.fromDate(y)),tr("lastUpdated","<=",Zt.fromDate(b))),[E,S,A,D]=await Promise.all([hr(w),hr(O),hr(P),hr(I)]),T=E.docs.map(Le=>({id:Le.id,...Le.data()})),k=S.docs.map(Le=>({id:Le.id,...Le.data()})),j=S.docs.length,V=A.docs.reduce((Le,Ge)=>{const Me=Ge.data();return Le+(Me.quantity||0)},0),Q=D.docs.reduce((Le,Ge)=>{const Me=Ge.data();return Le+(Me.quantityChange||0)},0),Y=A.docs.reduce((Le,Ge)=>{const Me=Ge.data();return Le+(Me.quantity||0)*(Me.price||0)},0),J=T.length,H=k.reduce((Le,Ge)=>Le+(Ge.totalAmount||0),0),U=sr(Et(et,"inventory")),z=(await hr(U)).docs.map(Le=>({id:Le.id,...Le.data()})),C=z.filter(Le=>Le.quantity<=10),F=z.filter(Le=>Le.quantity>10&&Le.quantity<=25);console.log("All stock items:",z),console.log("Critical items:",C),console.log("Low stock items:",F),i(C),o(F);const q=new Date,K=lb(q),Z=Lv(q),oe=lb(wr(q,1)),fe=Lv(wr(q,1)),ie=sr(Et(et,"activityLogs"),tr("time",">=",K.toISOString()),tr("time","<=",Z.toISOString())),de=sr(Et(et,"activityLogs"),tr("time",">=",oe.toISOString()),tr("time","<=",fe.toISOString())),[_e,B]=await Promise.all([hr(ie),hr(de)]),Te=_e.docs.map(Le=>Le.data()),ge=B.docs.map(Le=>Le.data()),ve=Te.reduce((Le,Ge)=>{const Me=Ge.detail.match(/(\d+) units deducted/);return Le+(Me?parseInt(Me[1]):0)},0),te=ge.reduce((Le,Ge)=>{const Me=Ge.detail.match(/(\d+) units deducted/);return Le+(Me?parseInt(Me[1]):0)},0),ke=Te.reduce((Le,Ge)=>{const Me=Ge.detail.match(/added new product "[^"]+" with total quantity (\d+)/);return Le+(Me?parseInt(Me[1]):0)},0),$e=Te.reduce((Le,Ge)=>{const Me=Ge.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Me){const[,Ye,mt]=Me,at=A.docs.find(gt=>gt.data().name===Ye);if(at){const gt=at.data().price||0;return Le+parseInt(mt)*gt}}return Le},0),Fe=Te.reduce((Le,Ge)=>{const Me=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Me)||/damaged/i.test(Me)||/damageditems/i.test(Me)||/damaged items/i.test(Me)){const Ye=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const mt of Ye){const at=Me.match(mt);if(at)if(at.length===3){const gt=parseInt(at[1]),At=parseInt(at[2]);return Le+Math.abs(gt-At)}else return Le+parseInt(at[1])}return Le+1}return Le},0),Qe=ge.reduce((Le,Ge)=>{const Me=Ge.detail.toLowerCase();if(/reason:\s*damaged/i.test(Me)||/damaged/i.test(Me)||/damageditems/i.test(Me)||/damaged items/i.test(Me)){const Ye=[/(\d+)\s*units?\s*damaged/i,/damageditems?:\s*(\d+)/i,/quantity:\s*(\d+)/i,/edited product "[^"]+": quantity from (\d+) to (\d+)/i];for(const mt of Ye){const at=Me.match(mt);if(at)if(at.length===3){const gt=parseInt(at[1]),At=parseInt(at[2]);return Le+Math.abs(gt-At)}else return Le+parseInt(at[1])}return Le+1}return Le},0);c({totalOrders:J,totalStock:V,totalInventoryValue:Y,todayDamagedProducts:Fe,yesterdayDamagedProducts:Qe,yesterdayOrders:j,yesterdayStockChange:Q,yesterdayRevenue:H,totalDeductions:ve,yesterdayDeductions:te,todayStockAdditions:ke,todayInventoryValueAdditions:$e})}catch(m){console.error("Error fetching stats:",m)}finally{t(!1)}},h=async()=>{try{const m=sr(Et(et,"activityLogs"),ka("time","desc"),ig(5)),y=(await hr(m)).docs.map(b=>({id:b.id,...b.data()}));n(y)}catch(m){console.error("Error fetching recent activities:",m)}},d=async()=>{await Promise.all([f(),h()])};W.useEffect(()=>{d()},[]);const g=()=>{const{isDarkMode:m}=Jr();return p.jsxs("div",{className:"animate-pulse",children:[p.jsx("div",{className:`h-10 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-4`}),[...Array(5)].map((v,y)=>p.jsx("div",{className:`h-16 ${m?"bg-slate-700":"bg-slate-200"} rounded mb-2`},y))]})};return p.jsxs("div",{className:`space-y-6 ${u?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${u?"text-white":"text-slate-800"}`,children:"Admin Dashboard"}),p.jsx("p",{className:`${u?"text-slate-400":"text-slate-500"} mt-1`,children:"View your warehouse performance at a glance"})]}),p.jsx(st,{variant:"secondary",onClick:d,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(ds,{size:16,className:e?"animate-spin":""})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e?p.jsxs(p.Fragment,{children:[p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Za,{title:"Total Stock",value:l.totalStock,icon:p.jsx(ep,{size:24,className:"text-blue-600"}),change:{value:l.todayStockAdditions,isPositive:!0,customIcon:p.jsx(Gi,{size:16,className:"text-green-500 mr-1"}),label:l.todayStockAdditions===0?"no additions today":l.todayStockAdditions===1?"unit added today":"units added today"}}),p.jsx(Za,{title:"Total Units Deducted Today",value:l.totalDeductions,icon:p.jsx(Z$,{size:24,className:"text-blue-600"}),change:{value:l.yesterdayDeductions,isPositive:l.totalDeductions>=l.yesterdayDeductions,label:l.yesterdayDeductions===1?"unit deducted yesterday":"units deducted yesterday"}}),p.jsx(Za,{title:"Damaged Products Today",value:l.todayDamagedProducts,icon:p.jsx(Gh,{size:24,className:"text-red-600"}),change:{value:l.yesterdayDamagedProducts,isPositive:l.todayDamagedProducts<=l.yesterdayDamagedProducts,label:l.yesterdayDamagedProducts===0?"no damage yesterday":l.yesterdayDamagedProducts===1?"unit damaged yesterday":"units damaged yesterday"}}),p.jsx(Za,{title:"Total Inventory Value",value:l.totalInventoryValue,icon:p.jsx(V2,{size:24,className:"text-blue-600"}),animateValue:!0,formatValue:m=>`£${m.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,change:{value:l.todayInventoryValueAdditions,isPositive:!0,customIcon:p.jsx(Gi,{size:16,className:"text-green-500 mr-1"}),label:l.todayInventoryValueAdditions===0?"no value added today":"£ added today"}})]})}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsx(AS,{title:"Recent Activity",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):r.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:r.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:m.user}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.role}),p.jsx("td",{className:`px-6 py-4 text-sm ${u?"text-slate-400":"text-slate-500"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.detail,children:m.detail})}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:Wue(new Date(m.time),{addSuffix:!0})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No recent activities found"})}),p.jsx(AS,{title:"Low Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):s.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:s.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-amber-100 text-amber-800",children:"Low"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No low stock items found"})})]}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:p.jsx(AS,{title:"Critical Stock Items",className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"}`,children:e?p.jsx(g,{}):a.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${u?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Product"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Current Stock"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium ${u?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"})]})}),p.jsx("tbody",{className:`divide-y ${u?"divide-slate-700":"divide-slate-200"}`,children:a.slice(0,5).map(m=>p.jsxs("tr",{className:`${u?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-6 py-4 text-sm font-medium ${u?"text-white":"text-slate-900"}`,children:p.jsx("div",{className:"max-w-xs truncate",title:m.name,children:m.name})}),p.jsxs("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:[m.locationCode,"-",m.shelfNumber]}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${u?"text-slate-400":"text-slate-500"}`,children:m.quantity}),p.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.jsx("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:"Critical"})})]},m.id))})]})}):p.jsx("div",{className:`text-center py-8 ${u?"text-slate-400":"text-slate-500"}`,children:"No critical stock items found"})})}),p.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6"})]})},yn=({isOpen:e,onClose:t,title:r,children:n,size:a="md",closeOnOutsideClick:i=!0})=>{const{isDarkMode:s}=Jr(),o=W.useRef(null);if(W.useEffect(()=>{const c=u=>{u.key==="Escape"&&t()};return e&&window.addEventListener("keydown",c),()=>{window.removeEventListener("keydown",c)}},[e,t]),W.useEffect(()=>{const c=u=>{i&&o.current&&!o.current.contains(u.target)&&t()};return e&&document.addEventListener("mousedown",c),()=>{document.removeEventListener("mousedown",c)}},[e,t,i]),!e)return null;const l={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-2xl"};return p.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:p.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center",children:[p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:i?t:void 0}),p.jsxs("div",{className:`relative transform overflow-hidden rounded-lg ${l[a]} w-full ${s?"bg-slate-800":"bg-white"} p-6 text-left shadow-xl transition-all`,children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h3",{className:`text-lg font-medium ${s?"text-white":"text-slate-900"}`,children:r}),p.jsx("button",{onClick:t,className:`rounded-md p-1.5 ${s?"text-slate-400 hover:text-slate-300 hover:bg-slate-700":"text-slate-500 hover:text-slate-700 hover:bg-slate-100"} transition-colors`,children:p.jsx(mv,{size:20})})]}),p.jsx("div",{className:`${s?"text-slate-200":"text-slate-700"}`,children:n})]})]})})},cd=({isOpen:e,onClose:t,onBarcodeScanned:r})=>{const[n,a]=W.useState(!1);return W.useEffect(()=>{let i="",s=Date.now();const o=l=>{const c=Date.now();c-s>2e3&&(i=""),s=c,l.key==="Enter"&&i.length>0?(l.preventDefault(),r(i),i="",t()):l.key.length===1&&(i+=l.key)};return e&&(a(!0),document.addEventListener("keydown",o)),()=>{document.removeEventListener("keydown",o),a(!1)}},[e,r,t]),p.jsx(yn,{isOpen:e,onClose:t,title:"Scan Barcode",size:"sm",children:p.jsxs("div",{className:"flex flex-col items-center justify-center p-6 space-y-4",children:[p.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center",children:p.jsx(Oc,{size:32,className:"text-blue-500"})}),p.jsx("p",{className:"text-center text-slate-600",children:n?"Please scan the barcode now...":"Click 'Start Scanning' to begin"}),!n&&p.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-700 text-white rounded-md hover:bg-blue-800 transition-colors",children:"Start Scanning"})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var GU=1252,cfe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],RN={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},FN=function(e){cfe.indexOf(e)!=-1&&(GU=RN[0]=e)};function ufe(){FN(1252)}var Zo=function(e){FN(e)};function KU(){Zo(1200),ufe()}function Z8(e){for(var t=[],r=0,n=e.length;r<n;++r)t[r]=e.charCodeAt(r);return t}function ffe(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r)+(e.charCodeAt(2*r+1)<<8));return t.join("")}function YU(e){for(var t=[],r=0;r<e.length>>1;++r)t[r]=String.fromCharCode(e.charCodeAt(2*r+1)+(e.charCodeAt(2*r)<<8));return t.join("")}var lg=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1);return t==255&&r==254?ffe(e.slice(2)):t==254&&r==255?YU(e.slice(2)):t==65279?e.slice(1):e},lx=function(t){return String.fromCharCode(t)},eD=function(t){return String.fromCharCode(t)},Bu,Ku="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function tD(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0,c=0;c<e.length;)r=e.charCodeAt(c++),i=r>>2,n=e.charCodeAt(c++),s=(r&3)<<4|n>>4,a=e.charCodeAt(c++),o=(n&15)<<2|a>>6,l=a&63,isNaN(n)?o=l=64:isNaN(a)&&(l=64),t+=Ku.charAt(i)+Ku.charAt(s)+Ku.charAt(o)+Ku.charAt(l);return t}function zs(e){var t="",r=0,n=0,a=0,i=0,s=0,o=0,l=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var c=0;c<e.length;)i=Ku.indexOf(e.charAt(c++)),s=Ku.indexOf(e.charAt(c++)),r=i<<2|s>>4,t+=String.fromCharCode(r),o=Ku.indexOf(e.charAt(c++)),n=(s&15)<<4|o>>2,o!==64&&(t+=String.fromCharCode(n)),l=Ku.indexOf(e.charAt(c++)),a=(o&3)<<6|l,l!==64&&(t+=String.fromCharCode(a));return t}var Dr=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),ud=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Ef(e){return Dr?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function rD(e){return Dr?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Qo=function(t){return Dr?ud(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function fd(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function $N(e){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(e instanceof ArrayBuffer)return $N(new Uint8Array(e));for(var t=new Array(e.length),r=0;r<e.length;++r)t[r]=e[r];return t}var Vu=Dr?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:ud(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function hfe(e){for(var t=[],r=0,n=e.length+250,a=Ef(e.length+255),i=0;i<e.length;++i){var s=e.charCodeAt(i);if(s<128)a[r++]=s;else if(s<2048)a[r++]=192|s>>6&31,a[r++]=128|s&63;else if(s>=55296&&s<57344){s=(s&1023)+64;var o=e.charCodeAt(++i)&1023;a[r++]=240|s>>8&7,a[r++]=128|s>>2&63,a[r++]=128|o>>6&15|(s&3)<<4,a[r++]=128|o&63}else a[r++]=224|s>>12&15,a[r++]=128|s>>6&63,a[r++]=128|s&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Ef(65535),n=65530)}return t.push(a.slice(0,r)),Vu(t)}var Xi=/\u0000/g,cg=/[\u0001-\u0006]/g;function D0(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function el(e,t){var r=""+e;return r.length>=t?r:Xn("0",t-r.length)+r}function BN(e,t){var r=""+e;return r.length>=t?r:Xn(" ",t-r.length)+r}function fb(e,t){var r=""+e;return r.length>=t?r:r+Xn(" ",t-r.length)}function dfe(e,t){var r=""+Math.round(e);return r.length>=t?r:Xn("0",t-r.length)+r}function pfe(e,t){var r=""+e;return r.length>=t?r:Xn("0",t-r.length)+r}var nD=Math.pow(2,32);function qd(e,t){if(e>nD||e<-nD)return dfe(e,t);var r=Math.round(e);return pfe(r,t)}function hb(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var aD=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],NS=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function mfe(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',e}var _r={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},iD={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},gfe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function db(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,s=1,o=0,l=1,c=0,u=0,f=Math.floor(a);c<t&&(f=Math.floor(a),o=f*s+i,u=f*c+l,!(a-f<5e-8));)a=1/(a-f),i=s,s=o,l=c,c=u;if(u>t&&(c>t?(u=l,o=i):(u=c,o=s)),!r)return[0,n*o,u];var h=Math.floor(n*o/u);return[h,n*o-h*u,u]}function kh(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,s=[],o={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++a==86400&&(o.T=a=0,++n,++o.D)),n===60)s=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)s=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),s=[l.getFullYear(),l.getMonth()+1,l.getDate()],i=l.getDay(),n<60&&(i=(i+6)%7),r&&(i=_fe(l,s))}return o.y=s[0],o.m=s[1],o.d=s[2],o.S=a%60,a=Math.floor(a/60),o.M=a%60,a=Math.floor(a/60),o.H=a,o.q=i,o}var XU=new Date(1899,11,31,0,0,0),vfe=XU.getTime(),yfe=new Date(1900,2,1,0,0,0);function QU(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=yfe&&(r+=24*60*60*1e3),(r-(vfe+(e.getTimezoneOffset()-XU.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function VN(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function xfe(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function bfe(e){var t=e<0?12:11,r=VN(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function wfe(e){var t=VN(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function Mv(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=bfe(e):t===10?r=e.toFixed(10).substr(0,12):r=wfe(e),VN(xfe(r.toUpperCase()))}function Qh(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):Mv(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return wo(14,QU(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function _fe(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function Sfe(e,t,r,n){var a="",i=0,s=0,o=r.y,l,c=0;switch(e){case 98:o=r.y+543;case 121:switch(t.length){case 1:case 2:l=o%100,c=2;break;default:l=o%1e4,c=4;break}break;case 109:switch(t.length){case 1:case 2:l=r.m,c=t.length;break;case 3:return NS[r.m-1][1];case 5:return NS[r.m-1][0];default:return NS[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:l=r.d,c=t.length;break;case 3:return aD[r.q][0];default:return aD[r.q][1]}break;case 104:switch(t.length){case 1:case 2:l=1+(r.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:l=r.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:l=r.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?el(r.S,t.length):(n>=2?s=n===3?1e3:100:s=n===1?10:1,i=Math.round(s*(r.S+r.u)),i>=60*s&&(i=0),t==="s"?i===0?"0":""+i/s:(a=el(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}c=t.length===3?1:2;break;case 101:l=o,c=1;break}var u=c>0?el(l,c):"";return u}function Yu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var JU=/%/g;function Afe(e,t,r){var n=t.replace(JU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Xn("%",a)}function Tfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function ZU(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+ZU(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var s=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var ez=/# (\?+)( ?)\/( ?)(\d+)/;function Efe(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),s=a-i*n,o=n;return r+(i===0?"":""+i)+" "+(s===0?Xn(" ",e[1].length+1+e[4].length):BN(s,e[1].length)+e[2]+"/"+e[3]+el(o,e[4].length))}function kfe(e,t,r){return r+(t===0?"":""+t)+Xn(" ",e[1].length+2+e[4].length)}var tz=/^#*0*\.([0#]+)/,rz=/\).*[0#]/,nz=/\(###\) ###\\?-####/;function Bi(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function sD(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function oD(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Nfe(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function Cfe(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function so(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?so("n",n,r):"("+so("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Tfe(e,t,r);if(t.indexOf("%")!==-1)return Afe(e,t,r);if(t.indexOf("E")!==-1)return ZU(t,r);if(t.charCodeAt(0)===36)return"$"+so(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+qd(l,t.length);if(t.match(/^[#?]+$/))return a=qd(r,0),a==="0"&&(a=""),a.length>t.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(ez))return Efe(i,l,c);if(t.match(/^#+0+$/))return c+qd(l,t.length-t.indexOf("0"));if(i=t.match(tz))return a=sD(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])).replace(/\.(\d*)$/,function(g,m){return"."+m+Xn("0",Bi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+sD(l,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Yu(qd(l,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+so(e,t,-r):Yu(""+(Math.floor(r)+Nfe(r,i[1].length)))+"."+el(oD(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return so(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=D0(so(e,t.replace(/[\\-]/g,""),r)),s=0,D0(D0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(nz))return a=so(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=db(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fb(o[2],s),u.length<i[4].length&&(u=Bi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=db(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+fb(o[2],s):Xn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=qd(r,0),t.length<=a.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Bi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return s=oD(r,i[1].length),r<0?"-"+so(e,t,-r):Yu(Cfe(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?el(0,3-g.length):"")+g})+"."+el(s,i[1].length);switch(t){case"###,##0.00":return so(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=Yu(qd(l,0));return d!=="0"?c+d:"";case"###,###.00":return so(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return so(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function Pfe(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return bc(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function Ofe(e,t,r){var n=t.replace(JU,""),a=t.length-n.length;return bc(e,n,r*Math.pow(10,2*a))+Xn("%",a)}function az(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+az(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var s=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(s-r.length+i):r+="E+"+(s-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,c,u){return l+c+u.substr(0,(a+i)%a)+"."+u.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function _l(e,t,r){if(e.charCodeAt(0)===40&&!t.match(rz)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?_l("n",n,r):"("+_l("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return Pfe(e,t,r);if(t.indexOf("%")!==-1)return Ofe(e,t,r);if(t.indexOf("E")!==-1)return az(t,r);if(t.charCodeAt(0)===36)return"$"+_l(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,s,o,l=Math.abs(r),c=r<0?"-":"";if(t.match(/^00+$/))return c+el(l,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(ez))return kfe(i,l,c);if(t.match(/^#+0+$/))return c+el(l,t.length-t.indexOf("0"));if(i=t.match(tz))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Bi(i[1])).replace(/\.$/,"."+Bi(i[1])),a=a.replace(/\.(\d*)$/,function(g,m){return"."+m+Xn("0",Bi(i[1]).length-m.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return c+Yu(""+l);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Yu(""+r)+"."+Xn("0",i[1].length);if(i=t.match(/^#,#*,#0/))return _l(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=D0(_l(e,t.replace(/[\\-]/g,""),r)),s=0,D0(D0(t.replace(/\\/g,"")).replace(/[0#]/g,function(g){return s<a.length?a.charAt(s++):g==="0"?"0":""}));if(t.match(nz))return a=_l(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var u="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(i[4].length,7),o=db(l,Math.pow(10,s)-1,!1),a=""+c,u=bc("n",i[1],o[1]),u.charAt(u.length-1)==" "&&(u=u.substr(0,u.length-1)+"0"),a+=u+i[2]+"/"+i[3],u=fb(o[2],s),u.length<i[4].length&&(u=Bi(i[4].substr(i[4].length-u.length))+u),a+=u,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return s=Math.min(Math.max(i[1].length,i[4].length),7),o=db(l,Math.pow(10,s)-1,!0),c+(o[0]||(o[1]?"":"0"))+" "+(o[1]?BN(o[1],s)+i[2]+"/"+i[3]+fb(o[2],s):Xn(" ",2*s+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Bi(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),s=a.indexOf(".");var f=t.indexOf(".")-s,h=t.length-a.length-f;return Bi(t.substr(0,f)+a+t.substr(t.length-h))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+_l(e,t,-r):Yu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(g){return"00,"+(g.length<3?el(0,3-g.length):"")+g})+"."+el(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var d=Yu(""+l);return d!=="0"?c+d:"";default:if(t.match(/\.[0#?]*$/))return _l(e,t.slice(0,t.lastIndexOf(".")),r)+Bi(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function bc(e,t,r){return(r|0)===r?_l(e,t,r):so(e,t,r)}function Ife(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var iz=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Yp(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":hb(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="上午/下午")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(iz))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function Dfe(e,t,r,n){for(var a=[],i="",s=0,o="",l="t",c,u,f,h="H";s<e.length;)switch(o=e.charAt(s)){case"G":if(!hb(e,s))throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"G",v:"General"},s+=7;break;case'"':for(i="";(f=e.charCodeAt(++s))!==34&&s<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++s;break;case"\\":var d=e.charAt(++s),g=d==="("||d===")"?d:"t";a[a.length]={t:g,v:d},++s;break;case"_":a[a.length]={t:"t",v:" "},s+=2;break;case"@":a[a.length]={t:"T",v:t},++s;break;case"B":case"b":if(e.charAt(s+1)==="1"||e.charAt(s+1)==="2"){if(c==null&&(c=kh(t,r,e.charAt(s+1)==="2"),c==null))return"";a[a.length]={t:"X",v:e.substr(s,2)},l=o,s+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||c==null&&(c=kh(t,r),c==null))return"";for(i=o;++s<e.length&&e.charAt(s).toLowerCase()===o;)i+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=h),a[a.length]={t:o,v:i},l=o;break;case"A":case"a":case"上":var m={t:o,v:o};if(c==null&&(c=kh(t,r)),e.substr(s,3).toUpperCase()==="A/P"?(c!=null&&(m.v=c.H>=12?"P":"A"),m.t="T",h="h",s+=3):e.substr(s,5).toUpperCase()==="AM/PM"?(c!=null&&(m.v=c.H>=12?"PM":"AM"),m.t="T",s+=5,h="h"):e.substr(s,5).toUpperCase()==="上午/下午"?(c!=null&&(m.v=c.H>=12?"下午":"上午"),m.t="T",s+=5,h="h"):(m.t="t",++s),c==null&&m.t==="T")return"";a[a.length]=m,l=o;break;case"[":for(i=o;e.charAt(s++)!=="]"&&s<e.length;)i+=e.charAt(s);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(iz)){if(c==null&&(c=kh(t,r),c==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},l=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",Yp(e)||(a[a.length]={t:"t",v:i}));break;case".":if(c!=null){for(i=o;++s<e.length&&(o=e.charAt(s))==="0";)i+=o;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=o;++s<e.length&&"0#?.,E+-%".indexOf(o=e.charAt(s))>-1;)i+=o;a[a.length]={t:"n",v:i};break;case"?":for(i=o;e.charAt(++s)===o;)i+=o;a[a.length]={t:o,v:i},l=o;break;case"*":++s,(e.charAt(s)==" "||e.charAt(s)=="*")&&++s;break;case"(":case")":a[a.length]={t:n===1?"t":o,v:o},++s;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=o;s<e.length&&"0123456789".indexOf(e.charAt(++s))>-1;)i+=e.charAt(s);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:o,v:o},++s;break;case"$":a[a.length]={t:"t",v:"$"},++s;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+e);a[a.length]={t:"t",v:o},++s;break}var v=0,y=0,b;for(s=a.length-1,l="t";s>=0;--s)switch(a[s].t){case"h":case"H":a[s].t=h,l="h",v<1&&(v=1);break;case"s":(b=a[s].v.match(/\.0+$/))&&(y=Math.max(y,b[0].length-1)),v<3&&(v=3);case"d":case"y":case"M":case"e":l=a[s].t;break;case"m":l==="s"&&(a[s].t="M",v<2&&(v=2));break;case"X":break;case"Z":v<1&&a[s].v.match(/[Hh]/)&&(v=1),v<2&&a[s].v.match(/[Mm]/)&&(v=2),v<3&&a[s].v.match(/[Ss]/)&&(v=3)}switch(v){case 0:break;case 1:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M),c.M>=60&&(c.M=0,++c.H);break;case 2:c.u>=.5&&(c.u=0,++c.S),c.S>=60&&(c.S=0,++c.M);break}var w="",O;for(s=0;s<a.length;++s)switch(a[s].t){case"t":case"T":case" ":case"D":break;case"X":a[s].v="",a[s].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[s].v=Sfe(a[s].t.charCodeAt(0),a[s].v,c,y),a[s].t="t";break;case"n":case"?":for(O=s+1;a[O]!=null&&((o=a[O].t)==="?"||o==="D"||(o===" "||o==="t")&&a[O+1]!=null&&(a[O+1].t==="?"||a[O+1].t==="t"&&a[O+1].v==="/")||a[s].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(a[O].v==="/"||a[O].v===" "&&a[O+1]!=null&&a[O+1].t=="?"));)a[s].v+=a[O].v,a[O]={v:"",t:";"},++O;w+=a[s].v,s=O-1;break;case"G":a[s].t="t",a[s].v=Qh(t,r);break}var P="",I,E;if(w.length>0){w.charCodeAt(0)==40?(I=t<0&&w.charCodeAt(0)===45?-t:t,E=bc("n",w,I)):(I=t<0&&n>1?-t:t,E=bc("n",w,I),I<0&&a[0]&&a[0].t=="t"&&(E=E.substr(1),a[0].v="-"+a[0].v)),O=E.length-1;var S=a.length;for(s=0;s<a.length;++s)if(a[s]!=null&&a[s].t!="t"&&a[s].v.indexOf(".")>-1){S=s;break}var A=a.length;if(S===a.length&&E.indexOf("E")===-1){for(s=a.length-1;s>=0;--s)a[s]==null||"n?".indexOf(a[s].t)===-1||(O>=a[s].v.length-1?(O-=a[s].v.length,a[s].v=E.substr(O+1,a[s].v.length)):O<0?a[s].v="":(a[s].v=E.substr(0,O+1),O=-1),a[s].t="t",A=s);O>=0&&A<a.length&&(a[A].v=E.substr(0,O+1)+a[A].v)}else if(S!==a.length&&E.indexOf("E")===-1){for(O=E.indexOf(".")-1,s=S;s>=0;--s)if(!(a[s]==null||"n?".indexOf(a[s].t)===-1)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")-1:a[s].v.length-1,P=a[s].v.substr(u+1);u>=0;--u)O>=0&&(a[s].v.charAt(u)==="0"||a[s].v.charAt(u)==="#")&&(P=E.charAt(O--)+P);a[s].v=P,a[s].t="t",A=s}for(O>=0&&A<a.length&&(a[A].v=E.substr(0,O+1)+a[A].v),O=E.indexOf(".")+1,s=S;s<a.length;++s)if(!(a[s]==null||"n?(".indexOf(a[s].t)===-1&&s!==S)){for(u=a[s].v.indexOf(".")>-1&&s===S?a[s].v.indexOf(".")+1:0,P=a[s].v.substr(0,u);u<a[s].v.length;++u)O<E.length&&(P+=E.charAt(O++));a[s].v=P,a[s].t="t",A=s}}}for(s=0;s<a.length;++s)a[s]!=null&&"n?".indexOf(a[s].t)>-1&&(I=n>1&&t<0&&s>0&&a[s-1].v==="-"?-t:t,a[s].v=bc(a[s].t,a[s].v,I),a[s].t="t");var D="";for(s=0;s!==a.length;++s)a[s]!=null&&(D+=a[s].v);return D}var lD=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function cD(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function jfe(e,t){var r=Ife(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var s=r[0].match(lD),o=r[1].match(lD);return cD(t,s)?[n,r[0]]:cD(t,o)?[n,r[1]]:[n,r[s!=null&&o!=null?2:1]]}return[n,i]}function wo(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:_r)[e],n==null&&(n=r.table&&r.table[iD[e]]||_r[iD[e]]),n==null&&(n=gfe[e]||"General");break}if(hb(n,0))return Qh(t,r);t instanceof Date&&(t=QU(t,r.date1904));var a=jfe(n,t);if(hb(a[1]))return Qh(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return Dfe(a[1],t,r,a[0])}function Rh(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(_r[r]==null){t<0&&(t=r);continue}if(_r[r]==e){t=r;break}}t<0&&(t=391)}return _r[t]=e,t}function sz(){_r=mfe()}var Lfe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},oz=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function Mfe(e){var t=typeof e=="number"?_r[e]:e;return t=t.replace(oz,"(\\d+)"),new RegExp("^"+t+"$")}function Rfe(e,t,r){var n=-1,a=-1,i=-1,s=-1,o=-1,l=-1;(t.match(oz)||[]).forEach(function(f,h){var d=parseInt(r[h+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=d;break;case"d":i=d;break;case"h":s=d;break;case"s":l=d;break;case"m":s>=0?o=d:a=d;break}}),l>=0&&o==-1&&a>=0&&(o=a,a=-1);var c=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);c.length==7&&(c="0"+c),c.length==8&&(c="20"+c);var u=("00"+(s>=0?s:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return s==-1&&o==-1&&l==-1?c:n==-1&&a==-1&&i==-1?u:c+"T"+u}var Ffe=function(){var e={};e.version="1.2.0";function t(){for(var E=0,S=new Array(256),A=0;A!=256;++A)E=A,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,E=E&1?-306674912^E>>>1:E>>>1,S[A]=E;return typeof Int32Array<"u"?new Int32Array(S):S}var r=t();function n(E){var S=0,A=0,D=0,T=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)T[D]=E[D];for(D=0;D!=256;++D)for(A=E[D],S=256+D;S<4096;S+=256)A=T[S]=A>>>8^E[A&255];var k=[];for(D=1;D!=16;++D)k[D-1]=typeof Int32Array<"u"?T.subarray(D*256,D*256+256):T.slice(D*256,D*256+256);return k}var a=n(r),i=a[0],s=a[1],o=a[2],l=a[3],c=a[4],u=a[5],f=a[6],h=a[7],d=a[8],g=a[9],m=a[10],v=a[11],y=a[12],b=a[13],w=a[14];function O(E,S){for(var A=S^-1,D=0,T=E.length;D<T;)A=A>>>8^r[(A^E.charCodeAt(D++))&255];return~A}function P(E,S){for(var A=S^-1,D=E.length-15,T=0;T<D;)A=w[E[T++]^A&255]^b[E[T++]^A>>8&255]^y[E[T++]^A>>16&255]^v[E[T++]^A>>>24]^m[E[T++]]^g[E[T++]]^d[E[T++]]^h[E[T++]]^f[E[T++]]^u[E[T++]]^c[E[T++]]^l[E[T++]]^o[E[T++]]^s[E[T++]]^i[E[T++]]^r[E[T++]];for(D+=15;T<D;)A=A>>>8^r[(A^E[T++])&255];return~A}function I(E,S){for(var A=S^-1,D=0,T=E.length,k=0,j=0;D<T;)k=E.charCodeAt(D++),k<128?A=A>>>8^r[(A^k)&255]:k<2048?(A=A>>>8^r[(A^(192|k>>6&31))&255],A=A>>>8^r[(A^(128|k&63))&255]):k>=55296&&k<57344?(k=(k&1023)+64,j=E.charCodeAt(D++)&1023,A=A>>>8^r[(A^(240|k>>8&7))&255],A=A>>>8^r[(A^(128|k>>2&63))&255],A=A>>>8^r[(A^(128|j>>6&15|(k&3)<<4))&255],A=A>>>8^r[(A^(128|j&63))&255]):(A=A>>>8^r[(A^(224|k>>12&15))&255],A=A>>>8^r[(A^(128|k>>6&63))&255],A=A>>>8^r[(A^(128|k&63))&255]);return~A}return e.table=r,e.bstr=O,e.buf=P,e.str=I,e}(),$r=function(){var t={};t.version="1.2.1";function r(ee,ye){for(var he=ee.split("/"),me=ye.split("/"),be=0,Se=0,Be=Math.min(he.length,me.length);be<Be;++be){if(Se=he[be].length-me[be].length)return Se;if(he[be]!=me[be])return he[be]<me[be]?-1:1}return he.length-me.length}function n(ee){if(ee.charAt(ee.length-1)=="/")return ee.slice(0,-1).indexOf("/")===-1?ee:n(ee.slice(0,-1));var ye=ee.lastIndexOf("/");return ye===-1?ee:ee.slice(0,ye+1)}function a(ee){if(ee.charAt(ee.length-1)=="/")return a(ee.slice(0,-1));var ye=ee.lastIndexOf("/");return ye===-1?ee:ee.slice(ye+1)}function i(ee,ye){typeof ye=="string"&&(ye=new Date(ye));var he=ye.getHours();he=he<<6|ye.getMinutes(),he=he<<5|ye.getSeconds()>>>1,ee.write_shift(2,he);var me=ye.getFullYear()-1980;me=me<<4|ye.getMonth()+1,me=me<<5|ye.getDate(),ee.write_shift(2,me)}function s(ee){var ye=ee.read_shift(2)&65535,he=ee.read_shift(2)&65535,me=new Date,be=he&31;he>>>=5;var Se=he&15;he>>>=4,me.setMilliseconds(0),me.setFullYear(he+1980),me.setMonth(Se-1),me.setDate(be);var Be=ye&31;ye>>>=5;var Ke=ye&63;return ye>>>=6,me.setHours(ye),me.setMinutes(Ke),me.setSeconds(Be<<1),me}function o(ee){ti(ee,0);for(var ye={},he=0;ee.l<=ee.length-4;){var me=ee.read_shift(2),be=ee.read_shift(2),Se=ee.l+be,Be={};switch(me){case 21589:he=ee.read_shift(1),he&1&&(Be.mtime=ee.read_shift(4)),be>5&&(he&2&&(Be.atime=ee.read_shift(4)),he&4&&(Be.ctime=ee.read_shift(4))),Be.mtime&&(Be.mt=new Date(Be.mtime*1e3));break}ee.l=Se,ye[me]=Be}return ye}var l;function c(){return l||(l={})}function u(ee,ye){if(ee[0]==80&&ee[1]==75)return Ee(ee,ye);if((ee[0]|32)==109&&(ee[1]|32)==105)return qa(ee,ye);if(ee.length<512)throw new Error("CFB file size "+ee.length+" < 512");var he=3,me=512,be=0,Se=0,Be=0,Ke=0,Ve=0,Ue=[],He=ee.slice(0,512);ti(He,0);var vt=f(He);switch(he=vt[0],he){case 3:me=512;break;case 4:me=4096;break;case 0:if(vt[1]==0)return Ee(ee,ye);default:throw new Error("Major Version: Expected 3 or 4 saw "+he)}me!==512&&(He=ee.slice(0,me),ti(He,28));var Ot=ee.slice(0,me);h(He,he);var Ft=He.read_shift(4,"i");if(he===3&&Ft!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ft);He.l+=4,Be=He.read_shift(4,"i"),He.l+=4,He.chk("00100000","Mini Stream Cutoff Size: "),Ke=He.read_shift(4,"i"),be=He.read_shift(4,"i"),Ve=He.read_shift(4,"i"),Se=He.read_shift(4,"i");for(var Tt=-1,Dt=0;Dt<109&&(Tt=He.read_shift(4,"i"),!(Tt<0));++Dt)Ue[Dt]=Tt;var rr=d(ee,me);v(Ve,Se,rr,me,Ue);var Lr=b(rr,Be,Ue,me);Lr[Be].name="!Directory",be>0&&Ke!==j&&(Lr[Ke].name="!MiniFAT"),Lr[Ue[0]].name="!FAT",Lr.fat_addrs=Ue,Lr.ssz=me;var Mr={},un=[],Di=[],Eo=[];w(Be,Lr,rr,un,be,Mr,Di,Ke),g(Di,Eo,un),un.shift();var ws={FileIndex:Di,FullPaths:Eo};return ye&&ye.raw&&(ws.raw={header:Ot,sectors:rr}),ws}function f(ee){if(ee[ee.l]==80&&ee[ee.l+1]==75)return[0,0];ee.chk(V,"Header Signature: "),ee.l+=16;var ye=ee.read_shift(2,"u");return[ee.read_shift(2,"u"),ye]}function h(ee,ye){var he=9;switch(ee.l+=2,he=ee.read_shift(2)){case 9:if(ye!=3)throw new Error("Sector Shift: Expected 9 saw "+he);break;case 12:if(ye!=4)throw new Error("Sector Shift: Expected 12 saw "+he);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+he)}ee.chk("0600","Mini Sector Shift: "),ee.chk("000000000000","Reserved: ")}function d(ee,ye){for(var he=Math.ceil(ee.length/ye)-1,me=[],be=1;be<he;++be)me[be-1]=ee.slice(be*ye,(be+1)*ye);return me[he-1]=ee.slice(he*ye),me}function g(ee,ye,he){for(var me=0,be=0,Se=0,Be=0,Ke=0,Ve=he.length,Ue=[],He=[];me<Ve;++me)Ue[me]=He[me]=me,ye[me]=he[me];for(;Ke<He.length;++Ke)me=He[Ke],be=ee[me].L,Se=ee[me].R,Be=ee[me].C,Ue[me]===me&&(be!==-1&&Ue[be]!==be&&(Ue[me]=Ue[be]),Se!==-1&&Ue[Se]!==Se&&(Ue[me]=Ue[Se])),Be!==-1&&(Ue[Be]=me),be!==-1&&me!=Ue[me]&&(Ue[be]=Ue[me],He.lastIndexOf(be)<Ke&&He.push(be)),Se!==-1&&me!=Ue[me]&&(Ue[Se]=Ue[me],He.lastIndexOf(Se)<Ke&&He.push(Se));for(me=1;me<Ve;++me)Ue[me]===me&&(Se!==-1&&Ue[Se]!==Se?Ue[me]=Ue[Se]:be!==-1&&Ue[be]!==be&&(Ue[me]=Ue[be]));for(me=1;me<Ve;++me)if(ee[me].type!==0){if(Ke=me,Ke!=Ue[Ke])do Ke=Ue[Ke],ye[me]=ye[Ke]+"/"+ye[me];while(Ke!==0&&Ue[Ke]!==-1&&Ke!=Ue[Ke]);Ue[me]=-1}for(ye[0]+="/",me=1;me<Ve;++me)ee[me].type!==2&&(ye[me]+="/")}function m(ee,ye,he){for(var me=ee.start,be=ee.size,Se=[],Be=me;he&&be>0&&Be>=0;)Se.push(ye.slice(Be*k,Be*k+k)),be-=k,Be=yh(he,Be*4);return Se.length===0?Sa(0):Vu(Se).slice(0,ee.size)}function v(ee,ye,he,me,be){var Se=j;if(ee===j){if(ye!==0)throw new Error("DIFAT chain shorter than expected")}else if(ee!==-1){var Be=he[ee],Ke=(me>>>2)-1;if(!Be)return;for(var Ve=0;Ve<Ke&&(Se=yh(Be,Ve*4))!==j;++Ve)be.push(Se);v(yh(Be,me-4),ye-1,he,me,be)}}function y(ee,ye,he,me,be){var Se=[],Be=[];be||(be=[]);var Ke=me-1,Ve=0,Ue=0;for(Ve=ye;Ve>=0;){be[Ve]=!0,Se[Se.length]=Ve,Be.push(ee[Ve]);var He=he[Math.floor(Ve*4/me)];if(Ue=Ve*4&Ke,me<4+Ue)throw new Error("FAT boundary crossed: "+Ve+" 4 "+me);if(!ee[He])break;Ve=yh(ee[He],Ue)}return{nodes:Se,data:xD([Be])}}function b(ee,ye,he,me){var be=ee.length,Se=[],Be=[],Ke=[],Ve=[],Ue=me-1,He=0,vt=0,Ot=0,Ft=0;for(He=0;He<be;++He)if(Ke=[],Ot=He+ye,Ot>=be&&(Ot-=be),!Be[Ot]){Ve=[];var Tt=[];for(vt=Ot;vt>=0;){Tt[vt]=!0,Be[vt]=!0,Ke[Ke.length]=vt,Ve.push(ee[vt]);var Dt=he[Math.floor(vt*4/me)];if(Ft=vt*4&Ue,me<4+Ft)throw new Error("FAT boundary crossed: "+vt+" 4 "+me);if(!ee[Dt]||(vt=yh(ee[Dt],Ft),Tt[vt]))break}Se[Ot]={nodes:Ke,data:xD([Ve])}}return Se}function w(ee,ye,he,me,be,Se,Be,Ke){for(var Ve=0,Ue=me.length?2:0,He=ye[ee].data,vt=0,Ot=0,Ft;vt<He.length;vt+=128){var Tt=He.slice(vt,vt+128);ti(Tt,64),Ot=Tt.read_shift(2),Ft=HN(Tt,0,Ot-Ue),me.push(Ft);var Dt={name:Ft,type:Tt.read_shift(1),color:Tt.read_shift(1),L:Tt.read_shift(4,"i"),R:Tt.read_shift(4,"i"),C:Tt.read_shift(4,"i"),clsid:Tt.read_shift(16),state:Tt.read_shift(4,"i"),start:0,size:0},rr=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);rr!==0&&(Dt.ct=O(Tt,Tt.l-8));var Lr=Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2)+Tt.read_shift(2);Lr!==0&&(Dt.mt=O(Tt,Tt.l-8)),Dt.start=Tt.read_shift(4,"i"),Dt.size=Tt.read_shift(4,"i"),Dt.size<0&&Dt.start<0&&(Dt.size=Dt.type=0,Dt.start=j,Dt.name=""),Dt.type===5?(Ve=Dt.start,be>0&&Ve!==j&&(ye[Ve].name="!StreamData")):Dt.size>=4096?(Dt.storage="fat",ye[Dt.start]===void 0&&(ye[Dt.start]=y(he,Dt.start,ye.fat_addrs,ye.ssz)),ye[Dt.start].name=Dt.name,Dt.content=ye[Dt.start].data.slice(0,Dt.size)):(Dt.storage="minifat",Dt.size<0?Dt.size=0:Ve!==j&&Dt.start!==j&&ye[Ve]&&(Dt.content=m(Dt,ye[Ve].data,(ye[Ke]||{}).data))),Dt.content&&ti(Dt.content,0),Se[Ft]=Dt,Be.push(Dt)}}function O(ee,ye){return new Date((Ds(ee,ye+4)/1e7*Math.pow(2,32)+Ds(ee,ye)/1e7-11644473600)*1e3)}function P(ee,ye){return c(),u(l.readFileSync(ee),ye)}function I(ee,ye){var he=ye&&ye.type;switch(he||Dr&&Buffer.isBuffer(ee)&&(he="buffer"),he||"base64"){case"file":return P(ee,ye);case"base64":return u(Qo(zs(ee)),ye);case"binary":return u(Qo(ee),ye)}return u(ee,ye)}function E(ee,ye){var he=ye||{},me=he.root||"Root Entry";if(ee.FullPaths||(ee.FullPaths=[]),ee.FileIndex||(ee.FileIndex=[]),ee.FullPaths.length!==ee.FileIndex.length)throw new Error("inconsistent CFB structure");ee.FullPaths.length===0&&(ee.FullPaths[0]=me+"/",ee.FileIndex[0]={name:me,type:5}),he.CLSID&&(ee.FileIndex[0].clsid=he.CLSID),S(ee)}function S(ee){var ye="Sh33tJ5";if(!$r.find(ee,"/"+ye)){var he=Sa(4);he[0]=55,he[1]=he[3]=50,he[2]=54,ee.FileIndex.push({name:ye,type:2,content:he,size:4,L:69,R:69,C:69}),ee.FullPaths.push(ee.FullPaths[0]+ye),A(ee)}}function A(ee,ye){E(ee);for(var he=!1,me=!1,be=ee.FullPaths.length-1;be>=0;--be){var Se=ee.FileIndex[be];switch(Se.type){case 0:me?he=!0:(ee.FileIndex.pop(),ee.FullPaths.pop());break;case 1:case 2:case 5:me=!0,isNaN(Se.R*Se.L*Se.C)&&(he=!0),Se.R>-1&&Se.L>-1&&Se.R==Se.L&&(he=!0);break;default:he=!0;break}}if(!(!he&&!ye)){var Be=new Date(1987,1,19),Ke=0,Ve=Object.create?Object.create(null):{},Ue=[];for(be=0;be<ee.FullPaths.length;++be)Ve[ee.FullPaths[be]]=!0,ee.FileIndex[be].type!==0&&Ue.push([ee.FullPaths[be],ee.FileIndex[be]]);for(be=0;be<Ue.length;++be){var He=n(Ue[be][0]);me=Ve[He],me||(Ue.push([He,{name:a(He).replace("/",""),type:1,clsid:Y,ct:Be,mt:Be,content:null}]),Ve[He]=!0)}for(Ue.sort(function(Ft,Tt){return r(Ft[0],Tt[0])}),ee.FullPaths=[],ee.FileIndex=[],be=0;be<Ue.length;++be)ee.FullPaths[be]=Ue[be][0],ee.FileIndex[be]=Ue[be][1];for(be=0;be<Ue.length;++be){var vt=ee.FileIndex[be],Ot=ee.FullPaths[be];if(vt.name=a(Ot).replace("/",""),vt.L=vt.R=vt.C=-(vt.color=1),vt.size=vt.content?vt.content.length:0,vt.start=0,vt.clsid=vt.clsid||Y,be===0)vt.C=Ue.length>1?1:-1,vt.size=0,vt.type=5;else if(Ot.slice(-1)=="/"){for(Ke=be+1;Ke<Ue.length&&n(ee.FullPaths[Ke])!=Ot;++Ke);for(vt.C=Ke>=Ue.length?-1:Ke,Ke=be+1;Ke<Ue.length&&n(ee.FullPaths[Ke])!=n(Ot);++Ke);vt.R=Ke>=Ue.length?-1:Ke,vt.type=1}else n(ee.FullPaths[be+1]||"")==n(Ot)&&(vt.R=be+1),vt.type=2}}}function D(ee,ye){var he=ye||{};if(he.fileType=="mad")return we(ee,he);switch(A(ee),he.fileType){case"zip":return nt(ee,he)}var me=function(Ft){for(var Tt=0,Dt=0,rr=0;rr<Ft.FileIndex.length;++rr){var Lr=Ft.FileIndex[rr];if(Lr.content){var Mr=Lr.content.length;Mr>0&&(Mr<4096?Tt+=Mr+63>>6:Dt+=Mr+511>>9)}}for(var un=Ft.FullPaths.length+3>>2,Di=Tt+7>>3,Eo=Tt+127>>7,ws=Di+Dt+un+Eo,es=ws+127>>7,_s=es<=109?0:Math.ceil((es-109)/127);ws+es+_s+127>>7>es;)_s=++es<=109?0:Math.ceil((es-109)/127);var Wa=[1,_s,es,Eo,un,Dt,Tt,0];return Ft.FileIndex[0].size=Tt<<6,Wa[7]=(Ft.FileIndex[0].start=Wa[0]+Wa[1]+Wa[2]+Wa[3]+Wa[4]+Wa[5])+(Wa[6]+7>>3),Wa}(ee),be=Sa(me[7]<<9),Se=0,Be=0;{for(Se=0;Se<8;++Se)be.write_shift(1,Q[Se]);for(Se=0;Se<8;++Se)be.write_shift(2,0);for(be.write_shift(2,62),be.write_shift(2,3),be.write_shift(2,65534),be.write_shift(2,9),be.write_shift(2,6),Se=0;Se<3;++Se)be.write_shift(2,0);for(be.write_shift(4,0),be.write_shift(4,me[2]),be.write_shift(4,me[0]+me[1]+me[2]+me[3]-1),be.write_shift(4,0),be.write_shift(4,4096),be.write_shift(4,me[3]?me[0]+me[1]+me[2]-1:j),be.write_shift(4,me[3]),be.write_shift(-4,me[1]?me[0]-1:j),be.write_shift(4,me[1]),Se=0;Se<109;++Se)be.write_shift(-4,Se<me[2]?me[1]+Se:-1)}if(me[1])for(Be=0;Be<me[1];++Be){for(;Se<236+Be*127;++Se)be.write_shift(-4,Se<me[2]?me[1]+Se:-1);be.write_shift(-4,Be===me[1]-1?j:Be+1)}var Ke=function(Ft){for(Be+=Ft;Se<Be-1;++Se)be.write_shift(-4,Se+1);Ft&&(++Se,be.write_shift(-4,j))};for(Be=Se=0,Be+=me[1];Se<Be;++Se)be.write_shift(-4,J.DIFSECT);for(Be+=me[2];Se<Be;++Se)be.write_shift(-4,J.FATSECT);Ke(me[3]),Ke(me[4]);for(var Ve=0,Ue=0,He=ee.FileIndex[0];Ve<ee.FileIndex.length;++Ve)He=ee.FileIndex[Ve],He.content&&(Ue=He.content.length,!(Ue<4096)&&(He.start=Be,Ke(Ue+511>>9)));for(Ke(me[6]+7>>3);be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(Be=Se=0,Ve=0;Ve<ee.FileIndex.length;++Ve)He=ee.FileIndex[Ve],He.content&&(Ue=He.content.length,!(!Ue||Ue>=4096)&&(He.start=Be,Ke(Ue+63>>6)));for(;be.l&511;)be.write_shift(-4,J.ENDOFCHAIN);for(Se=0;Se<me[4]<<2;++Se){var vt=ee.FullPaths[Se];if(!vt||vt.length===0){for(Ve=0;Ve<17;++Ve)be.write_shift(4,0);for(Ve=0;Ve<3;++Ve)be.write_shift(4,-1);for(Ve=0;Ve<12;++Ve)be.write_shift(4,0);continue}He=ee.FileIndex[Se],Se===0&&(He.start=He.size?He.start-1:j);var Ot=Se===0&&he.root||He.name;if(Ue=2*(Ot.length+1),be.write_shift(64,Ot,"utf16le"),be.write_shift(2,Ue),be.write_shift(1,He.type),be.write_shift(1,He.color),be.write_shift(-4,He.L),be.write_shift(-4,He.R),be.write_shift(-4,He.C),He.clsid)be.write_shift(16,He.clsid,"hex");else for(Ve=0;Ve<4;++Ve)be.write_shift(4,0);be.write_shift(4,He.state||0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,0),be.write_shift(4,He.start),be.write_shift(4,He.size),be.write_shift(4,0)}for(Se=1;Se<ee.FileIndex.length;++Se)if(He=ee.FileIndex[Se],He.size>=4096)if(be.l=He.start+1<<9,Dr&&Buffer.isBuffer(He.content))He.content.copy(be,be.l,0,He.size),be.l+=He.size+511&-512;else{for(Ve=0;Ve<He.size;++Ve)be.write_shift(1,He.content[Ve]);for(;Ve&511;++Ve)be.write_shift(1,0)}for(Se=1;Se<ee.FileIndex.length;++Se)if(He=ee.FileIndex[Se],He.size>0&&He.size<4096)if(Dr&&Buffer.isBuffer(He.content))He.content.copy(be,be.l,0,He.size),be.l+=He.size+63&-64;else{for(Ve=0;Ve<He.size;++Ve)be.write_shift(1,He.content[Ve]);for(;Ve&63;++Ve)be.write_shift(1,0)}if(Dr)be.l=be.length;else for(;be.l<be.length;)be.write_shift(1,0);return be}function T(ee,ye){var he=ee.FullPaths.map(function(Ve){return Ve.toUpperCase()}),me=he.map(function(Ve){var Ue=Ve.split("/");return Ue[Ue.length-(Ve.slice(-1)=="/"?2:1)]}),be=!1;ye.charCodeAt(0)===47?(be=!0,ye=he[0].slice(0,-1)+ye):be=ye.indexOf("/")!==-1;var Se=ye.toUpperCase(),Be=be===!0?he.indexOf(Se):me.indexOf(Se);if(Be!==-1)return ee.FileIndex[Be];var Ke=!Se.match(cg);for(Se=Se.replace(Xi,""),Ke&&(Se=Se.replace(cg,"!")),Be=0;Be<he.length;++Be)if((Ke?he[Be].replace(cg,"!"):he[Be]).replace(Xi,"")==Se||(Ke?me[Be].replace(cg,"!"):me[Be]).replace(Xi,"")==Se)return ee.FileIndex[Be];return null}var k=64,j=-2,V="d0cf11e0a1b11ae1",Q=[208,207,17,224,161,177,26,225],Y="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:j,FREESECT:-1,HEADER_SIGNATURE:V,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function H(ee,ye,he){c();var me=D(ee,he);l.writeFileSync(ye,me)}function U(ee){for(var ye=new Array(ee.length),he=0;he<ee.length;++he)ye[he]=String.fromCharCode(ee[he]);return ye.join("")}function re(ee,ye){var he=D(ee,ye);switch(ye&&ye.type||"buffer"){case"file":return c(),l.writeFileSync(ye.filename,he),he;case"binary":return typeof he=="string"?he:U(he);case"base64":return tD(typeof he=="string"?he:U(he));case"buffer":if(Dr)return Buffer.isBuffer(he)?he:ud(he);case"array":return typeof he=="string"?Qo(he):he}return he}var z;function C(ee){try{var ye=ee.InflateRaw,he=new ye;if(he._processChunk(new Uint8Array([3,0]),he._finishFlushFlag),he.bytesRead)z=ee;else throw new Error("zlib does not expose bytesRead")}catch(me){console.error("cannot use native zlib: "+(me.message||me))}}function F(ee,ye){if(!z)return Bt(ee,ye);var he=z.InflateRaw,me=new he,be=me._processChunk(ee.slice(ee.l),me._finishFlushFlag);return ee.l+=me.bytesRead,be}function q(ee){return z?z.deflateRawSync(ee):ft(ee)}var K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function fe(ee){var ye=(ee<<1|ee<<11)&139536|(ee<<5|ee<<15)&558144;return(ye>>16|ye>>8|ye)&255}for(var ie=typeof Uint8Array<"u",de=ie?new Uint8Array(256):[],_e=0;_e<256;++_e)de[_e]=fe(_e);function B(ee,ye){var he=de[ee&255];return ye<=8?he>>>8-ye:(he=he<<8|de[ee>>8&255],ye<=16?he>>>16-ye:(he=he<<8|de[ee>>16&255],he>>>24-ye))}function Te(ee,ye){var he=ye&7,me=ye>>>3;return(ee[me]|(he<=6?0:ee[me+1]<<8))>>>he&3}function ge(ee,ye){var he=ye&7,me=ye>>>3;return(ee[me]|(he<=5?0:ee[me+1]<<8))>>>he&7}function ve(ee,ye){var he=ye&7,me=ye>>>3;return(ee[me]|(he<=4?0:ee[me+1]<<8))>>>he&15}function te(ee,ye){var he=ye&7,me=ye>>>3;return(ee[me]|(he<=3?0:ee[me+1]<<8))>>>he&31}function ke(ee,ye){var he=ye&7,me=ye>>>3;return(ee[me]|(he<=1?0:ee[me+1]<<8))>>>he&127}function $e(ee,ye,he){var me=ye&7,be=ye>>>3,Se=(1<<he)-1,Be=ee[be]>>>me;return he<8-me||(Be|=ee[be+1]<<8-me,he<16-me)||(Be|=ee[be+2]<<16-me,he<24-me)||(Be|=ee[be+3]<<24-me),Be&Se}function Fe(ee,ye,he){var me=ye&7,be=ye>>>3;return me<=5?ee[be]|=(he&7)<<me:(ee[be]|=he<<me&255,ee[be+1]=(he&7)>>8-me),ye+3}function Qe(ee,ye,he){var me=ye&7,be=ye>>>3;return he=(he&1)<<me,ee[be]|=he,ye+1}function Le(ee,ye,he){var me=ye&7,be=ye>>>3;return he<<=me,ee[be]|=he&255,he>>>=8,ee[be+1]=he,ye+8}function Ge(ee,ye,he){var me=ye&7,be=ye>>>3;return he<<=me,ee[be]|=he&255,he>>>=8,ee[be+1]=he&255,ee[be+2]=he>>>8,ye+16}function Me(ee,ye){var he=ee.length,me=2*he>ye?2*he:ye+5,be=0;if(he>=ye)return ee;if(Dr){var Se=rD(me);if(ee.copy)ee.copy(Se);else for(;be<ee.length;++be)Se[be]=ee[be];return Se}else if(ie){var Be=new Uint8Array(me);if(Be.set)Be.set(ee);else for(;be<he;++be)Be[be]=ee[be];return Be}return ee.length=me,ee}function Ye(ee){for(var ye=new Array(ee),he=0;he<ee;++he)ye[he]=0;return ye}function mt(ee,ye,he){var me=1,be=0,Se=0,Be=0,Ke=0,Ve=ee.length,Ue=ie?new Uint16Array(32):Ye(32);for(Se=0;Se<32;++Se)Ue[Se]=0;for(Se=Ve;Se<he;++Se)ee[Se]=0;Ve=ee.length;var He=ie?new Uint16Array(Ve):Ye(Ve);for(Se=0;Se<Ve;++Se)Ue[be=ee[Se]]++,me<be&&(me=be),He[Se]=0;for(Ue[0]=0,Se=1;Se<=me;++Se)Ue[Se+16]=Ke=Ke+Ue[Se-1]<<1;for(Se=0;Se<Ve;++Se)Ke=ee[Se],Ke!=0&&(He[Se]=Ue[Ke+16]++);var vt=0;for(Se=0;Se<Ve;++Se)if(vt=ee[Se],vt!=0)for(Ke=B(He[Se],me)>>me-vt,Be=(1<<me+4-vt)-1;Be>=0;--Be)ye[Ke|Be<<vt]=vt&15|Se<<4;return me}var at=ie?new Uint16Array(512):Ye(512),gt=ie?new Uint16Array(32):Ye(32);if(!ie){for(var At=0;At<512;++At)at[At]=0;for(At=0;At<32;++At)gt[At]=0}(function(){for(var ee=[],ye=0;ye<32;ye++)ee.push(5);mt(ee,gt,32);var he=[];for(ye=0;ye<=143;ye++)he.push(8);for(;ye<=255;ye++)he.push(9);for(;ye<=279;ye++)he.push(7);for(;ye<=287;ye++)he.push(8);mt(he,at,288)})();var Pt=function(){for(var ye=ie?new Uint8Array(32768):[],he=0,me=0;he<oe.length-1;++he)for(;me<oe[he+1];++me)ye[me]=he;for(;me<32768;++me)ye[me]=29;var be=ie?new Uint8Array(259):[];for(he=0,me=0;he<Z.length-1;++he)for(;me<Z[he+1];++me)be[me]=he;function Se(Ke,Ve){for(var Ue=0;Ue<Ke.length;){var He=Math.min(65535,Ke.length-Ue),vt=Ue+He==Ke.length;for(Ve.write_shift(1,+vt),Ve.write_shift(2,He),Ve.write_shift(2,~He&65535);He-- >0;)Ve[Ve.l++]=Ke[Ue++]}return Ve.l}function Be(Ke,Ve){for(var Ue=0,He=0,vt=ie?new Uint16Array(32768):[];He<Ke.length;){var Ot=Math.min(65535,Ke.length-He);if(Ot<10){for(Ue=Fe(Ve,Ue,+(He+Ot==Ke.length)),Ue&7&&(Ue+=8-(Ue&7)),Ve.l=Ue/8|0,Ve.write_shift(2,Ot),Ve.write_shift(2,~Ot&65535);Ot-- >0;)Ve[Ve.l++]=Ke[He++];Ue=Ve.l*8;continue}Ue=Fe(Ve,Ue,+(He+Ot==Ke.length)+2);for(var Ft=0;Ot-- >0;){var Tt=Ke[He];Ft=(Ft<<5^Tt)&32767;var Dt=-1,rr=0;if((Dt=vt[Ft])&&(Dt|=He&-32768,Dt>He&&(Dt-=32768),Dt<He))for(;Ke[Dt+rr]==Ke[He+rr]&&rr<250;)++rr;if(rr>2){Tt=be[rr],Tt<=22?Ue=Le(Ve,Ue,de[Tt+1]>>1)-1:(Le(Ve,Ue,3),Ue+=5,Le(Ve,Ue,de[Tt-23]>>5),Ue+=3);var Lr=Tt<8?0:Tt-4>>2;Lr>0&&(Ge(Ve,Ue,rr-Z[Tt]),Ue+=Lr),Tt=ye[He-Dt],Ue=Le(Ve,Ue,de[Tt]>>3),Ue-=3;var Mr=Tt<4?0:Tt-2>>1;Mr>0&&(Ge(Ve,Ue,He-Dt-oe[Tt]),Ue+=Mr);for(var un=0;un<rr;++un)vt[Ft]=He&32767,Ft=(Ft<<5^Ke[He])&32767,++He;Ot-=rr-1}else Tt<=143?Tt=Tt+48:Ue=Qe(Ve,Ue,1),Ue=Le(Ve,Ue,de[Tt]),vt[Ft]=He&32767,++He}Ue=Le(Ve,Ue,0)-1}return Ve.l=(Ue+7)/8|0,Ve.l}return function(Ve,Ue){return Ve.length<8?Se(Ve,Ue):Be(Ve,Ue)}}();function ft(ee){var ye=Sa(50+Math.floor(ee.length*1.1)),he=Pt(ee,ye);return ye.slice(0,he)}var rt=ie?new Uint16Array(32768):Ye(32768),Kt=ie?new Uint16Array(32768):Ye(32768),Vt=ie?new Uint16Array(128):Ye(128),Ur=1,wt=1;function Ct(ee,ye){var he=te(ee,ye)+257;ye+=5;var me=te(ee,ye)+1;ye+=5;var be=ve(ee,ye)+4;ye+=4;for(var Se=0,Be=ie?new Uint8Array(19):Ye(19),Ke=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ve=1,Ue=ie?new Uint8Array(8):Ye(8),He=ie?new Uint8Array(8):Ye(8),vt=Be.length,Ot=0;Ot<be;++Ot)Be[K[Ot]]=Se=ge(ee,ye),Ve<Se&&(Ve=Se),Ue[Se]++,ye+=3;var Ft=0;for(Ue[0]=0,Ot=1;Ot<=Ve;++Ot)He[Ot]=Ft=Ft+Ue[Ot-1]<<1;for(Ot=0;Ot<vt;++Ot)(Ft=Be[Ot])!=0&&(Ke[Ot]=He[Ft]++);var Tt=0;for(Ot=0;Ot<vt;++Ot)if(Tt=Be[Ot],Tt!=0){Ft=de[Ke[Ot]]>>8-Tt;for(var Dt=(1<<7-Tt)-1;Dt>=0;--Dt)Vt[Ft|Dt<<Tt]=Tt&7|Ot<<3}var rr=[];for(Ve=1;rr.length<he+me;)switch(Ft=Vt[ke(ee,ye)],ye+=Ft&7,Ft>>>=3){case 16:for(Se=3+Te(ee,ye),ye+=2,Ft=rr[rr.length-1];Se-- >0;)rr.push(Ft);break;case 17:for(Se=3+ge(ee,ye),ye+=3;Se-- >0;)rr.push(0);break;case 18:for(Se=11+ke(ee,ye),ye+=7;Se-- >0;)rr.push(0);break;default:rr.push(Ft),Ve<Ft&&(Ve=Ft);break}var Lr=rr.slice(0,he),Mr=rr.slice(he);for(Ot=he;Ot<286;++Ot)Lr[Ot]=0;for(Ot=me;Ot<30;++Ot)Mr[Ot]=0;return Ur=mt(Lr,rt,286),wt=mt(Mr,Kt,30),ye}function Qt(ee,ye){if(ee[0]==3&&!(ee[1]&3))return[Ef(ye),2];for(var he=0,me=0,be=rD(ye||1<<18),Se=0,Be=be.length>>>0,Ke=0,Ve=0;!(me&1);){if(me=ge(ee,he),he+=3,me>>>1)me>>1==1?(Ke=9,Ve=5):(he=Ct(ee,he),Ke=Ur,Ve=wt);else{he&7&&(he+=8-(he&7));var Ue=ee[he>>>3]|ee[(he>>>3)+1]<<8;if(he+=32,Ue>0)for(!ye&&Be<Se+Ue&&(be=Me(be,Se+Ue),Be=be.length);Ue-- >0;)be[Se++]=ee[he>>>3],he+=8;continue}for(;;){!ye&&Be<Se+32767&&(be=Me(be,Se+32767),Be=be.length);var He=$e(ee,he,Ke),vt=me>>>1==1?at[He]:rt[He];if(he+=vt&15,vt>>>=4,!(vt>>>8&255))be[Se++]=vt;else{if(vt==256)break;vt-=257;var Ot=vt<8?0:vt-4>>2;Ot>5&&(Ot=0);var Ft=Se+Z[vt];Ot>0&&(Ft+=$e(ee,he,Ot),he+=Ot),He=$e(ee,he,Ve),vt=me>>>1==1?gt[He]:Kt[He],he+=vt&15,vt>>>=4;var Tt=vt<4?0:vt-2>>1,Dt=oe[vt];for(Tt>0&&(Dt+=$e(ee,he,Tt),he+=Tt),!ye&&Be<Ft&&(be=Me(be,Ft+100),Be=be.length);Se<Ft;)be[Se]=be[Se-Dt],++Se}}}return ye?[be,he+7>>>3]:[be.slice(0,Se),he+7>>>3]}function Bt(ee,ye){var he=ee.slice(ee.l||0),me=Qt(he,ye);return ee.l+=me[1],me[0]}function Sr(ee,ye){if(ee)typeof console<"u"&&console.error(ye);else throw new Error(ye)}function Ee(ee,ye){var he=ee;ti(he,0);var me=[],be=[],Se={FileIndex:me,FullPaths:be};E(Se,{root:ye.root});for(var Be=he.length-4;(he[Be]!=80||he[Be+1]!=75||he[Be+2]!=5||he[Be+3]!=6)&&Be>=0;)--Be;he.l=Be+4,he.l+=4;var Ke=he.read_shift(2);he.l+=6;var Ve=he.read_shift(4);for(he.l=Ve,Be=0;Be<Ke;++Be){he.l+=20;var Ue=he.read_shift(4),He=he.read_shift(4),vt=he.read_shift(2),Ot=he.read_shift(2),Ft=he.read_shift(2);he.l+=8;var Tt=he.read_shift(4),Dt=o(he.slice(he.l+vt,he.l+vt+Ot));he.l+=vt+Ot+Ft;var rr=he.l;he.l=Tt+4,Xe(he,Ue,He,Se,Dt),he.l=rr}return Se}function Xe(ee,ye,he,me,be){ee.l+=2;var Se=ee.read_shift(2),Be=ee.read_shift(2),Ke=s(ee);if(Se&8257)throw new Error("Unsupported ZIP encryption");for(var Ve=ee.read_shift(4),Ue=ee.read_shift(4),He=ee.read_shift(4),vt=ee.read_shift(2),Ot=ee.read_shift(2),Ft="",Tt=0;Tt<vt;++Tt)Ft+=String.fromCharCode(ee[ee.l++]);if(Ot){var Dt=o(ee.slice(ee.l,ee.l+Ot));(Dt[21589]||{}).mt&&(Ke=Dt[21589].mt),((be||{})[21589]||{}).mt&&(Ke=be[21589].mt)}ee.l+=Ot;var rr=ee.slice(ee.l,ee.l+Ue);switch(Be){case 8:rr=F(ee,He);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Be)}var Lr=!1;Se&8&&(Ve=ee.read_shift(4),Ve==134695760&&(Ve=ee.read_shift(4),Lr=!0),Ue=ee.read_shift(4),He=ee.read_shift(4)),Ue!=ye&&Sr(Lr,"Bad compressed size: "+ye+" != "+Ue),He!=he&&Sr(Lr,"Bad uncompressed size: "+he+" != "+He),kt(me,Ft,rr,{unsafe:!0,mt:Ke})}function nt(ee,ye){var he=ye||{},me=[],be=[],Se=Sa(1),Be=he.compression?8:0,Ke=0,Ve=0,Ue=0,He=0,vt=0,Ot=ee.FullPaths[0],Ft=Ot,Tt=ee.FileIndex[0],Dt=[],rr=0;for(Ve=1;Ve<ee.FullPaths.length;++Ve)if(Ft=ee.FullPaths[Ve].slice(Ot.length),Tt=ee.FileIndex[Ve],!(!Tt.size||!Tt.content||Ft=="Sh33tJ5")){var Lr=He,Mr=Sa(Ft.length);for(Ue=0;Ue<Ft.length;++Ue)Mr.write_shift(1,Ft.charCodeAt(Ue)&127);Mr=Mr.slice(0,Mr.l),Dt[vt]=Ffe.buf(Tt.content,0);var un=Tt.content;Be==8&&(un=q(un)),Se=Sa(30),Se.write_shift(4,67324752),Se.write_shift(2,20),Se.write_shift(2,Ke),Se.write_shift(2,Be),Tt.mt?i(Se,Tt.mt):Se.write_shift(4,0),Se.write_shift(-4,Dt[vt]),Se.write_shift(4,un.length),Se.write_shift(4,Tt.content.length),Se.write_shift(2,Mr.length),Se.write_shift(2,0),He+=Se.length,me.push(Se),He+=Mr.length,me.push(Mr),He+=un.length,me.push(un),Se=Sa(46),Se.write_shift(4,33639248),Se.write_shift(2,0),Se.write_shift(2,20),Se.write_shift(2,Ke),Se.write_shift(2,Be),Se.write_shift(4,0),Se.write_shift(-4,Dt[vt]),Se.write_shift(4,un.length),Se.write_shift(4,Tt.content.length),Se.write_shift(2,Mr.length),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(4,0),Se.write_shift(4,Lr),rr+=Se.l,be.push(Se),rr+=Mr.length,be.push(Mr),++vt}return Se=Sa(22),Se.write_shift(4,101010256),Se.write_shift(2,0),Se.write_shift(2,0),Se.write_shift(2,vt),Se.write_shift(2,vt),Se.write_shift(4,rr),Se.write_shift(4,He),Se.write_shift(2,0),Vu([Vu(me),Vu(be),Se])}var St={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ht(ee,ye){if(ee.ctype)return ee.ctype;var he=ee.name||"",me=he.match(/\.([^\.]+)$/);return me&&St[me[1]]||ye&&(me=(he=ye).match(/[\.\\]([^\.\\])+$/),me&&St[me[1]])?St[me[1]]:"application/octet-stream"}function Mt(ee){for(var ye=tD(ee),he=[],me=0;me<ye.length;me+=76)he.push(ye.slice(me,me+76));return he.join(`\r
`)+`\r
`}function xr(ee){var ye=ee.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ue){var He=Ue.charCodeAt(0).toString(16).toUpperCase();return"="+(He.length==1?"0"+He:He)});ye=ye.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ye.charAt(0)==`
`&&(ye="=0D"+ye.slice(1)),ye=ye.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var he=[],me=ye.split(`\r
`),be=0;be<me.length;++be){var Se=me[be];if(Se.length==0){he.push("");continue}for(var Be=0;Be<Se.length;){var Ke=76,Ve=Se.slice(Be,Be+Ke);Ve.charAt(Ke-1)=="="?Ke--:Ve.charAt(Ke-2)=="="?Ke-=2:Ve.charAt(Ke-3)=="="&&(Ke-=3),Ve=Se.slice(Be,Be+Ke),Be+=Ke,Be<Se.length&&(Ve+="="),he.push(Ve)}}return he.join(`\r
`)}function Nr(ee){for(var ye=[],he=0;he<ee.length;++he){for(var me=ee[he];he<=ee.length&&me.charAt(me.length-1)=="=";)me=me.slice(0,me.length-1)+ee[++he];ye.push(me)}for(var be=0;be<ye.length;++be)ye[be]=ye[be].replace(/[=][0-9A-Fa-f]{2}/g,function(Se){return String.fromCharCode(parseInt(Se.slice(1),16))});return Qo(ye.join(`\r
`))}function Zn(ee,ye,he){for(var me="",be="",Se="",Be,Ke=0;Ke<10;++Ke){var Ve=ye[Ke];if(!Ve||Ve.match(/^\s*$/))break;var Ue=Ve.match(/^(.*?):\s*([^\s].*)$/);if(Ue)switch(Ue[1].toLowerCase()){case"content-location":me=Ue[2].trim();break;case"content-type":Se=Ue[2].trim();break;case"content-transfer-encoding":be=Ue[2].trim();break}}switch(++Ke,be.toLowerCase()){case"base64":Be=Qo(zs(ye.slice(Ke).join("")));break;case"quoted-printable":Be=Nr(ye.slice(Ke));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+be)}var He=kt(ee,me.slice(he.length),Be,{unsafe:!0});Se&&(He.ctype=Se)}function qa(ee,ye){if(U(ee.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var he=ye&&ye.root||"",me=(Dr&&Buffer.isBuffer(ee)?ee.toString("binary"):U(ee)).split(`\r
`),be=0,Se="";for(be=0;be<me.length;++be)if(Se=me[be],!!/^Content-Location:/i.test(Se)&&(Se=Se.slice(Se.indexOf("file")),he||(he=Se.slice(0,Se.lastIndexOf("/")+1)),Se.slice(0,he.length)!=he))for(;he.length>0&&(he=he.slice(0,he.length-1),he=he.slice(0,he.lastIndexOf("/")+1),Se.slice(0,he.length)!=he););var Be=(me[1]||"").match(/boundary="(.*?)"/);if(!Be)throw new Error("MAD cannot find boundary");var Ke="--"+(Be[1]||""),Ve=[],Ue=[],He={FileIndex:Ve,FullPaths:Ue};E(He);var vt,Ot=0;for(be=0;be<me.length;++be){var Ft=me[be];Ft!==Ke&&Ft!==Ke+"--"||(Ot++&&Zn(He,me.slice(vt,be),he),vt=be)}return He}function we(ee,ye){var he=ye||{},me=he.boundary||"SheetJS";me="------="+me;for(var be=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+me.slice(2)+'"',"","",""],Se=ee.FullPaths[0],Be=Se,Ke=ee.FileIndex[0],Ve=1;Ve<ee.FullPaths.length;++Ve)if(Be=ee.FullPaths[Ve].slice(Se.length),Ke=ee.FileIndex[Ve],!(!Ke.size||!Ke.content||Be=="Sh33tJ5")){Be=Be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(rr){return"_x"+rr.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(rr){return"_u"+rr.charCodeAt(0).toString(16)+"_"});for(var Ue=Ke.content,He=Dr&&Buffer.isBuffer(Ue)?Ue.toString("binary"):U(Ue),vt=0,Ot=Math.min(1024,He.length),Ft=0,Tt=0;Tt<=Ot;++Tt)(Ft=He.charCodeAt(Tt))>=32&&Ft<128&&++vt;var Dt=vt>=Ot*4/5;be.push(me),be.push("Content-Location: "+(he.root||"file:///C:/SheetJS/")+Be),be.push("Content-Transfer-Encoding: "+(Dt?"quoted-printable":"base64")),be.push("Content-Type: "+ht(Ke,Be)),be.push(""),be.push(Dt?xr(He):Mt(He))}return be.push(me+`--\r
`),be.join(`\r
`)}function _t(ee){var ye={};return E(ye,ee),ye}function kt(ee,ye,he,me){var be=me&&me.unsafe;be||E(ee);var Se=!be&&$r.find(ee,ye);if(!Se){var Be=ee.FullPaths[0];ye.slice(0,Be.length)==Be?Be=ye:(Be.slice(-1)!="/"&&(Be+="/"),Be=(Be+ye).replace("//","/")),Se={name:a(ye),type:2},ee.FileIndex.push(Se),ee.FullPaths.push(Be),be||$r.utils.cfb_gc(ee)}return Se.content=he,Se.size=he?he.length:0,me&&(me.CLSID&&(Se.clsid=me.CLSID),me.mt&&(Se.mt=me.mt),me.ct&&(Se.ct=me.ct)),Se}function Yt(ee,ye){E(ee);var he=$r.find(ee,ye);if(he){for(var me=0;me<ee.FileIndex.length;++me)if(ee.FileIndex[me]==he)return ee.FileIndex.splice(me,1),ee.FullPaths.splice(me,1),!0}return!1}function It(ee,ye,he){E(ee);var me=$r.find(ee,ye);if(me){for(var be=0;be<ee.FileIndex.length;++be)if(ee.FileIndex[be]==me)return ee.FileIndex[be].name=a(he),ee.FullPaths[be]=he,!0}return!1}function dt(ee){A(ee,!0)}return t.find=T,t.read=I,t.parse=u,t.write=re,t.writeFile=H,t.utils={cfb_new:_t,cfb_add:kt,cfb_del:Yt,cfb_mov:It,cfb_gc:dt,ReadShift:Dg,CheckField:Cz,prep_blob:ti,bconcat:Vu,use_zlib:C,_deflateRaw:ft,_inflateRaw:Bt,consts:J},t}();function $fe(e){if(typeof Deno<"u")return Deno.readFileSync(e);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var t=File(e);t.open("r"),t.encoding="binary";var r=t.read();return t.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+e)}function Ul(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function UN(e){for(var t=[],r=Ul(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}var pb=new Date(1899,11,30,0,0,0);function Qi(e,t){var r=e.getTime(),n=pb.getTime()+(e.getTimezoneOffset()-pb.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var lz=new Date,Bfe=pb.getTime()+(lz.getTimezoneOffset()-pb.getTimezoneOffset())*6e4,uD=lz.getTimezoneOffset();function m5(e){var t=new Date;return t.setTime(e*24*60*60*1e3+Bfe),t.getTimezoneOffset()!==uD&&t.setTime(t.getTime()+(t.getTimezoneOffset()-uD)*6e4),t}function Vfe(e){var t=0,r=0,n=!1,a=e.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!a)throw new Error("|"+e+"| is not an ISO8601 Duration");for(var i=1;i!=a.length;++i)if(a[i]){switch(r=1,i>3&&(n=!0),a[i].slice(a[i].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+a[i].slice(a[i].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}t+=r*parseInt(a[i],10)}return t}var fD=new Date("2017-02-19T19:06:09.000Z"),cz=isNaN(fD.getFullYear())?new Date("2/19/17"):fD,Ufe=cz.getFullYear()==2017;function Ua(e,t){var r=new Date(e);if(Ufe)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(cz.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function Jh(e,t){if(Dr&&Buffer.isBuffer(e)){if(t){if(e[0]==255&&e[1]==254)return fg(e.slice(2).toString("utf16le"));if(e[1]==254&&e[2]==255)return fg(YU(e.slice(2).toString("binary")))}return e.toString("binary")}if(typeof TextDecoder<"u")try{if(t){if(e[0]==255&&e[1]==254)return fg(new TextDecoder("utf-16le").decode(e.slice(2)));if(e[0]==254&&e[1]==255)return fg(new TextDecoder("utf-16be").decode(e.slice(2)))}var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function ii(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=ii(e[r]));return t}function Xn(e,t){for(var r="";r.length<t;)r+=e;return r}function il(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var zfe=["january","february","march","april","may","june","july","august","september","october","november","december"];function up(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var s=e.toLowerCase();if(s.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(s=s.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),s.length>3&&zfe.indexOf(s)==-1)return r}else if(s.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}var qfe=function(){var e="abacaba".split(/(:?b)/i).length==5;return function(r,n,a){if(e||typeof n=="string")return r.split(n);for(var i=r.split(n),s=[i[0]],o=1;o<i.length;++o)s.push(a),s.push(i[o]);return s}}();function uz(e){return e?e.content&&e.type?Jh(e.content,!0):e.data?lg(e.data):e.asNodeBuffer&&Dr?lg(e.asNodeBuffer().toString("binary")):e.asBinary?lg(e.asBinary()):e._data&&e._data.getContent?lg(Jh(Array.prototype.slice.call(e._data.getContent(),0))):null:null}function fz(e){if(!e)return null;if(e.data)return Z8(e.data);if(e.asNodeBuffer&&Dr)return e.asNodeBuffer();if(e._data&&e._data.getContent){var t=e._data.getContent();return typeof t=="string"?Z8(t):Array.prototype.slice.call(t)}return e.content&&e.type?e.content:null}function Wfe(e){return e&&e.name.slice(-4)===".bin"?fz(e):uz(e)}function lo(e,t){for(var r=e.FullPaths||Ul(e.files),n=t.toLowerCase().replace(/[\/]/g,"\\"),a=n.replace(/\\/g,"/"),i=0;i<r.length;++i){var s=r[i].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==s||a==s)return e.files?e.files[r[i]]:e.FileIndex[i]}return null}function zN(e,t){var r=lo(e,t);if(r==null)throw new Error("Cannot find file "+t+" in zip");return r}function da(e,t,r){if(!r)return Wfe(zN(e,t));if(!t)return null;try{return da(e,t)}catch{return null}}function js(e,t,r){if(!r)return uz(zN(e,t));if(!t)return null;try{return js(e,t)}catch{return null}}function Hfe(e,t,r){return fz(zN(e,t))}function hD(e){for(var t=e.FullPaths||Ul(e.files),r=[],n=0;n<t.length;++n)t[n].slice(-1)!="/"&&r.push(t[n].replace(/^Root Entry[\/]/,""));return r.sort()}function Gfe(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return Dr?n=ud(r):n=hfe(r),$r.utils.cfb_add(e,t,n)}$r.utils.cfb_add(e,t,r)}else e.file(t,r)}function hz(e,t){switch(t.type){case"base64":return $r.read(e,{type:"base64"});case"binary":return $r.read(e,{type:"binary"});case"buffer":case"array":return $r.read(e,{type:"buffer"})}throw new Error("Unrecognized type "+t.type)}function ug(e,t){if(e.charAt(0)=="/")return e.slice(1);var r=t.split("/");t.slice(-1)!="/"&&r.pop();for(var n=e.split("/");n.length!==0;){var a=n.shift();a===".."?r.pop():a!=="."&&r.push(a)}return r.join("/")}var dz=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Kfe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,dD=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Yfe=/<[^>]*>/g,Ii=dz.match(dD)?dD:Yfe,Xfe=/<\w*:/,Qfe=/<(\/?)\w+:/;function fr(e,t,r){for(var n={},a=0,i=0;a!==e.length&&!((i=e.charCodeAt(a))===32||i===10||i===13);++a);if(t||(n[0]=e.slice(0,a)),a===e.length)return n;var s=e.match(Kfe),o=0,l="",c=0,u="",f="",h=1;if(s)for(c=0;c!=s.length;++c){for(f=s[c],i=0;i!=f.length&&f.charCodeAt(i)!==61;++i);for(u=f.slice(0,i).trim();f.charCodeAt(i+1)==32;)++i;for(h=(a=f.charCodeAt(i+1))==34||a==39?1:0,l=f.slice(i+1+h,f.length-h),o=0;o!=u.length&&u.charCodeAt(o)!==58;++o);if(o===u.length)u.indexOf("_")>0&&(u=u.slice(0,u.indexOf("_"))),n[u]=l,n[u.toLowerCase()]=l;else{var d=(o===5&&u.slice(0,5)==="xmlns"?"xmlns":"")+u.slice(o+1);if(n[d]&&u.slice(o-3,o)=="ext")continue;n[d]=l,n[d.toLowerCase()]=l}}return n}function ql(e){return e.replace(Qfe,"<$1")}var pz={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Jfe=UN(pz),Wr=function(){var e=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,t=/_x([\da-fA-F]{4})_/ig;return function r(n){var a=n+"",i=a.indexOf("<![CDATA[");if(i==-1)return a.replace(e,function(o,l){return pz[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(t,function(o,l){return String.fromCharCode(parseInt(l,16))});var s=a.indexOf("]]>");return r(a.slice(0,i))+a.slice(i+9,s)+r(a.slice(s+3))}}(),Zfe=/[&<>'"]/g,ehe=/[\u0000-\u001f]/g;function qN(e){var t=e+"";return t.replace(Zfe,function(r){return Jfe[r]}).replace(/\n/g,"<br/>").replace(ehe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}var pD=function(){var e=/&#(\d+);/g;function t(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(e,t)}}();function Dn(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function CS(e){for(var t="",r=0,n=0,a=0,i=0,s=0,o=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){s=(n&31)<<6,s|=a&63,t+=String.fromCharCode(s);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}s=e.charCodeAt(r++),o=((n&7)<<18|(a&63)<<12|(i&63)<<6|s&63)-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(o&1023))}return t}function mD(e){var t=Ef(2*e.length),r,n,a=1,i=0,s=0,o;for(n=0;n<e.length;n+=a)a=1,(o=e.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(e.charCodeAt(n+1)&63),a=2):o<240?(r=(o&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(o&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,s=55296+(r>>>10&1023),r=56320+(r&1023)),s!==0&&(t[i++]=s&255,t[i++]=s>>>8,s=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function gD(e){return ud(e,"binary").toString("utf8")}var cx="foo bar bazâð£",An=Dr&&(gD(cx)==CS(cx)&&gD||mD(cx)==CS(cx)&&mD)||CS,fg=Dr?function(e){return ud(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},Rv=function(){var e={};return function(r,n){var a=r+"|"+(n||"");return e[a]?e[a]:e[a]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}}(),mz=function(){var e=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),the=function(){var e={};return function(r){return e[r]!==void 0?e[r]:e[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}}(),rhe=/<\/?(?:vt:)?variant>/g,nhe=/<(?:vt:)([^>]*)>([\s\S]*)</;function vD(e,t){var r=fr(e),n=e.match(the(r.baseType))||[],a=[];if(n.length!=r.size){if(t.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return a}return n.forEach(function(i){var s=i.replace(rhe,"").match(nhe);s&&a.push({v:An(s[2]),t:s[1]})}),a}var ahe=/(^\s|\s$|\n)/;function ihe(e){return Ul(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function she(e,t,r){return"<"+e+(r!=null?ihe(r):"")+(t!=null?(t.match(ahe)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function WN(e){if(Dr&&Buffer.isBuffer(e))return e.toString("utf8");if(typeof e=="string")return e;if(typeof Uint8Array<"u"&&e instanceof Uint8Array)return An(fd($N(e)));throw new Error("Bad input format: expected Buffer or string")}var Fv=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ohe={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},lhe=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"];function che(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function uhe(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,s=n?-t:t;isFinite(s)?s==0?a=i=0:(a=Math.floor(Math.log(s)/Math.LN2),i=s*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var o=0;o<=5;++o,i/=256)e[r+o]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var yD=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},xD=Dr?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:ud(t)})):yD(e)}:yD,bD=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(pc(e,a)));return n.join("").replace(Xi,"")},HN=Dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(Xi,""):bD(e,t,r)}:bD,wD=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},gz=Dr?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):wD(e,t,r)}:wD,_D=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(e0(e,a)));return n.join("")},K1=Dr?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):_D(t,r,n)}:_D,vz=function(e,t){var r=Ds(e,t);return r>0?K1(e,t+4,t+4+r-1):""},yz=vz,xz=function(e,t){var r=Ds(e,t);return r>0?K1(e,t+4,t+4+r-1):""},bz=xz,wz=function(e,t){var r=2*Ds(e,t);return r>0?K1(e,t+4,t+4+r-1):""},_z=wz,Sz=function(t,r){var n=Ds(t,r);return n>0?HN(t,r+4,r+4+n):""},Az=Sz,Tz=function(e,t){var r=Ds(e,t);return r>0?K1(e,t+4,t+4+r):""},Ez=Tz,kz=function(e,t){return che(e,t)},mb=kz,Nz=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};Dr&&(yz=function(t,r){if(!Buffer.isBuffer(t))return vz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},bz=function(t,r){if(!Buffer.isBuffer(t))return xz(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},_z=function(t,r){if(!Buffer.isBuffer(t))return wz(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},Az=function(t,r){if(!Buffer.isBuffer(t))return Sz(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Ez=function(t,r){if(!Buffer.isBuffer(t))return Tz(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},mb=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):kz(t,r)},Nz=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var e0=function(e,t){return e[t]},pc=function(e,t){return e[t+1]*256+e[t]},fhe=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Ds=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},yh=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},hhe=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Dg(e,t){var r="",n,a,i=[],s,o,l,c;switch(t){case"dbcs":if(c=this.l,Dr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(l=0;l<e;++l)r+=String.fromCharCode(pc(this,c)),c+=2;e*=2;break;case"utf8":r=K1(this,this.l,this.l+e);break;case"utf16le":e*=2,r=HN(this,this.l,this.l+e);break;case"wstr":return Dg.call(this,e,"dbcs");case"lpstr-ansi":r=yz(this,this.l),e=4+Ds(this,this.l);break;case"lpstr-cp":r=bz(this,this.l),e=4+Ds(this,this.l);break;case"lpwstr":r=_z(this,this.l),e=4+2*Ds(this,this.l);break;case"lpp4":e=4+Ds(this,this.l),r=Az(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Ds(this,this.l),r=Ez(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(s=e0(this,this.l+e++))!==0;)i.push(lx(s));r=i.join("");break;case"_wstr":for(e=0,r="";(s=pc(this,this.l+e))!==0;)i.push(lx(s)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",c=this.l,l=0;l<e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=e0(this,c),this.l=c+1,o=Dg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(lx(pc(this,c))),c+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",c=this.l,l=0;l!=e;++l){if(this.lens&&this.lens.indexOf(c)!==-1)return s=e0(this,c),this.l=c+1,o=Dg.call(this,e-l,s?"dbcs-cont":"sbcs-cont"),i.join("")+o;i.push(lx(e0(this,c))),c+=1}r=i.join("");break;default:switch(e){case 1:return n=e0(this,this.l),this.l++,n;case 2:return n=(t==="i"?fhe:pc)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?yh:hhe)(this,this.l),this.l+=4,n):(a=Ds(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=mb(this,this.l):a=mb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=gz(this,this.l,e);break}}return this.l+=e,r}var dhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},phe=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},mhe=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function ghe(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)mhe(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var s=t.charCodeAt(a);this[this.l++]=s&255,this[this.l++]=s>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,dhe(this,t,this.l);break;case 8:if(n=8,r==="f"){uhe(this,t,this.l);break}case 16:break;case-4:n=4,phe(this,t,this.l);break}return this.l+=n,this}function Cz(e,t){var r=gz(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function ti(e,t){e.l=t,e.read_shift=Dg,e.chk=Cz,e.write_shift=ghe}function Oi(e,t){e.l+=t}function Sa(e){var t=Ef(e);return ti(t,0),t}function Xc(e,t,r){if(e){var n,a,i;ti(e,e.l||0);for(var s=e.length,o=0,l=0;e.l<s;){o=e.read_shift(1),o&128&&(o=(o&127)+((e.read_shift(1)&127)<<7));var c=wb[o]||wb[65535];for(n=e.read_shift(1),i=n&127,a=1;a<4&&n&128;++a)i+=((n=e.read_shift(1))&127)<<7*a;l=e.l+i;var u=c.f&&c.f(e,i,r);if(e.l=l,t(u,c,o))return}}}function xT(){var e=[],t=Dr?256:2048,r=function(c){var u=Sa(c);return ti(u,0),u},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(c){return n&&c<n.length-n.l?n:(a(),n=r(Math.max(c+1,t)))},s=function(){return a(),Vu(e)},o=function(c){a(),n=c,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:o,end:s,_bufs:e}}function jg(e,t,r){var n=ii(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function SD(e,t,r){var n=ii(e);return n.s=jg(n.s,t.s,r),n.e=jg(n.e,t.s,r),n}function Lg(e,t){if(e.cRel&&e.c<0)for(e=ii(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ii(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=yr(e);return!e.cRel&&e.cRel!=null&&(r=xhe(r)),!e.rRel&&e.rRel!=null&&(r=vhe(r)),r}function PS(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+Na(e.s.c)+":"+(e.e.cRel?"":"$")+Na(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+si(e.s.r)+":"+(e.e.rRel?"":"$")+si(e.e.r):Lg(e.s,t.biff)+":"+Lg(e.e,t.biff)}function GN(e){return parseInt(yhe(e),10)-1}function si(e){return""+(e+1)}function vhe(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function yhe(e){return e.replace(/\$(\d+)$/,"$1")}function KN(e){for(var t=bhe(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function Na(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function xhe(e){return e.replace(/^([A-Z])/,"$$$1")}function bhe(e){return e.replace(/^\$([A-Z])/,"$1")}function whe(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function qi(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function yr(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Xp(e){var t=e.indexOf(":");return t==-1?{s:qi(e),e:qi(e)}:{s:qi(e.slice(0,t)),e:qi(e.slice(t+1))}}function Vr(e,t){return typeof t>"u"||typeof t=="number"?Vr(e.s,e.e):(typeof e!="string"&&(e=yr(e)),typeof t!="string"&&(t=yr(t)),e==t?e:e+":"+t)}function Jn(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function AD(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=wo(e.z,r?Qi(t):t)}catch{}try{return e.w=wo((e.XF||{}).numFmtId||(r?14:0),r?Qi(t):t)}catch{return""+t}}function $c(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?pd[e.v]||e.v:t==null?AD(e,e.v):AD(e,t))}function Rf(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Pz(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),s=0,o=0;if(i&&n.origin!=null){if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?qi(n.origin):n.origin;s=l.r,o=l.c}i["!ref"]||(i["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var u=Jn(i["!ref"]);c.s.c=u.s.c,c.s.r=u.s.r,c.e.c=Math.max(c.e.c,u.e.c),c.e.r=Math.max(c.e.r,u.e.r),s==-1&&(c.e.r=s=u.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[f].length;++h)if(!(typeof t[f][h]>"u")){var d={v:t[f][h]},g=s+f,m=o+h;if(c.s.r>g&&(c.s.r=g),c.s.c>m&&(c.s.c=m),c.e.r<g&&(c.e.r=g),c.e.c<m&&(c.e.c=m),t[f][h]&&typeof t[f][h]=="object"&&!Array.isArray(t[f][h])&&!(t[f][h]instanceof Date))d=t[f][h];else if(Array.isArray(d.v)&&(d.f=t[f][h][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||_r[14],n.cellDates?(d.t="d",d.w=wo(d.z,Qi(d.v))):(d.t="n",d.v=Qi(d.v),d.w=wo(d.z,d.v))):d.t="s";if(a)i[g]||(i[g]=[]),i[g][m]&&i[g][m].z&&(d.z=i[g][m].z),i[g][m]=d;else{var v=yr({c:m,r:g});i[v]&&i[v].z&&(d.z=i[v].z),i[v]=d}}}return c.s.c<1e7&&(i["!ref"]=Vr(c)),i}function Qp(e,t){return Pz(null,e,t)}function _he(e){return e.read_shift(4,"i")}function Ci(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function She(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function YN(e,t){var r=e.l,n=e.read_shift(1),a=Ci(e),i=[],s={t:a,h:a};if(n&1){for(var o=e.read_shift(4),l=0;l!=o;++l)i.push(She(e));s.r=i}else s.r=[{ich:0,ifnt:0}];return e.l=r+t,s}var Ahe=YN;function So(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function hd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}var The=Ci;function XN(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}var Ehe=Ci,bT=XN;function QN(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?mb([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):yh(t,0)>>2;return r?a/100:a}function Oz(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var dd=Oz;function Ei(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function khe(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),s=e.read_shift(1),o=e.read_shift(1),l=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var c=Fh[a];c&&(t.rgb=Bv(c));break;case 2:t.rgb=Bv([s,o,l]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Nhe(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function Iz(e,t){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=e.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[e.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return e.l-=4,e.read_shift(0,t==1?"lpstr":"lpwstr")}function Che(e){return Iz(e,1)}function Phe(e){return Iz(e,2)}var JN=2,os=3,ux=11,TD=12,gb=19,fx=64,Ohe=65,Ihe=71,Dhe=4108,jhe=4126,Ma=80,Dz=81,Lhe=[Ma,Dz],Mhe={1:{n:"CodePage",t:JN},2:{n:"Category",t:Ma},3:{n:"PresentationFormat",t:Ma},4:{n:"ByteCount",t:os},5:{n:"LineCount",t:os},6:{n:"ParagraphCount",t:os},7:{n:"SlideCount",t:os},8:{n:"NoteCount",t:os},9:{n:"HiddenCount",t:os},10:{n:"MultimediaClipCount",t:os},11:{n:"ScaleCrop",t:ux},12:{n:"HeadingPairs",t:Dhe},13:{n:"TitlesOfParts",t:jhe},14:{n:"Manager",t:Ma},15:{n:"Company",t:Ma},16:{n:"LinksUpToDate",t:ux},17:{n:"CharacterCount",t:os},19:{n:"SharedDoc",t:ux},22:{n:"HyperlinksChanged",t:ux},23:{n:"AppVersion",t:os,p:"version"},24:{n:"DigSig",t:Ohe},26:{n:"ContentType",t:Ma},27:{n:"ContentStatus",t:Ma},28:{n:"Language",t:Ma},29:{n:"Version",t:Ma},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}},Rhe={1:{n:"CodePage",t:JN},2:{n:"Title",t:Ma},3:{n:"Subject",t:Ma},4:{n:"Author",t:Ma},5:{n:"Keywords",t:Ma},6:{n:"Comments",t:Ma},7:{n:"Template",t:Ma},8:{n:"LastAuthor",t:Ma},9:{n:"RevNumber",t:Ma},10:{n:"EditTime",t:fx},11:{n:"LastPrinted",t:fx},12:{n:"CreatedDate",t:fx},13:{n:"ModifiedDate",t:fx},14:{n:"PageCount",t:os},15:{n:"WordCount",t:os},16:{n:"CharCount",t:os},17:{n:"Thumbnail",t:Ihe},18:{n:"Application",t:Ma},19:{n:"DocSecurity",t:os},255:{},2147483648:{n:"Locale",t:gb},2147483651:{n:"Behavior",t:gb},1919054434:{}},ED={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},Fhe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function $he(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var Bhe=$he([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Fh=ii(Bhe),pd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},jz={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},kD={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"};function Vhe(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function Uhe(e){var t=Vhe();if(!e||!e.match)return t;var r={};if((e.match(Ii)||[]).forEach(function(n){var a=fr(n);switch(a[0].replace(Xfe,"<")){case"<?xml":break;case"<Types":t.xmlns=a["xmlns"+(a[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[a.Extension]=a.ContentType;break;case"<Override":t[kD[a.ContentType]]!==void 0&&t[kD[a.ContentType]].push(a.PartName);break}}),t.xmlns!==ohe.CT)throw new Error("Unknown Namespace: "+t.xmlns);return t.calcchain=t.calcchains.length>0?t.calcchains[0]:"",t.sst=t.strs.length>0?t.strs[0]:"",t.style=t.styles.length>0?t.styles[0]:"",t.defaults=r,delete t.calcchains,t}var b0={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function wT(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Mg(e,t){var r={"!id":{}};if(!e)return r;t.charAt(0)!=="/"&&(t="/"+t);var n={};return(e.match(Ii)||[]).forEach(function(a){var i=fr(a);if(i[0]==="<Relationship"){var s={};s.Type=i.Type,s.Target=i.Target,s.Id=i.Id,i.TargetMode&&(s.TargetMode=i.TargetMode);var o=i.TargetMode==="External"?i.Target:ug(i.Target,t);r[o]=s,n[i.Id]=s}}),r["!id"]=n,r}var zhe="application/vnd.oasis.opendocument.spreadsheet";function qhe(e,t){for(var r=WN(e),n,a;n=Fv.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(a=fr(n[0],!1),a.path=="/"&&a.type!==zhe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(t&&t.WTF)throw n}}var Rg=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],Whe=function(){for(var e=new Array(Rg.length),t=0;t<Rg.length;++t){var r=Rg[t],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);e[t]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return e}();function Lz(e){var t={};e=An(e);for(var r=0;r<Rg.length;++r){var n=Rg[r],a=e.match(Whe[r]);a!=null&&a.length>0&&(t[n[1]]=Wr(a[1])),n[2]==="date"&&t[n[1]]&&(t[n[1]]=Ua(t[n[1]]))}return t}var Hhe=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]];function Mz(e,t,r,n){var a=[];if(typeof e=="string")a=vD(e,n);else for(var i=0;i<e.length;++i)a=a.concat(e[i].map(function(u){return{v:u}}));var s=typeof t=="string"?vD(t,n).map(function(u){return u.v}):t,o=0,l=0;if(s.length>0)for(var c=0;c!==a.length;c+=2){switch(l=+a[c+1].v,a[c].v){case"Worksheets":case"工作表":case"Листы":case"أوراق العمل":case"ワークシート":case"גליונות עבודה":case"Arbeitsblätter":case"Çalışma Sayfaları":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de cálculo":case"Planilhas":case"Regneark":case"Hojas de cálculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=s.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"名前付き一覧":case"Benannte Bereiche":case"Navngivne områder":r.NamedRanges=l,r.DefinedNames=s.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=s.slice(o,o+l);break}o+=l}}function Ghe(e,t,r){var n={};return t||(t={}),e=An(e),Hhe.forEach(function(a){var i=(e.match(Rv(a[0]))||[])[1];switch(a[2]){case"string":i&&(t[a[1]]=Wr(i));break;case"bool":t[a[1]]=i==="true";break;case"raw":var s=e.match(new RegExp("<"+a[0]+"[^>]*>([\\s\\S]*?)</"+a[0]+">"));s&&s.length>0&&(n[a[1]]=s[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Mz(n.HeadingPairs,n.TitlesOfParts,t,r),t}var Khe=/<[^>]+>[^<]*/g;function Yhe(e,t){var r={},n="",a=e.match(Khe);if(a)for(var i=0;i!=a.length;++i){var s=a[i],o=fr(s);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Wr(o.name);break;case"</property>":n=null;break;default:if(s.indexOf("<vt:")===0){var l=s.split(">"),c=l[0].slice(4),u=l[1];switch(c){case"lpstr":case"bstr":case"lpwstr":r[n]=Wr(u);break;case"bool":r[n]=Dn(u);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(u,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(u);break;case"filetime":case"date":r[n]=Ua(u);break;case"cy":case"error":r[n]=Wr(u);break;default:if(c.slice(-1)=="/")break;t.WTF&&typeof console<"u"&&console.warn("Unexpected",s,c,l)}}else if(s.slice(0,2)!=="</"){if(t.WTF)throw new Error(s)}}}return r}var Xhe={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},OS;function Qhe(e,t,r){OS||(OS=UN(Xhe)),t=OS[t]||t,e[t]=r}function ZN(e){var t=e.read_shift(4),r=e.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+t/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Rz(e,t,r){var n=e.l,a=e.read_shift(0,"lpstr-cp");if(r)for(;e.l-n&3;)++e.l;return a}function Fz(e,t,r){var n=e.read_shift(0,"lpwstr");return n}function $z(e,t,r){return t===31?Fz(e):Rz(e,t,r)}function _T(e,t,r){return $z(e,t,r===!1?0:4)}function Jhe(e,t){if(!t)throw new Error("VtUnalignedString must have positive length");return $z(e,t,0)}function Zhe(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n){var a=e.l;r[n]=e.read_shift(0,"lpwstr").replace(Xi,""),e.l-a&2&&(e.l+=2)}return r}function ede(e){for(var t=e.read_shift(4),r=[],n=0;n!=t;++n)r[n]=e.read_shift(0,"lpstr-cp").replace(Xi,"");return r}function tde(e){var t=e.l,r=vb(e,Dz);e[e.l]==0&&e[e.l+1]==0&&e.l-t&2&&(e.l+=2);var n=vb(e,os);return[r,n]}function rde(e){for(var t=e.read_shift(4),r=[],n=0;n<t/2;++n)r.push(tde(e));return r}function ND(e,t){for(var r=e.read_shift(4),n={},a=0;a!=r;++a){var i=e.read_shift(4),s=e.read_shift(4);n[i]=e.read_shift(s,t===1200?"utf16le":"utf8").replace(Xi,"").replace(cg,"!"),t===1200&&s%2&&(e.l+=2)}return e.l&3&&(e.l=e.l>>3<<2),n}function Bz(e){var t=e.read_shift(4),r=e.slice(e.l,e.l+t);return e.l+=t,(t&3)>0&&(e.l+=4-(t&3)&3),r}function nde(e){var t={};return t.Size=e.read_shift(4),e.l+=t.Size+3-(t.Size-1)%4,t}function vb(e,t,r){var n=e.read_shift(2),a,i=r||{};if(e.l+=2,t!==TD&&n!==t&&Lhe.indexOf(t)===-1&&!((t&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+t+" saw "+n);switch(t===TD?n:t){case 2:return a=e.read_shift(2,"i"),i.raw||(e.l+=2),a;case 3:return a=e.read_shift(4,"i"),a;case 11:return e.read_shift(4)!==0;case 19:return a=e.read_shift(4),a;case 30:return Rz(e,n,4).replace(Xi,"");case 31:return Fz(e);case 64:return ZN(e);case 65:return Bz(e);case 71:return nde(e);case 80:return _T(e,n,!i.raw).replace(Xi,"");case 81:return Jhe(e,n).replace(Xi,"");case 4108:return rde(e);case 4126:case 4127:return n==4127?Zhe(e):ede(e);default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+n)}}function CD(e,t){var r=e.l,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0,o=0,l=-1,c={};for(s=0;s!=a;++s){var u=e.read_shift(4),f=e.read_shift(4);i[s]=[u,f+r]}i.sort(function(b,w){return b[1]-w[1]});var h={};for(s=0;s!=a;++s){if(e.l!==i[s][1]){var d=!0;if(s>0&&t)switch(t[i[s-1][0]].t){case 2:e.l+2===i[s][1]&&(e.l+=2,d=!1);break;case 80:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break;case 4108:e.l<=i[s][1]&&(e.l=i[s][1],d=!1);break}if((!t||s==0)&&e.l<=i[s][1]&&(d=!1,e.l=i[s][1]),d)throw new Error("Read Error: Expected address "+i[s][1]+" at "+e.l+" :"+s)}if(t){var g=t[i[s][0]];if(h[g.n]=vb(e,g.t,{raw:!0}),g.p==="version"&&(h[g.n]=String(h[g.n]>>16)+"."+("0000"+String(h[g.n]&65535)).slice(-4)),g.n=="CodePage")switch(h[g.n]){case 0:h[g.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:Zo(o=h[g.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+h[g.n])}}else if(i[s][0]===1){if(o=h.CodePage=vb(e,JN),Zo(o),l!==-1){var m=e.l;e.l=i[l][1],c=ND(e,o),e.l=m}}else if(i[s][0]===0){if(o===0){l=s,e.l=i[s+1][1];continue}c=ND(e,o)}else{var v=c[i[s][0]],y;switch(e[e.l]){case 65:e.l+=4,y=Bz(e);break;case 30:e.l+=4,y=_T(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 31:e.l+=4,y=_T(e,e[e.l-4]).replace(/\u0000+$/,"");break;case 3:e.l+=4,y=e.read_shift(4,"i");break;case 19:e.l+=4,y=e.read_shift(4);break;case 5:e.l+=4,y=e.read_shift(8,"f");break;case 11:e.l+=4,y=ra(e,4);break;case 64:e.l+=4,y=Ua(ZN(e));break;default:throw new Error("unparsed value: "+e[e.l])}h[v]=y}}return e.l=r+n,h}function PD(e,t,r){var n=e.content;if(!n)return{};ti(n,0);var a,i,s,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var c=n.read_shift(4),u=n.read_shift(16);if(u!==$r.utils.consts.HEADER_CLSID&&u!==r)throw new Error("Bad PropertySet CLSID "+u);if(a=n.read_shift(4),a!==1&&a!==2)throw new Error("Unrecognized #Sets: "+a);if(i=n.read_shift(16),o=n.read_shift(4),a===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);a===2&&(s=n.read_shift(16),l=n.read_shift(4));var f=CD(n,t),h={SystemIdentifier:c};for(var d in f)h[d]=f[d];if(h.FMTID=i,a===1)return h;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var g;try{g=CD(n,null)}catch{}for(d in g)h[d]=g[d];return h.FMTID=[i,s],h}function Cu(e,t){return e.read_shift(t),null}function ade(e,t,r){for(var n=[],a=e.l+t;e.l<a;)n.push(r(e,a-e.l));if(a!==e.l)throw new Error("Slurp error");return n}function ra(e,t){return e.read_shift(t)===1}function pa(e){return e.read_shift(2,"u")}function Vz(e,t){return ade(e,t,pa)}function ide(e){var t=e.read_shift(1),r=e.read_shift(1);return r===1?t:t===1}function Y1(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var s=n?e.read_shift(n,a):"";return s}function sde(e){var t=e.read_shift(2),r=e.read_shift(1),n=r&4,a=r&8,i=1+(r&1),s=0,o,l={};a&&(s=e.read_shift(2)),n&&(o=e.read_shift(4));var c=i==2?"dbcs-cont":"sbcs-cont",u=t===0?"":e.read_shift(t,c);return a&&(e.l+=4*s),n&&(e.l+=o),l.t=u,a||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Zh(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function X1(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):Zh(e,n,r)}function md(e,t,r){if(r.biff>5)return X1(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function ode(e){var t=e.read_shift(1);e.l++;var r=e.read_shift(2);return e.l+=2,[t,r]}function lde(e){var t=e.read_shift(4),r=e.l,n=!1;t>24&&(e.l+=t-24,e.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),e.l=r);var a=e.read_shift((n?t-24:t)>>1,"utf16le").replace(Xi,"");return n&&(e.l+=24),a}function cde(e){for(var t=e.read_shift(2),r="";t-- >0;)r+="../";var n=e.read_shift(0,"lpstr-ansi");if(e.l+=2,e.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var a=e.read_shift(4);if(a===0)return r+n.replace(/\\/g,"/");var i=e.read_shift(4);if(e.read_shift(2)!=3)throw new Error("Bad FileMoniker");var s=e.read_shift(i>>1,"utf16le").replace(Xi,"");return r+s}function ude(e,t){var r=e.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return lde(e);case"0303000000000000c000000000000046":return cde(e);default:throw new Error("Unsupported Moniker "+r)}}function hx(e){var t=e.read_shift(4),r=t>0?e.read_shift(t,"utf16le").replace(Xi,""):"";return r}function fde(e,t){var r=e.l+t,n=e.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var a=e.read_shift(2);e.l+=2;var i,s,o,l,c="",u,f;a&16&&(i=hx(e,r-e.l)),a&128&&(s=hx(e,r-e.l)),(a&257)===257&&(o=hx(e,r-e.l)),(a&257)===1&&(l=ude(e,r-e.l)),a&8&&(c=hx(e,r-e.l)),a&32&&(u=e.read_shift(16)),a&64&&(f=ZN(e)),e.l=r;var h=s||o||l||"";h&&c&&(h+="#"+c),h||(h="#"+c),a&2&&h.charAt(0)=="/"&&h.charAt(1)!="/"&&(h="file://"+h);var d={Target:h};return u&&(d.guid=u),f&&(d.time=f),i&&(d.Tooltip=i),d}function Uz(e){var t=e.read_shift(1),r=e.read_shift(1),n=e.read_shift(1),a=e.read_shift(1);return[t,r,n,a]}function zz(e,t){var r=Uz(e);return r[3]=0,r}function Wl(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return{r:t,c:r,ixfe:n}}function hde(e){var t=e.read_shift(2),r=e.read_shift(2);return e.l+=8,{type:t,flags:r}}function dde(e,t,r){return t===0?"":md(e,t,r)}function pde(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),s=e.read_shift(n,"i");return[a,i,s]}function qz(e){var t=e.read_shift(2),r=QN(e);return[t,r]}function mde(e,t,r){e.l+=4,t-=4;var n=e.l+t,a=Y1(e,t,r),i=e.read_shift(2);if(n-=e.l,i!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+i);return e.l+=i,a}function g5(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function Wz(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(1),a=e.read_shift(1);return{s:{c:n,r:t},e:{c:a,r}}}var gde=Wz;function Hz(e){e.l+=4;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2);return e.l+=12,[r,t,n]}function vde(e){var t={};return e.l+=4,e.l+=16,t.fSharedNote=e.read_shift(2),e.l+=4,t}function yde(e){var t={};return e.l+=4,e.cf=e.read_shift(2),t}function di(e){e.l+=2,e.l+=e.read_shift(2)}var xde={0:di,4:di,5:di,6:di,7:yde,8:di,9:di,10:di,11:di,12:di,13:vde,14:di,15:di,16:di,17:di,18:di,19:di,20:di,21:Hz};function bde(e,t){for(var r=e.l+t,n=[];e.l<r;){var a=e.read_shift(2);e.l-=2;try{n.push(xde[a](e,r-e.l))}catch{return e.l=r,n}}return e.l!=r&&(e.l=r),n}function dx(e,t){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=e.read_shift(2),t-=2,t>=2&&(r.dt=e.read_shift(2),e.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(t>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return e.read_shift(t),r}function wde(e,t){return t===0||e.read_shift(2),1200}function _de(e,t,r){if(r.enc)return e.l+=t,"";var n=e.l,a=md(e,0,r);return e.read_shift(t+n-e.l),a}function Sde(e,t,r){var n=r&&r.biff==8||t==2?e.read_shift(2):(e.l+=t,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Ade(e,t,r){var n=e.read_shift(4),a=e.read_shift(1)&3,i=e.read_shift(1);switch(i){case 0:i="Worksheet";break;case 1:i="Macrosheet";break;case 2:i="Chartsheet";break;case 6:i="VBAModule";break}var s=Y1(e,0,r);return s.length===0&&(s="Sheet1"),{pos:n,hs:a,dt:i,name:s}}function Tde(e,t){for(var r=e.l+t,n=e.read_shift(4),a=e.read_shift(4),i=[],s=0;s!=a&&e.l<r;++s)i.push(sde(e));return i.Count=n,i.Unique=a,i}function Ede(e,t){var r={};return r.dsst=e.read_shift(2),e.l+=t-2,r}function kde(e){var t={};t.r=e.read_shift(2),t.c=e.read_shift(2),t.cnt=e.read_shift(2)-t.c;var r=e.read_shift(2);e.l+=4;var n=e.read_shift(1);return e.l+=3,n&7&&(t.level=n&7),n&32&&(t.hidden=!0),n&64&&(t.hpt=r/20),t}function Nde(e){var t=hde(e);if(t.type!=2211)throw new Error("Invalid Future Record "+t.type);var r=e.read_shift(4);return r!==0}function Cde(e){return e.read_shift(2),e.read_shift(4)}function OD(e,t,r){var n=0;r&&r.biff==2||(n=e.read_shift(2));var a=e.read_shift(2);r&&r.biff==2&&(n=1-(a>>15),a&=32767);var i={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[i,a]}function Pde(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=e.read_shift(2),l=e.read_shift(2),c=e.read_shift(2);return{Pos:[t,r],Dim:[n,a],Flags:i,CurTab:s,FirstTab:o,Selected:l,TabRatio:c}}function Ode(e,t,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=e.read_shift(2);return{RTL:n&64}}function Ide(){}function Dde(e,t,r){var n={dyHeight:e.read_shift(2),fl:e.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:e.l+=2;break;default:e.l+=10;break}return n.name=Y1(e,0,r),n}function jde(e){var t=Wl(e);return t.isst=e.read_shift(4),t}function Lde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=e.l+t,a=Wl(e);r.biff==2&&e.l++;var i=X1(e,n-e.l,r);return a.val=i,a}function Mde(e,t,r){var n=e.read_shift(2),a=md(e,0,r);return[n,a]}var Rde=md;function ID(e,t,r){var n=e.l+t,a=r.biff==8||!r.biff?4:2,i=e.read_shift(a),s=e.read_shift(a),o=e.read_shift(2),l=e.read_shift(2);return e.l=n,{s:{r:i,c:o},e:{r:s,c:l}}}function Fde(e){var t=e.read_shift(2),r=e.read_shift(2),n=qz(e);return{r:t,c:r,ixfe:n[0],rknum:n[1]}}function $de(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(qz(e));if(e.l!==r)throw new Error("MulRK read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulRK length mismatch");return{r:n,c:a,C:s,rkrec:i}}function Bde(e,t){for(var r=e.l+t-2,n=e.read_shift(2),a=e.read_shift(2),i=[];e.l<r;)i.push(e.read_shift(2));if(e.l!==r)throw new Error("MulBlank read error");var s=e.read_shift(2);if(i.length!=s-a+1)throw new Error("MulBlank length mismatch");return{r:n,c:a,C:s,ixfe:i}}function Vde(e,t,r,n){var a={},i=e.read_shift(4),s=e.read_shift(4),o=e.read_shift(4),l=e.read_shift(2);return a.patternType=Fhe[o>>26],n.cellStyles&&(a.alc=i&7,a.fWrap=i>>3&1,a.alcV=i>>4&7,a.fJustLast=i>>7&1,a.trot=i>>8&255,a.cIndent=i>>16&15,a.fShrinkToFit=i>>20&1,a.iReadOrder=i>>22&2,a.fAtrNum=i>>26&1,a.fAtrFnt=i>>27&1,a.fAtrAlc=i>>28&1,a.fAtrBdr=i>>29&1,a.fAtrPat=i>>30&1,a.fAtrProt=i>>31&1,a.dgLeft=s&15,a.dgRight=s>>4&15,a.dgTop=s>>8&15,a.dgBottom=s>>12&15,a.icvLeft=s>>16&127,a.icvRight=s>>23&127,a.grbitDiag=s>>30&3,a.icvTop=o&127,a.icvBottom=o>>7&127,a.icvDiag=o>>14&127,a.dgDiag=o>>21&15,a.icvFore=l&127,a.icvBack=l>>7&127,a.fsxButton=l>>14&1),a}function Ude(e,t,r){var n={};return n.ifnt=e.read_shift(2),n.numFmtId=e.read_shift(2),n.flags=e.read_shift(2),n.fStyle=n.flags>>2&1,t-=6,n.data=Vde(e,t,n.fStyle,r),n}function zde(e){e.l+=4;var t=[e.read_shift(2),e.read_shift(2)];if(t[0]!==0&&t[0]--,t[1]!==0&&t[1]--,t[0]>7||t[1]>7)throw new Error("Bad Gutters: "+t.join("|"));return t}function DD(e,t,r){var n=Wl(e);(r.biff==2||t==9)&&++e.l;var a=ide(e);return n.val=a,n.t=a===!0||a===!1?"b":"e",n}function qde(e,t,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=Wl(e),a=Ei(e);return n.val=a,n}var jD=dde;function Wde(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(2);if(r.sbcch=i,i==1025||i==14849)return[i,a];if(i<1||i>255)throw new Error("Unexpected SupBook type: "+i);for(var s=Zh(e,i),o=[];n>e.l;)o.push(X1(e));return[i,a,s,o]}function LD(e,t,r){var n=e.read_shift(2),a,i={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(a=mde(e,t-2,r)),i.body=a||e.read_shift(t-2),typeof a=="string"&&(i.Name=a),i}var Hde=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function MD(e,t,r){var n=e.l+t,a=e.read_shift(2),i=e.read_shift(1),s=e.read_shift(1),o=e.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(e.l+=2),l=e.read_shift(2),r.biff==5&&(e.l+=2),e.l+=4);var c=Zh(e,s,r);a&32&&(c=Hde[c.charCodeAt(0)]);var u=n-e.l;r&&r.biff==2&&--u;var f=n==e.l||o===0||!(u>0)?[]:kge(e,u,r,o);return{chKey:i,Name:c,itab:l,rgce:f}}function Gz(e,t,r){if(r.biff<8)return Gde(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(pde(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Gde(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=Y1(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Kde(e,t,r){if(r.biff<8){e.l+=t;return}var n=e.read_shift(2),a=e.read_shift(2),i=Zh(e,n,r),s=Zh(e,a,r);return[i,s]}function Yde(e,t,r){var n=Wz(e);e.l++;var a=e.read_shift(1);return t-=8,[Nge(e,t,r),a,n]}function RD(e,t,r){var n=gde(e);switch(r.biff){case 2:e.l++,t-=7;break;case 3:case 4:e.l+=2,t-=8;break;default:e.l+=6,t-=12}return[n,Tge(e,t,r)]}function Xde(e){var t=e.read_shift(4)!==0,r=e.read_shift(4)!==0,n=e.read_shift(4);return[t,r,n]}function Qde(e,t,r){if(!(r.biff<8)){var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2),s=e.read_shift(2),o=md(e,0,r);return r.biff<8&&e.read_shift(1),[{r:n,c:a},o,s,i]}}function Jde(e,t,r){return Qde(e,t,r)}function Zde(e,t){for(var r=[],n=e.read_shift(2);n--;)r.push(g5(e));return r}function e0e(e,t,r){if(r&&r.biff<8)return r0e(e,t,r);var n=Hz(e),a=bde(e,t-22,n[1]);return{cmo:n,ft:a}}var t0e={8:function(e,t){var r=e.l+t;e.l+=10;var n=e.read_shift(2);e.l+=4,e.l+=2,e.l+=2,e.l+=2,e.l+=4;var a=e.read_shift(1);return e.l+=a,e.l=r,{fmt:n}}};function r0e(e,t,r){e.l+=4;var n=e.read_shift(2),a=e.read_shift(2),i=e.read_shift(2);e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=2,e.l+=6,t-=36;var s=[];return s.push((t0e[n]||Oi)(e,t,r)),{cmo:[a,n,i],ft:s}}function n0e(e,t,r){var n=e.l,a="";try{e.l+=4;var i=(r.lastobj||{cmo:[0,0]}).cmo[1],s;[0,5,7,11,12,14].indexOf(i)==-1?e.l+=6:s=ode(e,6,r);var o=e.read_shift(2);e.read_shift(2),pa(e,2);var l=e.read_shift(2);e.l+=l;for(var c=1;c<e.lens.length-1;++c){if(e.l-n!=e.lens[c])throw new Error("TxO: bad continue record");var u=e[e.l],f=Zh(e,e.lens[c+1]-e.lens[c]-1);if(a+=f,a.length>=(u?o:2*o))break}if(a.length!==o&&a.length!==o*2)throw new Error("cchText: "+o+" != "+a.length);return e.l=n+t,{t:a}}catch{return e.l=n+t,{t:a}}}function a0e(e,t){var r=g5(e);e.l+=16;var n=fde(e,t-24);return[r,n]}function i0e(e,t){e.read_shift(2);var r=g5(e),n=e.read_shift((t-10)/2,"dbcs-cont");return n=n.replace(Xi,""),[r,n]}function s0e(e){var t=[0,0],r;return r=e.read_shift(2),t[0]=ED[r]||r,r=e.read_shift(2),t[1]=ED[r]||r,t}function o0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zz(e));return r}function l0e(e){for(var t=e.read_shift(2),r=[];t-- >0;)r.push(zz(e));return r}function c0e(e){e.l+=2;var t={cxfs:0,crc:0};return t.cxfs=e.read_shift(2),t.crc=e.read_shift(4),t}function Kz(e,t,r){if(!r.cellStyles)return Oi(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),s=e.read_shift(n),o=e.read_shift(n),l=e.read_shift(2);n==2&&(e.l+=2);var c={s:a,e:i,w:s,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(c.level=l>>8&7),c}function u0e(e,t){var r={};return t<32||(e.l+=16,r.header=Ei(e),r.footer=Ei(e),e.l+=2),r}function f0e(e,t,r){var n={area:!1};if(r.biff!=5)return e.l+=t,n;var a=e.read_shift(1);return e.l+=3,a&16&&(n.area=!0),n}var h0e=Wl,d0e=Vz,p0e=X1;function m0e(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a={fmt:t,env:r,len:n,data:e.slice(e.l,e.l+n)};return e.l+=n,a}function g0e(e,t,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=Wl(e);++e.l;var a=md(e,t-7,r);return n.t="str",n.val=a,n}function v0e(e){var t=Wl(e);++e.l;var r=Ei(e);return t.t="n",t.val=r,t}function y0e(e){var t=Wl(e);++e.l;var r=e.read_shift(2);return t.t="n",t.val=r,t}function x0e(e){var t=e.read_shift(1);return t===0?(e.l++,""):e.read_shift(t,"sbcs-cont")}function b0e(e,t){e.l+=6,e.l+=2,e.l+=1,e.l+=3,e.l+=1,e.l+=t-13}function w0e(e,t,r){var n=e.l+t,a=Wl(e),i=e.read_shift(2),s=Zh(e,i,r);return e.l=n,a.t="str",a.val=s,a}var _0e=[2,3,48,49,131,139,140,245],FD=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=UN({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var c=[],u=Ef(1);switch(l.type){case"base64":u=Qo(zs(o));break;case"binary":u=Qo(o);break;case"buffer":case"array":u=o;break}ti(u,0);var f=u.read_shift(1),h=!!(f&136),d=!1,g=!1;switch(f){case 2:break;case 3:break;case 48:d=!0,h=!0;break;case 49:d=!0,h=!0;break;case 131:break;case 139:break;case 140:g=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var m=0,v=521;f==2&&(m=u.read_shift(2)),u.l+=3,f!=2&&(m=u.read_shift(4)),m>1048576&&(m=1e6),f!=2&&(v=u.read_shift(2));var y=u.read_shift(2),b=l.codepage||1252;f!=2&&(u.l+=16,u.read_shift(1),u[u.l]!==0&&(b=e[u[u.l]]),u.l+=1,u.l+=2),g&&(u.l+=36);for(var w=[],O={},P=Math.min(u.length,f==2?521:v-10-(d?264:0)),I=g?32:11;u.l<P&&u[u.l]!=13;)switch(O={},O.name=Bu.utils.decode(b,u.slice(u.l,u.l+I)).replace(/[\u0000\r\n].*$/g,""),u.l+=I,O.type=String.fromCharCode(u.read_shift(1)),f!=2&&!g&&(O.offset=u.read_shift(4)),O.len=u.read_shift(1),f==2&&(O.offset=u.read_shift(2)),O.dec=u.read_shift(1),O.name.length&&w.push(O),f!=2&&(u.l+=g?13:14),O.type){case"B":(!d||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(u[u.l]!==13&&(u.l=v-1),u.read_shift(1)!==13)throw new Error("DBF Terminator not found "+u.l+" "+u[u.l]);u.l=v;var E=0,S=0;for(c[0]=[],S=0;S!=w.length;++S)c[0][S]=w[S].name;for(;m-- >0;){if(u[u.l]===42){u.l+=y;continue}for(++u.l,c[++E]=[],S=0,S=0;S!=w.length;++S){var A=u.slice(u.l,u.l+w[S].len);u.l+=w[S].len,ti(A,0);var D=Bu.utils.decode(b,A);switch(w[S].type){case"C":D.trim().length&&(c[E][S]=D.replace(/\s+$/,""));break;case"D":D.length===8?c[E][S]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):c[E][S]=D;break;case"F":c[E][S]=parseFloat(D.trim());break;case"+":case"I":c[E][S]=g?A.read_shift(-4,"i")^2147483648:A.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":c[E][S]=!0;break;case"N":case"F":c[E][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!h)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));c[E][S]="##MEMO##"+(g?parseInt(D.trim(),10):A.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(c[E][S]=+D||0);break;case"@":c[E][S]=new Date(A.read_shift(-8,"f")-621356832e5);break;case"T":c[E][S]=new Date((A.read_shift(4)-2440588)*864e5+A.read_shift(4));break;case"Y":c[E][S]=A.read_shift(4,"i")/1e4+A.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":c[E][S]=-A.read_shift(-8,"f");break;case"B":if(d&&w[S].len==8){c[E][S]=A.read_shift(8,"f");break}case"G":case"P":A.l+=w[S].len;break;case"0":if(w[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+w[S].type)}}}if(f!=2&&u.l<u.length&&u[u.l++]!=26)throw new Error("DBF EOF Marker missing "+(u.l-1)+" of "+u.length+" "+u[u.l-1].toString(16));return l&&l.sheetRows&&(c=c.slice(0,l.sheetRows)),l.DBF=w,c}function n(o,l){var c=l||{};c.dateNF||(c.dateNF="yyyymmdd");var u=Qp(r(o,c),c);return u["!cols"]=c.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete c.DBF,u}function a(o,l){try{return Rf(n(o,l),l)}catch(c){if(l&&l.WTF)throw c}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function s(o,l){var c=l||{};if(+c.codepage>=0&&Zo(+c.codepage),c.type=="string")throw new Error("Cannot write DBF to JS string");var u=xT(),f=CT(o,{header:1,raw:!0,cellDates:!0}),h=f[0],d=f.slice(1),g=o["!cols"]||[],m=0,v=0,y=0,b=1;for(m=0;m<h.length;++m){if(((g[m]||{}).DBF||{}).name){h[m]=g[m].DBF.name,++y;continue}if(h[m]!=null){if(++y,typeof h[m]=="number"&&(h[m]=h[m].toString(10)),typeof h[m]!="string")throw new Error("DBF Invalid column name "+h[m]+" |"+typeof h[m]+"|");if(h.indexOf(h[m])!==m){for(v=0;v<1024;++v)if(h.indexOf(h[m]+"_"+v)==-1){h[m]+="_"+v;break}}}}var w=Jn(o["!ref"]),O=[],P=[],I=[];for(m=0;m<=w.e.c-w.s.c;++m){var E="",S="",A=0,D=[];for(v=0;v<d.length;++v)d[v][m]!=null&&D.push(d[v][m]);if(D.length==0||h[m]==null){O[m]="?";continue}for(v=0;v<D.length;++v){switch(typeof D[v]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=D[v]instanceof Date?"D":"C";break;default:S="C"}A=Math.max(A,String(D[v]).length),E=E&&E!=S?"C":S}A>250&&(A=250),S=((g[m]||{}).DBF||{}).type,S=="C"&&g[m].DBF.len>A&&(A=g[m].DBF.len),E=="B"&&S=="N"&&(E="N",I[m]=g[m].DBF.dec,A=g[m].DBF.len),P[m]=E=="C"||S=="N"?A:i[E]||0,b+=P[m],O[m]=E}var T=u.next(32);for(T.write_shift(4,318902576),T.write_shift(4,d.length),T.write_shift(2,296+32*y),T.write_shift(2,b),m=0;m<4;++m)T.write_shift(4,0);for(T.write_shift(4,0|(+t[GU]||3)<<8),m=0,v=0;m<h.length;++m)if(h[m]!=null){var k=u.next(32),j=(h[m].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);k.write_shift(1,j,"sbcs"),k.write_shift(1,O[m]=="?"?"C":O[m],"sbcs"),k.write_shift(4,v),k.write_shift(1,P[m]||i[O[m]]||0),k.write_shift(1,I[m]||0),k.write_shift(1,2),k.write_shift(4,0),k.write_shift(1,0),k.write_shift(4,0),k.write_shift(4,0),v+=P[m]||i[O[m]]||0}var V=u.next(264);for(V.write_shift(4,13),m=0;m<65;++m)V.write_shift(4,0);for(m=0;m<d.length;++m){var Q=u.next(b);for(Q.write_shift(1,0),v=0;v<h.length;++v)if(h[v]!=null)switch(O[v]){case"L":Q.write_shift(1,d[m][v]==null?63:d[m][v]?84:70);break;case"B":Q.write_shift(8,d[m][v]||0,"f");break;case"N":var Y="0";for(typeof d[m][v]=="number"&&(Y=d[m][v].toFixed(I[v]||0)),y=0;y<P[v]-Y.length;++y)Q.write_shift(1,32);Q.write_shift(1,Y,"sbcs");break;case"D":d[m][v]?(Q.write_shift(4,("0000"+d[m][v].getFullYear()).slice(-4),"sbcs"),Q.write_shift(2,("00"+(d[m][v].getMonth()+1)).slice(-2),"sbcs"),Q.write_shift(2,("00"+d[m][v].getDate()).slice(-2),"sbcs")):Q.write_shift(8,"00000000","sbcs");break;case"C":var J=String(d[m][v]!=null?d[m][v]:"").slice(0,P[v]);for(Q.write_shift(1,J,"sbcs"),y=0;y<P[v]-J.length;++y)Q.write_shift(1,32);break}}return u.next(1).write_shift(1,26),u.end()}return{to_workbook:a,to_sheet:n,from_sheet:s}}(),S0e=function(){var e={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+Ul(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(h,d){var g=e[d];return typeof g=="number"?eD(g):g},n=function(h,d,g){var m=d.charCodeAt(0)-32<<4|g.charCodeAt(0)-48;return m==59?h:eD(m)};e["|"]=254;function a(h,d){switch(d.type){case"base64":return i(zs(h),d);case"binary":return i(h,d);case"buffer":return i(Dr&&Buffer.isBuffer(h)?h.toString("binary"):fd(h),d);case"array":return i(Jh(h),d)}throw new Error("Unrecognized type "+d.type)}function i(h,d){var g=h.split(/[\n\r]+/),m=-1,v=-1,y=0,b=0,w=[],O=[],P=null,I={},E=[],S=[],A=[],D=0,T;for(+d.codepage>=0&&Zo(+d.codepage);y!==g.length;++y){D=0;var k=g[y].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),j=k.replace(/;;/g,"\0").split(";").map(function(K){return K.replace(/\u0000/g,";")}),V=j[0],Q;if(k.length>0)switch(V){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":j[1].charAt(0)=="P"&&O.push(k.slice(3).replace(/;;/g,";"));break;case"C":var Y=!1,J=!1,H=!1,U=!1,re=-1,z=-1;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"A":break;case"X":v=parseInt(j[b].slice(1))-1,J=!0;break;case"Y":for(m=parseInt(j[b].slice(1))-1,J||(v=0),T=w.length;T<=m;++T)w[T]=[];break;case"K":Q=j[b].slice(1),Q.charAt(0)==='"'?Q=Q.slice(1,Q.length-1):Q==="TRUE"?Q=!0:Q==="FALSE"?Q=!1:isNaN(il(Q))?isNaN(up(Q).getDate())||(Q=Ua(Q)):(Q=il(Q),P!==null&&Yp(P)&&(Q=m5(Q))),Y=!0;break;case"E":U=!0;var C=j0(j[b].slice(1),{r:m,c:v});w[m][v]=[w[m][v],C];break;case"S":H=!0,w[m][v]=[w[m][v],"S5S"];break;case"G":break;case"R":re=parseInt(j[b].slice(1))-1;break;case"C":z=parseInt(j[b].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}if(Y&&(w[m][v]&&w[m][v].length==2?w[m][v][0]=Q:w[m][v]=Q,P=null),H){if(U)throw new Error("SYLK shared formula cannot have own formula");var F=re>-1&&w[re][z];if(!F||!F[1])throw new Error("SYLK shared formula cannot find base");w[m][v][1]=aq(F[1],{r:m-re,c:v-z})}break;case"F":var q=0;for(b=1;b<j.length;++b)switch(j[b].charAt(0)){case"X":v=parseInt(j[b].slice(1))-1,++q;break;case"Y":for(m=parseInt(j[b].slice(1))-1,T=w.length;T<=m;++T)w[T]=[];break;case"M":D=parseInt(j[b].slice(1))/20;break;case"F":break;case"G":break;case"P":P=O[parseInt(j[b].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(A=j[b].slice(1).split(" "),T=parseInt(A[0],10);T<=parseInt(A[1],10);++T)D=parseInt(A[2],10),S[T-1]=D===0?{hidden:!0}:{wch:D},fp(S[T-1]);break;case"C":v=parseInt(j[b].slice(1))-1,S[v]||(S[v]={});break;case"R":m=parseInt(j[b].slice(1))-1,E[m]||(E[m]={}),D>0?(E[m].hpt=D,E[m].hpx=Vv(D)):D===0&&(E[m].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}q<1&&(P=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+k)}}return E.length>0&&(I["!rows"]=E),S.length>0&&(I["!cols"]=S),d&&d.sheetRows&&(w=w.slice(0,d.sheetRows)),[w,I]}function s(h,d){var g=a(h,d),m=g[0],v=g[1],y=Qp(m,d);return Ul(v).forEach(function(b){y[b]=v[b]}),y}function o(h,d){return Rf(s(h,d),d)}function l(h,d,g,m){var v="C;Y"+(g+1)+";X"+(m+1)+";K";switch(h.t){case"n":v+=h.v||0,h.f&&!h.F&&(v+=";E"+cme(h.f,{r:g,c:m}));break;case"b":v+=h.v?"TRUE":"FALSE";break;case"e":v+=h.w||h.v;break;case"d":v+='"'+(h.w||h.v)+'"';break;case"s":v+='"'+h.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return v}function c(h,d){d.forEach(function(g,m){var v="F;W"+(m+1)+" "+(m+1)+" ";g.hidden?v+="0":(typeof g.width=="number"&&!g.wpx&&(g.wpx=xb(g.width)),typeof g.wpx=="number"&&!g.wch&&(g.wch=bb(g.wpx)),typeof g.wch=="number"&&(v+=Math.round(g.wch))),v.charAt(v.length-1)!=" "&&h.push(v)})}function u(h,d){d.forEach(function(g,m){var v="F;";g.hidden?v+="M0;":g.hpt?v+="M"+20*g.hpt+";":g.hpx&&(v+="M"+20*tq(g.hpx)+";"),v.length>2&&h.push(v+"R"+(m+1))})}function f(h,d){var g=["ID;PWXL;N;E"],m=[],v=Jn(h["!ref"]),y,b=Array.isArray(h),w=`\r
`;g.push("P;PGeneral"),g.push("F;P0;DG0G8;M255"),h["!cols"]&&c(g,h["!cols"]),h["!rows"]&&u(g,h["!rows"]),g.push("B;Y"+(v.e.r-v.s.r+1)+";X"+(v.e.c-v.s.c+1)+";D"+[v.s.c,v.s.r,v.e.c,v.e.r].join(" "));for(var O=v.s.r;O<=v.e.r;++O)for(var P=v.s.c;P<=v.e.c;++P){var I=yr({r:O,c:P});y=b?(h[O]||[])[P]:h[I],!(!y||y.v==null&&(!y.f||y.F))&&m.push(l(y,h,O,P))}return g.join(w)+w+m.join(w)+w+"E"+w}return{to_workbook:o,to_sheet:s,from_sheet:f}}(),A0e=function(){function e(i,s){switch(s.type){case"base64":return t(zs(i),s);case"binary":return t(i,s);case"buffer":return t(Dr&&Buffer.isBuffer(i)?i.toString("binary"):fd(i),s);case"array":return t(Jh(i),s)}throw new Error("Unrecognized type "+s.type)}function t(i,s){for(var o=i.split(`
`),l=-1,c=-1,u=0,f=[];u!==o.length;++u){if(o[u].trim()==="BOT"){f[++l]=[],c=0;continue}if(!(l<0)){var h=o[u].trim().split(","),d=h[0],g=h[1];++u;for(var m=o[u]||"";(m.match(/["]/g)||[]).length&1&&u<o.length-1;)m+=`
`+o[++u];switch(m=m.trim(),+d){case-1:if(m==="BOT"){f[++l]=[],c=0;continue}else if(m!=="EOD")throw new Error("Unrecognized DIF special command "+m);break;case 0:m==="TRUE"?f[l][c]=!0:m==="FALSE"?f[l][c]=!1:isNaN(il(g))?isNaN(up(g).getDate())?f[l][c]=g:f[l][c]=Ua(g):f[l][c]=il(g),++c;break;case 1:m=m.slice(1,m.length-1),m=m.replace(/""/g,'"'),m&&m.match(/^=".*"$/)&&(m=m.slice(2,-1)),f[l][c++]=m!==""?m:null;break}if(m==="EOD")break}}return s&&s.sheetRows&&(f=f.slice(0,s.sheetRows)),f}function r(i,s){return Qp(e(i,s),s)}function n(i,s){return Rf(r(i,s),s)}var a=function(){var i=function(l,c,u,f,h){l.push(c),l.push(u+","+f),l.push('"'+h.replace(/"/g,'""')+'"')},s=function(l,c,u,f){l.push(c+","+u),l.push(c==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var c=[],u=Jn(l["!ref"]),f,h=Array.isArray(l);i(c,"TABLE",0,1,"sheetjs"),i(c,"VECTORS",0,u.e.r-u.s.r+1,""),i(c,"TUPLES",0,u.e.c-u.s.c+1,""),i(c,"DATA",0,0,"");for(var d=u.s.r;d<=u.e.r;++d){s(c,-1,0,"BOT");for(var g=u.s.c;g<=u.e.c;++g){var m=yr({r:d,c:g});if(f=h?(l[d]||[])[g]:l[m],!f){s(c,1,0,"");continue}switch(f.t){case"n":var v=f.w;!v&&f.v!=null&&(v=f.v),v==null?f.f&&!f.F?s(c,1,0,"="+f.f):s(c,1,0,""):s(c,0,v,"V");break;case"b":s(c,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":s(c,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=wo(f.z||_r[14],Qi(Ua(f.v)))),s(c,0,f.w,"V");break;default:s(c,1,0,"")}}}s(c,-1,0,"EOD");var y=`\r
`,b=c.join(y);return b}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),T0e=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,h){for(var d=f.split(`
`),g=-1,m=-1,v=0,y=[];v!==d.length;++v){var b=d[v].trim().split(":");if(b[0]==="cell"){var w=qi(b[1]);if(y.length<=w.r)for(g=y.length;g<=w.r;++g)y[g]||(y[g]=[]);switch(g=w.r,m=w.c,b[2]){case"t":y[g][m]=e(b[3]);break;case"v":y[g][m]=+b[3];break;case"vtf":var O=b[b.length-1];case"vtc":switch(b[3]){case"nl":y[g][m]=!!+b[4];break;default:y[g][m]=+b[4];break}b[2]=="vtf"&&(y[g][m]=[y[g][m],O])}}}return h&&h.sheetRows&&(y=y.slice(0,h.sheetRows)),y}function n(f,h){return Qp(r(f,h),h)}function a(f,h){return Rf(n(f,h),h)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function c(f){if(!f||!f["!ref"])return"";for(var h=[],d=[],g,m="",v=Xp(f["!ref"]),y=Array.isArray(f),b=v.s.r;b<=v.e.r;++b)for(var w=v.s.c;w<=v.e.c;++w)if(m=yr({r:b,c:w}),g=y?(f[b]||[])[w]:f[m],!(!g||g.v==null||g.t==="z")){switch(d=["cell",m,"t"],g.t){case"s":case"str":d.push(t(g.v));break;case"n":g.f?(d[2]="vtf",d[3]="n",d[4]=g.v,d[5]=t(g.f)):(d[2]="v",d[3]=g.v);break;case"b":d[2]="vt"+(g.f?"f":"c"),d[3]="nl",d[4]=g.v?"1":"0",d[5]=t(g.f||(g.v?"TRUE":"FALSE"));break;case"d":var O=Qi(Ua(g.v));d[2]="vtc",d[3]="nd",d[4]=""+O,d[5]=g.w||wo(g.z||_r[14],O);break;case"e":continue}h.push(d.join(":"))}return h.push("sheet:c:"+(v.e.c-v.s.c+1)+":r:"+(v.e.r-v.s.r+1)+":tvf:1"),h.push("valueformat:1:text-wiki"),h.join(`
`)}function u(f){return[i,s,o,s,c(f),l].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:u}}(),$v=function(){function e(u,f,h,d,g){g.raw?f[h][d]=u:u===""||(u==="TRUE"?f[h][d]=!0:u==="FALSE"?f[h][d]=!1:isNaN(il(u))?isNaN(up(u).getDate())?f[h][d]=u:f[h][d]=Ua(u):f[h][d]=il(u))}function t(u,f){var h=f||{},d=[];if(!u||u.length===0)return d;for(var g=u.split(/[\r\n]/),m=g.length-1;m>=0&&g[m].length===0;)--m;for(var v=10,y=0,b=0;b<=m;++b)y=g[b].indexOf(" "),y==-1?y=g[b].length:y++,v=Math.max(v,y);for(b=0;b<=m;++b){d[b]=[];var w=0;for(e(g[b].slice(0,v).trim(),d,b,w,h),w=1;w<=(g[b].length-v)/10+1;++w)e(g[b].slice(v+(w-1)*10,v+w*10).trim(),d,b,w,h)}return h.sheetRows&&(d=d.slice(0,h.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(u){for(var f={},h=!1,d=0,g=0;d<u.length;++d)(g=u.charCodeAt(d))==34?h=!h:!h&&g in r&&(f[g]=(f[g]||0)+1);g=[];for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d]);if(!g.length){f=n;for(d in f)Object.prototype.hasOwnProperty.call(f,d)&&g.push([f[d],d])}return g.sort(function(m,v){return m[0]-v[0]||n[m[1]]-n[v[1]]}),r[g.pop()[1]]||44}function i(u,f){var h=f||{},d="",g=h.dense?[]:{},m={s:{c:0,r:0},e:{c:0,r:0}};u.slice(0,4)=="sep="?u.charCodeAt(5)==13&&u.charCodeAt(6)==10?(d=u.charAt(4),u=u.slice(7)):u.charCodeAt(5)==13||u.charCodeAt(5)==10?(d=u.charAt(4),u=u.slice(6)):d=a(u.slice(0,1024)):h&&h.FS?d=h.FS:d=a(u.slice(0,1024));var v=0,y=0,b=0,w=0,O=0,P=d.charCodeAt(0),I=!1,E=0,S=u.charCodeAt(0);u=u.replace(/\r\n/mg,`
`);var A=h.dateNF!=null?Mfe(h.dateNF):null;function D(){var T=u.slice(w,O),k={};if(T.charAt(0)=='"'&&T.charAt(T.length-1)=='"'&&(T=T.slice(1,-1).replace(/""/g,'"')),T.length===0)k.t="z";else if(h.raw)k.t="s",k.v=T;else if(T.trim().length===0)k.t="s",k.v=T;else if(T.charCodeAt(0)==61)T.charCodeAt(1)==34&&T.charCodeAt(T.length-1)==34?(k.t="s",k.v=T.slice(2,-1).replace(/""/g,'"')):fme(T)?(k.t="n",k.f=T.slice(1)):(k.t="s",k.v=T);else if(T=="TRUE")k.t="b",k.v=!0;else if(T=="FALSE")k.t="b",k.v=!1;else if(!isNaN(b=il(T)))k.t="n",h.cellText!==!1&&(k.w=T),k.v=b;else if(!isNaN(up(T).getDate())||A&&T.match(A)){k.z=h.dateNF||_r[14];var j=0;A&&T.match(A)&&(T=Rfe(T,h.dateNF,T.match(A)||[]),j=1),h.cellDates?(k.t="d",k.v=Ua(T,j)):(k.t="n",k.v=Qi(Ua(T,j))),h.cellText!==!1&&(k.w=wo(k.z,k.v instanceof Date?Qi(k.v):k.v)),h.cellNF||delete k.z}else k.t="s",k.v=T;if(k.t=="z"||(h.dense?(g[v]||(g[v]=[]),g[v][y]=k):g[yr({c:y,r:v})]=k),w=O+1,S=u.charCodeAt(w),m.e.c<y&&(m.e.c=y),m.e.r<v&&(m.e.r=v),E==P)++y;else if(y=0,++v,h.sheetRows&&h.sheetRows<=v)return!0}e:for(;O<u.length;++O)switch(E=u.charCodeAt(O)){case 34:S===34&&(I=!I);break;case P:case 10:case 13:if(!I&&D())break e;break}return O-w>0&&D(),g["!ref"]=Vr(m),g}function s(u,f){return!(f&&f.PRN)||f.FS||u.slice(0,4)=="sep="||u.indexOf("	")>=0||u.indexOf(",")>=0||u.indexOf(";")>=0?i(u,f):Qp(t(u,f),f)}function o(u,f){var h="",d=f.type=="string"?[0,0,0,0]:oC(u,f);switch(f.type){case"base64":h=zs(u);break;case"binary":h=u;break;case"buffer":f.codepage==65001?h=u.toString("utf8"):f.codepage&&typeof Bu<"u"?h=Bu.utils.decode(f.codepage,u):h=Dr&&Buffer.isBuffer(u)?u.toString("binary"):fd(u);break;case"array":h=Jh(u);break;case"string":h=u;break;default:throw new Error("Unrecognized type "+f.type)}return d[0]==239&&d[1]==187&&d[2]==191?h=An(h.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?h=An(h):f.type=="binary"&&typeof Bu<"u"&&f.codepage&&(h=Bu.utils.decode(f.codepage,Bu.utils.encode(28591,h))),h.slice(0,19)=="socialcalc:version:"?T0e.to_sheet(f.type=="string"?h:An(h),f):s(h,f)}function l(u,f){return Rf(o(u,f),f)}function c(u){for(var f=[],h=Jn(u["!ref"]),d,g=Array.isArray(u),m=h.s.r;m<=h.e.r;++m){for(var v=[],y=h.s.c;y<=h.e.c;++y){var b=yr({r:m,c:y});if(d=g?(u[m]||[])[y]:u[b],!d||d.v==null){v.push("          ");continue}for(var w=(d.w||($c(d),d.w)||"").slice(0,10);w.length<10;)w+=" ";v.push(w+(y===0?" ":""))}f.push(v.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:c}}();function E0e(e,t){var r=t||{},n=!!r.WTF;r.WTF=!0;try{var a=S0e.to_workbook(e,r);return r.WTF=n,a}catch(i){if(r.WTF=n,!i.message.match(/SYLK bad record ID/)&&n)throw i;return $v.to_workbook(e,t)}}var Fg=function(){function e(C,F,q){if(C){ti(C,C.l||0);for(var K=q.Enum||re;C.l<C.length;){var Z=C.read_shift(2),oe=K[Z]||K[65535],fe=C.read_shift(2),ie=C.l+fe,de=oe.f&&oe.f(C,fe,q);if(C.l=ie,F(de,oe,Z))return}}}function t(C,F){switch(F.type){case"base64":return r(Qo(zs(C)),F);case"binary":return r(Qo(C),F);case"buffer":case"array":return r(C,F)}throw"Unsupported type "+F.type}function r(C,F){if(!C)return C;var q=F||{},K=q.dense?[]:{},Z="Sheet1",oe="",fe=0,ie={},de=[],_e=[],B={s:{r:0,c:0},e:{r:0,c:0}},Te=q.sheetRows||0;if(C[2]==0&&(C[3]==8||C[3]==9)&&C.length>=16&&C[14]==5&&C[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(C[2]==2)q.Enum=re,e(C,function(ke,$e,Fe){switch(Fe){case 0:q.vers=ke,ke>=4096&&(q.qpro=!0);break;case 6:B=ke;break;case 204:ke&&(oe=ke);break;case 222:oe=ke;break;case 15:case 51:q.qpro||(ke[1].v=ke[1].v.slice(1));case 13:case 14:case 16:Fe==14&&(ke[2]&112)==112&&(ke[2]&15)>1&&(ke[2]&15)<15&&(ke[1].z=q.dateNF||_r[14],q.cellDates&&(ke[1].t="d",ke[1].v=m5(ke[1].v))),q.qpro&&ke[3]>fe&&(K["!ref"]=Vr(B),ie[Z]=K,de.push(Z),K=q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},fe=ke[3],Z=oe||"Sheet"+(fe+1),oe="");var Qe=q.dense?(K[ke[0].r]||[])[ke[0].c]:K[yr(ke[0])];if(Qe){Qe.t=ke[1].t,Qe.v=ke[1].v,ke[1].z!=null&&(Qe.z=ke[1].z),ke[1].f!=null&&(Qe.f=ke[1].f);break}q.dense?(K[ke[0].r]||(K[ke[0].r]=[]),K[ke[0].r][ke[0].c]=ke[1]):K[yr(ke[0])]=ke[1];break}},q);else if(C[2]==26||C[2]==14)q.Enum=z,C[2]==14&&(q.qpro=!0,C.l=0),e(C,function(ke,$e,Fe){switch(Fe){case 204:Z=ke;break;case 22:ke[1].v=ke[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(ke[3]>fe&&(K["!ref"]=Vr(B),ie[Z]=K,de.push(Z),K=q.dense?[]:{},B={s:{r:0,c:0},e:{r:0,c:0}},fe=ke[3],Z="Sheet"+(fe+1)),Te>0&&ke[0].r>=Te)break;q.dense?(K[ke[0].r]||(K[ke[0].r]=[]),K[ke[0].r][ke[0].c]=ke[1]):K[yr(ke[0])]=ke[1],B.e.c<ke[0].c&&(B.e.c=ke[0].c),B.e.r<ke[0].r&&(B.e.r=ke[0].r);break;case 27:ke[14e3]&&(_e[ke[14e3][0]]=ke[14e3][1]);break;case 1537:_e[ke[0]]=ke[1],ke[0]==fe&&(Z=ke[1]);break}},q);else throw new Error("Unrecognized LOTUS BOF "+C[2]);if(K["!ref"]=Vr(B),ie[oe||Z]=K,de.push(oe||Z),!_e.length)return{SheetNames:de,Sheets:ie};for(var ge={},ve=[],te=0;te<_e.length;++te)ie[de[te]]?(ve.push(_e[te]||de[te]),ge[_e[te]]=ie[_e[te]]||ie[de[te]]):(ve.push(_e[te]),ge[_e[te]]={"!ref":"A1"});return{SheetNames:ve,Sheets:ge}}function n(C,F){var q=F||{};if(+q.codepage>=0&&Zo(+q.codepage),q.type=="string")throw new Error("Cannot write WK1 to JS string");var K=xT(),Z=Jn(C["!ref"]),oe=Array.isArray(C),fe=[];Fo(K,0,i(1030)),Fo(K,6,l(Z));for(var ie=Math.min(Z.e.r,8191),de=Z.s.r;de<=ie;++de)for(var _e=si(de),B=Z.s.c;B<=Z.e.c;++B){de===Z.s.r&&(fe[B]=Na(B));var Te=fe[B]+_e,ge=oe?(C[de]||[])[B]:C[Te];if(!(!ge||ge.t=="z"))if(ge.t=="n")(ge.v|0)==ge.v&&ge.v>=-32768&&ge.v<=32767?Fo(K,13,d(de,B,ge.v)):Fo(K,14,m(de,B,ge.v));else{var ve=$c(ge);Fo(K,15,f(de,B,ve.slice(0,239)))}}return Fo(K,1),K.end()}function a(C,F){var q=F||{};if(+q.codepage>=0&&Zo(+q.codepage),q.type=="string")throw new Error("Cannot write WK3 to JS string");var K=xT();Fo(K,0,s(C));for(var Z=0,oe=0;Z<C.SheetNames.length;++Z)(C.Sheets[C.SheetNames[Z]]||{})["!ref"]&&Fo(K,27,U(C.SheetNames[Z],oe++));var fe=0;for(Z=0;Z<C.SheetNames.length;++Z){var ie=C.Sheets[C.SheetNames[Z]];if(!(!ie||!ie["!ref"])){for(var de=Jn(ie["!ref"]),_e=Array.isArray(ie),B=[],Te=Math.min(de.e.r,8191),ge=de.s.r;ge<=Te;++ge)for(var ve=si(ge),te=de.s.c;te<=de.e.c;++te){ge===de.s.r&&(B[te]=Na(te));var ke=B[te]+ve,$e=_e?(ie[ge]||[])[te]:ie[ke];if(!(!$e||$e.t=="z"))if($e.t=="n")Fo(K,23,D(ge,te,fe,$e.v));else{var Fe=$c($e);Fo(K,22,E(ge,te,fe,Fe.slice(0,239)))}}++fe}}return Fo(K,1),K.end()}function i(C){var F=Sa(2);return F.write_shift(2,C),F}function s(C){var F=Sa(26);F.write_shift(2,4096),F.write_shift(2,4),F.write_shift(4,0);for(var q=0,K=0,Z=0,oe=0;oe<C.SheetNames.length;++oe){var fe=C.SheetNames[oe],ie=C.Sheets[fe];if(!(!ie||!ie["!ref"])){++Z;var de=Xp(ie["!ref"]);q<de.e.r&&(q=de.e.r),K<de.e.c&&(K=de.e.c)}}return q>8191&&(q=8191),F.write_shift(2,q),F.write_shift(1,Z),F.write_shift(1,K),F.write_shift(2,0),F.write_shift(2,0),F.write_shift(1,1),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(4,0),F}function o(C,F,q){var K={s:{c:0,r:0},e:{c:0,r:0}};return F==8&&q.qpro?(K.s.c=C.read_shift(1),C.l++,K.s.r=C.read_shift(2),K.e.c=C.read_shift(1),C.l++,K.e.r=C.read_shift(2),K):(K.s.c=C.read_shift(2),K.s.r=C.read_shift(2),F==12&&q.qpro&&(C.l+=2),K.e.c=C.read_shift(2),K.e.r=C.read_shift(2),F==12&&q.qpro&&(C.l+=2),K.s.c==65535&&(K.s.c=K.e.c=K.s.r=K.e.r=0),K)}function l(C){var F=Sa(8);return F.write_shift(2,C.s.c),F.write_shift(2,C.s.r),F.write_shift(2,C.e.c),F.write_shift(2,C.e.r),F}function c(C,F,q){var K=[{c:0,r:0},{t:"n",v:0},0,0];return q.qpro&&q.vers!=20768?(K[0].c=C.read_shift(1),K[3]=C.read_shift(1),K[0].r=C.read_shift(2),C.l+=2):(K[2]=C.read_shift(1),K[0].c=C.read_shift(2),K[0].r=C.read_shift(2)),K}function u(C,F,q){var K=C.l+F,Z=c(C,F,q);if(Z[1].t="s",q.vers==20768){C.l++;var oe=C.read_shift(1);return Z[1].v=C.read_shift(oe,"utf8"),Z}return q.qpro&&C.l++,Z[1].v=C.read_shift(K-C.l,"cstr"),Z}function f(C,F,q){var K=Sa(7+q.length);K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,C),K.write_shift(1,39);for(var Z=0;Z<K.length;++Z){var oe=q.charCodeAt(Z);K.write_shift(1,oe>=128?95:oe)}return K.write_shift(1,0),K}function h(C,F,q){var K=c(C,F,q);return K[1].v=C.read_shift(2,"i"),K}function d(C,F,q){var K=Sa(7);return K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,C),K.write_shift(2,q,"i"),K}function g(C,F,q){var K=c(C,F,q);return K[1].v=C.read_shift(8,"f"),K}function m(C,F,q){var K=Sa(13);return K.write_shift(1,255),K.write_shift(2,F),K.write_shift(2,C),K.write_shift(8,q,"f"),K}function v(C,F,q){var K=C.l+F,Z=c(C,F,q);if(Z[1].v=C.read_shift(8,"f"),q.qpro)C.l=K;else{var oe=C.read_shift(2);O(C.slice(C.l,C.l+oe),Z),C.l+=oe}return Z}function y(C,F,q){var K=F&32768;return F&=-32769,F=(K?C:0)+(F>=8192?F-16384:F),(K?"":"$")+(q?Na(F):si(F))}var b={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},w=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(C,F){ti(C,0);for(var q=[],K=0,Z="",oe="",fe="",ie="";C.l<C.length;){var de=C[C.l++];switch(de){case 0:q.push(C.read_shift(8,"f"));break;case 1:oe=y(F[0].c,C.read_shift(2),!0),Z=y(F[0].r,C.read_shift(2),!1),q.push(oe+Z);break;case 2:{var _e=y(F[0].c,C.read_shift(2),!0),B=y(F[0].r,C.read_shift(2),!1);oe=y(F[0].c,C.read_shift(2),!0),Z=y(F[0].r,C.read_shift(2),!1),q.push(_e+B+":"+oe+Z)}break;case 3:if(C.l<C.length){console.error("WK1 premature formula end");return}break;case 4:q.push("("+q.pop()+")");break;case 5:q.push(C.read_shift(2));break;case 6:{for(var Te="";de=C[C.l++];)Te+=String.fromCharCode(de);q.push('"'+Te.replace(/"/g,'""')+'"')}break;case 8:q.push("-"+q.pop());break;case 23:q.push("+"+q.pop());break;case 22:q.push("NOT("+q.pop()+")");break;case 20:case 21:ie=q.pop(),fe=q.pop(),q.push(["AND","OR"][de-20]+"("+fe+","+ie+")");break;default:if(de<32&&w[de])ie=q.pop(),fe=q.pop(),q.push(fe+w[de]+ie);else if(b[de]){if(K=b[de][1],K==69&&(K=C[C.l++]),K>q.length){console.error("WK1 bad formula parse 0x"+de.toString(16)+":|"+q.join("|")+"|");return}var ge=q.slice(-K);q.length-=K,q.push(b[de][0]+"("+ge.join(",")+")")}else return de<=7?console.error("WK1 invalid opcode "+de.toString(16)):de<=24?console.error("WK1 unsupported op "+de.toString(16)):de<=30?console.error("WK1 invalid opcode "+de.toString(16)):de<=115?console.error("WK1 unsupported function opcode "+de.toString(16)):console.error("WK1 unrecognized opcode "+de.toString(16))}}q.length==1?F[1].f=""+q[0]:console.error("WK1 bad formula parse |"+q.join("|")+"|")}function P(C){var F=[{c:0,r:0},{t:"n",v:0},0];return F[0].r=C.read_shift(2),F[3]=C[C.l++],F[0].c=C[C.l++],F}function I(C,F){var q=P(C);return q[1].t="s",q[1].v=C.read_shift(F-4,"cstr"),q}function E(C,F,q,K){var Z=Sa(6+K.length);Z.write_shift(2,C),Z.write_shift(1,q),Z.write_shift(1,F),Z.write_shift(1,39);for(var oe=0;oe<K.length;++oe){var fe=K.charCodeAt(oe);Z.write_shift(1,fe>=128?95:fe)}return Z.write_shift(1,0),Z}function S(C,F){var q=P(C);q[1].v=C.read_shift(2);var K=q[1].v>>1;if(q[1].v&1)switch(K&7){case 0:K=(K>>3)*5e3;break;case 1:K=(K>>3)*500;break;case 2:K=(K>>3)/20;break;case 3:K=(K>>3)/200;break;case 4:K=(K>>3)/2e3;break;case 5:K=(K>>3)/2e4;break;case 6:K=(K>>3)/16;break;case 7:K=(K>>3)/64;break}return q[1].v=K,q}function A(C,F){var q=P(C),K=C.read_shift(4),Z=C.read_shift(4),oe=C.read_shift(2);if(oe==65535)return K===0&&Z===3221225472?(q[1].t="e",q[1].v=15):K===0&&Z===3489660928?(q[1].t="e",q[1].v=42):q[1].v=0,q;var fe=oe&32768;return oe=(oe&32767)-16446,q[1].v=(1-fe*2)*(Z*Math.pow(2,oe+32)+K*Math.pow(2,oe)),q}function D(C,F,q,K){var Z=Sa(14);if(Z.write_shift(2,C),Z.write_shift(1,q),Z.write_shift(1,F),K==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var oe=0,fe=0,ie=0,de=0;return K<0&&(oe=1,K=-K),fe=Math.log2(K)|0,K/=Math.pow(2,fe-31),de=K>>>0,de&2147483648||(K/=2,++fe,de=K>>>0),K-=de,de|=2147483648,de>>>=0,K*=Math.pow(2,32),ie=K>>>0,Z.write_shift(4,ie),Z.write_shift(4,de),fe+=16383+(oe?32768:0),Z.write_shift(2,fe),Z}function T(C,F){var q=A(C);return C.l+=F-14,q}function k(C,F){var q=P(C),K=C.read_shift(4);return q[1].v=K>>6,q}function j(C,F){var q=P(C),K=C.read_shift(8,"f");return q[1].v=K,q}function V(C,F){var q=j(C);return C.l+=F-10,q}function Q(C,F){return C[C.l+F-1]==0?C.read_shift(F,"cstr"):""}function Y(C,F){var q=C[C.l++];q>F-1&&(q=F-1);for(var K="";K.length<q;)K+=String.fromCharCode(C[C.l++]);return K}function J(C,F,q){if(!(!q.qpro||F<21)){var K=C.read_shift(1);C.l+=17,C.l+=1,C.l+=2;var Z=C.read_shift(F-21,"cstr");return[K,Z]}}function H(C,F){for(var q={},K=C.l+F;C.l<K;){var Z=C.read_shift(2);if(Z==14e3){for(q[Z]=[0,""],q[Z][0]=C.read_shift(2);C[C.l];)q[Z][1]+=String.fromCharCode(C[C.l]),C.l++;C.l++}}return q}function U(C,F){var q=Sa(5+C.length);q.write_shift(2,14e3),q.write_shift(2,F);for(var K=0;K<C.length;++K){var Z=C.charCodeAt(K);q[q.l++]=Z>127?95:Z}return q[q.l++]=0,q}var re={0:{n:"BOF",f:pa},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:h},14:{n:"NUMBER",f:g},15:{n:"LABEL",f:u},16:{n:"FORMULA",f:v},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:u},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Q},222:{n:"SHEETNAMELP",f:Y},65535:{n:""}},z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:I},23:{n:"NUMBER17",f:A},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:T},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:H},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:k},38:{n:"??"},39:{n:"NUMBER27",f:j},40:{n:"FORMULA28",f:V},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Q},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}();function k0e(e){var t={},r=e.match(Ii),n=0,a=!1;if(r)for(;n!=r.length;++n){var i=fr(r[n]);switch(i[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!i.val)break;case"<shadow>":case"<shadow/>":t.shadow=1;break;case"</shadow>":break;case"<charset":if(i.val=="1")break;t.cp=RN[parseInt(i.val,10)];break;case"<outline":if(!i.val)break;case"<outline>":case"<outline/>":t.outline=1;break;case"</outline>":break;case"<rFont":t.name=i.val;break;case"<sz":t.sz=i.val;break;case"<strike":if(!i.val)break;case"<strike>":case"<strike/>":t.strike=1;break;case"</strike>":break;case"<u":if(!i.val)break;switch(i.val){case"double":t.uval="double";break;case"singleAccounting":t.uval="single-accounting";break;case"doubleAccounting":t.uval="double-accounting";break}case"<u>":case"<u/>":t.u=1;break;case"</u>":break;case"<b":if(i.val=="0")break;case"<b>":case"<b/>":t.b=1;break;case"</b>":break;case"<i":if(i.val=="0")break;case"<i>":case"<i/>":t.i=1;break;case"</i>":break;case"<color":i.rgb&&(t.color=i.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":t.family=i.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":t.valign=i.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(i[0].charCodeAt(1)!==47&&!a)throw new Error("Unrecognized rich format "+i[0])}}return t}var N0e=function(){var e=Rv("t"),t=Rv("rPr");function r(i){var s=i.match(e);if(!s)return{t:"s",v:""};var o={t:"s",v:Wr(s[1])},l=i.match(t);return l&&(o.s=k0e(l[1])),o}var n=/<(?:\w+:)?r>/g,a=/<\/(?:\w+:)?r>/;return function(s){return s.replace(n,"").split(a).map(r).filter(function(o){return o.v})}}(),C0e=function(){var t=/(\r\n|\n)/g;function r(a,i,s){var o=[];a.u&&o.push("text-decoration: underline;"),a.uval&&o.push("text-underline-style:"+a.uval+";"),a.sz&&o.push("font-size:"+a.sz+"pt;"),a.outline&&o.push("text-effect: outline;"),a.shadow&&o.push("text-shadow: auto;"),i.push('<span style="'+o.join("")+'">'),a.b&&(i.push("<b>"),s.push("</b>")),a.i&&(i.push("<i>"),s.push("</i>")),a.strike&&(i.push("<s>"),s.push("</s>"));var l=a.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(i.push("<"+l+">"),s.push("</"+l+">")),s.push("</span>"),a}function n(a){var i=[[],a.v,[]];return a.v?(a.s&&r(a.s,i[0],i[2]),i[0].join("")+i[1].replace(t,"<br/>")+i[2].join("")):""}return function(i){return i.map(n).join("")}}(),P0e=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,O0e=/<(?:\w+:)?r>/,I0e=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function eC(e,t){var r=t?t.cellHTML:!0,n={};return e?(e.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Wr(An(e.slice(e.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=An(e),r&&(n.h=qN(n.t))):e.match(O0e)&&(n.r=An(e),n.t=Wr(An((e.replace(I0e,"").match(P0e)||[]).join("").replace(Ii,""))),r&&(n.h=C0e(N0e(n.r)))),n):{t:""}}var D0e=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,j0e=/<(?:\w+:)?(?:si|sstItem)>/g,L0e=/<\/(?:\w+:)?(?:si|sstItem)>/;function M0e(e,t){var r=[],n="";if(!e)return r;var a=e.match(D0e);if(a){n=a[2].replace(j0e,"").split(L0e);for(var i=0;i!=n.length;++i){var s=eC(n[i].trim(),t);s!=null&&(r[r.length]=s)}a=fr(a[1]),r.Count=a.count,r.Unique=a.uniqueCount}return r}function R0e(e){return[e.read_shift(4),e.read_shift(4)]}function F0e(e,t){var r=[],n=!1;return Xc(e,function(i,s,o){switch(o){case 159:r.Count=i[0],r.Unique=i[1];break;case 19:r.push(i);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(s.T,!n||t.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Yz(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function wc(e,t){var r={};return r.Major=e.read_shift(2),r.Minor=e.read_shift(2),t>=4&&(e.l+=t-4),r}function $0e(e){var t={};return t.id=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function B0e(e){for(var t=e.read_shift(4),r=e.l+t-4,n={},a=e.read_shift(4),i=[];a-- >0;)i.push({t:e.read_shift(4),v:e.read_shift(0,"lpp4")});if(n.name=e.read_shift(0,"lpp4"),n.comps=i,e.l!=r)throw new Error("Bad DataSpaceMapEntry: "+e.l+" != "+r);return n}function V0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(B0e(e));return t}function U0e(e){var t=[];e.l+=4;for(var r=e.read_shift(4);r-- >0;)t.push(e.read_shift(0,"lpp4"));return t}function z0e(e){var t={};return e.read_shift(4),e.l+=4,t.id=e.read_shift(0,"lpp4"),t.name=e.read_shift(0,"lpp4"),t.R=wc(e,4),t.U=wc(e,4),t.W=wc(e,4),t}function q0e(e){var t=z0e(e);if(t.ename=e.read_shift(0,"8lpp4"),t.blksz=e.read_shift(4),t.cmode=e.read_shift(4),e.read_shift(4)!=4)throw new Error("Bad !Primary record");return t}function Xz(e,t){var r=e.l+t,n={};n.Flags=e.read_shift(4)&63,e.l+=4,n.AlgID=e.read_shift(4);var a=!1;switch(n.AlgID){case 26126:case 26127:case 26128:a=n.Flags==36;break;case 26625:a=n.Flags==4;break;case 0:a=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!a)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=e.read_shift(4),n.KeySize=e.read_shift(4),n.ProviderType=e.read_shift(4),e.l+=8,n.CSPName=e.read_shift(r-e.l>>1,"utf16le"),e.l=r,n}function Qz(e,t){var r={},n=e.l+t;return e.l+=4,r.Salt=e.slice(e.l,e.l+16),e.l+=16,r.Verifier=e.slice(e.l,e.l+16),e.l+=16,e.read_shift(4),r.VerifierHash=e.slice(e.l,n),e.l=n,r}function W0e(e){var t=wc(e);switch(t.Minor){case 2:return[t.Minor,H0e(e)];case 3:return[t.Minor,G0e()];case 4:return[t.Minor,K0e(e)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+t.Minor)}function H0e(e){var t=e.read_shift(4);if((t&63)!=36)throw new Error("EncryptionInfo mismatch");var r=e.read_shift(4),n=Xz(e,r),a=Qz(e,e.length-e.l);return{t:"Std",h:n,v:a}}function G0e(){throw new Error("File is password-protected: ECMA-376 Extensible")}function K0e(e){var t=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];e.l+=4;var r=e.read_shift(e.length-e.l,"utf8"),n={};return r.replace(Ii,function(i){var s=fr(i);switch(ql(s[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":t.forEach(function(o){n[o]=s[o]});break;case"<dataIntegrity":n.encryptedHmacKey=s.encryptedHmacKey,n.encryptedHmacValue=s.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=s.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(s);break;default:throw s[0]}}),n}function Y0e(e,t){var r={},n=r.EncryptionVersionInfo=wc(e,4);if(t-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=e.read_shift(4),t-=4;var a=e.read_shift(4);return t-=4,r.EncryptionHeader=Xz(e,a),t-=a,r.EncryptionVerifier=Qz(e,t),r}function X0e(e){var t={},r=t.EncryptionVersionInfo=wc(e,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return t.Salt=e.read_shift(16),t.EncryptedVerifier=e.read_shift(16),t.EncryptedVerifierHash=e.read_shift(16),t}function Q0e(e){var t=0,r,n=Yz(e),a=n.length+1,i,s,o,l,c;for(r=Ef(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)s=r[i],o=t&16384?1:0,l=t<<1&32767,c=o|l,t=c^s;return t^52811}var Jz=function(){var e=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],t=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(s){return(s/2|s*128)&255},a=function(s,o){return n(s^o)},i=function(s){for(var o=t[s.length-1],l=104,c=s.length-1;c>=0;--c)for(var u=s[c],f=0;f!=7;++f)u&64&&(o^=r[l]),u*=2,--l;return o};return function(s){for(var o=Yz(s),l=i(o),c=o.length,u=Ef(16),f=0;f!=16;++f)u[f]=0;var h,d,g;for((c&1)===1&&(h=l>>8,u[c]=a(e[0],h),--c,h=l&255,d=o[o.length-1],u[c]=a(d,h));c>0;)--c,h=l>>8,u[c]=a(o[c],h),--c,h=l&255,u[c]=a(o[c],h);for(c=15,g=15-o.length;g>0;)h=l>>8,u[c]=a(e[g],h),--c,--g,h=l&255,u[c]=a(o[c],h),--c,--g;return u}}(),J0e=function(e,t,r,n,a){a||(a=t),n||(n=Jz(e));var i,s;for(i=0;i!=t.length;++i)s=t[i],s^=n[r],s=(s>>5|s<<3)&255,a[i]=s,++r;return[a,r,n]},Z0e=function(e){var t=0,r=Jz(e);return function(n){var a=J0e("",n,t,r);return t=a[1],a[0]}};function epe(e,t,r,n){var a={key:pa(e),verificationBytes:pa(e)};return r.password&&(a.verifier=Q0e(r.password)),n.valid=a.verificationBytes===a.verifier,n.valid&&(n.insitu=Z0e(r.password)),a}function tpe(e,t,r){var n=r||{};return n.Info=e.read_shift(2),e.l-=2,n.Info===1?n.Data=X0e(e):n.Data=Y0e(e,t),n}function rpe(e,t,r){var n={Type:r.biff>=8?e.read_shift(2):0};return n.Type?tpe(e,t-2,n):epe(e,r.biff>=8?t:t-2,r,n),n}var npe=function(){function e(a,i){switch(i.type){case"base64":return t(zs(a),i);case"binary":return t(a,i);case"buffer":return t(Dr&&Buffer.isBuffer(a)?a.toString("binary"):fd(a),i);case"array":return t(Jh(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var s=i||{},o=s.dense?[]:{},l=a.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var c={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(u,f){Array.isArray(o)&&(o[f]=[]);for(var h=/\\\w+\b/g,d=0,g,m=-1;g=h.exec(u);){switch(g[0]){case"\\cell":var v=u.slice(d,h.lastIndex-g[0].length);if(v[0]==" "&&(v=v.slice(1)),++m,v.length){var y={v,t:"s"};Array.isArray(o)?o[f][m]=y:o[yr({r:f,c:m})]=y}break}d=h.lastIndex}m>c.e.c&&(c.e.c=m)}),o["!ref"]=Vr(c),o}function r(a,i){return Rf(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],s=Jn(a["!ref"]),o,l=Array.isArray(a),c=s.s.r;c<=s.e.r;++c){i.push("\\trowd\\trautofit1");for(var u=s.s.c;u<=s.e.c;++u)i.push("\\cellx"+(u+1));for(i.push("\\pard\\intbl"),u=s.s.c;u<=s.e.c;++u){var f=yr({r:c,c:u});o=l?(a[c]||[])[u]:a[f],!(!o||o.v==null&&(!o.f||o.F))&&(i.push(" "+(o.w||($c(o),o.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function ape(e){var t=e.slice(e[0]==="#"?1:0).slice(0,6);return[parseInt(t.slice(0,2),16),parseInt(t.slice(2,4),16),parseInt(t.slice(4,6),16)]}function Bv(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}function ipe(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,a=Math.max(t,r,n),i=Math.min(t,r,n),s=a-i;if(s===0)return[0,0,t];var o=0,l=0,c=a+i;switch(l=s/(c>1?2-c:c),a){case t:o=((r-n)/s+6)%6;break;case r:o=(n-t)/s+2;break;case n:o=(t-r)/s+4;break}return[o/6,l,c/2]}function spe(e){var t=e[0],r=e[1],n=e[2],a=r*2*(n<.5?n:1-n),i=n-a/2,s=[i,i,i],o=6*t,l;if(r!==0)switch(o|0){case 0:case 6:l=a*o,s[0]+=a,s[1]+=l;break;case 1:l=a*(2-o),s[0]+=l,s[1]+=a;break;case 2:l=a*(o-2),s[1]+=a,s[2]+=l;break;case 3:l=a*(4-o),s[1]+=l,s[2]+=a;break;case 4:l=a*(o-4),s[2]+=a,s[0]+=l;break;case 5:l=a*(6-o),s[2]+=l,s[0]+=a;break}for(var c=0;c!=3;++c)s[c]=Math.round(s[c]*255);return s}function yb(e,t){if(t===0)return e;var r=ipe(ape(e));return t<0?r[2]=r[2]*(1+t):r[2]=1-(1-r[2])*(1-t),Bv(spe(r))}var Zz=6,ope=15,lpe=1,Vi=Zz;function xb(e){return Math.floor((e+Math.round(128/Vi)/256)*Vi)}function bb(e){return Math.floor((e-5)/Vi*100+.5)/100}function ST(e){return Math.round((e*Vi+5)/Vi*256)/256}function IS(e){return ST(bb(xb(e)))}function tC(e){var t=Math.abs(e-IS(e)),r=Vi;if(t>.005)for(Vi=lpe;Vi<ope;++Vi)Math.abs(e-IS(e))<=t&&(t=Math.abs(e-IS(e)),r=Vi);Vi=r}function fp(e){e.width?(e.wpx=xb(e.width),e.wch=bb(e.wpx),e.MDW=Vi):e.wpx?(e.wch=bb(e.wpx),e.width=ST(e.wch),e.MDW=Vi):typeof e.wch=="number"&&(e.width=ST(e.wch),e.wpx=xb(e.width),e.MDW=Vi),e.customWidth&&delete e.customWidth}var cpe=96,eq=cpe;function tq(e){return e*96/eq}function Vv(e){return e*eq/96}var upe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function fpe(e,t,r,n){t.Borders=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=fr(s);switch(ql(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":a={},o.diagonalUp&&(a.diagonalUp=Dn(o.diagonalUp)),o.diagonalDown&&(a.diagonalDown=Dn(o.diagonalDown)),t.Borders.push(a);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in borders")}})}function hpe(e,t,r,n){t.Fills=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=fr(s);switch(ql(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":a={},t.Fills.push(a);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":t.Fills.push(a),a={};break;case"<patternFill":case"<patternFill>":o.patternType&&(a.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":a.bgColor||(a.bgColor={}),o.indexed&&(a.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(a.bgColor.theme=parseInt(o.theme,10)),o.tint&&(a.bgColor.tint=parseFloat(o.tint)),o.rgb&&(a.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":a.fgColor||(a.fgColor={}),o.theme&&(a.fgColor.theme=parseInt(o.theme,10)),o.tint&&(a.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(a.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fills")}})}function dpe(e,t,r,n){t.Fonts=[];var a={},i=!1;(e[0].match(Ii)||[]).forEach(function(s){var o=fr(s);switch(ql(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":t.Fonts.push(a),a={};break;case"<name":o.val&&(a.name=An(o.val));break;case"<name/>":case"</name>":break;case"<b":a.bold=o.val?Dn(o.val):1;break;case"<b/>":a.bold=1;break;case"<i":a.italic=o.val?Dn(o.val):1;break;case"<i/>":a.italic=1;break;case"<u":switch(o.val){case"none":a.underline=0;break;case"single":a.underline=1;break;case"double":a.underline=2;break;case"singleAccounting":a.underline=33;break;case"doubleAccounting":a.underline=34;break}break;case"<u/>":a.underline=1;break;case"<strike":a.strike=o.val?Dn(o.val):1;break;case"<strike/>":a.strike=1;break;case"<outline":a.outline=o.val?Dn(o.val):1;break;case"<outline/>":a.outline=1;break;case"<shadow":a.shadow=o.val?Dn(o.val):1;break;case"<shadow/>":a.shadow=1;break;case"<condense":a.condense=o.val?Dn(o.val):1;break;case"<condense/>":a.condense=1;break;case"<extend":a.extend=o.val?Dn(o.val):1;break;case"<extend/>":a.extend=1;break;case"<sz":o.val&&(a.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(a.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(a.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(a.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=RN[parseInt(o.val,10)];break;case"<color":if(a.color||(a.color={}),o.auto&&(a.color.auto=Dn(o.auto)),o.rgb)a.color.rgb=o.rgb.slice(-6);else if(o.indexed){a.color.index=parseInt(o.indexed,10);var l=Fh[a.color.index];a.color.index==81&&(l=Fh[1]),l||(l=Fh[1]),a.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(a.color.theme=parseInt(o.theme,10),o.tint&&(a.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(a.color.rgb=yb(r.themeElements.clrScheme[a.color.theme].rgb,a.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(n&&n.WTF&&!i)throw new Error("unrecognized "+o[0]+" in fonts")}})}function ppe(e,t,r){t.NumberFmt=[];for(var n=Ul(_r),a=0;a<n.length;++a)t.NumberFmt[n[a]]=_r[n[a]];var i=e[0].match(Ii);if(i)for(a=0;a<i.length;++a){var s=fr(i[a]);switch(ql(s[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Wr(An(s.formatCode)),l=parseInt(s.numFmtId,10);if(t.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&t.NumberFmt[l]!=null;--l);t.NumberFmt[l]=o}Rh(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+s[0]+" in numFmts")}}}var px=["numFmtId","fillId","fontId","borderId","xfId"],mx=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function mpe(e,t,r){t.CellXf=[];var n,a=!1;(e[0].match(Ii)||[]).forEach(function(i){var s=fr(i),o=0;switch(ql(s[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=s,delete n[0],o=0;o<px.length;++o)n[px[o]]&&(n[px[o]]=parseInt(n[px[o]],10));for(o=0;o<mx.length;++o)n[mx[o]]&&(n[mx[o]]=Dn(n[mx[o]]));if(t.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(t.NumberFmt[n.numFmtId]==t.NumberFmt[o]){n.numFmtId=o;break}}t.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};s.vertical&&(l.vertical=s.vertical),s.horizontal&&(l.horizontal=s.horizontal),s.textRotation!=null&&(l.textRotation=s.textRotation),s.indent&&(l.indent=s.indent),s.wrapText&&(l.wrapText=Dn(s.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":a=!0;break;case"</AlternateContent>":a=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;default:if(r&&r.WTF&&!a)throw new Error("unrecognized "+s[0]+" in cellXfs")}})}var gpe=function(){var t=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,a=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,i=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,c){var u={};if(!o)return u;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(t))&&ppe(f,u,c),(f=o.match(a))&&dpe(f,u,l,c),(f=o.match(n))&&hpe(f,u,l,c),(f=o.match(i))&&fpe(f,u,l,c),(f=o.match(r))&&mpe(f,u,c),u}}();function vpe(e,t){var r=e.read_shift(2),n=Ci(e);return[r,n]}function ype(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Nhe(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var s=e.read_shift(1);s!=0&&(n.underline=s);var o=e.read_shift(1);o>0&&(n.family=o);var l=e.read_shift(1);switch(l>0&&(n.charset=l),e.l++,n.color=khe(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ci(e),n}var xpe=Oi;function bpe(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}var wpe=Oi;function _pe(e,t,r){var n={};n.NumberFmt=[];for(var a in _r)n.NumberFmt[a]=_r[a];n.CellXf=[],n.Fonts=[];var i=[],s=!1;return Xc(e,function(l,c,u){switch(u){case 44:n.NumberFmt[l[0]]=l[1],Rh(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&t&&t.themeElements&&t.themeElements.clrScheme&&(l.color.rgb=yb(t.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:i[i.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:i.push(u),s=!0;break;case 38:i.pop(),s=!1;break;default:if(c.T>0)i.push(u);else if(c.T<0)i.pop();else if(!s||r.WTF&&i[i.length-1]!=37)throw new Error("Unexpected record 0x"+u.toString(16))}}),n}var Spe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function Ape(e,t,r){t.themeElements.clrScheme=[];var n={};(e[0].match(Ii)||[]).forEach(function(a){var i=fr(a);switch(i[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=i.val;break;case"<a:sysClr":n.rgb=i.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":i[0].charAt(1)==="/"?(t.themeElements.clrScheme[Spe.indexOf(i[0])]=n,n={}):n.name=i[0].slice(3,i[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+i[0]+" in clrScheme")}})}function Tpe(){}function Epe(){}var kpe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,Npe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,Cpe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function Ppe(e,t,r){t.themeElements={};var n;[["clrScheme",kpe,Ape],["fontScheme",Npe,Tpe],["fmtScheme",Cpe,Epe]].forEach(function(a){if(!(n=e.match(a[1])))throw new Error(a[0]+" not found in themeElements");a[2](n,t,r)})}var Ope=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function rq(e,t){(!e||e.length===0)&&(e=Ipe());var r,n={};if(!(r=e.match(Ope)))throw new Error("themeElements not found in theme");return Ppe(r[0],n,t),n.raw=e,n}function Ipe(e,t){var r=[dz];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function Dpe(e,t,r){var n=e.l+t,a=e.read_shift(4);if(a!==124226){if(!r.cellStyles){e.l=n;return}var i=e.slice(e.l);e.l=n;var s;try{s=hz(i,{type:"array"})}catch{return}var o=js(s,"theme/theme/theme1.xml",!0);if(o)return rq(o,r)}}function jpe(e){return e.read_shift(4)}function Lpe(e){var t={};switch(t.xclrType=e.read_shift(2),t.nTintShade=e.read_shift(2),t.xclrType){case 0:e.l+=4;break;case 1:t.xclrValue=Mpe(e,4);break;case 2:t.xclrValue=Uz(e);break;case 3:t.xclrValue=jpe(e);break;case 4:e.l+=4;break}return e.l+=8,t}function Mpe(e,t){return Oi(e,t)}function Rpe(e,t){return Oi(e,t)}function Fpe(e){var t=e.read_shift(2),r=e.read_shift(2)-4,n=[t];switch(t){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=Lpe(e);break;case 6:n[1]=Rpe(e,r);break;case 14:case 15:n[1]=e.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+t+" "+r)}return n}function $pe(e,t){var r=e.l+t;e.l+=2;var n=e.read_shift(2);e.l+=2;for(var a=e.read_shift(2),i=[];a-- >0;)i.push(Fpe(e,r-e.l));return{ixfe:n,ext:i}}function Bpe(e,t){t.forEach(function(r){switch(r[0]){}})}function Vpe(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:Ci(e)}}function Upe(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function zpe(e){return e.l+=4,e.read_shift(4)!=0}function qpe(e,t,r){var n={Types:[],Cell:[],Value:[]},a=r||{},i=[],s=!1,o=2;return Xc(e,function(l,c,u){switch(u){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:i.push(u),s=!0;break;case 36:i.pop(),s=!1;break;default:if(!c.T){if(!s||a.WTF&&i[i.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}}),n}function Wpe(e,t,r){var n={Types:[],Cell:[],Value:[]};if(!e)return n;var a=!1,i=2,s;return e.replace(Ii,function(o){var l=fr(o);switch(ql(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var c=0;c<n.Types.length;++c)n.Types[c].name==l.name&&(s=n.Types[c]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":i==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):i==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":i=1;break;case"</cellMetadata>":i=2;break;case"<valueMetadata":i=0;break;case"</valueMetadata>":i=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":a=!0;break;case"</ext>":a=!1;break;case"<rvb":if(!s)break;s.offsets||(s.offsets=[]),s.offsets.push(+l.i);break;default:if(!a&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function Hpe(e){var t=[];if(!e)return t;var r=1;return(e.match(Ii)||[]).forEach(function(n){var a=fr(n);switch(a[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete a[0],a.i?r=a.i:a.i=r,t.push(a);break}}),t}function Gpe(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=yr(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}function Kpe(e,t,r){var n=[];return Xc(e,function(i,s,o){switch(o){case 63:n.push(i);break;default:if(!s.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function Ype(e,t,r,n){if(!e)return e;var a=n||{},i=!1;Xc(e,function(o,l,c){switch(c){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:i=!0;break;case 36:i=!1;break;default:if(!l.T){if(!i||a.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}},a)}function Xpe(e,t){if(!e)return"??";var r=(e.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return t["!id"][r].Target}function $D(e,t,r,n){var a=Array.isArray(e),i;t.forEach(function(s){var o=qi(s.ref);if(a?(e[o.r]||(e[o.r]=[]),i=e[o.r][o.c]):i=e[s.ref],!i){i={t:"z"},a?e[o.r][o.c]=i:e[s.ref]=i;var l=Jn(e["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var c=Vr(l);c!==e["!ref"]&&(e["!ref"]=c)}i.c||(i.c=[]);var u={a:s.author,t:s.t,r:s.r,T:r};s.h&&(u.h=s.h);for(var f=i.c.length-1;f>=0;--f){if(!r&&i.c[f].T)return;r&&!i.c[f].T&&i.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(u.a==n[f].id){u.a=n[f].name||u.a;break}}i.c.push(u)})}function Qpe(e,t){if(e.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],a=e.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);a&&a[1]&&a[1].split(/<\/\w*:?author>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var i=e.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return i&&i[1]&&i[1].split(/<\/\w*:?comment>/).forEach(function(s){if(!(s===""||s.trim()==="")){var o=s.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=fr(o[0]),c={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},u=qi(l.ref);if(!(t.sheetRows&&t.sheetRows<=u.r)){var f=s.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),h=!!f&&!!f[1]&&eC(f[1])||{r:"",t:"",h:""};c.r=h.r,h.r=="<t></t>"&&(h.t=h.h=""),c.t=(h.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.cellHTML&&(c.h=h.h),n.push(c)}}}}),n}function Jpe(e,t){var r=[],n=!1,a={},i=0;return e.replace(Ii,function(o,l){var c=fr(o);switch(ql(c[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":a={author:c.personId,guid:c.id,ref:c.ref,T:1};break;case"</threadedComment>":a.t!=null&&r.push(a);break;case"<text>":case"<text":i=l+o.length;break;case"</text>":a.t=e.slice(i,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+c[0]+" in threaded comments")}return o}),r}function Zpe(e,t){var r=[],n=!1;return e.replace(Ii,function(i){var s=fr(i);switch(ql(s[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:s.displayname,id:s.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&t.WTF)throw new Error("unrecognized "+s[0]+" in threaded comments")}return i}),r}function eme(e){var t={};t.iauthor=e.read_shift(4);var r=dd(e);return t.rfx=r.s,t.ref=yr(r.s),e.l+=16,t}var tme=Ci;function rme(e,t){var r=[],n=[],a={},i=!1;return Xc(e,function(o,l,c){switch(c){case 632:n.push(o);break;case 635:a=o;break;case 637:a.t=o.t,a.h=o.h,a.r=o.r;break;case 636:if(a.author=n[a.iauthor],delete a.iauthor,t.sheetRows&&a.rfx&&t.sheetRows<=a.rfx.r)break;a.t||(a.t=""),delete a.rfx,r.push(a);break;case 3072:break;case 35:i=!0;break;case 36:i=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!i||t.WTF)throw new Error("Unexpected record 0x"+c.toString(16))}}}),r}var nme="application/vnd.ms-office.vbaProject";function ame(e){var t=$r.utils.cfb_new({root:"R"});return e.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var a=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");$r.utils.cfb_add(t,a,e.FileIndex[n].content)}}),$r.write(t)}function ime(){return{"!type":"dialog"}}function sme(){return{"!type":"dialog"}}function ome(){return{"!type":"macro"}}function lme(){return{"!type":"macro"}}var j0=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,s){var o=!1,l=!1;i.length==0?l=!0:i.charAt(0)=="["&&(l=!0,i=i.slice(1,-1)),s.length==0?o=!0:s.charAt(0)=="["&&(o=!0,s=s.slice(1,-1));var c=i.length>0?parseInt(i,10)|0:0,u=s.length>0?parseInt(s,10)|0:0;return o?u+=t.c:--u,l?c+=t.r:--c,a+(o?"":"$")+Na(u)+(l?"":"$")+si(c)}return function(a,i){return t=i,a.replace(e,r)}}(),nq=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,cme=function(){return function(t,r){return t.replace(nq,function(n,a,i,s,o,l){var c=KN(s)-(i?0:r.c),u=GN(l)-(o?0:r.r),f=u==0?"":o?u+1:"["+u+"]",h=c==0?"":i?c+1:"["+c+"]";return a+"R"+f+"C"+h})}}();function aq(e,t){return e.replace(nq,function(r,n,a,i,s,o){return n+(a=="$"?a+i:Na(KN(i)+t.c))+(s=="$"?s+o:si(GN(o)+t.r))})}function ume(e,t,r){var n=Xp(t),a=n.s,i=qi(r),s={r:i.r-a.r,c:i.c-a.c};return aq(e,s)}function fme(e){return e.length!=1}function BD(e){return e.replace(/_xlfn\./g,"")}function fa(e){e.l+=1}function kf(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function iq(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return sq(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),s=kf(e),o=kf(e);return{s:{r:a,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:o[0],cRel:o[1],rRel:o[2]}}}function sq(e){var t=kf(e),r=kf(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function hme(e,t,r){if(r.biff<8)return sq(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=kf(e),s=kf(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:s[0],cRel:s[1],rRel:s[2]}}}function oq(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return dme(e);var n=e.read_shift(r&&r.biff==12?4:2),a=kf(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function dme(e){var t=kf(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function pme(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function mme(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return gme(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),s=(i&16384)>>14,o=(i&32768)>>15;if(i&=16383,o==1)for(;a>524287;)a-=1048576;if(s==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:s,rRel:o}}function gme(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function vme(e,t,r){var n=(e[e.l++]&96)>>5,a=iq(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function yme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var s=iq(e,i,r);return[n,a,s]}function xme(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function bme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function wme(e,t,r){var n=(e[e.l++]&96)>>5,a=hme(e,t-1,r);return[n,a]}function _me(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function VD(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function Sme(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function Ame(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Tme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function Eme(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function kme(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function lq(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function Nme(e){return e.read_shift(2),lq(e)}function Cme(e){return e.read_shift(2),lq(e)}function Pme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=oq(e,0,r);return[n,a]}function Ome(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=mme(e,0,r);return[n,a]}function Ime(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=oq(e,0,r);return[n,a,i]}function Dme(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[jge[a],fq[a],n]}function jme(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:Lme(e);return[a,(i[0]===0?fq:Dge)[i[1]]]}function Lme(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function Mme(e,t,r){e.l+=r&&r.biff==2?3:4}function Rme(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Fme(e){return e.l++,pd[e.read_shift(1)]}function $me(e){return e.l++,e.read_shift(2)}function Bme(e){return e.l++,e.read_shift(1)!==0}function Vme(e){return e.l++,Ei(e)}function Ume(e,t,r){return e.l++,Y1(e,t-1,r)}function zme(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=ra(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=pd[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Ei(e);break;case 2:r[1]=md(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function qme(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?dd:g5)(e));return a}function Wme(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,s=[];i!=n&&(s[i]=[]);++i)for(var o=0;o!=a;++o)s[i][o]=zme(e,r.biff);return s}function Hme(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function Gme(e,t,r){if(r.biff==5)return Kme(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function Kme(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function Yme(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Xme(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function Qme(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function Jme(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var Zme=Oi,ege=Oi,tge=Oi;function Q1(e,t,r){return e.l+=2,[pme(e)]}function rC(e){return e.l+=6,[]}var rge=Q1,nge=rC,age=rC,ige=Q1;function cq(e){return e.l+=2,[pa(e),e.read_shift(2)&1]}var sge=Q1,oge=cq,lge=rC,cge=Q1,uge=Q1,fge=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function hge(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),s=fge[r>>2&31];return{ixti:t,coltype:r&3,rt:s,idx:n,c:a,C:i}}function dge(e){return e.l+=2,[e.read_shift(4)]}function pge(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function mge(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function gge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function vge(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function yge(e){return e.l+=4,[0,0]}var UD={1:{n:"PtgExp",f:Rme},2:{n:"PtgTbl",f:tge},3:{n:"PtgAdd",f:fa},4:{n:"PtgSub",f:fa},5:{n:"PtgMul",f:fa},6:{n:"PtgDiv",f:fa},7:{n:"PtgPower",f:fa},8:{n:"PtgConcat",f:fa},9:{n:"PtgLt",f:fa},10:{n:"PtgLe",f:fa},11:{n:"PtgEq",f:fa},12:{n:"PtgGe",f:fa},13:{n:"PtgGt",f:fa},14:{n:"PtgNe",f:fa},15:{n:"PtgIsect",f:fa},16:{n:"PtgUnion",f:fa},17:{n:"PtgRange",f:fa},18:{n:"PtgUplus",f:fa},19:{n:"PtgUminus",f:fa},20:{n:"PtgPercent",f:fa},21:{n:"PtgParen",f:fa},22:{n:"PtgMissArg",f:fa},23:{n:"PtgStr",f:Ume},26:{n:"PtgSheet",f:pge},27:{n:"PtgEndSheet",f:mge},28:{n:"PtgErr",f:Fme},29:{n:"PtgBool",f:Bme},30:{n:"PtgInt",f:$me},31:{n:"PtgNum",f:Vme},32:{n:"PtgArray",f:_me},33:{n:"PtgFunc",f:Dme},34:{n:"PtgFuncVar",f:jme},35:{n:"PtgName",f:Hme},36:{n:"PtgRef",f:Pme},37:{n:"PtgArea",f:vme},38:{n:"PtgMemArea",f:Yme},39:{n:"PtgMemErr",f:Zme},40:{n:"PtgMemNoMem",f:ege},41:{n:"PtgMemFunc",f:Xme},42:{n:"PtgRefErr",f:Qme},43:{n:"PtgAreaErr",f:xme},44:{n:"PtgRefN",f:Ome},45:{n:"PtgAreaN",f:wme},46:{n:"PtgMemAreaN",f:gge},47:{n:"PtgMemNoMemN",f:vge},57:{n:"PtgNameX",f:Gme},58:{n:"PtgRef3d",f:Ime},59:{n:"PtgArea3d",f:yme},60:{n:"PtgRefErr3d",f:Jme},61:{n:"PtgAreaErr3d",f:bme},255:{}},xge={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},bge={1:{n:"PtgElfLel",f:cq},2:{n:"PtgElfRw",f:cge},3:{n:"PtgElfCol",f:rge},6:{n:"PtgElfRwV",f:uge},7:{n:"PtgElfColV",f:ige},10:{n:"PtgElfRadical",f:sge},11:{n:"PtgElfRadicalS",f:lge},13:{n:"PtgElfColS",f:nge},15:{n:"PtgElfColSV",f:age},16:{n:"PtgElfRadicalLel",f:oge},25:{n:"PtgList",f:hge},29:{n:"PtgSxName",f:dge},255:{}},wge={0:{n:"PtgAttrNoop",f:yge},1:{n:"PtgAttrSemi",f:kme},2:{n:"PtgAttrIf",f:Tme},4:{n:"PtgAttrChoose",f:Sme},8:{n:"PtgAttrGoto",f:Ame},16:{n:"PtgAttrSum",f:Mme},32:{n:"PtgAttrBaxcel",f:VD},33:{n:"PtgAttrBaxcel",f:VD},64:{n:"PtgAttrSpace",f:Nme},65:{n:"PtgAttrSpaceSemi",f:Cme},128:{n:"PtgAttrIfError",f:Eme},255:{}};function J1(e,t,r,n){if(n.biff<8)return Oi(e,t);for(var a=e.l+t,i=[],s=0;s!==r.length;++s)switch(r[s][0]){case"PtgArray":r[s][1]=Wme(e,0,n),i.push(r[s][1]);break;case"PtgMemArea":r[s][2]=qme(e,r[s][1],n),i.push(r[s][2]);break;case"PtgExp":n&&n.biff==12&&(r[s][1][1]=e.read_shift(4),i.push(r[s][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[s][0]}return t=a-e.l,t!==0&&i.push(Oi(e,t)),i}function Z1(e,t,r){for(var n=e.l+t,a,i,s=[];n!=e.l;)t=n-e.l,i=e[e.l],a=UD[i]||UD[xge[i]],(i===24||i===25)&&(a=(i===24?bge:wge)[e[e.l+1]]),!a||!a.f?Oi(e,t):s.push([a.n,a.f(e,t,r)]);return s}function _ge(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var s=n[i];if(s)switch(s[0]){case 2:a.push('"'+s[1].replace(/"/g,'""')+'"');break;default:a.push(s[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var Sge={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Age(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function uq(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function zD(e,t,r){var n=uq(e,t,r);return n=="#REF"?n:Age(n,r)}function wi(e,t,r,n,a){var i=a&&a.biff||8,s={s:{c:0,r:0},e:{c:0,r:0}},o=[],l,c,u,f=0,h=0,d,g="";if(!e[0]||!e[0][0])return"";for(var m=-1,v="",y=0,b=e[0].length;y<b;++y){var w=e[0][y];switch(w[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),c=o.pop(),m>=0){switch(e[0][m][1][0]){case 0:v=Xn(" ",e[0][m][1][1]);break;case 1:v=Xn("\r",e[0][m][1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}c=c+v,m=-1}o.push(c+Sge[w[0]]+l);break;case"PtgIsect":l=o.pop(),c=o.pop(),o.push(c+" "+l);break;case"PtgUnion":l=o.pop(),c=o.pop(),o.push(c+","+l);break;case"PtgRange":l=o.pop(),c=o.pop(),o.push(c+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":u=jg(w[1][1],s,a),o.push(Lg(u,i));break;case"PtgRefN":u=r?jg(w[1][1],r,a):w[1][1],o.push(Lg(u,i));break;case"PtgRef3d":f=w[1][1],u=jg(w[1][2],s,a),g=zD(n,f,a),o.push(g+"!"+Lg(u,i));break;case"PtgFunc":case"PtgFuncVar":var O=w[1][0],P=w[1][1];O||(O=0),O&=127;var I=O==0?[]:o.slice(-O);o.length-=O,P==="User"&&(P=I.shift()),o.push(P+"("+I.join(",")+")");break;case"PtgBool":o.push(w[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(w[1]);break;case"PtgNum":o.push(String(w[1]));break;case"PtgStr":o.push('"'+w[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(w[1]);break;case"PtgAreaN":d=SD(w[1][1],r?{s:r}:s,a),o.push(PS(d,a));break;case"PtgArea":d=SD(w[1][1],s,a),o.push(PS(d,a));break;case"PtgArea3d":f=w[1][1],d=w[1][2],g=zD(n,f,a),o.push(g+"!"+PS(d,a));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":h=w[1][2];var E=(n.names||[])[h-1]||(n[0]||[])[h],S=E?E.Name:"SH33TJSNAME"+String(h);S&&S.slice(0,6)=="_xlfn."&&!a.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var A=w[1][1];h=w[1][2];var D;if(a.biff<=5)A<0&&(A=-A),n[A]&&(D=n[A][h]);else{var T="";if(((n[A]||[])[0]||[])[0]==14849||(((n[A]||[])[0]||[])[0]==1025?n[A][h]&&n[A][h].itab>0&&(T=n.SheetNames[n[A][h].itab-1]+"!"):T=n.SheetNames[h-1]+"!"),n[A]&&n[A][h])T+=n[A][h].Name;else if(n[0]&&n[0][h])T+=n[0][h].Name;else{var k=(uq(n,A,a)||"").split(";;");k[h-1]?T=k[h-1]:T+="SH33TJSERRX"}o.push(T);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var j="(",V=")";if(m>=0){switch(v="",e[0][m][1][0]){case 2:j=Xn(" ",e[0][m][1][1])+j;break;case 3:j=Xn("\r",e[0][m][1][1])+j;break;case 4:V=Xn(" ",e[0][m][1][1])+V;break;case 5:V=Xn("\r",e[0][m][1][1])+V;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}o.push(j+o.pop()+V);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":u={c:w[1][1],r:w[1][0]};var Q={c:r.c,r:r.r};if(n.sharedf[yr(u)]){var Y=n.sharedf[yr(u)];o.push(wi(Y,s,Q,n,a))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(c=n.arrayf[l],!(u.c<c[0].s.c||u.c>c[0].e.c)&&!(u.r<c[0].s.r||u.r>c[0].e.r)){o.push(wi(c[1],s,Q,n,a)),J=!0;break}J||o.push(w[1])}break;case"PtgArray":o.push("{"+_ge(w[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=y;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+w[1].idx+"[#"+w[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(w));default:throw new Error("Unrecognized Formula Token: "+String(w))}var H=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&m>=0&&H.indexOf(e[0][y][0])==-1){w=e[0][m];var U=!0;switch(w[1][0]){case 4:U=!1;case 0:v=Xn(" ",w[1][1]);break;case 5:U=!1;case 1:v=Xn("\r",w[1][1]);break;default:if(v="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+w[1][0])}o.push((U?v:"")+o.pop()+(U?"":v)),m=-1}}if(o.length>1&&a.WTF)throw new Error("bad formula stack");return o[0]}function Tge(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Oi(e,t-2)];var o=Z1(e,s,r);return t!==s+a&&(i=J1(e,t-s-a,o,r)),e.l=n,[o,i]}function Ege(e,t,r){var n=e.l+t,a=r.biff==2?1:2,i,s=e.read_shift(a);if(s==65535)return[[],Oi(e,t-2)];var o=Z1(e,s,r);return t!==s+a&&(i=J1(e,t-s-a,o,r)),e.l=n,[o,i]}function kge(e,t,r,n){var a=e.l+t,i=Z1(e,n,r),s;return a!==e.l&&(s=J1(e,a-e.l,i,r)),[i,s]}function Nge(e,t,r){var n=e.l+t,a,i=e.read_shift(2),s=Z1(e,i,r);return i==65535?[[],Oi(e,t-2)]:(t!==i+2&&(a=J1(e,n-i-2,s,r)),[s,a])}function Cge(e){var t;if(pc(e,e.l+6)!==65535)return[Ei(e),"n"];switch(e[e.l]){case 0:return e.l+=8,["String","s"];case 1:return t=e[e.l+2]===1,e.l+=8,[t,"b"];case 2:return t=e[e.l+2],e.l+=8,[t,"e"];case 3:return e.l+=8,["","s"]}return[]}function DS(e,t,r){var n=e.l+t,a=Wl(e);r.biff==2&&++e.l;var i=Cge(e),s=e.read_shift(1);r.biff!=2&&(e.read_shift(1),r.biff>=5&&e.read_shift(4));var o=Ege(e,n-e.l,r);return{cell:a,val:i[0],formula:o,shared:s>>3&1,tt:i[1]}}function v5(e,t,r){var n=e.read_shift(4),a=Z1(e,n,r),i=e.read_shift(4),s=i>0?J1(e,i,a,r):null;return[a,s]}var Pge=v5,y5=v5,Oge=v5,Ige=v5,Dge={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},fq={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},jge={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function qD(e){return e.slice(0,3)=="of:"&&(e=e.slice(3)),e.charCodeAt(0)==61&&(e=e.slice(1),e.charCodeAt(0)==61&&(e=e.slice(1))),e=e.replace(/COM\.MICROSOFT\./g,""),e=e.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(t,r){return r.replace(/\./g,"")}),e=e.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),e.replace(/[;~]/g,",").replace(/\|/g,";")}function jS(e){var t=e.split(":"),r=t[0].split(".")[0];return[r,t[0].split(".")[1]+(t.length>1?":"+(t[1].split(".")[1]||t[1].split(".")[0]):"")]}var $g={},L0={};function Bg(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];t=="xlml"&&(r=[1,1,1,1,.5,.5]),e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function hq(e,t,r,n,a,i){try{n.cellNF&&(e.z=_r[t])}catch(o){if(n.WTF)throw o}if(!(e.t==="z"&&!n.cellStyles)){if(e.t==="d"&&typeof e.v=="string"&&(e.v=Ua(e.v)),(!n||n.cellText!==!1)&&e.t!=="z")try{if(_r[t]==null&&Rh(Lfe[t]||"General",t),e.t==="e")e.w=e.w||pd[e.v];else if(t===0)if(e.t==="n")(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mv(e.v);else if(e.t==="d"){var s=Qi(e.v);(s|0)===s?e.w=s.toString(10):e.w=Mv(s)}else{if(e.v===void 0)return"";e.w=Qh(e.v,L0)}else e.t==="d"?e.w=wo(t,Qi(e.v),L0):e.w=wo(t,e.v,L0)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{e.s=i.Fills[r],e.s.fgColor&&e.s.fgColor.theme&&!e.s.fgColor.rgb&&(e.s.fgColor.rgb=yb(a.themeElements.clrScheme[e.s.fgColor.theme].rgb,e.s.fgColor.tint||0),n.WTF&&(e.s.fgColor.raw_rgb=a.themeElements.clrScheme[e.s.fgColor.theme].rgb)),e.s.bgColor&&e.s.bgColor.theme&&(e.s.bgColor.rgb=yb(a.themeElements.clrScheme[e.s.bgColor.theme].rgb,e.s.bgColor.tint||0),n.WTF&&(e.s.bgColor.raw_rgb=a.themeElements.clrScheme[e.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&i.Fills)throw o}}}function Lge(e,t){var r=Jn(t);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(e["!ref"]=Vr(r))}var Mge=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,Rge=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,Fge=/<(?:\w:)?hyperlink [^>]*>/mg,$ge=/"(\w*:\w*)"/,Bge=/<(?:\w:)?col\b[^>]*[\/]?>/g,Vge=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,Uge=/<(?:\w:)?pageMargins[^>]*\/>/g,dq=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,zge=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,qge=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function Wge(e,t,r,n,a,i,s){if(!e)return e;n||(n={"!id":{}});var o=t.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},c="",u="",f=e.match(Rge);f?(c=e.slice(0,f.index),u=e.slice(f.index+f[0].length)):c=u=e;var h=c.match(dq);h?nC(h[0],o,a,r):(h=c.match(zge))&&Hge(h[0],h[1]||"",o,a,r);var d=(c.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(d>0){var g=c.slice(d,d+50).match($ge);g&&Lge(o,g[1])}var m=c.match(qge);m&&m[1]&&Jge(m[1],a);var v=[];if(t.cellStyles){var y=c.match(Bge);y&&Yge(v,y)}f&&Zge(f[1],o,t,l,i,s);var b=u.match(Vge);b&&(o["!autofilter"]=Xge(b[0]));var w=[],O=u.match(Mge);if(O)for(d=0;d!=O.length;++d)w[d]=Jn(O[d].slice(O[d].indexOf('"')+1));var P=u.match(Fge);P&&Gge(o,P,n);var I=u.match(Uge);if(I&&(o["!margins"]=Kge(fr(I[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=Vr(l)),t.sheetRows>0&&o["!ref"]){var E=Jn(o["!ref"]);t.sheetRows<=+E.e.r&&(E.e.r=t.sheetRows-1,E.e.r>l.e.r&&(E.e.r=l.e.r),E.e.r<E.s.r&&(E.s.r=E.e.r),E.e.c>l.e.c&&(E.e.c=l.e.c),E.e.c<E.s.c&&(E.s.c=E.e.c),o["!fullref"]=o["!ref"],o["!ref"]=Vr(E))}return v.length>0&&(o["!cols"]=v),w.length>0&&(o["!merges"]=w),o}function nC(e,t,r,n){var a=fr(e);r.Sheets[n]||(r.Sheets[n]={}),a.codeName&&(r.Sheets[n].CodeName=Wr(An(a.codeName)))}function Hge(e,t,r,n,a){nC(e.slice(0,e.indexOf(">")),r,n,a)}function Gge(e,t,r){for(var n=Array.isArray(e),a=0;a!=t.length;++a){var i=fr(An(t[a]),!0);if(!i.ref)return;var s=((r||{})["!id"]||[])[i.id];s?(i.Target=s.Target,i.location&&(i.Target+="#"+Wr(i.location))):(i.Target="#"+Wr(i.location),s={Target:i.Target,TargetMode:"Internal"}),i.Rel=s,i.tooltip&&(i.Tooltip=i.tooltip,delete i.tooltip);for(var o=Jn(i.ref),l=o.s.r;l<=o.e.r;++l)for(var c=o.s.c;c<=o.e.c;++c){var u=yr({c,r:l});n?(e[l]||(e[l]=[]),e[l][c]||(e[l][c]={t:"z",v:void 0}),e[l][c].l=i):(e[u]||(e[u]={t:"z",v:void 0}),e[u].l=i)}}}function Kge(e){var t={};return["left","right","top","bottom","header","footer"].forEach(function(r){e[r]&&(t[r]=parseFloat(e[r]))}),t}function Yge(e,t){for(var r=!1,n=0;n!=t.length;++n){var a=fr(t[n],!0);a.hidden&&(a.hidden=Dn(a.hidden));var i=parseInt(a.min,10)-1,s=parseInt(a.max,10)-1;for(a.outlineLevel&&(a.level=+a.outlineLevel||0),delete a.min,delete a.max,a.width=+a.width,!r&&a.width&&(r=!0,tC(a.width)),fp(a);i<=s;)e[i++]=ii(a)}}function Xge(e){var t={ref:(e.match(/ref="([^"]*)"/)||[])[1]};return t}var Qge=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function Jge(e,t){t.Views||(t.Views=[{}]),(e.match(Qge)||[]).forEach(function(r,n){var a=fr(r);t.Views[n]||(t.Views[n]={}),+a.zoomScale&&(t.Views[n].zoom=+a.zoomScale),Dn(a.rightToLeft)&&(t.Views[n].RTL=!0)})}var Zge=function(){var e=/<(?:\w+:)?c[ \/>]/,t=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,a=/ref=["']([^"']*)["']/,i=Rv("v"),s=Rv("f");return function(l,c,u,f,h,d){for(var g=0,m="",v=[],y=[],b=0,w=0,O=0,P="",I,E,S=0,A=0,D,T,k=0,j=0,V=Array.isArray(d.CellXf),Q,Y=[],J=[],H=Array.isArray(c),U=[],re={},z=!1,C=!!u.sheetStubs,F=l.split(t),q=0,K=F.length;q!=K;++q){m=F[q].trim();var Z=m.length;if(Z!==0){var oe=0;e:for(g=0;g<Z;++g)switch(m[g]){case">":if(m[g-1]!="/"){++g;break e}if(u&&u.cellStyles){if(E=fr(m.slice(oe,g),!0),S=E.r!=null?parseInt(E.r,10):S+1,A=-1,u.sheetRows&&u.sheetRows<S)continue;re={},z=!1,E.ht&&(z=!0,re.hpt=parseFloat(E.ht),re.hpx=Vv(re.hpt)),E.hidden=="1"&&(z=!0,re.hidden=!0),E.outlineLevel!=null&&(z=!0,re.level=+E.outlineLevel),z&&(U[S-1]=re)}break;case"<":oe=g;break}if(oe>=g)break;if(E=fr(m.slice(oe,g),!0),S=E.r!=null?parseInt(E.r,10):S+1,A=-1,!(u.sheetRows&&u.sheetRows<S)){f.s.r>S-1&&(f.s.r=S-1),f.e.r<S-1&&(f.e.r=S-1),u&&u.cellStyles&&(re={},z=!1,E.ht&&(z=!0,re.hpt=parseFloat(E.ht),re.hpx=Vv(re.hpt)),E.hidden=="1"&&(z=!0,re.hidden=!0),E.outlineLevel!=null&&(z=!0,re.level=+E.outlineLevel),z&&(U[S-1]=re)),v=m.slice(g).split(e);for(var fe=0;fe!=v.length&&v[fe].trim().charAt(0)=="<";++fe);for(v=v.slice(fe),g=0;g!=v.length;++g)if(m=v[g].trim(),m.length!==0){if(y=m.match(r),b=g,w=0,O=0,m="<c "+(m.slice(0,1)=="<"?">":"")+m,y!=null&&y.length===2){for(b=0,P=y[1],w=0;w!=P.length&&!((O=P.charCodeAt(w)-64)<1||O>26);++w)b=26*b+O;--b,A=b}else++A;for(w=0;w!=m.length&&m.charCodeAt(w)!==62;++w);if(++w,E=fr(m.slice(0,w),!0),E.r||(E.r=yr({r:S-1,c:A})),P=m.slice(w),I={t:""},(y=P.match(i))!=null&&y[1]!==""&&(I.v=Wr(y[1])),u.cellFormula){if((y=P.match(s))!=null&&y[1]!==""){if(I.f=Wr(An(y[1])).replace(/\r\n/g,`
`),u.xlfn||(I.f=BD(I.f)),y[0].indexOf('t="array"')>-1)I.F=(P.match(a)||[])[1],I.F.indexOf(":")>-1&&Y.push([Jn(I.F),I.F]);else if(y[0].indexOf('t="shared"')>-1){T=fr(y[0]);var ie=Wr(An(y[1]));u.xlfn||(ie=BD(ie)),J[parseInt(T.si,10)]=[T,ie,E.r]}}else(y=P.match(/<f[^>]*\/>/))&&(T=fr(y[0]),J[T.si]&&(I.f=ume(J[T.si][1],J[T.si][2],E.r)));var de=qi(E.r);for(w=0;w<Y.length;++w)de.r>=Y[w][0].s.r&&de.r<=Y[w][0].e.r&&de.c>=Y[w][0].s.c&&de.c<=Y[w][0].e.c&&(I.F=Y[w][1])}if(E.t==null&&I.v===void 0)if(I.f||I.F)I.v=0,I.t="n";else if(C)I.t="z";else continue;else I.t=E.t||"n";switch(f.s.c>A&&(f.s.c=A),f.e.c<A&&(f.e.c=A),I.t){case"n":if(I.v==""||I.v==null){if(!C)continue;I.t="z"}else I.v=parseFloat(I.v);break;case"s":if(typeof I.v>"u"){if(!C)continue;I.t="z"}else D=$g[parseInt(I.v,10)],I.v=D.t,I.r=D.r,u.cellHTML&&(I.h=D.h);break;case"str":I.t="s",I.v=I.v!=null?An(I.v):"",u.cellHTML&&(I.h=qN(I.v));break;case"inlineStr":y=P.match(n),I.t="s",y!=null&&(D=eC(y[1]))?(I.v=D.t,u.cellHTML&&(I.h=D.h)):I.v="";break;case"b":I.v=Dn(I.v);break;case"d":u.cellDates?I.v=Ua(I.v,1):(I.v=Qi(Ua(I.v,1)),I.t="n");break;case"e":(!u||u.cellText!==!1)&&(I.w=I.v),I.v=jz[I.v];break}if(k=j=0,Q=null,V&&E.s!==void 0&&(Q=d.CellXf[E.s],Q!=null&&(Q.numFmtId!=null&&(k=Q.numFmtId),u.cellStyles&&Q.fillId!=null&&(j=Q.fillId))),hq(I,k,j,u,h,d),u.cellDates&&V&&I.t=="n"&&Yp(_r[k])&&(I.t="d",I.v=m5(I.v)),E.cm&&u.xlmeta){var _e=(u.xlmeta.Cell||[])[+E.cm-1];_e&&_e.type=="XLDAPR"&&(I.D=!0)}if(H){var B=qi(E.r);c[B.r]||(c[B.r]=[]),c[B.r][B.c]=I}else c[E.r]=I}}}}U.length>0&&(c["!rows"]=U)}}();function eve(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}var tve=dd;function rve(){}function nve(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=The(e),r}function ave(e){var t=So(e);return[t]}function ive(e){var t=hd(e);return[t]}function sve(e){var t=So(e),r=e.read_shift(1);return[t,r,"b"]}function ove(e){var t=hd(e),r=e.read_shift(1);return[t,r,"b"]}function lve(e){var t=So(e),r=e.read_shift(1);return[t,r,"e"]}function cve(e){var t=hd(e),r=e.read_shift(1);return[t,r,"e"]}function uve(e){var t=So(e),r=e.read_shift(4);return[t,r,"s"]}function fve(e){var t=hd(e),r=e.read_shift(4);return[t,r,"s"]}function hve(e){var t=So(e),r=Ei(e);return[t,r,"n"]}function pq(e){var t=hd(e),r=Ei(e);return[t,r,"n"]}function dve(e){var t=So(e),r=QN(e);return[t,r,"n"]}function pve(e){var t=hd(e),r=QN(e);return[t,r,"n"]}function mve(e){var t=So(e),r=YN(e);return[t,r,"is"]}function gve(e){var t=So(e),r=Ci(e);return[t,r,"str"]}function vve(e){var t=hd(e),r=Ci(e);return[t,r,"str"]}function yve(e,t,r){var n=e.l+t,a=So(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"b"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function xve(e,t,r){var n=e.l+t,a=So(e);a.r=r["!row"];var i=e.read_shift(1),s=[a,i,"e"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function bve(e,t,r){var n=e.l+t,a=So(e);a.r=r["!row"];var i=Ei(e),s=[a,i,"n"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}function wve(e,t,r){var n=e.l+t,a=So(e);a.r=r["!row"];var i=Ci(e),s=[a,i,"str"];if(r.cellFormula){e.l+=2;var o=y5(e,n-e.l,r);s[3]=wi(o,null,a,r.supbooks,r)}else e.l=n;return s}var _ve=dd;function Sve(e,t){var r=e.l+t,n=dd(e),a=XN(e),i=Ci(e),s=Ci(e),o=Ci(e);e.l=r;var l={rfx:n,relId:a,loc:i,display:o};return s&&(l.Tooltip=s),l}function Ave(){}function Tve(e,t,r){var n=e.l+t,a=Oz(e),i=e.read_shift(1),s=[a];if(s[2]=i,r.cellFormula){var o=Pge(e,n-e.l,r);s[1]=o}else e.l=n;return s}function Eve(e,t,r){var n=e.l+t,a=dd(e),i=[a];if(r.cellFormula){var s=Ige(e,n-e.l,r);i[1]=s,e.l=n}else e.l=n;return i}var kve=["left","right","top","bottom","header","footer"];function Nve(e){var t={};return kve.forEach(function(r){t[r]=Ei(e)}),t}function Cve(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function Pve(){}function Ove(){}function Ive(e,t,r,n,a,i,s){if(!e)return e;var o=t||{};n||(n={"!id":{}});var l=o.dense?[]:{},c,u={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,h=!1,d,g,m,v,y,b,w,O,P,I=[];o.biff=12,o["!row"]=0;var E=0,S=!1,A=[],D={},T=o.supbooks||a.supbooks||[[]];if(T.sharedf=D,T.arrayf=A,T.SheetNames=a.SheetNames||a.Sheets.map(function(H){return H.name}),!o.supbooks&&(o.supbooks=T,a.Names))for(var k=0;k<a.Names.length;++k)T[0][k+1]=a.Names[k];var j=[],V=[],Q=!1;wb[16]={n:"BrtShortReal",f:pq};var Y;if(Xc(e,function(U,re,z){if(!h)switch(z){case 148:c=U;break;case 0:d=U,o.sheetRows&&o.sheetRows<=d.r&&(h=!0),O=si(v=d.r),o["!row"]=d.r,(U.hidden||U.hpt||U.level!=null)&&(U.hpt&&(U.hpx=Vv(U.hpt)),V[U.r]=U);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(g={t:U[2]},U[2]){case"n":g.v=U[1];break;case"s":w=$g[U[1]],g.v=w.t,g.r=w.r;break;case"b":g.v=!!U[1];break;case"e":g.v=U[1],o.cellText!==!1&&(g.w=pd[g.v]);break;case"str":g.t="s",g.v=U[1];break;case"is":g.t="s",g.v=U[1].t;break}if((m=s.CellXf[U[0].iStyleRef])&&hq(g,m.numFmtId,null,o,i,s),y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Na(y)+O]=g,o.cellFormula){for(S=!1,E=0;E<A.length;++E){var C=A[E];d.r>=C[0].s.r&&d.r<=C[0].e.r&&y>=C[0].s.c&&y<=C[0].e.c&&(g.F=Vr(C[0]),S=!0)}!S&&U.length>3&&(g.f=U[3])}if(u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),o.cellDates&&m&&g.t=="n"&&Yp(_r[m.numFmtId])){var F=kh(g.v);F&&(g.t="d",g.v=new Date(F.y,F.m-1,F.d,F.H,F.M,F.S,F.u))}Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;g={t:"z",v:void 0},y=U[0].c==-1?y+1:U[0].c,o.dense?(l[v]||(l[v]=[]),l[v][y]=g):l[Na(y)+O]=g,u.s.r>d.r&&(u.s.r=d.r),u.s.c>y&&(u.s.c=y),u.e.r<d.r&&(u.e.r=d.r),u.e.c<y&&(u.e.c=y),Y&&(Y.type=="XLDAPR"&&(g.D=!0),Y=void 0);break;case 176:I.push(U);break;case 49:Y=((o.xlmeta||{}).Cell||[])[U-1];break;case 494:var q=n["!id"][U.relId];for(q?(U.Target=q.Target,U.loc&&(U.Target+="#"+U.loc),U.Rel=q):U.relId==""&&(U.Target="#"+U.loc),v=U.rfx.s.r;v<=U.rfx.e.r;++v)for(y=U.rfx.s.c;y<=U.rfx.e.c;++y)o.dense?(l[v]||(l[v]=[]),l[v][y]||(l[v][y]={t:"z",v:void 0}),l[v][y].l=U):(b=yr({c:y,r:v}),l[b]||(l[b]={t:"z",v:void 0}),l[b].l=U);break;case 426:if(!o.cellFormula)break;A.push(U),P=o.dense?l[v][y]:l[Na(y)+O],P.f=wi(U[1],u,{r:d.r,c:y},T,o),P.F=Vr(U[0]);break;case 427:if(!o.cellFormula)break;D[yr(U[0].s)]=U[1],P=o.dense?l[v][y]:l[Na(y)+O],P.f=wi(U[1],u,{r:d.r,c:y},T,o);break;case 60:if(!o.cellStyles)break;for(;U.e>=U.s;)j[U.e--]={width:U.w/256,hidden:!!(U.flags&1),level:U.level},Q||(Q=!0,tC(U.w/256)),fp(j[U.e+1]);break;case 161:l["!autofilter"]={ref:Vr(U)};break;case 476:l["!margins"]=U;break;case 147:a.Sheets[r]||(a.Sheets[r]={}),U.name&&(a.Sheets[r].CodeName=U.name),(U.above||U.left)&&(l["!outline"]={above:U.above,left:U.left});break;case 137:a.Views||(a.Views=[{}]),a.Views[0]||(a.Views[0]={}),U.RTL&&(a.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!re.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+z.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(u.s.r<2e6||c&&(c.e.r>0||c.e.c>0||c.s.r>0||c.s.c>0))&&(l["!ref"]=Vr(c||u)),o.sheetRows&&l["!ref"]){var J=Jn(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>u.e.r&&(J.e.r=u.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>u.e.c&&(J.e.c=u.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=Vr(J))}return I.length>0&&(l["!merges"]=I),j.length>0&&(l["!cols"]=j),V.length>0&&(l["!rows"]=V),l}function Dve(e){var t=[],r=e.match(/^<c:numCache>/),n;(e.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(i){var s=i.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);s&&(t[+s[1]]=r?+s[2]:s[2])});var a=Wr((e.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(e.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(i){n=i.replace(/<.*?>/g,"")}),[t,a,n]}function jve(e,t,r,n,a,i){var s=i||{"!type":"chart"};if(!e)return i;var o=0,l=0,c="A",u={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(e.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var h=Dve(f);u.s.r=u.s.c=0,u.e.c=o,c=Na(o),h[0].forEach(function(d,g){s[c+si(g)]={t:"n",v:d,z:h[1]},l=g}),u.e.r<l&&(u.e.r=l),++o}),o>0&&(s["!ref"]=Vr(u)),s}function Lve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s,o=e.match(dq);return o&&nC(o[0],i,a,r),(s=e.match(/drawing r:id="(.*?)"/))&&(i["!rel"]=s[1]),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}function Mve(e,t){e.l+=10;var r=Ci(e);return{name:r}}function Rve(e,t,r,n,a){if(!e)return e;n||(n={"!id":{}});var i={"!type":"chart","!drawel":null,"!rel":""},s=!1;return Xc(e,function(l,c,u){switch(u){case 550:i["!rel"]=l;break;case 651:a.Sheets[r]||(a.Sheets[r]={}),l.name&&(a.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!(c.T>0)){if(!(c.T<0)){if(!s||t.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}},t),n["!id"][i["!rel"]]&&(i["!drawel"]=n["!id"][i["!rel"]]),i}var mq=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],Fve=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],$ve=[],Bve=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function WD(e,t){for(var r=0;r!=e.length;++r)for(var n=e[r],a=0;a!=t.length;++a){var i=t[a];if(n[i[0]]==null)n[i[0]]=i[1];else switch(i[2]){case"bool":typeof n[i[0]]=="string"&&(n[i[0]]=Dn(n[i[0]]));break;case"int":typeof n[i[0]]=="string"&&(n[i[0]]=parseInt(n[i[0]],10));break}}}function HD(e,t){for(var r=0;r!=t.length;++r){var n=t[r];if(e[n[0]]==null)e[n[0]]=n[1];else switch(n[2]){case"bool":typeof e[n[0]]=="string"&&(e[n[0]]=Dn(e[n[0]]));break;case"int":typeof e[n[0]]=="string"&&(e[n[0]]=parseInt(e[n[0]],10));break}}}function gq(e){HD(e.WBProps,mq),HD(e.CalcPr,Bve),WD(e.WBView,Fve),WD(e.Sheets,$ve),L0.date1904=Dn(e.WBProps.date1904)}var Vve="][*?/\\".split("");function Uve(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return Vve.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}var zve=/<\w+:workbook/;function qve(e,t){if(!e)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,a="xmlns",i={},s=0;if(e.replace(Ii,function(l,c){var u=fr(l);switch(ql(u[0])){case"<?xml":break;case"<workbook":l.match(zve)&&(a="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=u[a];break;case"</workbook>":break;case"<fileVersion":delete u[0],r.AppVersion=u;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":mq.forEach(function(f){if(u[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=Dn(u[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(u[f[0]],10);break;default:r.WBProps[f[0]]=u[f[0]]}}),u.codeName&&(r.WBProps.CodeName=An(u.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete u[0],r.WBView.push(u);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(u.state){case"hidden":u.Hidden=1;break;case"veryHidden":u.Hidden=2;break;default:u.Hidden=0}delete u.state,u.name=Wr(An(u.name)),delete u[0],r.Sheets.push(u);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":i={},i.Name=An(u.name),u.comment&&(i.Comment=u.comment),u.localSheetId&&(i.Sheet=+u.localSheetId),Dn(u.hidden||"0")&&(i.Hidden=!0),s=c+l.length;break;case"</definedName>":i.Ref=Wr(An(e.slice(s,c))),r.Names.push(i);break;case"<definedName/>":break;case"<calcPr":delete u[0],r.CalcPr=u;break;case"<calcPr/>":delete u[0],r.CalcPr=u;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&t.WTF)throw new Error("unrecognized "+u[0]+" in workbook")}return l}),lhe.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return gq(r),r}function Wve(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=bT(e),r.name=Ci(e),r}function Hve(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?Ci(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function Gve(e,t){var r={};return e.read_shift(4),r.ArchID=e.read_shift(4),e.l+=t-8,r}function Kve(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=Ehe(e),s=Oge(e,0,r),o=XN(e);e.l=n;var l={Name:i,Ptg:s};return a<268435455&&(l.Sheet=a),o&&(l.Comment=o),l}function Yve(e,t){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],a=!1;t||(t={}),t.biff=12;var i=[],s=[[]];return s.SheetNames=[],s.XTI=[],wb[16]={n:"BrtFRTArchID$",f:Gve},Xc(e,function(l,c,u){switch(u){case 156:s.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(t.SID=l.Sheet),l.Ref=wi(l.Ptg,null,null,s,t),delete t.SID,delete l.Ptg,i.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:s[0].length?s.push([u,l]):s[0]=[u,l],s[s.length-1].XTI=[];break;case 362:s.length===0&&(s[0]=[],s[0].XTI=[]),s[s.length-1].XTI=s[s.length-1].XTI.concat(l),s.XTI=s.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(u),a=!0;break;case 36:n.pop(),a=!1;break;case 37:n.push(u),a=!0;break;case 38:n.pop(),a=!1;break;case 16:break;default:if(!c.T){if(!a||t.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+u.toString(16))}}},t),gq(r),r.Names=i,r.supbooks=s,r}function Xve(e,t,r){return t.slice(-4)===".bin"?Yve(e,r):qve(e,r)}function Qve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Ive(e,n,r,a,i,s,o):Wge(e,n,r,a,i,s,o)}function Jve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?Rve(e,n,r,a,i):Lve(e,n,r,a,i)}function Zve(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ome():lme()}function e1e(e,t,r,n,a,i,s,o){return t.slice(-4)===".bin"?ime():sme()}function t1e(e,t,r,n){return t.slice(-4)===".bin"?_pe(e,r,n):gpe(e,r,n)}function r1e(e,t,r){return rq(e,r)}function n1e(e,t,r){return t.slice(-4)===".bin"?F0e(e,r):M0e(e,r)}function a1e(e,t,r){return t.slice(-4)===".bin"?rme(e,r):Qpe(e,r)}function i1e(e,t,r){return t.slice(-4)===".bin"?Kpe(e):Hpe(e)}function s1e(e,t,r,n){return r.slice(-4)===".bin"?Ype(e,t,r,n):void 0}function o1e(e,t,r){return t.slice(-4)===".bin"?qpe(e,t,r):Wpe(e,t,r)}var vq=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,yq=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Ro(e,t){var r=e.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var a=e.match(vq),i,s,o,l;if(a)for(l=0;l!=a.length;++l)i=a[l].match(yq),(s=i[1].indexOf(":"))===-1?n[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?o="xmlns"+i[1].slice(6):o=i[1].slice(s+1),n[o]=i[2].slice(1,i[2].length-1));return n}function l1e(e){var t=e.split(/\s+/),r={};if(t.length===1)return r;var n=e.match(vq),a,i,s,o;if(n)for(o=0;o!=n.length;++o)a=n[o].match(yq),(i=a[1].indexOf(":"))===-1?r[a[1]]=a[2].slice(1,a[2].length-1):(a[1].slice(0,6)==="xmlns:"?s="xmlns"+a[1].slice(6):s=a[1].slice(i+1),r[s]=a[2].slice(1,a[2].length-1));return r}var Vg;function c1e(e,t){var r=Vg[e]||Wr(e);return r==="General"?Qh(t):wo(r,t)}function u1e(e,t,r,n){var a=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":a=Dn(n);break;case"i2":case"int":a=parseInt(n,10);break;case"r4":case"float":a=parseFloat(n);break;case"date":case"dateTime.tz":a=Ua(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}e[Wr(t)]=a}function f1e(e,t,r){if(e.t!=="z"){if(!r||r.cellText!==!1)try{e.t==="e"?e.w=e.w||pd[e.v]:t==="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mv(e.v):e.w=Qh(e.v):e.w=c1e(t||"General",e.v)}catch(i){if(r.WTF)throw i}try{var n=Vg[t]||t||"General";if(r.cellNF&&(e.z=n),r.cellDates&&e.t=="n"&&Yp(n)){var a=kh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}catch(i){if(r.WTF)throw i}}}function h1e(e,t,r){if(r.cellStyles&&t.Interior){var n=t.Interior;n.Pattern&&(n.patternType=upe[n.Pattern]||n.Pattern)}e[t.ID]=t}function d1e(e,t,r,n,a,i,s,o,l,c){var u="General",f=n.StyleID,h={};c=c||{};var d=[],g=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&s&&(f=s.StyleID);i[f]!==void 0&&(i[f].nf&&(u=i[f].nf),i[f].Interior&&d.push(i[f].Interior),!!i[f].Parent);)f=i[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Dn(e);break;case"String":n.t="s",n.r=pD(Wr(e)),n.v=e.indexOf("<")>-1?Wr(t||e).replace(/<.*?>/g,""):n.r;break;case"DateTime":e.slice(-1)!="Z"&&(e+="Z"),n.v=(Ua(e)-new Date(Date.UTC(1899,11,30)))/(24*60*60*1e3),n.v!==n.v?n.v=Wr(e):n.v<60&&(n.v=n.v-1),(!u||u=="General")&&(u="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+e),n.t||(n.t="n");break;case"Error":n.t="e",n.v=jz[e],c.cellText!==!1&&(n.w=e);break;default:e==""&&t==""?n.t="z":(n.t="s",n.v=pD(t||e));break}if(f1e(n,u,c),c.cellFormula!==!1)if(n.Formula){var m=Wr(n.Formula);m.charCodeAt(0)==61&&(m=m.slice(1)),n.f=j0(m,a),delete n.Formula,n.ArrayRange=="RC"?n.F=j0("RC:RC",a):n.ArrayRange&&(n.F=j0(n.ArrayRange,a),l.push([Jn(n.F),n.F]))}else for(g=0;g<l.length;++g)a.r>=l[g][0].s.r&&a.r<=l[g][0].e.r&&a.c>=l[g][0].s.c&&a.c<=l[g][0].e.c&&(n.F=l[g][1]);c.cellStyles&&(d.forEach(function(v){!h.patternType&&v.patternType&&(h.patternType=v.patternType)}),n.s=h),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function p1e(e){e.t=e.v||"",e.t=e.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.v=e.w=e.ixfe=void 0}function LS(e,t){var r=t||{};sz();var n=lg(WN(e));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=An(n));var a=n.slice(0,1024).toLowerCase(),i=!1;if(a=a.replace(/".*?"/g,""),(a.indexOf(">")&1023)>Math.min(a.indexOf(",")&1023,a.indexOf(";")&1023)){var s=ii(r);return s.type="string",$v.to_workbook(n,s)}if(a.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function($e){a.indexOf("<"+$e)>=0&&(i=!0)}),i)return S1e(n,r);Vg={"General Number":"General","General Date":_r[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":_r[15],"Short Date":_r[14],"Long Time":_r[19],"Medium Time":_r[18],"Short Time":_r[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:_r[2],Standard:_r[4],Percent:_r[10],Scientific:_r[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],c,u={},f=[],h=r.dense?[]:{},d="",g={},m={},v=Ro('<Data ss:Type="String">'),y=0,b=0,w=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},I={},E="",S=0,A=[],D={},T={},k=0,j=[],V=[],Q={},Y=[],J,H=!1,U=[],re=[],z={},C=0,F=0,q={Sheets:[],WBProps:{date1904:!1}},K={};Fv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var Z="";o=Fv.exec(n);)switch(o[3]=(Z=o[3]).toLowerCase()){case"data":if(Z=="data"){if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?d1e(n.slice(y,o.index),E,v,l[l.length-1][0]=="comment"?Q:g,{c:b,r:w},P,Y[b],m,U,r):(E="",v=Ro(o[0]),y=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(V.length>0&&(g.c=V),(!r.sheetRows||r.sheetRows>w)&&g.v!==void 0&&(r.dense?(h[w]||(h[w]=[]),h[w][b]=g):h[Na(b)+si(w)]=g),g.HRef&&(g.l={Target:Wr(g.HRef)},g.HRefScreenTip&&(g.l.Tooltip=g.HRefScreenTip),delete g.HRef,delete g.HRefScreenTip),(g.MergeAcross||g.MergeDown)&&(C=b+(parseInt(g.MergeAcross,10)|0),F=w+(parseInt(g.MergeDown,10)|0),A.push({s:{c:b,r:w},e:{c:C,r:F}})),!r.sheetStubs)g.MergeAcross?b=C+1:++b;else if(g.MergeAcross||g.MergeDown){for(var oe=b;oe<=C;++oe)for(var fe=w;fe<=F;++fe)(oe>b||fe>w)&&(r.dense?(h[fe]||(h[fe]=[]),h[fe][oe]={t:"z"}):h[Na(oe)+si(fe)]={t:"z"});b=C+1}else++b;else g=l1e(o[0]),g.Index&&(b=+g.Index-1),b<O.s.c&&(O.s.c=b),b>O.e.c&&(O.e.c=b),o[0].slice(-2)==="/>"&&++b,V=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(w<O.s.r&&(O.s.r=w),w>O.e.r&&(O.e.r=w),o[0].slice(-2)==="/>"&&(m=Ro(o[0]),m.Index&&(w=+m.Index-1)),b=0,++w):(m=Ro(o[0]),m.Index&&(w=+m.Index-1),z={},(m.AutoFitHeight=="0"||m.Height)&&(z.hpx=parseInt(m.Height,10),z.hpt=tq(z.hpx),re[w]=z),m.Hidden=="1"&&(z.hidden=!0,re[w]=z));break;case"worksheet":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));f.push(d),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(h["!ref"]=Vr(O),r.sheetRows&&r.sheetRows<=O.e.r&&(h["!fullref"]=h["!ref"],O.e.r=r.sheetRows-1,h["!ref"]=Vr(O))),A.length&&(h["!merges"]=A),Y.length>0&&(h["!cols"]=Y),re.length>0&&(h["!rows"]=re),u[d]=h}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},w=b=0,l.push([o[3],!1]),c=Ro(o[0]),d=Wr(c.Name),h=r.dense?[]:{},A=[],U=[],re=[],K={name:d,Hidden:0},q.Sheets.push(K);break;case"table":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Y=[],H=!1}break;case"style":o[1]==="/"?h1e(P,I,r):I=Ro(o[0]);break;case"numberformat":I.nf=Wr(Ro(o[0]).Format||"General"),Vg[I.nf]&&(I.nf=Vg[I.nf]);for(var ie=0;ie!=392&&_r[ie]!=I.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(_r[ie]==null){Rh(I.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=Ro(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!H&&J.wpx>10){H=!0,Vi=Zz;for(var de=0;de<Y.length;++de)Y[de]&&fp(Y[de])}H&&fp(J),Y[J.Index-1||Y.length]=J;for(var _e=0;_e<+J.Span;++_e)Y[Y.length]=ii(J);break;case"namedrange":if(o[1]==="/")break;q.Names||(q.Names=[]);var B=fr(o[0]),Te={Name:B.Name,Ref:j0(B.RefersTo.slice(1),{r:0,c:0})};q.Sheets.length>0&&(Te.Sheet=q.Sheets.length-1),q.Names.push(Te);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?E+=n.slice(S,o.index):S=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;I.Interior=Ro(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?Qhe(D,Z,n.slice(k,o.index)):k=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"));p1e(Q),V.push(Q)}else l.push([o[3],!1]),c=Ro(o[0]),Q={a:c.Author};break;case"autofilter":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var ge=Ro(o[0]);h["!autofilter"]={ref:j0(ge.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((c=l.pop())[0]!==o[3])throw new Error("Bad state: "+c.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return JD(n,r);var ve=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:ve=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:ve=!1}break;case"excelworkbook":switch(o[3]){case"date1904":q.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:ve=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:ve=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(k,o.index)){case"SheetHidden":K.Hidden=1;break;case"SheetVeryHidden":K.Hidden=2;break}else k=o.index+o[0].length;break;case"header":h["!margins"]||Bg(h["!margins"]={},"xlml"),isNaN(+fr(o[0]).Margin)||(h["!margins"].header=+fr(o[0]).Margin);break;case"footer":h["!margins"]||Bg(h["!margins"]={},"xlml"),isNaN(+fr(o[0]).Margin)||(h["!margins"].footer=+fr(o[0]).Margin);break;case"pagemargins":var te=fr(o[0]);h["!margins"]||Bg(h["!margins"]={},"xlml"),isNaN(+te.Top)||(h["!margins"].top=+te.Top),isNaN(+te.Left)||(h["!margins"].left=+te.Left),isNaN(+te.Right)||(h["!margins"].right=+te.Right),isNaN(+te.Bottom)||(h["!margins"].bottom=+te.Bottom);break;case"displayrighttoleft":q.Views||(q.Views=[]),q.Views[0]||(q.Views[0]={}),q.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":h["!outline"]||(h["!outline"]={}),h["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:ve=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:ve=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:ve=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:ve=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:ve=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:ve=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:ve=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:ve=!1}break;case"smarttags":break;default:ve=!1;break}if(ve||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?u1e(T,Z,j,n.slice(k,o.index)):(j=o,k=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var ke={};return!r.bookSheets&&!r.bookProps&&(ke.Sheets=u),ke.SheetNames=f,ke.Workbook=q,ke.SSF=ii(_r),ke.Props=D,ke.Custprops=T,ke}function AT(e,t){switch(sC(t=t||{}),t.type||"base64"){case"base64":return LS(zs(e),t);case"binary":case"buffer":case"file":return LS(e,t);case"array":return LS(fd(e),t)}}function m1e(e){var t={},r=e.content;if(r.l=28,t.AnsiUserType=r.read_shift(0,"lpstr-ansi"),t.AnsiClipboardFormat=Che(r),r.length-r.l<=4)return t;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,t.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(t.UnicodeClipboardFormat=Phe(r),n=r.read_shift(4),n==0||n>40))return t;r.l-=4,t.Reserved2=r.read_shift(0,"lpwstr")}var g1e=[60,1084,2066,2165,2175];function v1e(e,t,r,n,a){var i=n,s=[],o=r.slice(r.l,r.l+i);if(a&&a.enc&&a.enc.insitu&&o.length>0)switch(e){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:a.enc.insitu(o)}s.push(o),r.l+=i;for(var l=pc(r,r.l),c=TT[l],u=0;c!=null&&g1e.indexOf(l)>-1;)i=pc(r,r.l+2),u=r.l+4,l==2066?u+=4:(l==2165||l==2175)&&(u+=12),o=r.slice(u,r.l+4+i),s.push(o),r.l+=4+i,c=TT[l=pc(r,r.l)];var f=Vu(s);ti(f,0);var h=0;f.lens=[];for(var d=0;d<s.length;++d)f.lens.push(h),h+=s[d].length;if(f.length<n)throw"XLS Record 0x"+e.toString(16)+" Truncated: "+f.length+" < "+n;return t.f(f,f.length,a)}function wl(e,t,r){if(e.t!=="z"&&e.XF){var n=0;try{n=e.z||e.XF.numFmtId||0,t.cellNF&&(e.z=_r[n])}catch(i){if(t.WTF)throw i}if(!t||t.cellText!==!1)try{e.t==="e"?e.w=e.w||pd[e.v]:n===0||n=="General"?e.t==="n"?(e.v|0)===e.v?e.w=e.v.toString(10):e.w=Mv(e.v):e.w=Qh(e.v):e.w=wo(n,e.v,{date1904:!!r,dateNF:t&&t.dateNF})}catch(i){if(t.WTF)throw i}if(t.cellDates&&n&&e.t=="n"&&Yp(_r[n]||String(n))){var a=kh(e.v);a&&(e.t="d",e.v=new Date(a.y,a.m-1,a.d,a.H,a.M,a.S,a.u))}}}function gx(e,t,r){return{v:e,ixfe:t,t:r}}function y1e(e,t){var r={opts:{}},n={},a=t.dense?[]:{},i={},s={},o=null,l=[],c="",u={},f,h="",d,g,m,v,y={},b=[],w,O,P=[],I=[],E={Sheets:[],WBProps:{date1904:!1},Views:[{}]},S={},A=function(ft){return ft<8?Fh[ft]:ft<64&&I[ft-8]||Fh[ft]},D=function(ft,rt,Kt){var Vt=rt.XF.data;if(!(!Vt||!Vt.patternType||!Kt||!Kt.cellStyles)){rt.s={},rt.s.patternType=Vt.patternType;var Ur;(Ur=Bv(A(Vt.icvFore)))&&(rt.s.fgColor={rgb:Ur}),(Ur=Bv(A(Vt.icvBack)))&&(rt.s.bgColor={rgb:Ur})}},T=function(ft,rt,Kt){if(!(z>1)&&!(Kt.sheetRows&&ft.r>=Kt.sheetRows)){if(Kt.cellStyles&&rt.XF&&rt.XF.data&&D(ft,rt,Kt),delete rt.ixfe,delete rt.XF,f=ft,h=yr(ft),(!s||!s.s||!s.e)&&(s={s:{r:0,c:0},e:{r:0,c:0}}),ft.r<s.s.r&&(s.s.r=ft.r),ft.c<s.s.c&&(s.s.c=ft.c),ft.r+1>s.e.r&&(s.e.r=ft.r+1),ft.c+1>s.e.c&&(s.e.c=ft.c+1),Kt.cellFormula&&rt.f){for(var Vt=0;Vt<b.length;++Vt)if(!(b[Vt][0].s.c>ft.c||b[Vt][0].s.r>ft.r)&&!(b[Vt][0].e.c<ft.c||b[Vt][0].e.r<ft.r)){rt.F=Vr(b[Vt][0]),(b[Vt][0].s.c!=ft.c||b[Vt][0].s.r!=ft.r)&&delete rt.f,rt.f&&(rt.f=""+wi(b[Vt][1],s,ft,U,k));break}}Kt.dense?(a[ft.r]||(a[ft.r]=[]),a[ft.r][ft.c]=rt):a[h]=rt}},k={enc:!1,sbcch:0,snames:[],sharedf:y,arrayf:b,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!t&&!!t.cellStyles,WTF:!!t&&!!t.wtf};t.password&&(k.password=t.password);var j,V=[],Q=[],Y=[],J=[],H=!1,U=[];U.SheetNames=k.snames,U.sharedf=k.sharedf,U.arrayf=k.arrayf,U.names=[],U.XTI=[];var re=0,z=0,C=0,F=[],q=[],K;k.codepage=1200,Zo(1200);for(var Z=!1;e.l<e.length-1;){var oe=e.l,fe=e.read_shift(2);if(fe===0&&re===10)break;var ie=e.l===e.length?0:e.read_shift(2),de=TT[fe];if(de&&de.f){if(t.bookSheets&&re===133&&fe!==133)break;if(re=fe,de.r===2||de.r==12){var _e=e.read_shift(2);if(ie-=2,!k.enc&&_e!==fe&&((_e&255)<<8|_e>>8)!==fe)throw new Error("rt mismatch: "+_e+"!="+fe);de.r==12&&(e.l+=10,ie-=10)}var B={};if(fe===10?B=de.f(e,ie,k):B=v1e(fe,de,e,ie,k),z==0&&[9,521,1033,2057].indexOf(re)===-1)continue;switch(fe){case 34:r.opts.Date1904=E.WBProps.date1904=B;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(k.enc||(e.l=0),k.enc=B,!t.password)throw new Error("File is password-protected");if(B.valid==null)throw new Error("Encryption scheme unsupported");if(!B.valid)throw new Error("Password is incorrect");break;case 92:k.lastuser=B;break;case 66:var Te=Number(B);switch(Te){case 21010:Te=1200;break;case 32768:Te=1e4;break;case 32769:Te=1252;break}Zo(k.codepage=Te),Z=!0;break;case 317:k.rrtabid=B;break;case 25:k.winlocked=B;break;case 439:r.opts.RefreshAll=B;break;case 12:r.opts.CalcCount=B;break;case 16:r.opts.CalcDelta=B;break;case 17:r.opts.CalcIter=B;break;case 13:r.opts.CalcMode=B;break;case 14:r.opts.CalcPrecision=B;break;case 95:r.opts.CalcSaveRecalc=B;break;case 15:k.CalcRefMode=B;break;case 2211:r.opts.FullCalc=B;break;case 129:B.fDialog&&(a["!type"]="dialog"),B.fBelow||((a["!outline"]||(a["!outline"]={})).above=!0),B.fRight||((a["!outline"]||(a["!outline"]={})).left=!0);break;case 224:P.push(B);break;case 430:U.push([B]),U[U.length-1].XTI=[];break;case 35:case 547:U[U.length-1].push(B);break;case 24:case 536:K={Name:B.Name,Ref:wi(B.rgce,s,null,U,k)},B.itab>0&&(K.Sheet=B.itab-1),U.names.push(K),U[0]||(U[0]=[],U[0].XTI=[]),U[U.length-1].push(B),B.Name=="_xlnm._FilterDatabase"&&B.itab>0&&B.rgce&&B.rgce[0]&&B.rgce[0][0]&&B.rgce[0][0][0]=="PtgArea3d"&&(q[B.itab-1]={ref:Vr(B.rgce[0][0][1][2])});break;case 22:k.ExternCount=B;break;case 23:U.length==0&&(U[0]=[],U[0].XTI=[]),U[U.length-1].XTI=U[U.length-1].XTI.concat(B),U.XTI=U.XTI.concat(B);break;case 2196:if(k.biff<8)break;K!=null&&(K.Comment=B[1]);break;case 18:a["!protect"]=B;break;case 19:B!==0&&k.WTF&&console.error("Password verifier: "+B);break;case 133:i[B.pos]=B,k.snames.push(B.name);break;case 10:{if(--z)break;if(s.e){if(s.e.r>0&&s.e.c>0){if(s.e.r--,s.e.c--,a["!ref"]=Vr(s),t.sheetRows&&t.sheetRows<=s.e.r){var ge=s.e.r;s.e.r=t.sheetRows-1,a["!fullref"]=a["!ref"],a["!ref"]=Vr(s),s.e.r=ge}s.e.r++,s.e.c++}V.length>0&&(a["!merges"]=V),Q.length>0&&(a["!objects"]=Q),Y.length>0&&(a["!cols"]=Y),J.length>0&&(a["!rows"]=J),E.Sheets.push(S)}c===""?u=a:n[c]=a,a=t.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(k.biff===8&&(k.biff={9:2,521:3,1033:4}[fe]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[B.BIFFVer]||8),k.biffguess=B.BIFFVer==0,B.BIFFVer==0&&B.dt==4096&&(k.biff=5,Z=!0,Zo(k.codepage=28591)),k.biff==8&&B.BIFFVer==0&&B.dt==16&&(k.biff=2),z++)break;if(a=t.dense?[]:{},k.biff<8&&!Z&&(Z=!0,Zo(k.codepage=t.codepage||1252)),k.biff<5||B.BIFFVer==0&&B.dt==4096){c===""&&(c="Sheet1"),s={s:{r:0,c:0},e:{r:0,c:0}};var ve={pos:e.l-ie,name:c};i[ve.pos]=ve,k.snames.push(c)}else c=(i[oe]||{name:""}).name;B.dt==32&&(a["!type"]="chart"),B.dt==64&&(a["!type"]="macro"),V=[],Q=[],k.arrayf=b=[],Y=[],J=[],H=!1,S={Hidden:(i[oe]||{hs:0}).hs,name:c}}break;case 515:case 3:case 2:a["!type"]=="chart"&&(t.dense?(a[B.r]||[])[B.c]:a[yr({c:B.c,r:B.r})])&&++B.c,w={ixfe:B.ixfe,XF:P[B.ixfe]||{},v:B.val,t:"n"},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t);break;case 5:case 517:w={ixfe:B.ixfe,XF:P[B.ixfe],v:B.val,t:B.t},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t);break;case 638:w={ixfe:B.ixfe,XF:P[B.ixfe],v:B.rknum,t:"n"},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t);break;case 189:for(var te=B.c;te<=B.C;++te){var ke=B.rkrec[te-B.c][0];w={ixfe:ke,XF:P[ke],v:B.rkrec[te-B.c][1],t:"n"},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:te,r:B.r},w,t)}break;case 6:case 518:case 1030:{if(B.val=="String"){o=B;break}if(w=gx(B.val,B.cell.ixfe,B.tt),w.XF=P[w.ixfe],t.cellFormula){var $e=B.formula;if($e&&$e[0]&&$e[0][0]&&$e[0][0][0]=="PtgExp"){var Fe=$e[0][0][1][0],Qe=$e[0][0][1][1],Le=yr({r:Fe,c:Qe});y[Le]?w.f=""+wi(B.formula,s,B.cell,U,k):w.F=((t.dense?(a[Fe]||[])[Qe]:a[Le])||{}).F}else w.f=""+wi(B.formula,s,B.cell,U,k)}C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T(B.cell,w,t),o=B}break;case 7:case 519:if(o)o.val=B,w=gx(B,o.cell.ixfe,"s"),w.XF=P[w.ixfe],t.cellFormula&&(w.f=""+wi(o.formula,s,o.cell,U,k)),C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T(o.cell,w,t),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{b.push(B);var Ge=yr(B[0].s);if(d=t.dense?(a[B[0].s.r]||[])[B[0].s.c]:a[Ge],t.cellFormula&&d){if(!o||!Ge||!d)break;d.f=""+wi(B[1],s,B[0],U,k),d.F=Vr(B[0])}}break;case 1212:{if(!t.cellFormula)break;if(h){if(!o)break;y[yr(o.cell)]=B[0],d=t.dense?(a[o.cell.r]||[])[o.cell.c]:a[yr(o.cell)],(d||{}).f=""+wi(B[0],s,f,U,k)}}break;case 253:w=gx(l[B.isst].t,B.ixfe,"s"),l[B.isst].h&&(w.h=l[B.isst].h),w.XF=P[w.ixfe],C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t);break;case 513:t.sheetStubs&&(w={ixfe:B.ixfe,XF:P[B.ixfe],t:"z"},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t));break;case 190:if(t.sheetStubs)for(var Me=B.c;Me<=B.C;++Me){var Ye=B.ixfe[Me-B.c];w={ixfe:Ye,XF:P[Ye],t:"z"},C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:Me,r:B.r},w,t)}break;case 214:case 516:case 4:w=gx(B.val,B.ixfe,"s"),w.XF=P[w.ixfe],C>0&&(w.z=F[w.ixfe>>8&63]),wl(w,t,r.opts.Date1904),T({c:B.c,r:B.r},w,t);break;case 0:case 512:z===1&&(s=B);break;case 252:l=B;break;case 1054:if(k.biff==4){F[C++]=B[1];for(var mt=0;mt<C+163&&_r[mt]!=B[1];++mt);mt>=163&&Rh(B[1],C+163)}else Rh(B[1],B[0]);break;case 30:{F[C++]=B;for(var at=0;at<C+163&&_r[at]!=B;++at);at>=163&&Rh(B,C+163)}break;case 229:V=V.concat(B);break;case 93:Q[B.cmo[0]]=k.lastobj=B;break;case 438:k.lastobj.TxO=B;break;case 127:k.lastobj.ImData=B;break;case 440:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[yr({c:m,r:v})],d&&(d.l=B[1]);break;case 2048:for(v=B[0].s.r;v<=B[0].e.r;++v)for(m=B[0].s.c;m<=B[0].e.c;++m)d=t.dense?(a[v]||[])[m]:a[yr({c:m,r:v})],d&&d.l&&(d.l.Tooltip=B[1]);break;case 28:{if(k.biff<=5&&k.biff>=2)break;d=t.dense?(a[B[0].r]||[])[B[0].c]:a[yr(B[0])];var gt=Q[B[2]];d||(t.dense?(a[B[0].r]||(a[B[0].r]=[]),d=a[B[0].r][B[0].c]={t:"z"}):d=a[yr(B[0])]={t:"z"},s.e.r=Math.max(s.e.r,B[0].r),s.s.r=Math.min(s.s.r,B[0].r),s.e.c=Math.max(s.e.c,B[0].c),s.s.c=Math.min(s.s.c,B[0].c)),d.c||(d.c=[]),g={a:B[1],t:gt.TxO.t},d.c.push(g)}break;case 2173:Bpe(P[B.ixfe],B.ext);break;case 125:{if(!k.cellStyles)break;for(;B.e>=B.s;)Y[B.e--]={width:B.w/256,level:B.level||0,hidden:!!(B.flags&1)},H||(H=!0,tC(B.w/256)),fp(Y[B.e+1])}break;case 520:{var At={};B.level!=null&&(J[B.r]=At,At.level=B.level),B.hidden&&(J[B.r]=At,At.hidden=!0),B.hpt&&(J[B.r]=At,At.hpt=B.hpt,At.hpx=Vv(B.hpt))}break;case 38:case 39:case 40:case 41:a["!margins"]||Bg(a["!margins"]={}),a["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[fe]]=B;break;case 161:a["!margins"]||Bg(a["!margins"]={}),a["!margins"].header=B.header,a["!margins"].footer=B.footer;break;case 574:B.RTL&&(E.Views[0].RTL=!0);break;case 146:I=B;break;case 2198:j=B;break;case 140:O=B;break;case 442:c?S.CodeName=B||S.name:E.WBProps.CodeName=B||"ThisWorkbook";break}}else de||console.error("Missing Info for XLS Record 0x"+fe.toString(16)),e.l+=ie}return r.SheetNames=Ul(i).sort(function(Pt,ft){return Number(Pt)-Number(ft)}).map(function(Pt){return i[Pt].name}),t.bookSheets||(r.Sheets=n),!r.SheetNames.length&&u["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=u)):r.Preamble=u,r.Sheets&&q.forEach(function(Pt,ft){r.Sheets[r.SheetNames[ft]]["!autofilter"]=Pt}),r.Strings=l,r.SSF=ii(_r),k.enc&&(r.Encryption=k.enc),j&&(r.Themes=j),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),U.names.length>0&&(E.Names=U.names),r.Workbook=E,r}var GD={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function x1e(e,t,r){var n=$r.find(e,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var a=PD(n,Mhe,GD.DSI);for(var i in a)t[i]=a[i]}catch(c){if(r.WTF)throw c}var s=$r.find(e,"/!SummaryInformation");if(s&&s.size>0)try{var o=PD(s,Rhe,GD.SI);for(var l in o)t[l]==null&&(t[l]=o[l])}catch(c){if(r.WTF)throw c}t.HeadingPairs&&t.TitlesOfParts&&(Mz(t.HeadingPairs,t.TitlesOfParts,t,r),delete t.HeadingPairs,delete t.TitlesOfParts)}function xq(e,t){t||(t={}),sC(t),KU(),t.codepage&&FN(t.codepage);var r,n;if(e.FullPaths){if($r.find(e,"/encryption"))throw new Error("File is password-protected");r=$r.find(e,"!CompObj"),n=$r.find(e,"/Workbook")||$r.find(e,"/Book")}else{switch(t.type){case"base64":e=Qo(zs(e));break;case"binary":e=Qo(e);break;case"buffer":break;case"array":Array.isArray(e)||(e=Array.prototype.slice.call(e));break}ti(e,0),n={content:e}}var a,i;if(r&&m1e(r),t.bookProps&&!t.bookSheets)a={};else{var s=Dr?"buffer":"array";if(n&&n.content)a=y1e(n.content,t);else if((i=$r.find(e,"PerfectOffice_MAIN"))&&i.content)a=Fg.to_workbook(i.content,(t.type=s,t));else if((i=$r.find(e,"NativeContent_MAIN"))&&i.content)a=Fg.to_workbook(i.content,(t.type=s,t));else throw(i=$r.find(e,"MN0"))&&i.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");t.bookVBA&&e.FullPaths&&$r.find(e,"/_VBA_PROJECT_CUR/VBA/dir")&&(a.vbaraw=ame(e))}var o={};return e.FullPaths&&x1e(e,o,t),a.Props=a.Custprops=o,t.bookFiles&&(a.cfb=e),a}var wb={0:{f:eve},1:{f:ave},2:{f:dve},3:{f:lve},4:{f:sve},5:{f:hve},6:{f:gve},7:{f:uve},8:{f:wve},9:{f:bve},10:{f:yve},11:{f:xve},12:{f:ive},13:{f:pve},14:{f:cve},15:{f:ove},16:{f:pq},17:{f:vve},18:{f:fve},19:{f:YN},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:Kve},40:{},42:{},43:{f:ype},44:{f:vpe},45:{f:xpe},46:{f:wpe},47:{f:bpe},48:{},49:{f:_he},50:{},51:{f:Upe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Kz},62:{f:mve},63:{f:Gpe},64:{f:Pve},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Oi,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:Cve},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:nve},148:{f:tve,p:16},151:{f:Ave},152:{},153:{f:Hve},154:{},155:{},156:{f:Wve},157:{},158:{},159:{T:1,f:R0e},160:{T:-1},161:{T:1,f:dd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_ve},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:Vpe},336:{T:-1},337:{f:zpe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:bT},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Gz},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:Tve},427:{f:Eve},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:Nve},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:rve},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:Sve},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:bT},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:tme},633:{T:1},634:{T:-1},635:{T:1,f:eme},636:{T:-1},637:{f:Ahe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:Mve},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:Ove},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},TT={6:{f:DS},10:{f:Cu},12:{f:pa},13:{f:pa},14:{f:ra},15:{f:ra},16:{f:Ei},17:{f:ra},18:{f:ra},19:{f:pa},20:{f:jD},21:{f:jD},23:{f:Gz},24:{f:MD},25:{f:ra},26:{},27:{},28:{f:Jde},29:{},34:{f:ra},35:{f:LD},38:{f:Ei},39:{f:Ei},40:{f:Ei},41:{f:Ei},42:{f:ra},43:{f:ra},47:{f:rpe},49:{f:Dde},51:{f:pa},60:{},61:{f:Pde},64:{f:ra},65:{f:Ide},66:{f:pa},77:{},80:{},81:{},82:{},85:{f:pa},89:{},90:{},91:{},92:{f:_de},93:{f:e0e},94:{},95:{f:ra},96:{},97:{},99:{f:ra},125:{f:Kz},128:{f:zde},129:{f:Sde},130:{f:pa},131:{f:ra},132:{f:ra},133:{f:Ade},134:{},140:{f:s0e},141:{f:pa},144:{},146:{f:l0e},151:{},152:{},153:{},154:{},155:{},156:{f:pa},157:{},158:{},160:{f:d0e},161:{f:u0e},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:$de},190:{f:Bde},193:{f:Cu},197:{},198:{},199:{},200:{},201:{},202:{f:ra},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:pa},220:{},221:{f:ra},222:{},224:{f:Ude},225:{f:wde},226:{f:Cu},227:{},229:{f:Zde},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Tde},253:{f:jde},255:{f:Ede},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Vz},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:ra},353:{f:Cu},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:Wde},431:{f:ra},432:{},433:{},434:{},437:{},438:{f:n0e},439:{f:ra},440:{f:a0e},441:{},442:{f:X1},443:{},444:{f:pa},445:{},446:{},448:{f:Cu},449:{f:Cde,r:2},450:{f:Cu},512:{f:ID},513:{f:h0e},515:{f:qde},516:{f:Lde},517:{f:DD},519:{f:p0e},520:{f:kde},523:{},545:{f:RD},549:{f:OD},566:{},574:{f:Ode},638:{f:Fde},659:{},1048:{},1054:{f:Mde},1084:{},1212:{f:Yde},2048:{f:i0e},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:dx},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Cu},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:c0e,r:12},2173:{f:$pe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:ra,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:Kde,r:12},2197:{},2198:{f:Dpe,r:12},2199:{},2200:{},2201:{},2202:{f:Xde,r:12},2203:{f:Cu},2204:{},2205:{},2206:{},2207:{},2211:{f:Nde},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:pa},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:f0e},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:o0e},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:ID},1:{},2:{f:y0e},3:{f:v0e},4:{f:g0e},5:{f:DD},7:{f:x0e},8:{},9:{f:dx},11:{},22:{f:pa},30:{f:Rde},31:{},32:{},33:{f:RD},36:{},37:{f:OD},50:{f:b0e},62:{},52:{},67:{},68:{f:pa},69:{},86:{},126:{},127:{f:m0e},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:w0e},223:{},234:{},354:{},421:{},518:{f:DS},521:{f:dx},536:{f:MD},547:{f:LD},561:{},579:{},1030:{f:DS},1033:{f:dx},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function Fo(e,t,r,n){var a=t;if(!isNaN(a)){var i=(r||[]).length||0,s=e.next(4);s.write_shift(2,a),s.write_shift(2,i),i>0&&Nz(r)&&e.push(r)}}function KD(e,t){var r=t||{},n=r.dense?[]:{};e=e.replace(/<!--.*?-->/g,"");var a=e.match(/<table/i);if(!a)throw new Error("Invalid HTML: could not find <table>");var i=e.match(/<\/table/i),s=a.index,o=i&&i.index||e.length,l=qfe(e.slice(s,o),/(:?<tr[^>]*>)/i,"<tr>"),c=-1,u=0,f=0,h=0,d={s:{r:1e7,c:1e7},e:{r:0,c:0}},g=[];for(s=0;s<l.length;++s){var m=l[s].trim(),v=m.slice(0,3).toLowerCase();if(v=="<tr"){if(++c,r.sheetRows&&r.sheetRows<=c){--c;break}u=0;continue}if(!(v!="<td"&&v!="<th")){var y=m.split(/<\/t[dh]>/i);for(o=0;o<y.length;++o){var b=y[o].trim();if(b.match(/<t[dh]/i)){for(var w=b,O=0;w.charAt(0)=="<"&&(O=w.indexOf(">"))>-1;)w=w.slice(O+1);for(var P=0;P<g.length;++P){var I=g[P];I.s.c==u&&I.s.r<c&&c<=I.e.r&&(u=I.e.c+1,P=-1)}var E=fr(b.slice(0,b.indexOf(">")));h=E.colspan?+E.colspan:1,((f=+E.rowspan)>1||h>1)&&g.push({s:{r:c,c:u},e:{r:c+(f||1)-1,c:u+h-1}});var S=E.t||E["data-t"]||"";if(!w.length){u+=h;continue}if(w=mz(w),d.s.r>c&&(d.s.r=c),d.e.r<c&&(d.e.r=c),d.s.c>u&&(d.s.c=u),d.e.c<u&&(d.e.c=u),!w.length){u+=h;continue}var A={t:"s",v:w};r.raw||!w.trim().length||S=="s"||(w==="TRUE"?A={t:"b",v:!0}:w==="FALSE"?A={t:"b",v:!1}:isNaN(il(w))?isNaN(up(w).getDate())||(A={t:"d",v:Ua(w)},r.cellDates||(A={t:"n",v:Qi(A.v)}),A.z=r.dateNF||_r[14]):A={t:"n",v:il(w)}),r.dense?(n[c]||(n[c]=[]),n[c][u]=A):n[yr({r:c,c:u})]=A,u+=h}}}}return n["!ref"]=Vr(d),g.length&&(n["!merges"]=g),n}function b1e(e,t,r,n){for(var a=e["!merges"]||[],i=[],s=t.s.c;s<=t.e.c;++s){for(var o=0,l=0,c=0;c<a.length;++c)if(!(a[c].s.r>r||a[c].s.c>s)&&!(a[c].e.r<r||a[c].e.c<s)){if(a[c].s.r<r||a[c].s.c<s){o=-1;break}o=a[c].e.r-a[c].s.r+1,l=a[c].e.c-a[c].s.c+1;break}if(!(o<0)){var u=yr({r,c:s}),f=n.dense?(e[r]||[])[s]:e[u],h=f&&f.v!=null&&(f.h||qN(f.w||($c(f),f.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?h='<span contenteditable="true">'+h+"</span>":f&&(d["data-t"]=f&&f.t||"z",f.v!=null&&(d["data-v"]=f.v),f.z!=null&&(d["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(h='<a href="'+f.l.Target+'">'+h+"</a>")),d.id=(n.id||"sjs")+"-"+u,i.push(she("td",h,d))}}var g="<tr>";return g+i.join("")+"</tr>"}var w1e='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',_1e="</body></html>";function S1e(e,t){var r=e.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Rf(KD(r[0],t),t);var n=lC();return r.forEach(function(a,i){cC(n,KD(a,t),"Sheet"+(i+1))}),n}function A1e(e,t,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function T1e(e,t){var r=t||{},n=r.header!=null?r.header:w1e,a=r.footer!=null?r.footer:_1e,i=[n],s=Xp(e["!ref"]);r.dense=Array.isArray(e),i.push(A1e(e,s,r));for(var o=s.s.r;o<=s.e.r;++o)i.push(b1e(e,s,o,r));return i.push("</table>"+a),i.join("")}function bq(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var s=typeof n.origin=="string"?qi(n.origin):n.origin;a=s.r,i=s.c}var o=t.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var u=Xp(e["!ref"]);c.s.r=Math.min(c.s.r,u.s.r),c.s.c=Math.min(c.s.c,u.s.c),c.e.r=Math.max(c.e.r,u.e.r),c.e.c=Math.max(c.e.c,u.e.c),a==-1&&(c.e.r=a=u.e.r+1)}var f=[],h=0,d=e["!rows"]||(e["!rows"]=[]),g=0,m=0,v=0,y=0,b=0,w=0;for(e["!cols"]||(e["!cols"]=[]);g<o.length&&m<l;++g){var O=o[g];if(YD(O)){if(n.display)continue;d[m]={hidden:!0}}var P=O.children;for(v=y=0;v<P.length;++v){var I=P[v];if(!(n.display&&YD(I))){var E=I.hasAttribute("data-v")?I.getAttribute("data-v"):I.hasAttribute("v")?I.getAttribute("v"):mz(I.innerHTML),S=I.getAttribute("data-z")||I.getAttribute("z");for(h=0;h<f.length;++h){var A=f[h];A.s.c==y+i&&A.s.r<m+a&&m+a<=A.e.r&&(y=A.e.c+1-i,h=-1)}w=+I.getAttribute("colspan")||1,((b=+I.getAttribute("rowspan")||1)>1||w>1)&&f.push({s:{r:m+a,c:y+i},e:{r:m+a+(b||1)-1,c:y+i+(w||1)-1}});var D={t:"s",v:E},T=I.getAttribute("data-t")||I.getAttribute("t")||"";E!=null&&(E.length==0?D.t=T||"z":n.raw||E.trim().length==0||T=="s"||(E==="TRUE"?D={t:"b",v:!0}:E==="FALSE"?D={t:"b",v:!1}:isNaN(il(E))?isNaN(up(E).getDate())||(D={t:"d",v:Ua(E)},n.cellDates||(D={t:"n",v:Qi(D.v)}),D.z=n.dateNF||_r[14]):D={t:"n",v:il(E)})),D.z===void 0&&S!=null&&(D.z=S);var k="",j=I.getElementsByTagName("A");if(j&&j.length)for(var V=0;V<j.length&&!(j[V].hasAttribute("href")&&(k=j[V].getAttribute("href"),k.charAt(0)!="#"));++V);k&&k.charAt(0)!="#"&&(D.l={Target:k}),n.dense?(e[m+a]||(e[m+a]=[]),e[m+a][y+i]=D):e[yr({c:y+i,r:m+a})]=D,c.e.c<y+i&&(c.e.c=y+i),y+=w}}++m}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),c.e.r=Math.max(c.e.r,m-1+a),e["!ref"]=Vr(c),m>=l&&(e["!fullref"]=Vr((c.e.r=o.length-g+m-1+a,c))),e}function wq(e,t){var r=t||{},n=r.dense?[]:{};return bq(n,e,t)}function E1e(e,t){return Rf(wq(e,t),t)}function YD(e){var t="",r=k1e(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function k1e(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function N1e(e){var t=e.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,a){return Array(parseInt(a,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Wr(t.replace(/<[^>]*>/g,""));return[r]}var XD={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function _q(e,t){var r=t||{},n=WN(e),a=[],i,s,o={name:""},l="",c=0,u,f,h={},d=[],g=r.dense?[]:{},m,v,y={value:""},b="",w=0,O=[],P=-1,I=-1,E={s:{r:1e6,c:1e7},e:{r:0,c:0}},S=0,A={},D=[],T={},k=0,j=0,V=[],Q=1,Y=1,J=[],H={Names:[]},U={},re=["",""],z=[],C={},F="",q=0,K=!1,Z=!1,oe=0;for(Fv.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");m=Fv.exec(n);)switch(m[3]=m[3].replace(/_.*$/,"")){case"table":case"工作表":m[1]==="/"?(E.e.c>=E.s.c&&E.e.r>=E.s.r?g["!ref"]=Vr(E):g["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=E.e.r&&(g["!fullref"]=g["!ref"],E.e.r=r.sheetRows-1,g["!ref"]=Vr(E)),D.length&&(g["!merges"]=D),V.length&&(g["!rows"]=V),u.name=u.名称||u.name,typeof JSON<"u"&&JSON.stringify(u),d.push(u.name),h[u.name]=g,Z=!1):m[0].charAt(m[0].length-2)!=="/"&&(u=fr(m[0],!1),P=I=-1,E.s.r=E.s.c=1e7,E.e.r=E.e.c=0,g=r.dense?[]:{},D=[],V=[],Z=!0);break;case"table-row-group":m[1]==="/"?--S:++S;break;case"table-row":case"行":if(m[1]==="/"){P+=Q,Q=1;break}if(f=fr(m[0],!1),f.行号?P=f.行号-1:P==-1&&(P=0),Q=+f["number-rows-repeated"]||1,Q<10)for(oe=0;oe<Q;++oe)S>0&&(V[P+oe]={level:S});I=-1;break;case"covered-table-cell":m[1]!=="/"&&++I,r.sheetStubs&&(r.dense?(g[P]||(g[P]=[]),g[P][I]={t:"z"}):g[yr({r:P,c:I})]={t:"z"}),b="",O=[];break;case"table-cell":case"数据":if(m[0].charAt(m[0].length-2)==="/")++I,y=fr(m[0],!1),Y=parseInt(y["number-columns-repeated"]||"1",10),v={t:"z",v:null},y.formula&&r.cellFormula!=!1&&(v.f=qD(Wr(y.formula))),(y.数据类型||y["value-type"])=="string"&&(v.t="s",v.v=Wr(y["string-value"]||""),r.dense?(g[P]||(g[P]=[]),g[P][I]=v):g[yr({r:P,c:I})]=v),I+=Y-1;else if(m[1]!=="/"){++I,b="",w=0,O=[],Y=1;var fe=Q?P+Q-1:P;if(I>E.e.c&&(E.e.c=I),I<E.s.c&&(E.s.c=I),P<E.s.r&&(E.s.r=P),fe>E.e.r&&(E.e.r=fe),y=fr(m[0],!1),z=[],C={},v={t:y.数据类型||y["value-type"],v:null},r.cellFormula)if(y.formula&&(y.formula=Wr(y.formula)),y["number-matrix-columns-spanned"]&&y["number-matrix-rows-spanned"]&&(k=parseInt(y["number-matrix-rows-spanned"],10)||0,j=parseInt(y["number-matrix-columns-spanned"],10)||0,T={s:{r:P,c:I},e:{r:P+k-1,c:I+j-1}},v.F=Vr(T),J.push([T,v.F])),y.formula)v.f=qD(y.formula);else for(oe=0;oe<J.length;++oe)P>=J[oe][0].s.r&&P<=J[oe][0].e.r&&I>=J[oe][0].s.c&&I<=J[oe][0].e.c&&(v.F=J[oe][1]);switch((y["number-columns-spanned"]||y["number-rows-spanned"])&&(k=parseInt(y["number-rows-spanned"],10)||0,j=parseInt(y["number-columns-spanned"],10)||0,T={s:{r:P,c:I},e:{r:P+k-1,c:I+j-1}},D.push(T)),y["number-columns-repeated"]&&(Y=parseInt(y["number-columns-repeated"],10)),v.t){case"boolean":v.t="b",v.v=Dn(y["boolean-value"]);break;case"float":v.t="n",v.v=parseFloat(y.value);break;case"percentage":v.t="n",v.v=parseFloat(y.value);break;case"currency":v.t="n",v.v=parseFloat(y.value);break;case"date":v.t="d",v.v=Ua(y["date-value"]),r.cellDates||(v.t="n",v.v=Qi(v.v)),v.z="m/d/yy";break;case"time":v.t="n",v.v=Vfe(y["time-value"])/86400,r.cellDates&&(v.t="d",v.v=m5(v.v)),v.z="HH:MM:SS";break;case"number":v.t="n",v.v=parseFloat(y.数据数值);break;default:if(v.t==="string"||v.t==="text"||!v.t)v.t="s",y["string-value"]!=null&&(b=Wr(y["string-value"]),O=[]);else throw new Error("Unsupported value type "+v.t)}}else{if(K=!1,v.t==="s"&&(v.v=b||"",O.length&&(v.R=O),K=w==0),U.Target&&(v.l=U),z.length>0&&(v.c=z,z=[]),b&&r.cellText!==!1&&(v.w=b),K&&(v.t="z",delete v.v),(!K||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ie=0;ie<Q;++ie){if(Y=parseInt(y["number-columns-repeated"]||"1",10),r.dense)for(g[P+ie]||(g[P+ie]=[]),g[P+ie][I]=ie==0?v:ii(v);--Y>0;)g[P+ie][I+Y]=ii(v);else for(g[yr({r:P+ie,c:I})]=v;--Y>0;)g[yr({r:P+ie,c:I+Y})]=ii(v);E.e.c<=I&&(E.e.c=I)}Y=parseInt(y["number-columns-repeated"]||"1",10),I+=Y-1,Y=0,v={},b="",O=[]}U={};break;case"document":case"document-content":case"电子表格文档":case"spreadsheet":case"主体":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!0]);break;case"annotation":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i;C.t=b,O.length&&(C.R=O),C.a=F,z.push(C)}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);F="",q=0,b="",w=0,O=[];break;case"creator":m[1]==="/"?F=n.slice(q,m.index):q=m.index+m[0].length;break;case"meta":case"元数据":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(m[1]==="/"){if((i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&a.push([m[3],!1]);b="",w=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(m[1]==="/"){if(A[o.name]=l,(i=a.pop())[0]!==m[3])throw"Bad state: "+i}else m[0].charAt(m[0].length-2)!=="/"&&(l="",o=fr(m[0],!1),a.push([m[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(a[a.length-1][0]){case"time-style":case"date-style":s=fr(m[0],!1),l+=XD[m[3]][s.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(a[a.length-1][0]){case"time-style":case"date-style":s=fr(m[0],!1),l+=XD[m[3]][s.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(m[0].slice(-2)==="/>")break;if(m[1]==="/")switch(a[a.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(c,m.index);break}else c=m.index+m[0].length;break;case"named-range":s=fr(m[0],!1),re=jS(s["cell-range-address"]);var de={Name:s.name,Ref:re[0]+"!"+re[1]};Z&&(de.Sheet=d.length),H.Names.push(de);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"电子表格":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"文本串":if(["master-styles"].indexOf(a[a.length-1][0])>-1)break;if(m[1]==="/"&&(!y||!y["string-value"])){var _e=N1e(n.slice(w,m.index));b=(b.length>0?b+`
`:"")+_e[0]}else fr(m[0],!1),w=m.index+m[0].length;break;case"s":break;case"database-range":if(m[1]==="/")break;try{re=jS(fr(m[0])["target-range-address"]),h[re[0]]["!autofilter"]={ref:re[1]}}catch{}break;case"date":break;case"object":break;case"title":case"标题":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(m[1]!=="/"){if(U=fr(m[0],!1),!U.href)break;U.Target=Wr(U.href),delete U.href,U.Target.charAt(0)=="#"&&U.Target.indexOf(".")>-1?(re=jS(U.Target.slice(1)),U.Target="#"+re[0]+"!"+re[1]):U.Target.match(/^\.\.[\\\/]/)&&(U.Target=U.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(m[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case"表:":case"字:":break;default:if(r.WTF)throw new Error(m)}}var B={Sheets:h,SheetNames:d,Workbook:H};return r.bookSheets&&delete B.Sheets,B}function QD(e,t){t=t||{},lo(e,"META-INF/manifest.xml")&&qhe(da(e,"META-INF/manifest.xml"),t);var r=js(e,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=_q(An(r),t);return lo(e,"meta.xml")&&(n.Props=Lz(da(e,"meta.xml"))),n}function JD(e,t){return _q(e,t)}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function aC(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function ET(e){return typeof TextDecoder<"u"?new TextDecoder().decode(e):An(fd(e))}function kT(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function ZD(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),(e+(e>>4)&252645135)*16843009>>>24}function C1e(e,t){for(var r=(e[t+15]&127)<<7|e[t+14]>>1,n=e[t+14]&1,a=t+13;a>=t;--a)n=n*256+e[a];return(e[t+15]&128?-n:n)*Math.pow(10,r-6176)}function Uv(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function Oa(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function Ni(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=Uv(e,r),i=a&7;a=Math.floor(a/8);var s=0,o;if(a==0)break;switch(i){case 0:{for(var l=r[0];e[r[0]++]>=128;);o=e.slice(l,r[0])}break;case 5:s=4,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 1:s=8,o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 2:s=Uv(e,r),o=e.slice(r[0],r[0]+s),r[0]+=s;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var c={data:o,type:i};t[a]==null?t[a]=[c]:t[a].push(c)}return t}function iC(e,t){return(e==null?void 0:e.map(function(r){return t(r.data)}))||[]}function P1e(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=Uv(e,n),i=Ni(e.slice(n[0],n[0]+a));n[0]+=a;var s={id:Oa(i[1][0].data),messages:[]};i[2].forEach(function(o){var l=Ni(o.data),c=Oa(l[3][0].data);s.messages.push({meta:l,data:e.slice(n[0],n[0]+c)}),n[0]+=c}),(t=i[3])!=null&&t[0]&&(s.merge=Oa(i[3][0].data)>>>0>0),r.push(s)}return r}function O1e(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=Uv(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var s=t[r[0]++]>>2;if(s<60)++s;else{var o=s-59;s=t[r[0]],o>1&&(s|=t[r[0]+1]<<8),o>2&&(s|=t[r[0]+2]<<16),o>3&&(s|=t[r[0]+3]<<24),s>>>=0,s++,r[0]+=o}a.push(t.slice(r[0],r[0]+s)),r[0]+=s;continue}else{var l=0,c=0;if(i==1?(c=(t[r[0]]>>2&7)+4,l=(t[r[0]++]&224)<<3,l|=t[r[0]++]):(c=(t[r[0]++]>>2)+1,i==2?(l=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(l=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[kT(a)],l==0)throw new Error("Invalid offset 0");if(l>a[0].length)throw new Error("Invalid offset beyond length");if(c>=l)for(a.push(a[0].slice(-l)),c-=l;c>=a[a.length-1].length;)a.push(a[a.length-1]),c-=a[a.length-1].length;a.push(a[0].slice(-l,-l+c))}}var u=kT(a);if(u.length!=n)throw new Error("Unexpected length: ".concat(u.length," != ").concat(n));return u}function I1e(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(O1e(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return kT(t)}function D1e(e,t,r,n){var a=aC(e),i=a.getUint32(4,!0),s=(n>1?12:8)+ZD(i&(n>1?3470:398))*4,o=-1,l=-1,c=NaN,u=new Date(2001,0,1);i&512&&(o=a.getUint32(s,!0),s+=4),s+=ZD(i&(n>1?12288:4096))*4,i&16&&(l=a.getUint32(s,!0),s+=4),i&32&&(c=a.getFloat64(s,!0),s+=8),i&64&&(u.setTime(u.getTime()+a.getFloat64(s,!0)*1e3),s+=8);var f;switch(e[2]){case 0:break;case 2:f={t:"n",v:c};break;case 3:f={t:"s",v:t[l]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:t[l]};else if(!isNaN(c))f={t:"n",v:c};else throw new Error("Unsupported cell type ".concat(e.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(e.slice(0,4)))}return f}function j1e(e,t,r){var n=aC(e),a=n.getUint32(8,!0),i=12,s=-1,o=-1,l=NaN,c=NaN,u=new Date(2001,0,1);a&1&&(l=C1e(e,i),i+=16),a&2&&(c=n.getFloat64(i,!0),i+=8),a&4&&(u.setTime(u.getTime()+n.getFloat64(i,!0)*1e3),i+=8),a&8&&(o=n.getUint32(i,!0),i+=4),a&16&&(s=n.getUint32(i,!0),i+=4);var f;switch(e[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:t[o]};break;case 5:f={t:"d",v:u};break;case 6:f={t:"b",v:c>0};break;case 7:f={t:"n",v:c/86400};break;case 8:f={t:"e",v:0};break;case 9:if(s>-1)f={t:"s",v:r[s]};else throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(e[1]," : ").concat(a&31," : ").concat(e.slice(0,4)))}return f}function L1e(e,t,r){switch(e[0]){case 0:case 1:case 2:case 3:return D1e(e,t,r,e[0]);case 5:return j1e(e,t,r);default:throw new Error("Unsupported payload version ".concat(e[0]))}}function hf(e){var t=Ni(e);return Uv(t[1][0].data)}function ej(e,t){var r=Ni(t.data),n=Oa(r[1][0].data),a=r[3],i=[];return(a||[]).forEach(function(s){var o=Ni(s.data),l=Oa(o[1][0].data)>>>0;switch(n){case 1:i[l]=ET(o[3][0].data);break;case 8:{var c=e[hf(o[9][0].data)][0],u=Ni(c.data),f=e[hf(u[1][0].data)][0],h=Oa(f.meta[1][0].data);if(h!=2001)throw new Error("2000 unexpected reference to ".concat(h));var d=Ni(f.data);i[l]=d[3].map(function(g){return ET(g.data)}).join("")}break}}),i}function M1e(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g,m,v=Ni(e),y=Oa(v[1][0].data)>>>0,b=Oa(v[2][0].data)>>>0,w=((n=(r=v[8])==null?void 0:r[0])==null?void 0:n.data)&&Oa(v[8][0].data)>0||!1,O,P;if((i=(a=v[7])==null?void 0:a[0])!=null&&i.data&&t!=0)O=(o=(s=v[7])==null?void 0:s[0])==null?void 0:o.data,P=(c=(l=v[6])==null?void 0:l[0])==null?void 0:c.data;else if((f=(u=v[4])==null?void 0:u[0])!=null&&f.data&&t!=1)O=(d=(h=v[4])==null?void 0:h[0])==null?void 0:d.data,P=(m=(g=v[3])==null?void 0:g[0])==null?void 0:m.data;else throw"NUMBERS Tile missing ".concat(t," cell storage");for(var I=w?4:1,E=aC(O),S=[],A=0;A<O.length/2;++A){var D=E.getUint16(A*2,!0);D<65535&&S.push([A,D])}if(S.length!=b)throw"Expected ".concat(b," cells, found ").concat(S.length);var T=[];for(A=0;A<S.length-1;++A)T[S[A][0]]=P.subarray(S[A][1]*I,S[A+1][1]*I);return S.length>=1&&(T[S[S.length-1][0]]=P.subarray(S[S.length-1][1]*I)),{R:y,cells:T}}function R1e(e,t){var r,n=Ni(t.data),a=(r=n==null?void 0:n[7])!=null&&r[0]?Oa(n[7][0].data)>>>0>0?1:0:-1,i=iC(n[5],function(s){return M1e(s,a)});return{nrows:Oa(n[4][0].data)>>>0,data:i.reduce(function(s,o){return s[o.R]||(s[o.R]=[]),o.cells.forEach(function(l,c){if(s[o.R][c])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(c));s[o.R][c]=l}),s},[])}}function F1e(e,t,r){var n,a=Ni(t.data),i={s:{r:0,c:0},e:{r:0,c:0}};if(i.e.r=(Oa(a[6][0].data)>>>0)-1,i.e.r<0)throw new Error("Invalid row varint ".concat(a[6][0].data));if(i.e.c=(Oa(a[7][0].data)>>>0)-1,i.e.c<0)throw new Error("Invalid col varint ".concat(a[7][0].data));r["!ref"]=Vr(i);var s=Ni(a[4][0].data),o=ej(e,e[hf(s[4][0].data)][0]),l=(n=s[17])!=null&&n[0]?ej(e,e[hf(s[17][0].data)][0]):[],c=Ni(s[3][0].data),u=0;c[1].forEach(function(f){var h=Ni(f.data),d=e[hf(h[2][0].data)][0],g=Oa(d.meta[1][0].data);if(g!=6002)throw new Error("6001 unexpected reference to ".concat(g));var m=R1e(e,d);m.data.forEach(function(v,y){v.forEach(function(b,w){var O=yr({r:u+y,c:w}),P=L1e(b,o,l);P&&(r[O]=P)})}),u+=m.nrows})}function $1e(e,t){var r=Ni(t.data),n={"!ref":"A1"},a=e[hf(r[2][0].data)],i=Oa(a[0].meta[1][0].data);if(i!=6001)throw new Error("6000 unexpected reference to ".concat(i));return F1e(e,a[0],n),n}function B1e(e,t){var r,n=Ni(t.data),a={name:(r=n[1])!=null&&r[0]?ET(n[1][0].data):"",sheets:[]},i=iC(n[2],hf);return i.forEach(function(s){e[s].forEach(function(o){var l=Oa(o.meta[1][0].data);l==6e3&&a.sheets.push($1e(e,o))})}),a}function V1e(e,t){var r=lC(),n=Ni(t.data),a=iC(n[1],hf);if(a.forEach(function(i){e[i].forEach(function(s){var o=Oa(s.meta[1][0].data);if(o==2){var l=B1e(e,s);l.sheets.forEach(function(c,u){cC(r,c,u==0?l.name:l.name+"_"+u,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function MS(e){var t,r,n,a,i={},s=[];if(e.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),e.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var c;try{c=I1e(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var u;try{u=P1e(c)}catch(f){return console.log("## "+(f.message||f))}u.forEach(function(f){i[f.id]=f.messages,s.push(f.id)})}}),!s.length)throw new Error("File has no messages");var o=((a=(n=(r=(t=i==null?void 0:i[1])==null?void 0:t[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:a[0].data)&&Oa(i[1][0].meta[1][0].data)==1&&i[1][0];if(o||s.forEach(function(l){i[l].forEach(function(c){var u=Oa(c.meta[1][0].data)>>>0;if(u==1)if(!o)o=c;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return V1e(i,o)}function U1e(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function sC(e){U1e([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(e)}function z1e(e){return b0.WS.indexOf(e)>-1?"sheet":e==b0.CS?"chart":e==b0.DS?"dialog":e==b0.MS?"macro":e&&e.length?e:"sheet"}function q1e(e,t){if(!e)return 0;try{e=t.map(function(n){return n.id||(n.id=n.strRelID),[n.name,e["!id"][n.id].Target,z1e(e["!id"][n.id].Type)]})}catch{return null}return!e||e.length===0?null:e}function W1e(e,t,r,n,a,i,s,o,l,c,u,f){try{i[n]=Mg(js(e,r,!0),t);var h=da(e,t),d;switch(o){case"sheet":d=Qve(h,t,a,l,i[n],c,u,f);break;case"chart":if(d=Jve(h,t,a,l,i[n],c,u,f),!d||!d["!drawel"])break;var g=ug(d["!drawel"].Target,t),m=wT(g),v=Xpe(js(e,g,!0),Mg(js(e,m,!0),g)),y=ug(v,g),b=wT(y);d=jve(js(e,y,!0),y,l,Mg(js(e,b,!0),y),c,d);break;case"macro":d=Zve(h,t,a,l,i[n],c,u,f);break;case"dialog":d=e1e(h,t,a,l,i[n],c,u,f);break;default:throw new Error("Unrecognized sheet type "+o)}s[n]=d;var w=[];i&&i[n]&&Ul(i[n]).forEach(function(O){var P="";if(i[n][O].Type==b0.CMNT){P=ug(i[n][O].Target,t);var I=a1e(da(e,P,!0),P,l);if(!I||!I.length)return;$D(d,I,!1)}i[n][O].Type==b0.TCMNT&&(P=ug(i[n][O].Target,t),w=w.concat(Jpe(da(e,P,!0),l)))}),w&&w.length&&$D(d,w,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function ro(e){return e.charAt(0)=="/"?e.slice(1):e}function H1e(e,t){if(sz(),t=t||{},sC(t),lo(e,"META-INF/manifest.xml")||lo(e,"objectdata.xml"))return QD(e,t);if(lo(e,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof MS<"u"){if(e.FileIndex)return MS(e);var r=$r.utils.cfb_new();return hD(e).forEach(function(V){Gfe(r,V,Hfe(e,V))}),MS(r)}throw new Error("Unsupported NUMBERS file")}if(!lo(e,"[Content_Types].xml"))throw lo(e,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):lo(e,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=hD(e),a=Uhe(js(e,"[Content_Types].xml")),i=!1,s,o;if(a.workbooks.length===0&&(o="xl/workbook.xml",da(e,o,!0)&&a.workbooks.push(o)),a.workbooks.length===0){if(o="xl/workbook.bin",!da(e,o,!0))throw new Error("Could not find workbook");a.workbooks.push(o),i=!0}a.workbooks[0].slice(-3)=="bin"&&(i=!0);var l={},c={};if(!t.bookSheets&&!t.bookProps){if($g=[],a.sst)try{$g=n1e(da(e,ro(a.sst)),a.sst,t)}catch(V){if(t.WTF)throw V}t.cellStyles&&a.themes.length&&(l=r1e(js(e,a.themes[0].replace(/^\//,""),!0)||"",a.themes[0],t)),a.style&&(c=t1e(da(e,ro(a.style)),a.style,l,t))}a.links.map(function(V){try{var Q=Mg(js(e,wT(ro(V))),V);return s1e(da(e,ro(V)),Q,V,t)}catch{}});var u=Xve(da(e,ro(a.workbooks[0])),a.workbooks[0],t),f={},h="";a.coreprops.length&&(h=da(e,ro(a.coreprops[0]),!0),h&&(f=Lz(h)),a.extprops.length!==0&&(h=da(e,ro(a.extprops[0]),!0),h&&Ghe(h,f,t)));var d={};(!t.bookSheets||t.bookProps)&&a.custprops.length!==0&&(h=js(e,ro(a.custprops[0]),!0),h&&(d=Yhe(h,t)));var g={};if((t.bookSheets||t.bookProps)&&(u.Sheets?s=u.Sheets.map(function(Q){return Q.name}):f.Worksheets&&f.SheetNames.length>0&&(s=f.SheetNames),t.bookProps&&(g.Props=f,g.Custprops=d),t.bookSheets&&typeof s<"u"&&(g.SheetNames=s),t.bookSheets?g.SheetNames:t.bookProps))return g;s={};var m={};t.bookDeps&&a.calcchain&&(m=i1e(da(e,ro(a.calcchain)),a.calcchain));var v=0,y={},b,w;{var O=u.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var P=0;P!=O.length;++P)f.SheetNames[P]=O[P].name}var I=i?"bin":"xml",E=a.workbooks[0].lastIndexOf("/"),S=(a.workbooks[0].slice(0,E+1)+"_rels/"+a.workbooks[0].slice(E+1)+".rels").replace(/^\//,"");lo(e,S)||(S="xl/_rels/workbook."+I+".rels");var A=Mg(js(e,S,!0),S.replace(/_rels.*/,"s5s"));(a.metadata||[]).length>=1&&(t.xlmeta=o1e(da(e,ro(a.metadata[0])),a.metadata[0],t)),(a.people||[]).length>=1&&(t.people=Zpe(da(e,ro(a.people[0])),t)),A&&(A=q1e(A,u.Sheets));var D=da(e,"xl/worksheets/sheet.xml",!0)?1:0;e:for(v=0;v!=f.Worksheets;++v){var T="sheet";if(A&&A[v]?(b="xl/"+A[v][1].replace(/[\/]?xl\//,""),lo(e,b)||(b=A[v][1]),lo(e,b)||(b=S.replace(/_rels\/.*$/,"")+A[v][1]),T=A[v][2]):(b="xl/worksheets/sheet"+(v+1-D)+"."+I,b=b.replace(/sheet0\./,"sheet.")),w=b.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),t&&t.sheets!=null)switch(typeof t.sheets){case"number":if(v!=t.sheets)continue e;break;case"string":if(f.SheetNames[v].toLowerCase()!=t.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(t.sheets)){for(var k=!1,j=0;j!=t.sheets.length;++j)typeof t.sheets[j]=="number"&&t.sheets[j]==v&&(k=1),typeof t.sheets[j]=="string"&&t.sheets[j].toLowerCase()==f.SheetNames[v].toLowerCase()&&(k=1);if(!k)continue e}}W1e(e,b,w,f.SheetNames[v],v,y,s,T,t,u,l,c)}return g={Directory:a,Workbook:u,Props:f,Custprops:d,Deps:m,Sheets:s,SheetNames:f.SheetNames,Strings:$g,Styles:c,Themes:l,SSF:ii(_r)},t&&t.bookFiles&&(e.files?(g.keys=n,g.files=e.files):(g.keys=[],g.files={},e.FullPaths.forEach(function(V,Q){V=V.replace(/^Root Entry[\/]/,""),g.keys.push(V),g.files[V]=e.FileIndex[Q]}))),t&&t.bookVBA&&(a.vba.length>0?g.vbaraw=da(e,ro(a.vba[0]),!0):a.defaults&&a.defaults.bin===nme&&(g.vbaraw=da(e,"xl/vbaProject.bin",!0))),g}function G1e(e,t){var r=t||{},n="Workbook",a=$r.find(e,n);try{if(n="/!DataSpaces/Version",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if($0e(a.content),n="/!DataSpaces/DataSpaceMap",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var i=V0e(a.content);if(i.length!==1||i[0].comps.length!==1||i[0].comps[0].t!==0||i[0].name!=="StrongEncryptionDataSpace"||i[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=U0e(a.content);if(s.length!=1||s[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);q0e(a.content)}catch{}if(n="/EncryptionInfo",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=W0e(a.content);if(n="/EncryptedPackage",a=$r.find(e,n),!a||!a.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],a.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],a.content,r.password||"",r);throw new Error("File is password-protected")}function oC(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=zs(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function K1e(e,t){return $r.find(e,"EncryptedPackage")?G1e(e,t):xq(e,t)}function Y1e(e,t){var r,n=e,a=t||{};return a.type||(a.type=Dr&&Buffer.isBuffer(e)?"buffer":"base64"),r=hz(n,a),H1e(r,a)}function Sq(e,t){var r=0;e:for(;r<e.length;)switch(e.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return AT(e.slice(r),t);default:break e}return $v.to_workbook(e,t)}function X1e(e,t){var r="",n=oC(e,t);switch(t.type){case"base64":r=zs(e);break;case"binary":r=e;break;case"buffer":r=e.toString("binary");break;case"array":r=Jh(e);break;default:throw new Error("Unrecognized type "+t.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=An(r)),t.type="binary",Sq(r,t)}function Q1e(e,t){var r=e;return t.type=="base64"&&(r=zs(r)),r=Bu.utils.decode(1200,r.slice(2),"str"),t.type="binary",Sq(r,t)}function J1e(e){return e.match(/[^\x00-\x7F]/)?fg(e):e}function RS(e,t,r,n){return n?(r.type="string",$v.to_workbook(e,r)):$v.to_workbook(t,r)}function NT(e,t){KU();var r=t||{};if(typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer)return NT(new Uint8Array(e),(r=ii(r),r.type="array",r));typeof Uint8Array<"u"&&e instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=e,a=[0,0,0,0],i=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),L0={},r.dateNF&&(L0.dateNF=r.dateNF),r.type||(r.type=Dr&&Buffer.isBuffer(e)?"buffer":"base64"),r.type=="file"&&(r.type=Dr?"buffer":"binary",n=$fe(e),typeof Uint8Array<"u"&&!Dr&&(r.type="array")),r.type=="string"&&(i=!0,r.type="binary",r.codepage=65001,n=J1e(e)),r.type=="array"&&typeof Uint8Array<"u"&&e instanceof Uint8Array&&typeof ArrayBuffer<"u"){var s=new ArrayBuffer(3),o=new Uint8Array(s);if(o.foo="bar",!o.foo)return r=ii(r),r.type="array",NT($N(n),r)}switch((a=oC(n,r))[0]){case 208:if(a[1]===207&&a[2]===17&&a[3]===224&&a[4]===161&&a[5]===177&&a[6]===26&&a[7]===225)return K1e($r.read(n,r),r);break;case 9:if(a[1]<=8)return xq(n,r);break;case 60:return AT(n,r);case 73:if(a[1]===73&&a[2]===42&&a[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(a[1]===68)return E0e(n,r);break;case 84:if(a[1]===65&&a[2]===66&&a[3]===76)return A0e.to_workbook(n,r);break;case 80:return a[1]===75&&a[2]<9&&a[3]<9?Y1e(n,r):RS(e,n,r,i);case 239:return a[3]===60?AT(n,r):RS(e,n,r,i);case 255:if(a[1]===254)return Q1e(n,r);if(a[1]===0&&a[2]===2&&a[3]===0)return Fg.to_workbook(n,r);break;case 0:if(a[1]===0&&(a[2]>=2&&a[3]===0||a[2]===0&&(a[3]===8||a[3]===9)))return Fg.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return FD.to_workbook(n,r);case 123:if(a[1]===92&&a[2]===114&&a[3]===116)return npe.to_workbook(n,r);break;case 10:case 13:case 32:return X1e(n,r);case 137:if(a[1]===80&&a[2]===78&&a[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return _0e.indexOf(a[0])>-1&&a[2]<=12&&a[3]<=31?FD.to_workbook(n,r):RS(e,n,r,i)}function Z1e(e,t,r,n,a,i,s,o){var l=si(r),c=o.defval,u=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,h=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:r,enumerable:!1})}catch{h.__rowNum__=r}else h.__rowNum__=r;if(!s||e[r])for(var d=t.s.c;d<=t.e.c;++d){var g=s?e[r][d]:e[n[d]+l];if(g===void 0||g.t===void 0){if(c===void 0)continue;i[d]!=null&&(h[i[d]]=c);continue}var m=g.v;switch(g.t){case"z":if(m==null)break;continue;case"e":m=m==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+g.t)}if(i[d]!=null){if(m==null)if(g.t=="e"&&m===null)h[i[d]]=null;else if(c!==void 0)h[i[d]]=c;else if(u&&m===null)h[i[d]]=null;else continue;else h[i[d]]=u&&(g.t!=="n"||g.t==="n"&&o.rawNumbers!==!1)?m:$c(g,m,o);m!=null&&(f=!1)}}return{row:h,isempty:f}}function CT(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],s=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},u=c.range!=null?c.range:e["!ref"];switch(c.header===1?n=1:c.header==="A"?n=2:Array.isArray(c.header)?n=3:c.header==null&&(n=0),typeof u){case"string":l=Jn(u);break;case"number":l=Jn(e["!ref"]),l.s.r=u;break;default:l=u}n>0&&(a=0);var f=si(l.s.r),h=[],d=[],g=0,m=0,v=Array.isArray(e),y=l.s.r,b=0,w={};v&&!e[y]&&(e[y]=[]);var O=c.skipHidden&&e["!cols"]||[],P=c.skipHidden&&e["!rows"]||[];for(b=l.s.c;b<=l.e.c;++b)if(!(O[b]||{}).hidden)switch(h[b]=Na(b),r=v?e[y][b]:e[h[b]+f],n){case 1:i[b]=b-l.s.c;break;case 2:i[b]=h[b];break;case 3:i[b]=c.header[b-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=s=$c(r,null,c),m=w[s]||0,!m)w[s]=1;else{do o=s+"_"+m++;while(w[o]);w[s]=m,w[o]=1}i[b]=o}for(y=l.s.r+a;y<=l.e.r;++y)if(!(P[y]||{}).hidden){var I=Z1e(e,l,y,h,n,i,v,c);(I.isempty===!1||(n===1?c.blankrows!==!1:c.blankrows))&&(d[g++]=I.row)}return d.length=g,d}var tj=/"/g;function eye(e,t,r,n,a,i,s,o){for(var l=!0,c=[],u="",f=si(r),h=t.s.c;h<=t.e.c;++h)if(n[h]){var d=o.dense?(e[r]||[])[h]:e[n[h]+f];if(d==null)u="";else if(d.v!=null){l=!1,u=""+(o.rawNumbers&&d.t=="n"?d.v:$c(d,null,o));for(var g=0,m=0;g!==u.length;++g)if((m=u.charCodeAt(g))===a||m===i||m===34||o.forceQuotes){u='"'+u.replace(tj,'""')+'"';break}u=="ID"&&(u='"ID"')}else d.f!=null&&!d.F?(l=!1,u="="+d.f,u.indexOf(",")>=0&&(u='"'+u.replace(tj,'""')+'"')):u="";c.push(u)}return o.blankrows===!1&&l?null:c.join(s)}function Aq(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=Jn(e["!ref"]),i=n.FS!==void 0?n.FS:",",s=i.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),c=new RegExp((i=="|"?"\\|":i)+"+$"),u="",f=[];n.dense=Array.isArray(e);for(var h=n.skipHidden&&e["!cols"]||[],d=n.skipHidden&&e["!rows"]||[],g=a.s.c;g<=a.e.c;++g)(h[g]||{}).hidden||(f[g]=Na(g));for(var m=0,v=a.s.r;v<=a.e.r;++v)(d[v]||{}).hidden||(u=eye(e,a,v,f,s,l,i,n),u!=null&&(n.strip&&(u=u.replace(c,"")),(u||n.blankrows!==!1)&&r.push((m++?o:"")+u)));return delete n.dense,r.join("")}function tye(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=Aq(e,t);return r}function rye(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=Jn(e["!ref"]),i="",s=[],o,l=[],c=Array.isArray(e);for(o=a.s.c;o<=a.e.c;++o)s[o]=Na(o);for(var u=a.s.r;u<=a.e.r;++u)for(i=si(u),o=a.s.c;o<=a.e.c;++o)if(t=s[o]+i,r=c?(e[u]||[])[o]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=t+"="+n}return l}function Tq(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},s=0,o=0;if(i&&n.origin!=null)if(typeof n.origin=="number")s=n.origin;else{var l=typeof n.origin=="string"?qi(n.origin):n.origin;s=l.r,o=l.c}var c,u={s:{c:0,r:0},e:{c:o,r:s+t.length-1+a}};if(i["!ref"]){var f=Jn(i["!ref"]);u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),s==-1&&(s=f.e.r+1,u.e.r=s+t.length-1+a)}else s==-1&&(s=0,u.e.r=t.length-1+a);var h=n.header||[],d=0;t.forEach(function(m,v){Ul(m).forEach(function(y){(d=h.indexOf(y))==-1&&(h[d=h.length]=y);var b=m[y],w="z",O="",P=yr({c:o+d,r:s+v+a});c=zv(i,P),b&&typeof b=="object"&&!(b instanceof Date)?i[P]=b:(typeof b=="number"?w="n":typeof b=="boolean"?w="b":typeof b=="string"?w="s":b instanceof Date?(w="d",n.cellDates||(w="n",b=Qi(b)),O=n.dateNF||_r[14]):b===null&&n.nullError&&(w="e",b=0),c?(c.t=w,c.v=b,delete c.w,delete c.R,O&&(c.z=O)):i[P]=c={t:w,v:b},O&&(c.z=O))})}),u.e.c=Math.max(u.e.c,o+h.length-1);var g=si(s);if(a)for(d=0;d<h.length;++d)i[Na(d+o)+g]={t:"s",v:h[d]};return i["!ref"]=Vr(u),i}function nye(e,t){return Tq(null,e,t)}function zv(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=qi(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?zv(e,yr(t)):zv(e,yr({r:t,c:r||0}))}function aye(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function lC(){return{SheetNames:[],Sheets:{}}}function cC(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var s=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=s+a)!=-1;++a);}if(Uve(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function iye(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=aye(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function sye(e,t){return e.z=t,e}function Eq(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function oye(e,t,r){return Eq(e,"#"+t,r)}function lye(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function cye(e,t,r,n){for(var a=typeof t!="string"?t:Jn(t),i=typeof t=="string"?t:Vr(t),s=a.s.r;s<=a.e.r;++s)for(var o=a.s.c;o<=a.e.c;++o){var l=zv(e,s,o);l.t="n",l.F=i,delete l.v,s==a.s.r&&o==a.s.c&&(l.f=r,n&&(l.D=!0))}return e}var uye={encode_col:Na,encode_row:si,encode_cell:yr,encode_range:Vr,decode_col:KN,decode_row:GN,split_cell:whe,decode_cell:qi,decode_range:Xp,format_cell:$c,sheet_add_aoa:Pz,sheet_add_json:Tq,sheet_add_dom:bq,aoa_to_sheet:Qp,json_to_sheet:nye,table_to_sheet:wq,table_to_book:E1e,sheet_to_csv:Aq,sheet_to_txt:tye,sheet_to_json:CT,sheet_to_html:T1e,sheet_to_formulae:rye,sheet_to_row_object_array:CT,sheet_get_cell:zv,book_new:lC,book_append_sheet:cC,book_set_sheet_visibility:iye,cell_set_number_format:sye,cell_set_hyperlink:Eq,cell_set_internal_link:oye,cell_add_comment:lye,sheet_set_array_formula:cye,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}},kq={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/(function(e,t){((r,n)=>{e.exports=n()})(Qm,function r(){var n=typeof self<"u"?self:typeof window<"u"?window:n!==void 0?n:{},a,i=!n.document&&!!n.postMessage,s=n.IS_PAPA_WORKER||!1,o={},l=0,c={};function u(S){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(A){var D=P(A);D.chunkSize=parseInt(D.chunkSize),A.step||A.chunk||(D.chunkSize=null),this._handle=new m(D),(this._handle.streamer=this)._config=D}).call(this,S),this.parseChunk=function(A,D){var T=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<T){let j=this._config.newline;j||(k=this._config.quoteChar||'"',j=this._handle.guessLineEndings(A,k)),A=[...A.split(j).slice(T)].join(j)}this.isFirstChunk&&E(this._config.beforeFirstChunk)&&(k=this._config.beforeFirstChunk(A))!==void 0&&(A=k),this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+A,k=(this._partialLine="",this._handle.parse(T,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(A=k.meta.cursor,T=(this._finished||(this._partialLine=T.substring(A-this._baseIndex),this._baseIndex=A),k&&k.data&&(this._rowCount+=k.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),s)n.postMessage({results:k,workerId:c.WORKER_ID,finished:T});else if(E(this._config.chunk)&&!D){if(this._config.chunk(k,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=k=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(k.data),this._completeResults.errors=this._completeResults.errors.concat(k.errors),this._completeResults.meta=k.meta),this._completed||!T||!E(this._config.complete)||k&&k.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),T||k&&k.meta.paused||this._nextChunk(),k}this._halted=!0},this._sendError=function(A){E(this._config.error)?this._config.error(A):s&&this._config.error&&n.postMessage({workerId:c.WORKER_ID,error:A,finished:!1})}}function f(S){var A;(S=S||{}).chunkSize||(S.chunkSize=c.RemoteChunkSize),u.call(this,S),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(D){this._input=D,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(A=new XMLHttpRequest,this._config.withCredentials&&(A.withCredentials=this._config.withCredentials),i||(A.onload=I(this._chunkLoaded,this),A.onerror=I(this._chunkError,this)),A.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var D,T=this._config.downloadRequestHeaders;for(D in T)A.setRequestHeader(D,T[D])}var k;this._config.chunkSize&&(k=this._start+this._config.chunkSize-1,A.setRequestHeader("Range","bytes="+this._start+"-"+k));try{A.send(this._config.downloadRequestBody)}catch(j){this._chunkError(j.message)}i&&A.status===0&&this._chunkError()}},this._chunkLoaded=function(){A.readyState===4&&(A.status<200||400<=A.status?this._chunkError():(this._start+=this._config.chunkSize||A.responseText.length,this._finished=!this._config.chunkSize||this._start>=(D=>(D=D.getResponseHeader("Content-Range"))!==null?parseInt(D.substring(D.lastIndexOf("/")+1)):-1)(A),this.parseChunk(A.responseText)))},this._chunkError=function(D){D=A.statusText||D,this._sendError(new Error(D))}}function h(S){(S=S||{}).chunkSize||(S.chunkSize=c.LocalChunkSize),u.call(this,S);var A,D,T=typeof FileReader<"u";this.stream=function(k){this._input=k,D=k.slice||k.webkitSlice||k.mozSlice,T?((A=new FileReader).onload=I(this._chunkLoaded,this),A.onerror=I(this._chunkError,this)):A=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var k=this._input,j=(this._config.chunkSize&&(j=Math.min(this._start+this._config.chunkSize,this._input.size),k=D.call(k,this._start,j)),A.readAsText(k,this._config.encoding));T||this._chunkLoaded({target:{result:j}})},this._chunkLoaded=function(k){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(k.target.result)},this._chunkError=function(){this._sendError(A.error)}}function d(S){var A;u.call(this,S=S||{}),this.stream=function(D){return A=D,this._nextChunk()},this._nextChunk=function(){var D,T;if(!this._finished)return D=this._config.chunkSize,A=D?(T=A.substring(0,D),A.substring(D)):(T=A,""),this._finished=!A,this.parseChunk(T)}}function g(S){u.call(this,S=S||{});var A=[],D=!0,T=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(k){this._input=k,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){T&&A.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),A.length?this.parseChunk(A.shift()):D=!0},this._streamData=I(function(k){try{A.push(typeof k=="string"?k:k.toString(this._config.encoding)),D&&(D=!1,this._checkIsFinished(),this.parseChunk(A.shift()))}catch(j){this._streamError(j)}},this),this._streamError=I(function(k){this._streamCleanUp(),this._sendError(k)},this),this._streamEnd=I(function(){this._streamCleanUp(),T=!0,this._streamData("")},this),this._streamCleanUp=I(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function m(S){var A,D,T,k,j=Math.pow(2,53),V=-j,Q=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,J=this,H=0,U=0,re=!1,z=!1,C=[],F={data:[],errors:[],meta:{}};function q(fe){return S.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function K(){if(F&&T&&(oe("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),T=!1),S.skipEmptyLines&&(F.data=F.data.filter(function(_e){return!q(_e)})),Z()){let _e=function(B,Te){E(S.transformHeader)&&(B=S.transformHeader(B,Te)),C.push(B)};if(F)if(Array.isArray(F.data[0])){for(var fe=0;Z()&&fe<F.data.length;fe++)F.data[fe].forEach(_e);F.data.splice(0,1)}else F.data.forEach(_e)}function ie(_e,B){for(var Te=S.header?{}:[],ge=0;ge<_e.length;ge++){var ve=ge,te=_e[ge],te=((ke,$e)=>(Fe=>(S.dynamicTypingFunction&&S.dynamicTyping[Fe]===void 0&&(S.dynamicTyping[Fe]=S.dynamicTypingFunction(Fe)),(S.dynamicTyping[Fe]||S.dynamicTyping)===!0))(ke)?$e==="true"||$e==="TRUE"||$e!=="false"&&$e!=="FALSE"&&((Fe=>{if(Q.test(Fe)&&(Fe=parseFloat(Fe),V<Fe&&Fe<j))return 1})($e)?parseFloat($e):Y.test($e)?new Date($e):$e===""?null:$e):$e)(ve=S.header?ge>=C.length?"__parsed_extra":C[ge]:ve,te=S.transform?S.transform(te,ve):te);ve==="__parsed_extra"?(Te[ve]=Te[ve]||[],Te[ve].push(te)):Te[ve]=te}return S.header&&(ge>C.length?oe("FieldMismatch","TooManyFields","Too many fields: expected "+C.length+" fields but parsed "+ge,U+B):ge<C.length&&oe("FieldMismatch","TooFewFields","Too few fields: expected "+C.length+" fields but parsed "+ge,U+B)),Te}var de;F&&(S.header||S.dynamicTyping||S.transform)&&(de=1,!F.data.length||Array.isArray(F.data[0])?(F.data=F.data.map(ie),de=F.data.length):F.data=ie(F.data,0),S.header&&F.meta&&(F.meta.fields=C),U+=de)}function Z(){return S.header&&C.length===0}function oe(fe,ie,de,_e){fe={type:fe,code:ie,message:de},_e!==void 0&&(fe.row=_e),F.errors.push(fe)}E(S.step)&&(k=S.step,S.step=function(fe){F=fe,Z()?K():(K(),F.data.length!==0&&(H+=fe.data.length,S.preview&&H>S.preview?D.abort():(F.data=F.data[0],k(F,J))))}),this.parse=function(fe,ie,de){var _e=S.quoteChar||'"',_e=(S.newline||(S.newline=this.guessLineEndings(fe,_e)),T=!1,S.delimiter?E(S.delimiter)&&(S.delimiter=S.delimiter(fe),F.meta.delimiter=S.delimiter):((_e=((B,Te,ge,ve,te)=>{var ke,$e,Fe,Qe;te=te||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Le=0;Le<te.length;Le++){for(var Ge,Me=te[Le],Ye=0,mt=0,at=0,gt=(Fe=void 0,new y({comments:ve,delimiter:Me,newline:Te,preview:10}).parse(B)),At=0;At<gt.data.length;At++)ge&&q(gt.data[At])?at++:(Ge=gt.data[At].length,mt+=Ge,Fe===void 0?Fe=Ge:0<Ge&&(Ye+=Math.abs(Ge-Fe),Fe=Ge));0<gt.data.length&&(mt/=gt.data.length-at),($e===void 0||Ye<=$e)&&(Qe===void 0||Qe<mt)&&1.99<mt&&($e=Ye,ke=Me,Qe=mt)}return{successful:!!(S.delimiter=ke),bestDelimiter:ke}})(fe,S.newline,S.skipEmptyLines,S.comments,S.delimitersToGuess)).successful?S.delimiter=_e.bestDelimiter:(T=!0,S.delimiter=c.DefaultDelimiter),F.meta.delimiter=S.delimiter),P(S));return S.preview&&S.header&&_e.preview++,A=fe,D=new y(_e),F=D.parse(A,ie,de),K(),re?{meta:{paused:!0}}:F||{meta:{paused:!1}}},this.paused=function(){return re},this.pause=function(){re=!0,D.abort(),A=E(S.chunk)?"":A.substring(D.getCharIndex())},this.resume=function(){J.streamer._halted?(re=!1,J.streamer.parseChunk(A,!0)):setTimeout(J.resume,3)},this.aborted=function(){return z},this.abort=function(){z=!0,D.abort(),F.meta.aborted=!0,E(S.complete)&&S.complete(F),A=""},this.guessLineEndings=function(B,_e){B=B.substring(0,1048576);var _e=new RegExp(v(_e)+"([^]*?)"+v(_e),"gm"),de=(B=B.replace(_e,"")).split("\r"),_e=B.split(`
`),B=1<_e.length&&_e[0].length<de[0].length;if(de.length===1||B)return`
`;for(var Te=0,ge=0;ge<de.length;ge++)de[ge][0]===`
`&&Te++;return Te>=de.length/2?`\r
`:"\r"}}function v(S){return S.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(S){var A=(S=S||{}).delimiter,D=S.newline,T=S.comments,k=S.step,j=S.preview,V=S.fastMode,Q=null,Y=!1,J=S.quoteChar==null?'"':S.quoteChar,H=J;if(S.escapeChar!==void 0&&(H=S.escapeChar),(typeof A!="string"||-1<c.BAD_DELIMITERS.indexOf(A))&&(A=","),T===A)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<c.BAD_DELIMITERS.indexOf(T))&&(T=!1),D!==`
`&&D!=="\r"&&D!==`\r
`&&(D=`
`);var U=0,re=!1;this.parse=function(z,C,F){if(typeof z!="string")throw new Error("Input must be a string");var q=z.length,K=A.length,Z=D.length,oe=T.length,fe=E(k),ie=[],de=[],_e=[],B=U=0;if(!z)return Ye();if(V||V!==!1&&z.indexOf(J)===-1){for(var Te=z.split(D),ge=0;ge<Te.length;ge++){if(_e=Te[ge],U+=_e.length,ge!==Te.length-1)U+=D.length;else if(F)return Ye();if(!T||_e.substring(0,oe)!==T){if(fe){if(ie=[],Qe(_e.split(A)),mt(),re)return Ye()}else Qe(_e.split(A));if(j&&j<=ge)return ie=ie.slice(0,j),Ye(!0)}}return Ye()}for(var ve=z.indexOf(A,U),te=z.indexOf(D,U),ke=new RegExp(v(H)+v(J),"g"),$e=z.indexOf(J,U);;)if(z[U]===J)for($e=U,U++;;){if(($e=z.indexOf(J,$e+1))===-1)return F||de.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ie.length,index:U}),Ge();if($e===q-1)return Ge(z.substring(U,$e).replace(ke,J));if(J===H&&z[$e+1]===H)$e++;else if(J===H||$e===0||z[$e-1]!==H){ve!==-1&&ve<$e+1&&(ve=z.indexOf(A,$e+1));var Fe=Le((te=te!==-1&&te<$e+1?z.indexOf(D,$e+1):te)===-1?ve:Math.min(ve,te));if(z.substr($e+1+Fe,K)===A){_e.push(z.substring(U,$e).replace(ke,J)),z[U=$e+1+Fe+K]!==J&&($e=z.indexOf(J,U)),ve=z.indexOf(A,U),te=z.indexOf(D,U);break}if(Fe=Le(te),z.substring($e+1+Fe,$e+1+Fe+Z)===D){if(_e.push(z.substring(U,$e).replace(ke,J)),Me($e+1+Fe+Z),ve=z.indexOf(A,U),$e=z.indexOf(J,U),fe&&(mt(),re))return Ye();if(j&&ie.length>=j)return Ye(!0);break}de.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ie.length,index:U}),$e++}}else if(T&&_e.length===0&&z.substring(U,U+oe)===T){if(te===-1)return Ye();U=te+Z,te=z.indexOf(D,U),ve=z.indexOf(A,U)}else if(ve!==-1&&(ve<te||te===-1))_e.push(z.substring(U,ve)),U=ve+K,ve=z.indexOf(A,U);else{if(te===-1)break;if(_e.push(z.substring(U,te)),Me(te+Z),fe&&(mt(),re))return Ye();if(j&&ie.length>=j)return Ye(!0)}return Ge();function Qe(at){ie.push(at),B=U}function Le(at){var gt=0;return gt=at!==-1&&(at=z.substring($e+1,at))&&at.trim()===""?at.length:gt}function Ge(at){return F||(at===void 0&&(at=z.substring(U)),_e.push(at),U=q,Qe(_e),fe&&mt()),Ye()}function Me(at){U=at,Qe(_e),_e=[],te=z.indexOf(D,U)}function Ye(at){if(S.header&&!C&&ie.length&&!Y){var gt=ie[0],At=Object.create(null),Pt=new Set(gt);let ft=!1;for(let rt=0;rt<gt.length;rt++){let Kt=gt[rt];if(At[Kt=E(S.transformHeader)?S.transformHeader(Kt,rt):Kt]){let Vt,Ur=At[Kt];for(;Vt=Kt+"_"+Ur,Ur++,Pt.has(Vt););Pt.add(Vt),gt[rt]=Vt,At[Kt]++,ft=!0,(Q=Q===null?{}:Q)[Vt]=Kt}else At[Kt]=1,gt[rt]=Kt;Pt.add(Kt)}ft&&console.warn("Duplicate headers found and renamed."),Y=!0}return{data:ie,errors:de,meta:{delimiter:A,linebreak:D,aborted:re,truncated:!!at,cursor:B+(C||0),renamedHeaders:Q}}}function mt(){k(Ye()),ie=[],de=[]}},this.abort=function(){re=!0},this.getCharIndex=function(){return U}}function b(S){var A=S.data,D=o[A.workerId],T=!1;if(A.error)D.userError(A.error,A.file);else if(A.results&&A.results.data){var k={abort:function(){T=!0,w(A.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(E(D.userStep)){for(var j=0;j<A.results.data.length&&(D.userStep({data:A.results.data[j],errors:A.results.errors,meta:A.results.meta},k),!T);j++);delete A.results}else E(D.userChunk)&&(D.userChunk(A.results,k,A.file),delete A.results)}A.finished&&!T&&w(A.workerId,A.results)}function w(S,A){var D=o[S];E(D.userComplete)&&D.userComplete(A),D.terminate(),delete o[S]}function O(){throw new Error("Not implemented.")}function P(S){if(typeof S!="object"||S===null)return S;var A,D=Array.isArray(S)?[]:{};for(A in S)D[A]=P(S[A]);return D}function I(S,A){return function(){S.apply(A,arguments)}}function E(S){return typeof S=="function"}return c.parse=function(S,A){var D=(A=A||{}).dynamicTyping||!1;if(E(D)&&(A.dynamicTypingFunction=D,D={}),A.dynamicTyping=D,A.transform=!!E(A.transform)&&A.transform,!A.worker||!c.WORKERS_SUPPORTED)return D=null,c.NODE_STREAM_INPUT,typeof S=="string"?(S=(T=>T.charCodeAt(0)!==65279?T:T.slice(1))(S),D=new(A.download?f:d)(A)):S.readable===!0&&E(S.read)&&E(S.on)?D=new g(A):(n.File&&S instanceof File||S instanceof Object)&&(D=new h(A)),D.stream(S);(D=(()=>{var T;return!!c.WORKERS_SUPPORTED&&(T=(()=>{var k=n.URL||n.webkitURL||null,j=r.toString();return c.BLOB_URL||(c.BLOB_URL=k.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",j,")();"],{type:"text/javascript"})))})(),(T=new n.Worker(T)).onmessage=b,T.id=l++,o[T.id]=T)})()).userStep=A.step,D.userChunk=A.chunk,D.userComplete=A.complete,D.userError=A.error,A.step=E(A.step),A.chunk=E(A.chunk),A.complete=E(A.complete),A.error=E(A.error),delete A.worker,D.postMessage({input:S,config:A,workerId:D.id})},c.unparse=function(S,A){var D=!1,T=!0,k=",",j=`\r
`,V='"',Q=V+V,Y=!1,J=null,H=!1,U=((()=>{if(typeof A=="object"){if(typeof A.delimiter!="string"||c.BAD_DELIMITERS.filter(function(C){return A.delimiter.indexOf(C)!==-1}).length||(k=A.delimiter),typeof A.quotes!="boolean"&&typeof A.quotes!="function"&&!Array.isArray(A.quotes)||(D=A.quotes),typeof A.skipEmptyLines!="boolean"&&typeof A.skipEmptyLines!="string"||(Y=A.skipEmptyLines),typeof A.newline=="string"&&(j=A.newline),typeof A.quoteChar=="string"&&(V=A.quoteChar),typeof A.header=="boolean"&&(T=A.header),Array.isArray(A.columns)){if(A.columns.length===0)throw new Error("Option columns is empty");J=A.columns}A.escapeChar!==void 0&&(Q=A.escapeChar+V),A.escapeFormulae instanceof RegExp?H=A.escapeFormulae:typeof A.escapeFormulae=="boolean"&&A.escapeFormulae&&(H=/^[=+\-@\t\r].*$/)}})(),new RegExp(v(V),"g"));if(typeof S=="string"&&(S=JSON.parse(S)),Array.isArray(S)){if(!S.length||Array.isArray(S[0]))return re(null,S,Y);if(typeof S[0]=="object")return re(J||Object.keys(S[0]),S,Y)}else if(typeof S=="object")return typeof S.data=="string"&&(S.data=JSON.parse(S.data)),Array.isArray(S.data)&&(S.fields||(S.fields=S.meta&&S.meta.fields||J),S.fields||(S.fields=Array.isArray(S.data[0])?S.fields:typeof S.data[0]=="object"?Object.keys(S.data[0]):[]),Array.isArray(S.data[0])||typeof S.data[0]=="object"||(S.data=[S.data])),re(S.fields||[],S.data||[],Y);throw new Error("Unable to serialize unrecognized input");function re(C,F,q){var K="",Z=(typeof C=="string"&&(C=JSON.parse(C)),typeof F=="string"&&(F=JSON.parse(F)),Array.isArray(C)&&0<C.length),oe=!Array.isArray(F[0]);if(Z&&T){for(var fe=0;fe<C.length;fe++)0<fe&&(K+=k),K+=z(C[fe],fe);0<F.length&&(K+=j)}for(var ie=0;ie<F.length;ie++){var de=(Z?C:F[ie]).length,_e=!1,B=Z?Object.keys(F[ie]).length===0:F[ie].length===0;if(q&&!Z&&(_e=q==="greedy"?F[ie].join("").trim()==="":F[ie].length===1&&F[ie][0].length===0),q==="greedy"&&Z){for(var Te=[],ge=0;ge<de;ge++){var ve=oe?C[ge]:ge;Te.push(F[ie][ve])}_e=Te.join("").trim()===""}if(!_e){for(var te=0;te<de;te++){0<te&&!B&&(K+=k);var ke=Z&&oe?C[te]:te;K+=z(F[ie][ke],te)}ie<F.length-1&&(!q||0<de&&!B)&&(K+=j)}}return K}function z(C,F){var q,K;return C==null?"":C.constructor===Date?JSON.stringify(C).slice(1,25):(K=!1,H&&typeof C=="string"&&H.test(C)&&(C="'"+C,K=!0),q=C.toString().replace(U,Q),(K=K||D===!0||typeof D=="function"&&D(C,F)||Array.isArray(D)&&D[F]||((Z,oe)=>{for(var fe=0;fe<oe.length;fe++)if(-1<Z.indexOf(oe[fe]))return!0;return!1})(q,c.BAD_DELIMITERS)||-1<q.indexOf(k)||q.charAt(0)===" "||q.charAt(q.length-1)===" ")?V+q+V:q)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!n.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=y,c.ParserHandle=m,c.NetworkStreamer=f,c.FileStreamer=h,c.StringStreamer=d,c.ReadableStreamStreamer=g,n.jQuery&&((a=n.jQuery).fn.parse=function(S){var A=S.config||{},D=[];return this.each(function(j){if(!(a(this).prop("tagName").toUpperCase()==="INPUT"&&a(this).attr("type").toLowerCase()==="file"&&n.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)D.push({file:this.files[V],inputElem:this,instanceConfig:a.extend({},A)})}),T(),this;function T(){if(D.length===0)E(S.complete)&&S.complete();else{var j,V,Q,Y,J=D[0];if(E(S.before)){var H=S.before(J.file,J.inputElem);if(typeof H=="object"){if(H.action==="abort")return j="AbortError",V=J.file,Q=J.inputElem,Y=H.reason,void(E(S.error)&&S.error({name:j},V,Q,Y));if(H.action==="skip")return void k();typeof H.config=="object"&&(J.instanceConfig=a.extend(J.instanceConfig,H.config))}else if(H==="skip")return void k()}var U=J.instanceConfig.complete;J.instanceConfig.complete=function(re){E(U)&&U(re,J.file,J.inputElem),k()},c.parse(J.file,J.instanceConfig)}}function k(){D.splice(0,1),T()}}),s&&(n.onmessage=function(S){S=S.data,c.WORKER_ID===void 0&&S&&(c.WORKER_ID=S.workerId),typeof S.input=="string"?n.postMessage({workerId:c.WORKER_ID,results:c.parse(S.input,S.config),finished:!0}):(n.File&&S.input instanceof File||S.input instanceof Object)&&(S=c.parse(S.input,S.config))&&n.postMessage({workerId:c.WORKER_ID,results:S,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(h.prototype=Object.create(u.prototype)).constructor=h,(d.prototype=Object.create(d.prototype)).constructor=d,(g.prototype=Object.create(u.prototype)).constructor=g,c})})(kq);var fye=kq.exports;const hye=pn(fye),Nq=()=>{const{user:e}=xa(),{isDarkMode:t}=Jr(),[r,n]=W.useState(!1),[a,i]=W.useState([]),[s,o]=W.useState(!1),[l,c]=W.useState({name:"",unit:"",asin:"",barcode:""}),[u,f]=W.useState(null),[h,d]=W.useState(null),[g,m]=W.useState(!1),[v,y]=W.useState(!1),[b,w]=W.useState(null),[O,P]=W.useState(null),[I,E]=W.useState(!1),[S,A]=W.useState(""),[D,T]=W.useState(null),[k,j]=W.useState(null),V=Oe.useRef(null),[Q,Y]=W.useState(null),[J,H]=W.useState(!1),[U,re]=W.useState([]);W.useEffect(()=>{z(),C()},[]);const z=async B=>{o(!0);try{let Te;if(B&&B.trim()!==""){const ge=sr(Et(et,"scannedProducts"),tr("name",">=",B),tr("name","<=",B+""),ka("name"),ig(100)),ve=sr(Et(et,"scannedProducts"),tr("barcode",">=",B),tr("barcode","<=",B+""),ka("barcode"),ig(100)),te=sr(Et(et,"scannedProducts"),tr("asin",">=",B),tr("asin","<=",B+""),ka("asin"),ig(100)),[ke,$e,Fe]=await Promise.all([hr(ge),hr(ve),hr(te)]),Qe=[...ke.docs,...$e.docs,...Fe.docs].reduce((Le,Ge)=>(Le.some(Me=>Me.id===Ge.id)||Le.push(Ge),Le),[]);i(Qe.map(Le=>{const Ge=Le.data();return{id:Le.id,name:Ge.name,unit:Ge.unit,asin:Ge.asin||"",barcode:Ge.barcode,createdAt:Ge.createdAt instanceof Zt?Ge.createdAt.toDate():new Date(Ge.createdAt)}}))}else{Te=sr(Et(et,"scannedProducts"),ka("createdAt","desc"),ig(100));const ve=(await hr(Te)).docs.map(te=>{const ke=te.data();return{id:te.id,name:ke.name,unit:ke.unit,asin:ke.asin||"",barcode:ke.barcode,createdAt:ke.createdAt instanceof Zt?ke.createdAt.toDate():new Date(ke.createdAt)}});i(ve)}}catch{f("Failed to fetch products")}finally{o(!1)}},C=async()=>{try{const B=Et(et,"scannedProducts"),Te=await eN(B);Y(Te.data().count)}catch{Y(null)}},F=()=>{const B={};a.forEach(ge=>{B[ge.name]||(B[ge.name]=[]),B[ge.name].push(ge)});const Te=Object.entries(B).filter(([,ge])=>ge.length>1).map(([ge,ve])=>({name:ge,products:ve.sort((te,ke)=>new Date(ke.createdAt).getTime()-new Date(te.createdAt).getTime())})).sort((ge,ve)=>ve.products.length-ge.products.length);re(Te),H(!0)},q=()=>{H(!1),re([])},K=B=>{B?(c({name:B.name||"",unit:B.unit||"",asin:B.asin||"",barcode:B.barcode||""}),d(B)):(c({name:"",unit:"",asin:"",barcode:""}),d(null)),n(!0),f(null)},Z=()=>{n(!1),f(null)},oe=B=>{c({...l,[B.target.name]:B.target.value})},fe=async B=>{c(Te=>({...Te,barcode:B})),m(!1),w(null),y(!0);try{const ge=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${B}`,te=await(await fetch(ge)).json();if(te&&te.items&&te.items.length>0){const ke=te.items[0];c($e=>({...$e,name:ke.title||$e.name,asin:ke.asin||ke.amazon_asin||""}))}else w("No product info found for this barcode.")}catch{w("Failed to fetch product info.")}finally{y(!1)}},ie=async B=>{if(B.preventDefault(),!l.name.trim()||!l.unit.trim()||!l.barcode.trim()){f("Name, Unit, and Barcode are required");return}o(!0);try{const Te=l.name.toUpperCase();if(h){const ge=Hr(et,"scannedProducts",h.id);if(await Ta(ge,{name:Te,unit:l.unit,barcode:l.barcode,asin:l.asin}),e&&h){const ve=[];h.name!==Te&&ve.push(`name from "${h.name}" to "${Te}"`),h.unit!==l.unit&&ve.push(`unit from ${h.unit||"none"} to ${l.unit||"none"}`),h.barcode!==l.barcode&&ve.push(`barcode from "${h.barcode||"none"}" to "${l.barcode||"none"}"`),h.asin!==l.asin&&ve.push(`asin from "${h.asin||"none"}" to "${l.asin||"none"}"`),ve.length>0&&await Er(Et(et,"activityLogs"),{user:e.name,role:e.role,detail:`edited product "${Te}": ${ve.join(", ")}`,time:new Date().toISOString()})}}else await Er(Et(et,"scannedProducts"),{name:Te,unit:l.unit,barcode:l.barcode,asin:l.asin,createdAt:Zt.fromDate(new Date)}),e&&await Er(Et(et,"activityLogs"),{user:e.name,role:e.role,detail:`added new product "${Te}" with barcode ${l.barcode}`,time:new Date().toISOString()});n(!1),d(null),z()}catch{f("Failed to save product")}finally{o(!1)}},de=async()=>{if(O){E(!0);try{const B=a.find(Te=>Te.id===O);await jh(Hr(et,"scannedProducts",O)),e&&B&&await Er(Et(et,"activityLogs"),{user:e.name,role:e.role,detail:`deleted product "${B.name}" with barcode ${B.barcode}`,time:new Date().toISOString()}),P(null),z()}catch{}finally{E(!1)}}},_e=async B=>{var ve;const Te=(ve=B.target.files)==null?void 0:ve[0];if(!Te)return;let ge=[];try{if(Te.name.endsWith(".csv")){const te=await Te.text(),$e=hye.parse(te,{header:!0}).data;ge=$e.map(Qe=>{var Le,Ge,Me,Ye;return{name:((Le=Qe.Description)==null?void 0:Le.toString().trim())||"",unit:((Ge=Qe.Unit)==null?void 0:Ge.toString().trim())||"",asin:((Me=Qe.ASIN)==null?void 0:Me.toString().trim())||"",barcode:((Ye=Qe.EAN)==null?void 0:Ye.toString().trim())||""}}).filter(Qe=>Qe.name||Qe.unit||Qe.barcode);const Fe=$e.length-ge.length;Fe>0&&(console.log(`${Fe} rows skipped (all columns empty).`),j({type:"error",message:`${Fe} rows skipped (all columns empty).`}))}else if(Te.name.endsWith(".xlsx")){const te=await Te.arrayBuffer(),ke=NT(te,{type:"array"}),$e=ke.Sheets[ke.SheetNames[0]],Fe=uye.sheet_to_json($e);ge=Fe.map(Le=>{var Ge,Me,Ye,mt;return{name:((Ge=Le.Description)==null?void 0:Ge.toString().trim())||"",unit:((Me=Le.Unit)==null?void 0:Me.toString().trim())||"",asin:((Ye=Le.ASIN)==null?void 0:Ye.toString().trim())||"",barcode:((mt=Le.EAN)==null?void 0:mt.toString().trim())||""}}).filter(Le=>Le.name||Le.unit||Le.barcode);const Qe=Fe.length-ge.length;Qe>0&&(console.log(`${Qe} rows skipped (all columns empty).`),j({type:"error",message:`${Qe} rows skipped (all columns empty).`}))}else{console.log("Unsupported file type. Please upload a .csv or .xlsx file."),j({type:"error",message:"Unsupported file type. Please upload a .csv or .xlsx file."});return}if(ge.length===0){console.log("No valid products found in file."),j({type:"error",message:"No valid products found in file."});return}for(const te of ge)await Er(Et(et,"scannedProducts"),{name:te.name.toUpperCase(),unit:te.unit,barcode:te.barcode,asin:"",createdAt:Zt.fromDate(new Date)});e&&await Er(Et(et,"activityLogs"),{user:e.name,role:e.role,detail:`bulk uploaded ${ge.length} products from file "${Te.name}"`,time:new Date().toISOString()}),j({type:"success",message:`Uploaded ${ge.length} products successfully!`}),console.log(`Uploaded ${ge.length} products successfully!`),z()}catch{console.log("Failed to upload products."),j({type:"error",message:"Failed to upload products."})}};return!e||e.role!=="admin"&&e.role!=="staff"?p.jsx("div",{className:"p-8 text-center text-red-500 font-semibold",children:"You are not authorized to access this page."}):p.jsxs("div",{className:t?"bg-slate-900 text-white min-h-screen":"bg-slate-50 text-slate-800 min-h-screen",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:"text-2xl font-bold",children:"Add Products"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${t?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Scanned Products: ",Q!==null?Q:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${t?"text-slate-400":"text-slate-500"} mt-1 text-left md:text-left`,children:"Scan and add new products to your warehouse inventory"})}),p.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:gap-2 w-full md:w-auto",children:[p.jsx(st,{variant:"secondary",onClick:()=>z(),className:`flex items-center gap-2 w-full md:w-auto ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,icon:p.jsx(ds,{size:18,className:s?"animate-spin":""})}),p.jsx(st,{variant:J?"primary":"secondary",onClick:J?q:F,className:"w-full md:w-auto",icon:J?p.jsx(ds,{size:18}):p.jsxs("svg",{width:"18",height:"18",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[p.jsx("path",{d:"M3 6h18"}),p.jsx("path",{d:"M7 12h10"}),p.jsx("path",{d:"M9 18h6"})]}),children:J?"Clear Filter":"Show Duplicates"}),p.jsx(st,{icon:p.jsx(SZ,{size:18}),onClick:()=>{var B;return(B=V.current)==null?void 0:B.click()},className:"w-full md:w-auto",children:"Upload CSV/XLSX"}),p.jsx("input",{type:"file",accept:".csv,.xlsx",ref:V,onChange:_e,style:{display:"none"}}),p.jsx(st,{icon:p.jsx(Gi,{size:18}),onClick:()=>K(),className:"w-full md:w-auto",children:"Add Product"})]})]}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-4",children:p.jsxs("div",{className:"flex-1 relative",children:[p.jsx(bt,{type:"text",placeholder:"Search by name, barcode, or ASIN",value:S,onChange:B=>{const Te=B.target.value;A(Te),z(Te.toUpperCase())},className:"pl-10",fullWidth:!0}),p.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",children:p.jsxs("svg",{width:"16",height:"16",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-search",children:[p.jsx("circle",{cx:"7",cy:"7",r:"6"}),p.jsx("path",{d:"m15 15-3.5-3.5"})]})})]})}),p.jsx(yn,{isOpen:r,onClose:Z,title:h?"Edit Product":"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:ie,className:"space-y-4",children:[p.jsx(bt,{label:"Product Name",name:"name",value:l.name,onChange:oe,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(bt,{label:"Unit",name:"unit",value:l.unit,onChange:oe,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsx(bt,{label:"ASIN",name:"asin",value:l.asin,onChange:oe,placeholder:"Amazon Standard Identification Number",fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(bt,{label:"Barcode",name:"barcode",value:l.barcode,onChange:oe,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(l.barcode.trim()&&!v){w(null),y(!0);try{await fe(l.barcode)}finally{y(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:v,children:v?p.jsx(us,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),u&&p.jsx("div",{className:"text-red-500 text-sm",children:u}),b&&p.jsxs("div",{className:"text-red-500 text-sm",children:[b," Please enter details manually."]}),v&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(us,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:()=>m(!0),children:"Scan"}),p.jsx(st,{type:"submit",isLoading:s,children:h?"Save Changes":"Add"})]})]})}),p.jsx(cd,{isOpen:g,onClose:()=>m(!1),onBarcodeScanned:fe}),p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden rounded-lg border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",children:p.jsxs("table",{className:`min-w-full divide-y ${t?"divide-slate-700":"divide-slate-200"} ${t?"bg-slate-800":"bg-white"} rounded-lg`,children:[p.jsx("thead",{className:t?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Created At"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${t?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${t?"divide-slate-700":"divide-slate-200"}`,children:s?p.jsx("tr",{children:p.jsx("td",{colSpan:6,style:{border:0,padding:0},children:p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(us,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]})})}):J&&U.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."})}):J&&U.length>0?U.flatMap((B,Te)=>[p.jsx("tr",{className:`${t?"bg-slate-700/30":"bg-slate-100/50"}`,children:p.jsxs("td",{colSpan:6,className:`px-4 py-2 text-sm font-semibold ${t?"text-blue-300":"text-blue-600"}`,children:[B.name," - ",B.products.length," duplicates"]})},`header-${B.name}`),...B.products.map((ge,ve)=>p.jsxs(Fn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Te*.1+ve*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer ${t?"bg-slate-800/50":"bg-slate-50/50"}`,onClick:()=>T(ge),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:ge.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ge.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ge.asin||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:ge.barcode}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Xt(ge.createdAt,"MMM d, yyyy, h:mm a")}),p.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[p.jsx("button",{onClick:te=>{te.stopPropagation(),K(ge)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:p.jsx(Rs,{size:16})}),p.jsx("button",{onClick:te=>{te.stopPropagation(),P(ge.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&O===ge.id,children:p.jsx(Ui,{size:16})})]})]},ge.id))]):a.length===0?p.jsx("tr",{children:p.jsx("td",{colSpan:6,className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."})}):a.map((B,Te)=>p.jsxs(Fn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:Te*.05,ease:"easeOut"},className:`hover:${t?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>T(B),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-blue-400":"text-blue-700"} font-medium`,children:B.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.asin||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode}),p.jsx("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"}`,children:Xt(B.createdAt,"MMM d, yyyy, h:mm a")}),p.jsxs("td",{className:`px-4 py-3 text-sm ${t?"text-slate-200":"text-slate-800"} text-right`,children:[p.jsx("button",{onClick:ge=>{ge.stopPropagation(),K(B)},className:`p-1 ${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,title:"Edit",children:p.jsx(Rs,{size:16})}),p.jsx("button",{onClick:ge=>{ge.stopPropagation(),P(B.id)},className:`p-1 ml-2 ${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,title:"Delete",disabled:I&&O===B.id,children:p.jsx(Ui,{size:16})})]})]},B.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4",children:s?p.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] w-full py-12",children:[p.jsx(us,{className:`w-8 h-8 ${t?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:t?"text-slate-400":"text-slate-600",children:"Loading products..."})]}):J&&U.length===0?p.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No duplicate products found."}):J&&U.length>0?U.map(B=>p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:`text-center py-2 px-4 rounded-lg ${t?"bg-slate-700/30 text-blue-300":"bg-slate-100/50 text-blue-600"} font-semibold`,children:[B.name," - ",B.products.length," duplicates"]}),B.products.map(Te=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800/50":"bg-slate-50/50"} cursor-pointer`,onClick:()=>T(Te),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:Te.name}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",Te.unit||"-"]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",Te.asin||"-"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(st,{variant:"ghost",size:"sm",onClick:ge=>{ge.stopPropagation(),K(Te)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(Rs,{size:16})}),p.jsx(st,{variant:"ghost",size:"sm",onClick:ge=>{ge.stopPropagation(),P(Te.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&O===Te.id,children:p.jsx(Ui,{size:16})})]})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Te.barcode})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Xt(Te.createdAt,"MMM d, yyyy, h:mm a")})]})]},Te.id))]},B.name)):a.length===0?p.jsx("div",{className:`text-center py-8 ${t?"text-slate-400":"text-slate-500"}`,children:"No products found."}):a.map(B=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${t?"bg-slate-800":"bg-white"} cursor-pointer`,onClick:()=>T(B),children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${t?"text-blue-300":"text-blue-700"}`,children:B.name}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Unit: ",B.unit||"-"]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["ASIN: ",B.asin||"-"]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(st,{variant:"ghost",size:"sm",onClick:Te=>{Te.stopPropagation(),K(B)},className:`${t?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(Rs,{size:16})}),p.jsx(st,{variant:"ghost",size:"sm",onClick:Te=>{Te.stopPropagation(),P(B.id)},className:`${t?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,disabled:I&&O===B.id,children:p.jsx(Ui,{size:16})})]})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:B.barcode})]}),p.jsxs("div",{className:`text-xs ${t?"text-slate-400":"text-slate-500"}`,children:["Created: ",p.jsx("span",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Xt(B.createdAt,"MMM d, yyyy, h:mm a")})]})]},B.id))}),p.jsx(yn,{isOpen:!!O,onClose:()=>P(null),title:"Delete Product",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{children:"Are you sure you want to delete this product?"}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(st,{variant:"secondary",onClick:()=>P(null),disabled:I,children:"Cancel"}),p.jsxs(st,{variant:"danger",onClick:de,isLoading:I,className:"flex items-center justify-center",children:[I&&p.jsx(us,{className:"w-4 h-4 animate-spin mx-auto"}),"Delete"]})]})]})}),p.jsx(yn,{isOpen:!!D,onClose:()=>T(null),title:D?D.name:"Product Details",size:"xl",children:D&&p.jsx("div",{className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.asin||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:D.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${t?"text-slate-400":"text-slate-500"}`,children:"Created At"}),p.jsx("p",{className:`font-medium ${t?"text-slate-200":"text-slate-800"}`,children:Xt(D.createdAt,"MMM d, yyyy, h:mm a")})]})]})})}),k&&p.jsx(RU,{type:k.type,message:k.message,onClose:()=>j(null)})]})]})},dye=()=>{const{user:e}=xa();if(!e)return null;switch(e.role){case"admin":return p.jsx(lfe,{});case"staff":return p.jsx(Nq,{});default:return null}},Br=({label:e,error:t,options:r,fullWidth:n=!1,className:a="",...i})=>{const{isDarkMode:s}=Jr();return p.jsxs("div",{className:`${n?"w-full":""} ${a}`,children:[e&&p.jsx("label",{className:`block text-sm font-medium ${s?"text-slate-200":"text-slate-700"} mb-1`,children:e}),p.jsx("select",{...i,className:`
          block w-full rounded-lg border px-3 py-2
          ${s?"bg-slate-800 border-slate-700 text-slate-200 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-700/50 disabled:text-slate-400":"bg-white border-slate-300 text-slate-900 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 disabled:bg-slate-50 disabled:text-slate-500"}
          ${t?"border-red-500 focus:border-red-500 focus:ring-red-500":""}
        `,children:r.map(o=>p.jsx("option",{value:o.value,children:o.label},o.value))}),t&&p.jsx("p",{className:"mt-1 text-sm text-red-600",children:t})]})},pye=({isOpen:e,onClose:t,onSuccess:r})=>{const{user:n}=xa(),[a,i]=W.useState({name:"",unit:"",barcode:""}),[s,o]=W.useState(null),[l,c]=W.useState(!1),[u,f]=W.useState(!1),[h,d]=W.useState(!1),[g,m]=W.useState(null),v=O=>{i({...a,[O.target.name]:O.target.value})},y=async O=>{i(P=>({...P,barcode:O})),f(!1),m(null),d(!0);try{const I=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${O}`,S=await(await fetch(I)).json();if(S&&S.items&&S.items.length>0){const A=S.items[0];i(D=>({...D,name:A.title||D.name}))}else m("No product info found for this barcode.")}catch{m("Failed to fetch product info.")}finally{d(!1)}},b=async O=>{if(O.preventDefault(),!a.name.trim()||!a.unit.trim()||!a.barcode.trim()){o("All fields are required");return}c(!0);try{const P=a.name.toUpperCase();await Er(Et(et,"scannedProducts"),{name:P,unit:a.unit,barcode:a.barcode,createdAt:Zt.fromDate(new Date)}),n&&await Er(Et(et,"activityLogs"),{user:n.name,role:n.role,detail:`added new product "${P}" with barcode ${a.barcode}`,time:new Date().toISOString()}),i({name:"",unit:"",barcode:""}),o(null),m(null),t(),r&&r()}catch{o("Failed to save product")}finally{c(!1)}},w=()=>{i({name:"",unit:"",barcode:""}),o(null),m(null),t()};return p.jsxs(p.Fragment,{children:[p.jsx(yn,{isOpen:e,onClose:w,title:"Add Product",size:"sm",children:p.jsxs("form",{onSubmit:b,className:"space-y-4",children:[p.jsx(bt,{label:"Product Name",name:"name",value:a.name,onChange:v,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx(bt,{label:"Unit",name:"unit",value:a.unit,onChange:v,placeholder:"e.g. 350ML, 75GM, 1PC",required:!0,fullWidth:!0}),p.jsxs("div",{className:"relative w-full",children:[p.jsx(bt,{label:"Barcode",name:"barcode",value:a.barcode,onChange:v,placeholder:"Enter barcode",required:!0,fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(a.barcode.trim()&&!h){m(null),d(!0);try{await y(a.barcode)}finally{d(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:h,children:h?p.jsx(us,{size:18,className:"animate-spin text-blue-500"}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),s&&p.jsx("div",{className:"text-red-500 text-sm",children:s}),g&&p.jsxs("div",{className:"text-red-500 text-sm",children:[g," Please enter details manually."]}),h&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsx(us,{className:"w-4 h-4 animate-spin"}),"Fetching product info..."]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:()=>f(!0),children:"Scan"}),p.jsx(st,{type:"submit",isLoading:l,children:"Add"})]})]})}),p.jsx(cd,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:y})]})},mye=({isOpen:e,onClose:t,onUseLocation:r,onManualLocation:n,hiddenProduct:a})=>p.jsx(yn,{isOpen:e,onClose:t,title:"Location Reminder",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(X$,{className:"w-6 h-6 text-blue-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Your previous product ",p.jsxs("strong",{children:['"',a.name,'"']})," was located at:"]}),p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[p.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:["Location: ",p.jsxs("strong",{children:[a.locationCode,"-",a.shelfNumber]})]}),p.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:["Previous quantity: ",a.quantity," units"]})]}),p.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:"Do you want to place this product at the same location?"})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(st,{variant:"secondary",onClick:n,children:"No, I'll choose manually"}),p.jsx(st,{onClick:()=>r(a.locationCode,a.shelfNumber),className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Yes, use same location"})]})]})}),gye=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1,confirmLabel:s="Yes",cancelLabel:o="No"})=>{const{isDarkMode:l}=Jr();return p.jsx(yn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(pv,{size:24}),p.jsx("p",{className:l?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(st,{variant:"secondary",onClick:t,disabled:i,className:l?"text-slate-100":"text-slate-700",children:o}),p.jsx(st,{variant:"success",onClick:r,isLoading:i,children:s})]})]})})},df=e=>{const r=(e.startsWith("O")||e.startsWith("P"))&&e.length===2&&/^[1-8]$/.test(e[1])?7:5;return Array.from({length:r+1},(n,a)=>({value:a.toString(),label:a.toString()}))},vye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],yye=e=>df(e),FS=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],xye=({onSubmit:e,isLoading:t=!1,existingStockItems:r})=>{const{user:n}=xa(),[a,i]=W.useState({name:"",price:"",unit:"",supplier:FS[0].value,asin:"",status:"pending",damagedItems:"0",fulfillmentType:"mf",storeName:"supply & serve",selectedAsins:[]}),[s,o]=W.useState([{locationCode:"A1",shelfNumber:"0",quantity:""}]),[l,c]=W.useState({}),[u,f]=W.useState(!1),[h,d]=W.useState(!1),[g,m]=W.useState(""),{isDarkMode:v}=Jr(),[y,b]=W.useState(null),[w,O]=W.useState(!1),[P,I]=W.useState(null),[E,S]=W.useState(!1),[A,D]=W.useState(""),[T,k]=W.useState(!1),[j,V]=W.useState(null),[Q,Y]=W.useState(null),[J,H]=W.useState(!1),[U,re]=W.useState(""),[z,C]=W.useState(!1),[F,q]=W.useState(null),[K,Z]=W.useState([]),[oe,fe]=W.useState(!1),[ie,de]=W.useState(null),[_e,B]=W.useState([]),[Te,ge]=W.useState(!1),[ve,te]=W.useState(null);W.useEffect(()=>{a.storeName==="supply & serve"&&a.fulfillmentType!=="mf"&&i(wt=>({...wt,fulfillmentType:"mf"}))},[a.storeName,a.fulfillmentType]);const ke=wt=>{const{name:Ct,value:Qt}=wt.target;if(i(Bt=>({...Bt,[Ct]:Qt})),Ct==="supplier"&&(S(Qt==="other"),Qt!=="other"&&D("")),l[Ct]&&c(Bt=>{const Sr={...Bt};return delete Sr[Ct],Sr}),Ct==="barcode"&&Qt.length===13&&!w){F&&clearTimeout(F);const Bt=setTimeout(()=>{Qt.length===13&&Me(Qt)},500);q(Bt)}else Ct==="barcode"&&Qt.length!==13&&F&&(clearTimeout(F),q(null))},$e=(wt,Ct,Qt)=>{o(Bt=>{const Sr=[...Bt];if(Sr[wt]={...Sr[wt],[Ct]:Qt},Ct==="locationCode"&&(Sr[wt].shelfNumber="0"),Ct==="shelfNumber"){const Ee=Sr[wt].locationCode,Xe=df(Ee).length-1;parseInt(Qt)>Xe&&(Sr[wt].shelfNumber="0")}return Sr})},Fe=()=>{o(wt=>[...wt,{locationCode:"A1",shelfNumber:"0",quantity:""}])},Qe=wt=>{o(Ct=>Ct.filter((Qt,Bt)=>Bt!==wt))},Le=async wt=>{i(Qt=>({...Qt,barcode:wt})),b(null),I(null),O(!0);let Ct=!1;try{const Qt=sr(Et(et,"scannedProducts"),tr("barcode","==",wt)),Bt=await hr(Qt);if(Bt.empty){const Ee=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${wt}`,nt=await(await fetch(Ee)).json();if(nt&&nt.items&&nt.items.length>0){const St=nt.items[0],ht=St.asin||St.amazon_asin||"";if(ht&&ht.includes(" ")){const Mt=ht.split(" ").filter(xr=>xr.trim());if(Mt.length>1){Z(Mt),B([]),de({name:St.title||"",unit:"",asin:Mt[0]}),fe(!0),b("Multiple ASINs detected. Please select one or more."),Ct=!0;return}}i(Mt=>({...Mt,name:St.title||Mt.name,asin:ht||Mt.asin,selectedAsins:ht?[ht]:[]})),b("Product name and ASIN auto-filled from external database."),Ct=!0}else b("No product found for this barcode. Please enter details manually.")}else{const Sr=Bt.docs[0].data(),Ee=Sr.asin||"";if(Ee&&Ee.includes(" ")){const Xe=Ee.split(" ").filter(nt=>nt.trim());if(Xe.length>1){Z(Xe),B([]),de({name:Sr.name||"",unit:Sr.unit||"",asin:Xe[0]}),fe(!0),b("Multiple ASINs detected. Please select one or more."),Ct=!0;return}}i(Xe=>({...Xe,name:Sr.name||Xe.name,unit:Sr.unit||Xe.unit,asin:Ee||Xe.asin,selectedAsins:Ee?[Ee]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),Ct=!0}}catch{I("Failed to fetch product info."),b("Failed to search for product. Please enter details manually.")}finally{O(!1),!Ct&&wt.length===13&&setTimeout(()=>{Me(wt)},100)}},Ge=async wt=>{try{const Ct=sr(Et(et,"inventory"),tr("barcode","==",wt),tr("quantity","==",0)),Qt=await hr(Ct);if(!Qt.empty){const Bt=Qt.docs[0].data();return te({hiddenProduct:{...Bt,id:Qt.docs[0].id,lastUpdated:Bt.lastUpdated instanceof Date?Bt.lastUpdated:new Date(Bt.lastUpdated)},newProductName:a.name||"New Product"}),ge(!0),!0}return!1}catch(Ct){return console.error("Error checking for hidden products:",Ct),!1}},Me=async wt=>{const Ct=wt||a.barcode;if(!(!Ct||w)){I(null),O(!0);try{const Qt=sr(Et(et,"scannedProducts"),tr("barcode","==",Ct)),Bt=await hr(Qt);if(!Bt.empty){const St=Bt.docs[0].data(),ht=St.asin||"";if(ht&&ht.includes(" ")){const Mt=ht.split(" ").filter(xr=>xr.trim());if(Mt.length>1){Z(Mt),B([]),de({name:St.name||"",unit:St.unit||"",asin:Mt[0]}),fe(!0),b("Multiple ASINs detected. Please select one or more."),O(!1);return}}i(Mt=>({...Mt,name:St.name||Mt.name,unit:St.unit||Mt.unit,asin:ht||Mt.asin,selectedAsins:ht?[ht]:[]})),b("Product name, unit, and ASIN auto-filled from scanned products."),O(!1);return}const Ee=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${Ct}`,nt=await(await fetch(Ee)).json();if(nt&&nt.items&&nt.items.length>0){const St=nt.items[0],ht=St.asin||St.amazon_asin||"";if(ht&&ht.includes(" ")){const Mt=ht.split(" ").filter(xr=>xr.trim());if(Mt.length>1){Z(Mt),B([]),de({name:St.title||"",unit:"",asin:Mt[0]}),fe(!0),b("Multiple ASINs detected. Please select one or more."),O(!1);return}}i(Mt=>({...Mt,name:St.title||Mt.name,asin:ht||Mt.asin,selectedAsins:ht?[ht]:[]})),b("Product name and ASIN auto-filled from UPC database.")}else I("No product info found for this barcode.")}catch{I("Failed to fetch product info.")}finally{O(!1),await Ge(Ct)}}},Ye=()=>{const wt={};return a.name.trim()||(wt.name="Product name is required"),s.forEach((Ct,Qt)=>{Ct.quantity?(isNaN(Number(Ct.quantity))||Number(Ct.quantity)<0)&&(wt[`location_${Qt}_quantity`]="Quantity must be a positive number"):wt[`location_${Qt}_quantity`]="Quantity is required"}),c(wt),Object.keys(wt).length===0},mt=async wt=>{if(wt.preventDefault(),Ye()){const Ct=a.supplier||FS[0].value,Qt=a.storeName||"supply & serve",Bt=a.selectedAsins.length>0?a.selectedAsins:a.asin?[a.asin]:[],Sr=s.map(Xe=>({name:a.name,quantity:parseInt(Xe.quantity),price:(n==null?void 0:n.role)==="admin"?parseFloat(a.price):0,unit:a.unit||null,supplier:Ct==="other"?A:Ct,locationCode:Xe.locationCode,shelfNumber:Xe.shelfNumber,asin:Bt.length>0?Bt.join(", "):null,status:a.status,damagedItems:parseInt(a.damagedItems),barcode:a.barcode||null,fulfillmentType:a.fulfillmentType,lastUpdated:new Date,storeName:Qt==="other"?g:Qt})),Ee=Sr.find(Xe=>r.some(nt=>nt.name.trim().toLowerCase()===Xe.name.trim().toLowerCase()&&(nt.barcode||"")===(Xe.barcode||"")&&nt.locationCode===Xe.locationCode&&nt.shelfNumber===Xe.shelfNumber));if(Ee){Y({name:Ee.name,location:`${Ee.locationCode}-${Ee.shelfNumber}`}),V(Sr),k(!0);return}try{await e(Sr)}catch(Xe){console.error("Error adding stock:",Xe)}}},at=async()=>{if(j){try{await e(j)}catch(wt){console.error("Error adding stock:",wt)}k(!1),V(null),Y(null)}},gt=()=>{k(!1),V(null),Y(null)},At=()=>{C(!0)},Pt=()=>{re("Product has been successfully added to the database!"),H(!0)},ft=wt=>{ie&&(i(Ct=>({...Ct,name:ie.name||Ct.name,unit:ie.unit||Ct.unit,asin:wt.join(", "),selectedAsins:wt})),b(`Product info and ${wt.length} selected ASIN(s) auto-filled.`)),fe(!1),Z([]),de(null),B([])},rt=()=>{fe(!1),Z([]),de(null),B([]),b("ASIN selection cancelled. Please enter details manually.")},Kt=wt=>{B(Ct=>Ct.includes(wt)?Ct.filter(Bt=>Bt!==wt):[...Ct,wt])},Vt=(wt,Ct)=>{s.length>0&&o(Qt=>{const Bt=[...Qt];return Bt[0]={...Bt[0],locationCode:wt,shelfNumber:Ct},Bt}),ge(!1),te(null)},Ur=()=>{ge(!1),te(null)};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:mt,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Product Name",name:"name",value:a.name,onChange:ke,error:l.name,placeholder:"Enter product name",required:!0,fullWidth:!0}),p.jsx("div",{children:p.jsx(Br,{label:"Supplier",name:"supplier",value:a.supplier,onChange:ke,options:FS,required:!0,fullWidth:!0})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(n==null?void 0:n.role)==="admin"&&p.jsx(bt,{label:"Price",name:"price",type:"number",value:a.price,onChange:ke,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),!E&&p.jsx(bt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:ke,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),E&&p.jsx(bt,{label:"Other Supplier",value:A,onChange:wt=>D(wt.target.value),placeholder:"Enter supplier name",required:E,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:E&&p.jsx(bt,{label:"Unit (Optional)",name:"unit",value:a.unit,onChange:ke,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0})}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("h3",{className:"text-lg font-medium",children:"Location Entries"}),p.jsx(st,{type:"button",onClick:Fe,variant:"primary",icon:p.jsx(Gi,{size:18}),children:"Add Location"})]}),s.map((wt,Ct)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end",children:[p.jsx(Br,{label:"Location Code",value:wt.locationCode,onChange:Qt=>$e(Ct,"locationCode",Qt.target.value),options:vye,required:!0,fullWidth:!0}),p.jsx(Br,{label:"Shelf Number",value:wt.shelfNumber,onChange:Qt=>$e(Ct,"shelfNumber",Qt.target.value),options:yye(wt.locationCode),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Quantity",type:"number",value:wt.quantity,onChange:Qt=>$e(Ct,"quantity",Qt.target.value),error:l[`location_${Ct}_quantity`],placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),s.length>1&&p.jsx(st,{type:"button",onClick:()=>Qe(Ct),variant:"danger",icon:p.jsx(Ui,{size:18}),children:"Remove"})]},Ct))]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Br,{label:"Fulfillment Type",name:"fulfillmentType",value:a.fulfillmentType,onChange:ke,options:a.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0}),(n==null?void 0:n.role)==="admin"?p.jsx(Br,{label:"Status",name:"status",value:a.status,onChange:ke,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(bt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(bt,{label:"Barcode",name:"barcode",value:a.barcode||"",onChange:ke,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:()=>Me(),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:w,children:w?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(bt,{label:"ASIN (separated by commas, if multiple)",name:"asin",value:a.asin,onChange:ke,placeholder:"Enter Amazon ASIN",fullWidth:!0}),P&&p.jsxs("div",{className:"text-red-500 text-sm",children:[P," Please enter details manually."]}),y&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:y})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx("div",{children:p.jsx(Br,{label:"Store Name",value:a.storeName,onChange:wt=>{const Ct=wt.target.value;i(Qt=>({...Qt,storeName:Ct,fulfillmentType:Ct==="supply & serve"?"mf":Qt.fulfillmentType})),d(Ct==="other"),Ct!=="other"&&m("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})})}),h&&p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${v?"text-slate-200":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(bt,{type:"text",value:g,onChange:wt=>m(wt.target.value),placeholder:"Enter store name",required:h})]})}),p.jsx("div",{className:"flex items-center justify-end gap-4 pt-2",children:p.jsxs("div",{className:"flex gap-2",children:[p.jsx(st,{type:"button",onClick:At,variant:"primary",icon:p.jsx(Gi,{size:18}),children:"Add New Product"}),p.jsx(st,{type:"submit",isLoading:t,variant:"success",icon:p.jsx(Gi,{size:18}),children:"Confirm"})]})})]}),p.jsx(cd,{isOpen:u,onClose:()=>f(!1),onBarcodeScanned:Le}),p.jsx(pye,{isOpen:z,onClose:()=>C(!1),onSuccess:Pt}),p.jsx(gye,{isOpen:T,onClose:gt,onConfirm:at,title:"Duplicate Stock Detected",message:Q?`A product with the same name and barcode already exists at location ${Q.location}. Do you want to add stock anyway?`:"",isLoading:t,confirmLabel:"Yes",cancelLabel:"No"}),p.jsx(yn,{isOpen:J,onClose:()=>H(!1),title:"Success!",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-green-600",children:[p.jsx(fO,{size:24}),p.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:U})]}),p.jsx("div",{className:"flex justify-end pt-4",children:p.jsx(st,{variant:"primary",onClick:()=>H(!1),children:"OK"})})]})}),p.jsx(yn,{isOpen:oe,onClose:rt,title:"Multiple ASINs Detected",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsx("p",{className:v?"text-slate-200":"text-slate-700",children:"Multiple ASINs were found for this product. Please select one or more:"}),p.jsx("div",{className:"space-y-3",children:K.map((wt,Ct)=>p.jsx("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${_e.includes(wt)?v?"border-blue-400 bg-blue-900/20":"border-blue-400 bg-blue-50":v?"border-slate-600 hover:border-blue-400 hover:bg-slate-700":"border-slate-300 hover:border-blue-400 hover:bg-blue-50"}`,onClick:()=>Kt(wt),children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:`font-mono text-sm ${v?"text-slate-200":"text-slate-800"}`,children:wt}),p.jsxs("div",{className:"flex items-center gap-2",children:[_e.includes(wt)&&p.jsx(fO,{size:16,className:"text-blue-500"}),p.jsxs("span",{className:`text-xs ${v?"text-slate-400":"text-slate-500"}`,children:["ASIN ",Ct+1]})]})]})},Ct))}),p.jsxs("div",{className:"flex justify-between items-center pt-4",children:[p.jsx("div",{className:"text-sm text-slate-500",children:_e.length>0?`${_e.length} ASIN(s) selected`:"No ASINs selected"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(st,{variant:"secondary",onClick:rt,children:"Cancel"}),p.jsx(st,{variant:"primary",onClick:()=>ft(_e),disabled:_e.length===0,children:"Confirm Selection"})]})]})]})}),(ve==null?void 0:ve.hiddenProduct)&&p.jsx(mye,{isOpen:Te,onClose:()=>ge(!1),onUseLocation:Vt,onManualLocation:Ur,hiddenProduct:ve.hiddenProduct,newProductName:ve.newProductName||"New Product"})]})},bye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],wye=e=>df(e),_ye=["supply & serve","APHY","AZTEC","ZK"],rj=[{value:"Rayburns Trading",label:"Rayburns Trading"},{value:"Intamarque",label:"Intamarque"},{value:"Sian Wholesale",label:"Sian Wholesale"},{value:"DMG",label:"DMG"},{value:"CVT",label:"CVT"},{value:"Wholesale Trading Supplies",label:"Wholesale Trading Supplies"},{value:"HJA",label:"HJA"},{value:"Price Check",label:"Price Check"},{value:"other",label:"Other"}],Sye=({item:e,onSubmit:t,onCancel:r,isLoading:n=!1})=>{const{isDarkMode:a}=Jr(),{user:i}=xa(),[s,o]=W.useState(null),l=e.storeName,c=l&&!_ye.includes(l),u=rj.some(j=>j.value===(e.supplier||"")),f=u?e.supplier||"":"other",h=u?"":e.supplier||"",[d,g]=W.useState({name:e.name,quantity:e.quantity.toString(),price:e.price.toString(),unit:e.unit||"",supplier:f,locationCode:e.locationCode,shelfNumber:e.shelfNumber,asin:e.asin||"",status:e.status,damagedItems:e.damagedItems.toString(),fulfillmentType:(c?"other":e.storeName||"supply & serve")==="supply & serve"?"mf":e.fulfillmentType,storeName:c?"other":e.storeName||"supply & serve",barcode:e.barcode||""}),[m,v]=W.useState(c),[y,b]=W.useState(c?l:""),[w,O]=W.useState(f==="other"),[P,I]=W.useState(h),[E,S]=W.useState(!1);W.useEffect(()=>{d.storeName==="supply & serve"&&d.fulfillmentType!=="mf"&&g(j=>({...j,fulfillmentType:"mf"}))},[d.storeName,d.fulfillmentType]);const A=j=>{const{name:V,value:Q}=j.target;if(V==="damagedItems"){const Y=Number(Q),J=Number(d.quantity);if(Y<0){o("Damaged items cannot be negative");return}o(null),g(H=>({...H,damagedItems:Q,quantity:(J-(Y-Number(H.damagedItems))).toString()}));return}V==="supplier"&&(O(Q==="other"),Q!=="other"&&I("")),g(Y=>({...Y,[V]:Q}))},D=j=>{g(V=>({...V,barcode:j})),S(!1)},T=async j=>{if(j.preventDefault(),k())try{const V={id:e.id,name:d.name,quantity:parseInt(d.quantity),price:(i==null?void 0:i.role)==="admin"?parseFloat(d.price):e.price,unit:d.unit||null,supplier:d.supplier==="other"?P:d.supplier||null,locationCode:d.locationCode,shelfNumber:d.shelfNumber,asin:d.asin||null,status:(i==null?void 0:i.role)==="admin"?d.status:"pending",damagedItems:parseInt(d.damagedItems),fulfillmentType:d.fulfillmentType,lastUpdated:new Date,storeName:d.storeName==="other"?y:d.storeName,barcode:d.barcode||null};await t(V,e)}catch(V){console.error("Error updating stock:",V),o("Failed to update stock. Please try again.")}},k=()=>d.name.trim()?!d.quantity||parseInt(d.quantity)<0?(o("Quantity must be a positive number"),!1):(i==null?void 0:i.role)==="admin"&&(!d.price||parseFloat(d.price)<0)?(o("Price must be a positive number"),!1):!d.locationCode||!d.shelfNumber?(o("Location and shelf number are required"),!1):(o(null),!0):(o("Product name is required"),!1);return p.jsxs("form",{onSubmit:T,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Product Name",name:"name",value:d.name,onChange:A,placeholder:"Enter product name",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"?p.jsx(Br,{label:"Status",name:"status",value:d.status,onChange:A,options:[{value:"pending",label:"Pending"},{value:"active",label:"Active"}],fullWidth:!0,required:!0}):p.jsx(bt,{label:"Status",name:"status",value:"pending",disabled:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Quantity",name:"quantity",type:"number",value:d.quantity,onChange:A,placeholder:"Enter quantity",min:"0",required:!0,fullWidth:!0}),(i==null?void 0:i.role)==="admin"&&p.jsx(bt,{label:"Price",name:"price",type:"number",value:d.price,onChange:A,placeholder:"Enter price",min:"0",step:"0.01",fullWidth:!0}),p.jsx(bt,{label:"Unit (Optional)",name:"unit",value:d.unit,onChange:A,placeholder:"e.g. ML, GM, PC, etc.",fullWidth:!0}),p.jsx(Br,{label:"Fulfillment Type",name:"fulfillmentType",value:d.fulfillmentType,onChange:A,options:d.storeName==="supply & serve"?[{value:"mf",label:"MF"}]:[{value:"fba",label:"FBA"},{value:"mf",label:"MF"}],fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Br,{label:"Location Code",name:"locationCode",value:d.locationCode,onChange:A,options:bye,required:!0,fullWidth:!0}),p.jsx(Br,{label:"Shelf Number",name:"shelfNumber",value:d.shelfNumber,onChange:A,options:wye(d.locationCode),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(bt,{label:"Barcode",name:"barcode",value:d.barcode||"",onChange:A,placeholder:"Enter barcode manually",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:()=>S(!0),className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),p.jsx(bt,{label:"ASIN",name:"asin",value:d.asin,onChange:A,placeholder:"Enter Amazon ASIN",fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx("div",{children:p.jsx(Br,{label:"Supplier",name:"supplier",value:d.supplier,onChange:A,options:rj,required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Store Name"}),p.jsx(Br,{value:d.storeName,onChange:j=>{const V=j.target.value;g(Q=>({...Q,storeName:V,fulfillmentType:V==="supply & serve"?"mf":Q.fulfillmentType})),v(V==="other"),V!=="other"&&b("")},options:[{value:"supply & serve",label:"Supply & Serve"},{value:"APHY",label:"APHY"},{value:"AZTEC",label:"AZTEC"},{value:"ZK",label:"ZK"},{value:"other",label:"Other"}]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[w&&p.jsx(bt,{label:"Other Supplier",value:P,onChange:j=>I(j.target.value),placeholder:"Enter supplier name",required:w,fullWidth:!0}),m&&!w&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(bt,{type:"text",value:y,onChange:j=>b(j.target.value),placeholder:"Enter store name",required:m})]}),m&&w&&p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium ${a?"text-slate-300":"text-slate-700"} mb-1`,children:"Other Store Name"}),p.jsx(bt,{type:"text",value:y,onChange:j=>b(j.target.value),placeholder:"Enter store name",required:m})]}),p.jsxs("div",{children:[p.jsx(bt,{label:"Damaged Items",name:"damagedItems",type:"number",value:d.damagedItems,onChange:A,placeholder:"Enter number of damaged items",min:"0",fullWidth:!0,className:s?"border-red-500 focus:border-red-500":""}),s&&p.jsx("p",{className:"mt-1 text-sm text-red-500",children:s})]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(st,{type:"submit",isLoading:n,icon:p.jsx(Gi,{size:18}),children:"Update Product"})}),p.jsx(cd,{isOpen:E,onClose:()=>S(!1),onBarcodeScanned:D})]})},Aye=[{value:"A1",label:"A1"},{value:"A2",label:"A2"},{value:"A3",label:"A3"},{value:"A4",label:"A4"},{value:"A5",label:"A5"},{value:"A6",label:"A6"},{value:"A7",label:"A7"},{value:"A8",label:"A8"},{value:"B1",label:"B1"},{value:"B2",label:"B2"},{value:"B3",label:"B3"},{value:"B4",label:"B4"},{value:"B5",label:"B5"},{value:"B6",label:"B6"},{value:"B7",label:"B7"},{value:"B8",label:"B8"},{value:"C1",label:"C1"},{value:"C2",label:"C2"},{value:"C3",label:"C3"},{value:"C4",label:"C4"},{value:"C5",label:"C5"},{value:"C6",label:"C6"},{value:"C7",label:"C7"},{value:"C8",label:"C8"},{value:"D1",label:"D1"},{value:"D2",label:"D2"},{value:"D3",label:"D3"},{value:"D4",label:"D4"},{value:"D5",label:"D5"},{value:"D6",label:"D6"},{value:"D7",label:"D7"},{value:"D8",label:"D8"},{value:"E1",label:"E1"},{value:"E2",label:"E2"},{value:"E3",label:"E3"},{value:"E4",label:"E4"},{value:"E5",label:"E5"},{value:"E6",label:"E6"},{value:"E7",label:"E7"},{value:"E8",label:"E8"},{value:"F1",label:"F1"},{value:"F2",label:"F2"},{value:"F3",label:"F3"},{value:"F4",label:"F4"},{value:"F5",label:"F5"},{value:"F6",label:"F6"},{value:"F7",label:"F7"},{value:"F8",label:"F8"},{value:"G1",label:"G1"},{value:"G2",label:"G2"},{value:"G3",label:"G3"},{value:"G4",label:"G4"},{value:"G5",label:"G5"},{value:"G6",label:"G6"},{value:"G7",label:"G7"},{value:"G8",label:"G8"},{value:"H1",label:"H1"},{value:"H2",label:"H2"},{value:"H3",label:"H3"},{value:"H4",label:"H4"},{value:"H5",label:"H5"},{value:"H6",label:"H6"},{value:"H7",label:"H7"},{value:"H8",label:"H8"},{value:"I1",label:"I1"},{value:"I2",label:"I2"},{value:"I3",label:"I3"},{value:"I4",label:"I4"},{value:"I5",label:"I5"},{value:"I6",label:"I6"},{value:"I7",label:"I7"},{value:"I8",label:"I8"},{value:"J1",label:"J1"},{value:"J2",label:"J2"},{value:"J3",label:"J3"},{value:"J4",label:"J4"},{value:"J5",label:"J5"},{value:"J6",label:"J6"},{value:"J7",label:"J7"},{value:"J8",label:"J8"},{value:"K1",label:"K1"},{value:"K2",label:"K2"},{value:"K3",label:"K3"},{value:"K4",label:"K4"},{value:"K5",label:"K5"},{value:"K6",label:"K6"},{value:"K7",label:"K7"},{value:"K8",label:"K8"},{value:"L1",label:"L1"},{value:"L2",label:"L2"},{value:"L3",label:"L3"},{value:"L4",label:"L4"},{value:"L5",label:"L5"},{value:"L6",label:"L6"},{value:"L7",label:"L7"},{value:"L8",label:"L8"},{value:"M1",label:"M1"},{value:"M2",label:"M2"},{value:"M3",label:"M3"},{value:"M4",label:"M4"},{value:"M5",label:"M5"},{value:"M6",label:"M6"},{value:"M7",label:"M7"},{value:"M8",label:"M8"},{value:"N1",label:"N1"},{value:"N2",label:"N2"},{value:"N3",label:"N3"},{value:"N4",label:"N4"},{value:"N5",label:"N5"},{value:"N6",label:"N6"},{value:"N7",label:"N7"},{value:"N8",label:"N8"},{value:"O1",label:"O1"},{value:"O2",label:"O2"},{value:"O3",label:"O3"},{value:"O4",label:"O4"},{value:"O5",label:"O5"},{value:"O6",label:"O6"},{value:"O7",label:"O7"},{value:"O8",label:"O8"},{value:"P1",label:"P1"},{value:"P2",label:"P2"},{value:"P3",label:"P3"},{value:"P4",label:"P4"},{value:"P5",label:"P5"},{value:"P6",label:"P6"},{value:"P7",label:"P7"},{value:"P8",label:"P8"},{value:"Q1",label:"Q1"},{value:"Q2",label:"Q2"},{value:"Q3",label:"Q3"},{value:"Q4",label:"Q4"},{value:"Q5",label:"Q5"},{value:"Q6",label:"Q6"},{value:"Q7",label:"Q7"},{value:"Q8",label:"Q8"},{value:"R1",label:"R1"},{value:"R2",label:"R2"},{value:"R3",label:"R3"},{value:"R4",label:"R4"},{value:"R5",label:"R5"},{value:"R6",label:"R6"},{value:"R7",label:"R7"},{value:"R8",label:"R8"},{value:"S1",label:"S1"},{value:"S2",label:"S2"},{value:"S3",label:"S3"},{value:"S4",label:"S4"},{value:"S5",label:"S5"},{value:"S6",label:"S6"},{value:"S7",label:"S7"},{value:"S8",label:"S8"},{value:"T1",label:"T1"},{value:"T2",label:"T2"},{value:"T3",label:"T3"},{value:"T4",label:"T4"},{value:"T5",label:"T5"},{value:"T6",label:"T6"},{value:"T7",label:"T7"},{value:"T8",label:"T8"},{value:"U1",label:"U1"},{value:"U2",label:"U2"},{value:"U3",label:"U3"},{value:"U4",label:"U4"},{value:"U5",label:"U5"},{value:"U6",label:"U6"},{value:"U7",label:"U7"},{value:"U8",label:"U8"},{value:"V1",label:"V1"},{value:"V2",label:"V2"},{value:"V3",label:"V3"},{value:"V4",label:"V4"},{value:"V5",label:"V5"},{value:"V6",label:"V6"},{value:"V7",label:"V7"},{value:"V8",label:"V8"},{value:"W1",label:"W1"},{value:"W2",label:"W2"},{value:"W3",label:"W3"},{value:"W4",label:"W4"},{value:"W5",label:"W5"},{value:"W6",label:"W6"},{value:"W7",label:"W7"},{value:"W8",label:"W8"},{value:"X1",label:"X1"},{value:"X2",label:"X2"},{value:"X3",label:"X3"},{value:"X4",label:"X4"},{value:"X5",label:"X5"},{value:"X6",label:"X6"},{value:"X7",label:"X7"},{value:"X8",label:"X8"},{value:"Y1",label:"Y1"},{value:"Y2",label:"Y2"},{value:"Y3",label:"Y3"},{value:"Y4",label:"Y4"},{value:"Y5",label:"Y5"},{value:"Y6",label:"Y6"},{value:"Y7",label:"Y7"},{value:"Y8",label:"Y8"},{value:"Z1",label:"Z1"},{value:"Z2",label:"Z2"},{value:"Z3",label:"Z3"},{value:"Z4",label:"Z4"},{value:"Z5",label:"Z5"},{value:"Z6",label:"Z6"},{value:"Z7",label:"Z7"},{value:"Z8",label:"Z8"},{value:"Awaiting Location",label:"Awaiting Location"}],Tye=({onSubmit:e,onClose:t,isLoading:r=!1})=>{const[n,a]=W.useState([]),[i,s]=W.useState({name:"",locationCode:"A1",shelfNumber:"0",barcode:"",quantity:""}),[o,l]=W.useState({}),[c,u]=W.useState(!1),[f,h]=W.useState(null),[d,g]=W.useState(!1),[m,v]=W.useState(null),y=W.useRef(null);W.useEffect(()=>{a(df(i.locationCode))},[]),W.useEffect(()=>{a(df(i.locationCode));const S=df(i.locationCode).length-1;parseInt(i.shelfNumber)>S&&s(A=>({...A,shelfNumber:"0"}))},[i.locationCode]);const b=S=>{const{name:A,value:D}=S.target;s(T=>({...T,[A]:D})),o[A]&&l(T=>{const k={...T};return delete k[A],k}),A==="barcode"&&D.length===13&&!d?(y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{D.length===13&&P(D)},500)):A==="barcode"&&D.length!==13&&y.current&&(clearTimeout(y.current),y.current=null)},w=()=>{u(!0)},O=async S=>{s(D=>({...D,barcode:S})),h(null),v(null),g(!0);let A=!1;try{const D=sr(Et(et,"scannedProducts"),tr("barcode","==",S)),T=await hr(D);if(T.empty){const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${S}`,Q=await(await fetch(j)).json();if(Q&&Q.items&&Q.items.length>0){const Y=Q.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database."),A=!0}else h("No product found for this barcode. Please enter details manually.")}else{const k=T.docs[0].data();s(j=>({...j,name:k.name||j.name})),h("Product name auto-filled from scanned products."),A=!0}}catch{v("Failed to fetch product info."),h("Failed to search for product. Please enter details manually.")}finally{g(!1),!A&&S.length===13&&setTimeout(()=>{P(S)},100)}},P=async S=>{const A=S||i.barcode;if(!(!A||d)){v(null),g(!0);try{const D=sr(Et(et,"scannedProducts"),tr("barcode","==",A)),T=await hr(D);if(T.empty){const j=`https://corsproxy.io/?https://api.upcitemdb.com/prod/trial/lookup?upc=${A}`,Q=await(await fetch(j)).json();if(Q&&Q.items&&Q.items.length>0){const Y=Q.items[0];s(J=>({...J,name:Y.title||J.name})),h("Product name auto-filled from external database.")}else v("No product info found for this barcode.")}else{const k=T.docs[0].data();s(j=>({...j,name:k.name||j.name})),h("Product name auto-filled from scanned products.")}}catch{v("Failed to fetch product info.")}finally{g(!1)}}},I=()=>{const S={};return i.name.trim()||(S.name="Product name is required"),i.locationCode||(S.locationCode="Location is required"),i.shelfNumber||(S.shelfNumber="Shelf number is required"),(!i.quantity||parseInt(i.quantity)<=0)&&(S.quantity="Quantity must be greater than 0"),l(S),Object.keys(S).length===0},E=async S=>{if(S.preventDefault(),!I())return;const A={name:i.name.toUpperCase(),quantity:parseInt(i.quantity),price:0,unit:null,supplier:"not set",lastUpdated:new Date,locationCode:i.locationCode,shelfNumber:i.shelfNumber,barcode:i.barcode||null,asin:null,status:"pending",damagedItems:0,fulfillmentType:"fba",storeName:"not set"};try{await e([A]),t()}catch(D){console.error("Error adding stock:",D)}};return p.jsxs(p.Fragment,{children:[p.jsxs("form",{onSubmit:E,className:"space-y-4",children:[p.jsx(bt,{label:"Product Name",name:"name",value:i.name,onChange:b,placeholder:"Enter product name",error:o.name,required:!0,fullWidth:!0}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Br,{label:"Location Code",name:"locationCode",value:i.locationCode,onChange:b,options:Aye,error:o.locationCode,required:!0,fullWidth:!0}),p.jsx(Br,{label:"Shelf Number",name:"shelfNumber",value:i.shelfNumber,onChange:b,options:n,error:o.shelfNumber,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex gap-2 relative w-full",children:[p.jsx(bt,{label:"Barcode",name:"barcode",value:i.barcode,onChange:b,placeholder:"Enter barcode",fullWidth:!0,style:{paddingRight:44}}),p.jsx("button",{type:"button",onClick:async()=>{if(i.barcode.trim()&&!d){v(null),g(!0);try{await P()}finally{g(!1)}}},className:"absolute right-2 top-1/2 -translate-y-1 flex items-center justify-center w-8 h-8 rounded-md transition bg-transparent hover:bg-blue-50 focus:bg-blue-100 outline-none border-none p-0",style:{zIndex:2},title:"Fetch product info by barcode",tabIndex:0,"aria-label":"Fetch product info by barcode",disabled:d,children:d?p.jsxs("svg",{className:"animate-spin text-blue-500",width:"18",height:"18",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):p.jsx(Oc,{size:18,className:"text-blue-500"})})]}),m&&p.jsxs("div",{className:"text-red-500 text-sm",children:[m," Please enter details manually."]}),f&&p.jsx("div",{className:"flex items-center text-xs mt-1 text-green-600 dark:text-green-400 pl-1",children:f}),d&&p.jsxs("div",{className:"flex items-center gap-2 text-blue-500 text-sm",children:[p.jsxs("svg",{className:"w-4 h-4 animate-spin",viewBox:"0 0 24 24",children:[p.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),p.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Fetching product info..."]})]}),p.jsx(bt,{label:"Quantity",name:"quantity",type:"number",value:i.quantity,onChange:b,placeholder:"Enter quantity",error:o.quantity,min:"1",required:!0,fullWidth:!0}),p.jsxs("div",{className:"flex items-center justify-end gap-4 pt-2",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(st,{type:"submit",isLoading:r,icon:p.jsx(Gi,{size:18}),children:"Quick Add"}),p.jsx(st,{type:"button",onClick:w,variant:"primary",icon:p.jsx(Oc,{size:18}),className:"whitespace-nowrap",children:"Scan"})]})]})]}),p.jsx(cd,{isOpen:c,onClose:()=>u(!1),onBarcodeScanned:O})]})},uC=({isOpen:e,onClose:t,item:r})=>{const{isDarkMode:n}=Jr(),{user:a}=xa();return r?p.jsx(yn,{isOpen:e,onClose:t,title:r.name,size:"xl",children:p.jsxs("div",{className:"space-y-6",children:[p.jsx("div",{className:"flex flex-col md:flex-row gap-6",children:p.jsxs("div",{className:"w-full",children:[p.jsx("div",{className:"mb-4 flex items-center justify-between",children:p.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${r.quantity<10?"bg-red-100 text-red-800 ":r.quantity<=25?"bg-yellow-100 text-yellow-800 ":"bg-green-100 text-green-800 "}`,children:r.quantity<10?"Critical Low Stock":r.quantity<=25?"Low Stock":"In Stock"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Quantity"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.quantity})]}),(a==null?void 0:a.role)==="admin"&&p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Price"}),p.jsx("p",{className:`mt-1 text-sm ${n?"text-slate-200":"text-slate-900"}`,children:Number(r.price)>0?`£${Number(r.price).toFixed(2)}`:"Not set yet"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Unit"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.unit||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Supplier"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.supplier})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Location"}),p.jsxs("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:[r.locationCode," - ",r.shelfNumber]})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"ASIN"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.asin?r.asin.includes(",")?r.asin.split(",").map((i,s)=>p.jsx("span",{className:"block",children:i.trim()},s)):r.asin:"-"})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Status"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="active"?"Active":"Pending"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Damaged Items"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.damagedItems>0?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:r.damagedItems>0?`${r.damagedItems} Damaged`:"None"})})]}),p.jsxs("div",{children:[p.jsx("h3",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-500"}`,children:"Fulfillment Type"}),p.jsx("p",{className:"mt-1",children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${r.fulfillmentType==="fba"?"bg-blue-100 text-blue-700":r.fulfillmentType==="mf"?"bg-purple-100 text-purple-700":"bg-indigo-100 text-indigo-700"}`,children:r.fulfillmentType==="fba"?"FBA":r.fulfillmentType==="mf"?"MF":"None"})})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Barcode"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.barcode||"-"})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Last Updated"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:Xt(r.lastUpdated,"MMM d, yyyy")})]}),p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:"Store Name"}),p.jsx("p",{className:`font-medium ${n?"text-slate-200":"text-slate-800"}`,children:r.storeName||"-"})]})]})]})}),p.jsxs("div",{className:`pt-3 border-t ${n?"border-slate-700":"border-slate-200"}`,children:[p.jsxs("div",{className:"flex justify-between items-center mb-2",children:[p.jsx("span",{className:`text-sm font-medium ${n?"text-slate-300":"text-slate-700"}`,children:"Stock Level"}),p.jsxs("span",{className:`text-sm ${n?"text-slate-400":"text-slate-500"}`,children:[r.quantity," units"]})]}),p.jsxs("div",{className:`h-2 w-full ${n?"bg-slate-700":"bg-slate-200"} rounded-full overflow-hidden relative`,children:[p.jsx("div",{className:`h-full ${r.quantity<10?"bg-red-500":r.quantity<=25?"bg-orange-500":"bg-green-500"}`,style:{width:`${Math.min(r.quantity/50*100,100)}%`}}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-red-400":"bg-red-600"}`,style:{left:`calc(${10/50*100}% - 1px)`},title:"Critical Threshold (10 units)"}),p.jsx("div",{className:`absolute top-0 h-full w-0.5 ${n?"bg-orange-400":"bg-orange-600"}`,style:{left:`calc(${25/50*100}% - 1px)`},title:"Low Stock Threshold (25 units)"})]}),p.jsxs("div",{className:`mt-1 flex justify-between text-xs ${n?"text-slate-400":"text-slate-500"}`,children:[p.jsx("span",{children:"0"}),p.jsx("span",{children:"Critical: <10"}),p.jsx("span",{children:"Low: 10-25"}),p.jsx("span",{children:"25+"})]})]})]})}):null},_b=({isOpen:e,onClose:t,onConfirm:r,title:n,message:a,isLoading:i=!1})=>{const{isDarkMode:s}=Jr();return p.jsx(yn,{isOpen:e,onClose:t,title:n,size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-3 text-amber-600",children:[p.jsx(pv,{size:24}),p.jsx("p",{className:s?"text-slate-200":"text-slate-700",children:a})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(st,{variant:"secondary",onClick:t,disabled:i,className:s?"text-slate-100":"text-slate-700",children:"Cancel"}),p.jsx(st,{variant:"danger",onClick:r,isLoading:i,children:"Delete"})]})]})})},Eye=({isOpen:e,onClose:t,onConfirm:r,onCancel:n,onMerge:a,locationCode:i,shelfNumber:s,existingProducts:o,newProductName:l,newProductBarcode:c})=>{const u=o.filter(m=>m.quantity>0),f=u.length,h=u.reduce((m,v)=>m+v.quantity,0),d=c&&u.some(m=>m.barcode===c),g=d?u.find(m=>m.barcode===c):null;return p.jsx(yn,{isOpen:e,onClose:t,title:"Location Already Occupied",size:"md",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-start gap-3",children:[p.jsx(pv,{className:"w-6 h-6 text-amber-500 mt-1 flex-shrink-0"}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["The location ",p.jsxs("strong",{children:[i,"-",s]})," already contains products."]}),p.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:u.length>0?p.jsxs(p.Fragment,{children:[p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"Current products in this location:"}),p.jsx("ul",{className:"mt-2 space-y-1",children:u.map((m,v)=>p.jsxs("li",{className:"text-sm text-amber-700 dark:text-amber-300",children:["• ",m.name," (",m.quantity," units)",m.barcode&&p.jsxs("span",{className:"text-xs text-amber-600 dark:text-amber-400 ml-2",children:["Barcode: ",m.barcode]})]},v))}),p.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mt-2",children:["Total: ",f," product",f!==1?"s":""," (",h," units)"]})]}):p.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200 font-medium",children:"This location appears to be empty (all products have 0 quantity)."})}),d&&g&&p.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-3",children:[p.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 font-medium",children:"Merge Available!"}),p.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-1",children:['The product "',l,'" has the same barcode (',c,') as "',g.name,'" which is already in this location. You can merge them to add quantity instead of creating a duplicate entry.']})]}),p.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Do you still want to add ",p.jsx("strong",{children:l})," to this location?"]})]})]}),p.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[p.jsx(st,{variant:"secondary",onClick:n,children:"Cancel"}),d&&a&&p.jsx(st,{onClick:a,className:"bg-blue-600 hover:bg-blue-700 focus:ring-blue-500",children:"Merge Products"}),p.jsx(st,{onClick:r,className:"bg-amber-600 hover:bg-amber-700 focus:ring-amber-500",children:"Yes, Add Product"})]})]})})},kye=()=>{const[e,t]=W.useState(""),[r,n]=W.useState(""),[a,i]=W.useState(""),[s,o]=W.useState(""),[l,c]=W.useState("name"),[u,f]=W.useState(!1),[h,d]=W.useState(!1),[g,m]=W.useState(!1),[v,y]=W.useState(!1),[b,w]=W.useState(!1),[O,P]=W.useState(null),[I,E]=W.useState([]),[S,A]=W.useState(new Set),[D,T]=W.useState(!1),{showToast:k}=Yc(),{isDarkMode:j}=Jr(),{user:V}=xa(),[Q,Y]=W.useState(!1),[J,H]=W.useState(null),[U,re]=W.useState(!1),[z,C]=W.useState(!1),[F,q]=W.useState(null),[K,Z]=W.useState(null),[oe,fe]=W.useState(null),[ie,de]=W.useState(!1),[_e,B]=W.useState("all"),[Te,ge]=W.useState(!1),[ve,te]=W.useState(null);W.useEffect(()=>{const Ee=setTimeout(()=>{n(e)},300);return()=>{clearTimeout(Ee)}},[e]),W.useEffect(()=>{const Ee=setTimeout(()=>{o(a)},300);return()=>{clearTimeout(Ee)}},[a]);const ke=W.useCallback(async()=>{w(!0);try{const Ee=sr(Et(et,"inventory"),ka("name")),nt=(await hr(Ee)).docs.map(St=>{const ht=St.data();return{id:St.id,...ht,lastUpdated:ht.lastUpdated instanceof Zt?ht.lastUpdated.toDate():new Date(ht.lastUpdated)}});E(nt)}catch(Ee){console.error("Error fetching stock items:",Ee),k("Failed to fetch stock items","error")}finally{w(!1)}},[k]),$e=W.useCallback(async()=>{try{const Ee=Et(et,"inventory"),Xe=await eN(Ee);te(Xe.data().count)}catch{te(null)}},[]);W.useEffect(()=>{ke(),$e()},[ke,$e]),W.useEffect(()=>{const Ee=Xe=>{const nt=Xe.target;nt.closest(".store-filter-dropdown")||de(!1),nt.closest(".status-filter-dropdown")||ge(!1)};return(ie||Te)&&document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[ie,Te]);const Fe=W.useMemo(()=>[{value:"name",label:"Name (A-Z)"},{value:"quantity",label:"Quantity (High-Low)"},{value:"price",label:"Price (High-Low)"},{value:"date",label:"Date Updated"}],[]),Qe=W.useMemo(()=>["supply & serve","APHY","AZTEC","ZK"],[]),Le=W.useMemo(()=>{const Ee=r.toLowerCase(),Xe=s.toLowerCase();return I.filter(nt=>{if(nt.quantity===0)return!1;const St=r===""||nt.name.toLowerCase().startsWith(Ee),ht=s===""||nt.barcode&&nt.barcode.toLowerCase().includes(Xe)||nt.asin&&nt.asin.split(",").some(Nr=>Nr.trim().toLowerCase().includes(Xe)),Mt=oe?oe.storeName==="other"?!Qe.includes(nt.storeName)&&nt.fulfillmentType===oe.fulfillmentType:nt.storeName===oe.storeName&&nt.fulfillmentType===oe.fulfillmentType:!0,xr=_e==="all"||nt.status===_e;return St&&ht&&Mt&&xr}).sort((nt,St)=>l==="name"?nt.name.localeCompare(St.name):l==="quantity"?St.quantity-nt.quantity:l==="price"?St.price-nt.price:l==="date"?new Date(St.lastUpdated).getTime()-new Date(nt.lastUpdated).getTime():0)},[I,r,s,oe,_e,l,Qe]),Ge=W.useCallback((Ee,Xe)=>I.filter(nt=>nt.locationCode===Ee&&nt.shelfNumber===Xe),[I]),Me=W.useCallback(async Ee=>{w(!0);try{const Xe=[];for(const nt of Ee)if(nt.barcode){const St=sr(Et(et,"inventory"),tr("barcode","==",nt.barcode),tr("quantity","==",0)),ht=await hr(St);if(!ht.empty){const Mt=ht.docs[0];if(await jh(Hr(et,"inventory",Mt.id)),E(xr=>xr.filter(Nr=>Nr.id!==Mt.id)),V){const xr=Mt.data();await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`deleted hidden product "${xr.name}" with barcode ${nt.barcode} from location ${xr.locationCode}-${xr.shelfNumber}`,time:new Date().toISOString()})}}}for(const nt of Ee){const St=await Er(Et(et,"inventory"),{...nt,lastUpdated:Zt.fromDate(new Date)});Xe.push({...nt,id:St.id,lastUpdated:new Date})}if(V){const nt=Ee.reduce((ht,Mt)=>ht+Mt.quantity,0),St=Ee.map(ht=>`${ht.quantity} at ${ht.locationCode}-${ht.shelfNumber}`).join(", ");await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`added new product "${Ee[0].name}" with total quantity ${nt} (${St})`,time:new Date().toISOString()})}E(nt=>[...nt,...Xe]),f(!1),re(!1),k("Stock items added successfully","success")}catch(Xe){console.error("Error adding stock:",Xe),k("Failed to add stock items","error")}finally{w(!1)}},[V,k]),Ye=W.useCallback(async Ee=>{const Xe=[];for(const nt of Ee){const St=Ge(nt.locationCode,nt.shelfNumber);St.length>0&&Xe.push({locationCode:nt.locationCode,shelfNumber:nt.shelfNumber,products:St})}if(Xe.length>0){const nt=Xe[0];Z({locationCode:nt.locationCode,shelfNumber:nt.shelfNumber,existingProducts:nt.products,newProductName:Ee[0].name,newProductBarcode:Ee[0].barcode||void 0}),q(Ee),C(!0);return}await Me(Ee)},[Ge,Me]),mt=W.useCallback(async()=>{F&&(await Me(F),C(!1),q(null),Z(null),f(!1),re(!1))},[F,Me]),at=W.useCallback(()=>{C(!1),q(null),Z(null),f(!1),re(!1)},[]),gt=W.useCallback(async()=>{if(F&&K)try{w(!0);const Ee=K.existingProducts.find(Xe=>Xe.barcode===K.newProductBarcode);if(Ee){const Xe=Ee.quantity+F[0].quantity,nt=Hr(et,"inventory",Ee.id);await Ta(nt,{quantity:Xe,lastUpdated:Zt.fromDate(new Date)}),V&&(await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`merged ${F[0].quantity} units of "${F[0].name}" with existing stock "${Ee.name}" at location ${K.locationCode}-${K.shelfNumber}`,time:new Date().toISOString()}),await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": quantity from ${Ee.quantity} to ${Xe}`,time:new Date().toISOString()})),await ke(),k("Products merged successfully","success")}}catch(Ee){console.error("Error merging products:",Ee),k("Failed to merge products","error")}finally{w(!1),C(!1),q(null),Z(null),f(!1),re(!1)}},[F,K,V,ke,k]),At=W.useCallback(async(Ee,Xe)=>{w(!0);try{const nt=new Date,St={},ht=[];if(Ee.name!==Xe.name&&(St.name=Ee.name,ht.push(`name from "${Xe.name}" to "${Ee.name}"`)),Ee.price!==Xe.price){St.price=Ee.price;const Mt=Number(Xe.price||0).toFixed(2),xr=Number(Ee.price||0).toFixed(2);ht.push(`price from £${Mt} to £${xr}`)}if((Ee.locationCode!==Xe.locationCode||Ee.shelfNumber!==Xe.shelfNumber)&&(St.locationCode=Ee.locationCode,St.shelfNumber=Ee.shelfNumber,ht.push(`location from ${Xe.locationCode}-${Xe.shelfNumber} to ${Ee.locationCode}-${Ee.shelfNumber}`)),Ee.supplier!==Xe.supplier&&(St.supplier=Ee.supplier,ht.push(`supplier from "${Xe.supplier||"none"}" to "${Ee.supplier||"none"}"`)),Ee.asin!==Xe.asin&&(St.asin=Ee.asin,ht.push(`ASIN from "${Xe.asin||"none"}" to "${Ee.asin||"none"}"`)),Ee.status!==Xe.status&&(St.status=Ee.status,ht.push(`status from "${Xe.status}" to "${Ee.status}"`)),Ee.damagedItems!==Xe.damagedItems&&(St.damagedItems=Ee.damagedItems,ht.push(`damaged items from ${Xe.damagedItems} to ${Ee.damagedItems}`)),Ee.fulfillmentType!==Xe.fulfillmentType&&(St.fulfillmentType=Ee.fulfillmentType,ht.push(`fulfillment type from "${Xe.fulfillmentType.toUpperCase()}" to "${Ee.fulfillmentType.toUpperCase()}"`)),Ee.storeName!==Xe.storeName&&(St.storeName=Ee.storeName,ht.push(`store name from "${Xe.storeName}" to "${Ee.storeName}"`)),Ee.unit!==Xe.unit&&(St.unit=Ee.unit,ht.push(`unit from "${Xe.unit||"none"}" to "${Ee.unit||"none"}"`)),Ee.barcode!==Xe.barcode&&(St.barcode=Ee.barcode,ht.push(`barcode from "${Xe.barcode||"none"}" to "${Ee.barcode||"none"}"`)),Object.keys(St).length>0){const Mt=Hr(et,"inventory",Ee.id);await Ta(Mt,{...St,lastUpdated:Zt.fromDate(nt)}),V&&ht.length>0&&await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": ${ht.join(", ")}`,time:nt.toISOString()});const xr=I.map(Nr=>Nr.id===Ee.id?{...Nr,...St,lastUpdated:nt}:Nr);E(xr),k("Stock details updated successfully","success"),d(!1),P(null)}if(Ee.quantity>Xe.quantity)H({itemId:Ee.id,newQuantity:Ee.quantity}),Y(!0),d(!1);else if(Ee.quantity!==Xe.quantity){const Mt=Hr(et,"inventory",Ee.id);await Ta(Mt,{quantity:Ee.quantity,lastUpdated:Zt.fromDate(nt)}),V&&await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${Ee.name}": quantity from ${Xe.quantity} to ${Ee.quantity}`,time:nt.toISOString()});const xr=I.map(Nr=>Nr.id===Ee.id?{...Nr,quantity:Ee.quantity,lastUpdated:nt}:Nr);E(xr),k("Stock quantity updated","success"),d(!1),P(null)}else d(!1),P(null)}catch(nt){console.error("Error updating stock:",nt),k("Failed to update stock item","error")}finally{w(!1)}},[I,V,k]),Pt=W.useCallback(async()=>{if(J){w(!0);try{const{itemId:Ee,newQuantity:Xe}=J,nt=new Date,St=I.find(xr=>xr.id===Ee),ht=Hr(et,"inventory",Ee);await Ta(ht,{quantity:Xe,lastUpdated:Zt.fromDate(nt)}),V&&St&&await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`edited product "${St.name}": quantity from ${St.quantity} to ${Xe}`,time:nt.toISOString()});const Mt=I.map(xr=>xr.id===Ee?{...xr,quantity:Xe,lastUpdated:nt}:xr);E(Mt),k("Stock quantity updated successfully","success"),P(null)}catch(Ee){console.error("Error updating quantity:",Ee),k("Failed to update quantity","error")}finally{w(!1),Y(!1),H(null)}}},[J,I,V,k]),ft=W.useCallback(async Ee=>{w(!0);try{const Xe=I.find(nt=>nt.id===Ee);await jh(Hr(et,"inventory",Ee)),V&&Xe&&await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`deleted product "${Xe.name}" (${Xe.quantity} units) from location ${Xe.locationCode}-${Xe.shelfNumber}`,time:new Date().toISOString()}),E(I.filter(nt=>nt.id!==Ee)),m(!1),P(null),k("Stock item deleted successfully","success")}catch(Xe){console.error("Error deleting stock:",Xe),k("Failed to delete stock item","error")}finally{w(!1)}},[I,V,k]),rt=W.useCallback(Ee=>{P(Ee)},[]),Kt=W.useCallback((Ee,Xe)=>{Ee.stopPropagation(),P(Xe),d(!0)},[]),Vt=W.useCallback((Ee,Xe)=>{Ee.stopPropagation(),P(Xe),m(!0)},[]),Ur=W.useCallback(()=>{S.size===Le.length?A(new Set):A(new Set(Le.map(Ee=>Ee.id)))},[Le,S.size]),wt=W.useCallback(Ee=>{const Xe=new Set(S);Xe.has(Ee)?Xe.delete(Ee):Xe.add(Ee),A(Xe)},[S]),Ct=W.useCallback(async()=>{if(S.size!==0){w(!0);try{const Ee=I.filter(nt=>S.has(nt.id)),Xe=Array.from(S).map(nt=>jh(Hr(et,"inventory",nt)));if(await Promise.all(Xe),V){const nt=Ee.map(St=>`"${St.name}" (${St.quantity} units) from ${St.locationCode}-${St.shelfNumber}`).join(", ");await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk deleted ${S.size} products: ${nt}`,time:new Date().toISOString()})}E(I.filter(nt=>!S.has(nt.id))),A(new Set),T(!1),y(!1),k(`Successfully deleted ${S.size} items`,"success")}catch(Ee){console.error("Error deleting items:",Ee),k("Failed to delete selected items","error")}finally{w(!1)}}},[O,I,V,k]),Qt=W.useCallback(async()=>{if(S.size!==0){w(!0);try{const Ee=I.filter(nt=>S.has(nt.id)&&nt.status==="pending");if(Ee.length===0){k("No pending items selected to activate","error");return}const Xe=Ee.map(nt=>Ta(Hr(et,"inventory",nt.id),{status:"active",lastUpdated:Zt.fromDate(new Date)}));if(await Promise.all(Xe),V){const nt=Ee.map(St=>`"${St.name}" from ${St.locationCode}-${St.shelfNumber}`).join(", ");await Er(Et(et,"activityLogs"),{user:V.name,role:V.role,detail:`Bulk activated ${Ee.length} pending products: ${nt}`,time:new Date().toISOString()})}E(I.map(nt=>S.has(nt.id)&&nt.status==="pending"?{...nt,status:"active",lastUpdated:new Date}:nt)),A(new Set),T(!1),k(`Successfully activated ${Ee.length} items`,"success")}catch(Ee){console.error("Error activating items:",Ee),k("Failed to activate selected items","error")}finally{w(!1)}}},[O,I,V,k]),Bt=W.useCallback(()=>{T(!D),D||A(new Set)},[D]),Sr=W.useCallback(({item:Ee})=>p.jsxs("tr",{className:`hover:${j?"bg-slate-700/50":"bg-slate-50"} cursor-pointer`,onClick:()=>rt(Ee),children:[D&&p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,onClick:Xe=>Xe.stopPropagation(),children:p.jsx("input",{type:"checkbox",checked:S.has(Ee.id),onChange:()=>wt(Ee.id),className:`h-4 w-4 text-blue-600 rounded ${j?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`})}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-blue-400":"text-blue-700"} font-medium`,children:Ee.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:Ee.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:[Ee.locationCode," - ",Ee.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:Ee.asin?Ee.asin.split(",").length>3?Ee.asin.split(",").slice(0,3).map(Xe=>Xe.trim()).join(", ")+"...":Ee.asin.split(",").map(Xe=>Xe.trim()).join(", "):"-"}),(V==null?void 0:V.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("td",{className:`px-4 py-3 text-right text-sm ${j?"text-slate-200":"text-slate-900"}`,children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-right text-sm ${j?"text-slate-200":"text-slate-900"}`,children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[Ee.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center",children:"Critical Low"}),Ee.quantity>10&&Ee.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center",children:"Low Stock"}),p.jsx("span",{children:Ee.quantity})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"}`,children:Xt(new Date(Ee.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:`px-4 py-3 text-sm ${j?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[p.jsx("button",{onClick:Xe=>Kt(Xe,Ee),className:`p-1 ${j?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(Rs,{size:16})}),p.jsx("button",{onClick:Xe=>Vt(Xe,Ee),className:`p-1 ${j?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(Ui,{size:16})})]})})]},Ee.id),[D,S,j,V,rt,wt,Kt,Vt]);return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between py-4",children:[p.jsx("h1",{className:`text-2xl font-bold ${j?"text-white":"text-gray-900"}`,children:"Inbound"}),p.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-semibold ${j?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total Products: ",ve!==null?ve:p.jsx("span",{className:"animate-pulse",children:"..."})]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[p.jsx("div",{children:p.jsx("p",{className:`${j?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage your inbound stock, track quantities, and monitor product status"})}),p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:D?p.jsxs(p.Fragment,{children:[_e==="pending"&&p.jsxs(st,{onClick:Qt,variant:"primary",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[p.jsx(yZ,{size:16}),"Go Live (",S.size,")"]}),p.jsxs(st,{onClick:()=>y(!0),variant:"danger",className:"flex items-center gap-2 w-full sm:w-auto",disabled:b||S.size===0,children:[p.jsx(Ui,{size:16}),"Delete Selected (",S.size,")"]}),p.jsx(st,{onClick:Bt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:"Cancel"})]}):p.jsxs(p.Fragment,{children:[p.jsxs(st,{onClick:Bt,variant:"secondary",className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Yx,{size:16}),"Select Items"]}),p.jsxs(st,{variant:"secondary",onClick:()=>re(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Gi,{size:16}),"Quick Add"]}),p.jsxs(st,{variant:"primary",onClick:()=>f(!0),className:"flex items-center gap-2 w-full sm:w-auto",children:[p.jsx(Gi,{size:16}),"Add New Stock"]})]})})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(bt,{type:"text",placeholder:"Search by product name",value:e,onChange:Ee=>t(Ee.target.value),className:"pl-10"})]}),p.jsxs("div",{className:"relative",children:[p.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(bt,{type:"text",placeholder:"Search by barcode or ASIN",value:a,onChange:Ee=>i(Ee.target.value),className:"pl-10"})]})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Br,{value:l,onChange:Ee=>c(Ee.target.value),options:Fe})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(st,{variant:"secondary",onClick:()=>ge(!Te),className:`flex items-center gap-2 ${_e!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[_e==="all"?"Status Filter":_e==="active"?"Active":"Pending",p.jsx(yf,{size:16})]}),Te&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${j?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${_e==="all"?j?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("all"),ge(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${_e==="active"?j?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("active"),ge(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${_e==="pending"?j?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{B("pending"),ge(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${j?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{B("all"),ge(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(st,{variant:"secondary",onClick:()=>de(!ie),className:`flex items-center gap-2 ${oe?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[oe?`${oe.storeName==="other"?"Other":oe.storeName} - ${oe.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(yf,{size:16})]}),ie&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${j?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(Ee=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee?j?"bg-slate-700":"bg-slate-100":""}`,children:Ee}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[Ee!=="supply & serve"&&p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee&&(oe==null?void 0:oe.fulfillmentType)==="fba"?j?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{fe({storeName:Ee,fulfillmentType:"fba"}),de(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${j?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(oe==null?void 0:oe.storeName)===Ee&&(oe==null?void 0:oe.fulfillmentType)==="mf"?j?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{fe({storeName:Ee,fulfillmentType:"mf"}),de(!1)},children:"MF"})]})]},Ee)),p.jsx("div",{className:`border-t ${j?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${j?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{fe(null),de(!1)},children:"Clear Filter"})})]})})]})]}),p.jsx(st,{variant:"secondary",onClick:ke,className:`flex items-center gap-2 ${b?"opacity-50 cursor-not-allowed":""}`,disabled:b,children:p.jsx(ds,{size:16,className:b?"animate-spin":""})})]}),b?p.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(us,{className:`w-8 h-8 ${j?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:j?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Le.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${j?"divide-slate-700":"divide-slate-200"} ${j?"bg-slate-800":"bg-white"} rounded-lg border ${j?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:j?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[D&&p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("input",{type:"checkbox",checked:S.size===Le.length,onChange:Ur,className:`h-4 w-4 text-blue-600 rounded ${j?"border-slate-600 bg-slate-700":"border-slate-300"} focus:ring-blue-500`}),p.jsx("span",{children:"Select"})]})}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"FT"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),(V==null?void 0:V.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Total Price"})]}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${j?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${j?"divide-slate-700":"divide-slate-200"}`,children:Le.map((Ee,Xe)=>p.jsx(Sr,{item:Ee,index:Xe},Ee.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-4",children:Le.map(Ee=>p.jsxs("div",{className:`rounded-lg border ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>rt(Ee),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${j?"text-blue-400":"text-blue-700"}`,children:Ee.name}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:Ee.status==="active"?"Active":"Pending"}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${Ee.fulfillmentType==="fba"?"bg-green-100 text-green-700":"bg-orange-100 text-orange-700"}`,children:Ee.fulfillmentType.toUpperCase()})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[Ee.locationCode," - ",Ee.shelfNumber]})]}),p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:Ee.quantity})]}),Ee.asin&&p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:Ee.asin})]}),(V==null?void 0:V.role)==="admin"&&p.jsxs(p.Fragment,{children:[p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(Ee.price)>0?`£${Number(Ee.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["Total: ",p.jsx("span",{className:"font-medium",children:Number(Ee.quantity*Ee.price)>0?`£${Number(Ee.quantity*Ee.price).toFixed(2)}`:"(Not set)"})]})]}),p.jsxs("span",{className:j?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:Xt(new Date(Ee.lastUpdated),"MMM d, yyyy")})]})]}),p.jsxs("div",{className:"flex gap-2 mt-2",children:[p.jsxs(st,{size:"sm",variant:"secondary",onClick:Xe=>{Xe.stopPropagation(),Kt(Xe,Ee)},children:[p.jsx(Rs,{size:14})," Edit"]}),p.jsxs(st,{size:"sm",variant:"danger",onClick:Xe=>{Xe.stopPropagation(),Vt(Xe,Ee)},children:[p.jsx(Ui,{size:14})," Delete"]})]})]},Ee.id))})]}):p.jsx("div",{className:`text-center py-12 ${j?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:j?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(yn,{isOpen:u,onClose:()=>f(!1),title:"Add New Stock Item",size:"xl",children:p.jsx(xye,{onSubmit:Ye,isLoading:b,existingStockItems:I})}),p.jsx(yn,{isOpen:U,onClose:()=>re(!1),title:"Quick Add Stock",size:"md",children:p.jsx(Tye,{onSubmit:Ye,onClose:()=>re(!1),isLoading:b})}),p.jsx(yn,{isOpen:h,onClose:()=>d(!1),title:"Edit Stock",size:"xl",children:O&&p.jsx(Sye,{item:O,onSubmit:At,onCancel:()=>d(!1),isLoading:b})}),O&&p.jsx(_b,{isOpen:g,onClose:()=>{m(!1),P(null)},onConfirm:()=>ft(O.id),title:"Delete Stock Item",message:`Are you sure you want to delete "${O.name}"? This action cannot be undone.`,isLoading:b}),O&&!h&&!g&&!Q&&p.jsx(uC,{isOpen:!!O,onClose:()=>P(null),item:O}),p.jsx(_b,{isOpen:v,onClose:()=>{y(!1),A(new Set)},onConfirm:Ct,title:"Delete Selected Items",message:`Are you sure you want to delete ${S.size} selected item${S.size>1?"s":""}? This action cannot be undone.`,isLoading:b}),p.jsx(yn,{isOpen:Q,onClose:()=>{Y(!1),H(null)},title:"Confirm Quantity Update",children:p.jsxs("div",{children:[p.jsx("p",{children:"This product is already in stock in this location. Are you sure you want to add more quantity?"}),p.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[p.jsx(st,{variant:"secondary",onClick:()=>{Y(!1),H(null)},children:"No"}),p.jsx(st,{onClick:Pt,isLoading:b,children:"Yes"})]})]})}),K&&p.jsx(Eye,{isOpen:z,onClose:at,onConfirm:mt,onCancel:at,onMerge:gt,locationCode:K.locationCode,shelfNumber:K.shelfNumber,existingProducts:K.existingProducts,newProductName:K.newProductName,newProductBarcode:K.newProductBarcode})]})},Nye=()=>{const{isDarkMode:e}=Jr(),{showToast:t}=Yc(),{user:r}=xa();xa();const[n,a]=W.useState(!1),[i,s]=W.useState([]),[o,l]=W.useState(""),[c,u]=W.useState(null),[f,h]=W.useState(""),[d,g]=W.useState(null),[m,v]=W.useState("all"),[y,b]=W.useState("all"),[w,O]=W.useState(!1),[P,I]=W.useState(!1),[E,S]=W.useState(null),A=async z=>{if(r)try{await Er(Et(et,"activityLogs"),{user:r.name,role:r.role,detail:z,time:new Date().toISOString()})}catch(C){console.error("Failed to log activity:",C)}},D=W.useCallback(async()=>{a(!0);try{const z=sr(Et(et,"inventory"),ka("name")),F=(await hr(z)).docs.map(q=>{const K=q.data();return{id:q.id,...K,lastUpdated:K.lastUpdated instanceof Zt?K.lastUpdated.toDate():new Date(K.lastUpdated)}});s(F)}catch(z){console.error("Failed to fetch inventory",z),t("Failed to fetch inventory","error")}finally{a(!1)}},[t]),T=W.useCallback(async()=>{try{const z=Et(et,"inventory"),C=await eN(z);g(C.data().count)}catch{g(null)}},[]);W.useEffect(()=>{D(),T()},[D,T]),W.useEffect(()=>{const z=C=>{const F=C.target;F.closest(".damage-filter-dropdown")||O(!1),F.closest(".duplicate-filter-dropdown")||I(!1)};return(w||P)&&document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[w,P]);const k=W.useMemo(()=>{const z={};for(const C of i){const F=(C.name||"").trim().toLowerCase();if(!F)continue;const q=`${C.locationCode||""}-${C.shelfNumber||""}`.trim().toLowerCase();z[F]||(z[F]=new Set),z[F].add(q)}return z},[i]),V=((z,C)=>{const[F,q]=W.useState(z);return W.useEffect(()=>{const K=setTimeout(()=>q(z),C);return()=>clearTimeout(K)},[z,C]),F})(o,300),Q=W.useMemo(()=>{const z=V.trim().toLowerCase();return i.filter(C=>{var B,Te;const F=((B=C.name)==null?void 0:B.toLowerCase())||"",q=(C.asin||"").toLowerCase(),K=(C.barcode||"").toLowerCase(),Z=z?F.includes(z)||q.includes(z)||K.includes(z):!0,oe=m==="all"?!0:m==="damaged"?(C.damagedItems||0)>0:(C.damagedItems||0)<=0,fe=(C.name||"").trim().toLowerCase(),de=(fe&&((Te=k[fe])==null?void 0:Te.size)||0)>1;return Z&&oe&&(y==="all"?!0:y==="duplicates"?de:!de)})},[i,V,m,y,k]),Y=W.useMemo(()=>V.trim()?Q.reduce((z,C)=>z+(C.quantity||0),0):0,[Q,V]),J=W.useMemo(()=>{var ie;const z=Q.length;let C=0,F=0,q=0,K=0,Z=0;for(const de of Q){(de.damagedItems||0)>0&&C++,de.status==="active"&&F++,de.status==="pending"&&q++,Number(de.price)>0&&K++;const _e=(de.name||"").trim().toLowerCase();(_e&&((ie=k[_e])==null?void 0:ie.size)||0)>1&&Z++}const oe=z-Z,fe=z-K;return{total:z,damaged:C,duplicates:Z,unique:oe,active:F,pending:q,priceSet:K,noPrice:fe}},[Q,k]),H=z=>{u(z.id),h(z.price!=null?String(z.price):"")},U=()=>{u(null),h("")},re=async z=>{const C=Number(f);if(Number.isNaN(C)||C<0){t("Enter a valid non-negative price","error");return}a(!0);try{const F=new Date,q=Hr(et,"inventory",z.id);await Ta(q,{price:C,lastUpdated:Zt.fromDate(F)}),await A(`updated price for ${z.name} (barcode: ${z.barcode}) from £${z.price||0} to £${C.toFixed(2)}`),s(K=>K.map(Z=>Z.id===z.id?{...Z,price:C,lastUpdated:F}:Z)),t("Price updated","success"),u(null),h("")}catch(F){console.error("Failed to update price",F),t("Failed to update price","error")}finally{a(!1)}};return p.jsxs("div",{className:"space-y-4 p-2 sm:p-4 md:p-6",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4 py-2 sm:py-4",children:[p.jsx("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-gray-900"}`,children:"Inventory"}),p.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[p.jsxs("span",{className:`px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-semibold ${e?"bg-slate-800 text-blue-300":"bg-blue-100 text-blue-700"}`,children:["Total: ",d!==null?d:p.jsx("span",{className:"animate-pulse",children:"..."})]}),p.jsxs(st,{variant:"secondary",onClick:()=>{D(),T()},className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:[p.jsx(ds,{size:14,className:n?"animate-spin":""}),p.jsx("span",{className:"hidden sm:inline",children:"Refresh"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6",children:[V.trim()?p.jsx(Za,{title:"Total Quantity",value:Y,icon:p.jsx(ep,{size:20,className:"text-blue-600"})}):p.jsx(Za,{title:"Products",value:J.total,icon:p.jsx(ep,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Damaged",value:J.damaged,icon:p.jsx(Gh,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Duplicates",value:J.duplicates,icon:p.jsx(cZ,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Unique",value:J.unique,icon:p.jsx(E4,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-4 gap-2 sm:gap-4 md:gap-6 mt-2 sm:mt-4",children:[p.jsx(Za,{title:"Active",value:J.active,icon:p.jsx(E4,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"Pending",value:J.pending,icon:p.jsx(Gh,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"With Price",value:J.priceSet,icon:p.jsx(V2,{size:20,className:"text-blue-600"})}),p.jsx(Za,{title:"No Price",value:J.noPrice,icon:p.jsx(V2,{size:20,className:"text-blue-600"})})]}),p.jsxs("div",{className:"flex flex-col gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400",size:16}),p.jsx(bt,{type:"text",placeholder:"Search by name, ASIN or barcode",value:o,onChange:z=>l(z.target.value),className:"pl-10 text-sm sm:text-base"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4",children:[p.jsxs("div",{className:"relative damage-filter-dropdown flex-1",children:[p.jsxs(st,{variant:"secondary",onClick:()=>O(!w),className:`flex items-center justify-between gap-2 w-full ${m!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:m==="all"?"Damage: All":m==="damaged"?"Damage: Damaged":"Damage: Not Damaged"}),p.jsx(yf,{size:16})]}),w&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Damage"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("all"),O(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="damaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("damaged"),O(!1)},children:"Damaged"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${m==="notDamaged"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{v("notDamaged"),O(!1)},children:"Not Damaged"})]})})]}),p.jsxs("div",{className:"relative duplicate-filter-dropdown flex-1",children:[p.jsxs(st,{variant:"secondary",onClick:()=>I(!P),className:`flex items-center justify-between gap-2 w-full ${y!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,size:"sm",children:[p.jsx("span",{className:"truncate",children:y==="all"?"Duplicates: All":y==="duplicates"?"Duplicates: Duplicates":"Duplicates: Unique"}),p.jsx(yf,{size:16})]}),P&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-full z-50 rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-xs sm:text-sm font-medium mb-1 ${e?"text-slate-200":"text-slate-700"}`,children:"Filter by Duplicates"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="all"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("all"),I(!1)},children:"All"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="duplicates"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("duplicates"),I(!1)},children:"Duplicates Only"}),p.jsx("div",{className:`px-2 py-1.5 text-xs sm:text-sm cursor-pointer rounded transition-colors ${e?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${y==="unique"?e?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{b("unique"),I(!1)},children:"Unique Only"})]})})]})]})]}),n?p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-2 sm:gap-4",children:[p.jsx(us,{className:`w-6 h-6 sm:w-8 sm:h-8 ${e?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-600"}`,children:"Loading inventory..."})]})}):Q.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto overflow-y-hidden",children:p.jsxs("table",{className:`min-w-full divide-y ${e?"divide-slate-700":"divide-slate-200"} ${e?"bg-slate-800":"bg-white"} rounded-lg border ${e?"border-slate-700":"border-slate-200"}`,children:[p.jsx("thead",{className:e?"bg-slate-700/50":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Barcode"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${e?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"View"})]})}),p.jsx("tbody",{className:`divide-y ${e?"divide-slate-700":"divide-slate-200"}`,children:Q.map(z=>p.jsxs("tr",{className:"transition-all duration-100 hover:bg-opacity-10 hover:bg-blue-500",children:[p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-blue-400":"text-blue-700"} font-medium`,children:z.name}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:z.asin?z.asin.split(",").length>3?z.asin.split(",").slice(0,3).map(C=>C.trim()).join(", ")+"...":z.asin.split(",").map(C=>C.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-900"} text-right`,children:c===z.id?p.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:C=>C.stopPropagation(),children:[p.jsx(bt,{type:"number",step:"0.01",value:f,onChange:C=>h(C.target.value),className:"w-28 text-right"}),p.jsx(st,{size:"sm",onClick:()=>re(z),isLoading:n,children:p.jsx(hO,{size:14})}),p.jsx(st,{size:"sm",variant:"secondary",onClick:U,disabled:n,children:p.jsx(mv,{size:14})})]}):p.jsx("button",{onClick:C=>{C.stopPropagation(),H(z)},className:`${e?"text-slate-200 hover:text-blue-300":"text-slate-900 hover:text-blue-700"} transition-colors`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"})}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-center`,children:z.quantity}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"}`,children:z.barcode||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${e?"text-slate-200":"text-slate-800"} text-right`,children:p.jsx("button",{onClick:()=>S(z),className:`${e?"text-slate-300 hover:text-blue-300":"text-slate-600 hover:text-blue-700"} p-1`,"aria-label":"View details",children:p.jsx(k4,{size:16})})})]},z.id))})]})}),p.jsx("div",{className:"block md:hidden space-y-3",children:Q.map(z=>{var C;return p.jsxs("div",{className:`rounded-lg border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-3 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-start gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("h3",{className:`font-semibold truncate ${e?"text-blue-400":"text-blue-700"}`,children:z.name}),p.jsxs("div",{className:"flex flex-wrap gap-x-2 gap-y-1 text-xs mt-1",children:[p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:((C=z.asin)==null?void 0:C.split(",")[0])||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Barcode: ",p.jsx("span",{className:"font-medium",children:z.barcode||"-"})]}),p.jsxs("span",{className:e?"text-slate-300":"text-slate-600",children:["Quantity: ",p.jsx("span",{className:"font-medium",children:z.quantity})]})]})]}),p.jsxs("div",{className:"flex flex-col items-end gap-1",children:[p.jsx("span",{className:`text-sm font-medium ${e?"text-slate-200":"text-slate-800"}`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"No price"}),p.jsxs("div",{className:"flex gap-1",children:[c===z.id?p.jsxs(p.Fragment,{children:[p.jsx(st,{size:"sm",onClick:()=>re(z),isLoading:n,children:p.jsx(hO,{size:12})}),p.jsx(st,{size:"sm",variant:"secondary",onClick:F=>{F.stopPropagation(),U()},disabled:n,children:p.jsx(mv,{size:12})})]}):p.jsx(st,{size:"sm",variant:"secondary",onClick:F=>{F.stopPropagation(),H(z)},children:p.jsx(Rs,{size:12})}),p.jsx(st,{size:"sm",variant:"secondary",onClick:()=>S(z),children:p.jsx(k4,{size:12})})]})]})]}),c===z.id&&p.jsx("div",{className:"mt-1",children:p.jsx(bt,{type:"number",step:"0.01",value:f,onChange:F=>h(F.target.value),placeholder:"Enter new price",className:"w-full text-sm"})})]},z.id)})})]}):p.jsx("div",{className:`text-center py-8 sm:py-12 ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`text-sm sm:text-base ${e?"text-slate-400":"text-slate-500"}`,children:"No items found. Try adjusting your search."})}),E&&p.jsx(uC,{isOpen:!!E,onClose:()=>S(null),item:E})]})},fC=({startDate:e,endDate:t,onStartDateChange:r,onEndDateChange:n,onClear:a,className:i=""})=>{const{isDarkMode:s}=Jr(),[o,l]=W.useState(!1),c=d=>{const g=d.target.value?new Date(d.target.value):null;r(g)},u=d=>{const g=d.target.value?new Date(d.target.value):null;n(g)},f=()=>{a(),l(!1)},h=()=>!e&&!t?"Select date range":e&&t?`${Xt(e,"MMM d, yyyy")} - ${Xt(t,"MMM d, yyyy")}`:e?`From ${Xt(e,"MMM d, yyyy")}`:t?`To ${Xt(t,"MMM d, yyyy")}`:"Select date range";return p.jsxs("div",{className:`relative ${i}`,children:[p.jsxs("button",{onClick:()=>l(!o),className:`flex items-center justify-between w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:[p.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[p.jsx(lZ,{className:"h-4 w-4 flex-shrink-0"}),p.jsx("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis",children:h()})]}),(e||t)&&p.jsx("span",{onClick:d=>{d.stopPropagation(),f()},className:`ml-3 p-1 rounded-full hover:bg-opacity-80 flex-shrink-0 cursor-pointer ${s?"hover:bg-slate-600":"hover:bg-slate-200"}`,title:"Clear date range",role:"button",tabIndex:0,onKeyDown:d=>{(d.key==="Enter"||d.key===" ")&&(d.preventDefault(),f())},children:p.jsx(mv,{className:"h-3 w-3"})})]}),o&&p.jsx("div",{className:`absolute top-full left-0 right-0 mt-1 z-50 p-4 border rounded-md shadow-lg ${s?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200 text-slate-800"}`,children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"Start Date"}),p.jsx("input",{type:"date",value:e?Xt(e,"yyyy-MM-dd"):"",onChange:c,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-2 ${s?"text-slate-200":"text-slate-700"}`,children:"End Date"}),p.jsx("input",{type:"date",value:t?Xt(t,"yyyy-MM-dd"):"",onChange:u,min:e?Xt(e,"yyyy-MM-dd"):void 0,className:`w-full px-3 py-2 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border-slate-600 text-slate-200 bg-slate-700 focus:ring-slate-400":"border-slate-300 text-slate-700 bg-white focus:ring-slate-500"}`})]}),p.jsxs("div",{className:"flex gap-2 pt-2 border-t border-slate-200 dark:border-slate-600",children:[p.jsx("button",{onClick:()=>l(!1),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 ${s?"border border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600 focus:ring-slate-400":"border border-slate-300 text-slate-700 bg-white hover:bg-slate-50 focus:ring-slate-500"}`,children:"Apply"}),p.jsx("button",{onClick:f,className:`px-3 py-2 text-sm font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${s?"border border-red-600 text-red-200 bg-red-700 hover:bg-red-600 focus:ring-red-400":"border border-red-300 text-red-700 bg-white hover:bg-red-50 focus:ring-red-500"}`,children:"Clear"})]})]})})]})},vx=["supply & serve","APHY","AZTEC","ZK"],Cye=({item:e,onSubmit:t,onCancel:r,isLoading:n})=>{const[a,i]=W.useState(""),[s,o]=W.useState("stock sold"),[l,c]=W.useState(""),[u,f]=W.useState(e.storeName||vx[0]||""),[h,d]=W.useState(""),[g,m]=W.useState([]),[v,y]=W.useState(""),[b,w]=W.useState(!1),{isDarkMode:O}=Jr(),I=[...vx.includes(e.storeName)?vx:[e.storeName,...vx],"other"];W.useEffect(()=>{(async()=>{w(!0);try{let k=sr(Et(et,"inventory"),tr("barcode","==",e.barcode)),j=await hr(k);if(j.empty&&e.barcode){const Y=String(e.barcode).trim();k=sr(Et(et,"inventory"),tr("barcode","==",Y)),j=await hr(k)}j.empty&&e.name&&(k=sr(Et(et,"inventory"),tr("name","==",e.name)),j=await hr(k));const V=[];j.docs.forEach(Y=>{const J=Y.data();J.locationCode&&J.shelfNumber&&V.push({locationCode:J.locationCode,shelfNumber:J.shelfNumber,quantity:J.quantity||0})});const Q=V.filter((Y,J,H)=>J===H.findIndex(U=>U.locationCode===Y.locationCode&&U.shelfNumber===Y.shelfNumber)).sort((Y,J)=>Y.locationCode.localeCompare(J.locationCode));m(Q),Q.length>0&&y(`${Q[0].locationCode}-${Q[0].shelfNumber}`)}catch(k){console.error("Error fetching locations:",k)}finally{w(!1)}})()},[e.barcode]);const E=async T=>{T.preventDefault();const k=Number(a);if(!a||k<0)return;const j=S();if(k>j||!v)return;const V=s==="other"?l:s,Q=u==="other"?h.trim():u.trim(),[Y,J]=v.split("-");await t({id:e.id,quantity:e.quantity-k,reason:V,storeName:Q,locationCode:Y,shelfNumber:J})},S=()=>{if(!v)return e.quantity;const[T,k]=v.split("-"),j=g.find(V=>V.locationCode===T&&V.shelfNumber===k);return j?j.quantity:e.quantity},D=(()=>{const T=Number(a);if(!a||T<0)return"Quantity to deduct must be 0 or greater";const k=S();return T>k?`Cannot deduct more than current stock at selected location (${k} units)`:s?s==="other"&&!l.trim()?"Please specify the reason":!u.trim()||u==="other"&&!h.trim()?"Please select or enter the store name":v?null:"Please select a location":"Please select a reason"})();return p.jsxs("form",{onSubmit:E,className:`space-y-6 ${O?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${O?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${O?"text-white":"text-gray-900"}`,children:e.name}),p.jsx("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:v&&p.jsxs("span",{className:` ${O?"text-slate-300":"text-slate-600"}`,children:["Selected Location: ",S()," units"]})}),p.jsxs("p",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:["Barcode: ",e.barcode]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"location",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Select Location"}),b?p.jsxs("div",{className:`flex items-center gap-2 text-sm ${O?"text-slate-400":"text-slate-500"}`,children:[p.jsx(us,{size:16,className:"animate-spin"}),"Loading locations..."]}):g.length>0?p.jsx(Br,{id:"location",value:v,onChange:T=>y(T.target.value),required:!0,options:[{value:"",label:"Select a location"},...g.map(T=>({value:`${T.locationCode}-${T.shelfNumber}`,label:`${T.locationCode} - Shelf ${T.shelfNumber} (${T.quantity} units)${T.quantity===0?" - Out of Stock":""}`}))],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}):p.jsx("div",{className:`text-sm ${O?"text-slate-400":"text-slate-500"}`,children:"No locations found for this product"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(bt,{id:"deductQuantity",type:"number",min:"0",max:S(),value:a,onChange:T=>i(T.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}),v&&p.jsxs("p",{className:`text-xs ${O?"text-slate-400":"text-slate-500"}`,children:["Max available at selected location: ",S()," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx(Br,{id:"reason",value:s,onChange:T=>o(T.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),s==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(bt,{id:"otherReason",type:"text",value:l,onChange:T=>c(T.target.value),placeholder:"Enter the reason",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${O?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx(Br,{id:"storeName",value:u,onChange:T=>f(T.target.value),options:I.map(T=>({value:T,label:T==="other"?"Other":T})),required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`}),u==="other"&&p.jsx(bt,{id:"otherStoreName",type:"text",value:h,onChange:T=>d(T.target.value),placeholder:"Enter store name",required:!0,className:`${O?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${D?"border-red-500 focus:border-red-500":""}`})]}),D?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${O?"text-red-400":"text-red-600"}`,children:[p.jsx(Gh,{size:16}),p.jsx("span",{children:D})]}):p.jsx("p",{className:`text-xs ${O?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsxs("div",{className:"flex justify-end space-x-3",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:r,disabled:n,children:"Cancel"}),p.jsx(st,{type:"submit",disabled:n||!!D,className:"min-w-[100px]",children:n?p.jsxs(p.Fragment,{children:[p.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})]})]})},Pye=({isOpen:e,onClose:t})=>{const[r,n]=W.useState("0"),[a,i]=W.useState(null),[s,o]=W.useState(null),[l,c]=W.useState(!1),u=()=>{n("0"),i(null),o(null),c(!1)},f=y=>{l?(n(y),c(!1)):n(r==="0"?y:r+y)},h=()=>{l?(n("0."),c(!1)):r.indexOf(".")===-1&&n(r+".")},d=y=>{const b=parseFloat(r);if(a===null)i(b);else if(s){const O=g(a||0,b,s);n(String(O)),i(O)}c(!0),o(y)},g=(y,b,w)=>{switch(w){case"+":return y+b;case"-":return y-b;case"×":return y*b;case"÷":return y/b;default:return b}},v=[{label:"C",onClick:u,className:"bg-red-500 hover:bg-red-600 text-white"},{label:"±",onClick:()=>n(String(-parseFloat(r))),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"%",onClick:()=>n(String(parseFloat(r)/100)),className:"bg-gray-500 hover:bg-gray-600 text-white"},{label:"÷",onClick:()=>d("÷"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"7",onClick:()=>f("7"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"8",onClick:()=>f("8"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"9",onClick:()=>f("9"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"×",onClick:()=>d("×"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"4",onClick:()=>f("4"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"5",onClick:()=>f("5"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"6",onClick:()=>f("6"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"-",onClick:()=>d("-"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"1",onClick:()=>f("1"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"2",onClick:()=>f("2"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"3",onClick:()=>f("3"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"+",onClick:()=>d("+"),className:"bg-orange-500 hover:bg-orange-600 text-white"},{label:"0",onClick:()=>f("0"),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white col-span-2"},{label:".",onClick:h,className:"bg-gray-300 hover:bg-gray-400 text-gray-800 dark:bg-gray-600 dark:hover:bg-gray-500 dark:text-white"},{label:"=",onClick:()=>{if(!a||!s)return;const y=parseFloat(r),b=g(a,y,s);n(String(b)),i(null),o(null),c(!1)},className:"bg-orange-500 hover:bg-orange-600 text-white"}];return p.jsx(yn,{isOpen:e,onClose:t,title:"Calculator",size:"sm",children:p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[p.jsx("div",{className:"text-right text-2xl font-mono text-gray-800 dark:text-white",children:r}),s&&p.jsxs("div",{className:"text-right text-sm text-gray-500 dark:text-gray-400",children:[a," ",s]})]}),p.jsx("div",{className:"grid grid-cols-4 gap-2",children:v.map((y,b)=>p.jsx("button",{onClick:y.onClick,className:`p-4 text-lg font-medium rounded-lg transition-colors ${y.className}`,children:y.label},b))}),p.jsx("div",{className:"pt-2",children:p.jsx(st,{variant:"secondary",onClick:t,className:"w-full",children:"Close"})})]})})},Oye=()=>{const{isDarkMode:e}=Jr(),{showToast:t}=Yc(),{user:r}=xa(),[n,a]=W.useState(!1),[i,s]=W.useState([]),[o,l]=W.useState(!1),[c,u]=W.useState([]),[f,h]=W.useState([]),[d,g]=W.useState(null),[m,v]=W.useState(null),[y,b]=W.useState(null),[w,O]=W.useState(!1),[P,I]=W.useState(!1),[E,S]=W.useState(""),[A,D]=W.useState(!1),[T,k]=W.useState(null),[j,V]=W.useState(null),[Q,Y]=W.useState(0),[J,H]=W.useState(new Set),[U,re]=W.useState(!1),[z,C]=W.useState(new Set),[F,q]=W.useState(new Set),[K,Z]=W.useState(!1),[oe,fe]=W.useState(""),[ie,de]=W.useState([]),[_e,B]=W.useState(!1),[Te,ge]=W.useState("name"),[ve,te]=W.useState(!1),[ke,$e]=W.useState(null),[Fe,Qe]=W.useState(null),[Le,Ge]=W.useState("all"),Me=we=>{const _t=new Date,kt=new Date(_t.getFullYear(),_t.getMonth(),_t.getDate());return we.createdAt<kt&&we.status==="completed"},Ye=we=>{if(!ke&&!Fe)return!0;const _t=we.createdAt;return ke&&Fe?_t>=ke&&_t<=Fe:ke?_t>=ke:Fe?_t<=Fe:!0},mt=()=>{const we=new Set(i.map(_t=>_t.createdBy));return Array.from(we).sort()},at=we=>Le==="all"?!0:we.createdBy===Le,gt=i.filter(we=>P?Me(we)&&Ye(we)&&at(we):w?we.status==="completed"&&!Me(we):we.status!=="completed"),At=async we=>{if(r)try{await Er(Et(et,"activityLogs"),{user:r.name,role:r.role,detail:we,time:new Date().toISOString()})}catch(_t){console.error("Failed to log activity:",_t)}},Pt=we=>{if(we<60)return`${we}s`;if(we<3600){const _t=Math.floor(we/60),kt=we%60;return`${_t}m ${kt}s`}else{const _t=Math.floor(we/3600),kt=Math.floor(we%3600/60),Yt=we%60;return`${_t}h ${kt}m ${Yt}s`}},ft=W.useCallback(async()=>{a(!0),O(!1),I(!1),$e(null),Qe(null),Ge("all"),C(new Set);try{const we=sr(Et(et,"jobs"),ka("createdAt","desc")),kt=(await hr(we)).docs.map(It=>{const dt=It.data();return{id:It.id,jobId:dt.jobId||"",createdAt:dt.createdAt instanceof Zt?dt.createdAt.toDate():new Date,createdBy:dt.createdBy||"Unknown",status:dt.status||"picking",picker:dt.picker??null,packer:dt.packer??null,items:Array.isArray(dt.items)?dt.items.map(ee=>({barcode:String(ee.barcode||""),name:ee.name??null,asin:ee.asin??null,quantity:Number(ee.quantity||1),verified:!!ee.verified,locationCode:ee.locationCode,shelfNumber:ee.shelfNumber,reason:ee.reason||"Unknown",storeName:ee.storeName||"Unknown"})):[],pickingTime:dt.pickingTime||0}}),Yt=await Promise.all(kt.map(async It=>{const dt=await Promise.all(It.items.map(async ee=>{if(ee.name)return ee;try{const ye=sr(Et(et,"inventory"),tr("barcode","==",ee.barcode)),he=await hr(ye);if(!he.empty){const me=he.docs[0].data();return{...ee,name:me.name||null}}}catch(ye){console.error("Error fetching product name for barcode:",ee.barcode,ye)}return ee}));return{...It,items:dt}}));s(Yt)}catch(we){console.error(we),t("Failed to fetch jobs","error")}finally{a(!1)}},[t]);W.useEffect(()=>{ft()},[ft]),W.useEffect(()=>()=>{C(new Set),q(new Set)},[i]);const rt=we=>{q(_t=>{const kt=new Set(_t);return kt.has(we)?kt.delete(we):kt.add(we),kt})};W.useEffect(()=>{let we;return j&&(we=setInterval(()=>{const kt=Math.floor((new Date().getTime()-j.getTime())/1e3);Y(kt)},1e3)),()=>{we&&clearInterval(we)}},[j]);const Kt=()=>{S(""),u([]),h([]),V(new Date),Y(0),l(!0)},Vt=async we=>{try{const _t=sr(Et(et,"inventory"),tr("barcode","==",we));return!(await hr(_t)).empty}catch(_t){return console.error("Error checking barcode:",_t),!1}},Ur=async we=>{we.preventDefault();const _t=E.trim();if(!_t)return;if(!await Vt(_t)){t(`Product with barcode ${_t} does not exist`,"error");return}try{const Yt=sr(Et(et,"inventory"),tr("barcode","==",_t)),It=await hr(Yt);if(!It.empty){const dt=It.docs[0].data(),ee={...dt,id:It.docs[0].id,lastUpdated:dt.lastUpdated instanceof Zt?dt.lastUpdated.toDate():new Date(dt.lastUpdated)};k(ee),D(!0),l(!1)}}catch(Yt){console.error("Error fetching stock item:",Yt),t("Error fetching stock item details","error")}},wt=async we=>{if(!T)return;const _t=T.quantity-we.quantity,kt=sr(Et(et,"inventory"),tr("barcode","==",T.barcode),tr("locationCode","==",we.locationCode),tr("shelfNumber","==",we.shelfNumber)),Yt=await hr(kt);if(Yt.empty){t("Stock item not found for this location","error");return}const It={...T,id:Yt.docs[0].id,quantity:Yt.docs[0].data().quantity||0};h(dt=>[...dt,{stockItem:It,deductedQuantity:_t,reason:we.reason,storeName:we.storeName,locationCode:we.locationCode,shelfNumber:we.shelfNumber}]),T.barcode&&u(dt=>{const ee=T.barcode,ye=dt.findIndex(he=>he.barcode===ee&&he.locationCode===we.locationCode&&he.shelfNumber===we.shelfNumber);if(ye>=0){const he=[...dt];return he[ye]={...he[ye],quantity:he[ye].quantity+_t},he}else return[...dt,{barcode:ee,name:T.name,quantity:_t,verified:!1,locationCode:we.locationCode,shelfNumber:we.shelfNumber,reason:we.reason,storeName:we.storeName}]}),t("Item added to job","success"),D(!1),k(null),l(!0),S(""),Qt()},Ct=()=>{D(!1),k(null),l(!0),Qt()},Qt=()=>{fe(""),de([]),ge("name"),te(!1)},Bt=()=>{$e(null),Qe(null)},Sr=()=>{$e(null),Qe(null),Ge("all")},Ee=async()=>{if(c.length===0){t("Add at least one item to create a job","error");return}if(U){t("Job creation is already in progress. Please wait for the current job to be created.","warning");return}re(!0),a(!0);try{for(const kt of f){const Yt=Hr(et,"inventory",kt.stockItem.id);await Ta(Yt,{quantity:kt.stockItem.quantity-kt.deductedQuantity,lastUpdated:Ah()}),await Er(Et(et,"activityLogs"),{detail:`${kt.deductedQuantity} units deducted from stock "${kt.stockItem.name}"  (Reason: ${kt.reason}, Store: ${kt.storeName}) by ${r==null?void 0:r.role} from location ${kt.locationCode} shelf ${kt.shelfNumber}`,time:new Date().toISOString(),user:r==null?void 0:r.name,role:r==null?void 0:r.role})}for(const kt of c)if(!f.some(It=>It.stockItem.barcode===kt.barcode&&It.locationCode===kt.locationCode&&It.shelfNumber===kt.shelfNumber)){const It=sr(Et(et,"inventory"),tr("barcode","==",kt.barcode),tr("locationCode","==",kt.locationCode),tr("shelfNumber","==",kt.shelfNumber)),dt=await hr(It);if(!dt.empty){const ee=dt.docs[0],he=ee.data().quantity||0;await Ta(Hr(et,"inventory",ee.id),{quantity:he-kt.quantity,lastUpdated:Ah()})}}const we=Date.now().toString(),_t=await Er(Et(et,"jobs"),{jobId:we,createdAt:Ah(),createdBy:(r==null?void 0:r.name)||"Unknown",status:"awaiting_pack",picker:(r==null?void 0:r.name)||null,packer:null,items:c,pickingTime:Q});await Ta(_t,{docId:_t.id}),await At(`created new job ${we} with ${c.length} items (${c.reduce((kt,Yt)=>kt+Yt.quantity,0)} total units)`),t(`Job ${we} created and awaiting pack`,"success"),l(!1),u([]),h([]),S(""),V(null),Y(0),ft()}catch(we){console.error(we),t("Failed to create job","error")}finally{a(!1),re(!1)}},Xe=async we=>{try{await Ta(Hr(et,"jobs",we.id),{status:"awaiting_pack",picker:(r==null?void 0:r.name)||we.picker||null}),await At(`completed picking for job ${we.jobId} with ${we.items.length} items (${we.items.reduce((_t,kt)=>_t+kt.quantity,0)} total units)`),t(`Job ${we.jobId} completed and awaiting pack`,"success"),ft()}catch{t("Failed to update job","error")}},nt=async(we,_t,kt)=>{const Yt=`${we.id}-${_t}`;H(It=>new Set(It).add(Yt));try{if(!we.id||!_t){t("Invalid job or barcode","error");return}C(kt?It=>new Set(It).add(Yt):It=>{const dt=new Set(It);return dt.delete(Yt),dt})}catch(It){console.error("Error verifying item:",It),t("Failed to verify item","error")}finally{H(It=>{const dt=new Set(It);return dt.delete(Yt),dt})}},St=async we=>{try{const _t=Array.from(z).filter(It=>It.startsWith(we.id)).map(It=>It.split("-")[1]),kt=we.items.filter(It=>It.verified||_t.includes(It.barcode)).length,Yt=we.items.map(It=>({...It,verified:_t.includes(It.barcode)||It.verified}));await Ta(Hr(et,"jobs",we.id),{status:"completed",packer:(r==null?void 0:r.name)||we.packer||null,items:Yt}),await At(`completed packing for job ${we.jobId} with ${we.items.length} items (${we.items.reduce((It,dt)=>It+dt.quantity,0)} total units) - ${kt} items verified`),C(It=>{const dt=new Set(It);return _t.forEach(ee=>{dt.delete(`${we.id}-${ee}`)}),dt}),t(`Job ${we.jobId} completed successfully with ${kt}/${we.items.length} items verified`,"success"),ft()}catch(_t){console.error("Error completing job:",_t),t("Failed to complete job","error")}},ht=we=>{b(we)},Mt=async()=>{if(y)try{await At(`deleted job ${y.jobId} (status: ${y.status} with ${y.items.length} items (${y.items.reduce((we,_t)=>we+_t.quantity,0)} total units))`),await jh(Hr(et,"jobs",y.id)),C(we=>{const _t=new Set(we);return y.items.forEach(kt=>{_t.delete(`${y.id}-${kt.barcode}`)}),_t}),t("Job deleted","success"),b(null),ft()}catch{t("Failed to delete job","error")}},xr=async(we,_t,kt,Yt)=>{try{const It=[...we.items];It[_t]={...It[_t],barcode:kt,quantity:Yt},await Ta(Hr(et,"jobs",we.id),{items:It}),await At(`updated job item in job ${we.jobId}: barcode ${we.items[_t].barcode} → ${kt}, quantity ${we.items[_t].quantity} → ${Yt}`),t("Job item updated successfully","success"),v(null),ft()}catch{t("Failed to update job item","error")}},Nr=async(we,_t)=>{try{const kt=we.items.filter((Yt,It)=>It!==_t);await Ta(Hr(et,"jobs",we.id),{items:kt}),await At(`removed item ${we.items[_t].barcode} (qty: ${we.items[_t].quantity}) from job ${we.jobId}`),t("Job item removed successfully","success"),ft()}catch{t("Failed to remove job item","error")}},Zn=async(we,_t)=>{if(!we.trim()){de([]);return}B(!0);try{let kt;switch(_t){case"barcode":kt=sr(Et(et,"inventory"),tr("barcode","==",we.trim()));break;case"asin":kt=sr(Et(et,"inventory"),tr("asin","==",we.trim()));break;case"name":default:kt=sr(Et(et,"inventory"),tr("name",">=",we.trim().toUpperCase()),tr("name","<=",we.trim().toUpperCase()+""));break}const It=(await hr(kt)).docs.map(dt=>{const ee=dt.data();return{id:dt.id,name:ee.name||"",quantity:ee.quantity||0,price:ee.price||0,unit:ee.unit||null,supplier:ee.supplier||null,lastUpdated:ee.lastUpdated instanceof Zt?ee.lastUpdated.toDate():new Date,locationCode:ee.locationCode||"",shelfNumber:ee.shelfNumber||"",barcode:ee.barcode||null,asin:ee.asin||null,status:ee.status||"pending",damagedItems:ee.damagedItems||0,fulfillmentType:ee.fulfillmentType||"fba",storeName:ee.storeName||""}});de(It)}catch(kt){console.error("Search error:",kt),t("Failed to search inventory","error"),de([])}finally{B(!1)}},qa=({job:we})=>{const _t=we.status==="awaiting_pack",kt=we.status==="picking",Yt=we.status==="completed",It=F.has(we.id);return p.jsxs("div",{className:`${e?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} rounded-lg shadow-sm border`,children:[p.jsx("div",{className:`p-3 sm:p-4 border-b ${e?"border-slate-700":"border-slate-200"}`,children:p.jsx("div",{className:"flex flex-col gap-3",children:p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start justify-between gap-3",children:[p.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[p.jsx("div",{className:`${e?"bg-slate-700":"bg-slate-100"} p-2 rounded-lg flex-shrink-0`,children:p.jsx(dO,{className:`${e?"text-blue-400":"text-blue-600"}`,size:18})}),p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[p.jsxs("h3",{className:`text-base sm:text-lg font-semibold ${e?"text-white":"text-slate-800"} break-all`,children:["Job ",we.jobId]}),p.jsx("button",{onClick:()=>rt(we.id),className:`flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition-colors flex-shrink-0 ${e?"text-slate-300 hover:text-white hover:bg-slate-700":"text-slate-600 hover:text-slate-800 hover:bg-slate-200"}`,children:It?p.jsxs(p.Fragment,{children:[p.jsx(Y$,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Hide Items"})," (",we.items.length,")"]}):p.jsxs(p.Fragment,{children:[p.jsx(yf,{size:14}),p.jsx("span",{className:"hidden sm:inline",children:"Show Items"})," (",we.items.length,")"]})})]}),p.jsxs("p",{className:`${e?"text-slate-400":"text-slate-500"} text-xs leading-relaxed`,children:["Created by ",we.createdBy," • ",we.createdAt.toLocaleString(),we.pickingTime&&we.pickingTime>0&&p.jsxs("span",{className:`ml-2 ${e?"text-blue-400":"text-blue-600"}`,children:["• Picking: ",Pt(we.pickingTime)]})]}),!It&&we.items.length>0&&p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-2`,children:[we.items.length," item",we.items.length!==1?"s":""," • Total Qty: ",we.items.reduce((dt,ee)=>dt+ee.quantity,0),_t&&p.jsxs("span",{className:"ml-2",children:["• Verified: ",we.items.filter(dt=>dt.verified||z.has(`${we.id}-${dt.barcode}`)).length,"/",we.items.length]})]})]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[p.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Yt?"bg-green-100 text-green-700":_t?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:Yt?"Completed":_t?"Awaiting Pack":"Picking"}),p.jsx(st,{variant:"secondary",onClick:ft,size:"sm",className:"h-8 w-8 p-0",children:p.jsx(ds,{size:14})}),p.jsx(st,{variant:"danger",onClick:()=>ht(we),size:"sm",className:"h-8 w-8 p-0",children:p.jsx(Ui,{size:14})})]})]})})}),It&&p.jsxs("div",{className:"p-3 sm:p-4 space-y-4",children:[p.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[kt&&p.jsxs(st,{onClick:()=>D(!0),className:"flex items-center gap-1",size:"sm",children:[p.jsx(dO,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Scan"})]}),_t&&p.jsxs("div",{className:`text-sm ${e?"text-slate-300":"text-slate-600"} bg-slate-100 dark:bg-slate-700 px-3 py-2 rounded-lg`,children:["Verification Status: ",we.items.filter(dt=>dt.verified||z.has(`${we.id}-${dt.barcode}`)).length,"/",we.items.length," items verified"]})]}),p.jsxs("div",{className:"space-y-3",children:[we.items.map((dt,ee)=>p.jsx("div",{className:`p-3 rounded-lg ${e?"bg-slate-700":"bg-slate-100"}`,children:(m==null?void 0:m.jobId)===we.id&&(m==null?void 0:m.itemIndex)===ee?p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 flex-1",children:[p.jsx(bt,{value:m.barcode,onChange:ye=>v({...m,barcode:ye.target.value}),className:"w-full sm:w-32 text-sm",placeholder:"Barcode"}),p.jsx(bt,{type:"number",value:m.quantity.toString(),onChange:ye=>v({...m,quantity:Number(ye.target.value)||1}),className:"w-full sm:w-20 text-sm",min:"1",placeholder:"Qty"})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(st,{size:"sm",onClick:()=>xr(we,ee,m.barcode,m.quantity),className:"h-8 px-3",children:"✓"}),p.jsx(st,{variant:"secondary",size:"sm",onClick:()=>v(null),className:"h-8 px-3",children:"✕"})]})]}):p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("div",{className:`${e?"text-white":"text-slate-800"} text-sm font-medium break-words`,children:dt.name||dt.barcode}),dt.name&&p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs mt-1 break-all`,children:["Barcode: ",dt.barcode]})]}),p.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[_t&&p.jsx(st,{variant:dt.verified||z.has(`${we.id}-${dt.barcode}`)?"success":"primary",size:"sm",onClick:()=>nt(we,dt.barcode,!(dt.verified||z.has(`${we.id}-${dt.barcode}`))),disabled:J.has(`${we.id}-${dt.barcode}`),className:`h-7 px-2 text-xs transition-all duration-200 ${dt.verified||z.has(`${we.id}-${dt.barcode}`)?"bg-green-500 hover:bg-green-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:J.has(`${we.id}-${dt.barcode}`)?p.jsx(ds,{size:12,className:"animate-spin"}):p.jsx("span",{className:"hidden sm:inline",children:dt.verified||z.has(`${we.id}-${dt.barcode}`)?"Verified":"Verify"})}),_t&&!m&&p.jsxs(p.Fragment,{children:[p.jsx(st,{variant:"secondary",size:"sm",onClick:()=>v({jobId:we.id,itemIndex:ee,barcode:dt.barcode,quantity:dt.quantity,locationCode:dt.locationCode,shelfNumber:dt.shelfNumber,reason:dt.reason,storeName:dt.storeName}),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Edit item",children:p.jsx(wZ,{size:16})}),p.jsx(st,{variant:"danger",size:"sm",onClick:()=>Nr(we,ee),className:"h-8 w-8 p-0 flex items-center justify-center",title:"Remove item",children:p.jsx(Ui,{size:16})})]})]})]}),p.jsxs("div",{className:`${e?"text-slate-400":"text-slate-500"} text-xs space-y-1`,children:[p.jsxs("div",{children:["Qty: ",dt.quantity]}),dt.locationCode&&dt.shelfNumber&&p.jsxs("div",{children:["Location: ",dt.locationCode,"-",dt.shelfNumber]}),dt.reason&&p.jsxs("div",{children:["Reason: ",dt.reason]}),dt.storeName&&p.jsxs("div",{children:["Store: ",dt.storeName]})]})]})},`${dt.barcode}-${ee}-${we.id}`)),we.items.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-sm text-center py-4`,children:"No items scanned yet."})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-2 pt-2 border-t border-slate-200 dark:border-slate-700",children:[kt&&p.jsxs(st,{onClick:()=>Xe(we),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[p.jsx(Yx,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Finish Picking"})]}),_t&&p.jsxs(st,{onClick:()=>St(we),size:"sm",className:"flex items-center gap-1 w-full sm:w-auto",children:[p.jsx(Yx,{size:14})," ",p.jsx("span",{className:"hidden sm:inline",children:"Complete Job"})]})]})]})]})};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex flex-col gap-4",children:[p.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-2",children:[p.jsx("div",{className:"flex flex-col gap-2",children:p.jsxs("h1",{className:`text-xl sm:text-2xl font-bold ${e?"text-white":"text-slate-900"}`,children:[P?"Archived":w?"Completed":"Active"," Jobs"]})}),p.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[p.jsx(st,{variant:"secondary",onClick:ft,className:`flex items-center gap-1 ${n?"opacity-50 cursor-not-allowed":""}`,disabled:n,size:"sm",children:p.jsx(ds,{size:16,className:n?"animate-spin":""})}),p.jsxs(st,{onClick:Kt,className:"flex items-center gap-1",size:"sm",children:[p.jsx(Gi,{size:16})," ",p.jsx("span",{className:"sm:inline hidden",children:"New Job"})]}),p.jsx(st,{variant:!w&&!P?"primary":"secondary",onClick:()=>{O(!1),I(!1)},size:"sm",children:"Active Jobs"}),p.jsx(st,{variant:w?"primary":"secondary",onClick:()=>{O(!0),I(!1)},size:"sm",children:"Completed Jobs"}),p.jsx(st,{variant:P?"primary":"secondary",onClick:()=>{O(!1),I(!0)},size:"sm",children:"Archived Jobs"})]})]}),p.jsx("div",{className:"flex flex-col gap-4",children:P&&p.jsx("div",{className:"w-full",children:p.jsxs("div",{className:"flex flex-col gap-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg border border-slate-200 dark:border-slate-700",children:[p.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by User:"}),p.jsxs("select",{value:Le,onChange:we=>Ge(we.target.value),className:`px-3 py-2 border rounded-md text-sm w-full ${e?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-900"}`,children:[p.jsx("option",{value:"all",children:"All Users"}),mt().map(we=>p.jsx("option",{value:we,children:we},we))]})]}),p.jsxs("div",{className:"flex flex-col gap-1",children:[p.jsx("label",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Filter by Date Range:"}),p.jsx(fC,{startDate:ke,endDate:Fe,onStartDateChange:$e,onEndDateChange:Qe,onClear:Bt,className:"w-full"})]})]}),p.jsx("div",{className:"flex justify-end",children:p.jsx(st,{variant:"secondary",onClick:Sr,size:"sm",className:"w-full sm:w-auto",children:"Clear All Filters"})})]})})})]}),p.jsxs("div",{className:"space-y-4",children:[P&&(ke||Fe||Le!=="all")&&p.jsx("div",{className:`p-3 rounded-lg border ${e?"bg-slate-800 border-slate-700 text-slate-300":"bg-slate-50 border-slate-200 text-slate-700"}`,children:p.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2 text-sm",children:[p.jsx("span",{className:"font-medium",children:"Active Filters:"}),p.jsxs("div",{className:"flex flex-wrap gap-2",children:[Le!=="all"&&p.jsxs("span",{className:"px-2 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded text-xs",children:["User: ",Le]}),ke&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["From: ",ke.toLocaleDateString()]}),Fe&&p.jsxs("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded text-xs",children:["To: ",Fe.toLocaleDateString()]}),p.jsxs("span",{className:"px-2 py-1 bg-slate-100 dark:bg-slate-700 text-slate-600 dark:text-slate-300 rounded text-xs",children:[gt.length," jobs found"]})]})]})}),gt.map(we=>p.jsx(qa,{job:we},we.id)),gt.length===0&&p.jsx("div",{className:`${e?"text-slate-400":"text-slate-500"} text-center py-8`,children:P?p.jsxs("div",{className:"space-y-2",children:[p.jsx("p",{children:"No archived jobs found."}),(ke||Fe||Le!=="all")&&p.jsx("p",{className:"text-sm",children:"Try adjusting your filters or clearing them to see more results."})]}):w?"No completed jobs found.":"No active jobs found."})]}),p.jsx(yn,{isOpen:o,onClose:()=>{l(!1),V(null),Y(0),te(!1)},title:ve?"Search Product from Inventory":"Add Barcode to Job",size:"md",closeOnOutsideClick:!1,children:p.jsxs("div",{className:"space-y-4",children:[!ve&&p.jsxs("div",{className:"flex justify-start gap-2",children:[p.jsxs("button",{onClick:()=>te(!0),className:"flex items-center gap-2 px-3 py-2 rounded-md transition-colors bg-slate-100 text-slate-600 dark:bg-slate-700 dark:text-slate-400 hover:bg-slate-200 dark:hover:bg-slate-600",title:"Show search section",children:[p.jsx(Ic,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:"Search Product"})]}),p.jsx(st,{variant:"secondary",onClick:()=>Z(!0),size:"sm",className:"px-3 py-2",children:"Calculator"})]}),ve&&p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("button",{onClick:()=>te(!1),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${e?"bg-slate-700 text-slate-300 hover:bg-slate-600 hover:text-white":"bg-slate-200 text-slate-700 hover:bg-slate-300 hover:text-slate-800"}`,title:"Back to Add Barcode",children:[p.jsx(aZ,{size:16}),p.jsx("span",{className:"text-sm font-medium",children:"Back to Add Barcode"})]}),p.jsx(st,{variant:"secondary",onClick:()=>Z(!0),size:"sm",className:"px-3 py-2",children:"Calculator"})]}),p.jsx("div",{className:"flex gap-2 mb-3",children:["name","barcode","asin"].map(we=>p.jsx("button",{onClick:()=>ge(we),className:`px-3 py-1 text-xs rounded-md transition-colors ${Te===we?"bg-blue-500 text-white":e?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:we.charAt(0).toUpperCase()+we.slice(1)},we))}),p.jsxs("div",{className:"flex gap-2 mb-3",children:[p.jsx(bt,{value:oe,onChange:we=>fe(we.target.value),placeholder:`Search by ${Te}...`,className:"flex-1",onKeyPress:we=>we.key==="Enter"&&Zn(oe,Te)}),p.jsx(st,{onClick:()=>Zn(oe,Te),disabled:_e||!oe.trim(),size:"sm",className:"px-4",children:_e?p.jsx(ds,{size:14,className:"animate-spin"}):"Search"})]}),ie.length>0&&p.jsxs("div",{className:"space-y-2 max-h-48 overflow-auto",children:[p.jsxs("h5",{className:`text-xs font-medium ${e?"text-slate-400":"text-slate-600"}`,children:["Found ",ie.length," product",ie.length!==1?"s":"",":"]}),ie.map(we=>p.jsxs("div",{className:`p-2 rounded text-sm ${e?"bg-slate-700 border border-slate-600":"bg-slate-100 border border-slate-200"}`,children:[p.jsx("div",{className:`font-medium ${e?"text-white":"text-slate-800"}`,children:we.name}),p.jsxs("div",{className:`text-xs ${e?"text-slate-400":"text-slate-600"}`,children:[we.barcode&&p.jsxs("span",{className:"mr-3",children:["Barcode: ",we.barcode]}),we.asin&&p.jsxs("span",{className:"mr-3",children:["ASIN: ",we.asin]}),we.locationCode&&we.shelfNumber&&p.jsxs("span",{className:"mr-3",children:["Location: ",we.locationCode,"-",we.shelfNumber]}),p.jsxs("span",{className:"mr-3",children:["Qty: ",we.quantity]}),p.jsxs("span",{children:["Store: ",we.storeName]})]})]},we.id))]}),oe&&ie.length===0&&!_e&&p.jsxs("div",{className:`text-center text-sm ${e?"text-slate-400":"text-slate-500"}`,children:['No products found for "',oe,'"']})]}),!ve&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-200",children:"Barcode"}),p.jsxs("form",{onSubmit:Ur,className:"flex gap-2",children:[p.jsx(bt,{name:"manualBarcode",type:"text",value:E,onChange:we=>S(we.target.value),placeholder:"Enter barcode manually",fullWidth:!0}),p.jsxs(st,{type:"submit",className:"flex items-center gap-1 whitespace-nowrap",size:"sm",children:[p.jsx(Gi,{size:16})," Add"]})]})]}),p.jsx("div",{className:"text-center text-sm text-slate-500 dark:text-slate-400",children:"Enter a barcode to update stock quantity for this job"})]}),!ve&&c.length>0&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("h4",{className:`text-sm font-medium ${e?"text-slate-300":"text-slate-700"}`,children:"Current Job Items:"}),p.jsx("div",{className:"max-h-32 overflow-auto space-y-1",children:c.map((we,_t)=>p.jsx("div",{className:`flex items-center justify-between p-2 rounded text-sm ${e?"bg-slate-800":"bg-slate-100"}`,children:(d==null?void 0:d.index)===_t?p.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[p.jsx(bt,{value:d.barcode,onChange:kt=>g({...d,barcode:kt.target.value}),className:"w-24 text-sm"}),p.jsx(bt,{type:"number",value:d.quantity,onChange:kt=>g({...d,quantity:Number(kt.target.value)||1}),className:"w-16 text-sm",min:"1"}),p.jsxs("div",{className:"flex gap-1",children:[p.jsx(st,{size:"sm",onClick:()=>{const kt=c[_t].quantity,Yt=Number(d.quantity),It=Yt-kt;u(dt=>{const ee=[...dt];return ee[_t]={...ee[_t],barcode:d.barcode,quantity:Yt,reason:d.reason||"Unknown",storeName:d.storeName||"Unknown",name:d.name||null},ee}),h(dt=>{const ee=[...dt],ye=ee.findIndex(he=>he.stockItem.barcode===d.barcode&&he.locationCode===c[_t].locationCode&&he.shelfNumber===c[_t].shelfNumber);return ye>=0&&(ee[ye]={...ee[ye],deductedQuantity:ee[ye].deductedQuantity+It}),ee}),g(null)},className:"h-6 px-2",children:"✓"}),p.jsx(st,{variant:"secondary",size:"sm",onClick:()=>g(null),className:"h-6 px-2",children:"✕"})]})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"flex-1 min-w-0",children:[p.jsx("span",{className:"truncate block font-medium",children:we.name||we.barcode}),we.name&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Barcode: ",we.barcode]}),we.locationCode&&we.shelfNumber&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Location: ",we.locationCode," - Shelf ",we.shelfNumber]}),we.reason&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Reason: ",we.reason]}),we.storeName&&p.jsxs("span",{className:"text-xs text-slate-500 block",children:["Store: ",we.storeName]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsxs("span",{className:"text-xs text-slate-500",children:["Qty: ",we.quantity]}),p.jsx(st,{variant:"secondary",size:"sm",onClick:()=>g({index:_t,barcode:we.barcode,quantity:we.quantity,reason:we.reason,storeName:we.storeName,name:we.name}),className:"h-6 px-2",children:"Edit"}),p.jsx("button",{type:"button",onClick:()=>{u(kt=>kt.filter((Yt,It)=>It!==_t)),h(kt=>{const Yt=c[_t];return kt.filter(It=>!(It.stockItem.barcode===Yt.barcode&&It.locationCode===Yt.locationCode&&It.shelfNumber===Yt.shelfNumber))})},className:"h-6 w-6 rounded flex items-center justify-center text-white bg-red-500 hover:bg-red-600 transition-colors hover:bg-red-600",title:"Remove item",children:"×"})]})]})},`${we.barcode}-${we.locationCode}-${we.shelfNumber}-${_t}`))}),p.jsx("div",{className:"pt-2",children:p.jsxs(st,{onClick:Ee,disabled:c.length===0||U,isLoading:U,className:"w-full flex items-center justify-center gap-2",size:"sm",children:[p.jsx(Yx,{size:16}),U?"Creating Job...":"Finish Picking"]})})]})]})}),p.jsx(_b,{isOpen:!!y,onClose:()=>b(null),onConfirm:Mt,title:"Delete Job",message:y?`Are you sure you want to delete Job ${y.jobId}? This action cannot be undone.`:"",isLoading:!1}),p.jsx(yn,{isOpen:A,onClose:()=>D(!1),title:"Update Stock for Job",size:"lg",closeOnOutsideClick:!1,children:T&&p.jsx(Cye,{item:T,onSubmit:wt,onCancel:Ct,isLoading:!1})}),p.jsx(Pye,{isOpen:K,onClose:()=>Z(!1)})]})},Iye=({children:e,variant:t="primary",size:r="md",className:n=""})=>{const a={primary:"bg-blue-100 text-blue-800",success:"bg-green-100 text-green-800",warning:"bg-amber-100 text-amber-800",danger:"bg-red-100 text-red-800",info:"bg-slate-100 text-slate-800"},i={sm:"text-xs px-2 py-0.5",md:"text-sm px-2.5 py-0.5"};return p.jsx("span",{className:`
        ${a[t]} 
        ${i[r]} 
        inline-flex items-center justify-center font-medium rounded-full
        ${n}
      `,children:e})},Cq=({status:e})=>{const t=()=>{switch(e){case"pending":return"info";case"processing":return"primary";case"shipped":return"warning";case"delivered":return"success";case"cancelled":return"danger";case"completed":return"success";default:return"info"}},r=()=>e.charAt(0).toUpperCase()+e.slice(1);return p.jsx(Iye,{variant:t(),children:r()})},Dye=({order:e,onClick:t,editButton:r})=>{const{isDarkMode:n}=Jr();return p.jsx("div",{className:`border ${n?"border-slate-700 bg-slate-800":"border-slate-200 bg-white"} rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer`,onClick:t,children:p.jsxs("div",{className:"p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx("h3",{className:`font-medium ${n?"text-white":"text-slate-800"}`,children:e.orderNumber}),p.jsxs("div",{className:"flex items-center gap-2",children:[r,p.jsx(Cq,{status:e.status})]})]}),p.jsx("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-2`,children:e.customerName}),p.jsx("div",{className:"space-y-1 mb-3",children:p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsxs("span",{className:`${n?"text-slate-400":"text-slate-600"}`,children:["Total Products: ",e.items.length]}),p.jsxs("span",{className:`${n?"text-slate-200":"text-slate-800"} font-medium`,children:["Total Quantity: ",e.items.reduce((a,i)=>a+i.quantity,0)]})]})}),p.jsxs("div",{className:`pt-2 border-t ${n?"border-slate-700":"border-slate-200"} flex items-center justify-between`,children:[p.jsx("span",{className:`text-xs ${n?"text-slate-400":"text-slate-500"}`,children:Xt(e.createdAt,"MMM d, yyyy")}),p.jsxs("span",{className:`font-medium ${n?"text-white":"text-slate-900"}`,children:["Total: $",e.totalAmount.toFixed(2)]})]})]})})},jye=({isOpen:e,onClose:t,order:r})=>r?(console.log("Order in OrderDetailsModal:",r),console.log("Order status in modal:",r.status),console.log("Shipped Time in modal (before conditional):",r.shippedTime,typeof r.shippedTime),p.jsx(yn,{isOpen:e,onClose:t,title:`Order ${r.orderNumber}`,size:"xl",children:p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex flex-wrap justify-between gap-4 pb-4 border-b border-slate-200",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Status"}),p.jsx("div",{className:"mt-1",children:p.jsx(Cq,{status:r.status})})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Customer"}),p.jsx("p",{className:"text-slate-800 font-medium",children:r.customerName})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Order Date"}),p.jsx("p",{className:"text-slate-800",children:r.createdAt?Xt(r.createdAt,"MMM d, yyyy h:mm a"):"N/A"})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Last Updated"}),p.jsx("p",{className:"text-slate-800",children:r.updatedAt?Xt(r.updatedAt,"MMM d, yyyy h:mm a"):"N/A"})]}),r.status==="shipped"&&r.shippedTime&&p.jsxs("div",{children:[p.jsx("h4",{className:"text-sm font-medium text-slate-500",children:"Shipped Time"}),p.jsx("p",{className:"text-slate-800",children:r.shippedTime?Xt(r.shippedTime,"MMM d, yyyy h:mm a"):"N/A"})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-3",children:"Order Items"}),p.jsx("div",{className:"bg-slate-50 rounded-lg border border-slate-200 overflow-hidden",children:p.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[p.jsx("thead",{className:"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Product"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Quantity"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Unit Price"}),p.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Total"})]})}),p.jsx("tbody",{className:"bg-white divide-y divide-slate-200",children:r.items.map(n=>p.jsxs("tr",{children:[p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800",children:n.productName}),p.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:n.quantity}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-slate-800 text-right",children:["$",n.unitPrice.toFixed(2)]}),p.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-slate-900 text-right",children:["$",n.totalPrice.toFixed(2)]})]},n.id))}),p.jsx("tfoot",{className:"bg-slate-50",children:p.jsxs("tr",{children:[p.jsx("td",{colSpan:3,className:"px-4 py-3 text-sm font-medium text-slate-700 text-right",children:"Total"}),p.jsxs("td",{className:"px-4 py-3 text-sm font-bold text-slate-900 text-right",children:["$",r.totalAmount.toFixed(2)]})]})})]})})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.shippingAddress.city,", ",r.shippingAddress.state," ",r.shippingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.shippingAddress.country})]})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg border border-slate-200",children:[p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.street}),p.jsxs("p",{className:"text-sm text-slate-800",children:[r.billingAddress.city,", ",r.billingAddress.state," ",r.billingAddress.zipCode]}),p.jsx("p",{className:"text-sm text-slate-800",children:r.billingAddress.country})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Payment Method"}),p.jsx("p",{className:"text-slate-700",children:r.paymentMethod})]}),r.notes&&p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Notes"}),p.jsx("p",{className:"text-slate-700",children:r.notes})]})]})]})})):null,Sb=[{id:"stock1",name:"Wireless Earbuds",quantity:150,price:89.99,supplier:"Tech Supplies Inc.",lastUpdated:new Date,locationCode:"A1",shelfNumber:3},{id:"stock2",name:"Premium T-Shirt",quantity:300,price:24.99,supplier:"Fashion Forward",lastUpdated:wr(new Date,2),locationCode:"A2",shelfNumber:1},{id:"stock3",name:"Office Chair",quantity:45,price:149.99,supplier:"Office Comfort LLC",lastUpdated:wr(new Date,5),locationCode:"B1",shelfNumber:2},{id:"stock4",name:"Smartphone Case",quantity:200,price:19.99,supplier:"Tech Accessories Co.",lastUpdated:wr(new Date,1),locationCode:"B2",shelfNumber:4},{id:"stock5",name:"Protein Bars",quantity:500,price:2.99,supplier:"Nutrition Wholesale",lastUpdated:wr(new Date,3),locationCode:"C1",shelfNumber:2},{id:"stock6",name:"Laptop Backpack",quantity:75,price:59.99,supplier:"Travel Gear Ltd.",lastUpdated:wr(new Date,7),locationCode:"C2",shelfNumber:3},{id:"stock7",name:"Wireless Mouse",quantity:120,price:29.99,supplier:"Tech Supplies Inc.",lastUpdated:wr(new Date,4),locationCode:"D1",shelfNumber:2},{id:"stock8",name:"Denim Jeans",quantity:180,price:49.99,supplier:"Fashion Forward",lastUpdated:wr(new Date,6),locationCode:"D2",shelfNumber:4}],Lye=[{id:"order1",orderNumber:"ORD-2025-001",customerName:"Jane Smith",items:[{id:"item1",productId:"stock1",productName:"Wireless Earbuds",quantity:2,unitPrice:89.99,totalPrice:179.98},{id:"item2",productId:"stock4",productName:"Smartphone Case",quantity:1,unitPrice:19.99,totalPrice:19.99}],status:"pending",createdAt:wr(new Date,1),updatedAt:wr(new Date,1),shippingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},billingAddress:{street:"123 Main St",city:"Boston",state:"MA",zipCode:"02108",country:"USA"},paymentMethod:"Credit Card",totalAmount:199.97},{id:"order2",orderNumber:"ORD-2025-002",customerName:"John Doe",items:[{id:"item3",productId:"stock3",productName:"Office Chair",quantity:1,unitPrice:149.99,totalPrice:149.99}],status:"processing",createdAt:wr(new Date,2),updatedAt:wr(new Date,1),shippingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},billingAddress:{street:"456 Park Ave",city:"New York",state:"NY",zipCode:"10022",country:"USA"},paymentMethod:"PayPal",totalAmount:149.99},{id:"order3",orderNumber:"ORD-2025-003",customerName:"Bob Johnson",items:[{id:"item4",productId:"stock2",productName:"Premium T-Shirt",quantity:3,unitPrice:24.99,totalPrice:74.97},{id:"item5",productId:"stock8",productName:"Denim Jeans",quantity:2,unitPrice:49.99,totalPrice:99.98}],status:"shipped",createdAt:wr(new Date,5),updatedAt:wr(new Date,3),shippingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},billingAddress:{street:"789 Oak Dr",city:"Chicago",state:"IL",zipCode:"60601",country:"USA"},paymentMethod:"Credit Card",totalAmount:174.95},{id:"order4",orderNumber:"ORD-2025-004",customerName:"Alice Williams",items:[{id:"item6",productId:"stock5",productName:"Protein Bars",quantity:10,unitPrice:2.99,totalPrice:29.9}],status:"delivered",createdAt:wr(new Date,10),updatedAt:wr(new Date,7),shippingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},billingAddress:{street:"101 Pine St",city:"San Francisco",state:"CA",zipCode:"94111",country:"USA"},paymentMethod:"Credit Card",totalAmount:29.9},{id:"order5",orderNumber:"ORD-2025-005",customerName:"Thomas Clark",items:[{id:"item7",productId:"stock7",productName:"Wireless Mouse",quantity:1,unitPrice:29.99,totalPrice:29.99},{id:"item8",productId:"stock6",productName:"Laptop Backpack",quantity:1,unitPrice:59.99,totalPrice:59.99}],status:"delivered",createdAt:wr(new Date,15),updatedAt:wr(new Date,12),shippingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},billingAddress:{street:"202 Maple Rd",city:"Austin",state:"TX",zipCode:"78701",country:"USA"},paymentMethod:"PayPal",totalAmount:89.98}];Lye.filter(e=>e.status==="delivered"||e.status==="cancelled");Array.from({length:30},(e,t)=>{const r=Math.floor(Math.random()*6e3)+2e3;return{date:Xt(wr(new Date,29-t),"MMM dd"),amount:r}});wr(new Date,1),wr(new Date,1),wr(new Date,3),wr(new Date,4),wr(new Date,5);const Mye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Rye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],$S={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},nj={street:"",city:"",state:"",zipCode:"",country:""};function Fye(){const e=new Date,t=i=>i.toString().padStart(2,"0"),r=`${e.getFullYear()}${t(e.getMonth()+1)}${t(e.getDate())}`,n=`${t(e.getHours())}${t(e.getMinutes())}${t(e.getSeconds())}`,a=Math.floor(Math.random()*1e4).toString().padStart(4,"0");return`ORD-${r}-${n}-${a}`}const $ye=e=>typeof e=="object"&&e!==null&&!Array.isArray(e)&&"street"in e&&"city"in e&&"state"in e&&"zipCode"in e&&"country"in e,aj=e=>$ye(e)?e:{street:"",city:"",state:"",zipCode:"",country:""},Bye=({isOpen:e,onClose:t,onAdd:r,isLoading:n})=>{const[a,i]=W.useState(""),[s,o]=W.useState(""),[l,c]=W.useState("pending"),[u,f]=W.useState(""),[h,d]=W.useState([{...$S}]),[g,m]=W.useState({...nj}),[v,y]=W.useState({...nj}),[b,w]=W.useState("Credit Card"),[O,P]=W.useState(""),[I,E]=W.useState([]),[S,A]=W.useState(!1);W.useEffect(()=>{e&&(i(Fye()),f(Xt(new Date,"yyyy-MM-dd")),d([{...$S}]),c("pending"))},[e]),W.useEffect(()=>{e&&(async()=>{A(!0);try{const Y=sr(Et(et,"inventory"),ka("name")),H=(await hr(Y)).docs.map(U=>({id:U.id,...U.data()}));E(H.length>0?H:Sb)}catch{E(Sb)}finally{A(!1)}})()},[e]);const D=(Q,Y,J)=>{d(H=>H.map((U,re)=>{if(re!==Q)return U;if(Y==="productName"){const z=I.find(C=>C.name===J);return z?{...U,productId:z.id,productName:z.name,unitPrice:z.price,quantity:1,totalPrice:z.price*1}:U}if(Y==="quantity"){const z=Number(J);return{...U,quantity:z,totalPrice:U.unitPrice*z}}return{...U,[Y]:J}}))},T=()=>{d([...h,{...$S}])},k=Q=>{d(Y=>Y.filter((J,H)=>H!==Q))},j=(Q,Y,J)=>{Q==="shipping"?m(H=>({...aj(H),[Y]:J})):y(H=>({...aj(H),[Y]:J}))},V=Q=>{if(Q.preventDefault(),h.some(H=>!H.productId||!H.productName)){alert("Please select a product for each order item.");return}const Y=new Date,J={orderNumber:a,customerName:s,status:l,createdAt:u?new Date(u):Y,updatedAt:Y,items:h.map((H,U)=>({...H,id:`item${U+1}`})),shippingAddress:g,billingAddress:v,paymentMethod:b,totalAmount:h.reduce((H,U)=>H+(U.totalPrice||0),0)};O&&(J.notes=O),r(J),t()};return p.jsx(yn,{isOpen:e,onClose:t,title:"Add New Order",size:"xl",children:p.jsxs("form",{onSubmit:V,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Order Number",value:a,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(bt,{label:"Customer Name",value:s,onChange:Q=>o(Q.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Br,{label:"Status",value:l,onChange:Q=>c(Q.target.value),options:Mye,required:!0,fullWidth:!0,disabled:!0}),p.jsx(Br,{label:"Payment Method",value:b,onChange:Q=>w(Q.target.value),options:Rye,required:!0,fullWidth:!0})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:p.jsx(bt,{label:"Order Date",type:"date",value:u,onChange:Q=>f(Q.target.value),required:!0,fullWidth:!0})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),h.map((Q,Y)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Br,{label:"Product Name",value:Q.productName,onChange:J=>D(Y,"productName",J.target.value),options:[{value:"",label:"Select product..."},...I.map(J=>({value:J.name,label:J.name}))],required:!0,fullWidth:!0,disabled:S}),p.jsx(bt,{label:"Quantity",type:"number",value:Q.quantity,onChange:J=>D(Y,"quantity",Number(J.target.value)),min:1,required:!0,fullWidth:!0,disabled:!Q.productName}),p.jsx(bt,{label:"Unit Price",type:"number",value:Q.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(bt,{label:"Total Price",type:"number",value:Q.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(st,{type:"button",variant:"danger",size:"sm",icon:p.jsx(Ui,{size:16}),onClick:()=>k(Y),children:"Remove"})]},Y)),p.jsx(st,{type:"button",variant:"primary",icon:p.jsx(Gi,{size:16}),onClick:T,disabled:S,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(bt,{label:"Street",value:g.street,onChange:Q=>j("shipping","street",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"City",value:g.city,onChange:Q=>j("shipping","city",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"State",value:g.state,onChange:Q=>j("shipping","state",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Zip Code",value:g.zipCode,onChange:Q=>j("shipping","zipCode",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Country",value:g.country,onChange:Q=>j("shipping","country",Q.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(bt,{label:"Street",value:v.street,onChange:Q=>j("billing","street",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"City",value:v.city,onChange:Q=>j("billing","city",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"State",value:v.state,onChange:Q=>j("billing","state",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Zip Code",value:v.zipCode,onChange:Q=>j("billing","zipCode",Q.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Country",value:v.country,onChange:Q=>j("billing","country",Q.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(bt,{label:"Notes (optional)",value:O,onChange:Q=>P(Q.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(st,{type:"submit",isLoading:n,variant:"primary",children:"Add Order"})]})]})})},Vye=[{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],Uye=[{value:"Credit Card",label:"Credit Card"},{value:"Cash",label:"Cash"}],ij={productId:"",productName:"",quantity:1,unitPrice:0,totalPrice:0},sj={street:"",city:"",state:"",zipCode:"",country:""},zye=({isOpen:e,onClose:t,onEdit:r,isLoading:n,order:a})=>{const[i,s]=W.useState(""),[o,l]=W.useState(""),[c,u]=W.useState("pending"),[f,h]=W.useState(""),[d,g]=W.useState(""),[m,v]=W.useState([{...ij}]),[y,b]=W.useState({...sj}),[w,O]=W.useState({...sj}),[P,I]=W.useState("Credit Card"),[E,S]=W.useState(""),[A,D]=W.useState([]),[T,k]=W.useState(!1);W.useEffect(()=>{e&&a&&(s(a.orderNumber),l(a.customerName),u(a.status),h(Xt(a.createdAt,"yyyy-MM-dd")),v(a.items.map(re=>({...re}))),b(a.shippingAddress),O(a.billingAddress),I(a.paymentMethod),S(a.notes||""),a.status==="shipped"&&a.shippedTime?g(Xt(a.shippedTime,"yyyy-MM-dd'T'HH:mm")):g(""))},[e,a]),W.useEffect(()=>{e&&(async()=>{k(!0);try{const z=sr(Et(et,"inventory"),ka("name")),F=(await hr(z)).docs.map(q=>({id:q.id,...q.data()}));D(F.length>0?F:Sb)}catch{D(Sb)}finally{k(!1)}})()},[e]);const j=(re,z,C)=>{v(F=>F.map((q,K)=>{if(K!==re)return q;if(z==="productName"){const Z=A.find(oe=>oe.name===C);return Z?{...q,productId:Z.id,productName:Z.name,unitPrice:Z.price,quantity:1,totalPrice:Z.price*1}:q}if(z==="quantity"){const Z=Number(C);return{...q,quantity:Z,totalPrice:q.unitPrice*Z}}return{...q,[z]:C}}))},V=()=>{v([...m,{...ij}])},Q=re=>{v(z=>z.filter((C,F)=>F!==re))},Y=(re,z,C)=>{re==="shipping"?b(F=>({...U(F),[z]:C})):O(F=>({...U(F),[z]:C}))},J=re=>{if(re.preventDefault(),m.some(F=>!F.productId||!F.productName)){alert("Please select a product for each order item.");return}const z={orderNumber:i,customerName:o,status:c,items:m.map((F,q)=>{let K;return typeof F.id=="string"&&F.id?K=F.id:K=`item${q+1}`,{...F,id:K}}),shippingAddress:y,billingAddress:w,paymentMethod:P,totalAmount:m.reduce((F,q)=>F+(q.totalPrice||0),0)};E&&(z.notes=E),c==="shipped"&&d?z.shippedTime=Hue(d):a!=null&&a.shippedTime&&c!=="shipped"&&(z.shippedTime=null);const C={id:(a==null?void 0:a.id)||"",createdAt:(a==null?void 0:a.createdAt)||new Date,updatedAt:new Date,...z};r(C),t()},H=re=>typeof re=="object"&&re!==null&&!Array.isArray(re)&&"street"in re&&"city"in re&&"state"in re&&"zipCode"in re&&"country"in re,U=re=>H(re)?re:{street:"",city:"",state:"",zipCode:"",country:""};return p.jsx(yn,{isOpen:e,onClose:t,title:"Edit Order",size:"xl",children:p.jsxs("form",{onSubmit:J,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Order Number",value:i,readOnly:!0,required:!0,fullWidth:!0}),p.jsx(bt,{label:"Customer Name",value:o,onChange:re=>l(re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Br,{label:"Status",value:c,onChange:re=>u(re.target.value),options:Vye,required:!0,fullWidth:!0}),p.jsx(Br,{label:"Payment Method",value:P,onChange:re=>I(re.target.value),options:Uye,required:!0,fullWidth:!0})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Order Date",type:"date",value:f,onChange:re=>h(re.target.value),required:!0,fullWidth:!0}),c==="shipped"&&p.jsx(bt,{label:"Shipped Time",type:"datetime-local",value:d,onChange:re=>g(re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Order Items"}),m.map((re,z)=>p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-2 mb-2 items-end",children:[p.jsx(Br,{label:"Product Name",value:re.productName,onChange:C=>j(z,"productName",C.target.value),options:[{value:"",label:"Select product..."},...A.map(C=>({value:C.name,label:C.name}))],required:!0,fullWidth:!0,disabled:T}),p.jsx(bt,{label:"Quantity",type:"number",value:re.quantity,onChange:C=>j(z,"quantity",Number(C.target.value)),min:1,required:!0,fullWidth:!0,disabled:!re.productName}),p.jsx(bt,{label:"Unit Price",type:"number",value:re.unitPrice,disabled:!0,fullWidth:!0}),p.jsx(bt,{label:"Total Price",type:"number",value:re.totalPrice,disabled:!0,fullWidth:!0}),p.jsx(st,{type:"button",variant:"danger",size:"sm",icon:p.jsx(Ui,{size:16}),onClick:()=>Q(z),children:"Remove"})]},z)),p.jsx(st,{type:"button",variant:"primary",icon:p.jsx(Gi,{size:16}),onClick:V,disabled:T,children:"Add Item"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Shipping Address"}),p.jsx(bt,{label:"Street",value:y.street,onChange:re=>Y("shipping","street",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"City",value:y.city,onChange:re=>Y("shipping","city",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"State",value:y.state,onChange:re=>Y("shipping","state",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Zip Code",value:y.zipCode,onChange:re=>Y("shipping","zipCode",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Country",value:y.country,onChange:re=>Y("shipping","country",re.target.value),required:!0,fullWidth:!0})]}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Billing Address"}),p.jsx(bt,{label:"Street",value:w.street,onChange:re=>Y("billing","street",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"City",value:w.city,onChange:re=>Y("billing","city",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"State",value:w.state,onChange:re=>Y("billing","state",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Zip Code",value:w.zipCode,onChange:re=>Y("billing","zipCode",re.target.value),required:!0,fullWidth:!0}),p.jsx(bt,{label:"Country",value:w.country,onChange:re=>Y("billing","country",re.target.value),required:!0,fullWidth:!0})]})]}),p.jsx(bt,{label:"Notes (optional)",value:E,onChange:re=>S(re.target.value),fullWidth:!0}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx(st,{type:"button",variant:"secondary",onClick:t,children:"Cancel"}),p.jsx(st,{type:"submit",isLoading:n,variant:"primary",children:"Save Changes"})]})]})})},qye=()=>{const[e,t]=W.useState(""),[r,n]=W.useState("all"),[a,i]=W.useState("date"),[s,o]=W.useState(null),[l,c]=W.useState("grid"),[u,f]=W.useState(!1),[h,d]=W.useState(!1),[g,m]=W.useState([]),[v,y]=W.useState(null),[b,w]=W.useState(!1),{showToast:O}=Yc(),{user:P}=xa(),{isDarkMode:I}=Jr(),E=async()=>{d(!0);try{const H=sr(Et(et,"orders"),ka("createdAt","desc")),re=(await hr(H)).docs.map(z=>{const C=z.data();return{id:z.id,orderNumber:C.orderNumber||"",customerName:C.customerName||"",items:C.items||[],status:C.status||"pending",createdAt:C.createdAt instanceof Zt?C.createdAt.toDate():new Date(C.createdAt),updatedAt:C.updatedAt instanceof Zt?C.updatedAt.toDate():new Date(C.updatedAt),shippingAddress:C.shippingAddress||{},billingAddress:C.billingAddress||{},paymentMethod:C.paymentMethod||"",totalAmount:C.totalAmount||0,notes:C.notes||"",shippedTime:C.shippedTime instanceof Zt?C.shippedTime.toDate():C.shippedTime?new Date(C.shippedTime):void 0}});m(re)}catch(H){console.error("Error fetching orders:",H),O("Failed to fetch orders","error")}finally{d(!1)}};W.useEffect(()=>{E()},[]);const S=g.filter(H=>{const U=H.orderNumber.toLowerCase().includes(e.toLowerCase())||H.customerName.toLowerCase().includes(e.toLowerCase()),re=r==="all"||H.status===r;return U&&re}).sort((H,U)=>a==="date"?new Date(U.createdAt).getTime()-new Date(H.createdAt).getTime():a==="amount"?U.totalAmount-H.totalAmount:0),A=H=>{o(H)},D=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"shipped",label:"Shipped"},{value:"delivered",label:"Delivered"},{value:"cancelled",label:"Cancelled"},{value:"returned",label:"Returned"}],T=[{value:"date",label:"Date (Newest First)"},{value:"amount",label:"Amount (Highest First)"}],k=async H=>{d(!0);try{console.log("Adding new order with status:",H.status),await Er(Et(et,"orders"),{...H,createdAt:Ah(),updatedAt:Ah()}),await Er(Et(et,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`created new order #${H.orderNumber} for '${H.customerName}' with ${H.items.length} items (${H.items.map(U=>`${U.quantity} ${U.productName}`).join(", ")}) - Total: $${H.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),H.status==="shipped"&&(console.log("Order is shipped, updating inventory..."),await yx(H.items,!0)),await E(),f(!1),O("Order added successfully!","success")}catch(U){console.error("Error in handleAddOrder:",U),alert("Error adding order: "+((U==null?void 0:U.message)||U))}finally{d(!1)}},j=async H=>{d(!0);try{const U=Hr(et,"orders",H.id),z=(await Ev(U)).data();console.log("Previous order status:",z==null?void 0:z.status),console.log("New order status:",H.status);const C={status:H.status,updatedAt:Ah()},F=[];if((z==null?void 0:z.status)!==H.status&&F.push(`status from "${z==null?void 0:z.status}" to "${H.status}"`),(z==null?void 0:z.customerName)!==H.customerName&&F.push(`customer from "${z==null?void 0:z.customerName}" to "${H.customerName}"`),JSON.stringify(z==null?void 0:z.items)!==JSON.stringify(H.items)){const K=[];H.items.forEach(Z=>{const oe=z==null?void 0:z.items.find(fe=>fe.id===Z.id);oe?oe.quantity!==Z.quantity&&K.push(`changed ${Z.productName} quantity from ${oe.quantity} to ${Z.quantity}`):K.push(`added ${Z.quantity} ${Z.productName}`)}),z==null||z.items.forEach(Z=>{H.items.find(oe=>oe.id===Z.id)||K.push(`removed ${Z.quantity} ${Z.productName}`)}),K.length>0&&F.push(`items: ${K.join(", ")}`)}(z==null?void 0:z.totalAmount)!==H.totalAmount&&F.push(`total amount from $${z==null?void 0:z.totalAmount.toFixed(2)} to $${H.totalAmount.toFixed(2)}`),H.status==="shipped"&&(z==null?void 0:z.status)!=="shipped"?(console.log("Status changed to shipped, updating inventory..."),await yx(H.items,!0),H.shippedTime?C.shippedTime=Zt.fromDate(H.shippedTime):C.shippedTime=Ah()):(z==null?void 0:z.status)==="shipped"&&H.status!=="shipped"?(console.log("Status changed from shipped, restoring inventory..."),await yx(H.items,!1),C.shippedTime=kI()):(H.status==="cancelled"||H.status==="returned")&&(z==null?void 0:z.status)!=="cancelled"&&(z==null?void 0:z.status)!=="returned"?(console.log(`Status changed to ${H.status}, restoring inventory...`),await yx(H.items,!1),C.shippedTime=kI()):z!=null&&z.shippedTime&&(C.shippedTime=Zt.fromDate(z.shippedTime));const{...q}=H;Object.assign(C,q),await Ta(U,C),F.length>0&&await Er(Et(et,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`edited order #${H.orderNumber}: ${F.join("; ")}`,time:new Date().toISOString()}),await E(),y(null),O("Order updated successfully!","success")}catch(U){console.error("Error updating order:",U),O("Failed to update order","error")}finally{d(!1)}},V=()=>{y(null)},Q=async H=>{d(!0);try{const U=Hr(et,"orders",H),z=(await Ev(U)).data();z&&(await Er(Et(et,"activityLogs"),{user:P==null?void 0:P.name,role:P==null?void 0:P.role,detail:`deleted order #${z.orderNumber} for '${z.customerName}' with ${z.items.length} items (${z.items.map(C=>`${C.quantity} ${C.productName}`).join(", ")}) - Total: $${z.totalAmount.toFixed(2)}`,time:new Date().toISOString()}),await jh(U),await E(),w(!1),o(null),O("Order deleted successfully!","success"))}catch(U){console.error("Error deleting order:",U),O("Failed to delete order","error")}finally{d(!1)}},Y=(H,U)=>{H.stopPropagation(),o(U),w(!0)},J=(H,U)=>{H.stopPropagation(),y(U)};return p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${I?"text-white":"text-slate-800"}`,children:"Current Orders"}),p.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"} mt-1`,children:"Track and manage your active orders"})]}),p.jsx(st,{onClick:()=>f(!0),className:"flex items-center gap-2",children:p.jsx("span",{className:"hidden sm:inline",children:"Add New Order"})})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[p.jsx("div",{className:"md:flex-1",children:p.jsx(bt,{placeholder:"Search by order number or customer...",value:e,onChange:H=>t(H.target.value),icon:p.jsx(Ic,{size:18}),fullWidth:!0})}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsx(Br,{options:D,value:r,onChange:H=>n(H.target.value)}),p.jsx(Br,{options:T,value:a,onChange:H=>i(H.target.value)})]})]}),p.jsx("div",{className:"flex justify-end mb-4",children:p.jsxs("div",{className:"relative inline-block",children:[p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-l-md focus:outline-none transition-colors 
              ${l==="grid"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("grid"),children:[p.jsx(dZ,{size:18,className:"inline mr-1"})," Grid"]}),p.jsxs("button",{className:`px-4 py-2 text-sm font-medium rounded-r-md focus:outline-none transition-colors 
              ${l==="table"?"bg-blue-600 text-white shadow-sm":I?"bg-slate-800 text-slate-300 hover:bg-slate-700 border border-slate-700":"bg-white text-slate-700 hover:bg-slate-50 border border-slate-300"}`,onClick:()=>c("table"),children:[p.jsx(_Z,{size:18,className:"inline mr-1"})," Table"]})]})}),h?p.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[p.jsx(us,{className:`w-8 h-8 ${I?"text-blue-400":"text-blue-500"} animate-spin`}),p.jsx("p",{className:`mt-2 ${I?"text-slate-400":"text-slate-600"}`,children:"Loading orders..."})]}):l==="grid"?S.length>0?p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:S.map(H=>p.jsx("div",{className:"flex flex-col",children:p.jsx(Dye,{order:H,onClick:()=>A(H),editButton:p.jsx("button",{onClick:U=>J(U,H),className:`p-2 ${I?"hover:bg-slate-700":"hover:bg-slate-100"} rounded-full transition-colors`,children:p.jsx(Rs,{className:`w-4 h-4 ${I?"text-blue-400":"text-blue-500"}`})})})},H.id))}):p.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}):S.length>0?p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${I?"divide-slate-700 bg-slate-800 border-slate-700":"divide-slate-200 bg-white border-slate-200"} rounded-lg border`,children:[p.jsx("thead",{className:I?"bg-slate-900":"bg-slate-100",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Order #"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Customer"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Date"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Total"}),p.jsx("th",{className:`px-4 py-3 text-center text-xs font-medium ${I?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`${I?"divide-slate-700":"divide-slate-200"}`,children:S.map(H=>p.jsxs("tr",{className:`${I?"hover:bg-slate-700":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>A(H),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-blue-400":"text-blue-700"} font-medium`,children:H.orderNumber}),p.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:H.customerName}),p.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"} capitalize`,children:H.status}),p.jsx("td",{className:`px-4 py-3 text-sm ${I?"text-slate-300":"text-slate-800"}`,children:new Date(H.createdAt).toLocaleDateString()}),p.jsxs("td",{className:`px-4 py-3 text-sm font-bold ${I?"text-slate-200":"text-slate-900"} text-right`,children:["$",H.totalAmount.toFixed(2)]}),p.jsx("td",{className:"px-4 py-3 text-center",children:p.jsxs("div",{className:"flex items-center justify-center gap-2",children:[p.jsx("button",{onClick:U=>{U.stopPropagation(),y(H)},className:`p-1 ${I?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"} transition-colors`,children:p.jsx(Rs,{size:16})}),p.jsx("button",{onClick:U=>Y(U,H),className:`p-1 ${I?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"} transition-colors`,children:p.jsx(Ui,{size:16})})]})})]},H.id))})]})}):p.jsx("div",{className:`text-center py-12 ${I?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:`${I?"text-slate-400":"text-slate-500"}`,children:"No orders found. Try adjusting your filters."})}),s&&p.jsx(jye,{isOpen:!!s,onClose:()=>o(null),order:s}),p.jsx(Bye,{isOpen:u,onClose:()=>f(!1),onAdd:k,isLoading:h}),p.jsx(zye,{isOpen:!!v,onClose:V,onEdit:j,isLoading:h,order:v}),s&&p.jsx(_b,{isOpen:b,onClose:()=>{w(!1),o(null)},onConfirm:()=>Q(s.id),title:"Delete Order",message:`Are you sure you want to delete order "${s.orderNumber}"? This action cannot be undone.`,isLoading:h})]})},yx=async(e,t)=>{console.log("Updating inventory quantities...",e,t);const r=Tae(et),n=[];for(const a of e){const i=Hr(et,"inventory",a.productId),s=await Ev(i);if(s.exists()){const o=s.data().quantity,l=t?o-a.quantity:o+a.quantity;r.update(i,{quantity:l}),n.push({productName:a.productName,quantity:a.quantity,action:t?"deducted":"restored"})}}if(await r.commit(),n.length>0){const a=t?"deducted from":"restored to",i=n.map(s=>`${s.quantity} units of "${s.productName}"`).join(", ");await Er(Et(et,"activityLogs"),{user:user==null?void 0:user.name,role:user==null?void 0:user.role,detail:`${a} inventory: ${i}`,time:new Date().toISOString()})}},Wye="modulepreload",Hye=function(e){return"/"+e},oj={},PT=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),o=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(r.map(l=>{if(l=Hye(l),l in oj)return;oj[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Wye,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(s){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s}return a.then(s=>{for(const o of s||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};var ki=Uint8Array,$s=Uint16Array,hC=Int32Array,x5=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),b5=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),OT=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Pq=function(e,t){for(var r=new $s(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new hC(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Oq=Pq(x5,2),Iq=Oq.b,IT=Oq.r;Iq[28]=258,IT[258]=28;var Dq=Pq(b5,0),Gye=Dq.b,lj=Dq.r,DT=new $s(32768);for(var On=0;On<32768;++On){var Pu=(On&43690)>>1|(On&21845)<<1;Pu=(Pu&52428)>>2|(Pu&13107)<<2,Pu=(Pu&61680)>>4|(Pu&3855)<<4,DT[On]=((Pu&65280)>>8|(Pu&255)<<8)>>1}var Rl=function(e,t,r){for(var n=e.length,a=0,i=new $s(t);a<n;++a)e[a]&&++i[e[a]-1];var s=new $s(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var o;if(r){o=new $s(1<<t);var l=15-t;for(a=0;a<n;++a)if(e[a])for(var c=a<<4|e[a],u=t-e[a],f=s[e[a]-1]++<<u,h=f|(1<<u)-1;f<=h;++f)o[DT[f]>>l]=c}else for(o=new $s(n),a=0;a<n;++a)e[a]&&(o[a]=DT[s[e[a]-1]++]>>15-e[a]);return o},Nf=new ki(288);for(var On=0;On<144;++On)Nf[On]=8;for(var On=144;On<256;++On)Nf[On]=9;for(var On=256;On<280;++On)Nf[On]=7;for(var On=280;On<288;++On)Nf[On]=8;var qv=new ki(32);for(var On=0;On<32;++On)qv[On]=5;var Kye=Rl(Nf,9,0),Yye=Rl(Nf,9,1),Xye=Rl(qv,5,0),Qye=Rl(qv,5,1),BS=function(e){for(var t=e[0],r=1;r<e.length;++r)e[r]>t&&(t=e[r]);return t},$o=function(e,t,r){var n=t/8|0;return(e[n]|e[n+1]<<8)>>(t&7)&r},VS=function(e,t){var r=t/8|0;return(e[r]|e[r+1]<<8|e[r+2]<<16)>>(t&7)},dC=function(e){return(e+7)/8|0},jq=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new ki(e.subarray(t,r))},Jye=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Wo=function(e,t,r){var n=new Error(t||Jye[e]);if(n.code=e,Error.captureStackTrace&&Error.captureStackTrace(n,Wo),!r)throw n;return n},Zye=function(e,t,r,n){var a=e.length,i=0;if(!a||t.f&&!t.l)return r||new ki(0);var s=!r,o=s||t.i!=2,l=t.i;s&&(r=new ki(a*3));var c=function(_e){var B=r.length;if(_e>B){var Te=new ki(Math.max(B*2,_e));Te.set(r),r=Te}},u=t.f||0,f=t.p||0,h=t.b||0,d=t.l,g=t.d,m=t.m,v=t.n,y=a*8;do{if(!d){u=$o(e,f,1);var b=$o(e,f+1,3);if(f+=3,b)if(b==1)d=Yye,g=Qye,m=9,v=5;else if(b==2){var I=$o(e,f,31)+257,E=$o(e,f+10,15)+4,S=I+$o(e,f+5,31)+1;f+=14;for(var A=new ki(S),D=new ki(19),T=0;T<E;++T)D[OT[T]]=$o(e,f+T*3,7);f+=E*3;for(var k=BS(D),j=(1<<k)-1,V=Rl(D,k,1),T=0;T<S;){var Q=V[$o(e,f,j)];f+=Q&15;var w=Q>>4;if(w<16)A[T++]=w;else{var Y=0,J=0;for(w==16?(J=3+$o(e,f,3),f+=2,Y=A[T-1]):w==17?(J=3+$o(e,f,7),f+=3):w==18&&(J=11+$o(e,f,127),f+=7);J--;)A[T++]=Y}}var H=A.subarray(0,I),U=A.subarray(I);m=BS(H),v=BS(U),d=Rl(H,m,1),g=Rl(U,v,1)}else Wo(1);else{var w=dC(f)+4,O=e[w-4]|e[w-3]<<8,P=w+O;if(P>a){l&&Wo(0);break}o&&c(h+O),r.set(e.subarray(w,P),h),t.b=h+=O,t.p=f=P*8,t.f=u;continue}if(f>y){l&&Wo(0);break}}o&&c(h+131072);for(var re=(1<<m)-1,z=(1<<v)-1,C=f;;C=f){var Y=d[VS(e,f)&re],F=Y>>4;if(f+=Y&15,f>y){l&&Wo(0);break}if(Y||Wo(2),F<256)r[h++]=F;else if(F==256){C=f,d=null;break}else{var q=F-254;if(F>264){var T=F-257,K=x5[T];q=$o(e,f,(1<<K)-1)+Iq[T],f+=K}var Z=g[VS(e,f)&z],oe=Z>>4;Z||Wo(3),f+=Z&15;var U=Gye[oe];if(oe>3){var K=b5[oe];U+=VS(e,f)&(1<<K)-1,f+=K}if(f>y){l&&Wo(0);break}o&&c(h+131072);var fe=h+q;if(h<U){var ie=i-U,de=Math.min(U,fe);for(ie+h<0&&Wo(3);h<de;++h)r[h]=n[ie+h]}for(;h<fe;++h)r[h]=r[h-U]}}t.l=d,t.p=C,t.b=h,t.f=u,d&&(u=1,t.m=m,t.d=g,t.n=v)}while(!u);return h!=r.length&&s?jq(r,0,h):r.subarray(0,h)},lc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},$m=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},US=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Mq,l:0};if(a==1){var s=new ki(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,I){return P.f-I.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],c=0,u=1,f=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=a-1;)o=r[r[c].f<r[f].f?c++:f++],l=r[c!=u&&r[c].f<r[f].f?c++:f++],r[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var h=i[0].s,n=1;n<a;++n)i[n].s>h&&(h=i[n].s);var d=new $s(h+1),g=jT(r[u-1],d,0);if(g>t){var n=0,m=0,v=g-t,y=1<<v;for(i.sort(function(I,E){return d[E.s]-d[I.s]||I.f-E.f});n<a;++n){var b=i[n].s;if(d[b]>t)m+=y-(1<<g-d[b]),d[b]=t;else break}for(m>>=v;m>0;){var w=i[n].s;d[w]<t?m-=1<<t-d[w]++-1:++n}for(;n>=0&&m;--n){var O=i[n].s;d[O]==t&&(--d[O],++m)}g=t}return{t:new ki(d),l:g}},jT=function(e,t,r){return e.s==-1?Math.max(jT(e.l,t,r+1),jT(e.r,t,r+1)):t[e.s]=r},cj=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new $s(++t),n=0,a=e[0],i=1,s=function(l){r[n++]=l},o=1;o<=t;++o)if(e[o]==a&&o!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[o]}return{c:r.subarray(0,n),n:t}},Bm=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Lq=function(e,t,r){var n=r.length,a=dC(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},uj=function(e,t,r,n,a,i,s,o,l,c,u){lc(t,u++,r),++a[256];for(var f=US(a,15),h=f.t,d=f.l,g=US(i,15),m=g.t,v=g.l,y=cj(h),b=y.c,w=y.n,O=cj(m),P=O.c,I=O.n,E=new $s(19),S=0;S<b.length;++S)++E[b[S]&31];for(var S=0;S<P.length;++S)++E[P[S]&31];for(var A=US(E,7),D=A.t,T=A.l,k=19;k>4&&!D[OT[k-1]];--k);var j=c+5<<3,V=Bm(a,Nf)+Bm(i,qv)+s,Q=Bm(a,h)+Bm(i,m)+s+14+3*k+Bm(E,D)+2*E[16]+3*E[17]+7*E[18];if(l>=0&&j<=V&&j<=Q)return Lq(t,u,e.subarray(l,l+c));var Y,J,H,U;if(lc(t,u,1+(Q<V)),u+=2,Q<V){Y=Rl(h,d,0),J=h,H=Rl(m,v,0),U=m;var re=Rl(D,T,0);lc(t,u,w-257),lc(t,u+5,I-1),lc(t,u+10,k-4),u+=14;for(var S=0;S<k;++S)lc(t,u+3*S,D[OT[S]]);u+=3*k;for(var z=[b,P],C=0;C<2;++C)for(var F=z[C],S=0;S<F.length;++S){var q=F[S]&31;lc(t,u,re[q]),u+=D[q],q>15&&(lc(t,u,F[S]>>5&127),u+=F[S]>>12)}}else Y=Kye,J=Nf,H=Xye,U=qv;for(var S=0;S<o;++S){var K=n[S];if(K>255){var q=K>>18&31;$m(t,u,Y[q+257]),u+=J[q+257],q>7&&(lc(t,u,K>>23&31),u+=x5[q]);var Z=K&31;$m(t,u,H[Z]),u+=U[Z],Z>3&&($m(t,u,K>>5&8191),u+=b5[Z])}else $m(t,u,Y[K]),u+=J[K]}return $m(t,u,Y[256]),u+J[256]},exe=new hC([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mq=new ki(0),txe=function(e,t,r,n,a,i){var s=i.z||e.length,o=new ki(n+s+5*(1+Math.ceil(s/7e3))+a),l=o.subarray(n,o.length-a),c=i.l,u=(i.r||0)&7;if(t){u&&(l[0]=i.r>>3);for(var f=exe[t-1],h=f>>13,d=f&8191,g=(1<<r)-1,m=i.p||new $s(32768),v=i.h||new $s(g+1),y=Math.ceil(r/3),b=2*y,w=function(ge){return(e[ge]^e[ge+1]<<y^e[ge+2]<<b)&g},O=new hC(25e3),P=new $s(288),I=new $s(32),E=0,S=0,A=i.i||0,D=0,T=i.w||0,k=0;A+2<s;++A){var j=w(A),V=A&32767,Q=v[j];if(m[V]=Q,v[j]=V,T<=A){var Y=s-A;if((E>7e3||D>24576)&&(Y>423||!c)){u=uj(e,l,0,O,P,I,S,D,k,A-k,u),D=E=S=0,k=A;for(var J=0;J<286;++J)P[J]=0;for(var J=0;J<30;++J)I[J]=0}var H=2,U=0,re=d,z=V-Q&32767;if(Y>2&&j==w(A-z))for(var C=Math.min(h,Y)-1,F=Math.min(32767,A),q=Math.min(258,Y);z<=F&&--re&&V!=Q;){if(e[A+H]==e[A+H-z]){for(var K=0;K<q&&e[A+K]==e[A+K-z];++K);if(K>H){if(H=K,U=z,K>C)break;for(var Z=Math.min(z,K-2),oe=0,J=0;J<Z;++J){var fe=A-z+J&32767,ie=m[fe],de=fe-ie&32767;de>oe&&(oe=de,Q=fe)}}}V=Q,Q=m[V],z+=V-Q&32767}if(U){O[D++]=268435456|IT[H]<<18|lj[U];var _e=IT[H]&31,B=lj[U]&31;S+=x5[_e]+b5[B],++P[257+_e],++I[B],T=A+H,++E}else O[D++]=e[A],++P[e[A]]}}for(A=Math.max(A,T);A<s;++A)O[D++]=e[A],++P[e[A]];u=uj(e,l,c,O,P,I,S,D,k,A-k,u),c||(i.r=u&7|l[u/8|0]<<3,u-=7,i.h=v,i.p=m,i.i=A,i.w=T)}else{for(var A=i.w||0;A<s+c;A+=65535){var Te=A+65535;Te>=s&&(l[u/8|0]=c,Te=s),u=Lq(l,u+1,e.subarray(A,Te))}i.i=s}return jq(o,0,n+dC(u)+a)},Rq=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,s=0;s!=i;){for(var o=Math.min(s+2655,i);s<o;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},rxe=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new ki(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return txe(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},Fq=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},nxe=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=Rq();a.p(t.dictionary),Fq(e,2,a.d())}},axe=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Wo(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Wo(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function LT(e,t){t||(t={});var r=Rq();r.p(e);var n=rxe(e,t,t.dictionary?6:2,4);return nxe(n,t),Fq(n,n.length-4,r.d()),n}function ixe(e,t){return Zye(e.subarray(axe(e,t),-4),{i:2},t,t)}var sxe=typeof TextDecoder<"u"&&new TextDecoder,oxe=0;try{sxe.decode(Mq,{stream:!0}),oxe=1}catch{}var ir=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function zS(){ir.console&&typeof ir.console.log=="function"&&ir.console.log.apply(ir.console,arguments)}var vn={log:zS,warn:function(e){ir.console&&(typeof ir.console.warn=="function"?ir.console.warn.apply(ir.console,arguments):zS.call(null,arguments))},error:function(e){ir.console&&(typeof ir.console.error=="function"?ir.console.error.apply(ir.console,arguments):zS(e))}};function qS(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){ph(n.response,t,r)},n.onerror=function(){vn.error("could not download file")},n.send()}function fj(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function xx(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Ug,MT,ph=ir.saveAs||((typeof window>"u"?"undefined":Xr(window))!=="object"||window!==ir?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=ir.URL||ir.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?fj(a.href)?qS(e,t,r):xx(a,a.target="_blank"):xx(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){xx(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(fj(e))qS(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){xx(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Xr(i)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return qS(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(ir.HTMLElement)||ir.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Xr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=s?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=u:location=u,n=null},o.readAsDataURL(e)}else{var l=ir.URL||ir.webkitURL,c=l.createObjectURL(e);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $q(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function WS(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=pi(r,n,a,i,t[0],7,-680876936),i=pi(i,r,n,a,t[1],12,-389564586),a=pi(a,i,r,n,t[2],17,606105819),n=pi(n,a,i,r,t[3],22,-1044525330),r=pi(r,n,a,i,t[4],7,-176418897),i=pi(i,r,n,a,t[5],12,1200080426),a=pi(a,i,r,n,t[6],17,-1473231341),n=pi(n,a,i,r,t[7],22,-45705983),r=pi(r,n,a,i,t[8],7,1770035416),i=pi(i,r,n,a,t[9],12,-1958414417),a=pi(a,i,r,n,t[10],17,-42063),n=pi(n,a,i,r,t[11],22,-1990404162),r=pi(r,n,a,i,t[12],7,1804603682),i=pi(i,r,n,a,t[13],12,-40341101),a=pi(a,i,r,n,t[14],17,-1502002290),r=mi(r,n=pi(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=mi(i,r,n,a,t[6],9,-1069501632),a=mi(a,i,r,n,t[11],14,643717713),n=mi(n,a,i,r,t[0],20,-373897302),r=mi(r,n,a,i,t[5],5,-701558691),i=mi(i,r,n,a,t[10],9,38016083),a=mi(a,i,r,n,t[15],14,-660478335),n=mi(n,a,i,r,t[4],20,-405537848),r=mi(r,n,a,i,t[9],5,568446438),i=mi(i,r,n,a,t[14],9,-1019803690),a=mi(a,i,r,n,t[3],14,-187363961),n=mi(n,a,i,r,t[8],20,1163531501),r=mi(r,n,a,i,t[13],5,-1444681467),i=mi(i,r,n,a,t[2],9,-51403784),a=mi(a,i,r,n,t[7],14,1735328473),r=gi(r,n=mi(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=gi(i,r,n,a,t[8],11,-2022574463),a=gi(a,i,r,n,t[11],16,1839030562),n=gi(n,a,i,r,t[14],23,-35309556),r=gi(r,n,a,i,t[1],4,-1530992060),i=gi(i,r,n,a,t[4],11,1272893353),a=gi(a,i,r,n,t[7],16,-155497632),n=gi(n,a,i,r,t[10],23,-1094730640),r=gi(r,n,a,i,t[13],4,681279174),i=gi(i,r,n,a,t[0],11,-358537222),a=gi(a,i,r,n,t[3],16,-722521979),n=gi(n,a,i,r,t[6],23,76029189),r=gi(r,n,a,i,t[9],4,-640364487),i=gi(i,r,n,a,t[12],11,-421815835),a=gi(a,i,r,n,t[15],16,530742520),r=vi(r,n=gi(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=vi(i,r,n,a,t[7],10,1126891415),a=vi(a,i,r,n,t[14],15,-1416354905),n=vi(n,a,i,r,t[5],21,-57434055),r=vi(r,n,a,i,t[12],6,1700485571),i=vi(i,r,n,a,t[3],10,-1894986606),a=vi(a,i,r,n,t[10],15,-1051523),n=vi(n,a,i,r,t[1],21,-2054922799),r=vi(r,n,a,i,t[8],6,1873313359),i=vi(i,r,n,a,t[15],10,-30611744),a=vi(a,i,r,n,t[6],15,-1560198380),n=vi(n,a,i,r,t[13],21,1309151649),r=vi(r,n,a,i,t[4],6,-145523070),i=vi(i,r,n,a,t[11],10,-1120210379),a=vi(a,i,r,n,t[2],15,718787259),n=vi(n,a,i,r,t[9],21,-343485551),e[0]=Xu(r,e[0]),e[1]=Xu(n,e[1]),e[2]=Xu(a,e[2]),e[3]=Xu(i,e[3])}function w5(e,t,r,n,a,i){return t=Xu(Xu(t,e),Xu(n,i)),Xu(t<<a|t>>>32-a,r)}function pi(e,t,r,n,a,i,s){return w5(t&r|~t&n,e,t,a,i,s)}function mi(e,t,r,n,a,i,s){return w5(t&n|r&~n,e,t,a,i,s)}function gi(e,t,r,n,a,i,s){return w5(t^r^n,e,t,a,i,s)}function vi(e,t,r,n,a,i,s){return w5(r^(t|~n),e,t,a,i,s)}function Bq(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)WS(n,lxe(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(WS(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,WS(n,a),n}function lxe(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}Ug=ir.atob.bind(ir),MT=ir.btoa.bind(ir);var hj="0123456789abcdef".split("");function cxe(e){for(var t="",r=0;r<4;r++)t+=hj[e>>8*r+4&15]+hj[e>>8*r&15];return t}function uxe(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function RT(e){return Bq(e).map(uxe).join("")}var fxe=function(e){for(var t=0;t<e.length;t++)e[t]=cxe(e[t]);return e.join("")}(Bq("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xu(e,t){if(fxe){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function FT(e,t){var r,n,a,i;if(e!==r){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+s.charCodeAt(l))%256,o[l]=o[c],o[c]=u}r=e,n=o}else o=n;var f=t.length,h=0,d=0,g="";for(l=0;l<f;l++)d=(d+(u=o[h=(h+1)%256]))%256,o[h]=o[d],o[d]=u,s=o[(o[h]+o[d])%256],g+=String.fromCharCode(t.charCodeAt(l)^s);return g}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var dj={print:4,modify:8,copy:16,"annot-forms":32};function t0(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(o){if(dj.perm!==void 0)throw new Error("Invalid permission: "+o);a+=dj[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=RT(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=FT(this.encryptionKey,this.padding)}function r0(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[n]}return t}function pj(e){if(Xr(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var s=t[r][i];try{s[0].apply(e,n)}catch(o){ir.console&&vn.error("jsPDF PubSub Error",o.message,o)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Ab(e){if(!(this instanceof Ab))return new Ab(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function Vq(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function xh(e,t,r,n,a){if(!(this instanceof xh))return new xh(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,Vq.call(this,n,a)}function w0(e,t,r,n,a){if(!(this instanceof w0))return new w0(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,Vq.call(this,n,a)}function ar(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],o=1,l=16,c="S",u=null;Xr(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=pj;var g="1.3",m=d.__private__.getPdfVersion=function(){return g};d.__private__.setPdfVersion=function(L){g=L};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return v};var y=d.__private__.getPageFormat=function(L){return v[L]};a=a||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},w=b.COMPAT;function O(){this.saveGraphicsState(),te(new we(rt,0,0,-rt,0,ci()*rt).toString()+" cm"),this.setFontSize(this.getFontSize()/rt),c="n",w=b.ADVANCED}function P(){this.restoreGraphicsState(),c="S",w=b.COMPAT}var I=d.__private__.combineFontStyleAndFontWeight=function(L,ne){if(L=="bold"&&ne=="normal"||L=="bold"&&ne==400||L=="normal"&&ne=="italic"||L=="bold"&&ne=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ne&&(L=ne==400||ne==="normal"?L==="italic"?"italic":"normal":ne!=700&&ne!=="bold"||L!=="normal"?(ne==700?"bold":ne)+""+L:"bold"),L};d.advancedAPI=function(L){var ne=w===b.COMPAT;return ne&&O.call(this),typeof L!="function"||(L(this),ne&&P.call(this)),this},d.compatAPI=function(L){var ne=w===b.ADVANCED;return ne&&P.call(this),typeof L!="function"||(L(this),ne&&O.call(this)),this},d.isAdvancedAPI=function(){return w===b.ADVANCED};var E,S=function(L){if(w!==b.ADVANCED)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=d.roundToPrecision=d.__private__.roundToPrecision=function(L,ne){var Ae=t||ne;if(isNaN(L)||isNaN(Ae))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ae).replace(/0+$/,"")};E=d.hpf=d.__private__.hpf=typeof l=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,l)}:l==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return A(L,16)};var D=d.f2=d.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return A(L,2)},T=d.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return A(L,3)},k=d.scale=d.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return w===b.COMPAT?L*rt:w===b.ADVANCED?L:void 0},j=function(L){return w===b.COMPAT?ci()-L:w===b.ADVANCED?L:void 0},V=function(L){return k(j(L))};d.__private__.setPrecision=d.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(t=parseInt(L,10))};var Q,Y="00000000000000000000000000000000",J=d.__private__.getFileId=function(){return Y},H=d.__private__.setFileId=function(L){return Y=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():Y.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(En=new t0(u.userPermissions,u.userPassword,u.ownerPassword,Y)),Y};d.setFileId=function(L){return H(L),this},d.getFileId=function(){return J()};var U=d.__private__.convertDateToPDFDate=function(L){var ne=L.getTimezoneOffset(),Ae=ne<0?"+":"-",Ne=Math.floor(Math.abs(ne/60)),je=Math.abs(ne%60),Ze=[Ae,q(Ne),"'",q(je),"'"].join("");return["D:",L.getFullYear(),q(L.getMonth()+1),q(L.getDate()),q(L.getHours()),q(L.getMinutes()),q(L.getSeconds()),Ze].join("")},re=d.__private__.convertPDFDateToDate=function(L){var ne=parseInt(L.substr(2,4),10),Ae=parseInt(L.substr(6,2),10)-1,Ne=parseInt(L.substr(8,2),10),je=parseInt(L.substr(10,2),10),Ze=parseInt(L.substr(12,2),10),yt=parseInt(L.substr(14,2),10);return new Date(ne,Ae,Ne,je,Ze,yt,0)},z=d.__private__.setCreationDate=function(L){var ne;if(L===void 0&&(L=new Date),L instanceof Date)ne=U(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ne=L}return Q=ne},C=d.__private__.getCreationDate=function(L){var ne=Q;return L==="jsDate"&&(ne=re(Q)),ne};d.setCreationDate=function(L){return z(L),this},d.getCreationDate=function(L){return C(L)};var F,q=d.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},K=d.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},Z=0,oe=[],fe=[],ie=0,de=[],_e=[],B=!1,Te=fe,ge=function(){Z=0,ie=0,fe=[],oe=[],de=[],he=dt(),me=dt()};d.__private__.setCustomOutputDestination=function(L){B=!0,Te=L};var ve=function(L){B||(Te=L)};d.__private__.resetCustomOutputDestination=function(){B=!1,Te=fe};var te=d.__private__.out=function(L){return L=L.toString(),ie+=L.length+1,Te.push(L),Te},ke=d.__private__.write=function(L){return te(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},$e=d.__private__.getArrayBuffer=function(L){for(var ne=L.length,Ae=new ArrayBuffer(ne),Ne=new Uint8Array(Ae);ne--;)Ne[ne]=L.charCodeAt(ne);return Ae},Fe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Fe};var Qe=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(L){return Qe=w===b.ADVANCED?L/rt:L,this};var Le,Ge=d.__private__.getFontSize=d.getFontSize=function(){return w===b.COMPAT?Qe:Qe*rt},Me=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(L){return Me=L,this},d.__private__.getR2L=d.getR2L=function(){return Me};var Ye,mt=d.__private__.setZoomMode=function(L){var ne=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))Le=L;else if(isNaN(L)){if(ne.indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');Le=L}else Le=parseInt(L,10)};d.__private__.getZoomMode=function(){return Le};var at,gt=d.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');Ye=L};d.__private__.getPageMode=function(){return Ye};var At=d.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');at=L};d.__private__.getLayoutMode=function(){return at},d.__private__.setDisplayMode=d.setDisplayMode=function(L,ne,Ae){return mt(L),At(ne),gt(Ae),this};var Pt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(L){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Pt[L]},d.__private__.getDocumentProperties=function(){return Pt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(L){for(var ne in Pt)Pt.hasOwnProperty(ne)&&L[ne]&&(Pt[ne]=L[ne]);return this},d.__private__.setDocumentProperty=function(L,ne){if(Object.keys(Pt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Pt[L]=ne};var ft,rt,Kt,Vt,Ur,wt={},Ct={},Qt=[],Bt={},Sr={},Ee={},Xe={},nt=null,St=0,ht=[],Mt=new pj(d),xr=e.hotfixes||[],Nr={},Zn={},qa=[],we=function L(ne,Ae,Ne,je,Ze,yt){if(!(this instanceof L))return new L(ne,Ae,Ne,je,Ze,yt);isNaN(ne)&&(ne=1),isNaN(Ae)&&(Ae=0),isNaN(Ne)&&(Ne=0),isNaN(je)&&(je=1),isNaN(Ze)&&(Ze=0),isNaN(yt)&&(yt=0),this._matrix=[ne,Ae,Ne,je,Ze,yt]};Object.defineProperty(we.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(we.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(we.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(we.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(we.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(we.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(we.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(we.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(we.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(we.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(we.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(we.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(we.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(we.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(we.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(we.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),we.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(L)},we.prototype.multiply=function(L){var ne=L.sx*this.sx+L.shy*this.shx,Ae=L.sx*this.shy+L.shy*this.sy,Ne=L.shx*this.sx+L.sy*this.shx,je=L.shx*this.shy+L.sy*this.sy,Ze=L.tx*this.sx+L.ty*this.shx+this.tx,yt=L.tx*this.shy+L.ty*this.sy+this.ty;return new we(ne,Ae,Ne,je,Ze,yt)},we.prototype.decompose=function(){var L=this.sx,ne=this.shy,Ae=this.shx,Ne=this.sy,je=this.tx,Ze=this.ty,yt=Math.sqrt(L*L+ne*ne),Rt=(L/=yt)*Ae+(ne/=yt)*Ne;Ae-=L*Rt,Ne-=ne*Rt;var _=Math.sqrt(Ae*Ae+Ne*Ne);return Rt/=_,L*(Ne/=_)<ne*(Ae/=_)&&(L=-L,ne=-ne,Rt=-Rt,yt=-yt),{scale:new we(yt,0,0,_,0,0),translate:new we(1,0,0,1,je,Ze),rotate:new we(L,ne,-ne,L,0,0),skew:new we(1,0,Rt,1,0,0)}},we.prototype.toString=function(L){return this.join(" ")},we.prototype.inversed=function(){var L=this.sx,ne=this.shy,Ae=this.shx,Ne=this.sy,je=this.tx,Ze=this.ty,yt=1/(L*Ne-ne*Ae),Rt=Ne*yt,_=-ne*yt,R=-Ae*yt,X=L*yt;return new we(Rt,_,R,X,-Rt*je-R*Ze,-_*je-X*Ze)},we.prototype.applyToPoint=function(L){var ne=L.x*this.sx+L.y*this.shx+this.tx,Ae=L.x*this.shy+L.y*this.sy+this.ty;return new Zl(ne,Ae)},we.prototype.applyToRectangle=function(L){var ne=this.applyToPoint(L),Ae=this.applyToPoint(new Zl(L.x+L.w,L.y+L.h));return new hu(ne.x,ne.y,Ae.x-ne.x,Ae.y-ne.y)},we.prototype.clone=function(){var L=this.sx,ne=this.shy,Ae=this.shx,Ne=this.sy,je=this.tx,Ze=this.ty;return new we(L,ne,Ae,Ne,je,Ze)},d.Matrix=we;var _t=d.matrixMult=function(L,ne){return ne.multiply(L)},kt=new we(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=kt;var Yt=function(L,ne){if(!Sr[L]){var Ae=(ne instanceof xh?"Sh":"P")+(Object.keys(Bt).length+1).toString(10);ne.id=Ae,Sr[L]=Ae,Bt[Ae]=ne,Mt.publish("addPattern",ne)}};d.ShadingPattern=xh,d.TilingPattern=w0,d.addShadingPattern=function(L,ne){return S("addShadingPattern()"),Yt(L,ne),this},d.beginTilingPattern=function(L){S("beginTilingPattern()"),du(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},d.endTilingPattern=function(L,ne){S("endTilingPattern()"),ne.stream=_e[F].join(`
`),Yt(L,ne),Mt.publish("endTilingPattern",ne),qa.pop().restore()};var It=d.__private__.newObject=function(){var L=dt();return ee(L,!0),L},dt=d.__private__.newObjectDeferred=function(){return Z++,oe[Z]=function(){return ie},Z},ee=function(L,ne){return ne=typeof ne=="boolean"&&ne,oe[L]=ie,ne&&te(L+" 0 obj"),L},ye=d.__private__.newAdditionalObject=function(){var L={objId:dt(),content:""};return de.push(L),L},he=dt(),me=dt(),be=d.__private__.decodeColorString=function(L){var ne=L.split(" ");if(ne.length!==2||ne[1]!=="g"&&ne[1]!=="G")ne.length===5&&(ne[4]==="k"||ne[4]==="K")&&(ne=[(1-ne[0])*(1-ne[3]),(1-ne[1])*(1-ne[3]),(1-ne[2])*(1-ne[3]),"r"]);else{var Ae=parseFloat(ne[0]);ne=[Ae,Ae,Ae,"r"]}for(var Ne="#",je=0;je<3;je++)Ne+=("0"+Math.floor(255*parseFloat(ne[je])).toString(16)).slice(-2);return Ne},Se=d.__private__.encodeColorString=function(L){var ne;typeof L=="string"&&(L={ch1:L});var Ae=L.ch1,Ne=L.ch2,je=L.ch3,Ze=L.ch4,yt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ae=="string"&&Ae.charAt(0)!=="#"){var Rt=new $q(Ae);if(Rt.ok)Ae=Rt.toHex();else if(!/^\d*\.?\d*$/.test(Ae))throw new Error('Invalid color "'+Ae+'" passed to jsPDF.encodeColorString.')}if(typeof Ae=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ae)&&(Ae="#"+Ae[1]+Ae[1]+Ae[2]+Ae[2]+Ae[3]+Ae[3]),typeof Ae=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ae)){var _=parseInt(Ae.substr(1),16);Ae=_>>16&255,Ne=_>>8&255,je=255&_}if(Ne===void 0||Ze===void 0&&Ae===Ne&&Ne===je)if(typeof Ae=="string")ne=Ae+" "+yt[0];else switch(L.precision){case 2:ne=D(Ae/255)+" "+yt[0];break;case 3:default:ne=T(Ae/255)+" "+yt[0]}else if(Ze===void 0||Xr(Ze)==="object"){if(Ze&&!isNaN(Ze.a)&&Ze.a===0)return ne=["1.","1.","1.",yt[1]].join(" ");if(typeof Ae=="string")ne=[Ae,Ne,je,yt[1]].join(" ");else switch(L.precision){case 2:ne=[D(Ae/255),D(Ne/255),D(je/255),yt[1]].join(" ");break;default:case 3:ne=[T(Ae/255),T(Ne/255),T(je/255),yt[1]].join(" ")}}else if(typeof Ae=="string")ne=[Ae,Ne,je,Ze,yt[2]].join(" ");else switch(L.precision){case 2:ne=[D(Ae),D(Ne),D(je),D(Ze),yt[2]].join(" ");break;case 3:default:ne=[T(Ae),T(Ne),T(je),T(Ze),yt[2]].join(" ")}return ne},Be=d.__private__.getFilters=function(){return s},Ke=d.__private__.putStream=function(L){var ne=(L=L||{}).data||"",Ae=L.filters||Be(),Ne=L.alreadyAppliedFilters||[],je=L.addLength1||!1,Ze=ne.length,yt=L.objectId,Rt=function(mr){return mr};if(u!==null&&yt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Rt=En.encryptor(yt,0));var _={};Ae===!0&&(Ae=["FlateEncode"]);var R=L.additionalKeyValues||[],X=(_=ar.API.processDataByFilters!==void 0?ar.API.processDataByFilters(ne,Ae):{data:ne,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(_.data.length!==0&&(R.push({key:"Length",value:_.data.length}),je===!0&&R.push({key:"Length1",value:Ze})),X.length!=0)if(X.split("/").length-1==1)R.push({key:"Filter",value:X});else{R.push({key:"Filter",value:"["+X+"]"});for(var ce=0;ce<R.length;ce+=1)if(R[ce].key==="DecodeParms"){for(var De=[],We=0;We<_.reverseChain.split("/").length-1;We+=1)De.push("null");De.push(R[ce].value),R[ce].value="["+De.join(" ")+"]"}}te("<<");for(var xt=0;xt<R.length;xt++)te("/"+R[xt].key+" "+R[xt].value);te(">>"),_.data.length!==0&&(te("stream"),te(Rt(_.data)),te("endstream"))},Ve=d.__private__.putPage=function(L){var ne=L.number,Ae=L.data,Ne=L.objId,je=L.contentsObjId;ee(Ne,!0),te("<</Type /Page"),te("/Parent "+L.rootDictionaryObjId+" 0 R"),te("/Resources "+L.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat(E(L.mediaBox.bottomLeftX))+" "+parseFloat(E(L.mediaBox.bottomLeftY))+" "+E(L.mediaBox.topRightX)+" "+E(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&te("/CropBox ["+E(L.cropBox.bottomLeftX)+" "+E(L.cropBox.bottomLeftY)+" "+E(L.cropBox.topRightX)+" "+E(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&te("/BleedBox ["+E(L.bleedBox.bottomLeftX)+" "+E(L.bleedBox.bottomLeftY)+" "+E(L.bleedBox.topRightX)+" "+E(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&te("/TrimBox ["+E(L.trimBox.bottomLeftX)+" "+E(L.trimBox.bottomLeftY)+" "+E(L.trimBox.topRightX)+" "+E(L.trimBox.topRightY)+"]"),L.artBox!==null&&te("/ArtBox ["+E(L.artBox.bottomLeftX)+" "+E(L.artBox.bottomLeftY)+" "+E(L.artBox.topRightX)+" "+E(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&te("/UserUnit "+L.userUnit),Mt.publish("putPage",{objId:Ne,pageContext:ht[ne],pageNumber:ne,page:Ae}),te("/Contents "+je+" 0 R"),te(">>"),te("endobj");var Ze=Ae.join(`
`);return w===b.ADVANCED&&(Ze+=`
Q`),ee(je,!0),Ke({data:Ze,filters:Be(),objectId:je}),te("endobj"),Ne},Ue=d.__private__.putPages=function(){var L,ne,Ae=[];for(L=1;L<=St;L++)ht[L].objId=dt(),ht[L].contentsObjId=dt();for(L=1;L<=St;L++)Ae.push(Ve({number:L,data:_e[L],objId:ht[L].objId,contentsObjId:ht[L].contentsObjId,mediaBox:ht[L].mediaBox,cropBox:ht[L].cropBox,bleedBox:ht[L].bleedBox,trimBox:ht[L].trimBox,artBox:ht[L].artBox,userUnit:ht[L].userUnit,rootDictionaryObjId:he,resourceDictionaryObjId:me}));ee(he,!0),te("<</Type /Pages");var Ne="/Kids [";for(ne=0;ne<St;ne++)Ne+=Ae[ne]+" 0 R ";te(Ne+"]"),te("/Count "+St),te(">>"),te("endobj"),Mt.publish("postPutPages")},He=function(L){Mt.publish("putFont",{font:L,out:te,newObject:It,putStream:Ke}),L.isAlreadyPutted!==!0&&(L.objectNumber=It(),te("<<"),te("/Type /Font"),te("/BaseFont /"+r0(L.postScriptName)),te("/Subtype /Type1"),typeof L.encoding=="string"&&te("/Encoding /"+L.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},vt=function(){for(var L in wt)wt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&He(wt[L])},Ot=function(L){L.objectNumber=It();var ne=[];ne.push({key:"Type",value:"/XObject"}),ne.push({key:"Subtype",value:"/Form"}),ne.push({key:"BBox",value:"["+[E(L.x),E(L.y),E(L.x+L.width),E(L.y+L.height)].join(" ")+"]"}),ne.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ae=L.pages[1].join(`
`);Ke({data:Ae,additionalKeyValues:ne,objectId:L.objectNumber}),te("endobj")},Ft=function(){for(var L in Nr)Nr.hasOwnProperty(L)&&Ot(Nr[L])},Tt=function(L,ne){var Ae,Ne=[],je=1/(ne-1);for(Ae=0;Ae<1;Ae+=je)Ne.push(Ae);if(Ne.push(1),L[0].offset!=0){var Ze={offset:0,color:L[0].color};L.unshift(Ze)}if(L[L.length-1].offset!=1){var yt={offset:1,color:L[L.length-1].color};L.push(yt)}for(var Rt="",_=0,R=0;R<Ne.length;R++){for(Ae=Ne[R];Ae>L[_+1].offset;)_++;var X=L[_].offset,ce=(Ae-X)/(L[_+1].offset-X),De=L[_].color,We=L[_+1].color;Rt+=K(Math.round((1-ce)*De[0]+ce*We[0]).toString(16))+K(Math.round((1-ce)*De[1]+ce*We[1]).toString(16))+K(Math.round((1-ce)*De[2]+ce*We[2]).toString(16))}return Rt.trim()},Dt=function(L,ne){ne||(ne=21);var Ae=It(),Ne=Tt(L.colors,ne),je=[];je.push({key:"FunctionType",value:"0"}),je.push({key:"Domain",value:"[0.0 1.0]"}),je.push({key:"Size",value:"["+ne+"]"}),je.push({key:"BitsPerSample",value:"8"}),je.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),je.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ke({data:Ne,additionalKeyValues:je,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ae}),te("endobj"),L.objectNumber=It(),te("<< /ShadingType "+L.type),te("/ColorSpace /DeviceRGB");var Ze="/Coords ["+E(parseFloat(L.coords[0]))+" "+E(parseFloat(L.coords[1]))+" ";L.type===2?Ze+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3])):Ze+=E(parseFloat(L.coords[2]))+" "+E(parseFloat(L.coords[3]))+" "+E(parseFloat(L.coords[4]))+" "+E(parseFloat(L.coords[5])),te(Ze+="]"),L.matrix&&te("/Matrix ["+L.matrix.toString()+"]"),te("/Function "+Ae+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},rr=function(L,ne){var Ae=dt(),Ne=It();ne.push({resourcesOid:Ae,objectOid:Ne}),L.objectNumber=Ne;var je=[];je.push({key:"Type",value:"/Pattern"}),je.push({key:"PatternType",value:"1"}),je.push({key:"PaintType",value:"1"}),je.push({key:"TilingType",value:"1"}),je.push({key:"BBox",value:"["+L.boundingBox.map(E).join(" ")+"]"}),je.push({key:"XStep",value:E(L.xStep)}),je.push({key:"YStep",value:E(L.yStep)}),je.push({key:"Resources",value:Ae+" 0 R"}),L.matrix&&je.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),Ke({data:L.stream,additionalKeyValues:je,objectId:L.objectNumber}),te("endobj")},Lr=function(L){var ne;for(ne in Bt)Bt.hasOwnProperty(ne)&&(Bt[ne]instanceof xh?Dt(Bt[ne]):Bt[ne]instanceof w0&&rr(Bt[ne],L))},Mr=function(L){for(var ne in L.objectNumber=It(),te("<<"),L)switch(ne){case"opacity":te("/ca "+D(L[ne]));break;case"stroke-opacity":te("/CA "+D(L[ne]))}te(">>"),te("endobj")},un=function(){var L;for(L in Ee)Ee.hasOwnProperty(L)&&Mr(Ee[L])},Di=function(){for(var L in te("/XObject <<"),Nr)Nr.hasOwnProperty(L)&&Nr[L].objectNumber>=0&&te("/"+L+" "+Nr[L].objectNumber+" 0 R");Mt.publish("putXobjectDict"),te(">>")},Eo=function(){En.oid=It(),te("<<"),te("/Filter /Standard"),te("/V "+En.v),te("/R "+En.r),te("/U <"+En.toHexString(En.U)+">"),te("/O <"+En.toHexString(En.O)+">"),te("/P "+En.P),te(">>"),te("endobj")},ws=function(){for(var L in te("/Font <<"),wt)wt.hasOwnProperty(L)&&(f===!1||f===!0&&h.hasOwnProperty(L))&&te("/"+L+" "+wt[L].objectNumber+" 0 R");te(">>")},es=function(){if(Object.keys(Bt).length>0){for(var L in te("/Shading <<"),Bt)Bt.hasOwnProperty(L)&&Bt[L]instanceof xh&&Bt[L].objectNumber>=0&&te("/"+L+" "+Bt[L].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),te(">>")}},_s=function(L){if(Object.keys(Bt).length>0){for(var ne in te("/Pattern <<"),Bt)Bt.hasOwnProperty(ne)&&Bt[ne]instanceof d.TilingPattern&&Bt[ne].objectNumber>=0&&Bt[ne].objectNumber<L&&te("/"+ne+" "+Bt[ne].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),te(">>")}},Wa=function(){if(Object.keys(Ee).length>0){var L;for(L in te("/ExtGState <<"),Ee)Ee.hasOwnProperty(L)&&Ee[L].objectNumber>=0&&te("/"+L+" "+Ee[L].objectNumber+" 0 R");Mt.publish("putGStateDict"),te(">>")}},Tn=function(L){ee(L.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),ws(),es(),_s(L.objectOid),Wa(),Di(),te(">>"),te("endobj")},zf=function(){var L=[];vt(),un(),Ft(),Lr(L),Mt.publish("putResources"),L.forEach(Tn),Tn({resourcesOid:me,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},qf=function(){Mt.publish("putAdditionalObjects");for(var L=0;L<de.length;L++){var ne=de[L];ee(ne.objId,!0),te(ne.content),te("endobj")}Mt.publish("postPutAdditionalObjects")},wd=function(L){Ct[L.fontName]=Ct[L.fontName]||{},Ct[L.fontName][L.fontStyle]=L.id},Wf=function(L,ne,Ae,Ne,je){var Ze={id:"F"+(Object.keys(wt).length+1).toString(10),postScriptName:L,fontName:ne,fontStyle:Ae,encoding:Ne,isStandardFont:je||!1,metadata:{}};return Mt.publish("addFont",{font:Ze,instance:this}),wt[Ze.id]=Ze,wd(Ze),Ze.id},_d=function(L){for(var ne=0,Ae=Fe.length;ne<Ae;ne++){var Ne=Wf.call(this,L[ne][0],L[ne][1],L[ne][2],Fe[ne][3],!0);f===!1&&(h[Ne]=!0);var je=L[ne][0].split("-");wd({id:Ne,fontName:je[0],fontStyle:je[1]||""})}Mt.publish("addFonts",{fonts:wt,dictionary:Ct})},ts=function(L){return L.foo=function(){try{return L.apply(this,arguments)}catch(Ne){var ne=Ne.stack||"";~ne.indexOf(" at ")&&(ne=ne.split(" at ")[1]);var Ae="Error in function "+ne.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!ir.console)throw new Error(Ae);ir.console.error(Ae,Ne),ir.alert&&alert(Ae)}},L.foo.bar=L,L.foo},eu=function(L,ne){var Ae,Ne,je,Ze,yt,Rt,_,R,X;if(je=(ne=ne||{}).sourceEncoding||"Unicode",yt=ne.outputEncoding,(ne.autoencode||yt)&&wt[ft].metadata&&wt[ft].metadata[je]&&wt[ft].metadata[je].encoding&&(Ze=wt[ft].metadata[je].encoding,!yt&&wt[ft].encoding&&(yt=wt[ft].encoding),!yt&&Ze.codePages&&(yt=Ze.codePages[0]),typeof yt=="string"&&(yt=Ze[yt]),yt)){for(_=!1,Rt=[],Ae=0,Ne=L.length;Ae<Ne;Ae++)(R=yt[L.charCodeAt(Ae)])?Rt.push(String.fromCharCode(R)):Rt.push(L[Ae]),Rt[Ae].charCodeAt(0)>>8&&(_=!0);L=Rt.join("")}for(Ae=L.length;_===void 0&&Ae!==0;)L.charCodeAt(Ae-1)>>8&&(_=!0),Ae--;if(!_)return L;for(Rt=ne.noBOM?[]:[254,255],Ae=0,Ne=L.length;Ae<Ne;Ae++){if((X=(R=L.charCodeAt(Ae))>>8)>>8)throw new Error("Character at position "+Ae+" of string '"+L+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Rt.push(X),Rt.push(R-(X<<8))}return String.fromCharCode.apply(void 0,Rt)},qn=d.__private__.pdfEscape=d.pdfEscape=function(L,ne){return eu(L,ne).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ji=d.__private__.beginPage=function(L){_e[++St]=[],ht[St]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Hf(St),ve(_e[F])},Kl=function(L,ne){var Ae,Ne,je;switch(r=ne||r,typeof L=="string"&&(Ae=y(L.toLowerCase()),Array.isArray(Ae)&&(Ne=Ae[0],je=Ae[1])),Array.isArray(L)&&(Ne=L[0]*rt,je=L[1]*rt),isNaN(Ne)&&(Ne=a[0],je=a[1]),(Ne>14400||je>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),je=Math.min(14400,je)),a=[Ne,je],r.substr(0,1)){case"l":je>Ne&&(a=[je,Ne]);break;case"p":Ne>je&&(a=[je,Ne])}ji(a),Qf(Xf),te(Ha),eh!==0&&te(eh+" J"),fu!==0&&te(fu+" j"),Mt.publish("addPage",{pageNumber:St})},tu=function(L){L>0&&L<=St&&(_e.splice(L,1),ht.splice(L,1),St--,F>St&&(F=St),this.setPage(F))},Hf=function(L){L>0&&L<=St&&(F=L)},rn=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return _e.length-1},Yl=function(L,ne,Ae){var Ne,je=void 0;return Ae=Ae||{},L=L!==void 0?L:wt[ft].fontName,ne=ne!==void 0?ne:wt[ft].fontStyle,Ne=L.toLowerCase(),Ct[Ne]!==void 0&&Ct[Ne][ne]!==void 0?je=Ct[Ne][ne]:Ct[L]!==void 0&&Ct[L][ne]!==void 0?je=Ct[L][ne]:Ae.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+L+"', '"+ne+"'. Refer to getFontList() for available fonts."),je||Ae.noFallback||(je=Ct.times[ne])==null&&(je=Ct.times.normal),je},Xl=d.__private__.putInfo=function(){var L=It(),ne=function(Ne){return Ne};for(var Ae in u!==null&&(ne=En.encryptor(L,0)),te("<<"),te("/Producer ("+qn(ne("jsPDF "+ar.version))+")"),Pt)Pt.hasOwnProperty(Ae)&&Pt[Ae]&&te("/"+Ae.substr(0,1).toUpperCase()+Ae.substr(1)+" ("+qn(ne(Pt[Ae]))+")");te("/CreationDate ("+qn(ne(Q))+")"),te(">>"),te("endobj")},ko=d.__private__.putCatalog=function(L){var ne=(L=L||{}).rootDictionaryObjId||he;switch(It(),te("<<"),te("/Type /Catalog"),te("/Pages "+ne+" 0 R"),Le||(Le="fullwidth"),Le){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ae=""+Le;Ae.substr(Ae.length-1)==="%"&&(Le=parseInt(Le)/100),typeof Le=="number"&&te("/OpenAction [3 0 R /XYZ null null "+D(Le)+"]")}switch(at||(at="continuous"),at){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}Ye&&te("/PageMode /"+Ye),Mt.publish("putCatalog"),te(">>"),te("endobj")},um=d.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(Z+1)),te("/Root "+Z+" 0 R"),te("/Info "+(Z-1)+" 0 R"),u!==null&&te("/Encrypt "+En.oid+" 0 R"),te("/ID [ <"+Y+"> <"+Y+"> ]"),te(">>")},Sd=d.__private__.putHeader=function(){te("%PDF-"+g),te("%ºß¬à")},fm=d.__private__.putXRef=function(){var L="0000000000";te("xref"),te("0 "+(Z+1)),te("0000000000 65535 f ");for(var ne=1;ne<=Z;ne++)typeof oe[ne]=="function"?te((L+oe[ne]()).slice(-10)+" 00000 n "):oe[ne]!==void 0?te((L+oe[ne]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},No=d.__private__.buildDocument=function(){ge(),ve(fe),Mt.publish("buildDocument"),Sd(),Ue(),qf(),zf(),u!==null&&Eo(),Xl(),ko();var L=ie;return fm(),um(),te("startxref"),te(""+L),te("%%EOF"),ve(_e[F]),fe.join(`
`)},ru=d.__private__.getBlob=function(L){return new Blob([$e(L)],{type:"application/pdf"})},nu=d.output=d.__private__.output=ts(function(L,ne){switch(typeof(ne=ne||{})=="string"?ne={filename:ne}:ne.filename=ne.filename||"generated.pdf",L){case void 0:return No();case"save":d.save(ne.filename);break;case"arraybuffer":return $e(No());case"blob":return ru(No());case"bloburi":case"bloburl":if(ir.URL!==void 0&&typeof ir.URL.createObjectURL=="function")return ir.URL&&ir.URL.createObjectURL(ru(No()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ae="",Ne=No();try{Ae=MT(Ne)}catch{Ae=MT(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+ne.filename+";base64,"+Ae;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var je="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ze=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ne.pdfObjectUrl&&(je=ne.pdfObjectUrl,Ze="");var yt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+je+'"'+Ze+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ne)+");<\/script></body></html>",Rt=ir.open();return Rt!==null&&Rt.document.write(yt),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ir)==="[object Window]"){var _='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ne.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ne.filename+'" width="500px" height="400px" /></body></html>',R=ir.open();if(R!==null){R.document.write(_);var X=this;R.document.documentElement.querySelector("#pdfViewer").onload=function(){R.document.title=ne.filename,R.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(X.output("bloburl"))}}return R}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ir)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ne)+'"></iframe></body></html>',De=ir.open();if(De!==null&&(De.document.write(ce),De.document.title=ne.filename),De||typeof safari>"u")return De;break;case"datauri":case"dataurl":return ir.document.location.href=this.output("datauristring",ne);default:return null}}),hl=function(L){return Array.isArray(xr)===!0&&xr.indexOf(L)>-1};switch(n){case"pt":rt=1;break;case"mm":rt=72/25.4;break;case"cm":rt=72/2.54;break;case"in":rt=72;break;case"px":rt=hl("px_scaling")==1?.75:96/72;break;case"pc":case"em":rt=12;break;case"ex":rt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);rt=n}var En=null;z(),H();var Ad=function(L){return u!==null?En.encryptor(L,0):function(ne){return ne}},Gf=d.__private__.getPageInfo=d.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ht[L].objId,pageNumber:L,pageContext:ht[L]}},cr=d.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ne in ht)if(ht[ne].objId===L)break;return Gf(ne)},dl=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:ht[F].objId,pageNumber:F,pageContext:ht[F]}};d.addPage=function(){return Kl.apply(this,arguments),this},d.setPage=function(){return Hf.apply(this,arguments),ve.call(this,_e[F]),this},d.insertPage=function(L){return this.addPage(),this.movePage(F,L),this},d.movePage=function(L,ne){var Ae,Ne;if(L>ne){Ae=_e[L],Ne=ht[L];for(var je=L;je>ne;je--)_e[je]=_e[je-1],ht[je]=ht[je-1];_e[ne]=Ae,ht[ne]=Ne,this.setPage(ne)}else if(L<ne){Ae=_e[L],Ne=ht[L];for(var Ze=L;Ze<ne;Ze++)_e[Ze]=_e[Ze+1],ht[Ze]=ht[Ze+1];_e[ne]=Ae,ht[ne]=Ne,this.setPage(ne)}return this},d.deletePage=function(){return tu.apply(this,arguments),this},d.__private__.text=d.text=function(L,ne,Ae,Ne,je){var Ze,yt,Rt,_,R,X,ce,De,We,xt=(Ne=Ne||{}).scope||this;if(typeof L=="number"&&typeof ne=="number"&&(typeof Ae=="string"||Array.isArray(Ae))){var mr=Ae;Ae=ne,ne=L,L=mr}if(arguments[3]instanceof we?(S("The transform parameter of text() with a Matrix value"),We=je):(Rt=arguments[4],_=arguments[5],Xr(ce=arguments[3])==="object"&&ce!==null||(typeof Rt=="string"&&(_=Rt,Rt=null),typeof ce=="string"&&(_=ce,ce=null),typeof ce=="number"&&(Rt=ce,ce=null),Ne={flags:ce,angle:Rt,align:_})),isNaN(ne)||isNaN(Ae)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return xt;var Cr="",gr=!1,en=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:Zr,mn=xt.internal.scaleFactor;function Do(bn){return bn=bn.split("	").join(Array(Ne.TabLen||9).join(" ")),qn(bn,ce)}function Ga(bn){for(var wn,ta=bn.concat(),wa=[],ac=ta.length;ac--;)typeof(wn=ta.shift())=="string"?wa.push(wn):Array.isArray(bn)&&(wn.length===1||wn[1]===void 0&&wn[2]===void 0)?wa.push(wn[0]):wa.push([wn[0],wn[1],wn[2]]);return wa}function vl(bn,wn){var ta;if(typeof bn=="string")ta=wn(bn)[0];else if(Array.isArray(bn)){for(var wa,ac,bm=bn.concat(),Rd=[],py=bm.length;py--;)typeof(wa=bm.shift())=="string"?Rd.push(wn(wa)[0]):Array.isArray(wa)&&typeof wa[0]=="string"&&(ac=wn(wa[0],wa[1],wa[2]),Rd.push([ac[0],ac[1],ac[2]]));ta=Rd}return ta}var yl=!1,dm=!0;if(typeof L=="string")yl=!0;else if(Array.isArray(L)){var pm=L.concat();yt=[];for(var Cd,Ka=pm.length;Ka--;)(typeof(Cd=pm.shift())!="string"||Array.isArray(Cd)&&typeof Cd[0]!="string")&&(dm=!1);yl=dm}if(yl===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var Pd=Qe/xt.internal.scaleFactor,Od=Pd*(en-1);switch(Ne.baseline){case"bottom":Ae-=Od;break;case"top":Ae+=Pd-Od;break;case"hanging":Ae+=Pd-2*Od;break;case"middle":Ae+=Pd/2-Od}if((X=Ne.maxWidth||0)>0&&(typeof L=="string"?L=xt.splitTextToSize(L,X):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(bn,wn){return bn.concat(xt.splitTextToSize(wn,X))},[]))),Ze={text:L,x:ne,y:Ae,options:Ne,mutex:{pdfEscape:qn,activeFontKey:ft,fonts:wt,activeFontSize:Qe}},Mt.publish("preProcessText",Ze),L=Ze.text,Rt=(Ne=Ze.options).angle,!(We instanceof we)&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ne.rotationDirection===0&&(Rt=-Rt),w===b.ADVANCED&&(Rt=-Rt);var Id=Math.cos(Rt),mm=Math.sin(Rt);We=new we(Id,mm,-mm,Id,0,0)}else Rt&&Rt instanceof we&&(We=Rt);w!==b.ADVANCED||We||(We=kt),(R=Ne.charSpace||Jl)!==void 0&&(Cr+=E(k(R))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(De=Ne.horizontalScale)!==void 0&&(Cr+=E(100*De)+` Tz
`),Ne.lang;var rs=-1,u_=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,gm=xt.internal.getCurrentPageInfo().pageContext;switch(u_){case 0:case!1:case"fill":rs=0;break;case 1:case!0:case"stroke":rs=1;break;case 2:case"fillThenStroke":rs=2;break;case 3:case"invisible":rs=3;break;case 4:case"fillAndAddForClipping":rs=4;break;case 5:case"strokeAndAddPathForClipping":rs=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":rs=6;break;case 7:case"addToPathForClipping":rs=7}var uy=gm.usedRenderingMode!==void 0?gm.usedRenderingMode:-1;rs!==-1?Cr+=rs+` Tr
`:uy!==-1&&(Cr+=`0 Tr
`),rs!==-1&&(gm.usedRenderingMode=rs),_=Ne.align||"left";var Ks,Dd=Qe*en,fy=xt.internal.pageSize.getWidth(),hy=wt[ft];R=Ne.charSpace||Jl,X=Ne.maxWidth||0,ce=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var gu=[],th=function(bn){return xt.getStringUnitWidth(bn,{font:hy,charSpace:R,fontSize:Qe,doKerning:!1})*Qe/mn};if(Object.prototype.toString.call(L)==="[object Array]"){var ns;yt=Ga(L),_!=="left"&&(Ks=yt.map(th));var Li,vu=0;if(_==="right"){ne-=Ks[0],L=[],Ka=yt.length;for(var tc=0;tc<Ka;tc++)tc===0?(Li=Ts(ne),ns=ba(Ae)):(Li=k(vu-Ks[tc]),ns=-Dd),L.push([yt[tc],Li,ns]),vu=Ks[tc]}else if(_==="center"){ne-=Ks[0]/2,L=[],Ka=yt.length;for(var rc=0;rc<Ka;rc++)rc===0?(Li=Ts(ne),ns=ba(Ae)):(Li=k((vu-Ks[rc])/2),ns=-Dd),L.push([yt[rc],Li,ns]),vu=Ks[rc]}else if(_==="left"){L=[],Ka=yt.length;for(var jd=0;jd<Ka;jd++)L.push(yt[jd])}else if(_==="justify"&&hy.encoding==="Identity-H"){L=[],Ka=yt.length,X=X!==0?X:fy;for(var nc=0,ea=0;ea<Ka;ea++)if(ns=ea===0?ba(Ae):-Dd,Li=ea===0?Ts(ne):nc,ea<Ka-1){var vm=k((X-Ks[ea])/(yt[ea].split(" ").length-1)),Mi=yt[ea].split(" ");L.push([Mi[0]+" ",Li,ns]),nc=0;for(var Ys=1;Ys<Mi.length;Ys++){var Ld=(th(Mi[Ys-1]+" "+Mi[Ys])-th(Mi[Ys]))*mn+vm;Ys==Mi.length-1?L.push([Mi[Ys],Ld,0]):L.push([Mi[Ys]+" ",Ld,0]),nc-=Ld}}else L.push([yt[ea],Li,ns]);L.push(["",nc,0])}else{if(_!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],Ka=yt.length,X=X!==0?X:fy,ea=0;ea<Ka;ea++)ns=ea===0?ba(Ae):-Dd,Li=ea===0?Ts(ne):0,ea<Ka-1?gu.push(E(k((X-Ks[ea])/(yt[ea].split(" ").length-1)))):gu.push(0),L.push([yt[ea],Li,ns])}}var dy=typeof Ne.R2L=="boolean"?Ne.R2L:Me;dy===!0&&(L=vl(L,function(bn,wn,ta){return[bn.split("").reverse().join(""),wn,ta]})),Ze={text:L,x:ne,y:Ae,options:Ne,mutex:{pdfEscape:qn,activeFontKey:ft,fonts:wt,activeFontSize:Qe}},Mt.publish("postProcessText",Ze),L=Ze.text,gr=Ze.mutex.isHex||!1;var ym=wt[ft].encoding;ym!=="WinAnsiEncoding"&&ym!=="StandardEncoding"||(L=vl(L,function(bn,wn,ta){return[Do(bn),wn,ta]})),yt=Ga(L),L=[];for(var rh,nh,yu,ah=0,Md=1,ih=Array.isArray(yt[0])?Md:ah,xu="",xm=function(bn,wn,ta){var wa="";return ta instanceof we?(ta=typeof Ne.angle=="number"?_t(ta,new we(1,0,0,1,bn,wn)):_t(new we(1,0,0,1,bn,wn),ta),w===b.ADVANCED&&(ta=_t(new we(1,0,0,-1,0,0),ta)),wa=ta.join(" ")+` Tm
`):wa=E(bn)+" "+E(wn)+` Td
`,wa},Xs=0;Xs<yt.length;Xs++){switch(xu="",ih){case Md:yu=(gr?"<":"(")+yt[Xs][0]+(gr?">":")"),rh=parseFloat(yt[Xs][1]),nh=parseFloat(yt[Xs][2]);break;case ah:yu=(gr?"<":"(")+yt[Xs]+(gr?">":")"),rh=Ts(ne),nh=ba(Ae)}gu!==void 0&&gu[Xs]!==void 0&&(xu=gu[Xs]+` Tw
`),Xs===0?L.push(xu+xm(rh,nh,We)+yu):ih===ah?L.push(xu+yu):ih===Md&&L.push(xu+xm(rh,nh,We)+yu)}L=ih===ah?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var Qs=`BT
/`;return Qs+=ft+" "+Qe+` Tf
`,Qs+=E(Qe*en)+` TL
`,Qs+=Oo+`
`,Qs+=Cr,Qs+=L,te(Qs+="ET"),h[ft]=!0,xt};var hm=d.__private__.clip=d.clip=function(L){return te(L==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return hm("evenodd")},d.__private__.discardPath=d.discardPath=function(){return te("n"),this};var Gs=d.__private__.isValidStyle=function(L){var ne=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(ne=!0),ne};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(L){return Gs(L)&&(c=L),this};var Td=d.__private__.getStyle=d.getStyle=function(L){var ne=c;switch(L){case"D":case"S":ne="S";break;case"F":ne="f";break;case"FD":case"DF":ne="B";break;case"f":case"f*":case"B":case"B*":ne=L}return ne},Ss=d.close=function(){return te("h"),this};d.stroke=function(){return te("S"),this},d.fill=function(L){return au("f",L),this},d.fillEvenOdd=function(L){return au("f*",L),this},d.fillStroke=function(L){return au("B",L),this},d.fillStrokeEvenOdd=function(L){return au("B*",L),this};var au=function(L,ne){Xr(ne)==="object"?su(ne,L):te(L)},Kf=function(L){L===null||w===b.ADVANCED&&L===void 0||(L=Td(L),te(L))};function iu(L,ne,Ae,Ne,je){var Ze=new w0(ne||this.boundingBox,Ae||this.xStep,Ne||this.yStep,this.gState,je||this.matrix);Ze.stream=this.stream;var yt=L+"$$"+this.cloneIndex+++"$$";return Yt(yt,Ze),Ze}var su=function(L,ne){var Ae=Sr[L.key],Ne=Bt[Ae];if(Ne instanceof xh)te("q"),te(Ed(ne)),Ne.gState&&d.setGState(Ne.gState),te(L.matrix.toString()+" cm"),te("/"+Ae+" sh"),te("Q");else if(Ne instanceof w0){var je=new we(1,0,0,-1,0,ci());L.matrix&&(je=je.multiply(L.matrix||kt),Ae=iu.call(Ne,L.key,L.boundingBox,L.xStep,L.yStep,je).id),te("q"),te("/Pattern cs"),te("/"+Ae+" scn"),Ne.gState&&d.setGState(Ne.gState),te(ne),te("Q")}},Ed=function(L){switch(L){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Co=d.moveTo=function(L,ne){return te(E(k(L))+" "+E(V(ne))+" m"),this},As=d.lineTo=function(L,ne){return te(E(k(L))+" "+E(V(ne))+" l"),this},Po=d.curveTo=function(L,ne,Ae,Ne,je,Ze){return te([E(k(L)),E(V(ne)),E(k(Ae)),E(V(Ne)),E(k(je)),E(V(Ze)),"c"].join(" ")),this};d.__private__.line=d.line=function(L,ne,Ae,Ne,je){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||isNaN(Ne)||!Gs(je))throw new Error("Invalid arguments passed to jsPDF.line");return w===b.COMPAT?this.lines([[Ae-L,Ne-ne]],L,ne,[1,1],je||"S"):this.lines([[Ae-L,Ne-ne]],L,ne,[1,1]).stroke()},d.__private__.lines=d.lines=function(L,ne,Ae,Ne,je,Ze){var yt,Rt,_,R,X,ce,De,We,xt,mr,Cr,gr;if(typeof L=="number"&&(gr=Ae,Ae=ne,ne=L,L=gr),Ne=Ne||[1,1],Ze=Ze||!1,isNaN(ne)||isNaN(Ae)||!Array.isArray(L)||!Array.isArray(Ne)||!Gs(je)||typeof Ze!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Co(ne,Ae),yt=Ne[0],Rt=Ne[1],R=L.length,mr=ne,Cr=Ae,_=0;_<R;_++)(X=L[_]).length===2?(mr=X[0]*yt+mr,Cr=X[1]*Rt+Cr,As(mr,Cr)):(ce=X[0]*yt+mr,De=X[1]*Rt+Cr,We=X[2]*yt+mr,xt=X[3]*Rt+Cr,mr=X[4]*yt+mr,Cr=X[5]*Rt+Cr,Po(ce,De,We,xt,mr,Cr));return Ze&&Ss(),Kf(je),this},d.path=function(L){for(var ne=0;ne<L.length;ne++){var Ae=L[ne],Ne=Ae.c;switch(Ae.op){case"m":Co(Ne[0],Ne[1]);break;case"l":As(Ne[0],Ne[1]);break;case"c":Po.apply(this,Ne);break;case"h":Ss()}}return this},d.__private__.rect=d.rect=function(L,ne,Ae,Ne,je){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||isNaN(Ne)||!Gs(je))throw new Error("Invalid arguments passed to jsPDF.rect");return w===b.COMPAT&&(Ne=-Ne),te([E(k(L)),E(V(ne)),E(k(Ae)),E(k(Ne)),"re"].join(" ")),Kf(je),this},d.__private__.triangle=d.triangle=function(L,ne,Ae,Ne,je,Ze,yt){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||isNaN(Ne)||isNaN(je)||isNaN(Ze)||!Gs(yt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ae-L,Ne-ne],[je-Ae,Ze-Ne],[L-je,ne-Ze]],L,ne,[1,1],yt,!0),this},d.__private__.roundedRect=d.roundedRect=function(L,ne,Ae,Ne,je,Ze,yt){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||isNaN(Ne)||isNaN(je)||isNaN(Ze)||!Gs(yt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return je=Math.min(je,.5*Ae),Ze=Math.min(Ze,.5*Ne),this.lines([[Ae-2*je,0],[je*Rt,0,je,Ze-Ze*Rt,je,Ze],[0,Ne-2*Ze],[0,Ze*Rt,-je*Rt,Ze,-je,Ze],[2*je-Ae,0],[-je*Rt,0,-je,-Ze*Rt,-je,-Ze],[0,2*Ze-Ne],[0,-Ze*Rt,je*Rt,-Ze,je,-Ze]],L+je,ne,[1,1],yt,!0),this},d.__private__.ellipse=d.ellipse=function(L,ne,Ae,Ne,je){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||isNaN(Ne)||!Gs(je))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ze=4/3*(Math.SQRT2-1)*Ae,yt=4/3*(Math.SQRT2-1)*Ne;return Co(L+Ae,ne),Po(L+Ae,ne-yt,L+Ze,ne-Ne,L,ne-Ne),Po(L-Ze,ne-Ne,L-Ae,ne-yt,L-Ae,ne),Po(L-Ae,ne+yt,L-Ze,ne+Ne,L,ne+Ne),Po(L+Ze,ne+Ne,L+Ae,ne+yt,L+Ae,ne),Kf(je),this},d.__private__.circle=d.circle=function(L,ne,Ae,Ne){if(isNaN(L)||isNaN(ne)||isNaN(Ae)||!Gs(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,ne,Ae,Ae,Ne)},d.setFont=function(L,ne,Ae){return Ae&&(ne=I(ne,Ae)),ft=Yl(L,ne,{disableWarning:!1}),this};var Yf=d.__private__.getFont=d.getFont=function(){return wt[Yl.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var L,ne,Ae={};for(L in Ct)if(Ct.hasOwnProperty(L))for(ne in Ae[L]=[],Ct[L])Ct[L].hasOwnProperty(ne)&&Ae[L].push(ne);return Ae},d.addFont=function(L,ne,Ae,Ne,je){var Ze=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ze.indexOf(arguments[3])!==-1?je=arguments[3]:arguments[3]&&Ze.indexOf(arguments[3])==-1&&(Ae=I(Ae,Ne)),je=je||"Identity-H",Wf.call(this,L,ne,Ae,je)};var Zr,Xf=e.lineWidth||.200025,ou=d.__private__.getLineWidth=d.getLineWidth=function(){return Xf},Qf=d.__private__.setLineWidth=d.setLineWidth=function(L){return Xf=L,te(E(k(L))+" w"),this};d.__private__.setLineDash=ar.API.setLineDash=ar.API.setLineDashPattern=function(L,ne){if(L=L||[],ne=ne||0,isNaN(ne)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ae){return E(k(Ae))}).join(" "),ne=E(k(ne)),te("["+L+"] "+ne+" d"),this};var Jf=d.__private__.getLineHeight=d.getLineHeight=function(){return Qe*Zr};d.__private__.getLineHeight=d.getLineHeight=function(){return Qe*Zr};var Zf=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Zr=L),this},Ql=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Zr};Zf(e.lineHeight);var Ts=d.__private__.getHorizontalCoordinate=function(L){return k(L)},ba=d.__private__.getVerticalCoordinate=function(L){return w===b.ADVANCED?L:ht[F].mediaBox.topRightY-ht[F].mediaBox.bottomLeftY-k(L)},kd=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(L){return E(Ts(L))},pl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(L){return E(ba(L))},Ha=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return be(Ha)},d.__private__.setStrokeColor=d.setDrawColor=function(L,ne,Ae,Ne){return Ha=Se({ch1:L,ch2:ne,ch3:Ae,ch4:Ne,pdfColorType:"draw",precision:2}),te(Ha),this};var lu=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return be(lu)},d.__private__.setFillColor=d.setFillColor=function(L,ne,Ae,Ne){return lu=Se({ch1:L,ch2:ne,ch3:Ae,ch4:Ne,pdfColorType:"fill",precision:2}),te(lu),this};var Oo=e.textColor||"0 g",cu=d.__private__.getTextColor=d.getTextColor=function(){return be(Oo)};d.__private__.setTextColor=d.setTextColor=function(L,ne,Ae,Ne){return Oo=Se({ch1:L,ch2:ne,ch3:Ae,ch4:Ne,pdfColorType:"text",precision:3}),this};var Jl=e.charSpace,uu=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Jl||0)};d.__private__.setCharSpace=d.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Jl=L,this};var eh=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(L){var ne=d.CapJoinStyles[L];if(ne===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return eh=ne,te(ne+" J"),this};var fu=0;d.__private__.setLineJoin=d.setLineJoin=function(L){var ne=d.CapJoinStyles[L];if(ne===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fu=ne,te(ne+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te(E(k(L))+" M"),this},d.GState=Ab,d.setGState=function(L){(L=typeof L=="string"?Ee[Xe[L]]:ml(null,L)).equals(nt)||(te("/"+L.id+" gs"),nt=L)};var ml=function(L,ne){if(!L||!Xe[L]){var Ae=!1;for(var Ne in Ee)if(Ee.hasOwnProperty(Ne)&&Ee[Ne].equals(ne)){Ae=!0;break}if(Ae)ne=Ee[Ne];else{var je="GS"+(Object.keys(Ee).length+1).toString(10);Ee[je]=ne,ne.id=je}return L&&(Xe[L]=ne.id),Mt.publish("addGState",ne),ne}};d.addGState=function(L,ne){return ml(L,ne),this},d.saveGraphicsState=function(){return te("q"),Qt.push({key:ft,size:Qe,color:Oo}),this},d.restoreGraphicsState=function(){te("Q");var L=Qt.pop();return ft=L.key,Qe=L.size,Oo=L.color,nt=null,this},d.setCurrentTransformationMatrix=function(L){return te(L.toString()+" cm"),this},d.comment=function(L){return te("#"+L),this};var Zl=function(L,ne){var Ae=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ae},set:function(Ze){isNaN(Ze)||(Ae=parseFloat(Ze))}});var Ne=ne||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(Ze){isNaN(Ze)||(Ne=parseFloat(Ze))}});var je="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return je},set:function(Ze){je=Ze.toString()}}),this},hu=function(L,ne,Ae,Ne){Zl.call(this,L,ne),this.type="rect";var je=Ae||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return je},set:function(yt){isNaN(yt)||(je=parseFloat(yt))}});var Ze=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ze},set:function(yt){isNaN(yt)||(Ze=parseFloat(yt))}}),this},ec=function(){this.page=St,this.currentPage=F,this.pages=_e.slice(0),this.pagesContext=ht.slice(0),this.x=Kt,this.y=Vt,this.matrix=Ur,this.width=gl(F),this.height=ci(F),this.outputDestination=Te,this.id="",this.objectNumber=-1};ec.prototype.restore=function(){St=this.page,F=this.currentPage,ht=this.pagesContext,_e=this.pages,Kt=this.x,Vt=this.y,Ur=this.matrix,pu(F,this.width),mu(F,this.height),Te=this.outputDestination};var du=function(L,ne,Ae,Ne,je){qa.push(new ec),St=F=0,_e=[],Kt=L,Vt=ne,Ur=je,ji([Ae,Ne])},Nd=function(L){if(Zn[L])qa.pop().restore();else{var ne=new ec,Ae="Xo"+(Object.keys(Nr).length+1).toString(10);ne.id=Ae,Zn[L]=Ae,Nr[Ae]=ne,Mt.publish("addFormObject",ne),qa.pop().restore()}};for(var Io in d.beginFormObject=function(L,ne,Ae,Ne,je){return du(L,ne,Ae,Ne,je),this},d.endFormObject=function(L){return Nd(L),this},d.doFormObject=function(L,ne){var Ae=Nr[Zn[L]];return te("q"),te(ne.toString()+" cm"),te("/"+Ae.id+" Do"),te("Q"),this},d.getFormObject=function(L){var ne=Nr[Zn[L]];return{x:ne.x,y:ne.y,width:ne.width,height:ne.height,matrix:ne.matrix}},d.save=function(L,ne){return L=L||"generated.pdf",(ne=ne||{}).returnPromise=ne.returnPromise||!1,ne.returnPromise===!1?(ph(ru(No()),L),typeof ph.unload=="function"&&ir.setTimeout&&setTimeout(ph.unload,911),this):new Promise(function(Ae,Ne){try{var je=ph(ru(No()),L);typeof ph.unload=="function"&&ir.setTimeout&&setTimeout(ph.unload,911),Ae(je)}catch(Ze){Ne(Ze.message)}})},ar.API)ar.API.hasOwnProperty(Io)&&(Io==="events"&&ar.API.events.length?function(L,ne){var Ae,Ne,je;for(je=ne.length-1;je!==-1;je--)Ae=ne[je][0],Ne=ne[je][1],L.subscribe.apply(L,[Ae].concat(typeof Ne=="function"?[Ne]:Ne))}(Mt,ar.API.events):d[Io]=ar.API[Io]);var gl=d.getPageWidth=function(L){return(ht[L=L||F].mediaBox.topRightX-ht[L].mediaBox.bottomLeftX)/rt},pu=d.setPageWidth=function(L,ne){ht[L].mediaBox.topRightX=ne*rt+ht[L].mediaBox.bottomLeftX},ci=d.getPageHeight=function(L){return(ht[L=L||F].mediaBox.topRightY-ht[L].mediaBox.bottomLeftY)/rt},mu=d.setPageHeight=function(L,ne){ht[L].mediaBox.topRightY=ne*rt+ht[L].mediaBox.bottomLeftY};return d.internal={pdfEscape:qn,getStyle:Td,getFont:Yf,getFontSize:Ge,getCharSpace:uu,getTextColor:cu,getLineHeight:Jf,getLineHeightFactor:Ql,getLineWidth:ou,write:ke,getHorizontalCoordinate:Ts,getVerticalCoordinate:ba,getCoordinateString:kd,getVerticalCoordinateString:pl,collections:{},newObject:It,newAdditionalObject:ye,newObjectDeferred:dt,newObjectDeferredBegin:ee,getFilters:Be,putStream:Ke,events:Mt,scaleFactor:rt,pageSize:{getWidth:function(){return gl(F)},setWidth:function(L){pu(F,L)},getHeight:function(){return ci(F)},setHeight:function(L){mu(F,L)}},encryptionOptions:u,encryption:En,getEncryptor:Ad,output:nu,getNumberOfPages:rn,pages:_e,out:te,f2:D,f3:T,getPageInfo:Gf,getPageInfoByObjId:cr,getCurrentPageInfo:dl,getPDFVersion:m,Point:Zl,Rectangle:hu,Matrix:we,hasHotfix:hl},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return gl(F)},set:function(L){pu(F,L)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ci(F)},set:function(L){mu(F,L)},enumerable:!0,configurable:!0}),_d.call(d,Fe),ft="F1",Kl(a,r),Mt.publish("initialized"),d}t0.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},t0.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},t0.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},t0.prototype.processOwnerPassword=function(e,t){return FT(RT(t).substr(0,5),e)},t0.prototype.encryptor=function(e,t){var r=RT(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return FT(r,n)}},Ab.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Xr(e)!==Xr(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},ar.API={events:[]},ar.version="3.0.1";var Gn=ar.API,pC=1,gd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wd=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},vr=function(e){return e.toFixed(2)},Ou=function(e){return e.toFixed(5)};Gn.__acroform__={};var xs=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},mj=function(e){return e*pC},Sl=function(e){var t=new zq,r=Gt.internal.getHeight(e)||0,n=Gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(vr(n)),Number(vr(r))],t},hxe=Gn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},dxe=Gn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},pxe=Gn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},ia=Gn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return pxe(e,t-1)},sa=Gn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return hxe(e,t-1)},oa=Gn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return dxe(e,t-1)},mxe=Gn.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],o=e[3],l={};return l.lowerLeft_X=r(a)||0,l.lowerLeft_Y=n(i+o)||0,l.upperRight_X=r(a+s)||0,l.upperRight_Y=n(i)||0,[Number(vr(l.lowerLeft_X)),Number(vr(l.lowerLeft_Y)),Number(vr(l.upperRight_X)),Number(vr(l.upperRight_Y))]},gxe=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=$T(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+vr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Sl(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},$T=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(T){return T.split(`
`)}):a.map(function(T){return[T]});var i=r,s=Gt.internal.getHeight(e)||0;s=s<0?-s:s;var o=Gt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(T,k,j){if(T+1<a.length){var V=k+" "+a[T+1][0];return bx(V,e,j).width<=o-4}return!1};i++;e:for(;i>0;){t="",i--;var c,u,f=bx("3",e,i).height,h=e.multiline?s-i:(s-f)/2,d=h+=2,g=0,m=0,v=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+bx(t,e,i=12).width+", FieldWidth:"+o+`
`;break}for(var y="",b=0,w=0;w<a.length;w++)if(a.hasOwnProperty(w)){var O=!1;if(a[w].length!==1&&v!==a[w].length-1){if((f+2)*(b+2)+2>s)continue e;y+=a[w][v],O=!0,m=w,w--}else{y=(y+=a[w][v]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var P=parseInt(w),I=l(P,y,i),E=w>=a.length-1;if(I&&!E){y+=" ",v=0;continue}if(I||E){if(E)m=P;else if(e.multiline&&(f+2)*(b+2)+2>s)continue e}else{if(!e.multiline||(f+2)*(b+2)+2>s)continue e;m=P}}for(var S="",A=g;A<=m;A++){var D=a[A];if(e.multiline){if(A===m){S+=D[v]+" ",v=(v+1)%D.length;continue}if(A===g){S+=D[D.length-1]+" ";continue}}S+=D[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,u=bx(S,e,i).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}t+=vr(c)+" "+vr(d)+` Td
`,t+="("+gd(S)+`) Tj
`,t+=-vr(c)+` 0 Td
`,d=-(i+2),u=0,g=O?m:m+1,b++,y=""}break}return n.text=t,n.fontSize=i,n},bx=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},vxe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},yxe=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},xxe=function(e,t){for(var r in e)if(e.hasOwnProperty(r)){var n=r,a=e[r];t.internal.newObjectDeferredBegin(a.objId,!0),Xr(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[n]}},bxe=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(cl.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(vxe)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");pC=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new qq,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&yxe(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var o=n[s],l=[],c=o.Rect;if(o.Rect&&(o.Rect=mxe(o.Rect,a)),a.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Gt.createDefaultAppearanceStream(o),Xr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=gxe(o);l.push({key:"AP",value:"<</N "+u+">>"}),a.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var h in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(h)){var d=o.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var g=d[s];typeof g=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g+" ",a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g)}}else typeof(g=d)=="function"&&(g=g.call(a,o)),f+="/"+s+" "+g,a.internal.acroformPlugin.xForms.indexOf(g)>=0||a.internal.acroformPlugin.xForms.push(g);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:l,objectId:o.objId}),a.internal.out("endobj")}i&&xxe(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},Uq=Gn.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Xr(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+gd(n(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},HS=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),e="("+gd(n(e))+")"},Nl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Nl.prototype.toString=function(){return this.objId+" 0 R"},Nl.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Nl.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:Uq(a,this.objId,this.scope)}):a instanceof Nl?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var zq=function(){Nl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};xs(zq,Nl);var qq=function(){Nl.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+gd(r(e))+")"}},set:function(r){e=r}})};xs(qq,Nl);var cl=function e(){Nl.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');t=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ia(t,3)},set:function(y){y?this.F=sa(t,3):this.F=oa(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');r=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Tb)return;i="FieldObject"+e.FieldNum++}var y=function(b){return b};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+gd(y(i))+")"},set:function(y){i=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(y){i=y}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(y){s=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/pC:c},set:function(y){c=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Tb||this instanceof $h))return HS(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof $a?h:HS(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof $a?y:y.substr(0,1)==="("?Wd(y.substr(1,y.length-2)):Wd(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?Wd(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof $a?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof $a?d:HS(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof $a?y:y.substr(0,1)==="("?Wd(y.substr(1,y.length-2)):Wd(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $a?Wd(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof $a?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var g,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(y){y=!!y,m=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(g)return g},set:function(y){g=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,1)},set:function(y){y?this.Ff=sa(this.Ff,1):this.Ff=oa(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,2)},set:function(y){y?this.Ff=sa(this.Ff,2):this.Ff=oa(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,3)},set:function(y){y?this.Ff=sa(this.Ff,3):this.Ff=oa(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');v=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(v){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};xs(cl,Nl);var M0=function(){cl.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Uq(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,o){o||(o=1);for(var l,c=[];l=s.exec(i);)c.push(l[o]);return c}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,18)},set:function(r){r?this.Ff=sa(this.Ff,18):this.Ff=oa(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=sa(this.Ff,19):this.Ff=oa(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,20)},set:function(r){r?(this.Ff=sa(this.Ff,20),t.sort()):this.Ff=oa(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,22)},set:function(r){r?this.Ff=sa(this.Ff,22):this.Ff=oa(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,23)},set:function(r){r?this.Ff=sa(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,27)},set:function(r){r?this.Ff=sa(this.Ff,27):this.Ff=oa(this.Ff,27)}}),this.hasAppearanceStream=!1};xs(M0,cl);var R0=function(){M0.call(this),this.fontName="helvetica",this.combo=!1};xs(R0,M0);var F0=function(){R0.call(this),this.combo=!0};xs(F0,R0);var o2=function(){F0.call(this),this.edit=!0};xs(o2,F0);var $a=function(){cl.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,15)},set:function(r){r?this.Ff=sa(this.Ff,15):this.Ff=oa(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,16)},set:function(r){r?this.Ff=sa(this.Ff,16):this.Ff=oa(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,17)},set:function(r){r?this.Ff=sa(this.Ff,17):this.Ff=oa(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,26)},set:function(r){r?this.Ff=sa(this.Ff,26):this.Ff=oa(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+gd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Xr(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+r}})};xs($a,cl);var l2=function(){$a.call(this),this.pushButton=!0};xs(l2,$a);var $0=function(){$a.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};xs($0,$a);var Tb=function(){var e,t;cl.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(o){return o};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+gd(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Xr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xs(Tb,cl),$0.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},$0.prototype.createOption=function(e){var t=new Tb;return t.Parent=this,t.optionName=e,this.Kids.push(t),wxe.call(this.scope,t),t};var c2=function(){$a.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};xs(c2,$a);var $h=function(){cl.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,13)},set:function(t){t?this.Ff=sa(this.Ff,13):this.Ff=oa(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,21)},set:function(t){t?this.Ff=sa(this.Ff,21):this.Ff=oa(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,23)},set:function(t){t?this.Ff=sa(this.Ff,23):this.Ff=oa(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,24)},set:function(t){t?this.Ff=sa(this.Ff,24):this.Ff=oa(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,25)},set:function(t){t?this.Ff=sa(this.Ff,25):this.Ff=oa(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,26)},set:function(t){t?this.Ff=sa(this.Ff,26):this.Ff=oa(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xs($h,cl);var u2=function(){$h.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ia(this.Ff,14)},set:function(e){e?this.Ff=sa(this.Ff,14):this.Ff=oa(this.Ff,14)}}),this.password=!0};xs(u2,$h);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=$T(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+vr(Gt.internal.getWidth(e))+" "+vr(Gt.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+vr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Gt.internal.getHeight(e),s=Gt.internal.getWidth(e),o=$T(e,e.caption);return a.push("1 g"),a.push("0 0 "+vr(s)+" "+vr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+vr(s-1)+" "+vr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+vr(o.fontSize)+" Tf "+n),a.push(o.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(Gt.internal.getWidth(e))+" "+vr(Gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Circle.YesNormal,t.D[e]=Gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Gt.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ou(Gt.internal.getWidth(e)/2)+" "+Ou(Gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Gt.internal.Bezier_C).toFixed(5)),s=Number((n*Gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Gt.internal.getWidth(e)/2)+" "+Ou(Gt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Gt.internal.getWidth(e)/2)+" "+Ou(Gt.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ou(Gt.internal.getWidth(e)/2)+" "+Ou(Gt.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Cross.YesNormal,t.D[e]=Gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Sl(e);t.scope=e.scope;var r=[],n=Gt.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+vr(Gt.internal.getWidth(e)-2)+" "+vr(Gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(vr(n.x1.x)+" "+vr(n.x1.y)+" m"),r.push(vr(n.x2.x)+" "+vr(n.x2.y)+" l"),r.push(vr(n.x4.x)+" "+vr(n.x4.y)+" m"),r.push(vr(n.x3.x)+" "+vr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=Gt.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+vr(Gt.internal.getWidth(e))+" "+vr(Gt.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+vr(Gt.internal.getWidth(e)-2)+" "+vr(Gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(vr(r.x1.x)+" "+vr(r.x1.y)+" m"),n.push(vr(r.x2.x)+" "+vr(r.x2.y)+" l"),n.push(vr(r.x4.x)+" "+vr(r.x4.y)+" m"),n.push(vr(r.x3.x)+" "+vr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Sl(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+vr(Gt.internal.getWidth(e))+" "+vr(Gt.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gt.internal.getWidth(e),r=Gt.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Gt.internal.getWidth=function(e){var t=0;return Xr(e)==="object"&&(t=mj(e.Rect[2])),t},Gt.internal.getHeight=function(e){var t=0;return Xr(e)==="object"&&(t=mj(e.Rect[3])),t};var wxe=Gn.addField=function(e){if(bxe(this,e),!(e instanceof cl))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Gn.AcroFormChoiceField=M0,Gn.AcroFormListBox=R0,Gn.AcroFormComboBox=F0,Gn.AcroFormEditBox=o2,Gn.AcroFormButton=$a,Gn.AcroFormPushButton=l2,Gn.AcroFormRadioButton=$0,Gn.AcroFormCheckBox=c2,Gn.AcroFormTextField=$h,Gn.AcroFormPasswordField=u2,Gn.AcroFormAppearance=Gt,Gn.AcroForm={ChoiceField:M0,ListBox:R0,ComboBox:F0,EditBox:o2,Button:$a,PushButton:l2,RadioButton:$0,CheckBox:c2,TextField:$h,PasswordField:u2,Appearance:Gt},ar.AcroForm={ChoiceField:M0,ListBox:R0,ComboBox:F0,EditBox:o2,Button:$a,PushButton:l2,RadioButton:$0,CheckBox:c2,TextField:$h,PasswordField:u2,Appearance:Gt};function Wq(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=e.__addimage__.getImageFileTypeByImageData=function(T,k){var j,V,Q,Y,J,H=t;if((k=k||t)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(I(T))for(J in r)for(Q=r[J],j=0;j<Q.length;j+=1){for(Y=!0,V=0;V<Q[j].length;V+=1)if(Q[j][V]!==void 0&&Q[j][V]!==T[V]){Y=!1;break}if(Y===!0){H=J;break}}else for(J in r)for(Q=r[J],j=0;j<Q.length;j+=1){for(Y=!0,V=0;V<Q[j].length;V+=1)if(Q[j][V]!==void 0&&Q[j][V]!==T.charCodeAt(V)){Y=!1;break}if(Y===!0){H=J;break}}return H===t&&k!==t&&(H=k),H},a=function T(k){for(var j=this.internal.write,V=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);k.objectId=this.internal.newObject();var Y=[];if(Y.push({key:"Type",value:"/XObject"}),Y.push({key:"Subtype",value:"/Image"}),Y.push({key:"Width",value:k.width}),Y.push({key:"Height",value:k.height}),k.colorSpace===v.INDEXED?Y.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(k.palette.length/3-1)+" "+("sMask"in k&&k.sMask!==void 0?k.objectId+2:k.objectId+1)+" 0 R]"}):(Y.push({key:"ColorSpace",value:"/"+k.colorSpace}),k.colorSpace===v.DEVICE_CMYK&&Y.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Y.push({key:"BitsPerComponent",value:k.bitsPerComponent}),"decodeParameters"in k&&k.decodeParameters!==void 0&&Y.push({key:"DecodeParms",value:"<<"+k.decodeParameters+">>"}),"transparency"in k&&Array.isArray(k.transparency)){for(var J="",H=0,U=k.transparency.length;H<U;H++)J+=k.transparency[H]+" "+k.transparency[H]+" ";Y.push({key:"Mask",value:"["+J+"]"})}k.sMask!==void 0&&Y.push({key:"SMask",value:k.objectId+1+" 0 R"});var re=k.filter!==void 0?["/"+k.filter]:void 0;if(V({data:k.data,additionalKeyValues:Y,alreadyAppliedFilters:re,objectId:k.objectId}),j("endobj"),"sMask"in k&&k.sMask!==void 0){var z="/Predictor "+k.predictor+" /Colors 1 /BitsPerComponent "+k.bitsPerComponent+" /Columns "+k.width,C={width:k.width,height:k.height,colorSpace:"DeviceGray",bitsPerComponent:k.bitsPerComponent,decodeParameters:z,data:k.sMask};"filter"in k&&(C.filter=k.filter),T.call(this,C)}if(k.colorSpace===v.INDEXED){var F=this.internal.newObject();V({data:S(new Uint8Array(k.palette)),objectId:F}),j("endobj")}},i=function(){var T=this.internal.collections.addImage_images;for(var k in T)a.call(this,T[k])},s=function(){var T,k=this.internal.collections.addImage_images,j=this.internal.write;for(var V in k)j("/I"+(T=k[V]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},l=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(T){return typeof e["process"+T.toUpperCase()]=="function"},f=function(T){return Xr(T)==="object"&&T.nodeType===1},h=function(T,k){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var j=""+T.getAttribute("src");if(j.indexOf("data:image/")===0)return Ug(unescape(j).split("base64,").pop());var V=e.loadFile(j,!0);if(V!==void 0)return V}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var Q;switch(k){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;case"JPEG":case"JPG":default:Q="image/jpeg"}return Ug(T.toDataURL(Q,1).split("base64,").pop())}},d=function(T){var k=this.internal.collections.addImage_images;if(k){for(var j in k)if(T===k[j].alias)return k[j]}},g=function(T,k,j){return T||k||(T=-96,k=-96),T<0&&(T=-1*j.width*72/T/this.internal.scaleFactor),k<0&&(k=-1*j.height*72/k/this.internal.scaleFactor),T===0&&(T=k*j.width/j.height),k===0&&(k=T*j.height/j.width),[T,k]},m=function(T,k,j,V,Q,Y){var J=g.call(this,j,V,Q),H=this.internal.getCoordinateString,U=this.internal.getVerticalCoordinateString,re=l.call(this);if(j=J[0],V=J[1],re[Q.index]=Q,Y){Y*=Math.PI/180;var z=Math.cos(Y),C=Math.sin(Y),F=function(K){return K.toFixed(4)},q=[F(z),F(C),F(-1*C),F(z),0,0,"cm"]}this.internal.write("q"),Y?(this.internal.write([1,"0","0",1,H(T),U(k+V),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([H(j),"0","0",H(V),"0","0","cm"].join(" "))):this.internal.write([H(j),"0","0",H(V),H(T),U(k+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},v=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(T){var k,j,V=0;if(typeof T=="string")for(j=T.length,k=0;k<j;k++)V=(V<<5)-V+T.charCodeAt(k),V|=0;else if(I(T))for(j=T.byteLength/2,k=0;k<j;k++)V=(V<<5)-V+T[k],V|=0;return V},w=e.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var k=!0;return T.length===0&&(k=!1),T.length%4!=0&&(k=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(k=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(k=!1),k},O=e.__addimage__.extractImageFromDataUrl=function(T){if(T==null||!(T=T.trim()).startsWith("data:"))return null;var k=T.indexOf(",");return k<0?null:T.substring(0,k).trim().endsWith("base64")?T.substring(k+1):null},P=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(T){return P()&&T instanceof ArrayBuffer};var I=e.__addimage__.isArrayBufferView=function(T){return P()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(T){for(var k=T.length,j=new Uint8Array(k),V=0;V<k;V++)j[V]=T.charCodeAt(V);return j},S=e.__addimage__.arrayBufferToBinaryString=function(T){for(var k="",j=I(T)?T:new Uint8Array(T),V=0;V<j.length;V+=8192)k+=String.fromCharCode.apply(null,j.subarray(V,V+8192));return k};e.addImage=function(){var T,k,j,V,Q,Y,J,H,U;if(typeof arguments[1]=="number"?(k=t,j=arguments[1],V=arguments[2],Q=arguments[3],Y=arguments[4],J=arguments[5],H=arguments[6],U=arguments[7]):(k=arguments[1],j=arguments[2],V=arguments[3],Q=arguments[4],Y=arguments[5],J=arguments[6],H=arguments[7],U=arguments[8]),Xr(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var re=T;T=re.imageData,k=re.format||k||t,j=re.x||j||0,V=re.y||V||0,Q=re.w||re.width||Q,Y=re.h||re.height||Y,J=re.alias||J,H=re.compression||H,U=re.rotation||re.angle||U}var z=this.internal.getFilters();if(H===void 0&&z.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(j)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=A.call(this,T,k,J,H);return m.call(this,j,V,Q,Y,C,U),this};var A=function(T,k,j,V){var Q,Y,J;if(typeof T=="string"&&n(T)===t){T=unescape(T);var H=D(T,!1);(H!==""||(H=e.loadFile(T,!0))!==void 0)&&(T=H)}if(f(T)&&(T=h(T,k)),k=n(T,k),!u(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(((J=j)==null||J.length===0)&&(j=function(U){return typeof U=="string"||I(U)?b(U):I(U.data)?b(U.data):null}(T)),(Q=d.call(this,j))||(P()&&(T instanceof Uint8Array||k==="RGBA"||(Y=T,T=E(T))),Q=this["process"+k.toUpperCase()](T,c.call(this),j,function(U){return U&&typeof U=="string"&&(U=U.toUpperCase()),U in e.image_compression?U:y.NONE}(V),Y)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},D=e.__addimage__.convertBase64ToBinaryString=function(T,k){k=typeof k!="boolean"||k;var j,V="";if(typeof T=="string"){var Q;j=(Q=O(T))!==null&&Q!==void 0?Q:T;try{V=Ug(j)}catch(Y){if(k)throw w(j)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Y.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};e.getImageProperties=function(T){var k,j,V="";if(f(T)&&(T=h(T)),typeof T=="string"&&n(T)===t&&((V=D(T,!1))===""&&(V=e.loadFile(T)||""),T=V),j=n(T),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(!P()||T instanceof Uint8Array||(T=E(T)),!(k=this["process"+j.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return k.fileType=j,k}})(ar.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((n=c[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<c.length;h++){n=c[h];var d=this.internal.pdfEscape,g=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var m=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(m.objId),b=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",i+=" /Popup "+v.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(y(b))+") >>",m.content=i;var w=m.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+w,n.open&&(i+=" /Open true"),i+=" >>",v.content=i,this.internal.write(m.objId,"0 R",v.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+o(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var O=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+d(g(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+O+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+d(g(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var I=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+I+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,s){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+a),h:c(n+i)},options:s,type:"link"})},e.textWithLink=function(r,n,a,i){var s,o,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){o=i.maxWidth;var u=this.splitTextToSize(r,o).length;s=Math.ceil(c*u)}else o=l,s=c;return this.text(r,n,a,i),a+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,a-c,o,s,i),l},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(ar.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(m){return t[m.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(m){return typeof m=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(m)},o=e.__arabicParser__.isArabicEndLetter=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(m){return s(m)&&a.indexOf(m.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(m){return s(m)&&i(m)&&t[m.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(m){var v=0,y=r,b="",w=0;for(v=0;v<m.length;v+=1)y[m.charCodeAt(v)]!==void 0?(w++,typeof(y=y[m.charCodeAt(v)])=="number"&&(b+=String.fromCharCode(y),y=r,w=0),v===m.length-1&&(y=r,b+=m.charAt(v-(w-1)),v-=w-1,w=0)):(y=r,b+=m.charAt(v-w),v-=w,w=0);return b};e.__arabicParser__.isArabicDiacritic=function(m){return m!==void 0&&n[m.charCodeAt(0)]!==void 0};var h=e.__arabicParser__.getCorrectForm=function(m,v,y){return s(m)?i(m)===!1?-1:!c(m)||!s(v)&&!s(y)||!s(y)&&o(v)||o(m)&&!s(v)||o(m)&&l(v)||o(m)&&o(v)?0:u(m)&&s(v)&&!o(v)&&s(y)&&c(y)?3:o(m)||!s(y)?1:2:-1},d=function(m){var v=0,y=0,b=0,w="",O="",P="",I=(m=m||"").split("\\s+"),E=[];for(v=0;v<I.length;v+=1){for(E.push(""),y=0;y<I[v].length;y+=1)w=I[v][y],O=I[v][y-1],P=I[v][y+1],s(w)?(b=h(w,O,P),E[v]+=b!==-1?String.fromCharCode(t[w.charCodeAt(0)][b]):w):E[v]+=w;E[v]=f(E[v])}return E.join(" ")},g=e.__arabicParser__.processArabic=e.processArabic=function(){var m,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(v)){var b=0;for(y=[],b=0;b<v.length;b+=1)Array.isArray(v[b])?y.push([d(v[b][0]),v[b][1],v[b][2]]):y.push([d(v[b])]);m=y}else m=d(v);return typeof arguments[0]=="string"?m:(arguments[0].text=m,arguments[0])};e.events.push(["preProcessText",g])}(ar.API),ar.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(o){a=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(o){i=o}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(o){s=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ar.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(m){l=m}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(m){c=m}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(m){u=m}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(m){f=m}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(m){h=m}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(m){d=m}});var g=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return g},set:function(m){g=m}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){n.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),h=c.scaleFactor||this.internal.scaleFactor,d=0,g=0,m=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=c.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,O){return w.concat(v.splitTextToSize(O,y))},[])):l=Array.isArray(l)?l:[l];for(var b=0;b<l.length;b++)d<(m=this.getStringUnitWidth(l[b],{font:f})*u)&&(d=m);return d!==0&&(g=l.length),{w:d/=h,h:Math.max((g*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,h){if(n.call(this),!u)throw new Error("No data for PDF table.");var d,g,m,v,y=[],b=[],w=[],O={},P={},I=[],E=[],S=(h=h||{}).autoSize||!1,A=h.printHeaders!==!1,D=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,T=h.margins||Object.assign({width:this.getPageWidth()},t),k=typeof h.padding=="number"?h.padding:3,j=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=D,this.internal.__cell__.padding=k,this.internal.__cell__.headerBackgroundColor=j,this.internal.__cell__.headerTextColor=V,this.setFontSize(D),f==null)b=y=Object.keys(u[0]),w=y.map(function(){return"left"});else if(Array.isArray(f)&&Xr(f[0])==="object")for(y=f.map(function(re){return re.name}),b=f.map(function(re){return re.prompt||re.name||""}),w=f.map(function(re){return re.align||"left"}),d=0;d<f.length;d+=1)P[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(b=y=f,w=y.map(function(){return"left"}));if(S||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(O[v=y[d]]=u.map(function(re){return re[v]}),this.setFont(void 0,"bold"),I.push(this.getTextDimensions(b[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),g=O[v],this.setFont(void 0,"normal"),m=0;m<g.length;m+=1)I.push(this.getTextDimensions(g[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[v]=Math.max.apply(null,I)+k+k,I=[]}if(A){var Q={};for(d=0;d<y.length;d+=1)Q[y[d]]={},Q[y[d]].text=b[d],Q[y[d]].align=w[d];var Y=o.call(this,Q,P);E=y.map(function(re){return new i(l,c,P[re],Y,Q[re].text,void 0,Q[re].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var J=f.reduce(function(re,z){return re[z.name]=z.align,re},{});for(d=0;d<u.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:u[d]},this);var H=o.call(this,u[d],P);for(m=0;m<y.length;m+=1){var U=u[d][y[m]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:m,data:U},this),s.call(this,new i(l,c,P[y[m]],H,U,d+2,J[y[m]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var g=l[d];return this.splitTextToSize(g.hasOwnProperty("text")?g.text:g,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+u+u},this).reduce(function(d,g){return Math.max(d,g)},0)};e.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=l;var g=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,u),this.setTextColor(g)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),r=!1}}(ar.API);var Hq={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gq=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],BT=Wq(Gq),Kq=[100,200,300,400,500,600,700,800,900],_xe=Wq(Kq);function VT(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Hq[i=i||"normal"]?i:"normal"}(e.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof BT[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function gj(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var Sxe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},vj={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function yj(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Axe(e,t,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},Sxe,r.genericFontFamilies||{}),i=null,s=null,o=0;o<t.length;++o)if(a[(i=VT(t[o])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[n]))throw new Error("Could not find a font-family for the rule '"+yj(i)+"' and default family '"+n+"'.");if(s=function(l,c){if(c[l])return c[l];var u=BT[l],f=u<=BT.normal?-1:1,h=gj(c,Gq,u,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(i.stretch,s),s=function(l,c){if(c[l])return c[l];for(var u=Hq[l],f=0;f<u.length;++f)if(c[u[f]])return c[u[f]];throw new Error("Could not find a matching font-style for "+l)}(i.style,s),!(s=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=_xe[l],f=gj(c,Kq,u,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+yj(i)+"'.");return s}function xj(e){return e.trimLeft()}function Txe(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function Exe(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var wx,bj,wj,GS=["times"];(function(e){var t,r,n,a,i,s,o,l,c,u=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var F=C;Object.defineProperty(this,"pdf",{get:function(){return F}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(ve){q=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(ve){isNaN(ve)||(Z=ve)}});var oe=0;Object.defineProperty(this,"posY",{get:function(){return oe},set:function(ve){isNaN(ve)||(oe=ve)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(ve){var te;typeof ve=="number"?te=[ve,ve,ve,ve]:((te=new Array(4))[0]=ve[0],te[1]=ve.length>=2?ve[1]:te[0],te[2]=ve.length>=3?ve[2]:te[0],te[3]=ve.length>=4?ve[3]:te[1]),c.margin=te}});var fe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return fe},set:function(ve){fe=ve}});var ie=0;Object.defineProperty(this,"lastBreak",{get:function(){return ie},set:function(ve){ie=ve}});var de=[];Object.defineProperty(this,"pageBreaks",{get:function(){return de},set:function(ve){de=ve}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(ve){ve instanceof u&&(c=ve)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(ve){c.path=ve}});var _e=[];Object.defineProperty(this,"ctxStack",{get:function(){return _e},set:function(ve){_e=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var te;te=h(ve),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var te=h(ve);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var B=null;function Te(ve,te){if(B===null){var ke=function($e){var Fe=[];return Object.keys($e).forEach(function(Qe){$e[Qe].forEach(function(Le){var Ge=null;switch(Le){case"bold":Ge={family:Qe,weight:"bold"};break;case"italic":Ge={family:Qe,style:"italic"};break;case"bolditalic":Ge={family:Qe,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:Qe}}Ge!==null&&(Ge.ref={name:Qe,style:Le},Fe.push(Ge))})}),Fe}(ve.getFontList());B=function($e){for(var Fe={},Qe=0;Qe<$e.length;++Qe){var Le=VT($e[Qe]),Ge=Le.family,Me=Le.stretch,Ye=Le.style,mt=Le.weight;Fe[Ge]=Fe[Ge]||{},Fe[Ge][Me]=Fe[Ge][Me]||{},Fe[Ge][Me][Ye]=Fe[Ge][Me][Ye]||{},Fe[Ge][Me][Ye][mt]=Le}return Fe}(ke.concat(te))}return B}var ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return ge},set:function(ve){B=null,ge=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var te;if(this.ctx.font=ve,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var ke=te[1];te[2];var $e=te[3],Fe=te[4];te[5];var Qe=te[6],Le=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Fe)[2];Fe=Math.floor(Le==="px"?parseFloat(Fe)*this.pdf.internal.scaleFactor:Le==="em"?parseFloat(Fe)*this.pdf.getFontSize():parseFloat(Fe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Fe);var Ge=function(Pt){var ft,rt,Kt=[],Vt=Pt.trim();if(Vt==="")return GS;if(Vt in vj)return[vj[Vt]];for(;Vt!=="";){switch(rt=null,ft=(Vt=xj(Vt)).charAt(0)){case'"':case"'":rt=Txe(Vt.substring(1),ft);break;default:rt=Exe(Vt)}if(rt===null||(Kt.push(rt[0]),(Vt=xj(rt[1]))!==""&&Vt.charAt(0)!==","))return GS;Vt=Vt.replace(/^,/,"")}return Kt}(Qe);if(this.fontFaces){var Me=Axe(Te(this.pdf,this.fontFaces),Ge.map(function(Pt){return{family:Pt,stretch:"normal",weight:$e,style:ke}}));this.pdf.setFont(Me.ref.name,Me.ref.style)}else{var Ye="";($e==="bold"||parseInt($e,10)>=700||ke==="bold")&&(Ye="bold"),ke==="italic"&&(Ye+="italic"),Ye.length===0&&(Ye="normal");for(var mt="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},gt=0;gt<Ge.length;gt++){if(this.pdf.internal.getFont(Ge[gt],Ye,{noFallback:!0,disableWarning:!0})!==void 0){mt=Ge[gt];break}if(Ye==="bolditalic"&&this.pdf.internal.getFont(Ge[gt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)mt=Ge[gt],Ye="bold";else if(this.pdf.internal.getFont(Ge[gt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){mt=Ge[gt],Ye="normal";break}}if(mt===""){for(var At=0;At<Ge.length;At++)if(at[Ge[At]]){mt=at[Ge[At]];break}}mt=mt===""?"Times":mt,this.pdf.setFont(mt,Ye)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,z.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,z.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(C){this.lineDash=C},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){O.call(this,"fill",!1)},f.prototype.stroke=function(){O.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(C,F){if(isNaN(C)||isNaN(F))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(C,F));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(C,F)},f.prototype.closePath=function(){var C=new s(0,0),F=0;for(F=this.path.length-1;F!==-1;F--)if(this.path[F].type==="begin"&&Xr(this.path[F+1])==="object"&&typeof this.path[F+1].x=="number"){C=new s(this.path[F+1].x,this.path[F+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},f.prototype.lineTo=function(C,F){if(isNaN(C)||isNaN(F))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(C,F));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),O.call(this,null,!0)},f.prototype.quadraticCurveTo=function(C,F,q,K){if(isNaN(q)||isNaN(K)||isNaN(C)||isNaN(F))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new s(q,K)),oe=this.ctx.transform.applyToPoint(new s(C,F));this.path.push({type:"qct",x1:oe.x,y1:oe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new s(Z.x,Z.y)},f.prototype.bezierCurveTo=function(C,F,q,K,Z,oe){if(isNaN(Z)||isNaN(oe)||isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var fe=this.ctx.transform.applyToPoint(new s(Z,oe)),ie=this.ctx.transform.applyToPoint(new s(C,F)),de=this.ctx.transform.applyToPoint(new s(q,K));this.path.push({type:"bct",x1:ie.x,y1:ie.y,x2:de.x,y2:de.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new s(fe.x,fe.y)},f.prototype.arc=function(C,F,q,K,Z,oe){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K)||isNaN(Z))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(oe=!!oe,!this.ctx.transform.isIdentity){var fe=this.ctx.transform.applyToPoint(new s(C,F));C=fe.x,F=fe.y;var ie=this.ctx.transform.applyToPoint(new s(0,q)),de=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ie.x-de.x,2)+Math.pow(ie.y-de.y,2))}Math.abs(Z-K)>=2*Math.PI&&(K=0,Z=2*Math.PI),this.path.push({type:"arc",x:C,y:F,radius:q,startAngle:K,endAngle:Z,counterclockwise:oe})},f.prototype.arcTo=function(C,F,q,K,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(C,F,q,K){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,F),this.lineTo(C+q,F),this.lineTo(C+q,F+K),this.lineTo(C,F+K),this.lineTo(C,F),this.lineTo(C+q,F),this.lineTo(C,F)},f.prototype.fillRect=function(C,F,q,K){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,F,q,K),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(C,F,q,K){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");g.call(this)||(this.beginPath(),this.rect(C,F,q,K),this.stroke())},f.prototype.clearRect=function(C,F,q,K){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,F,q,K))},f.prototype.save=function(C){C=typeof C!="boolean"||C;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(F),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},f.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var F=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(F),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(C){var F,q,K,Z;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))F=0,q=0,K=0,Z=0;else{var oe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(oe!==null)F=parseInt(oe[1]),q=parseInt(oe[2]),K=parseInt(oe[3]),Z=1;else if((oe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)F=parseInt(oe[1]),q=parseInt(oe[2]),K=parseInt(oe[3]),Z=parseFloat(oe[4]);else{if(Z=1,typeof C=="string"&&C.charAt(0)!=="#"){var fe=new $q(C);C=fe.ok?fe.toHex():"#000000"}C.length===4?(F=C.substring(1,2),F+=F,q=C.substring(2,3),q+=q,K=C.substring(3,4),K+=K):(F=C.substring(1,3),q=C.substring(3,5),K=C.substring(5,7)),F=parseInt(F,16),q=parseInt(q,16),K=parseInt(K,16)}}return{r:F,g:q,b:K,a:Z,style:C}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},g=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(C,F,q,K){if(isNaN(F)||isNaN(q)||typeof C!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!d.call(this)){var Z=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;k.call(this,{text:C,x:F,y:q,scale:oe,angle:Z,align:this.textAlign,maxWidth:K})}},f.prototype.strokeText=function(C,F,q,K){if(isNaN(F)||isNaN(q)||typeof C!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!g.call(this)){K=isNaN(K)?void 0:K;var Z=H(this.ctx.transform.rotation),oe=this.ctx.transform.scaleX;k.call(this,{text:C,x:F,y:q,scale:oe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:K})}},f.prototype.measureText=function(C){if(typeof C!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var F=this.pdf,q=this.pdf.internal.scaleFactor,K=F.internal.getFontSize(),Z=F.getStringUnitWidth(C)*K/F.internal.scaleFactor,oe=function(fe){var ie=(fe=fe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ie}}),this};return new oe({width:Z*=Math.round(96*q/72*1e4)/1e4})},f.prototype.scale=function(C,F){if(isNaN(C)||isNaN(F))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(C,0,0,F,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.rotate=function(C){if(isNaN(C))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var F=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(F)},f.prototype.translate=function(C,F){if(isNaN(C)||isNaN(F))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,C,F);this.ctx.transform=this.ctx.transform.multiply(q)},f.prototype.transform=function(C,F,q,K,Z,oe){if(isNaN(C)||isNaN(F)||isNaN(q)||isNaN(K)||isNaN(Z)||isNaN(oe))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var fe=new l(C,F,q,K,Z,oe);this.ctx.transform=this.ctx.transform.multiply(fe)},f.prototype.setTransform=function(C,F,q,K,Z,oe){C=isNaN(C)?1:C,F=isNaN(F)?0:F,q=isNaN(q)?0:q,K=isNaN(K)?1:K,Z=isNaN(Z)?0:Z,oe=isNaN(oe)?0:oe,this.ctx.transform=new l(C,F,q,K,Z,oe)};var m=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(C,F,q,K,Z,oe,fe,ie,de){var _e=this.pdf.getImageProperties(C),B=1,Te=1,ge=1,ve=1;K!==void 0&&ie!==void 0&&(ge=ie/K,ve=de/Z,B=_e.width/K*ie/K,Te=_e.height/Z*de/Z),oe===void 0&&(oe=F,fe=q,F=0,q=0),K!==void 0&&ie===void 0&&(ie=K,de=Z),K===void 0&&ie===void 0&&(ie=_e.width,de=_e.height);for(var te,ke=this.ctx.transform.decompose(),$e=H(ke.rotate.shx),Fe=new l,Qe=(Fe=(Fe=(Fe=Fe.multiply(ke.translate)).multiply(ke.skew)).multiply(ke.scale)).applyToRectangle(new o(oe-F*ge,fe-q*ve,K*B,Z*Te)),Le=v.call(this,Qe),Ge=[],Me=0;Me<Le.length;Me+=1)Ge.indexOf(Le[Me])===-1&&Ge.push(Le[Me]);if(w(Ge),this.autoPaging)for(var Ye=Ge[0],mt=Ge[Ge.length-1],at=Ye;at<mt+1;at++){this.pdf.setPage(at);var gt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=at===1?this.posY+this.margin[0]:this.margin[0],Pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=at===1?0:Pt+(at-2)*ft;if(this.ctx.clip_path.length!==0){var Kt=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(te,this.posX+this.margin[3],-rt+At+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Kt}var Vt=JSON.parse(JSON.stringify(Qe));Vt=b([Vt],this.posX+this.margin[3],-rt+At+this.ctx.prevPageLastElemOffset)[0];var Ur=(at>Ye||at<mt)&&m.call(this);Ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gt,ft,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",Vt.x,Vt.y,Vt.w,Vt.h,null,null,$e),Ur&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",Qe.x,Qe.y,Qe.w,Qe.h,null,null,$e)};var v=function(C,F,q){var K=[];F=F||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":K.push(Math.floor((C.y+Z)/q)+1);break;case"arc":K.push(Math.floor((C.y+Z-C.radius)/q)+1),K.push(Math.floor((C.y+Z+C.radius)/q)+1);break;case"qct":var oe=U(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);K.push(Math.floor((oe.y+Z)/q)+1),K.push(Math.floor((oe.y+oe.h+Z)/q)+1);break;case"bct":var fe=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);K.push(Math.floor((fe.y+Z)/q)+1),K.push(Math.floor((fe.y+fe.h+Z)/q)+1);break;case"rect":K.push(Math.floor((C.y+Z)/q)+1),K.push(Math.floor((C.y+C.h+Z)/q)+1)}for(var ie=0;ie<K.length;ie+=1)for(;this.pdf.internal.getNumberOfPages()<K[ie];)y.call(this);return K},y=function(){var C=this.fillStyle,F=this.strokeStyle,q=this.font,K=this.lineCap,Z=this.lineWidth,oe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=F,this.font=q,this.lineCap=K,this.lineWidth=Z,this.lineJoin=oe},b=function(C,F,q){for(var K=0;K<C.length;K++)switch(C[K].type){case"bct":C[K].x2+=F,C[K].y2+=q;case"qct":C[K].x1+=F,C[K].y1+=q;case"mt":case"lt":case"arc":default:C[K].x+=F,C[K].y+=q}return C},w=function(C){return C.sort(function(F,q){return F-q})},O=function(C,F){for(var q,K,Z=this.fillStyle,oe=this.strokeStyle,fe=this.lineCap,ie=this.lineWidth,de=Math.abs(ie*this.ctx.transform.scaleX),_e=this.lineJoin,B=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),ge=[],ve=0;ve<Te.length;ve++)if(Te[ve].x!==void 0)for(var te=v.call(this,Te[ve]),ke=0;ke<te.length;ke+=1)ge.indexOf(te[ke])===-1&&ge.push(te[ke]);for(var $e=0;$e<ge.length;$e++)for(;this.pdf.internal.getNumberOfPages()<ge[$e];)y.call(this);if(w(ge),this.autoPaging)for(var Fe=ge[0],Qe=ge[ge.length-1],Le=Fe;Le<Qe+1;Le++){this.pdf.setPage(Le),this.fillStyle=Z,this.strokeStyle=oe,this.lineCap=fe,this.lineWidth=de,this.lineJoin=_e;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Me=Le===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=Le===1?0:Ye+(Le-2)*mt;if(this.ctx.clip_path.length!==0){var gt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(q,this.posX+this.margin[3],-at+Me+this.ctx.prevPageLastElemOffset),P.call(this,C,!0),this.path=gt}if(K=JSON.parse(JSON.stringify(B)),this.path=b(K,this.posX+this.margin[3],-at+Me+this.ctx.prevPageLastElemOffset),F===!1||Le===0){var At=(Le>Fe||Le<Qe)&&m.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,mt,null).clip().discardPath()),P.call(this,C,F),At&&this.pdf.restoreGraphicsState()}this.lineWidth=ie}else this.lineWidth=de,P.call(this,C,F),this.lineWidth=ie;this.path=B},P=function(C,F){if((C!=="stroke"||F||!g.call(this))&&(C==="stroke"||F||!d.call(this))){for(var q,K,Z=[],oe=this.path,fe=0;fe<oe.length;fe++){var ie=oe[fe];switch(ie.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:ie,deltas:[],abs:[]});break;case"lt":var de=Z.length;if(oe[fe-1]&&!isNaN(oe[fe-1].x)&&(q=[ie.x-oe[fe-1].x,ie.y-oe[fe-1].y],de>0)){for(;de>=0;de--)if(Z[de-1].close!==!0&&Z[de-1].begin!==!0){Z[de-1].deltas.push(q),Z[de-1].abs.push(ie);break}}break;case"bct":q=[ie.x1-oe[fe-1].x,ie.y1-oe[fe-1].y,ie.x2-oe[fe-1].x,ie.y2-oe[fe-1].y,ie.x-oe[fe-1].x,ie.y-oe[fe-1].y],Z[Z.length-1].deltas.push(q);break;case"qct":var _e=oe[fe-1].x+2/3*(ie.x1-oe[fe-1].x),B=oe[fe-1].y+2/3*(ie.y1-oe[fe-1].y),Te=ie.x+2/3*(ie.x1-ie.x),ge=ie.y+2/3*(ie.y1-ie.y),ve=ie.x,te=ie.y;q=[_e-oe[fe-1].x,B-oe[fe-1].y,Te-oe[fe-1].x,ge-oe[fe-1].y,ve-oe[fe-1].x,te-oe[fe-1].y],Z[Z.length-1].deltas.push(q);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(ie)}}K=F?null:C==="stroke"?"stroke":"fill";for(var ke=!1,$e=0;$e<Z.length;$e++)if(Z[$e].arc)for(var Fe=Z[$e].abs,Qe=0;Qe<Fe.length;Qe++){var Le=Fe[Qe];Le.type==="arc"?S.call(this,Le.x,Le.y,Le.radius,Le.startAngle,Le.endAngle,Le.counterclockwise,void 0,F,!ke):j.call(this,Le.x,Le.y),ke=!0}else if(Z[$e].close===!0)this.pdf.internal.out("h"),ke=!1;else if(Z[$e].begin!==!0){var Ge=Z[$e].start.x,Me=Z[$e].start.y;V.call(this,Z[$e].deltas,Ge,Me),ke=!0}K&&A.call(this,K),F&&D.call(this)}},I=function(C){var F=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=F*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-q;case"top":return C+F-q;case"hanging":return C+F-2*q;case"middle":return C+F/2-q;case"ideographic":return C;case"alphabetic":default:return C}},E=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(F,q){this.colorStops.push([F,q])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(C,F,q,K,Z,oe,fe,ie,de){for(var _e=Y.call(this,q,K,Z,oe),B=0;B<_e.length;B++){var Te=_e[B];B===0&&(de?T.call(this,Te.x1+C,Te.y1+F):j.call(this,Te.x1+C,Te.y1+F)),Q.call(this,C,F,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}ie?D.call(this):A.call(this,fe)},A=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},D=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(C,F){this.pdf.internal.out(r(C)+" "+n(F)+" m")},k=function(C){var F;switch(C.align){case"right":case"end":F="right";break;case"center":F="center";break;case"left":case"start":default:F="left"}var q=this.pdf.getTextDimensions(C.text),K=I.call(this,C.y),Z=E.call(this,K)-q.h,oe=this.ctx.transform.applyToPoint(new s(C.x,K)),fe=this.ctx.transform.decompose(),ie=new l;ie=(ie=(ie=ie.multiply(fe.translate)).multiply(fe.skew)).multiply(fe.scale);for(var de,_e,B,Te=this.ctx.transform.applyToRectangle(new o(C.x,K,q.w,q.h)),ge=ie.applyToRectangle(new o(C.x,Z,q.w,q.h)),ve=v.call(this,ge),te=[],ke=0;ke<ve.length;ke+=1)te.indexOf(ve[ke])===-1&&te.push(ve[ke]);if(w(te),this.autoPaging)for(var $e=te[0],Fe=te[te.length-1],Qe=$e;Qe<Fe+1;Qe++){this.pdf.setPage(Qe);var Le=Qe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Me=this.pdf.internal.pageSize.height-this.margin[2],Ye=Me-this.margin[0],mt=this.pdf.internal.pageSize.width-this.margin[1],at=mt-this.margin[3],gt=Qe===1?0:Ge+(Qe-2)*Ye;if(this.ctx.clip_path.length!==0){var At=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(de,this.posX+this.margin[3],-1*gt+Le),P.call(this,"fill",!0),this.path=At}var Pt=b([JSON.parse(JSON.stringify(ge))],this.posX+this.margin[3],-gt+Le+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*C.scale),B=this.lineWidth,this.lineWidth=B*C.scale);var ft=this.autoPaging!=="text";if(ft||Pt.y+Pt.h<=Me){if(ft||Pt.y>=Le&&Pt.x<=mt){var rt=ft?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||mt-Pt.x)[0],Kt=b([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-gt+Le+this.ctx.prevPageLastElemOffset)[0],Vt=ft&&(Qe>$e||Qe<Fe)&&m.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ye,null).clip().discardPath()),this.pdf.text(rt,Kt.x,Kt.y,{angle:C.angle,align:F,renderingMode:C.renderingMode}),Vt&&this.pdf.restoreGraphicsState()}}else Pt.y<Me&&(this.ctx.prevPageLastElemOffset+=Me-Pt.y);C.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=B)}else C.scale>=.01&&(_e=this.pdf.internal.getFontSize(),this.pdf.setFontSize(_e*C.scale),B=this.lineWidth,this.lineWidth=B*C.scale),this.pdf.text(C.text,oe.x+this.posX,oe.y+this.posY,{angle:C.angle,align:F,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(_e),this.lineWidth=B)},j=function(C,F,q,K){q=q||0,K=K||0,this.pdf.internal.out(r(C+q)+" "+n(F+K)+" l")},V=function(C,F,q){return this.pdf.lines(C,F,q,null,null)},Q=function(C,F,q,K,Z,oe,fe,ie){this.pdf.internal.out([t(a(q+C)),t(i(K+F)),t(a(Z+C)),t(i(oe+F)),t(a(fe+C)),t(i(ie+F)),"c"].join(" "))},Y=function(C,F,q,K){for(var Z=2*Math.PI,oe=Math.PI/2;F>q;)F-=Z;var fe=Math.abs(q-F);fe<Z&&K&&(fe=Z-fe);for(var ie=[],de=K?-1:1,_e=F;fe>1e-5;){var B=_e+de*Math.min(fe,oe);ie.push(J.call(this,C,_e,B)),fe-=Math.abs(B-_e),_e=B}return ie},J=function(C,F,q){var K=(q-F)/2,Z=C*Math.cos(K),oe=C*Math.sin(K),fe=Z,ie=-oe,de=fe*fe+ie*ie,_e=de+fe*Z+ie*oe,B=4/3*(Math.sqrt(2*de*_e)-_e)/(fe*oe-ie*Z),Te=fe-B*ie,ge=ie+B*fe,ve=Te,te=-ge,ke=K+F,$e=Math.cos(ke),Fe=Math.sin(ke);return{x1:C*Math.cos(F),y1:C*Math.sin(F),x2:Te*$e-ge*Fe,y2:Te*Fe+ge*$e,x3:ve*$e-te*Fe,y3:ve*Fe+te*$e,x4:C*Math.cos(q),y4:C*Math.sin(q)}},H=function(C){return 180*C/Math.PI},U=function(C,F,q,K,Z,oe){var fe=C+.5*(q-C),ie=F+.5*(K-F),de=Z+.5*(q-Z),_e=oe+.5*(K-oe),B=Math.min(C,Z,fe,de),Te=Math.max(C,Z,fe,de),ge=Math.min(F,oe,ie,_e),ve=Math.max(F,oe,ie,_e);return new o(B,ge,Te-B,ve-ge)},re=function(C,F,q,K,Z,oe,fe,ie){var de,_e,B,Te,ge,ve,te,ke,$e,Fe,Qe,Le,Ge,Me,Ye=q-C,mt=K-F,at=Z-q,gt=oe-K,At=fe-Z,Pt=ie-oe;for(_e=0;_e<41;_e++)$e=(te=(B=C+(de=_e/40)*Ye)+de*((ge=q+de*at)-B))+de*(ge+de*(Z+de*At-ge)-te),Fe=(ke=(Te=F+de*mt)+de*((ve=K+de*gt)-Te))+de*(ve+de*(oe+de*Pt-ve)-ke),_e==0?(Qe=$e,Le=Fe,Ge=$e,Me=Fe):(Qe=Math.min(Qe,$e),Le=Math.min(Le,Fe),Ge=Math.max(Ge,$e),Me=Math.max(Me,Fe));return new o(Math.round(Qe),Math.round(Le),Math.round(Ge-Qe),Math.round(Me-Le))},z=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,F,q=(C=this.ctx.lineDash,F=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:F}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ar.API),function(e){var t=function(i){var s,o,l,c,u,f,h,d,g,m;for(o=[],l=0,c=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;c>l;l+=4)(u=(i.charCodeAt(l)<<24)+(i.charCodeAt(l+1)<<16)+(i.charCodeAt(l+2)<<8)+i.charCodeAt(l+3))!==0?(f=(u=((u=((u=((u=(u-(m=u%85))/85)-(g=u%85))/85)-(d=u%85))/85)-(h=u%85))/85)%85,o.push(f+33,h+33,d+33,g+33,m+33)):o.push(122);return function(v,y){for(var b=y;b>0;b--)v.pop()}(o,s.length),String.fromCharCode.apply(String,o)+"~>"},r=function(i){var s,o,l,c,u,f=String,h="length",d=255,g="charCodeAt",m="slice",v="replace";for(i[m](-2),i=i[m](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(i+=s="uuuuu"[m](i[h]%5||5))[h];u>c;c+=5)o=52200625*(i[g](c)-33)+614125*(i[g](c+1)-33)+7225*(i[g](c+2)-33)+85*(i[g](c+3)-33)+(i[g](c+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,b){for(var w=b;w>0;w--)y.pop()}(l,s[h]),f.fromCharCode.apply(f,l)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var o="",l=0;l<i.length;l+=2)o+=String.fromCharCode("0x"+(i[l]+i[l+1]));return o},a=function(i){for(var s=new Uint8Array(i.length),o=i.length;o--;)s[o]=i.charCodeAt(o);return i=(s=LT(s)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};e.processDataByFilters=function(i,s){var o=0,l=i||"",c=[];for(typeof(s=s||[])=="string"&&(s=[s]),o=0;o<s.length;o+=1)switch(s[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=t(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=a(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(ar.API),function(e){e.loadFile=function(t,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,h=0,d=function(g){var m=g.length,v=[],y=String.fromCharCode;for(h=0;h<m;h+=1)v.push(y(255&g.charCodeAt(h)));return v.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(a,i,s)}catch{}return o}(t,r,n)},e.loadImageFile=e.loadFile}(ar.API),function(e){function t(){return(ir.html2canvas?Promise.resolve(ir.html2canvas):PT(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(ir.DOMPurify?Promise.resolve(ir.DOMPurify):PT(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var o=Xr(s);return o==="undefined"?"undefined":o==="string"||s instanceof String?"string":o==="number"||s instanceof Number?"number":o==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":o==="object"?"object":"unknown"},a=function(s,o){var l=document.createElement(s);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},i=function s(o){var l=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),c=s.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,s,1,[s])).set(o)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,o){return s.__proto__=o||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(l){return this.set({src:a("div",{innerHTML:s,dompurify:l})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),h=c.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(l(h,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var h=0;h<c.length;++h){var d=c[h],g=d.src.find(function(m){return m.format==="truetype"});g&&l.addFont(g.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(s,o):this.outputPdf(s,o)},i.prototype.outputPdf=function(s,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,o)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var o=Object.keys(s||{}).map(function(l){if(l in i.template.prop)return function(){this.prop[l]=s[l]};switch(l){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[l]=s[l]}}},this);return this.then(function(){return this.thenList(o)})},i.prototype.get=function(s,o){return this.then(function(){var l=s in i.template.prop?this.prop[s]:this.opt[s];return o?o(l):l})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(s=s||ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:o(s.inner.width,s.k),height:o(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,o,l,c){return s!=null&&(this.progress.val=s),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,o,l,c){return this.setProgress(s?this.progress.val+s:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},i.prototype.then=function(s,o){var l=this;return this.thenCore(s,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,u).then(function(f){return l.updateProgress(1),f})})},i.prototype.thenCore=function(s,o,l){l=l||Promise.prototype.then,s&&(s=s.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),u=l.call(c,s,o);return i.convert(u,this.__proto__)},i.prototype.thenExternal=function(s,o){return Promise.prototype.then.call(this,s,o)},i.prototype.thenList=function(s){var o=this;return s.forEach(function(l){o=o.thenCore(l)}),o},i.prototype.catch=function(s){s&&(s=s.bind(this));var o=Promise.prototype.catch.call(this,s);return i.convert(o,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ar.getPageSize=function(s,o,l){if(Xr(s)==="object"){var c=s;s=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",s=(""+(s||"P")).toLowerCase();var u,f=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var d,g=0,m=0;if(h.hasOwnProperty(f))g=h[f][1]/u,m=h[f][0]/u;else try{g=l[1],m=l[0]}catch{throw new Error("Invalid format: "+l)}if(s==="p"||s==="portrait")s="p",m>g&&(d=m,m=g,g=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",g>m&&(d=m,m=g,g=d)}return{width:m,height:g,unit:o,k:u,orientation:s}},e.html=function(s,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(VT):null;var l=new i(o);return o.worker?l:l.from(s).doCallback()}}(ar.API),ar.API.addJS=function(e){return wj=e,this.internal.events.subscribe("postPutResources",function(){wx=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wx+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bj=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wj+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wx!==void 0&&bj!==void 0&&this.internal.out("/Names <</JavaScript "+wx+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],o=n.exec(s);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(i=0;i<c;i++){var f=r.internal.newObject();u.push(f);var h=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<u.length;i++)r.internal.write("(page_"+(i+1)+")"+u[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var o=this.count=this.count_r({count:0},s);if(o>0&&this.line("/Count "+o),s.options&&s.options.pageNumber){var l=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(ar.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,s,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),g=f.length,m={width:0,height:0,numcomponents:1},v=4;v<g;v+=2){if(v+=d,t.indexOf(f.charCodeAt(v+1))!==-1){h=256*f.charCodeAt(v+5)+f.charCodeAt(v+6),m={width:256*f.charCodeAt(v+7)+f.charCodeAt(v+8),height:h,numcomponents:f.charCodeAt(v+9)};break}d=256*f.charCodeAt(v+2)+f.charCodeAt(v+3)}return m}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:n,alias:a}}return u}}(ar.API);var Hd,_x,_j,Sj,Aj,kxe=function(){var e,t,r;function n(i){var s,o,l,c,u,f,h,d,g,m,v,y,b,w;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),g=(function(){var O,P;for(P=[],O=0;O<4;++O)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*u/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(g==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,y=0;0<=s?y<s:y>s;0<=s?++y:--y)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((m=l-this.transparency.indexed.length)>0)for(b=0;0<=m?b<m:b>m;0<=m?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(v=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,v.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,v.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,o;for(o=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*s),l=0,c=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function u(f,h,d,g){var m,v,y,b,w,O,P,I,E,S,A,D,T,k,j,V,Q,Y,J,H,U,re=Math.ceil((c.width-f)/d),z=Math.ceil((c.height-h)/g),C=c.width==re&&c.height==z;for(k=s*re,D=C?o:new Uint8Array(k*z),O=i.length,T=0,v=0;T<z&&l<O;){switch(i[l++]){case 0:for(b=Q=0;Q<k;b=Q+=1)D[v++]=i[l++];break;case 1:for(b=Y=0;Y<k;b=Y+=1)m=i[l++],w=b<s?0:D[v-s],D[v++]=(m+w)%256;break;case 2:for(b=J=0;J<k;b=J+=1)m=i[l++],y=(b-b%s)/s,j=T&&D[(T-1)*k+y*s+b%s],D[v++]=(j+m)%256;break;case 3:for(b=H=0;H<k;b=H+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:D[v-s],j=T&&D[(T-1)*k+y*s+b%s],D[v++]=(m+Math.floor((w+j)/2))%256;break;case 4:for(b=U=0;U<k;b=U+=1)m=i[l++],y=(b-b%s)/s,w=b<s?0:D[v-s],T===0?j=V=0:(j=D[(T-1)*k+y*s+b%s],V=y&&D[(T-1)*k+(y-1)*s+b%s]),P=w+j-V,I=Math.abs(P-w),S=Math.abs(P-j),A=Math.abs(P-V),E=I<=S&&I<=A?w:S<=A?j:V,D[v++]=(m+E)%256;break;default:throw new Error("Invalid filter algorithm: "+i[l-1])}if(!C){var F=((h+T*g)*c.width+f)*s,q=T*k;for(b=0;b<re;b+=1){for(var K=0;K<s;K+=1)o[F++]=D[q++];F+=(d-1)*s}}T++}}return i=ixe(i),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},n.prototype.decodePalette=function(){var i,s,o,l,c,u,f,h,d;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,i=0,s=f=0,h=o.length;f<h;s=f+=3)c[l++]=o[s],c[l++]=o[s+1],c[l++]=o[s+2],c[l++]=(d=u[i++])!=null?d:255;return c},n.prototype.copyToImageData=function(i,s){var o,l,c,u,f,h,d,g,m,v,y;if(l=this.colors,m=null,o=this.hasAlphaChannel,this.palette.length&&(m=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),g=(c=i.data||i).length,f=m||s,u=h=0,l===1)for(;u<g;)d=m?4*s[u/4]:h,v=f[d++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?f[d++]:255,h=d;else for(;u<g;)d=m?4*s[u/4]:h,c[u++]=f[d++],c[u++]=f[d++],c[u++]=f[d++],c[u++]=o?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(ir)==="[object Window]"){try{t=ir.document.createElement("canvas"),r=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,o,l,c,u,f,h,d;if(this.animation){for(d=[],o=u=0,f=(h=this.animation.frames).length;u<f;o=++u)s=h[o],l=i.createImageData(s.width,s.height),c=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(l,c),s.imageData=l,d.push(s.image=e(l));return d}},n.prototype.renderFrame=function(i,s){var o,l,c;return o=(l=this.animation.frames)[s],c=l[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?i.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&i.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&i.clearRect(o.xOffset,o.yOffset,o.width,o.height),i.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(i){var s,o,l,c,u,f,h=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,u=f.numPlays,(s=function(){var d,g;if(d=o++%c,g=l[d],h.renderFrame(i,d),c>1&&o/c<u)return h.animation._timeout=setTimeout(s,g.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,o;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(o=s.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),s.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Nxe(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var o=null,l=null;i&&(o=t,l=s,t+=3*s);var c=!0,u=[],f=0,h=null,d=0,g=null;for(this.width=r,this.height=n;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,g=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var m=e[t++];f=e[t++]|e[t++]<<8,h=e[t++],!(1&m)&&(h=null),d=m>>2&7,t++;break;case 254:for(;;){if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var v=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,w=e[t++]|e[t++]<<8,O=e[t++],P=O>>6&1,I=1<<(7&O)+1,E=o,S=l,A=!1;O>>7&&(A=!0,E=t,S=I,t+=3*I);var D=t;for(t++;;){var T;if(!((T=e[t++])>=0))throw Error("Invalid block size");if(T===0)break;t+=T}u.push({x:v,y,width:b,height:w,has_local_palette:A,palette_offset:E,palette_size:S,data_offset:D,data_length:t-D,transparent_index:h,interlaced:!!P,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return g},this.frameInfo=function(k){if(k<0||k>=u.length)throw new Error("Frame index out of range.");return u[k]},this.decodeAndBlitFrameBGRA=function(k,j){var V=this.frameInfo(k),Q=V.width*V.height,Y=new Uint8Array(Q);Tj(e,V.data_offset,Y,Q);var J=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var U=V.width,re=r-U,z=U,C=4*(V.y*r+V.x),F=4*((V.y+V.height)*r+V.x),q=C,K=4*re;V.interlaced===!0&&(K+=4*r*7);for(var Z=8,oe=0,fe=Y.length;oe<fe;++oe){var ie=Y[oe];if(z===0&&(z=U,(q+=K)>=F&&(K=4*re+4*r*(Z-1),q=C+(U+re)*(Z<<1),Z>>=1)),ie===H)q+=4;else{var de=e[J+3*ie],_e=e[J+3*ie+1],B=e[J+3*ie+2];j[q++]=B,j[q++]=_e,j[q++]=de,j[q++]=255}--z}},this.decodeAndBlitFrameRGBA=function(k,j){var V=this.frameInfo(k),Q=V.width*V.height,Y=new Uint8Array(Q);Tj(e,V.data_offset,Y,Q);var J=V.palette_offset,H=V.transparent_index;H===null&&(H=256);var U=V.width,re=r-U,z=U,C=4*(V.y*r+V.x),F=4*((V.y+V.height)*r+V.x),q=C,K=4*re;V.interlaced===!0&&(K+=4*r*7);for(var Z=8,oe=0,fe=Y.length;oe<fe;++oe){var ie=Y[oe];if(z===0&&(z=U,(q+=K)>=F&&(K=4*re+4*r*(Z-1),q=C+(U+re)*(Z<<1),Z>>=1)),ie===H)q+=4;else{var de=e[J+3*ie],_e=e[J+3*ie+1],B=e[J+3*ie+2];j[q++]=de,j[q++]=_e,j[q++]=B,j[q++]=255}--z}}}function Tj(e,t,r,n){for(var a=e[t++],i=1<<a,s=i+1,o=s+1,l=a+1,c=(1<<l)-1,u=0,f=0,h=0,d=e[t++],g=new Int32Array(4096),m=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var v=f&c;if(f>>=l,u-=l,v!==i){if(v===s)break;for(var y=v<o?v:m,b=0,w=y;w>i;)w=g[w]>>8,++b;var O=w;if(h+b+(y!==v?1:0)>n)return void vn.log("Warning, gif stream longer than expected.");r[h++]=O;var P=h+=b;for(y!==v&&(r[h++]=O),w=y;b--;)w=g[w],r[--P]=255&w,w>>=8;m!==null&&o<4096&&(g[o++]=m<<8|O,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=v}else o=s+1,c=(1<<(l=a+1))-1,m=null}return h!==n&&vn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function KS(e){var t,r,n,a,i,s=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),g=new Array(64),m=[],v=0,y=7,b=new Array(64),w=new Array(64),O=new Array(64),P=new Array(256),I=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],D=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],j=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Y(C,F){for(var q=0,K=0,Z=new Array,oe=1;oe<=16;oe++){for(var fe=1;fe<=C[oe];fe++)Z[F[K]]=[],Z[F[K]][0]=q,Z[F[K]][1]=oe,K++,q++;q*=2}return Z}function J(C){for(var F=C[0],q=C[1]-1;q>=0;)F&1<<q&&(v|=1<<y),q--,--y<0&&(v==255?(H(255),H(0)):H(v),y=7,v=0)}function H(C){m.push(C)}function U(C){H(C>>8&255),H(255&C)}function re(C,F,q,K,Z){for(var oe,fe=Z[0],ie=Z[240],de=function(Fe,Qe){var Le,Ge,Me,Ye,mt,at,gt,At,Pt,ft,rt=0;for(Pt=0;Pt<8;++Pt){Le=Fe[rt],Ge=Fe[rt+1],Me=Fe[rt+2],Ye=Fe[rt+3],mt=Fe[rt+4],at=Fe[rt+5],gt=Fe[rt+6];var Kt=Le+(At=Fe[rt+7]),Vt=Le-At,Ur=Ge+gt,wt=Ge-gt,Ct=Me+at,Qt=Me-at,Bt=Ye+mt,Sr=Ye-mt,Ee=Kt+Bt,Xe=Kt-Bt,nt=Ur+Ct,St=Ur-Ct;Fe[rt]=Ee+nt,Fe[rt+4]=Ee-nt;var ht=.707106781*(St+Xe);Fe[rt+2]=Xe+ht,Fe[rt+6]=Xe-ht;var Mt=.382683433*((Ee=Sr+Qt)-(St=wt+Vt)),xr=.5411961*Ee+Mt,Nr=1.306562965*St+Mt,Zn=.707106781*(nt=Qt+wt),qa=Vt+Zn,we=Vt-Zn;Fe[rt+5]=we+xr,Fe[rt+3]=we-xr,Fe[rt+1]=qa+Nr,Fe[rt+7]=qa-Nr,rt+=8}for(rt=0,Pt=0;Pt<8;++Pt){Le=Fe[rt],Ge=Fe[rt+8],Me=Fe[rt+16],Ye=Fe[rt+24],mt=Fe[rt+32],at=Fe[rt+40],gt=Fe[rt+48];var _t=Le+(At=Fe[rt+56]),kt=Le-At,Yt=Ge+gt,It=Ge-gt,dt=Me+at,ee=Me-at,ye=Ye+mt,he=Ye-mt,me=_t+ye,be=_t-ye,Se=Yt+dt,Be=Yt-dt;Fe[rt]=me+Se,Fe[rt+32]=me-Se;var Ke=.707106781*(Be+be);Fe[rt+16]=be+Ke,Fe[rt+48]=be-Ke;var Ve=.382683433*((me=he+ee)-(Be=It+kt)),Ue=.5411961*me+Ve,He=1.306562965*Be+Ve,vt=.707106781*(Se=ee+It),Ot=kt+vt,Ft=kt-vt;Fe[rt+40]=Ft+Ue,Fe[rt+24]=Ft-Ue,Fe[rt+8]=Ot+He,Fe[rt+56]=Ot-He,rt++}for(Pt=0;Pt<64;++Pt)ft=Fe[Pt]*Qe[Pt],d[Pt]=ft>0?ft+.5|0:ft-.5|0;return d}(C,F),_e=0;_e<64;++_e)g[E[_e]]=de[_e];var B=g[0]-q;q=g[0],B==0?J(K[0]):(J(K[h[oe=32767+B]]),J(f[oe]));for(var Te=63;Te>0&&g[Te]==0;)Te--;if(Te==0)return J(fe),q;for(var ge,ve=1;ve<=Te;){for(var te=ve;g[ve]==0&&ve<=Te;)++ve;var ke=ve-te;if(ke>=16){ge=ke>>4;for(var $e=1;$e<=ge;++$e)J(ie);ke&=15}oe=32767+g[ve],J(Z[(ke<<4)+h[oe]]),J(f[oe]),ve++}return Te!=63&&J(fe),q}function z(C){C=Math.min(Math.max(C,1),100),i!=C&&(function(F){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var Z=s((q[K]*F+50)/100);Z=Math.min(Math.max(Z,1),255),o[E[K]]=Z}for(var oe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],fe=0;fe<64;fe++){var ie=s((oe[fe]*F+50)/100);ie=Math.min(Math.max(ie,1),255),l[E[fe]]=ie}for(var de=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],_e=0,B=0;B<8;B++)for(var Te=0;Te<8;Te++)c[_e]=1/(o[E[_e]]*de[B]*de[Te]*8),u[_e]=1/(l[E[_e]]*de[B]*de[Te]*8),_e++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,F){F&&z(F),m=new Array,v=0,y=7,U(65496),U(65504),U(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),U(1),U(1),H(0),H(0),function(){U(65499),U(132),H(0);for(var Ge=0;Ge<64;Ge++)H(o[Ge]);H(1);for(var Me=0;Me<64;Me++)H(l[Me])}(),function(Ge,Me){U(65472),U(17),H(8),U(Me),U(Ge),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(C.width,C.height),function(){U(65476),U(418),H(0);for(var Ge=0;Ge<16;Ge++)H(S[Ge+1]);for(var Me=0;Me<=11;Me++)H(A[Me]);H(16);for(var Ye=0;Ye<16;Ye++)H(D[Ye+1]);for(var mt=0;mt<=161;mt++)H(T[mt]);H(1);for(var at=0;at<16;at++)H(k[at+1]);for(var gt=0;gt<=11;gt++)H(j[gt]);H(17);for(var At=0;At<16;At++)H(V[At+1]);for(var Pt=0;Pt<=161;Pt++)H(Q[Pt])}(),U(65498),U(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var q=0,K=0,Z=0;v=0,y=7,this.encode.displayName="_encode_";for(var oe,fe,ie,de,_e,B,Te,ge,ve,te=C.data,ke=C.width,$e=C.height,Fe=4*ke,Qe=0;Qe<$e;){for(oe=0;oe<Fe;){for(_e=Fe*Qe+oe,Te=-1,ge=0,ve=0;ve<64;ve++)B=_e+(ge=ve>>3)*Fe+(Te=4*(7&ve)),Qe+ge>=$e&&(B-=Fe*(Qe+1+ge-$e)),oe+Te>=Fe&&(B-=oe+Te-Fe+4),fe=te[B++],ie=te[B++],de=te[B++],b[ve]=(I[fe]+I[ie+256>>0]+I[de+512>>0]>>16)-128,w[ve]=(I[fe+768>>0]+I[ie+1024>>0]+I[de+1280>>0]>>16)-128,O[ve]=(I[fe+1280>>0]+I[ie+1536>>0]+I[de+1792>>0]>>16)-128;q=re(b,c,q,t,n),K=re(w,u,K,r,a),Z=re(O,u,Z,r,a),oe+=32}Qe+=8}if(y>=0){var Le=[];Le[1]=y+1,Le[0]=(1<<y+1)-1,J(Le)}return U(65497),new Uint8Array(m)},e=e||50,function(){for(var C=String.fromCharCode,F=0;F<256;F++)P[F]=C(F)}(),t=Y(S,A),r=Y(k,j),n=Y(D,T),a=Y(V,Q),function(){for(var C=1,F=2,q=1;q<=15;q++){for(var K=C;K<F;K++)h[32767+K]=q,f[32767+K]=[],f[32767+K][1]=q,f[32767+K][0]=K;for(var Z=-(F-1);Z<=-C;Z++)h[32767+Z]=q,f[32767+Z]=[],f[32767+Z][1]=q,f[32767+Z][0]=F-1+Z;C<<=1,F<<=1}}(),function(){for(var C=0;C<256;C++)I[C]=19595*C,I[C+256>>0]=38470*C,I[C+512>>0]=7471*C+32768,I[C+768>>0]=-11059*C,I[C+1024>>0]=-21709*C,I[C+1280>>0]=32768*C+8421375,I[C+1536>>0]=-27439*C,I[C+1792>>0]=-5329*C}(),z(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Bo(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ej(e){function t(S){if(!S)throw Error("assert :P")}function r(S,A,D){for(var T=0;4>T;T++)if(S[A+T]!=D.charCodeAt(T))return!0;return!1}function n(S,A,D,T,k){for(var j=0;j<k;j++)S[A+j]=D[T+j]}function a(S,A,D,T){for(var k=0;k<T;k++)S[A+k]=D}function i(S){return new Int32Array(S)}function s(S,A){for(var D=[],T=0;T<S;T++)D.push(new A);return D}function o(S,A){var D=[];return function T(k,j,V){for(var Q=V[j],Y=0;Y<Q&&(k.push(V.length>j+1?[]:new A),!(V.length<j+1));Y++)T(k[Y],j+1,V)}(D,0,S),D}var l=function(){var S=this;function A(x,N){for(var M=1<<N-1>>>0;x&M;)M>>>=1;return M?(x&M-1)+M:x}function D(x,N,M,G,ae){t(!(G%M));do x[N+(G-=M)]=ae;while(0<G)}function T(x,N,M,G,ae){if(t(2328>=ae),512>=ae)var se=i(512);else if((se=i(ae))==null)return 0;return function(le,ue,pe,xe,Ce,ze){var qe,Re,ct=ue,Je=1<<pe,Pe=i(16),Ie=i(16);for(t(Ce!=0),t(xe!=null),t(le!=null),t(0<pe),Re=0;Re<Ce;++Re){if(15<xe[Re])return 0;++Pe[xe[Re]]}if(Pe[0]==Ce)return 0;for(Ie[1]=0,qe=1;15>qe;++qe){if(Pe[qe]>1<<qe)return 0;Ie[qe+1]=Ie[qe]+Pe[qe]}for(Re=0;Re<Ce;++Re)qe=xe[Re],0<xe[Re]&&(ze[Ie[qe]++]=Re);if(Ie[15]==1)return(xe=new k).g=0,xe.value=ze[0],D(le,ct,1,Je,xe),Je;var it,pt=-1,lt=Je-1,zt=0,Lt=1,er=1,$t=1<<pe;for(Re=0,qe=1,Ce=2;qe<=pe;++qe,Ce<<=1){if(Lt+=er<<=1,0>(er-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe])(xe=new k).g=qe,xe.value=ze[Re++],D(le,ct+zt,Ce,$t,xe),zt=A(zt,qe)}for(qe=pe+1,Ce=2;15>=qe;++qe,Ce<<=1){if(Lt+=er<<=1,0>(er-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe]){if(xe=new k,(zt&lt)!=pt){for(ct+=$t,it=1<<(pt=qe)-pe;15>pt&&!(0>=(it-=Pe[pt]));)++pt,it<<=1;Je+=$t=1<<(it=pt-pe),le[ue+(pt=zt&lt)].g=it+pe,le[ue+pt].value=ct-ue-pt}xe.g=qe-pe,xe.value=ze[Re++],D(le,ct+(zt>>pe),Ce,$t,xe),zt=A(zt,qe)}}return Lt!=2*Ie[15]-1?0:Je}(x,N,M,G,ae,se)}function k(){this.value=this.g=0}function j(){this.value=this.g=0}function V(){this.G=s(5,k),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Ka,j)}function Q(x,N,M,G){t(x!=null),t(N!=null),t(2147483648>G),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=N,x.pa=M,x.Jd=N,x.Yc=M+G,x.Zc=4<=G?M+G-4+1:M,oe(x)}function Y(x,N){for(var M=0;0<N--;)M|=ie(x,128)<<N;return M}function J(x,N){var M=Y(x,N);return fe(x)?-M:M}function H(x,N,M,G){var ae,se=0;for(t(x!=null),t(N!=null),t(4294967288>G),x.Sb=G,x.Ra=0,x.u=0,x.h=0,4<G&&(G=4),ae=0;ae<G;++ae)se+=N[M+ae]<<8*ae;x.Ra=se,x.bb=G,x.oa=N,x.pa=M}function U(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Id-8>>>0,++x.bb,x.u-=8;q(x)&&(x.h=1,x.u=0)}function re(x,N){if(t(0<=N),!x.h&&N<=Od){var M=F(x)&Pd[N];return x.u+=N,U(x),M}return x.h=1,x.u=0}function z(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function F(x){return x.Ra>>>(x.u&Id-1)>>>0}function q(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Id}function K(x,N){x.u=N,x.h=q(x)}function Z(x){x.u>=mm&&(t(x.u>=mm),U(x))}function oe(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function fe(x){return Y(x,1)}function ie(x,N){var M=x.Ca;0>x.b&&oe(x);var G=x.b,ae=M*N>>>8,se=(x.I>>>G>ae)+0;for(se?(M-=ae,x.I-=ae+1<<G>>>0):M=ae+1,G=M,ae=0;256<=G;)ae+=8,G>>=8;return G=7^ae+rs[G],x.b-=G,x.Ca=(M<<G)-1,se}function de(x,N,M){x[N+0]=M>>24&255,x[N+1]=M>>16&255,x[N+2]=M>>8&255,x[N+3]=M>>0&255}function _e(x,N){return x[N+0]<<0|x[N+1]<<8}function B(x,N){return _e(x,N)|x[N+2]<<16}function Te(x,N){return _e(x,N)|_e(x,N+2)<<16}function ge(x,N){var M=1<<N;return t(x!=null),t(0<N),x.X=i(M),x.X==null?0:(x.Mb=32-N,x.Xa=N,1)}function ve(x,N){t(x!=null),t(N!=null),t(x.Xa==N.Xa),n(N.X,0,x.X,0,1<<N.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function ke(x,N,M,G){t(M!=null),t(G!=null);var ae=M[0],se=G[0];return ae==0&&(ae=(x*se+N/2)/N),se==0&&(se=(N*ae+x/2)/x),0>=ae||0>=se?0:(M[0]=ae,G[0]=se,1)}function $e(x,N){return x+(1<<N)-1>>>N}function Fe(x,N){return((4278255360&x)+(4278255360&N)>>>0&4278255360)+((16711935&x)+(16711935&N)>>>0&16711935)>>>0}function Qe(x,N){S[N]=function(M,G,ae,se,le,ue,pe){var xe;for(xe=0;xe<le;++xe){var Ce=S[x](ue[pe+xe-1],ae,se+xe);ue[pe+xe]=Fe(M[G+xe],Ce)}}}function Le(){this.ud=this.hd=this.jd=0}function Ge(x,N){return((4278124286&(x^N))>>>1)+(x&N)>>>0}function Me(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Ye(x,N){return Me(x+(x-N+.5>>1))}function mt(x,N,M){return Math.abs(N-M)-Math.abs(x-M)}function at(x,N,M,G,ae,se,le){for(G=se[le-1],M=0;M<ae;++M)se[le+M]=G=Fe(x[N+M],G)}function gt(x,N,M,G,ae){var se;for(se=0;se<M;++se){var le=x[N+se],ue=le>>8&255,pe=16711935&(pe=(pe=16711935&le)+((ue<<16)+ue));G[ae+se]=(4278255360&le)+pe>>>0}}function At(x,N){N.jd=x>>0&255,N.hd=x>>8&255,N.ud=x>>16&255}function Pt(x,N,M,G,ae,se){var le;for(le=0;le<G;++le){var ue=N[M+le],pe=ue>>>8,xe=ue,Ce=255&(Ce=(Ce=ue>>>16)+((x.jd<<24>>24)*(pe<<24>>24)>>>5));xe=255&(xe=(xe=xe+((x.hd<<24>>24)*(pe<<24>>24)>>>5))+((x.ud<<24>>24)*(Ce<<24>>24)>>>5)),ae[se+le]=(4278255360&ue)+(Ce<<16)+xe}}function ft(x,N,M,G,ae){S[N]=function(se,le,ue,pe,xe,Ce,ze,qe,Re){for(pe=ze;pe<qe;++pe)for(ze=0;ze<Re;++ze)xe[Ce++]=ae(ue[G(se[le++])])},S[x]=function(se,le,ue,pe,xe,Ce,ze){var qe=8>>se.b,Re=se.Ea,ct=se.K[0],Je=se.w;if(8>qe)for(se=(1<<se.b)-1,Je=(1<<qe)-1;le<ue;++le){var Pe,Ie=0;for(Pe=0;Pe<Re;++Pe)Pe&se||(Ie=G(pe[xe++])),Ce[ze++]=ae(ct[Ie&Je]),Ie>>=qe}else S["VP8LMapColor"+M](pe,xe,ct,Je,Ce,ze,le,ue,Re)}}function rt(x,N,M,G,ae){for(M=N+M;N<M;){var se=x[N++];G[ae++]=se>>16&255,G[ae++]=se>>8&255,G[ae++]=se>>0&255}}function Kt(x,N,M,G,ae){for(M=N+M;N<M;){var se=x[N++];G[ae++]=se>>16&255,G[ae++]=se>>8&255,G[ae++]=se>>0&255,G[ae++]=se>>24&255}}function Vt(x,N,M,G,ae){for(M=N+M;N<M;){var se=(le=x[N++])>>16&240|le>>12&15,le=le>>0&240|le>>28&15;G[ae++]=se,G[ae++]=le}}function Ur(x,N,M,G,ae){for(M=N+M;N<M;){var se=(le=x[N++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;G[ae++]=se,G[ae++]=le}}function wt(x,N,M,G,ae){for(M=N+M;N<M;){var se=x[N++];G[ae++]=se>>0&255,G[ae++]=se>>8&255,G[ae++]=se>>16&255}}function Ct(x,N,M,G,ae,se){if(se==0)for(M=N+M;N<M;)de(G,((se=x[N++])[0]>>24|se[1]>>8&65280|se[2]<<8&16711680|se[3]<<24)>>>0),ae+=32;else n(G,ae,x,N,M)}function Qt(x,N){S[N][0]=S[x+"0"],S[N][1]=S[x+"1"],S[N][2]=S[x+"2"],S[N][3]=S[x+"3"],S[N][4]=S[x+"4"],S[N][5]=S[x+"5"],S[N][6]=S[x+"6"],S[N][7]=S[x+"7"],S[N][8]=S[x+"8"],S[N][9]=S[x+"9"],S[N][10]=S[x+"10"],S[N][11]=S[x+"11"],S[N][12]=S[x+"12"],S[N][13]=S[x+"13"],S[N][14]=S[x+"0"],S[N][15]=S[x+"0"]}function Bt(x){return x==d_||x==p_||x==by||x==m_}function Sr(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xe(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Sr,this.f.kb=new Ee,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function St(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ht(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Mt(x,N){var M=x.T,G=N.ba.f.RGBA,ae=G.eb,se=G.fb+x.ka*G.A,le=Zs[N.ba.S],ue=x.y,pe=x.O,xe=x.f,Ce=x.N,ze=x.ea,qe=x.W,Re=N.cc,ct=N.dc,Je=N.Mc,Pe=N.Nc,Ie=x.ka,it=x.ka+x.T,pt=x.U,lt=pt+1>>1;for(Ie==0?le(ue,pe,null,null,xe,Ce,ze,qe,xe,Ce,ze,qe,ae,se,null,null,pt):(le(N.ec,N.fc,ue,pe,Re,ct,Je,Pe,xe,Ce,ze,qe,ae,se-G.A,ae,se,pt),++M);Ie+2<it;Ie+=2)Re=xe,ct=Ce,Je=ze,Pe=qe,Ce+=x.Rc,qe+=x.Rc,se+=2*G.A,le(ue,(pe+=2*x.fa)-x.fa,ue,pe,Re,ct,Je,Pe,xe,Ce,ze,qe,ae,se-G.A,ae,se,pt);return pe+=x.fa,x.j+it<x.o?(n(N.ec,N.fc,ue,pe,pt),n(N.cc,N.dc,xe,Ce,lt),n(N.Mc,N.Nc,ze,qe,lt),M--):1&it||le(ue,pe,null,null,xe,Ce,ze,qe,xe,Ce,ze,qe,ae,se+G.A,null,null,pt),M}function xr(x,N,M){var G=x.F,ae=[x.J];if(G!=null){var se=x.U,le=N.ba.S,ue=le==xy||le==by;N=N.ba.f.RGBA;var pe=[0],xe=x.ka;pe[0]=x.T,x.Kb&&(xe==0?--pe[0]:(--xe,ae[0]-=x.width),x.j+x.ka+x.T==x.o&&(pe[0]=x.o-x.j-xe));var Ce=N.eb;xe=N.fb+xe*N.A,x=wn(G,ae[0],x.width,se,pe,Ce,xe+(ue?0:3),N.A),t(M==pe),x&&Bt(le)&&Qs(Ce,xe,ue,se,pe,N.A)}return 0}function Nr(x){var N=x.ma,M=N.ba.S,G=11>M,ae=M==vy||M==yy||M==xy||M==h_||M==12||Bt(M);if(N.memory=null,N.Ib=null,N.Jb=null,N.Nd=null,!dm(N.Oa,x,ae?11:12))return 0;if(ae&&Bt(M)&&yt(),x.da)alert("todo:use_scaling");else{if(G){if(N.Ib=ht,x.Kb){if(M=x.U+1>>1,N.memory=i(x.U+2*M),N.memory==null)return 0;N.ec=N.memory,N.fc=0,N.cc=N.ec,N.dc=N.fc+x.U,N.Mc=N.cc,N.Nc=N.dc+M,N.Ib=Mt,yt()}}else alert("todo:EmitYUV");ae&&(N.Jb=xr,G&&je())}if(G&&!IP){for(x=0;256>x;++x)nY[x]=89858*(x-128)+_y>>wy,sY[x]=-22014*(x-128)+_y,iY[x]=-45773*(x-128),aY[x]=113618*(x-128)+_y>>wy;for(x=_m;x<y_;++x)N=76283*(x-16)+_y>>wy,oY[x-_m]=en(N,255),lY[x-_m]=en(N+8>>4,15);IP=1}return 1}function Zn(x){var N=x.ma,M=x.U,G=x.T;return t(!(1&x.ka)),0>=M||0>=G?0:(M=N.Ib(x,N),N.Jb!=null&&N.Jb(x,N,M),N.Dc+=M,1)}function qa(x){x.ma.memory=null}function we(x,N,M,G){return re(x,8)!=47?0:(N[0]=re(x,14)+1,M[0]=re(x,14)+1,G[0]=re(x,1),re(x,3)!=0?0:!x.h)}function _t(x,N){if(4>x)return x+1;var M=x-2>>1;return(2+(1&x)<<M)+re(N,M)+1}function kt(x,N){return 120<N?N-120:1<=(M=((M=zK[N-1])>>4)*x+(8-(15&M)))?M:1;var M}function Yt(x,N,M){var G=F(M),ae=x[N+=255&G].g-8;return 0<ae&&(K(M,M.u+8),G=F(M),N+=x[N].value,N+=G&(1<<ae)-1),K(M,M.u+x[N].g),x[N].value}function It(x,N,M){return M.g+=x.g,M.value+=x.value<<N>>>0,t(8>=M.g),x.g}function dt(x,N,M){var G=x.xc;return t((N=G==0?0:x.vc[x.md*(M>>G)+(N>>G)])<x.Wb),x.Ya[N]}function ee(x,N,M,G){var ae=x.ab,se=x.c*N,le=x.C;N=le+N;var ue=M,pe=G;for(G=x.Ta,M=x.Ua;0<ae--;){var xe=x.gc[ae],Ce=le,ze=N,qe=ue,Re=pe,ct=(pe=G,ue=M,xe.Ea);switch(t(Ce<ze),t(ze<=xe.nc),xe.hc){case 2:uy(qe,Re,(ze-Ce)*ct,pe,ue);break;case 0:var Je=Ce,Pe=ze,Ie=pe,it=ue,pt=($t=xe).Ea;Je==0&&(u_(qe,Re,null,null,1,Ie,it),at(qe,Re+1,0,0,pt-1,Ie,it+1),Re+=pt,it+=pt,++Je);for(var lt=1<<$t.b,zt=lt-1,Lt=$e(pt,$t.b),er=$t.K,$t=$t.w+(Je>>$t.b)*Lt;Je<Pe;){var Yr=er,nn=$t,zr=1;for(gm(qe,Re,Ie,it-pt,1,Ie,it);zr<pt;){var Pr=(zr&~zt)+lt;Pr>pt&&(Pr=pt),(0,gu[Yr[nn++]>>8&15])(qe,Re+ +zr,Ie,it+zr-pt,Pr-zr,Ie,it+zr),zr=Pr}Re+=pt,it+=pt,++Je&zt||($t+=Lt)}ze!=xe.nc&&n(pe,ue-ct,pe,ue+(ze-Ce-1)*ct,ct);break;case 1:for(ct=qe,Pe=Re,pt=(qe=xe.Ea)-(it=qe&~(Ie=(Re=1<<xe.b)-1)),Je=$e(qe,xe.b),lt=xe.K,xe=xe.w+(Ce>>xe.b)*Je;Ce<ze;){for(zt=lt,Lt=xe,er=new Le,$t=Pe+it,Yr=Pe+qe;Pe<$t;)At(zt[Lt++],er),th(er,ct,Pe,Re,pe,ue),Pe+=Re,ue+=Re;Pe<Yr&&(At(zt[Lt++],er),th(er,ct,Pe,pt,pe,ue),Pe+=pt,ue+=pt),++Ce&Ie||(xe+=Je)}break;case 3:if(qe==pe&&Re==ue&&0<xe.b){for(Pe=pe,qe=ct=ue+(ze-Ce)*ct-(it=(ze-Ce)*$e(xe.Ea,xe.b)),Re=pe,Ie=ue,Je=[],it=(pt=it)-1;0<=it;--it)Je[it]=Re[Ie+it];for(it=pt-1;0<=it;--it)Pe[qe+it]=Je[it];Ks(xe,Ce,ze,pe,ct,pe,ue)}else Ks(xe,Ce,ze,qe,Re,pe,ue)}ue=G,pe=M}pe!=M&&n(G,M,ue,pe,se)}function ye(x,N){var M=x.V,G=x.Ba+x.c*x.C,ae=N-x.C;if(t(N<=x.l.o),t(16>=ae),0<ae){var se=x.l,le=x.Ta,ue=x.Ua,pe=se.width;if(ee(x,ae,M,G),ae=ue=[ue],t((M=x.C)<(G=N)),t(se.v<se.va),G>se.o&&(G=se.o),M<se.j){var xe=se.j-M;M=se.j,ae[0]+=xe*pe}if(M>=G?M=0:(ae[0]+=4*se.v,se.ka=M-se.j,se.U=se.va-se.v,se.T=G-M,M=1),M){if(ue=ue[0],11>(M=x.ca).S){var Ce=M.f.RGBA,ze=(G=M.S,ae=se.U,se=se.T,xe=Ce.eb,Ce.A),qe=se;for(Ce=Ce.fb+x.Ma*Ce.A;0<qe--;){var Re=le,ct=ue,Je=ae,Pe=xe,Ie=Ce;switch(G){case gy:ns(Re,ct,Je,Pe,Ie);break;case vy:Li(Re,ct,Je,Pe,Ie);break;case d_:Li(Re,ct,Je,Pe,Ie),Qs(Pe,Ie,0,Je,1,0);break;case _P:rc(Re,ct,Je,Pe,Ie);break;case yy:Ct(Re,ct,Je,Pe,Ie,1);break;case p_:Ct(Re,ct,Je,Pe,Ie,1),Qs(Pe,Ie,0,Je,1,0);break;case xy:Ct(Re,ct,Je,Pe,Ie,0);break;case by:Ct(Re,ct,Je,Pe,Ie,0),Qs(Pe,Ie,1,Je,1,0);break;case h_:vu(Re,ct,Je,Pe,Ie);break;case m_:vu(Re,ct,Je,Pe,Ie),bn(Pe,Ie,Je,1,0);break;case SP:tc(Re,ct,Je,Pe,Ie);break;default:t(0)}ue+=pe,Ce+=ze}x.Ma+=se}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=M.height)}}x.C=N,t(x.C<=x.i)}function he(x){var N;if(0<x.ua)return 0;for(N=0;N<x.Wb;++N){var M=x.Ya[N].G,G=x.Ya[N].H;if(0<M[1][G[1]+0].g||0<M[2][G[2]+0].g||0<M[3][G[3]+0].g)return 0}return 1}function me(x,N,M,G,ae,se){if(x.Z!=0){var le=x.qd,ue=x.rd;for(t(wu[x.Z]!=null);N<M;++N)wu[x.Z](le,ue,G,ae,G,ae,se),le=G,ue=ae,ae+=se;x.qd=le,x.rd=ue}}function be(x,N){var M=x.l.ma,G=M.Z==0||M.Z==1?x.l.j:x.C;if(G=x.C<G?G:x.C,t(N<=x.l.o),N>G){var ae=x.l.width,se=M.ca,le=M.tb+ae*G,ue=x.V,pe=x.Ba+x.c*G,xe=x.gc;t(x.ab==1),t(xe[0].hc==3),fy(xe[0],G,N,ue,pe,se,le),me(M,G,N,se,le,ae)}x.C=x.Ma=N}function Se(x,N,M,G,ae,se,le){var ue=x.$/G,pe=x.$%G,xe=x.m,Ce=x.s,ze=M+x.$,qe=ze;ae=M+G*ae;var Re=M+G*se,ct=280+Ce.ua,Je=x.Pb?ue:16777216,Pe=0<Ce.ua?Ce.Wa:null,Ie=Ce.wc,it=ze<Re?dt(Ce,pe,ue):null;t(x.C<se),t(Re<=ae);var pt=!1;e:for(;;){for(;pt||ze<Re;){var lt=0;if(ue>=Je){var zt=ze-M;t((Je=x).Pb),Je.wd=Je.m,Je.xd=zt,0<Je.s.ua&&ve(Je.s.Wa,Je.s.vb),Je=ue+WK}if(pe&Ie||(it=dt(Ce,pe,ue)),t(it!=null),it.Qb&&(N[ze]=it.qb,pt=!0),!pt)if(Z(xe),it.jc){lt=xe,zt=N;var Lt=ze,er=it.pd[F(lt)&Ka-1];t(it.jc),256>er.g?(K(lt,lt.u+er.g),zt[Lt]=er.value,lt=0):(K(lt,lt.u+er.g-256),t(256<=er.value),lt=er.value),lt==0&&(pt=!0)}else lt=Yt(it.G[0],it.H[0],xe);if(xe.h)break;if(pt||256>lt){if(!pt)if(it.nd)N[ze]=(it.qb|lt<<8)>>>0;else{if(Z(xe),pt=Yt(it.G[1],it.H[1],xe),Z(xe),zt=Yt(it.G[2],it.H[2],xe),Lt=Yt(it.G[3],it.H[3],xe),xe.h)break;N[ze]=(Lt<<24|pt<<16|lt<<8|zt)>>>0}if(pt=!1,++ze,++pe>=G&&(pe=0,++ue,le!=null&&ue<=se&&!(ue%16)&&le(x,ue),Pe!=null))for(;qe<ze;)lt=N[qe++],Pe.X[(506832829*lt&4294967295)>>>Pe.Mb]=lt}else if(280>lt){if(lt=_t(lt-256,xe),zt=Yt(it.G[4],it.H[4],xe),Z(xe),zt=kt(G,zt=_t(zt,xe)),xe.h)break;if(ze-M<zt||ae-ze<lt)break e;for(Lt=0;Lt<lt;++Lt)N[ze+Lt]=N[ze+Lt-zt];for(ze+=lt,pe+=lt;pe>=G;)pe-=G,++ue,le!=null&&ue<=se&&!(ue%16)&&le(x,ue);if(t(ze<=ae),pe&Ie&&(it=dt(Ce,pe,ue)),Pe!=null)for(;qe<ze;)lt=N[qe++],Pe.X[(506832829*lt&4294967295)>>>Pe.Mb]=lt}else{if(!(lt<ct))break e;for(pt=lt-280,t(Pe!=null);qe<ze;)lt=N[qe++],Pe.X[(506832829*lt&4294967295)>>>Pe.Mb]=lt;lt=ze,t(!(pt>>>(zt=Pe).Xa)),N[lt]=zt.X[pt],pt=!0}pt||t(xe.h==q(xe))}if(x.Pb&&xe.h&&ze<ae)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&ve(x.s.vb,x.s.Wa);else{if(xe.h)break e;le!=null&&le(x,ue>se?se:ue),x.a=0,x.$=ze-M}return 1}return x.a=3,0}function Be(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var N=x.Wa;N!=null&&(N.X=null),x.vb=null,t(x!=null)}function Ke(){var x=new Nd;return x==null?null:(x.a=0,x.xb=EP,Qt("Predictor","VP8LPredictors"),Qt("Predictor","VP8LPredictors_C"),Qt("PredictorAdd","VP8LPredictorsAdd"),Qt("PredictorAdd","VP8LPredictorsAdd_C"),uy=gt,th=Pt,ns=rt,Li=Kt,vu=Vt,tc=Ur,rc=wt,S.VP8LMapColor32b=Dd,S.VP8LMapColor8b=hy,x)}function Ve(x,N,M,G,ae){var se=1,le=[x],ue=[N],pe=G.m,xe=G.s,Ce=null,ze=0;e:for(;;){if(M)for(;se&&re(pe,1);){var qe=le,Re=ue,ct=G,Je=1,Pe=ct.m,Ie=ct.gc[ct.ab],it=re(Pe,2);if(ct.Oc&1<<it)se=0;else{switch(ct.Oc|=1<<it,Ie.hc=it,Ie.Ea=qe[0],Ie.nc=Re[0],Ie.K=[null],++ct.ab,t(4>=ct.ab),it){case 0:case 1:Ie.b=re(Pe,3)+2,Je=Ve($e(Ie.Ea,Ie.b),$e(Ie.nc,Ie.b),0,ct,Ie.K),Ie.K=Ie.K[0];break;case 3:var pt,lt=re(Pe,8)+1,zt=16<lt?0:4<lt?1:2<lt?2:3;if(qe[0]=$e(Ie.Ea,zt),Ie.b=zt,pt=Je=Ve(lt,1,0,ct,Ie.K)){var Lt,er=lt,$t=Ie,Yr=1<<(8>>$t.b),nn=i(Yr);if(nn==null)pt=0;else{var zr=$t.K[0],Pr=$t.w;for(nn[0]=$t.K[0][0],Lt=1;Lt<1*er;++Lt)nn[Lt]=Fe(zr[Pr+Lt],nn[Lt-1]);for(;Lt<4*Yr;++Lt)nn[Lt]=0;$t.K[0]=null,$t.K[0]=nn,pt=1}}Je=pt;break;case 2:break;default:t(0)}se=Je}}if(le=le[0],ue=ue[0],se&&re(pe,1)&&!(se=1<=(ze=re(pe,4))&&11>=ze)){G.a=3;break e}var gn;if(gn=se)t:{var fn,br,ca,as=G,ua=le,is=ue,an=ze,ks=M,Ns=as.m,Da=as.s,Ya=[null],Ri=1,eo=0,xl=qK[an];r:for(;;){if(ks&&re(Ns,1)){var ja=re(Ns,3)+2,sc=$e(ua,ja),sh=$e(is,ja),Fd=sc*sh;if(!Ve(sc,sh,0,as,Ya))break r;for(Ya=Ya[0],Da.xc=ja,fn=0;fn<Fd;++fn){var _u=Ya[fn]>>8&65535;Ya[fn]=_u,_u>=Ri&&(Ri=_u+1)}}if(Ns.h)break r;for(br=0;5>br;++br){var Wn=AP[br];!br&&0<an&&(Wn+=1<<an),eo<Wn&&(eo=Wn)}var x_=s(Ri*xl,k),LP=Ri,MP=s(LP,V);if(MP==null)var Ay=null;else t(65536>=LP),Ay=MP;var Sm=i(eo);if(Ay==null||Sm==null||x_==null){as.a=1;break r}var Ty=x_;for(fn=ca=0;fn<Ri;++fn){var Lo=Ay[fn],$d=Lo.G,Bd=Lo.H,RP=0,Ey=1,FP=0;for(br=0;5>br;++br){Wn=AP[br],$d[br]=Ty,Bd[br]=ca,!br&&0<an&&(Wn+=1<<an);a:{var ky,b_=Wn,Ny=as,Am=Sm,fY=Ty,hY=ca,w_=0,Su=Ny.m,dY=re(Su,1);if(a(Am,0,0,b_),dY){var pY=re(Su,1)+1,mY=re(Su,1),$P=re(Su,mY==0?1:8);Am[$P]=1,pY==2&&(Am[$P=re(Su,8)]=1);var Cy=1}else{var BP=i(19),VP=re(Su,4)+4;if(19<VP){Ny.a=3;var Py=0;break a}for(ky=0;ky<VP;++ky)BP[UK[ky]]=re(Su,3);var __=void 0,Tm=void 0,UP=Ny,gY=BP,Oy=b_,zP=Am,S_=0,Au=UP.m,qP=8,WP=s(128,k);n:for(;T(WP,0,7,gY,19);){if(re(Au,1)){var vY=2+2*re(Au,3);if((__=2+re(Au,vY))>Oy)break n}else __=Oy;for(Tm=0;Tm<Oy&&__--;){Z(Au);var HP=WP[0+(127&F(Au))];K(Au,Au.u+HP.g);var Vd=HP.value;if(16>Vd)zP[Tm++]=Vd,Vd!=0&&(qP=Vd);else{var yY=Vd==16,GP=Vd-16,xY=BK[GP],KP=re(Au,$K[GP])+xY;if(Tm+KP>Oy)break n;for(var bY=yY?qP:0;0<KP--;)zP[Tm++]=bY}}S_=1;break n}S_||(UP.a=3),Cy=S_}(Cy=Cy&&!Su.h)&&(w_=T(fY,hY,8,Am,b_)),Cy&&w_!=0?Py=w_:(Ny.a=3,Py=0)}if(Py==0)break r;if(Ey&&VK[br]==1&&(Ey=Ty[ca].g==0),RP+=Ty[ca].g,ca+=Py,3>=br){var Em,A_=Sm[0];for(Em=1;Em<Wn;++Em)Sm[Em]>A_&&(A_=Sm[Em]);FP+=A_}}if(Lo.nd=Ey,Lo.Qb=0,Ey&&(Lo.qb=($d[3][Bd[3]+0].value<<24|$d[1][Bd[1]+0].value<<16|$d[2][Bd[2]+0].value)>>>0,RP==0&&256>$d[0][Bd[0]+0].value&&(Lo.Qb=1,Lo.qb+=$d[0][Bd[0]+0].value<<8)),Lo.jc=!Lo.Qb&&6>FP,Lo.jc){var Iy,oc=Lo;for(Iy=0;Iy<Ka;++Iy){var Tu=Iy,Eu=oc.pd[Tu],Dy=oc.G[0][oc.H[0]+Tu];256<=Dy.value?(Eu.g=Dy.g+256,Eu.value=Dy.value):(Eu.g=0,Eu.value=0,Tu>>=It(Dy,8,Eu),Tu>>=It(oc.G[1][oc.H[1]+Tu],16,Eu),Tu>>=It(oc.G[2][oc.H[2]+Tu],0,Eu),It(oc.G[3][oc.H[3]+Tu],24,Eu))}}}Da.vc=Ya,Da.Wb=Ri,Da.Ya=Ay,Da.yc=x_,gn=1;break t}gn=0}if(!(se=gn)){G.a=3;break e}if(0<ze){if(xe.ua=1<<ze,!ge(xe.Wa,ze)){G.a=1,se=0;break e}}else xe.ua=0;var T_=G,YP=le,wY=ue,E_=T_.s,k_=E_.xc;if(T_.c=YP,T_.i=wY,E_.md=$e(YP,k_),E_.wc=k_==0?-1:(1<<k_)-1,M){G.xb=JK;break e}if((Ce=i(le*ue))==null){G.a=1,se=0;break e}se=(se=Se(G,Ce,0,le,ue,ue,null))&&!pe.h;break e}return se?(ae!=null?ae[0]=Ce:(t(Ce==null),t(M)),G.$=0,M||Be(xe)):Be(xe),se}function Ue(x,N){var M=x.c*x.i,G=M+N+16*N;return t(x.c<=N),x.V=i(G),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+M+N,1)}function He(x,N){var M=x.C,G=N-M,ae=x.V,se=x.Ba+x.c*M;for(t(N<=x.l.o);0<G;){var le=16<G?16:G,ue=x.l.ma,pe=x.l.width,xe=pe*le,Ce=ue.ca,ze=ue.tb+pe*M,qe=x.Ta,Re=x.Ua;ee(x,le,ae,se),ta(qe,Re,Ce,ze,xe),me(ue,M,M+le,Ce,ze,pe),G-=le,ae+=le*x.c,M+=le}t(M==N),x.C=x.Ma=N}function vt(){this.ub=this.yd=this.td=this.Rb=0}function Ot(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ft(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Tt(){this.Yb=function(){var x=[];return function N(M,G,ae){for(var se=ae[G],le=0;le<se&&(M.push(ae.length>G+1?[]:0),!(ae.length<G+1));le++)N(M[le],G+1,ae)}(x,0,[3,11]),x}()}function Dt(){this.jb=i(3),this.Wc=o([4,8],Tt),this.Xc=o([4,17],Tt)}function rr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Lr(){this.ld=this.La=this.dd=this.tc=0}function Mr(){this.Na=this.la=0}function un(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Di(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Eo(){this.uc=this.M=this.Nb=0,this.wa=Array(new Lr),this.Y=0,this.ya=Array(new Di),this.aa=0,this.l=new _s}function ws(){this.y=i(16),this.f=i(8),this.ea=i(8)}function es(){this.cb=this.a=0,this.sc="",this.m=new z,this.Od=new vt,this.Kc=new Ot,this.ed=new rr,this.Qa=new Ft,this.Ic=this.$c=this.Aa=0,this.D=new Eo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,z),this.ia=0,this.pb=s(4,un),this.Pa=new Dt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ws),this.Hd=0,this.rb=Array(new Mr),this.sb=0,this.wa=Array(new Lr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Di),this.L=this.aa=0,this.gd=o([4,2],Lr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function _s(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wa(){var x=new es;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,wm||(wm=wd)),x}function Tn(x,N,M){return x.a==0&&(x.a=N,x.sc=M,x.cb=0),0}function zf(x,N,M){return 3<=M&&x[N+0]==157&&x[N+1]==1&&x[N+2]==42}function qf(x,N){if(x==null)return 0;if(x.a=0,x.sc="OK",N==null)return Tn(x,2,"null VP8Io passed to VP8GetHeaders()");var M=N.data,G=N.w,ae=N.ha;if(4>ae)return Tn(x,7,"Truncated header.");var se=M[G+0]|M[G+1]<<8|M[G+2]<<16,le=x.Od;if(le.Rb=!(1&se),le.td=se>>1&7,le.yd=se>>4&1,le.ub=se>>5,3<le.td)return Tn(x,3,"Incorrect keyframe parameters.");if(!le.yd)return Tn(x,4,"Frame not displayable.");G+=3,ae-=3;var ue=x.Kc;if(le.Rb){if(7>ae)return Tn(x,7,"cannot parse picture header");if(!zf(M,G,ae))return Tn(x,3,"Bad code word");ue.c=16383&(M[G+4]<<8|M[G+3]),ue.Td=M[G+4]>>6,ue.i=16383&(M[G+6]<<8|M[G+5]),ue.Ud=M[G+6]>>6,G+=7,ae-=7,x.za=ue.c+15>>4,x.Ub=ue.i+15>>4,N.width=ue.c,N.height=ue.i,N.Da=0,N.j=0,N.v=0,N.va=N.width,N.o=N.height,N.da=0,N.ib=N.width,N.hb=N.height,N.U=N.width,N.T=N.height,a((se=x.Pa).jb,0,255,se.jb.length),t((se=x.Qa)!=null),se.Cb=0,se.Bb=0,se.Fb=1,a(se.Zb,0,0,se.Zb.length),a(se.Lb,0,0,se.Lb)}if(le.ub>ae)return Tn(x,7,"bad partition length");Q(se=x.m,M,G,le.ub),G+=le.ub,ae-=le.ub,le.Rb&&(ue.Ld=fe(se),ue.Kd=fe(se)),ue=x.Qa;var pe,xe=x.Pa;if(t(se!=null),t(ue!=null),ue.Cb=fe(se),ue.Cb){if(ue.Bb=fe(se),fe(se)){for(ue.Fb=fe(se),pe=0;4>pe;++pe)ue.Zb[pe]=fe(se)?J(se,7):0;for(pe=0;4>pe;++pe)ue.Lb[pe]=fe(se)?J(se,6):0}if(ue.Bb)for(pe=0;3>pe;++pe)xe.jb[pe]=fe(se)?Y(se,8):255}else ue.Bb=0;if(se.Ka)return Tn(x,3,"cannot parse segment header");if((ue=x.ed).zd=fe(se),ue.Tb=Y(se,6),ue.wb=Y(se,3),ue.Pc=fe(se),ue.Pc&&fe(se)){for(xe=0;4>xe;++xe)fe(se)&&(ue.vd[xe]=J(se,6));for(xe=0;4>xe;++xe)fe(se)&&(ue.od[xe]=J(se,6))}if(x.L=ue.Tb==0?0:ue.zd?1:2,se.Ka)return Tn(x,3,"cannot parse filter header");var Ce=ae;if(ae=pe=G,G=pe+Ce,ue=Ce,x.Xb=(1<<Y(x.m,2))-1,Ce<3*(xe=x.Xb))M=7;else{for(pe+=3*xe,ue-=3*xe,Ce=0;Ce<xe;++Ce){var ze=M[ae+0]|M[ae+1]<<8|M[ae+2]<<16;ze>ue&&(ze=ue),Q(x.Jc[+Ce],M,pe,ze),pe+=ze,ue-=ze,ae+=3}Q(x.Jc[+xe],M,pe,ue),M=pe<G?0:5}if(M!=0)return Tn(x,M,"cannot parse partitions");for(M=Y(pe=x.m,7),ae=fe(pe)?J(pe,4):0,G=fe(pe)?J(pe,4):0,ue=fe(pe)?J(pe,4):0,xe=fe(pe)?J(pe,4):0,pe=fe(pe)?J(pe,4):0,Ce=x.Qa,ze=0;4>ze;++ze){if(Ce.Cb){var qe=Ce.Zb[ze];Ce.Fb||(qe+=M)}else{if(0<ze){x.pb[ze]=x.pb[0];continue}qe=M}var Re=x.pb[ze];Re.Sc[0]=g_[en(qe+ae,127)],Re.Sc[1]=v_[en(qe+0,127)],Re.Eb[0]=2*g_[en(qe+G,127)],Re.Eb[1]=101581*v_[en(qe+ue,127)]>>16,8>Re.Eb[1]&&(Re.Eb[1]=8),Re.Qc[0]=g_[en(qe+xe,117)],Re.Qc[1]=v_[en(qe+pe,127)],Re.lc=qe+pe}if(!le.Rb)return Tn(x,4,"Not a key frame.");for(fe(se),le=x.Pa,M=0;4>M;++M){for(ae=0;8>ae;++ae)for(G=0;3>G;++G)for(ue=0;11>ue;++ue)xe=ie(se,XK[M][ae][G][ue])?Y(se,8):KK[M][ae][G][ue],le.Wc[M][ae].Yb[G][ue]=xe;for(ae=0;17>ae;++ae)le.Xc[M][ae]=le.Wc[M][QK[ae]]}return x.kc=fe(se),x.kc&&(x.Bd=Y(se,8)),x.cb=1}function wd(x,N,M,G,ae,se,le){var ue=N[ae].Yb[M];for(M=0;16>ae;++ae){if(!ie(x,ue[M+0]))return ae;for(;!ie(x,ue[M+1]);)if(ue=N[++ae].Yb[0],M=0,ae==16)return 16;var pe=N[ae+1].Yb;if(ie(x,ue[M+2])){var xe=x,Ce=0;if(ie(xe,(qe=ue)[(ze=M)+3]))if(ie(xe,qe[ze+6])){for(ue=0,ze=2*(Ce=ie(xe,qe[ze+8]))+(qe=ie(xe,qe[ze+9+Ce])),Ce=0,qe=HK[ze];qe[ue];++ue)Ce+=Ce+ie(xe,qe[ue]);Ce+=3+(8<<ze)}else ie(xe,qe[ze+7])?(Ce=7+2*ie(xe,165),Ce+=ie(xe,145)):Ce=5+ie(xe,159);else Ce=ie(xe,qe[ze+4])?3+ie(xe,qe[ze+5]):2;ue=pe[2]}else Ce=1,ue=pe[1];pe=le+GK[ae],0>(xe=x).b&&oe(xe);var ze,qe=xe.b,Re=(ze=xe.Ca>>1)-(xe.I>>qe)>>31;--xe.b,xe.Ca+=Re,xe.Ca|=1,xe.I-=(ze+1&Re)<<qe,se[pe]=((Ce^Re)-Re)*G[(0<ae)+0]}return 16}function Wf(x){var N=x.rb[x.sb-1];N.la=0,N.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function _d(x,N){if(x==null)return 0;if(N==null)return Tn(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!qf(x,N))return 0;if(t(x.cb),N.ac==null||N.ac(N)){N.ob&&(x.L=0);var M=Sy[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=N.v-M>>4,x.zb=N.j-M>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=N.o+15+M>>4,x.Hb=N.va+15+M>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var G=x.ed;for(M=0;4>M;++M){var ae;if(x.Qa.Cb){var se=x.Qa.Lb[M];x.Qa.Fb||(se+=G.Tb)}else se=G.Tb;for(ae=0;1>=ae;++ae){var le=x.gd[M][ae],ue=se;if(G.Pc&&(ue+=G.vd[0],ae&&(ue+=G.od[0])),0<(ue=0>ue?0:63<ue?63:ue)){var pe=ue;0<G.wb&&(pe=4<G.wb?pe>>2:pe>>1)>9-G.wb&&(pe=9-G.wb),1>pe&&(pe=1),le.dd=pe,le.tc=2*ue+pe,le.ld=40<=ue?2:15<=ue?1:0}else le.tc=0;le.La=ae}}}M=0}else Tn(x,6,"Frame setup failed"),M=x.a;if(M=M==0){if(M){x.$c=0,0<x.Aa||(x.Ic=uY);e:{M=x.Ic,G=4*(pe=x.za);var xe=32*pe,Ce=pe+1,ze=0<x.L?pe*(0<x.Aa?2:1):0,qe=(x.Aa==2?2:1)*pe;if((le=G+832+(ae=3*(16*M+Sy[x.L])/2*xe)+(se=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=le)M=0;else{if(le>x.Vb){if(x.Vb=0,x.Ec=i(le),x.Fc=0,x.Ec==null){M=Tn(x,1,"no memory during frame initialization.");break e}x.Vb=le}le=x.Ec,ue=x.Fc,x.Ac=le,x.Bc=ue,ue+=G,x.Gd=s(xe,ws),x.Hd=0,x.rb=s(Ce+1,Mr),x.sb=1,x.wa=ze?s(ze,Lr):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=pe),t(!0),x.oc=le,x.pc=ue,ue+=832,x.ya=s(qe,Di),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=pe),x.R=16*pe,x.B=8*pe,pe=(xe=Sy[x.L])*x.R,xe=xe/2*x.B,x.sa=le,x.ta=ue+pe,x.qa=x.sa,x.ra=x.ta+16*M*x.R+xe,x.Ha=x.qa,x.Ia=x.ra+8*M*x.B+xe,x.$c=0,ue+=ae,x.mb=se?le:null,x.nb=se?ue:null,t(ue+se<=x.Fc+x.Vb),Wf(x),a(x.Ac,x.Bc,0,G),M=1}}if(M){if(N.ka=0,N.y=x.sa,N.O=x.ta,N.f=x.qa,N.N=x.ra,N.ea=x.Ha,N.Vd=x.Ia,N.fa=x.R,N.Rc=x.B,N.F=null,N.J=0,!py){for(M=-255;255>=M;++M)wa[255+M]=0>M?-M:M;for(M=-1020;1020>=M;++M)ac[1020+M]=-128>M?-128:127<M?127:M;for(M=-112;112>=M;++M)bm[112+M]=-16>M?-16:15<M?15:M;for(M=-255;510>=M;++M)Rd[255+M]=0>M?0:255<M?255:M;py=1}jd=Xl,nc=tu,vm=Hf,Mi=rn,Ys=Yl,ea=Kl,Ld=lu,dy=Oo,ym=uu,rh=eh,nh=cu,yu=Jl,ah=fu,Md=ml,ih=Ql,xu=Ts,xm=ba,Xs=kd,jo[0]=Gs,jo[1]=um,jo[2]=dl,jo[3]=hm,jo[4]=Td,jo[5]=au,jo[6]=Ss,jo[7]=Kf,jo[8]=su,jo[9]=iu,bu[0]=hl,bu[1]=fm,bu[2]=No,bu[3]=ru,bu[4]=En,bu[5]=Ad,bu[6]=Gf,ic[0]=Po,ic[1]=Sd,ic[2]=Ed,ic[3]=Co,ic[4]=Zr,ic[5]=Yf,ic[6]=Xf,M=1}else M=0}M&&(M=function(Re,ct){for(Re.M=0;Re.M<Re.Va;++Re.M){var Je,Pe=Re.Jc[Re.M&Re.Xb],Ie=Re.m,it=Re;for(Je=0;Je<it.za;++Je){var pt=Ie,lt=it,zt=lt.Ac,Lt=lt.Bc+4*Je,er=lt.zc,$t=lt.ya[lt.aa+Je];if(lt.Qa.Bb?$t.$b=ie(pt,lt.Pa.jb[0])?2+ie(pt,lt.Pa.jb[2]):ie(pt,lt.Pa.jb[1]):$t.$b=0,lt.kc&&($t.Ad=ie(pt,lt.Bd)),$t.Za=!ie(pt,145)+0,$t.Za){var Yr=$t.Ob,nn=0;for(lt=0;4>lt;++lt){var zr,Pr=er[0+lt];for(zr=0;4>zr;++zr){Pr=YK[zt[Lt+zr]][Pr];for(var gn=TP[ie(pt,Pr[0])];0<gn;)gn=TP[2*gn+ie(pt,Pr[gn])];Pr=-gn,zt[Lt+zr]=Pr}n(Yr,nn,zt,Lt,4),nn+=4,er[0+lt]=Pr}}else Pr=ie(pt,156)?ie(pt,128)?1:3:ie(pt,163)?2:0,$t.Ob[0]=Pr,a(zt,Lt,Pr,4),a(er,0,Pr,4);$t.Dd=ie(pt,142)?ie(pt,114)?ie(pt,183)?1:3:2:0}if(it.m.Ka)return Tn(Re,7,"Premature end-of-partition0 encountered.");for(;Re.ja<Re.za;++Re.ja){if(it=Pe,pt=(Ie=Re).rb[Ie.sb-1],zt=Ie.rb[Ie.sb+Ie.ja],Je=Ie.ya[Ie.aa+Ie.ja],Lt=Ie.kc?Je.Ad:0)pt.la=zt.la=0,Je.Za||(pt.Na=zt.Na=0),Je.Hc=0,Je.Gc=0,Je.ia=0;else{var fn,br;if(pt=zt,zt=it,Lt=Ie.Pa.Xc,er=Ie.ya[Ie.aa+Ie.ja],$t=Ie.pb[er.$b],lt=er.ad,Yr=0,nn=Ie.rb[Ie.sb-1],Pr=zr=0,a(lt,Yr,0,384),er.Za)var ca=0,as=Lt[3];else{gn=i(16);var ua=pt.Na+nn.Na;if(ua=wm(zt,Lt[1],ua,$t.Eb,0,gn,0),pt.Na=nn.Na=(0<ua)+0,1<ua)jd(gn,0,lt,Yr);else{var is=gn[0]+3>>3;for(gn=0;256>gn;gn+=16)lt[Yr+gn]=is}ca=1,as=Lt[0]}var an=15&pt.la,ks=15&nn.la;for(gn=0;4>gn;++gn){var Ns=1&ks;for(is=br=0;4>is;++is)an=an>>1|(Ns=(ua=wm(zt,as,ua=Ns+(1&an),$t.Sc,ca,lt,Yr))>ca)<<7,br=br<<2|(3<ua?3:1<ua?2:lt[Yr+0]!=0),Yr+=16;an>>=4,ks=ks>>1|Ns<<7,zr=(zr<<8|br)>>>0}for(as=an,ca=ks>>4,fn=0;4>fn;fn+=2){for(br=0,an=pt.la>>4+fn,ks=nn.la>>4+fn,gn=0;2>gn;++gn){for(Ns=1&ks,is=0;2>is;++is)ua=Ns+(1&an),an=an>>1|(Ns=0<(ua=wm(zt,Lt[2],ua,$t.Qc,0,lt,Yr)))<<3,br=br<<2|(3<ua?3:1<ua?2:lt[Yr+0]!=0),Yr+=16;an>>=2,ks=ks>>1|Ns<<5}Pr|=br<<4*fn,as|=an<<4<<fn,ca|=(240&ks)<<fn}pt.la=as,nn.la=ca,er.Hc=zr,er.Gc=Pr,er.ia=43690&Pr?0:$t.ia,Lt=!(zr|Pr)}if(0<Ie.L&&(Ie.wa[Ie.Y+Ie.ja]=Ie.gd[Je.$b][Je.Za],Ie.wa[Ie.Y+Ie.ja].La|=!Lt),it.Ka)return Tn(Re,7,"Premature end-of-file encountered.")}if(Wf(Re),Ie=ct,it=1,Je=(Pe=Re).D,pt=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Je.M=Pe.M,Je.uc=pt,vl(Pe,Je),it=1,Je=(br=Pe.D).Nb,pt=(Pr=Sy[Pe.L])*Pe.R,zt=Pr/2*Pe.B,gn=16*Je*Pe.R,is=8*Je*Pe.B,Lt=Pe.sa,er=Pe.ta-pt+gn,$t=Pe.qa,lt=Pe.ra-zt+is,Yr=Pe.Ha,nn=Pe.Ia-zt+is,ks=(an=br.M)==0,zr=an>=Pe.Va-1,Pe.Aa==2&&vl(Pe,br),br.uc)for(Ns=(ua=Pe).D.M,t(ua.D.uc),br=ua.yb;br<ua.Hb;++br){ca=br,as=Ns;var Da=(Ya=(Wn=ua).D).Nb;fn=Wn.R;var Ya=Ya.wa[Ya.Y+ca],Ri=Wn.sa,eo=Wn.ta+16*Da*fn+16*ca,xl=Ya.dd,ja=Ya.tc;if(ja!=0)if(t(3<=ja),Wn.L==1)0<ca&&xu(Ri,eo,fn,ja+4),Ya.La&&Xs(Ri,eo,fn,ja),0<as&&ih(Ri,eo,fn,ja+4),Ya.La&&xm(Ri,eo,fn,ja);else{var sc=Wn.B,sh=Wn.qa,Fd=Wn.ra+8*Da*sc+8*ca,_u=Wn.Ha,Wn=Wn.Ia+8*Da*sc+8*ca;Da=Ya.ld,0<ca&&(dy(Ri,eo,fn,ja+4,xl,Da),rh(sh,Fd,_u,Wn,sc,ja+4,xl,Da)),Ya.La&&(yu(Ri,eo,fn,ja,xl,Da),Md(sh,Fd,_u,Wn,sc,ja,xl,Da)),0<as&&(Ld(Ri,eo,fn,ja+4,xl,Da),ym(sh,Fd,_u,Wn,sc,ja+4,xl,Da)),Ya.La&&(nh(Ri,eo,fn,ja,xl,Da),ah(sh,Fd,_u,Wn,sc,ja,xl,Da))}}if(Pe.ia&&alert("todo:DitherRow"),Ie.put!=null){if(br=16*an,an=16*(an+1),ks?(Ie.y=Pe.sa,Ie.O=Pe.ta+gn,Ie.f=Pe.qa,Ie.N=Pe.ra+is,Ie.ea=Pe.Ha,Ie.W=Pe.Ia+is):(br-=Pr,Ie.y=Lt,Ie.O=er,Ie.f=$t,Ie.N=lt,Ie.ea=Yr,Ie.W=nn),zr||(an-=Pr),an>Ie.o&&(an=Ie.o),Ie.F=null,Ie.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&br<an&&(Ie.J=mu(Pe,Ie,br,an-br),Ie.F=Pe.mb,Ie.F==null&&Ie.F.length==0)){it=Tn(Pe,3,"Could not decode alpha data.");break e}br<Ie.j&&(Pr=Ie.j-br,br=Ie.j,t(!(1&Pr)),Ie.O+=Pe.R*Pr,Ie.N+=Pe.B*(Pr>>1),Ie.W+=Pe.B*(Pr>>1),Ie.F!=null&&(Ie.J+=Ie.width*Pr)),br<an&&(Ie.O+=Ie.v,Ie.N+=Ie.v>>1,Ie.W+=Ie.v>>1,Ie.F!=null&&(Ie.J+=Ie.v),Ie.ka=br-Ie.j,Ie.U=Ie.va-Ie.v,Ie.T=an-br,it=Ie.put(Ie))}Je+1!=Pe.Ic||zr||(n(Pe.sa,Pe.ta-pt,Lt,er+16*Pe.R,pt),n(Pe.qa,Pe.ra-zt,$t,lt+8*Pe.B,zt),n(Pe.Ha,Pe.Ia-zt,Yr,nn+8*Pe.B,zt))}if(!it)return Tn(Re,6,"Output aborted.")}return 1}(x,N)),N.bc!=null&&N.bc(N),M&=1}return M?(x.cb=0,M):0}function ts(x,N,M,G,ae){ae=x[N+M+32*G]+(ae>>3),x[N+M+32*G]=-256&ae?0>ae?0:255:ae}function eu(x,N,M,G,ae,se){ts(x,N,0,M,G+ae),ts(x,N,1,M,G+se),ts(x,N,2,M,G-se),ts(x,N,3,M,G-ae)}function qn(x){return(20091*x>>16)+x}function ji(x,N,M,G){var ae,se=0,le=i(16);for(ae=0;4>ae;++ae){var ue=x[N+0]+x[N+8],pe=x[N+0]-x[N+8],xe=(35468*x[N+4]>>16)-qn(x[N+12]),Ce=qn(x[N+4])+(35468*x[N+12]>>16);le[se+0]=ue+Ce,le[se+1]=pe+xe,le[se+2]=pe-xe,le[se+3]=ue-Ce,se+=4,N++}for(ae=se=0;4>ae;++ae)ue=(x=le[se+0]+4)+le[se+8],pe=x-le[se+8],xe=(35468*le[se+4]>>16)-qn(le[se+12]),ts(M,G,0,0,ue+(Ce=qn(le[se+4])+(35468*le[se+12]>>16))),ts(M,G,1,0,pe+xe),ts(M,G,2,0,pe-xe),ts(M,G,3,0,ue-Ce),se++,G+=32}function Kl(x,N,M,G){var ae=x[N+0]+4,se=35468*x[N+4]>>16,le=qn(x[N+4]),ue=35468*x[N+1]>>16;eu(M,G,0,ae+le,x=qn(x[N+1]),ue),eu(M,G,1,ae+se,x,ue),eu(M,G,2,ae-se,x,ue),eu(M,G,3,ae-le,x,ue)}function tu(x,N,M,G,ae){ji(x,N,M,G),ae&&ji(x,N+16,M,G+4)}function Hf(x,N,M,G){nc(x,N+0,M,G,1),nc(x,N+32,M,G+128,1)}function rn(x,N,M,G){var ae;for(x=x[N+0]+4,ae=0;4>ae;++ae)for(N=0;4>N;++N)ts(M,G,N,ae,x)}function Yl(x,N,M,G){x[N+0]&&Mi(x,N+0,M,G),x[N+16]&&Mi(x,N+16,M,G+4),x[N+32]&&Mi(x,N+32,M,G+128),x[N+48]&&Mi(x,N+48,M,G+128+4)}function Xl(x,N,M,G){var ae,se=i(16);for(ae=0;4>ae;++ae){var le=x[N+0+ae]+x[N+12+ae],ue=x[N+4+ae]+x[N+8+ae],pe=x[N+4+ae]-x[N+8+ae],xe=x[N+0+ae]-x[N+12+ae];se[0+ae]=le+ue,se[8+ae]=le-ue,se[4+ae]=xe+pe,se[12+ae]=xe-pe}for(ae=0;4>ae;++ae)le=(x=se[0+4*ae]+3)+se[3+4*ae],ue=se[1+4*ae]+se[2+4*ae],pe=se[1+4*ae]-se[2+4*ae],xe=x-se[3+4*ae],M[G+0]=le+ue>>3,M[G+16]=xe+pe>>3,M[G+32]=le-ue>>3,M[G+48]=xe-pe>>3,G+=64}function ko(x,N,M){var G,ae=N-32,se=Es,le=255-x[ae-1];for(G=0;G<M;++G){var ue,pe=se,xe=le+x[N-1];for(ue=0;ue<M;++ue)x[N+ue]=pe[xe+x[ae+ue]];N+=32}}function um(x,N){ko(x,N,4)}function Sd(x,N){ko(x,N,8)}function fm(x,N){ko(x,N,16)}function No(x,N){var M;for(M=0;16>M;++M)n(x,N+32*M,x,N-32,16)}function ru(x,N){var M;for(M=16;0<M;--M)a(x,N,x[N-1],16),N+=32}function nu(x,N,M){var G;for(G=0;16>G;++G)a(N,M+32*G,x,16)}function hl(x,N){var M,G=16;for(M=0;16>M;++M)G+=x[N-1+32*M]+x[N+M-32];nu(G>>5,x,N)}function En(x,N){var M,G=8;for(M=0;16>M;++M)G+=x[N-1+32*M];nu(G>>4,x,N)}function Ad(x,N){var M,G=8;for(M=0;16>M;++M)G+=x[N+M-32];nu(G>>4,x,N)}function Gf(x,N){nu(128,x,N)}function cr(x,N,M){return x+2*N+M+2>>2}function dl(x,N){var M,G=N-32;for(G=new Uint8Array([cr(x[G-1],x[G+0],x[G+1]),cr(x[G+0],x[G+1],x[G+2]),cr(x[G+1],x[G+2],x[G+3]),cr(x[G+2],x[G+3],x[G+4])]),M=0;4>M;++M)n(x,N+32*M,G,0,G.length)}function hm(x,N){var M=x[N-1],G=x[N-1+32],ae=x[N-1+64],se=x[N-1+96];de(x,N+0,16843009*cr(x[N-1-32],M,G)),de(x,N+32,16843009*cr(M,G,ae)),de(x,N+64,16843009*cr(G,ae,se)),de(x,N+96,16843009*cr(ae,se,se))}function Gs(x,N){var M,G=4;for(M=0;4>M;++M)G+=x[N+M-32]+x[N-1+32*M];for(G>>=3,M=0;4>M;++M)a(x,N+32*M,G,4)}function Td(x,N){var M=x[N-1+0],G=x[N-1+32],ae=x[N-1+64],se=x[N-1-32],le=x[N+0-32],ue=x[N+1-32],pe=x[N+2-32],xe=x[N+3-32];x[N+0+96]=cr(G,ae,x[N-1+96]),x[N+1+96]=x[N+0+64]=cr(M,G,ae),x[N+2+96]=x[N+1+64]=x[N+0+32]=cr(se,M,G),x[N+3+96]=x[N+2+64]=x[N+1+32]=x[N+0+0]=cr(le,se,M),x[N+3+64]=x[N+2+32]=x[N+1+0]=cr(ue,le,se),x[N+3+32]=x[N+2+0]=cr(pe,ue,le),x[N+3+0]=cr(xe,pe,ue)}function Ss(x,N){var M=x[N+1-32],G=x[N+2-32],ae=x[N+3-32],se=x[N+4-32],le=x[N+5-32],ue=x[N+6-32],pe=x[N+7-32];x[N+0+0]=cr(x[N+0-32],M,G),x[N+1+0]=x[N+0+32]=cr(M,G,ae),x[N+2+0]=x[N+1+32]=x[N+0+64]=cr(G,ae,se),x[N+3+0]=x[N+2+32]=x[N+1+64]=x[N+0+96]=cr(ae,se,le),x[N+3+32]=x[N+2+64]=x[N+1+96]=cr(se,le,ue),x[N+3+64]=x[N+2+96]=cr(le,ue,pe),x[N+3+96]=cr(ue,pe,pe)}function au(x,N){var M=x[N-1+0],G=x[N-1+32],ae=x[N-1+64],se=x[N-1-32],le=x[N+0-32],ue=x[N+1-32],pe=x[N+2-32],xe=x[N+3-32];x[N+0+0]=x[N+1+64]=se+le+1>>1,x[N+1+0]=x[N+2+64]=le+ue+1>>1,x[N+2+0]=x[N+3+64]=ue+pe+1>>1,x[N+3+0]=pe+xe+1>>1,x[N+0+96]=cr(ae,G,M),x[N+0+64]=cr(G,M,se),x[N+0+32]=x[N+1+96]=cr(M,se,le),x[N+1+32]=x[N+2+96]=cr(se,le,ue),x[N+2+32]=x[N+3+96]=cr(le,ue,pe),x[N+3+32]=cr(ue,pe,xe)}function Kf(x,N){var M=x[N+0-32],G=x[N+1-32],ae=x[N+2-32],se=x[N+3-32],le=x[N+4-32],ue=x[N+5-32],pe=x[N+6-32],xe=x[N+7-32];x[N+0+0]=M+G+1>>1,x[N+1+0]=x[N+0+64]=G+ae+1>>1,x[N+2+0]=x[N+1+64]=ae+se+1>>1,x[N+3+0]=x[N+2+64]=se+le+1>>1,x[N+0+32]=cr(M,G,ae),x[N+1+32]=x[N+0+96]=cr(G,ae,se),x[N+2+32]=x[N+1+96]=cr(ae,se,le),x[N+3+32]=x[N+2+96]=cr(se,le,ue),x[N+3+64]=cr(le,ue,pe),x[N+3+96]=cr(ue,pe,xe)}function iu(x,N){var M=x[N-1+0],G=x[N-1+32],ae=x[N-1+64],se=x[N-1+96];x[N+0+0]=M+G+1>>1,x[N+2+0]=x[N+0+32]=G+ae+1>>1,x[N+2+32]=x[N+0+64]=ae+se+1>>1,x[N+1+0]=cr(M,G,ae),x[N+3+0]=x[N+1+32]=cr(G,ae,se),x[N+3+32]=x[N+1+64]=cr(ae,se,se),x[N+3+64]=x[N+2+64]=x[N+0+96]=x[N+1+96]=x[N+2+96]=x[N+3+96]=se}function su(x,N){var M=x[N-1+0],G=x[N-1+32],ae=x[N-1+64],se=x[N-1+96],le=x[N-1-32],ue=x[N+0-32],pe=x[N+1-32],xe=x[N+2-32];x[N+0+0]=x[N+2+32]=M+le+1>>1,x[N+0+32]=x[N+2+64]=G+M+1>>1,x[N+0+64]=x[N+2+96]=ae+G+1>>1,x[N+0+96]=se+ae+1>>1,x[N+3+0]=cr(ue,pe,xe),x[N+2+0]=cr(le,ue,pe),x[N+1+0]=x[N+3+32]=cr(M,le,ue),x[N+1+32]=x[N+3+64]=cr(G,M,le),x[N+1+64]=x[N+3+96]=cr(ae,G,M),x[N+1+96]=cr(se,ae,G)}function Ed(x,N){var M;for(M=0;8>M;++M)n(x,N+32*M,x,N-32,8)}function Co(x,N){var M;for(M=0;8>M;++M)a(x,N,x[N-1],8),N+=32}function As(x,N,M){var G;for(G=0;8>G;++G)a(N,M+32*G,x,8)}function Po(x,N){var M,G=8;for(M=0;8>M;++M)G+=x[N+M-32]+x[N-1+32*M];As(G>>4,x,N)}function Yf(x,N){var M,G=4;for(M=0;8>M;++M)G+=x[N+M-32];As(G>>3,x,N)}function Zr(x,N){var M,G=4;for(M=0;8>M;++M)G+=x[N-1+32*M];As(G>>3,x,N)}function Xf(x,N){As(128,x,N)}function ou(x,N,M){var G=x[N-M],ae=x[N+0],se=3*(ae-G)+f_[1020+x[N-2*M]-x[N+M]],le=my[112+(se+4>>3)];x[N-M]=Es[255+G+my[112+(se+3>>3)]],x[N+0]=Es[255+ae-le]}function Qf(x,N,M,G){var ae=x[N+0],se=x[N+M];return Js[255+x[N-2*M]-x[N-M]]>G||Js[255+se-ae]>G}function Jf(x,N,M,G){return 4*Js[255+x[N-M]-x[N+0]]+Js[255+x[N-2*M]-x[N+M]]<=G}function Zf(x,N,M,G,ae){var se=x[N-3*M],le=x[N-2*M],ue=x[N-M],pe=x[N+0],xe=x[N+M],Ce=x[N+2*M],ze=x[N+3*M];return 4*Js[255+ue-pe]+Js[255+le-xe]>G?0:Js[255+x[N-4*M]-se]<=ae&&Js[255+se-le]<=ae&&Js[255+le-ue]<=ae&&Js[255+ze-Ce]<=ae&&Js[255+Ce-xe]<=ae&&Js[255+xe-pe]<=ae}function Ql(x,N,M,G){var ae=2*G+1;for(G=0;16>G;++G)Jf(x,N+G,M,ae)&&ou(x,N+G,M)}function Ts(x,N,M,G){var ae=2*G+1;for(G=0;16>G;++G)Jf(x,N+G*M,1,ae)&&ou(x,N+G*M,1)}function ba(x,N,M,G){var ae;for(ae=3;0<ae;--ae)Ql(x,N+=4*M,M,G)}function kd(x,N,M,G){var ae;for(ae=3;0<ae;--ae)Ts(x,N+=4,M,G)}function pl(x,N,M,G,ae,se,le,ue){for(se=2*se+1;0<ae--;){if(Zf(x,N,M,se,le))if(Qf(x,N,M,ue))ou(x,N,M);else{var pe=x,xe=N,Ce=M,ze=pe[xe-2*Ce],qe=pe[xe-Ce],Re=pe[xe+0],ct=pe[xe+Ce],Je=pe[xe+2*Ce],Pe=27*(it=f_[1020+3*(Re-qe)+f_[1020+ze-ct]])+63>>7,Ie=18*it+63>>7,it=9*it+63>>7;pe[xe-3*Ce]=Es[255+pe[xe-3*Ce]+it],pe[xe-2*Ce]=Es[255+ze+Ie],pe[xe-Ce]=Es[255+qe+Pe],pe[xe+0]=Es[255+Re-Pe],pe[xe+Ce]=Es[255+ct-Ie],pe[xe+2*Ce]=Es[255+Je-it]}N+=G}}function Ha(x,N,M,G,ae,se,le,ue){for(se=2*se+1;0<ae--;){if(Zf(x,N,M,se,le))if(Qf(x,N,M,ue))ou(x,N,M);else{var pe=x,xe=N,Ce=M,ze=pe[xe-Ce],qe=pe[xe+0],Re=pe[xe+Ce],ct=my[112+((Je=3*(qe-ze))+4>>3)],Je=my[112+(Je+3>>3)],Pe=ct+1>>1;pe[xe-2*Ce]=Es[255+pe[xe-2*Ce]+Pe],pe[xe-Ce]=Es[255+ze+Je],pe[xe+0]=Es[255+qe-ct],pe[xe+Ce]=Es[255+Re-Pe]}N+=G}}function lu(x,N,M,G,ae,se){pl(x,N,M,1,16,G,ae,se)}function Oo(x,N,M,G,ae,se){pl(x,N,1,M,16,G,ae,se)}function cu(x,N,M,G,ae,se){var le;for(le=3;0<le;--le)Ha(x,N+=4*M,M,1,16,G,ae,se)}function Jl(x,N,M,G,ae,se){var le;for(le=3;0<le;--le)Ha(x,N+=4,1,M,16,G,ae,se)}function uu(x,N,M,G,ae,se,le,ue){pl(x,N,ae,1,8,se,le,ue),pl(M,G,ae,1,8,se,le,ue)}function eh(x,N,M,G,ae,se,le,ue){pl(x,N,1,ae,8,se,le,ue),pl(M,G,1,ae,8,se,le,ue)}function fu(x,N,M,G,ae,se,le,ue){Ha(x,N+4*ae,ae,1,8,se,le,ue),Ha(M,G+4*ae,ae,1,8,se,le,ue)}function ml(x,N,M,G,ae,se,le,ue){Ha(x,N+4,1,ae,8,se,le,ue),Ha(M,G+4,1,ae,8,se,le,ue)}function Zl(){this.ba=new Xe,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new St,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ec(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function du(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new k}function Nd(){this.xb=this.a=0,this.l=new _s,this.ca=new Xe,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new du,this.ab=0,this.gc=s(4,ec),this.Oc=0}function Io(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new _s,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function gl(x,N,M,G,ae,se,le){for(x=x==null?0:x[N+0],N=0;N<le;++N)ae[se+N]=x+M[G+N]&255,x=ae[se+N]}function pu(x,N,M,G,ae,se,le){var ue;if(x==null)gl(null,null,M,G,ae,se,le);else for(ue=0;ue<le;++ue)ae[se+ue]=x[N+ue]+M[G+ue]&255}function ci(x,N,M,G,ae,se,le){if(x==null)gl(null,null,M,G,ae,se,le);else{var ue,pe=x[N+0],xe=pe,Ce=pe;for(ue=0;ue<le;++ue)xe=Ce+(pe=x[N+ue])-xe,Ce=M[G+ue]+(-256&xe?0>xe?0:255:xe)&255,xe=pe,ae[se+ue]=Ce}}function mu(x,N,M,G){var ae=N.width,se=N.o;if(t(x!=null&&N!=null),0>M||0>=G||M+G>se)return null;if(!x.Cc){if(x.ga==null){var le;if(x.ga=new Io,(le=x.ga==null)||(le=N.width*N.o,t(x.Gb.length==0),x.Gb=i(le),x.Uc=0,x.Gb==null?le=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,le=1),le=!le),!le){le=x.ga;var ue=x.Fa,pe=x.P,xe=x.qc,Ce=x.mb,ze=x.nb,qe=pe+1,Re=xe-1,ct=le.l;if(t(ue!=null&&Ce!=null&&N!=null),wu[0]=null,wu[1]=gl,wu[2]=pu,wu[3]=ci,le.ca=Ce,le.tb=ze,le.c=N.width,le.i=N.height,t(0<le.c&&0<le.i),1>=xe)N=0;else if(le.$a=ue[pe+0]>>0&3,le.Z=ue[pe+0]>>2&3,le.Lc=ue[pe+0]>>4&3,pe=ue[pe+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||pe)N=0;else if(ct.put=Zn,ct.ac=Nr,ct.bc=qa,ct.ma=le,ct.width=N.width,ct.height=N.height,ct.Da=N.Da,ct.v=N.v,ct.va=N.va,ct.j=N.j,ct.o=N.o,le.$a)e:{t(le.$a==1),N=Ke();t:for(;;){if(N==null){N=0;break e}if(t(le!=null),le.mc=N,N.c=le.c,N.i=le.i,N.l=le.l,N.l.ma=le,N.l.width=le.c,N.l.height=le.i,N.a=0,H(N.m,ue,qe,Re),!Ve(le.c,le.i,1,N,null)||(N.ab==1&&N.gc[0].hc==3&&he(N.s)?(le.ic=1,ue=N.c*N.i,N.Ta=null,N.Ua=0,N.V=i(ue),N.Ba=0,N.V==null?(N.a=1,N=0):N=1):(le.ic=0,N=Ue(N,le.c)),!N))break t;N=1;break e}le.mc=null,N=0}else N=Re>=le.c*le.i;le=!N}if(le)return null;x.ga.Lc!=1?x.Ga=0:G=se-M}t(x.ga!=null),t(M+G<=se);e:{if(N=(ue=x.ga).c,se=ue.l.o,ue.$a==0){if(qe=x.rc,Re=x.Vc,ct=x.Fa,pe=x.P+1+M*N,xe=x.mb,Ce=x.nb+M*N,t(pe<=x.P+x.qc),ue.Z!=0)for(t(wu[ue.Z]!=null),le=0;le<G;++le)wu[ue.Z](qe,Re,ct,pe,xe,Ce,N),qe=xe,Re=Ce,Ce+=N,pe+=N;else for(le=0;le<G;++le)n(xe,Ce,ct,pe,N),qe=xe,Re=Ce,Ce+=N,pe+=N;x.rc=qe,x.Vc=Re}else{if(t(ue.mc!=null),N=M+G,t((le=ue.mc)!=null),t(N<=le.i),le.C>=N)N=1;else if(ue.ic||je(),ue.ic){ue=le.V,qe=le.Ba,Re=le.c;var Je=le.i,Pe=(ct=1,pe=le.$/Re,xe=le.$%Re,Ce=le.m,ze=le.s,le.$),Ie=Re*Je,it=Re*N,pt=ze.wc,lt=Pe<it?dt(ze,xe,pe):null;t(Pe<=Ie),t(N<=Je),t(he(ze));t:for(;;){for(;!Ce.h&&Pe<it;){if(xe&pt||(lt=dt(ze,xe,pe)),t(lt!=null),Z(Ce),256>(Je=Yt(lt.G[0],lt.H[0],Ce)))ue[qe+Pe]=Je,++Pe,++xe>=Re&&(xe=0,++pe<=N&&!(pe%16)&&be(le,pe));else{if(!(280>Je)){ct=0;break t}Je=_t(Je-256,Ce);var zt,Lt=Yt(lt.G[4],lt.H[4],Ce);if(Z(Ce),!(Pe>=(Lt=kt(Re,Lt=_t(Lt,Ce)))&&Ie-Pe>=Je)){ct=0;break t}for(zt=0;zt<Je;++zt)ue[qe+Pe+zt]=ue[qe+Pe+zt-Lt];for(Pe+=Je,xe+=Je;xe>=Re;)xe-=Re,++pe<=N&&!(pe%16)&&be(le,pe);Pe<it&&xe&pt&&(lt=dt(ze,xe,pe))}t(Ce.h==q(Ce))}be(le,pe>N?N:pe);break t}!ct||Ce.h&&Pe<Ie?(ct=0,le.a=Ce.h?5:3):le.$=Pe,N=ct}else N=Se(le,le.V,le.Ba,le.c,le.i,N,He);if(!N){G=0;break e}}M+G>=se&&(x.Cc=1),G=1}if(!G)return null;if(x.Cc&&((G=x.ga)!=null&&(G.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+M*ae}function L(x,N,M,G,ae,se){for(;0<ae--;){var le,ue=x,pe=N+(M?1:0),xe=x,Ce=N+(M?0:3);for(le=0;le<G;++le){var ze=xe[Ce+4*le];ze!=255&&(ze*=32897,ue[pe+4*le+0]=ue[pe+4*le+0]*ze>>23,ue[pe+4*le+1]=ue[pe+4*le+1]*ze>>23,ue[pe+4*le+2]=ue[pe+4*le+2]*ze>>23)}N+=se}}function ne(x,N,M,G,ae){for(;0<G--;){var se;for(se=0;se<M;++se){var le=x[N+2*se+0],ue=15&(xe=x[N+2*se+1]),pe=4369*ue,xe=(240&xe|xe>>4)*pe>>16;x[N+2*se+0]=(240&le|le>>4)*pe>>16&240|(15&le|le<<4)*pe>>16>>4&15,x[N+2*se+1]=240&xe|ue}N+=ae}}function Ae(x,N,M,G,ae,se,le,ue){var pe,xe,Ce=255;for(xe=0;xe<ae;++xe){for(pe=0;pe<G;++pe){var ze=x[N+pe];se[le+4*pe]=ze,Ce&=ze}N+=M,le+=ue}return Ce!=255}function Ne(x,N,M,G,ae){var se;for(se=0;se<ae;++se)M[G+se]=x[N+se]>>8}function je(){Qs=L,bn=ne,wn=Ae,ta=Ne}function Ze(x,N,M){S[x]=function(G,ae,se,le,ue,pe,xe,Ce,ze,qe,Re,ct,Je,Pe,Ie,it,pt){var lt,zt=pt-1>>1,Lt=ue[pe+0]|xe[Ce+0]<<16,er=ze[qe+0]|Re[ct+0]<<16;t(G!=null);var $t=3*Lt+er+131074>>2;for(N(G[ae+0],255&$t,$t>>16,Je,Pe),se!=null&&($t=3*er+Lt+131074>>2,N(se[le+0],255&$t,$t>>16,Ie,it)),lt=1;lt<=zt;++lt){var Yr=ue[pe+lt]|xe[Ce+lt]<<16,nn=ze[qe+lt]|Re[ct+lt]<<16,zr=Lt+Yr+er+nn+524296,Pr=zr+2*(Yr+er)>>3;$t=Pr+Lt>>1,Lt=(zr=zr+2*(Lt+nn)>>3)+Yr>>1,N(G[ae+2*lt-1],255&$t,$t>>16,Je,Pe+(2*lt-1)*M),N(G[ae+2*lt-0],255&Lt,Lt>>16,Je,Pe+(2*lt-0)*M),se!=null&&($t=zr+er>>1,Lt=Pr+nn>>1,N(se[le+2*lt-1],255&$t,$t>>16,Ie,it+(2*lt-1)*M),N(se[le+2*lt+0],255&Lt,Lt>>16,Ie,it+(2*lt+0)*M)),Lt=Yr,er=nn}1&pt||($t=3*Lt+er+131074>>2,N(G[ae+pt-1],255&$t,$t>>16,Je,Pe+(pt-1)*M),se!=null&&($t=3*er+Lt+131074>>2,N(se[le+pt-1],255&$t,$t>>16,Ie,it+(pt-1)*M)))}}function yt(){Zs[gy]=ZK,Zs[vy]=kP,Zs[_P]=eY,Zs[yy]=NP,Zs[xy]=CP,Zs[h_]=PP,Zs[SP]=tY,Zs[d_]=kP,Zs[p_]=NP,Zs[by]=CP,Zs[m_]=PP}function Rt(x){return x&~rY?0>x?0:255:x>>OP}function _(x,N){return Rt((19077*x>>8)+(26149*N>>8)-14234)}function R(x,N,M){return Rt((19077*x>>8)-(6419*N>>8)-(13320*M>>8)+8708)}function X(x,N){return Rt((19077*x>>8)+(33050*N>>8)-17685)}function ce(x,N,M,G,ae){G[ae+0]=_(x,M),G[ae+1]=R(x,N,M),G[ae+2]=X(x,N)}function De(x,N,M,G,ae){G[ae+0]=X(x,N),G[ae+1]=R(x,N,M),G[ae+2]=_(x,M)}function We(x,N,M,G,ae){var se=R(x,N,M);N=se<<3&224|X(x,N)>>3,G[ae+0]=248&_(x,M)|se>>5,G[ae+1]=N}function xt(x,N,M,G,ae){var se=240&X(x,N)|15;G[ae+0]=240&_(x,M)|R(x,N,M)>>4,G[ae+1]=se}function mr(x,N,M,G,ae){G[ae+0]=255,ce(x,N,M,G,ae+1)}function Cr(x,N,M,G,ae){De(x,N,M,G,ae),G[ae+3]=255}function gr(x,N,M,G,ae){ce(x,N,M,G,ae),G[ae+3]=255}function en(x,N){return 0>x?0:x>N?N:x}function mn(x,N,M){S[x]=function(G,ae,se,le,ue,pe,xe,Ce,ze){for(var qe=Ce+(-2&ze)*M;Ce!=qe;)N(G[ae+0],se[le+0],ue[pe+0],xe,Ce),N(G[ae+1],se[le+0],ue[pe+0],xe,Ce+M),ae+=2,++le,++pe,Ce+=2*M;1&ze&&N(G[ae+0],se[le+0],ue[pe+0],xe,Ce)}}function Do(x,N,M){return M==0?x==0?N==0?6:5:N==0?4:0:M}function Ga(x,N,M,G,ae){switch(x>>>30){case 3:nc(N,M,G,ae,0);break;case 2:ea(N,M,G,ae);break;case 1:Mi(N,M,G,ae)}}function vl(x,N){var M,G,ae=N.M,se=N.Nb,le=x.oc,ue=x.pc+40,pe=x.oc,xe=x.pc+584,Ce=x.oc,ze=x.pc+600;for(M=0;16>M;++M)le[ue+32*M-1]=129;for(M=0;8>M;++M)pe[xe+32*M-1]=129,Ce[ze+32*M-1]=129;for(0<ae?le[ue-1-32]=pe[xe-1-32]=Ce[ze-1-32]=129:(a(le,ue-32-1,127,21),a(pe,xe-32-1,127,9),a(Ce,ze-32-1,127,9)),G=0;G<x.za;++G){var qe=N.ya[N.aa+G];if(0<G){for(M=-1;16>M;++M)n(le,ue+32*M-4,le,ue+32*M+12,4);for(M=-1;8>M;++M)n(pe,xe+32*M-4,pe,xe+32*M+4,4),n(Ce,ze+32*M-4,Ce,ze+32*M+4,4)}var Re=x.Gd,ct=x.Hd+G,Je=qe.ad,Pe=qe.Hc;if(0<ae&&(n(le,ue-32,Re[ct].y,0,16),n(pe,xe-32,Re[ct].f,0,8),n(Ce,ze-32,Re[ct].ea,0,8)),qe.Za){var Ie=le,it=ue-32+16;for(0<ae&&(G>=x.za-1?a(Ie,it,Re[ct].y[15],4):n(Ie,it,Re[ct+1].y,0,4)),M=0;4>M;M++)Ie[it+128+M]=Ie[it+256+M]=Ie[it+384+M]=Ie[it+0+M];for(M=0;16>M;++M,Pe<<=2)Ie=le,it=ue+DP[M],jo[qe.Ob[M]](Ie,it),Ga(Pe,Je,16*+M,Ie,it)}else if(Ie=Do(G,ae,qe.Ob[0]),bu[Ie](le,ue),Pe!=0)for(M=0;16>M;++M,Pe<<=2)Ga(Pe,Je,16*+M,le,ue+DP[M]);for(M=qe.Gc,Ie=Do(G,ae,qe.Dd),ic[Ie](pe,xe),ic[Ie](Ce,ze),Pe=Je,Ie=pe,it=xe,255&(qe=M>>0)&&(170&qe?vm(Pe,256,Ie,it):Ys(Pe,256,Ie,it)),qe=Ce,Pe=ze,255&(M>>=8)&&(170&M?vm(Je,320,qe,Pe):Ys(Je,320,qe,Pe)),ae<x.Ub-1&&(n(Re[ct].y,0,le,ue+480,16),n(Re[ct].f,0,pe,xe+224,8),n(Re[ct].ea,0,Ce,ze+224,8)),M=8*se*x.B,Re=x.sa,ct=x.ta+16*G+16*se*x.R,Je=x.qa,qe=x.ra+8*G+M,Pe=x.Ha,Ie=x.Ia+8*G+M,M=0;16>M;++M)n(Re,ct+M*x.R,le,ue+32*M,16);for(M=0;8>M;++M)n(Je,qe+M*x.B,pe,xe+32*M,8),n(Pe,Ie+M*x.B,Ce,ze+32*M,8)}}function yl(x,N,M,G,ae,se,le,ue,pe){var xe=[0],Ce=[0],ze=0,qe=pe!=null?pe.kd:0,Re=pe??new hu;if(x==null||12>M)return 7;Re.data=x,Re.w=N,Re.ha=M,N=[N],M=[M],Re.gb=[Re.gb];e:{var ct=N,Je=M,Pe=Re.gb;if(t(x!=null),t(Je!=null),t(Pe!=null),Pe[0]=0,12<=Je[0]&&!r(x,ct[0],"RIFF")){if(r(x,ct[0]+8,"WEBP")){Pe=3;break e}var Ie=Te(x,ct[0]+4);if(12>Ie||4294967286<Ie){Pe=3;break e}if(qe&&Ie>Je[0]-8){Pe=7;break e}Pe[0]=Ie,ct[0]+=12,Je[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Ie=0<Re.gb[0],M=M[0];;){e:{var it=x;Je=N,Pe=M;var pt=xe,lt=Ce,zt=ct=[0];if(($t=ze=[ze])[0]=0,8>Pe[0])Pe=7;else{if(!r(it,Je[0],"VP8X")){if(Te(it,Je[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var Lt=Te(it,Je[0]+8),er=1+B(it,Je[0]+12);if(2147483648<=er*(it=1+B(it,Je[0]+15))){Pe=3;break e}zt!=null&&(zt[0]=Lt),pt!=null&&(pt[0]=er),lt!=null&&(lt[0]=it),Je[0]+=18,Pe[0]-=18,$t[0]=1}Pe=0}}if(ze=ze[0],ct=ct[0],Pe!=0)return Pe;if(Je=!!(2&ct),!Ie&&ze)return 3;if(se!=null&&(se[0]=!!(16&ct)),le!=null&&(le[0]=Je),ue!=null&&(ue[0]=0),le=xe[0],ct=Ce[0],ze&&Je&&pe==null){Pe=0;break}if(4>M){Pe=7;break}if(Ie&&ze||!Ie&&!ze&&!r(x,N[0],"ALPH")){M=[M],Re.na=[Re.na],Re.P=[Re.P],Re.Sa=[Re.Sa];e:{Lt=x,Pe=N,Ie=M;var $t=Re.gb;pt=Re.na,lt=Re.P,zt=Re.Sa,er=22,t(Lt!=null),t(Ie!=null),it=Pe[0];var Yr=Ie[0];for(t(pt!=null),t(zt!=null),pt[0]=null,lt[0]=null,zt[0]=0;;){if(Pe[0]=it,Ie[0]=Yr,8>Yr){Pe=7;break e}var nn=Te(Lt,it+4);if(4294967286<nn){Pe=3;break e}var zr=8+nn+1&-2;if(er+=zr,0<$t&&er>$t){Pe=3;break e}if(!r(Lt,it,"VP8 ")||!r(Lt,it,"VP8L")){Pe=0;break e}if(Yr[0]<zr){Pe=7;break e}r(Lt,it,"ALPH")||(pt[0]=Lt,lt[0]=it+8,zt[0]=nn),it+=zr,Yr-=zr}}if(M=M[0],Re.na=Re.na[0],Re.P=Re.P[0],Re.Sa=Re.Sa[0],Pe!=0)break}M=[M],Re.Ja=[Re.Ja],Re.xa=[Re.xa];e:if($t=x,Pe=N,Ie=M,pt=Re.gb[0],lt=Re.Ja,zt=Re.xa,Lt=Pe[0],it=!r($t,Lt,"VP8 "),er=!r($t,Lt,"VP8L"),t($t!=null),t(Ie!=null),t(lt!=null),t(zt!=null),8>Ie[0])Pe=7;else{if(it||er){if($t=Te($t,Lt+4),12<=pt&&$t>pt-12){Pe=3;break e}if(qe&&$t>Ie[0]-8){Pe=7;break e}lt[0]=$t,Pe[0]+=8,Ie[0]-=8,zt[0]=er}else zt[0]=5<=Ie[0]&&$t[Lt+0]==47&&!($t[Lt+4]>>5),lt[0]=Ie[0];Pe=0}if(M=M[0],Re.Ja=Re.Ja[0],Re.xa=Re.xa[0],N=N[0],Pe!=0)break;if(4294967286<Re.Ja)return 3;if(ue==null||Je||(ue[0]=Re.xa?2:1),le=[le],ct=[ct],Re.xa){if(5>M){Pe=7;break}ue=le,qe=ct,Je=se,x==null||5>M?x=0:5<=M&&x[N+0]==47&&!(x[N+4]>>5)?(Ie=[0],$t=[0],pt=[0],H(lt=new C,x,N,M),we(lt,Ie,$t,pt)?(ue!=null&&(ue[0]=Ie[0]),qe!=null&&(qe[0]=$t[0]),Je!=null&&(Je[0]=pt[0]),x=1):x=0):x=0}else{if(10>M){Pe=7;break}ue=ct,x==null||10>M||!zf(x,N+3,M-3)?x=0:(qe=x[N+0]|x[N+1]<<8|x[N+2]<<16,Je=16383&(x[N+7]<<8|x[N+6]),x=16383&(x[N+9]<<8|x[N+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Re.Ja||!Je||!x?x=0:(le&&(le[0]=Je),ue&&(ue[0]=x),x=1))}if(!x||(le=le[0],ct=ct[0],ze&&(xe[0]!=le||Ce[0]!=ct)))return 3;pe!=null&&(pe[0]=Re,pe.offset=N-pe.w,t(4294967286>N-pe.w),t(pe.offset==pe.ha-M));break}return Pe==0||Pe==7&&ze&&pe==null?(se!=null&&(se[0]|=Re.na!=null&&0<Re.na.length),G!=null&&(G[0]=le),ae!=null&&(ae[0]=ct),0):Pe}function dm(x,N,M){var G=N.width,ae=N.height,se=0,le=0,ue=G,pe=ae;if(N.Da=x!=null&&0<x.Da,N.Da&&(ue=x.cd,pe=x.bd,se=x.v,le=x.j,11>M||(se&=-2,le&=-2),0>se||0>le||0>=ue||0>=pe||se+ue>G||le+pe>ae))return 0;if(N.v=se,N.j=le,N.va=se+ue,N.o=le+pe,N.U=ue,N.T=pe,N.da=x!=null&&0<x.da,N.da){if(!ke(ue,pe,M=[x.ib],se=[x.hb]))return 0;N.ib=M[0],N.hb=se[0]}return N.ob=x!=null&&x.ob,N.Kb=x==null||!x.Sd,N.da&&(N.ob=N.ib<3*G/4&&N.hb<3*ae/4,N.Kb=0),1}function pm(x){if(x==null)return 2;if(11>x.S){var N=x.f.RGBA;N.fb+=(x.height-1)*N.A,N.A=-N.A}else N=x.f.kb,x=x.height,N.O+=(x-1)*N.fa,N.fa=-N.fa,N.N+=(x-1>>1)*N.Ab,N.Ab=-N.Ab,N.W+=(x-1>>1)*N.Db,N.Db=-N.Db,N.F!=null&&(N.J+=(x-1)*N.lb,N.lb=-N.lb);return 0}function Cd(x,N,M,G){if(G==null||0>=x||0>=N)return 2;if(M!=null){if(M.Da){var ae=M.cd,se=M.bd,le=-2&M.v,ue=-2&M.j;if(0>le||0>ue||0>=ae||0>=se||le+ae>x||ue+se>N)return 2;x=ae,N=se}if(M.da){if(!ke(x,N,ae=[M.ib],se=[M.hb]))return 2;x=ae[0],N=se[0]}}G.width=x,G.height=N;e:{var pe=G.width,xe=G.height;if(x=G.S,0>=pe||0>=xe||!(x>=gy&&13>x))x=2;else{if(0>=G.Rd&&G.sd==null){le=se=ae=N=0;var Ce=(ue=pe*jP[x])*xe;if(11>x||(se=(xe+1)/2*(N=(pe+1)/2),x==12&&(le=(ae=pe)*xe)),(xe=i(Ce+2*se+le))==null){x=1;break e}G.sd=xe,11>x?((pe=G.f.RGBA).eb=xe,pe.fb=0,pe.A=ue,pe.size=Ce):((pe=G.f.kb).y=xe,pe.O=0,pe.fa=ue,pe.Fd=Ce,pe.f=xe,pe.N=0+Ce,pe.Ab=N,pe.Cd=se,pe.ea=xe,pe.W=0+Ce+se,pe.Db=N,pe.Ed=se,x==12&&(pe.F=xe,pe.J=0+Ce+2*se),pe.Tc=le,pe.lb=ae)}if(N=1,ae=G.S,se=G.width,le=G.height,ae>=gy&&13>ae)if(11>ae)x=G.f.RGBA,N&=(ue=Math.abs(x.A))*(le-1)+se<=x.size,N&=ue>=se*jP[ae],N&=x.eb!=null;else{x=G.f.kb,ue=(se+1)/2,Ce=(le+1)/2,pe=Math.abs(x.fa),xe=Math.abs(x.Ab);var ze=Math.abs(x.Db),qe=Math.abs(x.lb),Re=qe*(le-1)+se;N&=pe*(le-1)+se<=x.Fd,N&=xe*(Ce-1)+ue<=x.Cd,N=(N&=ze*(Ce-1)+ue<=x.Ed)&pe>=se&xe>=ue&ze>=ue,N&=x.y!=null,N&=x.f!=null,N&=x.ea!=null,ae==12&&(N&=qe>=se,N&=Re<=x.Tc,N&=x.F!=null)}else N=0;x=N?0:2}}return x!=0||M!=null&&M.fd&&(x=pm(G)),x}var Ka=64,Pd=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Od=24,Id=32,mm=8,rs=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Qe("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(x){return x},S.Predictor2=function(x,N,M){return N[M+0]},S.Predictor3=function(x,N,M){return N[M+1]},S.Predictor4=function(x,N,M){return N[M-1]},S.Predictor5=function(x,N,M){return Ge(Ge(x,N[M+1]),N[M+0])},S.Predictor6=function(x,N,M){return Ge(x,N[M-1])},S.Predictor7=function(x,N,M){return Ge(x,N[M+0])},S.Predictor8=function(x,N,M){return Ge(N[M-1],N[M+0])},S.Predictor9=function(x,N,M){return Ge(N[M+0],N[M+1])},S.Predictor10=function(x,N,M){return Ge(Ge(x,N[M-1]),Ge(N[M+0],N[M+1]))},S.Predictor11=function(x,N,M){var G=N[M+0];return 0>=mt(G>>24&255,x>>24&255,(N=N[M-1])>>24&255)+mt(G>>16&255,x>>16&255,N>>16&255)+mt(G>>8&255,x>>8&255,N>>8&255)+mt(255&G,255&x,255&N)?G:x},S.Predictor12=function(x,N,M){var G=N[M+0];return(Me((x>>24&255)+(G>>24&255)-((N=N[M-1])>>24&255))<<24|Me((x>>16&255)+(G>>16&255)-(N>>16&255))<<16|Me((x>>8&255)+(G>>8&255)-(N>>8&255))<<8|Me((255&x)+(255&G)-(255&N)))>>>0},S.Predictor13=function(x,N,M){var G=N[M-1];return(Ye((x=Ge(x,N[M+0]))>>24&255,G>>24&255)<<24|Ye(x>>16&255,G>>16&255)<<16|Ye(x>>8&255,G>>8&255)<<8|Ye(x>>0&255,G>>0&255))>>>0};var u_=S.PredictorAdd0;S.PredictorAdd1=at,Qe("Predictor2","PredictorAdd2"),Qe("Predictor3","PredictorAdd3"),Qe("Predictor4","PredictorAdd4"),Qe("Predictor5","PredictorAdd5"),Qe("Predictor6","PredictorAdd6"),Qe("Predictor7","PredictorAdd7"),Qe("Predictor8","PredictorAdd8"),Qe("Predictor9","PredictorAdd9"),Qe("Predictor10","PredictorAdd10"),Qe("Predictor11","PredictorAdd11"),Qe("Predictor12","PredictorAdd12"),Qe("Predictor13","PredictorAdd13");var gm=S.PredictorAdd2;ft("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),ft("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var uy,Ks=S.ColorIndexInverseTransform,Dd=S.MapARGB,fy=S.VP8LColorIndexInverseTransformAlpha,hy=S.MapAlpha,gu=S.VP8LPredictorsAdd=[];gu.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var th,ns,Li,vu,tc,rc,jd,nc,ea,vm,Mi,Ys,Ld,dy,ym,rh,nh,yu,ah,Md,ih,xu,xm,Xs,Qs,bn,wn,ta,wa=i(511),ac=i(2041),bm=i(225),Rd=i(767),py=0,f_=ac,my=bm,Es=Rd,Js=wa,gy=0,vy=1,_P=2,yy=3,xy=4,h_=5,SP=6,d_=7,p_=8,by=9,m_=10,$K=[2,3,7],BK=[3,3,11],AP=[280,256,256,256,40],VK=[0,1,1,1,0],UK=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],zK=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],qK=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],WK=8,g_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],v_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],wm=null,HK=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],GK=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],TP=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],KK=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],YK=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],XK=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],QK=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],bu=[],jo=[],ic=[],JK=1,EP=2,wu=[],Zs=[];Ze("UpsampleRgbLinePair",ce,3),Ze("UpsampleBgrLinePair",De,3),Ze("UpsampleRgbaLinePair",gr,4),Ze("UpsampleBgraLinePair",Cr,4),Ze("UpsampleArgbLinePair",mr,4),Ze("UpsampleRgba4444LinePair",xt,2),Ze("UpsampleRgb565LinePair",We,2);var ZK=S.UpsampleRgbLinePair,eY=S.UpsampleBgrLinePair,kP=S.UpsampleRgbaLinePair,NP=S.UpsampleBgraLinePair,CP=S.UpsampleArgbLinePair,PP=S.UpsampleRgba4444LinePair,tY=S.UpsampleRgb565LinePair,wy=16,_y=1<<wy-1,_m=-227,y_=482,OP=6,rY=(256<<OP)-1,IP=0,nY=i(256),aY=i(256),iY=i(256),sY=i(256),oY=i(y_-_m),lY=i(y_-_m);mn("YuvToRgbRow",ce,3),mn("YuvToBgrRow",De,3),mn("YuvToRgbaRow",gr,4),mn("YuvToBgraRow",Cr,4),mn("YuvToArgbRow",mr,4),mn("YuvToRgba4444Row",xt,2),mn("YuvToRgb565Row",We,2);var DP=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sy=[0,2,8],cY=[8,7,6,4,4,2,2,2,1,1,1,1],uY=1;this.WebPDecodeRGBA=function(x,N,M,G,ae){var se=vy,le=new Zl,ue=new Xe;le.ba=ue,ue.S=se,ue.width=[ue.width],ue.height=[ue.height];var pe=ue.width,xe=ue.height,Ce=new nt;if(Ce==null||x==null)var ze=2;else t(Ce!=null),ze=yl(x,N,M,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(ze!=0?pe=0:(pe!=null&&(pe[0]=Ce.width[0]),xe!=null&&(xe[0]=Ce.height[0]),pe=1),pe){ue.width=ue.width[0],ue.height=ue.height[0],G!=null&&(G[0]=ue.width),ae!=null&&(ae[0]=ue.height);e:{if(G=new _s,(ae=new hu).data=x,ae.w=N,ae.ha=M,ae.kd=1,N=[0],t(ae!=null),((x=yl(ae.data,ae.w,ae.ha,null,null,null,N,null,ae))==0||x==7)&&N[0]&&(x=4),(N=x)==0){if(t(le!=null),G.data=ae.data,G.w=ae.w+ae.offset,G.ha=ae.ha-ae.offset,G.put=Zn,G.ac=Nr,G.bc=qa,G.ma=le,ae.xa){if((x=Ke())==null){le=1;break e}if(function(qe,Re){var ct=[0],Je=[0],Pe=[0];t:for(;;){if(qe==null)return 0;if(Re==null)return qe.a=2,0;if(qe.l=Re,qe.a=0,H(qe.m,Re.data,Re.w,Re.ha),!we(qe.m,ct,Je,Pe)){qe.a=3;break t}if(qe.xb=EP,Re.width=ct[0],Re.height=Je[0],!Ve(ct[0],Je[0],1,qe,null))break t;return 1}return t(qe.a!=0),0}(x,G)){if(G=(N=Cd(G.width,G.height,le.Oa,le.ba))==0){t:{G=x;r:for(;;){if(G==null){G=0;break t}if(t(G.s.yc!=null),t(G.s.Ya!=null),t(0<G.s.Wb),t((M=G.l)!=null),t((ae=M.ma)!=null),G.xb!=0){if(G.ca=ae.ba,G.tb=ae.tb,t(G.ca!=null),!dm(ae.Oa,M,yy)){G.a=2;break r}if(!Ue(G,M.width)||M.da)break r;if((M.da||Bt(G.ca.S))&&je(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&je()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!ge(G.s.vb,G.s.Wa.Xa)){G.a=1;break r}G.xb=0}if(!Se(G,G.V,G.Ba,G.c,G.i,M.o,ye))break r;ae.Dc=G.Ma,G=1;break t}t(G.a!=0),G=0}G=!G}G&&(N=x.a)}else N=x.a}else{if((x=new Wa)==null){le=1;break e}if(x.Fa=ae.na,x.P=ae.P,x.qc=ae.Sa,qf(x,G)){if((N=Cd(G.width,G.height,le.Oa,le.ba))==0){if(x.Aa=0,M=le.Oa,t((ae=x)!=null),M!=null){if(0<(pe=0>(pe=M.Md)?0:100<pe?255:255*pe/100)){for(xe=Ce=0;4>xe;++xe)12>(ze=ae.pb[xe]).lc&&(ze.ia=pe*cY[0>ze.lc?0:ze.lc]>>3),Ce|=ze.ia;Ce&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=M.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}_d(x,G)||(N=x.a)}}else N=x.a}N==0&&le.Oa!=null&&le.Oa.fd&&(N=pm(le.ba))}le=N}se=le!=0?null:11>se?ue.f.RGBA.eb:ue.f.kb.y}else se=null;return se};var jP=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(S,A){for(var D="",T=0;T<4;T++)D+=String.fromCharCode(S[A++]);return D}function u(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16)>>>0}function f(S,A){return(S[A+0]<<0|S[A+1]<<8|S[A+2]<<16|S[A+3]<<24)>>>0}new l;var h=[0],d=[0],g=[],m=new l,v=e,y=function(S,A){var D={},T=0,k=!1,j=0,V=0;if(D.frames=[],!function(F,q,K,Z){for(var oe=0;oe<Z;oe++)if(F[q+oe]!=K.charCodeAt(oe))return!0;return!1}(S,A,"RIFF",4)){for(f(S,A+=4),A+=8;A<S.length;){var Q=c(S,A),Y=f(S,A+=4);A+=4;var J=Y+(1&Y);switch(Q){case"VP8 ":case"VP8L":D.frames[T]===void 0&&(D.frames[T]={}),(re=D.frames[T]).src_off=k?V:A-8,re.src_size=j+Y+8,T++,k&&(k=!1,j=0,V=0);break;case"VP8X":(re=D.header={}).feature_flags=S[A];var H=A+4;re.canvas_width=1+u(S,H),H+=3,re.canvas_height=1+u(S,H),H+=3;break;case"ALPH":k=!0,j=J+8,V=A-8;break;case"ANIM":(re=D.header).bgcolor=f(S,A),H=A+4,re.loop_count=(z=S)[(C=H)+0]<<0|z[C+1]<<8,H+=2;break;case"ANMF":var U,re;(re=D.frames[T]={}).offset_x=2*u(S,A),A+=3,re.offset_y=2*u(S,A),A+=3,re.width=1+u(S,A),A+=3,re.height=1+u(S,A),A+=3,re.duration=u(S,A),A+=3,U=S[A++],re.dispose=1&U,re.blend=U>>1&1}Q!="ANMF"&&(A+=J)}var z,C;return D}}(v,0);y.response=v,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,w=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,h=[b.canvas_height],d=[b.canvas_width];for(var O=0;O<w.length&&w[O].blend!=0;O++);}var P=w[0],I=m.WebPDecodeRGBA(v,P.src_off,P.src_size,d,h);P.rgba=I,P.imgwidth=d[0],P.imgheight=h[0];for(var E=0;E<d[0]*h[0]*4;E++)g[E]=I[E];return this.width=d,this.height=h,this.data=g,this}(function(e){var t=function(){return typeof LT=="function"},r=function(h,d,g,m){var v=4,y=s;switch(m){case e.image_compression.FAST:v=1,y=i;break;case e.image_compression.MEDIUM:v=6,y=o;break;case e.image_compression.SLOW:v=9,y=l}h=n(h,d,g,y);var b=LT(h,{level:v});return e.__addimage__.arrayBufferToBinaryString(b)},n=function(h,d,g,m){for(var v,y,b,w=h.length/d,O=new Uint8Array(h.length+w),P=u(),I=0;I<w;I+=1){if(b=I*d,v=h.subarray(b,b+d),m)O.set(m(v,g,y),b+I);else{for(var E,S=P.length,A=[];E<S;E+=1)A[E]=P[E](v,g,y);var D=f(A.concat());O.set(A[D],b+I)}y=v}return O},a=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var g,m=[],v=h.length;m[0]=1;for(var y=0;y<v;y+=1)g=h[y-d]||0,m[y+1]=h[y]-g+256&255;return m},s=function(h,d,g){var m,v=[],y=h.length;v[0]=2;for(var b=0;b<y;b+=1)m=g&&g[b]||0,v[b+1]=h[b]-m+256&255;return v},o=function(h,d,g){var m,v,y=[],b=h.length;y[0]=3;for(var w=0;w<b;w+=1)m=h[w-d]||0,v=g&&g[w]||0,y[w+1]=h[w]+256-(m+v>>>1)&255;return y},l=function(h,d,g){var m,v,y,b,w=[],O=h.length;w[0]=4;for(var P=0;P<O;P+=1)m=h[P-d]||0,v=g&&g[P]||0,y=g&&g[P-d]||0,b=c(m,v,y),w[P+1]=h[P]-b+256&255;return w},c=function(h,d,g){if(h===d&&d===g)return h;var m=Math.abs(d-g),v=Math.abs(h-g),y=Math.abs(h+d-g-g);return m<=v&&m<=y?h:v<=y?d:g},u=function(){return[a,i,s,o,l]},f=function(h){var d=h.map(function(g){return g.reduce(function(m,v){return m+Math.abs(v)},0)});return d.indexOf(Math.min.apply(null,d))};e.processPNG=function(h,d,g,m){var v,y,b,w,O,P,I,E,S,A,D,T,k,j,V,Q=this.decode.FLATE_DECODE,Y="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(b=new kxe(h)).imgData,y=b.bits,v=b.colorSpace,O=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){S=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*b.colors),A=new Uint8Array(S);var J,H=b.pixelBitlength-b.bits;for(j=0,V=0;j<S;j++){for(k=E[j],J=0;J<H;)D[V++]=k>>>J&255,J+=b.bits;A[j]=k>>>J&255}}if(b.bits===16){S=(E=new Uint32Array(b.decodePixels().buffer)).length,D=new Uint8Array(S*(32/b.pixelBitlength)*b.colors),A=new Uint8Array(S*(32/b.pixelBitlength)),T=b.colors>1,j=0,V=0;for(var U=0;j<S;)k=E[j++],D[V++]=k>>>0&255,T&&(D[V++]=k>>>16&255,k=E[j++],D[V++]=k>>>0&255),A[U++]=k>>>16&255;y=8}m!==e.image_compression.NONE&&t()?(h=r(D,b.width*b.colors,b.colors,m),I=r(A,b.width,1,m)):(h=D,I=A,Q=void 0)}if(b.colorType===3&&(v=this.color_spaces.INDEXED,P=b.palette,b.transparency.indexed)){var re=b.transparency.indexed,z=0;for(j=0,S=re.length;j<S;++j)z+=re[j];if((z/=255)===S-1&&re.indexOf(0)!==-1)w=[re.indexOf(0)];else if(z!==S){for(E=b.decodePixels(),A=new Uint8Array(E.length),j=0,S=E.length;j<S;j++)A[j]=re[E[j]];I=r(A,b.width,1)}}var C=function(F){var q;switch(F){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(m);return Q===this.decode.FLATE_DECODE&&(Y="/Predictor "+C+" "),Y+="/Colors "+O+" /BitsPerComponent "+y+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(I&&this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),{alias:g,data:h,index:d,filter:Q,decodeParameters:Y,transparency:w,palette:P,sMask:I,predictor:C,width:b.width,height:b.height,bitsPerComponent:y,colorSpace:v}}}})(ar.API),function(e){e.processGIF89A=function(t,r,n,a){var i=new Nxe(t),s=i.width,o=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:s,height:o},u=new KS(100).encode(c,100);return e.processJPEG.call(this,u,r,n,a)},e.processGIF87A=e.processGIF89A}(ar.API),Bo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Bo.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(r){vn.log("bit decode error:"+r)}},Bo.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,o=0;o<8&&8*a+o<this.width;o++){var l=this.palette[i>>7-o&1];this.data[s+4*o]=l.blue,this.data[s+4*o+1]=l.green,this.data[s+4*o+2]=l.red,this.data[s+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Bo.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,o=i>>4,l=15&i,c=this.palette[o];if(this.data[s]=c.blue,this.data[s+1]=c.green,this.data[s+2]=c.red,this.data[s+3]=255,2*a+1>=this.width)break;c=this.palette[l],this.data[s+4]=c.blue,this.data[s+4+1]=c.green,this.data[s+4+2]=c.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Bo.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Bo.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,o=(i>>5&t)/t*255|0,l=(i>>10&t)/t*255|0,c=i>>15?255:0,u=n*this.width*4+4*a;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=s,this.data[u+3]=c}this.pos+=e}},Bo.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,l=(s>>5&r)/r*255|0,c=(s>>11)/t*255|0,u=a*this.width*4+4*i;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},Bo.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Bo.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;this.data[o]=i,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=s}},Bo.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Bo(t,!1),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new KS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(ar.API),Ej.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new Ej(t),s=i.width,o=i.height,l={data:i.getData(),width:s,height:o},c=new KS(100).encode(l,100);return e.processJPEG.call(this,c,r,n,a)}}(ar.API),ar.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),o=0,l=0,c=0;c<a;c+=4){var u=n[c],f=n[c+1],h=n[c+2],d=n[c+3];i[o++]=u,i[o++]=f,i[o++]=h,s[l++]=d}var g=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:g,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ar.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Hd=ar.API,_x=Hd.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:a.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,h=0,d=e.length,g=0,m=o[0]||l,v=[];for(r=0;r<d;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?v.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&Xr(c[n])==="object"&&!isNaN(parseInt(c[n][g],10))?c[n][g]/u:0,v.push((o[n]||m)/l+h)),g=n;return v},_j=Hd.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return Hd.processArabic&&(e=Hd.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:_x.apply(this,arguments).reduce(function(i,s){return i+s},0)},Sj=function(e,t,r,n){for(var a=[],i=0,s=e.length,o=0;i!==s&&o+t[i]<r;)o+=t[i],i++;a.push(e.slice(0,i));var l=i;for(o=0;i!==s;)o+t[i]>n&&(a.push(e.slice(l,i)),o=0,l=i),o+=t[i],i++;return l!==i&&a.push(e.slice(l,i)),a},Aj=function(e,t,r){r||(r={});var n,a,i,s,o,l,c,u=[],f=[u],h=r.textIndent||0,d=0,g=0,m=e.split(" "),v=_x.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?m[0].length+2:r.lineIndent||0){var y=Array(l).join(" "),b=[];m.map(function(O){(O=O.split(/\s*\n/)).length>1?b=b.concat(O.map(function(P,I){return(I&&P.length?`
`:"")+P})):b.push(O[0])}),m=b,l=_j.apply(this,[y,r])}for(i=0,s=m.length;i<s;i++){var w=0;if(n=m[i],l&&n[0]==`
`&&(n=n.substr(1),w=1),h+d+(g=(a=_x.apply(this,[n,r])).reduce(function(O,P){return O+P},0))>t||w){if(g>t){for(o=Sj.apply(this,[n,a,t-(h+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);g=a.slice(n.length-(u[0]?u[0].length:0)).reduce(function(O,P){return O+P},0)}else u=[n];f.push(u),h=g+l,d=v}else u.push(n),h+=d+g,d=v}return c=l?function(O,P){return(P?y:"")+O.join(" ")}:function(O){return O.join(" ")},f.map(c)},Hd.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var o,l,c=[];for(o=0,l=n.length;o<l;o++)c=c.concat(Aj.apply(this,[n[o],s,i]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",r={},n={},a=0;a<t.length;a++)r[t[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=t[a];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=e.__fontmetrics__.compress=function(f){var h,d,g,m,v=["{"];for(var y in f){if(h=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=i(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(g=i(h).slice(3),m="-"):(g=i(h).slice(2),m=""),g=m+g.slice(0,-1)+n[g.slice(-1)];else{if(Xr(h)!=="object")throw new Error("Don't know what to do with value type "+Xr(h)+".");g=s(h)}v.push(d+g)}return v.push("}"),v.join("")},o=e.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,g,m,v={},y=1,b=v,w=[],O="",P="",I=f.length-1,E=1;E<I;E+=1)(m=f[E])=="'"?h?(g=h.join(""),h=void 0):h=[]:h?h.push(m):m=="{"?(w.push([b,g]),b={},g=void 0):m=="}"?((d=w.pop())[0][d[1]]=b,g=void 0,b=d[0]):m=="-"?y=-1:g===void 0?r.hasOwnProperty(m)?(O+=r[m],g=parseInt(O,16)*y,y=1,O=""):O+=m:r.hasOwnProperty(m)?(P+=r[m],b[g]=parseInt(P,16)*y,y=1,g=void 0,P=""):P+=m;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(f){var h=f.font,d=u.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var g=c.Unicode[h.postScriptName];g&&(h.metadata.Unicode.encoding=g,h.encoding=g.codePages[0])}])}(ar.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Ug(o)),s.metadata=e.API.TTFFont.open(o),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(ar),function(e){function t(){return(ir.canvg?Promise.resolve(ir.canvg):PT(()=>import("./index.es-Cp0L2hC_.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}ar.API.addSvgAsImage=function(r,n,a,i,s,o,l,c){if(isNaN(n)||isNaN(a))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=i,u.height=s;var f=u.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(g){return g.fromString(f,r,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(h)}).then(function(){d.addImage(u.toDataURL("image/jpeg",1),n,a,i,s,l,c)})}}(),ar.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},ar.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(s),l=[],c=0,u=0,f=0;function h(g,m){var v,y=!1;for(v=0;v<g.length;v+=1)g[v]===m&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)r[o[f]].value=r[o[f]].defaultValue,r[o[f]].explicitSet=!1}if(Xr(e)==="object"){for(a in e)if(i=e[a],h(o,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&h(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(u=0;u<i[c].length;u+=1)typeof i[c][u]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[a].value="["+l.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var g,m=[];for(g in r)r[g].explicitSet===!0&&(r[g].type==="name"?m.push("/"+g+" /"+r[g].value):m.push("/"+g+" "+r[g].value));m.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+m.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(e){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+s.length+o.length+a.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",t)),this}}(ar.API),function(e){var t=e.API,r=t.pdfEscape16=function(i,s){for(var o,l=s.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,h=i.length;f<h;++f){if(o=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(o),s.metadata.toUnicode[o]=i.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(s.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},n=function(i){var s,o,l,c,u,f,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,h=(o=Object.keys(i).sort(function(d,g){return d-g})).length;f<h;f++)s=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(c=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),l.push("<"+s+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,h=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",g=0;g<h.length;g++)d+=String.fromCharCode(h[g]);var m=c();u({data:d,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var y=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+r0(o.fontName)),l("/FontFile2 "+m+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var b=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+r0(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+r0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+b+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var o=s.font,l=s.out,c=s.newObject,u=s.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var g=c();u({data:h,addLength1:!0,objectId:g}),l("endobj");var m=c();u({data:n(o.metadata.toUnicode),addLength1:!0,objectId:m}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+g+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+r0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+m+" 0 R/BaseFont/"+r0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,o=i.text||"",l=i.x,c=i.y,u=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,g=f.fonts,m=d,v="",y=0,b="",w=g[m].encoding;if(g[m].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(b=o,m=d,Array.isArray(o)&&(b=o[0]),y=0;y<b.length;y+=1)g[m].metadata.hasOwnProperty("cmap")&&(s=g[m].metadata.cmap.unicode.codeMap[b[y].charCodeAt(0)]),s||b[y].charCodeAt(0)<256&&g[m].metadata.hasOwnProperty("Unicode")?v+=b[y]:v+="";var O="";return parseInt(m.slice(1))<14||w==="WinAnsiEncoding"?O=h(v,m).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(O=r(v,g[m])),f.isHex=!0,{text:O,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",o=[],l={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var c=0;for(c=0;c<s.length;c+=1)Array.isArray(s[c])&&s[c].length===3?o.push([a(Object.assign({},l,{text:s[c][0]})).text,s[c][1],s[c][2]]):o.push(a(Object.assign({},l,{text:s[c]})).text);i.text=o}else i.text=a(Object.assign({},l,{text:s})).text}])}(ar),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(ar.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,s,o,l,c,u,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],g={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},m={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,w=0;this.__bidiEngine__={};var O=function(T){var k=T.charCodeAt(),j=k>>8,V=m[j];return V!==void 0?f[256*V+(255&k)]:j===252||j===253?"AL":y.test(j)?"L":j===8?"R":"N"},P=function(T){for(var k,j=0;j<T.length;j++){if((k=O(T.charAt(j)))==="L")return!1;if(k==="R")return!0}return!1},I=function(T,k,j,V){var Q,Y,J,H,U=k[V];switch(U){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(U="AN");break;case"AL":b=!0,U="R";break;case"WS":U="N";break;case"CS":V<1||V+1>=k.length||(Q=j[V-1])!=="EN"&&Q!=="AN"||(Y=k[V+1])!=="EN"&&Y!=="AN"?U="N":b&&(Y="AN"),U=Y===Q?Y:"N";break;case"ES":U=(Q=V>0?j[V-1]:"B")==="EN"&&V+1<k.length&&k[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&j[V-1]==="EN"){U="EN";break}if(b){U="N";break}for(J=V+1,H=k.length;J<H&&k[J]==="ET";)J++;U=J<H&&k[J]==="EN"?"EN":"N";break;case"NSM":if(s&&!o){for(H=k.length,J=V+1;J<H&&k[J]==="NSM";)J++;if(J<H){var re=T[V],z=re>=1425&&re<=2303||re===64286;if(Q=k[J],z&&(Q==="R"||Q==="AL")){U="R";break}}}U=V<1||(Q=k[V-1])==="B"?"N":j[V-1];break;case"B":b=!1,a=!0,U=w;break;case"S":i=!0,U="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":U="N"}return U},E=function(T,k,j){var V=T.split("");return j&&S(V,j,{hiLevel:w}),V.reverse(),k&&k.reverse(),V.join("")},S=function(T,k,j){var V,Q,Y,J,H,U=-1,re=T.length,z=0,C=[],F=w?d:h,q=[];for(b=!1,a=!1,i=!1,Q=0;Q<re;Q++)q[Q]=O(T[Q]);for(Y=0;Y<re;Y++){if(H=z,C[Y]=I(T,q,C,Y),V=240&(z=F[H][g[C[Y]]]),z&=15,k[Y]=J=F[z][5],V>0)if(V===16){for(Q=U;Q<Y;Q++)k[Q]=1;U=-1}else U=-1;if(F[z][6])U===-1&&(U=Y);else if(U>-1){for(Q=U;Q<Y;Q++)k[Q]=J;U=-1}q[Y]==="B"&&(k[Y]=0),j.hiLevel|=J}i&&function(K,Z,oe){for(var fe=0;fe<oe;fe++)if(K[fe]==="S"){Z[fe]=w;for(var ie=fe-1;ie>=0&&K[ie]==="WS";ie--)Z[ie]=w}}(q,k,re)},A=function(T,k,j,V,Q){if(!(Q.hiLevel<T)){if(T===1&&w===1&&!a)return k.reverse(),void(j&&j.reverse());for(var Y,J,H,U,re=k.length,z=0;z<re;){if(V[z]>=T){for(H=z+1;H<re&&V[H]>=T;)H++;for(U=z,J=H-1;U<J;U++,J--)Y=k[U],k[U]=k[J],k[J]=Y,j&&(Y=j[U],j[U]=j[J],j[J]=Y);z=H}z++}}},D=function(T,k,j){var V=T.split(""),Q={hiLevel:w};return j||(j=[]),S(V,j,Q),function(Y,J,H){if(H.hiLevel!==0&&u)for(var U,re=0;re<Y.length;re++)J[re]===1&&(U=v.indexOf(Y[re]))>=0&&(Y[re]=v[U+1])}(V,j,Q),A(2,V,k,j,Q),A(1,V,k,j,Q),V.join("")};return this.__bidiEngine__.doBidiReorder=function(T,k,j){if(function(Q,Y){if(Y)for(var J=0;J<Q.length;J++)Y[J]=J;o===void 0&&(o=P(Q)),c===void 0&&(c=P(Q))}(T,k),s||!l||c)if(s&&l&&o^c)w=o?1:0,T=E(T,k,j);else if(!s&&l&&c)w=o?1:0,T=D(T,k,j),T=E(T,k);else if(!s||o||l||c){if(s&&!l&&o^c)T=E(T,k),o?(w=0,T=D(T,k,j)):(w=1,T=D(T,k,j),T=E(T,k));else if(s&&o&&!l&&c)w=1,T=D(T,k,j),T=E(T,k);else if(!s&&!l&&o^c){var V=u;o?(w=1,T=D(T,k,j),w=0,u=!1,T=D(T,k,j),u=V):(w=0,T=D(T,k,j),T=E(T,k),w=1,u=!1,T=D(T,k,j),u=V,T=E(T,k))}}else w=0,T=D(T,k,j);else w=o?1:0,T=D(T,k,j);return T},this.__bidiEngine__.setOptions=function(T){T&&(s=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,u=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var o=0;for(s=[],o=0;o<a.length;o+=1)Object.prototype.toString.call(a[o])==="[object Array]"?s.push([r.doBidiReorder(a[o][0]),a[o][1],a[o][2]]):s.push([r.doBidiReorder(a[o])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(ar),ar.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Cf(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new zxe(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Cxe(this.contents),this.head=new Oxe(this),this.name=new Mxe(this),this.cmap=new Yq(this),this.toUnicode={},this.hhea=new Ixe(this),this.maxp=new Rxe(this),this.hmtx=new Fxe(this),this.post=new jxe(this),this.os2=new Dxe(this),this.loca=new Uxe(this),this.glyf=new $xe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,o,l,c;for(c=[],s=0,o=(l=this.bbox).length;s<o;s++)t=l[s],c.push(Math.round(t*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,s,o;for(s=0,i=0,o=(t=""+t).length;0<=o?i<o:i>o;i=0<=o?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var ul,Cf=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,s,o,l;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*o+l},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),Cxe=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,s,o,l,c,u,f,h,d,g,m;for(m in d=Object.keys(r).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),s=Math.floor(f/l),u=16*d-f,(a=new Cf).writeInt(this.scalarType),a.writeShort(d),a.writeShort(f),a.writeShort(s),a.writeShort(u),i=16*d,c=a.pos+i,o=null,g=[],r)for(h=r[m],a.writeString(m),a.writeInt(e(h)),a.writeInt(c),a.writeInt(h.length),g=g.concat(h),m==="head"&&(o=c),c+=h.length;c%4;)g.push(0),c++;return a.write(g),n=2981146554-e(a.data),a.pos=o+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,s;for(r=Xq.call(r);r.length%4;)r.push(0);for(i=new Cf(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),Pxe={}.hasOwnProperty,Hl=function(e,t){for(var r in t)Pxe.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};ul=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var Oxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="head",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},t.prototype.encode=function(r){var n;return(n=new Cf).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},t}(),kj=function(){function e(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,b,w;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),t.pos+=2,m=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),c=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),u=function(){var O,P;for(P=[],l=O=0;0<=h?O<h:O>h;l=0<=h?++O:--O)P.push(t.readUInt16());return P}(),a=(this.length-t.pos+this.offset)/2,o=function(){var O,P;for(P=[],l=O=0;0<=a?O<a:O>a;l=0<=a?++O:--O)P.push(t.readUInt16());return P}(),l=y=0,w=i.length;y<w;l=++y)for(v=i[l],n=b=g=m[l];g<=v?b<=v:b>=v;n=g<=v?++b:--b)u[l]===0?s=n+c[l]:(s=o[u[l]/2+(n-g)-(h-l)]||0)!==0&&(s+=c[l]),this.codeMap[n]=65535&s}t.pos=f}return e.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y,b,w,O,P,I,E,S,A,D,T,k,j,V,Q,Y,J,H,U,re,z,C,F,q,K,Z,oe,fe,ie,de,_e,B;switch(V=new Cf,s=Object.keys(t).sort(function(Te,ge){return Te-ge}),r){case"macroman":for(m=0,v=function(){var Te=[];for(g=0;g<256;++g)Te.push(0);return Te}(),b={0:0},i={},Q=0,U=s.length;Q<U;Q++)b[ie=t[a=s[Q]]]==null&&(b[ie]=++m),i[a]={old:t[a],new:b[t[a]]},v[a]=b[t[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(v),{charMap:i,subtable:V.data,maxGlyphID:m+1};case"unicode":for(k=[],f=[],w=0,b={},n={},y=c=null,Y=0,re=s.length;Y<re;Y++)b[P=t[a=s[Y]]]==null&&(b[P]=++w),n[a]={old:P,new:b[P]},o=b[P]-a,y!=null&&o===c||(y&&f.push(y),k.push(a),c=o),y=a;for(y&&f.push(y),f.push(65535),k.push(65535),D=2*(A=k.length),S=2*Math.pow(Math.log(A)/Math.LN2,2),h=Math.log(S/2)/Math.LN2,E=2*A-S,l=[],I=[],d=[],g=J=0,z=k.length;J<z;g=++J){if(T=k[g],u=f[g],T===65535){l.push(0),I.push(0);break}if(T-(j=n[T].new)>=32768)for(l.push(0),I.push(2*(d.length+A-g)),a=H=T;T<=u?H<=u:H>=u;a=T<=u?++H:--H)d.push(n[a].new);else l.push(j-T),I.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*A+2*d.length),V.writeUInt16(0),V.writeUInt16(D),V.writeUInt16(S),V.writeUInt16(h),V.writeUInt16(E),oe=0,C=f.length;oe<C;oe++)a=f[oe],V.writeUInt16(a);for(V.writeUInt16(0),fe=0,F=k.length;fe<F;fe++)a=k[fe],V.writeUInt16(a);for(de=0,q=l.length;de<q;de++)o=l[de],V.writeUInt16(o);for(_e=0,K=I.length;_e<K;_e++)O=I[_e],V.writeUInt16(O);for(B=0,Z=d.length;B<Z;B++)m=d[B],V.writeUInt16(m);return{charMap:n,subtable:V.data,maxGlyphID:w+1}}},e}(),Yq=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="cmap",t.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new kj(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=kj.encode(r,n),(i=new Cf).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),Ixe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hhea",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},t}(),Dxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="OS/2",t.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},t}(),jxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="post",t.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(r.readUInt32());return c}).call(this)}},t}(),Lxe=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},Mxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="name",t.prototype.parse=function(r){var n,a,i,s,o,l,c,u,f,h,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(c={},s=f=0,h=a.length;f<h;s=++f)i=a[s],r.pos=i.offset,u=r.readString(i.length),o=new Lxe(u,i),c[d=i.nameID]==null&&(c[d]=[]),c[i.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t}(),Rxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="maxp",t.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},t}(),Fxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="hmtx",t.prototype.parse=function(r){var n,a,i,s,o,l,c;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,f;for(f=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)f.push(r.readInt16());return f}(),this.widths=(function(){var u,f,h,d;for(d=[],u=0,f=(h=this.metrics).length;u<f;u++)s=h[u],d.push(s.advance);return d}).call(this),a=this.widths[this.widths.length-1],c=[],n=o=0;0<=i?o<i:o>i;n=0<=i?++o:--o)c.push(this.widths.push(a));return c},t.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},t}(),Xq=[].slice,$xe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(r){var n,a,i,s,o,l,c,u,f,h;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,o=(l=new Cf(n.read(i))).readShort(),u=l.readShort(),h=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[r]=o===-1?new Vxe(l,u,h,c,f):new Bxe(l,o,u,h,c,f),this.cache[r]))},t.prototype.encode=function(r,n,a){var i,s,o,l,c;for(o=[],s=[],l=0,c=n.length;l<c;l++)i=r[n[l]],s.push(o.length),i&&(o=o.concat(i.encode(a)));return s.push(o.length),{table:o,offsets:s}},t}(),Bxe=function(){function e(t,r,n,a,i,s){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),Vxe=function(){function e(t,r,n,a,i){var s,o;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;o=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&o;)s.pos+=1&o?4:2,128&o?s.pos+=8:64&o?s.pos+=4:8&o&&(s.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Cf(Xq.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),Uxe=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Hl(t,ul),t.prototype.tag="loca",t.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},t.prototype.indexOf=function(r){return this.offsets[r]},t.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},t.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,o=0;o<a.length;++o)if(a[o]=i,s<n.length&&n[s]==o){++s,a[o]=i;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(i+=c)}for(var u=new Array(4*a.length),f=0;f<a.length;++f)u[4*f+3]=255&a[f],u[4*f+2]=(65280&a[f])>>8,u[4*f+1]=(16711680&a[f])>>16,u[4*f]=(4278190080&a[f])>>24;return u},t}(),zxe=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,s,o,l;for(a={},s=0,o=t.length;s<o;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,s,o,l,c,u,f,h,d,g,m,v,y;for(a in n=Yq.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},y=n.charMap)d[(l=y[a]).old]=l.new;for(g in h=n.maxGlyphID,s)g in d||(d[g]=h++);return u=function(b){var w,O;for(w in O={},b)O[b[w]]=w;return O}(d),f=Object.keys(u).sort(function(b,w){return b-w}),m=function(){var b,w,O;for(O=[],b=0,w=f.length;b<w;b++)o=f[b],O.push(u[o]);return O}(),i=this.font.glyf.encode(s,m,d),c=this.font.loca.encode(i.offsets,m),v={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},e}();ar.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var o,l,c;for(c=[],o=0,l=r.length;o<l;o++)n=r[o],c.push(t.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+r},t}();function Qq(e,t,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,o=a.internal.getFontSize()/s,l=a.getLineHeightFactor?a.getLineHeightFactor():i,c=o*l,u=/\r\n|\r|\n/g,f="",h=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(u):e,h=f.length||1),r+=o*(2-i),n.valign==="middle"?r-=h/2*c:n.valign==="bottom"&&(r-=h*c),n.halign==="center"||n.halign==="right"){var d=o;if(n.halign==="center"&&(d*=.5),f&&h>=1){for(var g=0;g<f.length;g++)a.text(f[g],t-a.getStringUnitWidth(f[g])*d,r),r+=c;return a}t-=a.getStringUnitWidth(e)*d}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var Nj={},B0=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:Nj=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var s=this.jsPDFDocument.internal.getFont(),o=s.fontStyle,l=s.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&c.indexOf(o)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var u=e.unifyColor(t.fillColor);u&&(n=this.jsPDFDocument).setFillColor.apply(n,u),u=e.unifyColor(t.textColor),u&&(a=this.jsPDFDocument).setTextColor.apply(a,u),u=e.unifyColor(t.lineColor),u&&(i=this.jsPDFDocument).setDrawColor.apply(i,u),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return Nj||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),UT=function(e,t){return UT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},UT(e,t)};function Jq(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");UT(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Zq=function(e){Jq(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function qxe(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Wxe(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Eb(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function eW(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var s=tW(a,!1);s&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,s)}function tW(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function _5(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function rW(e,t){var r=_5(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function Hxe(e,t,r,n,a){var i={},s=1.3333333333333333,o=YS(t,function(w){return a.getComputedStyle(w).backgroundColor});o!=null&&(i.fillColor=o);var l=YS(t,function(w){return a.getComputedStyle(w).color});l!=null&&(i.textColor=l);var c=Kxe(n,r);c&&(i.cellPadding=c);var u="borderTopColor",f=s*r,h=n.borderTopWidth;if(n.borderBottomWidth===h&&n.borderRightWidth===h&&n.borderLeftWidth===h){var d=(parseFloat(h)||0)/f;d&&(i.lineWidth=d)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?u="borderRightColor":i.lineWidth.bottom?u="borderBottomColor":i.lineWidth.left&&(u="borderLeftColor"));var g=YS(t,function(w){return a.getComputedStyle(w)[u]});g!=null&&(i.lineColor=g);var m=["left","right","center","justify"];m.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),m=["middle","bottom","top"],m.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var v=parseInt(n.fontSize||"");isNaN(v)||(i.fontSize=v/s);var y=Gxe(n);y&&(i.fontStyle=y);var b=(n.fontFamily||"").toLowerCase();return e.indexOf(b)!==-1&&(i.font=b),i}function Gxe(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function YS(e,t){var r=nW(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function nW(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:nW(e.parentElement,t):r}function Kxe(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(o){return parseInt(o||"0")/n}),s=_5(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function aW(e,t,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var o;typeof t=="string"?o=r.document.querySelector(t):o=t;var l=Object.keys(e.getFontList()),c=e.scaleFactor(),u=[],f=[],h=[];if(!o)return console.error("Html table could not be found with input: ",t),{head:u,body:f,foot:h};for(var d=0;d<o.rows.length;d++){var g=o.rows[d],m=(s=(i=g==null?void 0:g.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),v=Yxe(l,c,r,g,n,a);v&&(m==="thead"?u.push(v):m==="tfoot"?h.push(v):f.push(v))}return{head:u,body:f,foot:h}}function Yxe(e,t,r,n,a,i){for(var s=new Zq(n),o=0;o<n.cells.length;o++){var l=n.cells[o],c=r.getComputedStyle(l);if(a||c.display!=="none"){var u=void 0;i&&(u=Hxe(e,l,t,c,r)),s.push({rowSpan:l.rowSpan,colSpan:l.colSpan,styles:u,_element:l,content:Xxe(l)})}}var f=r.getComputedStyle(n);if(s.length>0&&(a||f.display!=="none"))return s}function Xxe(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function Qxe(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function mc(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!=null)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])}return i}function iW(e,t){var r=new B0(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();Qxe(a,n,t);var i=mc({},a,n,t),s;typeof window<"u"&&(s=window);var o=Jxe(a,n,t),l=Zxe(a,n,t),c=e2e(r,i),u=r2e(r,i,s);return{id:t.tableId,content:u,hooks:l,styles:o,settings:c}}function Jxe(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(l){if(l==="columnStyles"){var c=e[l],u=t[l],f=r[l];n.columnStyles=mc({},c,u,f)}else{var h=[e,t,r],d=h.map(function(g){return g[l]||{}});n[l]=mc({},d[0],d[1],d[2])}},i=0,s=Object.keys(n);i<s.length;i++){var o=s[i];a(o)}return n}function Zxe(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var o=s[i];o.didParseCell&&a.didParseCell.push(o.didParseCell),o.willDrawCell&&a.willDrawCell.push(o.willDrawCell),o.didDrawCell&&a.didDrawCell.push(o.didDrawCell),o.willDrawPage&&a.willDrawPage.push(o.willDrawPage),o.didDrawPage&&a.didDrawPage.push(o.didDrawPage)}return a}function e2e(e,t){var r,n,a,i,s,o,l,c,u,f,h,d,g=_5(t.margin,40/e.scaleFactor()),m=(r=t2e(e,t.startY))!==null&&r!==void 0?r:g.top,v;t.showFoot===!0?v="everyPage":t.showFoot===!1?v="never":v=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var y;t.showHead===!0?y="everyPage":t.showHead===!1?y="never":y=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var b=(i=t.useCss)!==null&&i!==void 0?i:!1,w=t.theme||(b?"plain":"striped"),O=!!t.horizontalPageBreak,P=(s=t.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(o=t.includeHiddenHtml)!==null&&o!==void 0?o:!1,useCss:b,theme:w,startY:m,margin:g,pageBreak:(l=t.pageBreak)!==null&&l!==void 0?l:"auto",rowPageBreak:(c=t.rowPageBreak)!==null&&c!==void 0?c:"auto",tableWidth:(u=t.tableWidth)!==null&&u!==void 0?u:"auto",showHead:y,showFoot:v,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(h=t.tableLineColor)!==null&&h!==void 0?h:200,horizontalPageBreak:O,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(d=t.horizontalPageBreakBehaviour)!==null&&d!==void 0?d:"afterAllRows"}}function t2e(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function r2e(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var s=t.includeHiddenHtml;if(r){var o=aW(e,t.html,r,s,t.useCss)||{};n=o.head||n,a=o.body||n,i=o.foot||n}else console.error("Cannot parse html in non browser environment")}var l=t.columns||n2e(n,a,i);return{columns:l,head:n,body:a,foot:i}}function n2e(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,o;Array.isArray(n)?o=n[parseInt(i)]:o=n[i],typeof o=="object"&&!Array.isArray(o)&&(s=(o==null?void 0:o.colSpan)||1);for(var l=0;l<s;l++){var c=void 0;Array.isArray(n)?c=a.length:c=i+(l>0?"_".concat(l):"");var u={dataKey:c};a.push(u)}}),a}var zT=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),a2e=function(e){Jq(t,e);function t(r,n,a,i,s,o){var l=e.call(this,r,n,o)||this;return l.cell=a,l.row=i,l.column=s,l.section=i.section,l}return t}(zT),i2e=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,s){for(var o=0,l=r;o<l.length;o++){var c=l[o],u=new a2e(t,this,n,a,i,s),f=c(u)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new zT(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new zT(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),sW=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof Zq&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var o=r.getLineHeight(s.styles.fontSize),l=s.padding("vertical"),c=l+o;return c>a?c:a},0)},e}(),oW=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",o=/\r\n|\r|\n/g;this.text=s.split(o)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=_5(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),s2e=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},e}();function o2e(e,t){l2e(e,t);var r=[],n=0;t.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(t);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=qT(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=qT(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),u2e(t),f2e(t,e),c2e(t)}function l2e(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=rW(e,t);t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){var u=t.hooks.didParseCell;t.callCellHooks(e,u,c,i,l,null);var f=c.padding("horizontal");c.contentWidth=Eb(c.text,c.styles,e)+f;var h=Eb(c.text.join(" ").split(/[^\S\u00A0]+/),c.styles,e);if(c.minReadableWidth=h+c.padding("horizontal"),typeof c.styles.cellWidth=="number")c.minWidth=c.styles.cellWidth,c.wrappedWidth=c.styles.cellWidth;else if(c.styles.cellWidth==="wrap"||n===!0)c.contentWidth>a?(c.minWidth=a,c.wrappedWidth=a):(c.minWidth=c.contentWidth,c.wrappedWidth=c.contentWidth);else{var d=10/r;c.minWidth=c.styles.minCellWidth||d,c.wrappedWidth=c.contentWidth,c.minWidth>c.wrappedWidth&&(c.wrappedWidth=c.minWidth)}}}}),t.allRows().forEach(function(i){for(var s=0,o=t.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c&&c.colSpan===1)l.wrappedWidth=Math.max(l.wrappedWidth,c.wrappedWidth),l.minWidth=Math.max(l.minWidth,c.minWidth),l.minReadableWidth=Math.max(l.minReadableWidth,c.minReadableWidth);else{var u=t.styles.columnStyles[l.dataKey]||t.styles.columnStyles[l.index]||{},f=u.cellWidth||u.minCellWidth;f&&typeof f=="number"&&(l.minWidth=f,l.wrappedWidth=f)}c&&(c.colSpan>1&&!l.minWidth&&(l.minWidth=c.minWidth),c.colSpan>1&&!l.wrappedWidth&&(l.wrappedWidth=c.minWidth))}})}function qT(e,t,r){for(var n=t,a=e.reduce(function(d,g){return d+g.wrappedWidth},0),i=0;i<e.length;i++){var s=e[i],o=s.wrappedWidth/a,l=n*o,c=s.width+l,u=r(s),f=c<u?u:c;t-=f-s.width,s.width=f}if(t=Math.round(t*1e10)/1e10,t){var h=e.filter(function(d){return t<0?d.width>r(d):!0});h.length&&(t=qT(h,t,r))}return t}function c2e(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=t[l.index];if(r>1)r--,delete i.cells[l.index];else if(c)c.cell.height+=i.height,r=c.cell.colSpan,delete i.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var u=i.cells[l.index];if(!u)continue;if(u.height=i.height,u.rowSpan>1){var f=n.length-a,h=u.rowSpan>f?f:u.rowSpan;t[l.index]={cell:u,left:h,row:i}}}}}function u2e(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,s=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if(s-=1,s>1&&e.columns[o+1])i+=l.width,delete n.cells[l.index];else if(a){var c=a;delete n.cells[l.index],a=null,c.width=l.width+i}else{var c=n.cells[l.index];if(!c)continue;if(s=c.colSpan,i=0,c.colSpan>1){a=c,i+=l.width;continue}c.width=l.width+i}}}function f2e(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],s=0,o=e.columns;s<o.length;s++){var l=o[s],c=i.cells[l.index];if(c){t.applyStyles(c.styles,!0);var u=c.width-c.padding("horizontal");if(c.styles.overflow==="linebreak")c.text=t.splitTextToSize(c.text,u+1/t.scaleFactor(),{fontSize:c.styles.fontSize});else if(c.styles.overflow==="ellipsize")c.text=Cj(c.text,u,c.styles,t,"...");else if(c.styles.overflow==="hidden")c.text=Cj(c.text,u,c.styles,t,"");else if(typeof c.styles.overflow=="function"){var f=c.styles.overflow(c.text,u);typeof f=="string"?c.text=[f]:c.text=f}c.contentHeight=c.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var h=c.contentHeight/c.rowSpan;c.rowSpan>1&&r.count*r.height<h*c.rowSpan?r={height:h,count:c.rowSpan}:r&&r.count>0&&r.height>h&&(h=r.height),h>i.height&&(i.height=h)}}r.count--}}function Cj(e,t,r,n,a){return e.map(function(i){return h2e(i,t,r,n,a)})}function h2e(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Eb(e,r,n))return e;for(;t<Eb(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function lW(e,t){var r=new B0(e),n=d2e(t,r.scaleFactor()),a=new i2e(t,n);return o2e(r,a),r.applyStyles(r.userStyles),a}function d2e(e,t){var r=e.content,n=m2e(r.columns);if(r.head.length===0){var a=Pj(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Pj(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,s=e.styles;return{columns:n,head:XS("head",r.head,n,s,i,t),body:XS("body",r.body,n,s,i,t),foot:XS("foot",r.foot,n,s,i,t)}}function XS(e,t,r,n,a,i){var s={},o=t.map(function(l,c){for(var u=0,f={},h=0,d=0,g=0,m=r;g<m.length;g++){var v=m[g];if(s[v.index]==null||s[v.index].left===0)if(d===0){var y=void 0;Array.isArray(l)?y=l[v.index-h-u]:y=l[v.dataKey];var b={};typeof y=="object"&&!Array.isArray(y)&&(b=(y==null?void 0:y.styles)||{});var w=g2e(e,v,c,a,n,i,b),O=new oW(y,w,e);f[v.dataKey]=O,f[v.index]=O,d=O.colSpan-1,s[v.index]={left:O.rowSpan-1,times:d}}else d--,h++;else s[v.index].left--,d=s[v.index].times,u++}return new sW(l,c,e,f)});return o}function Pj(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=p2e(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function p2e(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function m2e(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new s2e(a,t,r)})}function g2e(e,t,r,n,a,i,s){var o=Wxe(n),l;e==="head"?l=a.headStyles:e==="body"?l=a.bodyStyles:e==="foot"&&(l=a.footStyles);var c=mc({},o.table,o[e],a.styles,l),u=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?u:{},h=e==="body"&&r%2===0?mc({},o.alternateRow,a.alternateRowStyles):{},d=qxe(i),g=mc({},d,c,h,f);return mc(g,s)}function v2e(e,t,r){var n;r===void 0&&(r={});var a=rW(e,t),i=new Map,s=[],o=[],l=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?l=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(l=[t.settings.horizontalPageBreakRepeat]),l.forEach(function(h){var d=t.columns.find(function(g){return g.dataKey===h||g.index===h});d&&!i.has(d.index)&&(i.set(d.index,!0),s.push(d.index),o.push(t.columns[d.index]),a-=d.wrappedWidth)});for(var c=!0,u=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;u<t.columns.length;){if(i.has(u)){u++;continue}var f=t.columns[u].wrappedWidth;if(c||a>=f)c=!1,s.push(u),o.push(t.columns[u]),a-=f;else break;u++}return{colIndexes:s,columns:o,lastIndex:u-1}}function y2e(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=v2e(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function cW(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),o=n+a.bottom+s;if(r.pageBreak==="avoid"){var l=t.body,c=l.reduce(function(h,d){return h+d.height},0);o+=c}var u=new B0(e);(r.pageBreak==="always"||r.startY!=null&&o>u.pageSize().height)&&(fW(u),i.y=a.top),t.callWillDrawPageHooks(u,i);var f=mc({},i);t.startPageNumber=u.pageNumber(),r.horizontalPageBreak?x2e(u,t,f,i):(u.applyStyles(u.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(h){return Bc(u,t,h,i,t.columns)}),u.applyStyles(u.userStyles),t.body.forEach(function(h,d){var g=d===t.body.length-1;kb(u,t,h,g,f,i,t.columns)}),u.applyStyles(u.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(h){return Bc(u,t,h,i,t.columns)})),eW(u,t,f,i),t.callEndPageHooks(u,i),t.finalY=i.y,e.lastAutoTable=t,u.applyStyles(u.userStyles)}function x2e(e,t,r,n){var a=y2e(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(c,u){e.applyStyles(e.userStyles),u>0?zg(e,t,r,n,c.columns,!0):Oj(e,t,n,c.columns),b2e(e,t,r,n,c.columns),QS(e,t,n,c.columns)});else for(var s=-1,o=a[0],l=function(){var c=s;if(o){e.applyStyles(e.userStyles);var u=o.columns;s>=0?zg(e,t,r,n,u,!0):Oj(e,t,n,u),c=Ij(e,t,s+1,n,u),QS(e,t,n,u)}var f=c-s;a.slice(1).forEach(function(h){e.applyStyles(e.userStyles),zg(e,t,r,n,h.columns,!0),Ij(e,t,s+1,n,h.columns,f),QS(e,t,n,h.columns)}),s=c};s<t.body.length-1;)l()}function Oj(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return Bc(e,t,i,r,n)})}function b2e(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,s){var o=s===t.body.length-1;kb(e,t,i,o,r,n,a)})}function Ij(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var s=Math.min(r+i,t.body.length),o=-1;return t.body.slice(r,s).forEach(function(l,c){var u=r+c===t.body.length-1,f=uW(e,t,u,n);l.canEntireRowFit(f,a)&&(Bc(e,t,l,n,a),o=r+c)}),o}function QS(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return Bc(e,t,i,r,n)})}function w2e(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function _2e(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,s=0,o=r.columns;s<o.length;s++){var l=o[s],c=e.cells[l.index];if(c){Array.isArray(c.text)||(c.text=[c.text]);var u=new oW(c.raw,c.styles,c.section);u=mc(u,c),u.text=[];var f=w2e(c,t,n);c.text.length>f&&(u.text=c.text.splice(f,c.text.length));var h=n.scaleFactor(),d=n.getLineHeightFactor();c.contentHeight=c.getContentHeight(h,d),c.contentHeight>=t&&(c.contentHeight=t,u.styles.minCellHeight-=t),c.contentHeight>e.height&&(e.height=c.contentHeight),u.contentHeight=u.getContentHeight(h,d),u.contentHeight>i&&(i=u.contentHeight),a[l.index]=u}}var g=new sW(e.raw,-1,e.section,a,!0);g.height=i;for(var m=0,v=r.columns;m<v.length;m++){var l=v[m],u=g.cells[l.index];u&&(u.height=g.height);var c=e.cells[l.index];c&&(c.height=e.height)}return g}function S2e(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,o=a-s;t.section==="body"&&(o-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var l=t.getMinimumRowHeight(n.columns,e),c=l<r;if(l>o)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!c)return!1;var u=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>o;return f?(u&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(u||n.settings.rowPageBreak==="avoid")}function kb(e,t,r,n,a,i,s){var o=uW(e,t,n,i);if(r.canEntireRowFit(o,s))Bc(e,t,r,i,s);else if(S2e(e,r,o,t)){var l=_2e(r,o,t,e);Bc(e,t,r,i,s),zg(e,t,a,i,s),kb(e,t,l,n,a,i,s)}else zg(e,t,a,i,s),kb(e,t,r,n,a,i,s)}function Bc(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var o=s[i],l=r.cells[o.index];if(!l){n.x+=o.width;continue}e.applyStyles(l.styles),l.x=n.x,l.y=n.y;var c=t.callCellHooks(e,t.hooks.willDrawCell,l,r,o,n);if(c===!1){n.x+=o.width;continue}A2e(e,l,n);var u=l.getTextPos();Qq(l.text,u.x,u.y,{halign:l.styles.halign,valign:l.styles.valign,maxWidth:Math.ceil(l.width-l.padding("left")-l.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,l,r,o,n),n.x+=o.width}n.y+=r.height}function A2e(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=tW(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),T2e(e,t,r,n.lineWidth))}function T2e(e,t,r,n){var a,i,s,o;n.top&&(a=r.x,i=r.y,s=r.x+t.width,o=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.top,a,i,s,o)),n.bottom&&(a=r.x,i=r.y+t.height,s=r.x+t.width,o=r.y+t.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),l(n.bottom,a,i,s,o)),n.left&&(a=r.x,i=r.y,s=r.x,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.left,a,i,s,o)),n.right&&(a=r.x+t.width,i=r.y,s=r.x+t.width,o=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(o+=.5*n.bottom),l(n.right,a,i,s,o));function l(c,u,f,h,d){e.getDocument().setLineWidth(c),e.getDocument().line(u,f,h,d,"S")}}function uW(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function zg(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(o){return Bc(e,t,o,n,a)}),t.callEndPageHooks(e,n);var s=t.settings.margin;eW(e,t,r,n),fW(e),t.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(o){return Bc(e,t,o,n,a)}),e.applyStyles(e.userStyles))}function fW(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function E2e(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=iW(this,n),i=lW(this,a);return cW(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){Qq(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return B0.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){B0.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new B0(this),i=aW(a,t,window,r,!1),s=i.head,o=i.body,l=((n=s[0])===null||n===void 0?void 0:n.map(function(c){return c.content}))||[];return{columns:l,rows:o,data:o}}}var JS;function k2e(e,t){var r=iW(e,t),n=lW(e,r);cW(e,n)}try{if(typeof window<"u"&&window){var Dj=window,jj=Dj.jsPDF||((JS=Dj.jspdf)===null||JS===void 0?void 0:JS.jsPDF);jj&&E2e(jj)}}catch(e){console.error("Could not apply autoTable plugin",e)}const N2e=()=>{const[e,t]=W.useState([]),[r,n]=W.useState(!0),[a,i]=W.useState(new Date),[s,o]=W.useState(new Date),[l,c]=W.useState("all"),[u,f]=W.useState("all"),[h,d]=W.useState(""),[g,m]=W.useState([]),{showToast:v}=Yc(),{isDarkMode:y}=Jr(),{user:b}=xa(),w=async()=>{try{const T=(await hr(Et(et,"users"))).docs.map(k=>({id:k.id,...k.data()}));m(T)}catch(D){console.error("Error fetching users:",D),v("Failed to fetch users","error")}},O=async()=>{n(!0);try{let D=sr(Et(et,"activityLogs"),ka("time","desc"));a&&s?D=sr(Et(et,"activityLogs"),tr("time",">=",lb(a).toISOString()),tr("time","<=",Lv(s).toISOString()),ka("time","desc")):a?D=sr(Et(et,"activityLogs"),tr("time",">=",lb(a).toISOString()),ka("time","desc")):s&&(D=sr(Et(et,"activityLogs"),tr("time","<=",Lv(s).toISOString()),ka("time","desc")));let k=(await hr(D)).docs.map(j=>({id:j.id,user:j.data().user,role:j.data().role,detail:j.data().detail,time:j.data().time}));if(b&&b.role==="staff"&&(k=k.filter(j=>j.role!=="admin")),l!=="all"&&(k=k.filter(j=>j.user===l)),u!=="all"&&(k=k.filter(j=>{const V=j.detail.toLowerCase();return u==="inbound"?V.includes("added new product")||V.includes("edited product")||V.includes("quantity from")||V.includes("quantity to"):u==="outbound"?V.includes("units deducted from stock")||V.includes("deducted from stock"):!0})),h.trim()){const j=h.toLowerCase();k=k.filter(V=>{const Q=V.detail.toLowerCase(),Y=V.user.toLowerCase(),J=V.role.toLowerCase(),H=Q.match(/"([^"]+)"/),U=H?H[1].toLowerCase():"";return Q.includes(j)||Y.includes(j)||J.includes(j)||U.includes(j)})}t(k)}catch(D){console.error("Error fetching activity logs:",D),v("Failed to fetch activity logs","error")}finally{n(!1)}};W.useEffect(()=>{w()},[]),W.useEffect(()=>{O()},[a,s,l,u,h,b]);const P=()=>{let D=g;return b&&b.role==="staff"&&(D=g.filter(T=>T.role!=="admin")),[{value:"all",label:"All Users"},...D.map(T=>({value:T.name,label:T.name}))]},I=[{value:"all",label:"All Activities"},{value:"inbound",label:"Inbound"},{value:"outbound",label:"Outbound"}],E=()=>{i(null),o(null)},S=()=>{try{const T=[["User","Role","Activity","Time"].join(","),...e.map(Q=>[Q.user,Q.role,`"${Q.detail.replace(/"/g,'""')}"`,Xt(new Date(Q.time),"MMM d, yyyy h:mm a")].join(","))].join(`
`),k=new Blob([T],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),V=URL.createObjectURL(k);j.setAttribute("href",V),j.setAttribute("download",`activity_logs_${Xt(new Date,"yyyy-MM-dd")}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j)}catch(D){console.error("Error exporting to CSV:",D),v("Failed to export to CSV","error")}},A=()=>{var D,T;try{const k=new ar;k.setFontSize(16),k.text("Activity Logs Report",14,15),k.setFontSize(10);const j=a&&s?`${Xt(a,"MMM d, yyyy")} - ${Xt(s,"MMM d, yyyy")}`:a?`From ${Xt(a,"MMM d, yyyy")}`:s?`To ${Xt(s,"MMM d, yyyy")}`:"All Time";k.text(`Date Range: ${j}`,14,25),k.text(`User Filter: ${(D=P().find(V=>V.value===l))==null?void 0:D.label}`,14,30),k.text(`Activity Filter: ${(T=I.find(V=>V.value===u))==null?void 0:T.label}`,14,35),k2e(k,{startY:40,head:[["User","Role","Activity","Time"]],body:e.map(V=>[V.user,V.role,V.detail,Xt(new Date(V.time),"MMM d, yyyy h:mm a")]),styles:{fontSize:8},headStyles:{fillColor:[51,65,85]}}),k.save(`activity_logs_${Xt(new Date,"yyyy-MM-dd")}.pdf`)}catch(k){console.error("Error exporting to PDF:",k),v("Failed to export to PDF","error")}};return p.jsx("div",{className:`space-y-6 ${y?"bg-slate-900 text-white":"bg-white text-slate-800"}`,children:p.jsxs("div",{className:`rounded-lg shadow-sm border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-4 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("h2",{className:`text-xl font-semibold ${y?"text-white":"text-slate-800"}`,children:"Activity Logs"}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:S,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),p.jsxs("button",{onClick:A,className:`inline-flex items-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 w-full sm:w-auto ${y?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),"Export PDF"]})]})]}),p.jsxs("div",{className:`flex flex-col sm:flex-row sm:justify-between sm:items-center p-6 border-b gap-2 ${y?"border-slate-700":"border-slate-200"}`,children:[p.jsx("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto items-stretch sm:items-center",children:p.jsx(bt,{type:"text",placeholder:"Search activities, product names, users...",value:h,onChange:D=>d(D.target.value),className:"w-full sm:w-96",icon:p.jsx(Ic,{size:16})})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-1 w-full sm:w-auto items-stretch sm:items-center",children:[p.jsx(Br,{value:l,onChange:D=>c(D.target.value),options:P(),className:"w-full sm:w-40"}),p.jsx(Br,{value:u,onChange:D=>f(D.target.value),options:I,className:"w-full sm:w-40"}),p.jsx(fC,{startDate:a,endDate:s,onStartDateChange:i,onEndDateChange:o,onClear:E,className:"w-full sm:w-80"}),p.jsx(st,{variant:"secondary",onClick:O,className:"flex items-center gap-2 w-full sm:w-auto",children:p.jsx(ds,{size:16})})]})]}),r?p.jsx("div",{className:"flex justify-center items-center h-32",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${y?"border-white":"border-slate-800"}`})}):e.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{children:p.jsxs("tr",{className:`${y?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} border-b`,children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"User"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Role"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Activity"}),p.jsx("th",{className:`px-2 py-3 text-left text-xs font-medium ${y?"text-slate-400":"text-slate-500"} uppercase tracking-wider`,children:"Time"})]})}),p.jsx("tbody",{className:`divide-y ${y?"divide-slate-700":"divide-slate-200"}`,children:p.jsx(WV,{children:e.map(D=>p.jsxs(Fn.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:`${y?"hover:bg-slate-700":"hover:bg-slate-50"}`,children:[p.jsx("td",{className:`px-4 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.user}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.role}),p.jsx("td",{className:`px-2 py-4 text-sm ${y?"text-slate-200":"text-slate-800"}`,children:D.detail}),p.jsx("td",{className:`px-2 py-4 whitespace-nowrap text-sm ${y?"text-slate-200":"text-slate-800"}`,children:Xt(new Date(D.time),"MMM d, yyyy h:mm:ss a")})]},D.id))})})]})}),p.jsx("div",{className:"block md:hidden space-y-4 p-4",children:e.map(D=>p.jsxs("div",{className:`rounded-lg border ${y?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${y?"text-blue-400":"text-blue-700"}`,children:D.user}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${y?"bg-slate-700 text-slate-200":"bg-slate-100 text-slate-700"}`,children:D.role})]}),p.jsxs("div",{className:y?"text-slate-200":"text-slate-800",children:[p.jsx("span",{className:"block text-xs font-medium mb-1",children:"Activity:"}),p.jsx("span",{className:"text-sm",children:D.detail})]}),p.jsx("div",{className:"text-xs mt-1",children:p.jsxs("span",{className:y?"text-slate-400":"text-slate-600",children:["Time: ",p.jsx("span",{className:"font-medium",children:Xt(new Date(D.time),"MMM d, yyyy h:mm:ss a")})]})})]},D.id))})]}):p.jsx("div",{className:`text-center py-8 ${y?"text-slate-400":"text-slate-500"}`,children:"No activity logs found"})]})})};function hW(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=hW(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Gr(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=hW(e))&&(n&&(n+=" "),n+=t);return n}var C2e=Array.isArray,bs=C2e,P2e=typeof Qm=="object"&&Qm&&Qm.Object===Object&&Qm,dW=P2e,O2e=dW,I2e=typeof self=="object"&&self&&self.Object===Object&&self,D2e=O2e||I2e||Function("return this")(),Gl=D2e,j2e=Gl,L2e=j2e.Symbol,ey=L2e,Lj=ey,pW=Object.prototype,M2e=pW.hasOwnProperty,R2e=pW.toString,Vm=Lj?Lj.toStringTag:void 0;function F2e(e){var t=M2e.call(e,Vm),r=e[Vm];try{e[Vm]=void 0;var n=!0}catch{}var a=R2e.call(e);return n&&(t?e[Vm]=r:delete e[Vm]),a}var $2e=F2e,B2e=Object.prototype,V2e=B2e.toString;function U2e(e){return V2e.call(e)}var z2e=U2e,Mj=ey,q2e=$2e,W2e=z2e,H2e="[object Null]",G2e="[object Undefined]",Rj=Mj?Mj.toStringTag:void 0;function K2e(e){return e==null?e===void 0?G2e:H2e:Rj&&Rj in Object(e)?q2e(e):W2e(e)}var Qc=K2e;function Y2e(e){return e!=null&&typeof e=="object"}var Jc=Y2e,X2e=Qc,Q2e=Jc,J2e="[object Symbol]";function Z2e(e){return typeof e=="symbol"||Q2e(e)&&X2e(e)==J2e}var Jp=Z2e,ebe=bs,tbe=Jp,rbe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,nbe=/^\w*$/;function abe(e,t){if(ebe(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||tbe(e)?!0:nbe.test(e)||!rbe.test(e)||t!=null&&e in Object(t)}var mC=abe;function ibe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ff=ibe;const Zp=pn(Ff);var sbe=Qc,obe=Ff,lbe="[object AsyncFunction]",cbe="[object Function]",ube="[object GeneratorFunction]",fbe="[object Proxy]";function hbe(e){if(!obe(e))return!1;var t=sbe(e);return t==cbe||t==ube||t==lbe||t==fbe}var gC=hbe;const Ar=pn(gC);var dbe=Gl,pbe=dbe["__core-js_shared__"],mbe=pbe,ZS=mbe,Fj=function(){var e=/[^.]+$/.exec(ZS&&ZS.keys&&ZS.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function gbe(e){return!!Fj&&Fj in e}var vbe=gbe,ybe=Function.prototype,xbe=ybe.toString;function bbe(e){if(e!=null){try{return xbe.call(e)}catch{}try{return e+""}catch{}}return""}var mW=bbe,wbe=gC,_be=vbe,Sbe=Ff,Abe=mW,Tbe=/[\\^$.*+?()[\]{}|]/g,Ebe=/^\[object .+?Constructor\]$/,kbe=Function.prototype,Nbe=Object.prototype,Cbe=kbe.toString,Pbe=Nbe.hasOwnProperty,Obe=RegExp("^"+Cbe.call(Pbe).replace(Tbe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Ibe(e){if(!Sbe(e)||_be(e))return!1;var t=wbe(e)?Obe:Ebe;return t.test(Abe(e))}var Dbe=Ibe;function jbe(e,t){return e==null?void 0:e[t]}var Lbe=jbe,Mbe=Dbe,Rbe=Lbe;function Fbe(e,t){var r=Rbe(e,t);return Mbe(r)?r:void 0}var vd=Fbe,$be=vd,Bbe=$be(Object,"create"),S5=Bbe,$j=S5;function Vbe(){this.__data__=$j?$j(null):{},this.size=0}var Ube=Vbe;function zbe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var qbe=zbe,Wbe=S5,Hbe="__lodash_hash_undefined__",Gbe=Object.prototype,Kbe=Gbe.hasOwnProperty;function Ybe(e){var t=this.__data__;if(Wbe){var r=t[e];return r===Hbe?void 0:r}return Kbe.call(t,e)?t[e]:void 0}var Xbe=Ybe,Qbe=S5,Jbe=Object.prototype,Zbe=Jbe.hasOwnProperty;function ewe(e){var t=this.__data__;return Qbe?t[e]!==void 0:Zbe.call(t,e)}var twe=ewe,rwe=S5,nwe="__lodash_hash_undefined__";function awe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=rwe&&t===void 0?nwe:t,this}var iwe=awe,swe=Ube,owe=qbe,lwe=Xbe,cwe=twe,uwe=iwe;function em(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}em.prototype.clear=swe;em.prototype.delete=owe;em.prototype.get=lwe;em.prototype.has=cwe;em.prototype.set=uwe;var fwe=em;function hwe(){this.__data__=[],this.size=0}var dwe=hwe;function pwe(e,t){return e===t||e!==e&&t!==t}var vC=pwe,mwe=vC;function gwe(e,t){for(var r=e.length;r--;)if(mwe(e[r][0],t))return r;return-1}var A5=gwe,vwe=A5,ywe=Array.prototype,xwe=ywe.splice;function bwe(e){var t=this.__data__,r=vwe(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xwe.call(t,r,1),--this.size,!0}var wwe=bwe,_we=A5;function Swe(e){var t=this.__data__,r=_we(t,e);return r<0?void 0:t[r][1]}var Awe=Swe,Twe=A5;function Ewe(e){return Twe(this.__data__,e)>-1}var kwe=Ewe,Nwe=A5;function Cwe(e,t){var r=this.__data__,n=Nwe(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var Pwe=Cwe,Owe=dwe,Iwe=wwe,Dwe=Awe,jwe=kwe,Lwe=Pwe;function tm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}tm.prototype.clear=Owe;tm.prototype.delete=Iwe;tm.prototype.get=Dwe;tm.prototype.has=jwe;tm.prototype.set=Lwe;var T5=tm,Mwe=vd,Rwe=Gl,Fwe=Mwe(Rwe,"Map"),yC=Fwe,Bj=fwe,$we=T5,Bwe=yC;function Vwe(){this.size=0,this.__data__={hash:new Bj,map:new(Bwe||$we),string:new Bj}}var Uwe=Vwe;function zwe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var qwe=zwe,Wwe=qwe;function Hwe(e,t){var r=e.__data__;return Wwe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var E5=Hwe,Gwe=E5;function Kwe(e){var t=Gwe(this,e).delete(e);return this.size-=t?1:0,t}var Ywe=Kwe,Xwe=E5;function Qwe(e){return Xwe(this,e).get(e)}var Jwe=Qwe,Zwe=E5;function e5e(e){return Zwe(this,e).has(e)}var t5e=e5e,r5e=E5;function n5e(e,t){var r=r5e(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var a5e=n5e,i5e=Uwe,s5e=Ywe,o5e=Jwe,l5e=t5e,c5e=a5e;function rm(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}rm.prototype.clear=i5e;rm.prototype.delete=s5e;rm.prototype.get=o5e;rm.prototype.has=l5e;rm.prototype.set=c5e;var xC=rm,gW=xC,u5e="Expected a function";function bC(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(u5e);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var s=e.apply(this,n);return r.cache=i.set(a,s)||i,s};return r.cache=new(bC.Cache||gW),r}bC.Cache=gW;var vW=bC;const f5e=pn(vW);var h5e=vW,d5e=500;function p5e(e){var t=h5e(e,function(n){return r.size===d5e&&r.clear(),n}),r=t.cache;return t}var m5e=p5e,g5e=m5e,v5e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y5e=/\\(\\)?/g,x5e=g5e(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(v5e,function(r,n,a,i){t.push(a?i.replace(y5e,"$1"):n||r)}),t}),b5e=x5e;function w5e(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var wC=w5e,Vj=ey,_5e=wC,S5e=bs,A5e=Jp,T5e=1/0,Uj=Vj?Vj.prototype:void 0,zj=Uj?Uj.toString:void 0;function yW(e){if(typeof e=="string")return e;if(S5e(e))return _5e(e,yW)+"";if(A5e(e))return zj?zj.call(e):"";var t=e+"";return t=="0"&&1/e==-T5e?"-0":t}var E5e=yW,k5e=E5e;function N5e(e){return e==null?"":k5e(e)}var xW=N5e,C5e=bs,P5e=mC,O5e=b5e,I5e=xW;function D5e(e,t){return C5e(e)?e:P5e(e,t)?[e]:O5e(I5e(e))}var bW=D5e,j5e=Jp,L5e=1/0;function M5e(e){if(typeof e=="string"||j5e(e))return e;var t=e+"";return t=="0"&&1/e==-L5e?"-0":t}var k5=M5e,R5e=bW,F5e=k5;function $5e(e,t){t=R5e(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[F5e(t[r++])];return r&&r==n?e:void 0}var _C=$5e,B5e=_C;function V5e(e,t,r){var n=e==null?void 0:B5e(e,t);return n===void 0?r:n}var wW=V5e;const vo=pn(wW);function U5e(e){return e==null}var z5e=U5e;const Ir=pn(z5e);var q5e=Qc,W5e=bs,H5e=Jc,G5e="[object String]";function K5e(e){return typeof e=="string"||!W5e(e)&&H5e(e)&&q5e(e)==G5e}var Y5e=K5e;const ed=pn(Y5e);var _W={exports:{}},cn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SC=Symbol.for("react.element"),AC=Symbol.for("react.portal"),N5=Symbol.for("react.fragment"),C5=Symbol.for("react.strict_mode"),P5=Symbol.for("react.profiler"),O5=Symbol.for("react.provider"),I5=Symbol.for("react.context"),X5e=Symbol.for("react.server_context"),D5=Symbol.for("react.forward_ref"),j5=Symbol.for("react.suspense"),L5=Symbol.for("react.suspense_list"),M5=Symbol.for("react.memo"),R5=Symbol.for("react.lazy"),Q5e=Symbol.for("react.offscreen"),SW;SW=Symbol.for("react.module.reference");function Ao(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case SC:switch(e=e.type,e){case N5:case P5:case C5:case j5:case L5:return e;default:switch(e=e&&e.$$typeof,e){case X5e:case I5:case D5:case R5:case M5:case O5:return e;default:return t}}case AC:return t}}}cn.ContextConsumer=I5;cn.ContextProvider=O5;cn.Element=SC;cn.ForwardRef=D5;cn.Fragment=N5;cn.Lazy=R5;cn.Memo=M5;cn.Portal=AC;cn.Profiler=P5;cn.StrictMode=C5;cn.Suspense=j5;cn.SuspenseList=L5;cn.isAsyncMode=function(){return!1};cn.isConcurrentMode=function(){return!1};cn.isContextConsumer=function(e){return Ao(e)===I5};cn.isContextProvider=function(e){return Ao(e)===O5};cn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===SC};cn.isForwardRef=function(e){return Ao(e)===D5};cn.isFragment=function(e){return Ao(e)===N5};cn.isLazy=function(e){return Ao(e)===R5};cn.isMemo=function(e){return Ao(e)===M5};cn.isPortal=function(e){return Ao(e)===AC};cn.isProfiler=function(e){return Ao(e)===P5};cn.isStrictMode=function(e){return Ao(e)===C5};cn.isSuspense=function(e){return Ao(e)===j5};cn.isSuspenseList=function(e){return Ao(e)===L5};cn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===N5||e===P5||e===C5||e===j5||e===L5||e===Q5e||typeof e=="object"&&e!==null&&(e.$$typeof===R5||e.$$typeof===M5||e.$$typeof===O5||e.$$typeof===I5||e.$$typeof===D5||e.$$typeof===SW||e.getModuleId!==void 0)};cn.typeOf=Ao;_W.exports=cn;var J5e=_W.exports,Z5e=Qc,e_e=Jc,t_e="[object Number]";function r_e(e){return typeof e=="number"||e_e(e)&&Z5e(e)==t_e}var AW=r_e;const n_e=pn(AW);var a_e=AW;function i_e(e){return a_e(e)&&e!=+e}var s_e=i_e;const ty=pn(s_e);var tl=function(t){return t===0?0:t>0?1:-1},Nh=function(t){return ed(t)&&t.indexOf("%")===t.length-1},jt=function(t){return n_e(t)&&!ty(t)},Ca=function(t){return jt(t)||ed(t)},o_e=0,ry=function(t){var r=++o_e;return"".concat(t||"").concat(r)},td=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!jt(t)&&!ed(t))return n;var i;if(Nh(t)){var s=t.indexOf("%");i=r*parseFloat(t.slice(0,s))/100}else i=+t;return ty(i)&&(i=n),a&&i>r&&(i=r),i},Uu=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},l_e=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},a=0;a<r;a++)if(!n[t[a]])n[t[a]]=!0;else return!0;return!1},Xo=function(t,r){return jt(t)&&jt(r)?function(n){return t+n*(r-t)}:function(){return r}};function Nb(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):vo(n,t))===r})}var c_e=function(t,r){return jt(t)&&jt(r)?t-r:ed(t)&&ed(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function V0(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function WT(e){"@babel/helpers - typeof";return WT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},WT(e)}var u_e=["viewBox","children"],f_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qj=["points","pathLength"],eA={svg:u_e,polygon:qj,polyline:qj},TC=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Cb=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(W.isValidElement(t)&&(n=t.props),!Zp(n))return null;var a={};return Object.keys(n).forEach(function(i){TC.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},h_e=function(t,r,n){return function(a){return t(r,n,a),null}},Pb=function(t,r,n){if(!Zp(t)||WT(t)!=="object")return null;var a=null;return Object.keys(t).forEach(function(i){var s=t[i];TC.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=h_e(s,r,n))}),a},d_e=["children"],p_e=["children"];function Wj(e,t){if(e==null)return{};var r=m_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function m_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function HT(e){"@babel/helpers - typeof";return HT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},HT(e)}var Hj={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_c=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Gj=null,tA=null,EC=function e(t){if(t===Gj&&Array.isArray(tA))return tA;var r=[];return W.Children.forEach(t,function(n){Ir(n)||(J5e.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),tA=r,Gj=t,r};function yo(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(a){return _c(a)}):n=[_c(t)],EC(e).forEach(function(a){var i=vo(a,"type.displayName")||vo(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Is(e,t){var r=yo(e,t);return r&&r[0]}var Kj=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,a=r.height;return!(!jt(n)||n<=0||!jt(a)||a<=0)},g_e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],v_e=function(t){return t&&t.type&&ed(t.type)&&g_e.indexOf(t.type)>=0},y_e=function(t){return t&&HT(t)==="object"&&"clipDot"in t},x_e=function(t,r,n,a){var i,s=(i=eA==null?void 0:eA[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Ar(t)&&(a&&s.includes(r)||f_e.includes(r))||n&&TC.includes(r)},jr=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var a=t;if(W.isValidElement(t)&&(a=t.props),!Zp(a))return null;var i={};return Object.keys(a).forEach(function(s){var o;x_e((o=a)===null||o===void 0?void 0:o[s],s,r,n)&&(i[s]=a[s])}),i},GT=function e(t,r){if(t===r)return!0;var n=W.Children.count(t);if(n!==W.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Yj(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=t[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!e(i,s))return!1}else if(!Yj(i,s))return!1}return!0},Yj=function(t,r){if(Ir(t)&&Ir(r))return!0;if(!Ir(t)&&!Ir(r)){var n=t.props||{},a=n.children,i=Wj(n,d_e),s=r.props||{},o=s.children,l=Wj(s,p_e);return a&&o?V0(i,l)&&GT(a,o):!a&&!o?V0(i,l):!1}return!1},Xj=function(t,r){var n=[],a={};return EC(t).forEach(function(i,s){if(v_e(i))n.push(i);else if(i){var o=_c(i.type),l=r[o]||{},c=l.handler,u=l.once;if(c&&(!u||!a[o])){var f=c(i,o,s);n.push(f),a[o]=!0}}}),n},b_e=function(t){var r=t&&t.type;return r&&Hj[r]?Hj[r]:null},w_e=function(t,r){return EC(r).indexOf(t)},__e=["children","width","height","viewBox","className","style","title","desc"];function KT(){return KT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KT.apply(this,arguments)}function S_e(e,t){if(e==null)return{};var r=A_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function YT(e){var t=e.children,r=e.width,n=e.height,a=e.viewBox,i=e.className,s=e.style,o=e.title,l=e.desc,c=S_e(e,__e),u=a||{width:r,height:n,x:0,y:0},f=Gr("recharts-surface",i);return Oe.createElement("svg",KT({},jr(c,!0,"svg"),{className:f,width:r,height:n,style:s,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),Oe.createElement("title",null,o),Oe.createElement("desc",null,l),t)}var T_e=["children","className"];function XT(){return XT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XT.apply(this,arguments)}function E_e(e,t){if(e==null)return{};var r=k_e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k_e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var la=Oe.forwardRef(function(e,t){var r=e.children,n=e.className,a=E_e(e,T_e),i=Gr("recharts-layer",n);return Oe.createElement("g",XT({className:i},jr(a,!0),{ref:t}),r)}),Sc=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]};function N_e(e,t,r){var n=-1,a=e.length;t<0&&(t=-t>a?0:a+t),r=r>a?a:r,r<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(a);++n<a;)i[n]=e[n+t];return i}var C_e=N_e,P_e=C_e;function O_e(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:P_e(e,t,r)}var I_e=O_e,D_e="\\ud800-\\udfff",j_e="\\u0300-\\u036f",L_e="\\ufe20-\\ufe2f",M_e="\\u20d0-\\u20ff",R_e=j_e+L_e+M_e,F_e="\\ufe0e\\ufe0f",$_e="\\u200d",B_e=RegExp("["+$_e+D_e+R_e+F_e+"]");function V_e(e){return B_e.test(e)}var TW=V_e;function U_e(e){return e.split("")}var z_e=U_e,EW="\\ud800-\\udfff",q_e="\\u0300-\\u036f",W_e="\\ufe20-\\ufe2f",H_e="\\u20d0-\\u20ff",G_e=q_e+W_e+H_e,K_e="\\ufe0e\\ufe0f",Y_e="["+EW+"]",QT="["+G_e+"]",JT="\\ud83c[\\udffb-\\udfff]",X_e="(?:"+QT+"|"+JT+")",kW="[^"+EW+"]",NW="(?:\\ud83c[\\udde6-\\uddff]){2}",CW="[\\ud800-\\udbff][\\udc00-\\udfff]",Q_e="\\u200d",PW=X_e+"?",OW="["+K_e+"]?",J_e="(?:"+Q_e+"(?:"+[kW,NW,CW].join("|")+")"+OW+PW+")*",Z_e=OW+PW+J_e,eSe="(?:"+[kW+QT+"?",QT,NW,CW,Y_e].join("|")+")",tSe=RegExp(JT+"(?="+JT+")|"+eSe+Z_e,"g");function rSe(e){return e.match(tSe)||[]}var nSe=rSe,aSe=z_e,iSe=TW,sSe=nSe;function oSe(e){return iSe(e)?sSe(e):aSe(e)}var lSe=oSe,cSe=I_e,uSe=TW,fSe=lSe,hSe=xW;function dSe(e){return function(t){t=hSe(t);var r=uSe(t)?fSe(t):void 0,n=r?r[0]:t.charAt(0),a=r?cSe(r,1).join(""):t.slice(1);return n[e]()+a}}var pSe=dSe,mSe=pSe,gSe=mSe("toUpperCase"),vSe=gSe;const F5=pn(vSe);function _n(e){return function(){return e}}const IW=Math.cos,Ob=Math.sin,fl=Math.sqrt,Ib=Math.PI,$5=2*Ib,ZT=Math.PI,eE=2*ZT,mh=1e-6,ySe=eE-mh;function DW(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xSe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return DW;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class bSe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?DW:xSe(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,s){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,o=this._y1,l=n-t,c=a-r,u=s-t,f=o-r,h=u*u+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>mh)if(!(Math.abs(f*l-c*u)>mh)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let d=n-s,g=a-o,m=l*l+c*c,v=d*d+g*g,y=Math.sqrt(m),b=Math.sqrt(h),w=i*Math.tan((ZT-Math.acos((m+h-v)/(2*y*b)))/2),O=w/b,P=w/y;Math.abs(O-1)>mh&&this._append`L${t+O*u},${r+O*f}`,this._append`A${i},${i},0,0,${+(f*d>u*g)},${this._x1=t+P*l},${this._y1=r+P*c}`}}arc(t,r,n,a,i,s){if(t=+t,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(a),l=n*Math.sin(a),c=t+o,u=r+l,f=1^s,h=s?a-i:i-a;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>mh||Math.abs(this._y1-u)>mh)&&this._append`L${c},${u}`,n&&(h<0&&(h=h%eE+eE),h>ySe?this._append`A${n},${n},0,1,${f},${t-o},${r-l}A${n},${n},0,1,${f},${this._x1=c},${this._y1=u}`:h>mh&&this._append`A${n},${n},0,${+(h>=ZT)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function kC(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bSe(t)}function NC(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function jW(e){this._context=e}jW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function B5(e){return new jW(e)}function LW(e){return e[0]}function MW(e){return e[1]}function RW(e,t){var r=_n(!0),n=null,a=B5,i=null,s=kC(o);e=typeof e=="function"?e:e===void 0?LW:_n(e),t=typeof t=="function"?t:t===void 0?MW:_n(t);function o(l){var c,u=(l=NC(l)).length,f,h=!1,d;for(n==null&&(i=a(d=s())),c=0;c<=u;++c)!(c<u&&r(f=l[c],c,l))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,c,l),+t(f,c,l));if(d)return i=null,d+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:_n(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:_n(+l),o):t},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:_n(!!l),o):r},o.curve=function(l){return arguments.length?(a=l,n!=null&&(i=a(n)),o):a},o.context=function(l){return arguments.length?(l==null?n=i=null:i=a(n=l),o):n},o}function Sx(e,t,r){var n=null,a=_n(!0),i=null,s=B5,o=null,l=kC(c);e=typeof e=="function"?e:e===void 0?LW:_n(+e),t=typeof t=="function"?t:_n(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MW:_n(+r);function c(f){var h,d,g,m=(f=NC(f)).length,v,y=!1,b,w=new Array(m),O=new Array(m);for(i==null&&(o=s(b=l())),h=0;h<=m;++h){if(!(h<m&&a(v=f[h],h,f))===y)if(y=!y)d=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),g=h-1;g>=d;--g)o.point(w[g],O[g]);o.lineEnd(),o.areaEnd()}y&&(w[h]=+e(v,h,f),O[h]=+t(v,h,f),o.point(n?+n(v,h,f):w[h],r?+r(v,h,f):O[h]))}if(b)return o=null,b+""||null}function u(){return RW().defined(a).curve(s).context(i)}return c.x=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),n=null,c):e},c.x0=function(f){return arguments.length?(e=typeof f=="function"?f:_n(+f),c):e},c.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:_n(+f),c):n},c.y=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),r=null,c):t},c.y0=function(f){return arguments.length?(t=typeof f=="function"?f:_n(+f),c):t},c.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:_n(+f),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(f){return arguments.length?(a=typeof f=="function"?f:_n(!!f),c):a},c.curve=function(f){return arguments.length?(s=f,i!=null&&(o=s(i)),c):s},c.context=function(f){return arguments.length?(f==null?i=o=null:o=s(i=f),c):i},c}class FW{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wSe(e){return new FW(e,!0)}function _Se(e){return new FW(e,!1)}const CC={draw(e,t){const r=fl(t/Ib);e.moveTo(r,0),e.arc(0,0,r,0,$5)}},SSe={draw(e,t){const r=fl(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$W=fl(1/3),ASe=$W*2,TSe={draw(e,t){const r=fl(t/ASe),n=r*$W;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},ESe={draw(e,t){const r=fl(t),n=-r/2;e.rect(n,n,r,r)}},kSe=.8908130915292852,BW=Ob(Ib/10)/Ob(7*Ib/10),NSe=Ob($5/10)*BW,CSe=-IW($5/10)*BW,PSe={draw(e,t){const r=fl(t*kSe),n=NSe*r,a=CSe*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const s=$5*i/5,o=IW(s),l=Ob(s);e.lineTo(l*r,-o*r),e.lineTo(o*n-l*a,l*n+o*a)}e.closePath()}},rA=fl(3),OSe={draw(e,t){const r=-fl(t/(rA*3));e.moveTo(0,r*2),e.lineTo(-rA*r,-r),e.lineTo(rA*r,-r),e.closePath()}},no=-.5,ao=fl(3)/2,tE=1/fl(12),ISe=(tE/2+1)*3,DSe={draw(e,t){const r=fl(t/ISe),n=r/2,a=r*tE,i=n,s=r*tE+r,o=-i,l=s;e.moveTo(n,a),e.lineTo(i,s),e.lineTo(o,l),e.lineTo(no*n-ao*a,ao*n+no*a),e.lineTo(no*i-ao*s,ao*i+no*s),e.lineTo(no*o-ao*l,ao*o+no*l),e.lineTo(no*n+ao*a,no*a-ao*n),e.lineTo(no*i+ao*s,no*s-ao*i),e.lineTo(no*o+ao*l,no*l-ao*o),e.closePath()}};function jSe(e,t){let r=null,n=kC(a);e=typeof e=="function"?e:_n(e||CC),t=typeof t=="function"?t:_n(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:_n(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:_n(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Db(){}function jb(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VW(e){this._context=e}VW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function LSe(e){return new VW(e)}function UW(e){this._context=e}UW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MSe(e){return new UW(e)}function zW(e){this._context=e}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jb(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function RSe(e){return new zW(e)}function qW(e){this._context=e}qW.prototype={areaStart:Db,areaEnd:Db,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FSe(e){return new qW(e)}function Qj(e){return e<0?-1:1}function Jj(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),s=(r-e._y1)/(a||n<0&&-0),o=(i*a+s*n)/(n+a);return(Qj(i)+Qj(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(o))||0}function Zj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function nA(e,t,r){var n=e._x0,a=e._y0,i=e._x1,s=e._y1,o=(i-n)/3;e._context.bezierCurveTo(n+o,a+o*t,i-o,s-o*r,i,s)}function Lb(e){this._context=e}Lb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:nA(this,this._t0,Zj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,nA(this,Zj(this,r=Jj(this,e,t)),r);break;default:nA(this,this._t0,r=Jj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function WW(e){this._context=new HW(e)}(WW.prototype=Object.create(Lb.prototype)).point=function(e,t){Lb.prototype.point.call(this,t,e)};function HW(e){this._context=e}HW.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function $Se(e){return new Lb(e)}function BSe(e){return new WW(e)}function GW(e){this._context=e}GW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=eL(e),a=eL(t),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[s],t[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function eL(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,s[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,s[t]-=n*s[t-1];for(a[r-1]=s[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(s[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function VSe(e){return new GW(e)}function V5(e,t){this._context=e,this._t=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function USe(e){return new V5(e,.5)}function zSe(e){return new V5(e,0)}function qSe(e){return new V5(e,1)}function hp(e,t){if((s=e.length)>1)for(var r=1,n,a,i=e[t[0]],s,o=i.length;r<s;++r)for(a=i,i=e[t[r]],n=0;n<o;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function rE(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function WSe(e,t){return e[t]}function HSe(e){const t=[];return t.key=e,t}function GSe(){var e=_n([]),t=rE,r=hp,n=WSe;function a(i){var s=Array.from(e.apply(this,arguments),HSe),o,l=s.length,c=-1,u;for(const f of i)for(o=0,++c;o<l;++o)(s[o][c]=[0,+n(f,s[o].key,c,i)]).data=f;for(o=0,u=NC(t(s));o<l;++o)s[u[o]].index=o;return r(s,u),s}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:_n(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:_n(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?rE:typeof i=="function"?i:_n(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??hp,a):r},a}function KSe(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=e[r][a][1]||0;if(s)for(r=0;r<n;++r)e[r][a][1]/=s}hp(e,t)}}function YSe(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var s=0,o=0;s<a;++s)o+=e[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}hp(e,t)}}function XSe(e,t){if(!(!((s=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var o=0,l=0,c=0;o<s;++o){for(var u=e[t[o]],f=u[n][1]||0,h=u[n-1][1]||0,d=(f-h)/2,g=0;g<o;++g){var m=e[t[g]],v=m[n][1]||0,y=m[n-1][1]||0;d+=v-y}l+=f,c+=d*f}a[n-1][1]+=a[n-1][0]=r,l&&(r-=c/l)}a[n-1][1]+=a[n-1][0]=r,hp(e,t)}}function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}var QSe=["type","size","sizeType"];function nE(){return nE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nE.apply(this,arguments)}function tL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function rL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(r),!0).forEach(function(n){JSe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JSe(e,t,r){return t=ZSe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZSe(e){var t=eAe(e,"string");return Wv(t)=="symbol"?t:t+""}function eAe(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tAe(e,t){if(e==null)return{};var r=rAe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function rAe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var KW={symbolCircle:CC,symbolCross:SSe,symbolDiamond:TSe,symbolSquare:ESe,symbolStar:PSe,symbolTriangle:OSe,symbolWye:DSe},nAe=Math.PI/180,aAe=function(t){var r="symbol".concat(F5(t));return KW[r]||CC},iAe=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var a=18*nAe;return 1.25*t*t*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},sAe=function(t,r){KW["symbol".concat(F5(t))]=r},PC=function(t){var r=t.type,n=r===void 0?"circle":r,a=t.size,i=a===void 0?64:a,s=t.sizeType,o=s===void 0?"area":s,l=tAe(t,QSe),c=rL(rL({},l),{},{type:n,size:i,sizeType:o}),u=function(){var v=aAe(n),y=jSe().type(v).size(iAe(i,o,n));return y()},f=c.className,h=c.cx,d=c.cy,g=jr(c,!0);return h===+h&&d===+d&&i===+i?Oe.createElement("path",nE({},g,{className:Gr("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(d,")"),d:u()})):null};PC.registerSymbol=sAe;function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(this,arguments)}function nL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oAe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nL(Object(r),!0).forEach(function(n){Hv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cAe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,XW(n.key),n)}}function uAe(e,t,r){return t&&cAe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fAe(e,t,r){return t=Mb(t),hAe(e,YW()?Reflect.construct(t,r||[],Mb(e).constructor):t.apply(e,r))}function hAe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dAe(e)}function dAe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YW(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YW=function(){return!!e})()}function Mb(e){return Mb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mb(e)}function pAe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&iE(e,t)}function iE(e,t){return iE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},iE(e,t)}function Hv(e,t,r){return t=XW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=mAe(e,"string");return dp(t)=="symbol"?t:t+""}function mAe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var io=32,OC=function(e){function t(){return lAe(this,t),fAe(this,t,arguments)}return pAe(t,e),uAe(t,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=io/2,s=io/6,o=io/3,l=n.inactive?a:n.color;if(n.type==="plainline")return Oe.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:io,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return Oe.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*o,",").concat(i,`
            H`).concat(io,"M").concat(2*o,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(o,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return Oe.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(io/8,"h").concat(io,"v").concat(io*3/4,"h").concat(-io,"z"),className:"recharts-legend-icon"});if(Oe.isValidElement(n.legendIcon)){var c=oAe({},n);return delete c.legendIcon,Oe.cloneElement(n.legendIcon,c)}return Oe.createElement(PC,{fill:l,cx:i,cy:i,size:io,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,o=a.layout,l=a.formatter,c=a.inactiveColor,u={x:0,y:0,width:io,height:io},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(d,g){var m=d.formatter||l,v=Gr(Hv(Hv({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",d.inactive));if(d.type==="none")return null;var y=Ar(d.value)?null:d.value;Sc(!Ar(d.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var b=d.inactive?c:d.color;return Oe.createElement("li",aE({className:v,style:f,key:"legend-item-".concat(g)},Pb(n.props,d,g)),Oe.createElement(YT,{width:s,height:s,viewBox:u,style:h},n.renderIcon(d)),Oe.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},m?m(y,d,g):y))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var o={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return Oe.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(W.PureComponent);Hv(OC,"displayName","Legend");Hv(OC,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var gAe=T5;function vAe(){this.__data__=new gAe,this.size=0}var yAe=vAe;function xAe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var bAe=xAe;function wAe(e){return this.__data__.get(e)}var _Ae=wAe;function SAe(e){return this.__data__.has(e)}var AAe=SAe,TAe=T5,EAe=yC,kAe=xC,NAe=200;function CAe(e,t){var r=this.__data__;if(r instanceof TAe){var n=r.__data__;if(!EAe||n.length<NAe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new kAe(n)}return r.set(e,t),this.size=r.size,this}var PAe=CAe,OAe=T5,IAe=yAe,DAe=bAe,jAe=_Ae,LAe=AAe,MAe=PAe;function nm(e){var t=this.__data__=new OAe(e);this.size=t.size}nm.prototype.clear=IAe;nm.prototype.delete=DAe;nm.prototype.get=jAe;nm.prototype.has=LAe;nm.prototype.set=MAe;var QW=nm,RAe="__lodash_hash_undefined__";function FAe(e){return this.__data__.set(e,RAe),this}var $Ae=FAe;function BAe(e){return this.__data__.has(e)}var VAe=BAe,UAe=xC,zAe=$Ae,qAe=VAe;function Rb(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new UAe;++t<r;)this.add(e[t])}Rb.prototype.add=Rb.prototype.push=zAe;Rb.prototype.has=qAe;var JW=Rb;function WAe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var ZW=WAe;function HAe(e,t){return e.has(t)}var eH=HAe,GAe=JW,KAe=ZW,YAe=eH,XAe=1,QAe=2;function JAe(e,t,r,n,a,i){var s=r&XAe,o=e.length,l=t.length;if(o!=l&&!(s&&l>o))return!1;var c=i.get(e),u=i.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,d=r&QAe?new GAe:void 0;for(i.set(e,t),i.set(t,e);++f<o;){var g=e[f],m=t[f];if(n)var v=s?n(m,g,f,t,e,i):n(g,m,f,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(d){if(!KAe(t,function(y,b){if(!YAe(d,b)&&(g===y||a(g,y,r,n,i)))return d.push(b)})){h=!1;break}}else if(!(g===m||a(g,m,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var tH=JAe,ZAe=Gl,e4e=ZAe.Uint8Array,t4e=e4e;function r4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}var n4e=r4e;function a4e(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var IC=a4e,aL=ey,iL=t4e,i4e=vC,s4e=tH,o4e=n4e,l4e=IC,c4e=1,u4e=2,f4e="[object Boolean]",h4e="[object Date]",d4e="[object Error]",p4e="[object Map]",m4e="[object Number]",g4e="[object RegExp]",v4e="[object Set]",y4e="[object String]",x4e="[object Symbol]",b4e="[object ArrayBuffer]",w4e="[object DataView]",sL=aL?aL.prototype:void 0,aA=sL?sL.valueOf:void 0;function _4e(e,t,r,n,a,i,s){switch(r){case w4e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b4e:return!(e.byteLength!=t.byteLength||!i(new iL(e),new iL(t)));case f4e:case h4e:case m4e:return i4e(+e,+t);case d4e:return e.name==t.name&&e.message==t.message;case g4e:case y4e:return e==t+"";case p4e:var o=o4e;case v4e:var l=n&c4e;if(o||(o=l4e),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;n|=u4e,s.set(e,t);var u=s4e(o(e),o(t),n,a,i,s);return s.delete(e),u;case x4e:if(aA)return aA.call(e)==aA.call(t)}return!1}var S4e=_4e;function A4e(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var rH=A4e,T4e=rH,E4e=bs;function k4e(e,t,r){var n=t(e);return E4e(e)?n:T4e(n,r(e))}var N4e=k4e;function C4e(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var s=e[r];t(s,r,e)&&(i[a++]=s)}return i}var P4e=C4e;function O4e(){return[]}var I4e=O4e,D4e=P4e,j4e=I4e,L4e=Object.prototype,M4e=L4e.propertyIsEnumerable,oL=Object.getOwnPropertySymbols,R4e=oL?function(e){return e==null?[]:(e=Object(e),D4e(oL(e),function(t){return M4e.call(e,t)}))}:j4e,F4e=R4e;function $4e(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var B4e=$4e,V4e=Qc,U4e=Jc,z4e="[object Arguments]";function q4e(e){return U4e(e)&&V4e(e)==z4e}var W4e=q4e,lL=W4e,H4e=Jc,nH=Object.prototype,G4e=nH.hasOwnProperty,K4e=nH.propertyIsEnumerable,Y4e=lL(function(){return arguments}())?lL:function(e){return H4e(e)&&G4e.call(e,"callee")&&!K4e.call(e,"callee")},DC=Y4e,Fb={exports:{}};function X4e(){return!1}var Q4e=X4e;Fb.exports;(function(e,t){var r=Gl,n=Q4e,a=t&&!t.nodeType&&t,i=a&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===a,o=s?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;e.exports=c})(Fb,Fb.exports);var aH=Fb.exports,J4e=9007199254740991,Z4e=/^(?:0|[1-9]\d*)$/;function eTe(e,t){var r=typeof e;return t=t??J4e,!!t&&(r=="number"||r!="symbol"&&Z4e.test(e))&&e>-1&&e%1==0&&e<t}var jC=eTe,tTe=9007199254740991;function rTe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tTe}var LC=rTe,nTe=Qc,aTe=LC,iTe=Jc,sTe="[object Arguments]",oTe="[object Array]",lTe="[object Boolean]",cTe="[object Date]",uTe="[object Error]",fTe="[object Function]",hTe="[object Map]",dTe="[object Number]",pTe="[object Object]",mTe="[object RegExp]",gTe="[object Set]",vTe="[object String]",yTe="[object WeakMap]",xTe="[object ArrayBuffer]",bTe="[object DataView]",wTe="[object Float32Array]",_Te="[object Float64Array]",STe="[object Int8Array]",ATe="[object Int16Array]",TTe="[object Int32Array]",ETe="[object Uint8Array]",kTe="[object Uint8ClampedArray]",NTe="[object Uint16Array]",CTe="[object Uint32Array]",Nn={};Nn[wTe]=Nn[_Te]=Nn[STe]=Nn[ATe]=Nn[TTe]=Nn[ETe]=Nn[kTe]=Nn[NTe]=Nn[CTe]=!0;Nn[sTe]=Nn[oTe]=Nn[xTe]=Nn[lTe]=Nn[bTe]=Nn[cTe]=Nn[uTe]=Nn[fTe]=Nn[hTe]=Nn[dTe]=Nn[pTe]=Nn[mTe]=Nn[gTe]=Nn[vTe]=Nn[yTe]=!1;function PTe(e){return iTe(e)&&aTe(e.length)&&!!Nn[nTe(e)]}var OTe=PTe;function ITe(e){return function(t){return e(t)}}var iH=ITe,$b={exports:{}};$b.exports;(function(e,t){var r=dW,n=t&&!t.nodeType&&t,a=n&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===n,s=i&&r.process,o=function(){try{var l=a&&a.require&&a.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();e.exports=o})($b,$b.exports);var DTe=$b.exports,jTe=OTe,LTe=iH,cL=DTe,uL=cL&&cL.isTypedArray,MTe=uL?LTe(uL):jTe,sH=MTe,RTe=B4e,FTe=DC,$Te=bs,BTe=aH,VTe=jC,UTe=sH,zTe=Object.prototype,qTe=zTe.hasOwnProperty;function WTe(e,t){var r=$Te(e),n=!r&&FTe(e),a=!r&&!n&&BTe(e),i=!r&&!n&&!a&&UTe(e),s=r||n||a||i,o=s?RTe(e.length,String):[],l=o.length;for(var c in e)(t||qTe.call(e,c))&&!(s&&(c=="length"||a&&(c=="offset"||c=="parent")||i&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||VTe(c,l)))&&o.push(c);return o}var HTe=WTe,GTe=Object.prototype;function KTe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||GTe;return e===r}var YTe=KTe;function XTe(e,t){return function(r){return e(t(r))}}var oH=XTe,QTe=oH,JTe=QTe(Object.keys,Object),ZTe=JTe,eEe=YTe,tEe=ZTe,rEe=Object.prototype,nEe=rEe.hasOwnProperty;function aEe(e){if(!eEe(e))return tEe(e);var t=[];for(var r in Object(e))nEe.call(e,r)&&r!="constructor"&&t.push(r);return t}var iEe=aEe,sEe=gC,oEe=LC;function lEe(e){return e!=null&&oEe(e.length)&&!sEe(e)}var ny=lEe,cEe=HTe,uEe=iEe,fEe=ny;function hEe(e){return fEe(e)?cEe(e):uEe(e)}var U5=hEe,dEe=N4e,pEe=F4e,mEe=U5;function gEe(e){return dEe(e,mEe,pEe)}var vEe=gEe,fL=vEe,yEe=1,xEe=Object.prototype,bEe=xEe.hasOwnProperty;function wEe(e,t,r,n,a,i){var s=r&yEe,o=fL(e),l=o.length,c=fL(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=o[f];if(!(s?h in t:bEe.call(t,h)))return!1}var d=i.get(e),g=i.get(t);if(d&&g)return d==t&&g==e;var m=!0;i.set(e,t),i.set(t,e);for(var v=s;++f<l;){h=o[f];var y=e[h],b=t[h];if(n)var w=s?n(b,y,h,t,e,i):n(y,b,h,e,t,i);if(!(w===void 0?y===b||a(y,b,r,n,i):w)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var O=e.constructor,P=t.constructor;O!=P&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof P=="function"&&P instanceof P)&&(m=!1)}return i.delete(e),i.delete(t),m}var _Ee=wEe,SEe=vd,AEe=Gl,TEe=SEe(AEe,"DataView"),EEe=TEe,kEe=vd,NEe=Gl,CEe=kEe(NEe,"Promise"),PEe=CEe,OEe=vd,IEe=Gl,DEe=OEe(IEe,"Set"),lH=DEe,jEe=vd,LEe=Gl,MEe=jEe(LEe,"WeakMap"),REe=MEe,sE=EEe,oE=yC,lE=PEe,cE=lH,uE=REe,cH=Qc,am=mW,hL="[object Map]",FEe="[object Object]",dL="[object Promise]",pL="[object Set]",mL="[object WeakMap]",gL="[object DataView]",$Ee=am(sE),BEe=am(oE),VEe=am(lE),UEe=am(cE),zEe=am(uE),gh=cH;(sE&&gh(new sE(new ArrayBuffer(1)))!=gL||oE&&gh(new oE)!=hL||lE&&gh(lE.resolve())!=dL||cE&&gh(new cE)!=pL||uE&&gh(new uE)!=mL)&&(gh=function(e){var t=cH(e),r=t==FEe?e.constructor:void 0,n=r?am(r):"";if(n)switch(n){case $Ee:return gL;case BEe:return hL;case VEe:return dL;case UEe:return pL;case zEe:return mL}return t});var qEe=gh,iA=QW,WEe=tH,HEe=S4e,GEe=_Ee,vL=qEe,yL=bs,xL=aH,KEe=sH,YEe=1,bL="[object Arguments]",wL="[object Array]",Ax="[object Object]",XEe=Object.prototype,_L=XEe.hasOwnProperty;function QEe(e,t,r,n,a,i){var s=yL(e),o=yL(t),l=s?wL:vL(e),c=o?wL:vL(t);l=l==bL?Ax:l,c=c==bL?Ax:c;var u=l==Ax,f=c==Ax,h=l==c;if(h&&xL(e)){if(!xL(t))return!1;s=!0,u=!1}if(h&&!u)return i||(i=new iA),s||KEe(e)?WEe(e,t,r,n,a,i):HEe(e,t,l,r,n,a,i);if(!(r&YEe)){var d=u&&_L.call(e,"__wrapped__"),g=f&&_L.call(t,"__wrapped__");if(d||g){var m=d?e.value():e,v=g?t.value():t;return i||(i=new iA),a(m,v,r,n,i)}}return h?(i||(i=new iA),GEe(e,t,r,n,a,i)):!1}var JEe=QEe,ZEe=JEe,SL=Jc;function uH(e,t,r,n,a){return e===t?!0:e==null||t==null||!SL(e)&&!SL(t)?e!==e&&t!==t:ZEe(e,t,r,n,uH,a)}var MC=uH,e3e=QW,t3e=MC,r3e=1,n3e=2;function a3e(e,t,r,n){var a=r.length,i=a,s=!n;if(e==null)return!i;for(e=Object(e);a--;){var o=r[a];if(s&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++a<i;){o=r[a];var l=o[0],c=e[l],u=o[1];if(s&&o[2]){if(c===void 0&&!(l in e))return!1}else{var f=new e3e;if(n)var h=n(c,u,l,e,t,f);if(!(h===void 0?t3e(u,c,r3e|n3e,n,f):h))return!1}}return!0}var i3e=a3e,s3e=Ff;function o3e(e){return e===e&&!s3e(e)}var fH=o3e,l3e=fH,c3e=U5;function u3e(e){for(var t=c3e(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,l3e(a)]}return t}var f3e=u3e;function h3e(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var hH=h3e,d3e=i3e,p3e=f3e,m3e=hH;function g3e(e){var t=p3e(e);return t.length==1&&t[0][2]?m3e(t[0][0],t[0][1]):function(r){return r===e||d3e(r,e,t)}}var v3e=g3e;function y3e(e,t){return e!=null&&t in Object(e)}var x3e=y3e,b3e=bW,w3e=DC,_3e=bs,S3e=jC,A3e=LC,T3e=k5;function E3e(e,t,r){t=b3e(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var s=T3e(t[n]);if(!(i=e!=null&&r(e,s)))break;e=e[s]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&A3e(a)&&S3e(s,a)&&(_3e(e)||w3e(e)))}var k3e=E3e,N3e=x3e,C3e=k3e;function P3e(e,t){return e!=null&&C3e(e,t,N3e)}var O3e=P3e,I3e=MC,D3e=wW,j3e=O3e,L3e=mC,M3e=fH,R3e=hH,F3e=k5,$3e=1,B3e=2;function V3e(e,t){return L3e(e)&&M3e(t)?R3e(F3e(e),t):function(r){var n=D3e(r,e);return n===void 0&&n===t?j3e(r,e):I3e(t,n,$3e|B3e)}}var U3e=V3e;function z3e(e){return e}var im=z3e;function q3e(e){return function(t){return t==null?void 0:t[e]}}var W3e=q3e,H3e=_C;function G3e(e){return function(t){return H3e(t,e)}}var K3e=G3e,Y3e=W3e,X3e=K3e,Q3e=mC,J3e=k5;function Z3e(e){return Q3e(e)?Y3e(J3e(e)):X3e(e)}var eke=Z3e,tke=v3e,rke=U3e,nke=im,ake=bs,ike=eke;function ske(e){return typeof e=="function"?e:e==null?nke:typeof e=="object"?ake(e)?rke(e[0],e[1]):tke(e):ike(e)}var $f=ske;function oke(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}var dH=oke;function lke(e){return e!==e}var cke=lke;function uke(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}var fke=uke,hke=dH,dke=cke,pke=fke;function mke(e,t,r){return t===t?pke(e,t,r):hke(e,dke,r)}var gke=mke,vke=gke;function yke(e,t){var r=e==null?0:e.length;return!!r&&vke(e,t,0)>-1}var xke=yke;function bke(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var wke=bke;function _ke(){}var Ske=_ke,sA=lH,Ake=Ske,Tke=IC,Eke=1/0,kke=sA&&1/Tke(new sA([,-0]))[1]==Eke?function(e){return new sA(e)}:Ake,Nke=kke,Cke=JW,Pke=xke,Oke=wke,Ike=eH,Dke=Nke,jke=IC,Lke=200;function Mke(e,t,r){var n=-1,a=Pke,i=e.length,s=!0,o=[],l=o;if(r)s=!1,a=Oke;else if(i>=Lke){var c=t?null:Dke(e);if(c)return jke(c);s=!1,a=Ike,l=new Cke}else l=t?[]:o;e:for(;++n<i;){var u=e[n],f=t?t(u):u;if(u=r||u!==0?u:0,s&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;t&&l.push(f),o.push(u)}else a(l,f,r)||(l!==o&&l.push(f),o.push(u))}return o}var Rke=Mke,Fke=$f,$ke=Rke;function Bke(e,t){return e&&e.length?$ke(e,Fke(t)):[]}var Vke=Bke;const AL=pn(Vke);function pH(e,t,r){return t===!0?AL(e,r):Ar(t)?AL(e,t):e}function pp(e){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}var Uke=["ref"];function TL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TL(Object(r),!0).forEach(function(n){z5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gH(n.key),n)}}function qke(e,t,r){return t&&EL(e.prototype,t),r&&EL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wke(e,t,r){return t=Bb(t),Hke(e,mH()?Reflect.construct(t,r||[],Bb(e).constructor):t.apply(e,r))}function Hke(e,t){if(t&&(pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gke(e)}function Gke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mH=function(){return!!e})()}function Bb(e){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bb(e)}function Kke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},fE(e,t)}function z5(e,t,r){return t=gH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=Yke(e,"string");return pp(t)=="symbol"?t:t+""}function Yke(e,t){if(pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xke(e,t){if(e==null)return{};var r=Qke(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jke(e){return e.value}function Zke(e,t){if(Oe.isValidElement(e))return Oe.cloneElement(e,t);if(typeof e=="function")return Oe.createElement(e,t);t.ref;var r=Xke(t,Uke);return Oe.createElement(OC,r)}var kL=1,Ac=function(e){function t(){var r;zke(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Wke(this,t,[].concat(a)),z5(r,"lastBoundingBox",{width:-1,height:-1}),r}return Kke(t,e),qke(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>kL||Math.abs(a.height-this.lastBoundingBox.height)>kL)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?cc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,o=a.verticalAlign,l=a.margin,c=a.chartWidth,u=a.chartHeight,f,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var d=this.getBBoxSnapshot();f={left:((c||0)-d.width)/2}}else f=s==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(o==="middle"){var g=this.getBBoxSnapshot();h={top:((u||0)-g.height)/2}}else h=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return cc(cc({},f),h)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,o=a.height,l=a.wrapperStyle,c=a.payloadUniqBy,u=a.payload,f=cc(cc({position:"absolute",width:s||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return Oe.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(d){n.wrapperNode=d}},Zke(i,cc(cc({},this.props),{},{payload:pH(u,c,Jke)})))}}],[{key:"getWithHeight",value:function(n,a){var i=cc(cc({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&jt(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(W.PureComponent);z5(Ac,"displayName","Legend");z5(Ac,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var NL=ey,eNe=DC,tNe=bs,CL=NL?NL.isConcatSpreadable:void 0;function rNe(e){return tNe(e)||eNe(e)||!!(CL&&e&&e[CL])}var nNe=rNe,aNe=rH,iNe=nNe;function vH(e,t,r,n,a){var i=-1,s=e.length;for(r||(r=iNe),a||(a=[]);++i<s;){var o=e[i];t>0&&r(o)?t>1?vH(o,t-1,r,n,a):aNe(a,o):n||(a[a.length]=o)}return a}var yH=vH;function sNe(e){return function(t,r,n){for(var a=-1,i=Object(t),s=n(t),o=s.length;o--;){var l=s[e?o:++a];if(r(i[l],l,i)===!1)break}return t}}var oNe=sNe,lNe=oNe,cNe=lNe(),uNe=cNe,fNe=uNe,hNe=U5;function dNe(e,t){return e&&fNe(e,t,hNe)}var xH=dNe,pNe=ny;function mNe(e,t){return function(r,n){if(r==null)return r;if(!pNe(r))return e(r,n);for(var a=r.length,i=t?a:-1,s=Object(r);(t?i--:++i<a)&&n(s[i],i,s)!==!1;);return r}}var gNe=mNe,vNe=xH,yNe=gNe,xNe=yNe(vNe),RC=xNe,bNe=RC,wNe=ny;function _Ne(e,t){var r=-1,n=wNe(e)?Array(e.length):[];return bNe(e,function(a,i,s){n[++r]=t(a,i,s)}),n}var bH=_Ne;function SNe(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var ANe=SNe,PL=Jp;function TNe(e,t){if(e!==t){var r=e!==void 0,n=e===null,a=e===e,i=PL(e),s=t!==void 0,o=t===null,l=t===t,c=PL(t);if(!o&&!c&&!i&&e>t||i&&s&&l&&!o&&!c||n&&s&&l||!r&&l||!a)return 1;if(!n&&!i&&!c&&e<t||c&&r&&a&&!n&&!i||o&&r&&a||!s&&a||!l)return-1}return 0}var ENe=TNe,kNe=ENe;function NNe(e,t,r){for(var n=-1,a=e.criteria,i=t.criteria,s=a.length,o=r.length;++n<s;){var l=kNe(a[n],i[n]);if(l){if(n>=o)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}var CNe=NNe,oA=wC,PNe=_C,ONe=$f,INe=bH,DNe=ANe,jNe=iH,LNe=CNe,MNe=im,RNe=bs;function FNe(e,t,r){t.length?t=oA(t,function(i){return RNe(i)?function(s){return PNe(s,i.length===1?i[0]:i)}:i}):t=[MNe];var n=-1;t=oA(t,jNe(ONe));var a=INe(e,function(i,s,o){var l=oA(t,function(c){return c(i)});return{criteria:l,index:++n,value:i}});return DNe(a,function(i,s){return LNe(i,s,r)})}var $Ne=FNe;function BNe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var VNe=BNe,UNe=VNe,OL=Math.max;function zNe(e,t,r){return t=OL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=OL(n.length-t,0),s=Array(i);++a<i;)s[a]=n[t+a];a=-1;for(var o=Array(t+1);++a<t;)o[a]=n[a];return o[t]=r(s),UNe(e,this,o)}}var qNe=zNe;function WNe(e){return function(){return e}}var HNe=WNe,GNe=vd,KNe=function(){try{var e=GNe(Object,"defineProperty");return e({},"",{}),e}catch{}}(),wH=KNe,YNe=HNe,IL=wH,XNe=im,QNe=IL?function(e,t){return IL(e,"toString",{configurable:!0,enumerable:!1,value:YNe(t),writable:!0})}:XNe,JNe=QNe,ZNe=800,eCe=16,tCe=Date.now;function rCe(e){var t=0,r=0;return function(){var n=tCe(),a=eCe-(n-r);if(r=n,a>0){if(++t>=ZNe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var nCe=rCe,aCe=JNe,iCe=nCe,sCe=iCe(aCe),oCe=sCe,lCe=im,cCe=qNe,uCe=oCe;function fCe(e,t){return uCe(cCe(e,t,lCe),e+"")}var hCe=fCe,dCe=vC,pCe=ny,mCe=jC,gCe=Ff;function vCe(e,t,r){if(!gCe(r))return!1;var n=typeof t;return(n=="number"?pCe(r)&&mCe(t,r.length):n=="string"&&t in r)?dCe(r[t],e):!1}var q5=vCe,yCe=yH,xCe=$Ne,bCe=hCe,DL=q5,wCe=bCe(function(e,t){if(e==null)return[];var r=t.length;return r>1&&DL(e,t[0],t[1])?t=[]:r>2&&DL(t[0],t[1],t[2])&&(t=[t[0]]),xCe(e,yCe(t,1),[])}),_Ce=wCe;const FC=pn(_Ce);function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function hE(){return hE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hE.apply(this,arguments)}function SCe(e,t){return kCe(e)||ECe(e,t)||TCe(e,t)||ACe()}function ACe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TCe(e,t){if(e){if(typeof e=="string")return jL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(e,t)}}function jL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ECe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function kCe(e){if(Array.isArray(e))return e}function LL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LL(Object(r),!0).forEach(function(n){NCe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NCe(e,t,r){return t=CCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CCe(e){var t=PCe(e,"string");return Gv(t)=="symbol"?t:t+""}function PCe(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function OCe(e){return Array.isArray(e)&&Ca(e[0])&&Ca(e[1])?e.join(" ~ "):e}var ICe=function(t){var r=t.separator,n=r===void 0?" : ":r,a=t.contentStyle,i=a===void 0?{}:a,s=t.itemStyle,o=s===void 0?{}:s,l=t.labelStyle,c=l===void 0?{}:l,u=t.payload,f=t.formatter,h=t.itemSorter,d=t.wrapperClassName,g=t.labelClassName,m=t.label,v=t.labelFormatter,y=t.accessibilityLayer,b=y===void 0?!1:y,w=function(){if(u&&u.length){var k={padding:0,margin:0},j=(h?FC(u,h):u).map(function(V,Q){if(V.type==="none")return null;var Y=lA({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},o),J=V.formatter||f||OCe,H=V.value,U=V.name,re=H,z=U;if(J&&re!=null&&z!=null){var C=J(H,U,V,Q,u);if(Array.isArray(C)){var F=SCe(C,2);re=F[0],z=F[1]}else re=C}return Oe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:Y},Ca(z)?Oe.createElement("span",{className:"recharts-tooltip-item-name"},z):null,Ca(z)?Oe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Oe.createElement("span",{className:"recharts-tooltip-item-value"},re),Oe.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return Oe.createElement("ul",{className:"recharts-tooltip-item-list",style:k},j)}return null},O=lA({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=lA({margin:0},c),I=!Ir(m),E=I?m:"",S=Gr("recharts-default-tooltip",d),A=Gr("recharts-tooltip-label",g);I&&v&&u!==void 0&&u!==null&&(E=v(m,u));var D=b?{role:"status","aria-live":"assertive"}:{};return Oe.createElement("div",hE({className:S,style:O},D),Oe.createElement("p",{className:A,style:P},Oe.isValidElement(E)?E:"".concat(E)),w())};function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function Tx(e,t,r){return t=DCe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DCe(e){var t=jCe(e,"string");return Kv(t)=="symbol"?t:t+""}function jCe(e,t){if(Kv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Um="recharts-tooltip-wrapper",LCe={visibility:"hidden"};function MCe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Gr(Um,Tx(Tx(Tx(Tx({},"".concat(Um,"-right"),jt(r)&&t&&jt(t.x)&&r>=t.x),"".concat(Um,"-left"),jt(r)&&t&&jt(t.x)&&r<t.x),"".concat(Um,"-bottom"),jt(n)&&t&&jt(t.y)&&n>=t.y),"".concat(Um,"-top"),jt(n)&&t&&jt(t.y)&&n<t.y))}function ML(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,a=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(i&&jt(i[n]))return i[n];var u=r[n]-o-a,f=r[n]+a;if(t[n])return s[n]?u:f;if(s[n]){var h=u,d=l[n];return h<d?Math.max(f,l[n]):Math.max(u,l[n])}var g=f+o,m=l[n]+c;return g>m?Math.max(u,l[n]):Math.max(f,l[n])}function RCe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function FCe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,a=e.position,i=e.reverseDirection,s=e.tooltipBox,o=e.useTranslate3d,l=e.viewBox,c,u,f;return s.height>0&&s.width>0&&r?(u=ML({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=ML({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),c=RCe({translateX:u,translateY:f,useTranslate3d:o})):c=LCe,{cssProperties:c,cssClasses:MCe({translateX:u,translateY:f,coordinate:r})}}function mp(e){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mp(e)}function RL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function FL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RL(Object(r),!0).forEach(function(n){pE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Ce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function BCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SH(n.key),n)}}function VCe(e,t,r){return t&&BCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function UCe(e,t,r){return t=Vb(t),zCe(e,_H()?Reflect.construct(t,r||[],Vb(e).constructor):t.apply(e,r))}function zCe(e,t){if(t&&(mp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qCe(e)}function qCe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function Vb(e){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Vb(e)}function WCe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dE(e,t)}function dE(e,t){return dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},dE(e,t)}function pE(e,t,r){return t=SH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SH(e){var t=HCe(e,"string");return mp(t)=="symbol"?t:t+""}function HCe(e,t){if(mp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $L=1,GCe=function(e){function t(){var r;$Ce(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=UCe(this,t,[].concat(a)),pE(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),pE(r,"handleKeyDown",function(s){if(s.key==="Escape"){var o,l,c,u;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=r.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=r.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),r}return WCe(t,e),VCe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>$L||Math.abs(n.height-this.state.lastBoundingBox.height)>$L)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.children,u=a.coordinate,f=a.hasPayload,h=a.isAnimationActive,d=a.offset,g=a.position,m=a.reverseDirection,v=a.useTranslate3d,y=a.viewBox,b=a.wrapperStyle,w=FCe({allowEscapeViewBox:s,coordinate:u,offsetTopLeft:d,position:g,reverseDirection:m,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),O=w.cssClasses,P=w.cssProperties,I=FL(FL({transition:h&&i?"transform ".concat(o,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&f?"visible":"hidden",position:"absolute",top:0,left:0},b);return Oe.createElement("div",{tabIndex:-1,className:O,style:I,ref:function(S){n.wrapperNode=S}},c)}}])}(W.PureComponent),KCe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Tc={isSsr:KCe(),get:function(t){return Tc[t]},set:function(t,r){if(typeof t=="string")Tc[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(a){Tc[a]=t[a]})}}};function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function BL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BL(Object(r),!0).forEach(function(n){$C(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YCe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XCe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,TH(n.key),n)}}function QCe(e,t,r){return t&&XCe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function JCe(e,t,r){return t=Ub(t),ZCe(e,AH()?Reflect.construct(t,r||[],Ub(e).constructor):t.apply(e,r))}function ZCe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ePe(e)}function ePe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AH=function(){return!!e})()}function Ub(e){return Ub=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ub(e)}function tPe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mE(e,t)}function mE(e,t){return mE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},mE(e,t)}function $C(e,t,r){return t=TH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=rPe(e,"string");return gp(t)=="symbol"?t:t+""}function rPe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nPe(e){return e.dataKey}function aPe(e,t){return Oe.isValidElement(e)?Oe.cloneElement(e,t):typeof e=="function"?Oe.createElement(e,t):Oe.createElement(ICe,t)}var co=function(e){function t(){return YCe(this,t),JCe(this,t,arguments)}return tPe(t,e),QCe(t,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,o=a.animationDuration,l=a.animationEasing,c=a.content,u=a.coordinate,f=a.filterNull,h=a.isAnimationActive,d=a.offset,g=a.payload,m=a.payloadUniqBy,v=a.position,y=a.reverseDirection,b=a.useTranslate3d,w=a.viewBox,O=a.wrapperStyle,P=g??[];f&&P.length&&(P=pH(g.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),m,nPe));var I=P.length>0;return Oe.createElement(GCe,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:h,active:i,coordinate:u,hasPayload:I,offset:d,position:v,reverseDirection:y,useTranslate3d:b,viewBox:w,wrapperStyle:O},aPe(c,VL(VL({},this.props),{},{payload:P})))}}])}(W.PureComponent);$C(co,"displayName","Tooltip");$C(co,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Tc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var iPe=Gl,sPe=function(){return iPe.Date.now()},oPe=sPe,lPe=/\s/;function cPe(e){for(var t=e.length;t--&&lPe.test(e.charAt(t)););return t}var uPe=cPe,fPe=uPe,hPe=/^\s+/;function dPe(e){return e&&e.slice(0,fPe(e)+1).replace(hPe,"")}var pPe=dPe,mPe=pPe,UL=Ff,gPe=Jp,zL=NaN,vPe=/^[-+]0x[0-9a-f]+$/i,yPe=/^0b[01]+$/i,xPe=/^0o[0-7]+$/i,bPe=parseInt;function wPe(e){if(typeof e=="number")return e;if(gPe(e))return zL;if(UL(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=UL(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mPe(e);var r=yPe.test(e);return r||xPe.test(e)?bPe(e.slice(2),r?2:8):vPe.test(e)?zL:+e}var EH=wPe,_Pe=Ff,cA=oPe,qL=EH,SPe="Expected a function",APe=Math.max,TPe=Math.min;function EPe(e,t,r){var n,a,i,s,o,l,c=0,u=!1,f=!1,h=!0;if(typeof e!="function")throw new TypeError(SPe);t=qL(t)||0,_Pe(r)&&(u=!!r.leading,f="maxWait"in r,i=f?APe(qL(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function d(I){var E=n,S=a;return n=a=void 0,c=I,s=e.apply(S,E),s}function g(I){return c=I,o=setTimeout(y,t),u?d(I):s}function m(I){var E=I-l,S=I-c,A=t-E;return f?TPe(A,i-S):A}function v(I){var E=I-l,S=I-c;return l===void 0||E>=t||E<0||f&&S>=i}function y(){var I=cA();if(v(I))return b(I);o=setTimeout(y,m(I))}function b(I){return o=void 0,h&&n?d(I):(n=a=void 0,s)}function w(){o!==void 0&&clearTimeout(o),c=0,n=l=a=o=void 0}function O(){return o===void 0?s:b(cA())}function P(){var I=cA(),E=v(I);if(n=arguments,a=this,l=I,E){if(o===void 0)return g(l);if(f)return clearTimeout(o),o=setTimeout(y,t),d(l)}return o===void 0&&(o=setTimeout(y,t)),s}return P.cancel=w,P.flush=O,P}var kPe=EPe,NPe=kPe,CPe=Ff,PPe="Expected a function";function OPe(e,t,r){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(PPe);return CPe(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),NPe(e,t,{leading:n,maxWait:t,trailing:a})}var IPe=OPe;const kH=pn(IPe);function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function WL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WL(Object(r),!0).forEach(function(n){DPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DPe(e,t,r){return t=jPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jPe(e){var t=LPe(e,"string");return Yv(t)=="symbol"?t:t+""}function LPe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MPe(e,t){return BPe(e)||$Pe(e,t)||FPe(e,t)||RPe()}function RPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function FPe(e,t){if(e){if(typeof e=="string")return HL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HL(e,t)}}function HL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $Pe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function BPe(e){if(Array.isArray(e))return e}var uA=W.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=e.width,s=i===void 0?"100%":i,o=e.height,l=o===void 0?"100%":o,c=e.minWidth,u=c===void 0?0:c,f=e.minHeight,h=e.maxHeight,d=e.children,g=e.debounce,m=g===void 0?0:g,v=e.id,y=e.className,b=e.onResize,w=e.style,O=w===void 0?{}:w,P=W.useRef(null),I=W.useRef();I.current=b,W.useImperativeHandle(t,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var E=W.useState({containerWidth:a.width,containerHeight:a.height}),S=MPe(E,2),A=S[0],D=S[1],T=W.useCallback(function(j,V){D(function(Q){var Y=Math.round(j),J=Math.round(V);return Q.containerWidth===Y&&Q.containerHeight===J?Q:{containerWidth:Y,containerHeight:J}})},[]);W.useEffect(function(){var j=function(U){var re,z=U[0].contentRect,C=z.width,F=z.height;T(C,F),(re=I.current)===null||re===void 0||re.call(I,C,F)};m>0&&(j=kH(j,m,{trailing:!0,leading:!1}));var V=new ResizeObserver(j),Q=P.current.getBoundingClientRect(),Y=Q.width,J=Q.height;return T(Y,J),V.observe(P.current),function(){V.disconnect()}},[T,m]);var k=W.useMemo(function(){var j=A.containerWidth,V=A.containerHeight;if(j<0||V<0)return null;Sc(Nh(s)||Nh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Sc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=Nh(s)?j:s,Y=Nh(l)?V:l;r&&r>0&&(Q?Y=Q/r:Y&&(Q=Y*r),h&&Y>h&&(Y=h)),Sc(Q>0||Y>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,Y,s,l,u,f,r);var J=!Array.isArray(d)&&_c(d.type).endsWith("Chart");return Oe.Children.map(d,function(H){return Oe.isValidElement(H)?W.cloneElement(H,Ex({width:Q,height:Y},J?{style:Ex({height:"100%",width:"100%",maxHeight:Y,maxWidth:Q},H.props.style)}:{})):H})},[r,d,l,h,f,u,A,s]);return Oe.createElement("div",{id:v?"".concat(v):void 0,className:Gr("recharts-responsive-container",y),style:Ex(Ex({},O),{},{width:s,height:l,minWidth:u,minHeight:f,maxHeight:h}),ref:P},k)}),NH=function(t){return null};NH.displayName="Cell";function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gE(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GL(Object(r),!0).forEach(function(n){VPe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VPe(e,t,r){return t=UPe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UPe(e){var t=zPe(e,"string");return Xv(t)=="symbol"?t:t+""}function zPe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gd={widthCache:{},cacheCount:0},qPe=2e3,WPe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},KL="recharts_measurement_span";function HPe(e){var t=gE({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var qg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Tc.isSsr)return{width:0,height:0};var n=HPe(r),a=JSON.stringify({text:t,copyStyle:n});if(Gd.widthCache[a])return Gd.widthCache[a];try{var i=document.getElementById(KL);i||(i=document.createElement("span"),i.setAttribute("id",KL),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=gE(gE({},WPe),n);Object.assign(i.style,s),i.textContent="".concat(t);var o=i.getBoundingClientRect(),l={width:o.width,height:o.height};return Gd.widthCache[a]=l,++Gd.cacheCount>qPe&&(Gd.cacheCount=0,Gd.widthCache={}),l}catch{return{width:0,height:0}}},GPe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function zb(e,t){return QPe(e)||XPe(e,t)||YPe(e,t)||KPe()}function KPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YPe(e,t){if(e){if(typeof e=="string")return YL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YL(e,t)}}function YL(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function XPe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function QPe(e){if(Array.isArray(e))return e}function JPe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,e6e(n.key),n)}}function ZPe(e,t,r){return t&&XL(e.prototype,t),r&&XL(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e6e(e){var t=t6e(e,"string");return Qv(t)=="symbol"?t:t+""}function t6e(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var QL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,JL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,r6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,n6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CH={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},a6e=Object.keys(CH),_0="NaN";function i6e(e,t){return e*CH[t]}var kx=function(){function e(t,r){JPe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!r6e.test(r)&&(this.num=NaN,this.unit=""),a6e.includes(r)&&(this.num=i6e(t,r),this.unit="px")}return ZPe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=n6e.exec(r))!==null&&n!==void 0?n:[],i=zb(a,3),s=i[1],o=i[2];return new e(parseFloat(s),o??"")}}])}();function PH(e){if(e.includes(_0))return _0;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=QL.exec(t))!==null&&r!==void 0?r:[],a=zb(n,4),i=a[1],s=a[2],o=a[3],l=kx.parse(i??""),c=kx.parse(o??""),u=s==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return _0;t=t.replace(QL,u.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,h=(f=JL.exec(t))!==null&&f!==void 0?f:[],d=zb(h,4),g=d[1],m=d[2],v=d[3],y=kx.parse(g??""),b=kx.parse(v??""),w=m==="+"?y.add(b):y.subtract(b);if(w.isNaN())return _0;t=t.replace(JL,w.toString())}return t}var ZL=/\(([^()]*)\)/;function s6e(e){for(var t=e;t.includes("(");){var r=ZL.exec(t),n=zb(r,2),a=n[1];t=t.replace(ZL,PH(a))}return t}function o6e(e){var t=e.replace(/\s+/g,"");return t=s6e(t),t=PH(t),t}function l6e(e){try{return o6e(e)}catch{return _0}}function fA(e){var t=l6e(e.slice(5,-1));return t===_0?"":t}var c6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],u6e=["dx","dy","angle","className","breakAll"];function vE(){return vE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vE.apply(this,arguments)}function eM(e,t){if(e==null)return{};var r=f6e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function tM(e,t){return m6e(e)||p6e(e,t)||d6e(e,t)||h6e()}function h6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d6e(e,t){if(e){if(typeof e=="string")return rM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rM(e,t)}}function rM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function p6e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function m6e(e){if(Array.isArray(e))return e}var OH=/[ \f\n\r\t\v\u2028\u2029]+/,IH=function(t){var r=t.children,n=t.breakAll,a=t.style;try{var i=[];Ir(r)||(n?i=r.toString().split(""):i=r.toString().split(OH));var s=i.map(function(l){return{word:l,width:qg(l,a).width}}),o=n?0:qg(" ",a).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}},g6e=function(t,r,n,a,i){var s=t.maxLines,o=t.children,l=t.style,c=t.breakAll,u=jt(s),f=o,h=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(Y,J){var H=J.word,U=J.width,re=Y[Y.length-1];if(re&&(a==null||i||re.width+U+n<Number(a)))re.words.push(H),re.width+=U+n;else{var z={words:[H],width:U};Y.push(z)}return Y},[])},d=h(r),g=function(Q){return Q.reduce(function(Y,J){return Y.width>J.width?Y:J})};if(!u)return d;for(var m="…",v=function(Q){var Y=f.slice(0,Q),J=IH({breakAll:c,style:l,children:Y+m}).wordsWithComputedWidth,H=h(J),U=H.length>s||g(H).width>Number(a);return[U,H]},y=0,b=f.length-1,w=0,O;y<=b&&w<=f.length-1;){var P=Math.floor((y+b)/2),I=P-1,E=v(I),S=tM(E,2),A=S[0],D=S[1],T=v(P),k=tM(T,1),j=k[0];if(!A&&!j&&(y=P+1),A&&j&&(b=P-1),!A&&j){O=D;break}w++}return O||d},nM=function(t){var r=Ir(t)?[]:t.toString().split(OH);return[{words:r}]},v6e=function(t){var r=t.width,n=t.scaleToFit,a=t.children,i=t.style,s=t.breakAll,o=t.maxLines;if((r||n)&&!Tc.isSsr){var l,c,u=IH({breakAll:s,children:a,style:i});if(u){var f=u.wordsWithComputedWidth,h=u.spaceWidth;l=f,c=h}else return nM(a);return g6e({breakAll:s,children:a,maxLines:o,style:i},l,c,r,n)}return nM(a)},aM="#808080",qb=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.lineHeight,o=s===void 0?"1em":s,l=t.capHeight,c=l===void 0?"0.71em":l,u=t.scaleToFit,f=u===void 0?!1:u,h=t.textAnchor,d=h===void 0?"start":h,g=t.verticalAnchor,m=g===void 0?"end":g,v=t.fill,y=v===void 0?aM:v,b=eM(t,c6e),w=W.useMemo(function(){return v6e({breakAll:b.breakAll,children:b.children,maxLines:b.maxLines,scaleToFit:f,style:b.style,width:b.width})},[b.breakAll,b.children,b.maxLines,f,b.style,b.width]),O=b.dx,P=b.dy,I=b.angle,E=b.className,S=b.breakAll,A=eM(b,u6e);if(!Ca(n)||!Ca(i))return null;var D=n+(jt(O)?O:0),T=i+(jt(P)?P:0),k;switch(m){case"start":k=fA("calc(".concat(c,")"));break;case"middle":k=fA("calc(".concat((w.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:k=fA("calc(".concat(w.length-1," * -").concat(o,")"));break}var j=[];if(f){var V=w[0].width,Q=b.width;j.push("scale(".concat((jt(Q)?Q/V:1)/V,")"))}return I&&j.push("rotate(".concat(I,", ").concat(D,", ").concat(T,")")),j.length&&(A.transform=j.join(" ")),Oe.createElement("text",vE({},jr(A,!0),{x:D,y:T,className:Gr("recharts-text",E),textAnchor:d,fill:y.includes("url")?aM:y}),w.map(function(Y,J){var H=Y.words.join(S?"":" ");return Oe.createElement("tspan",{x:D,dy:J===0?k:o,key:"".concat(H,"-").concat(J)},H)}))};function pf(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function y6e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function BC(e){let t,r,n;e.length!==2?(t=pf,r=(o,l)=>pf(e(o),l),n=(o,l)=>e(o)-l):(t=e===pf||e===y6e?e:x6e,r=e,n=e);function a(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function i(o,l,c=0,u=o.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;r(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){const f=a(o,l,c,u-1);return f>c&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:a,center:s,right:i}}function x6e(){return 0}function DH(e){return e===null?NaN:+e}function*b6e(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const w6e=BC(pf),ay=w6e.right;BC(DH).center;class iM extends Map{constructor(t,r=A6e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(sM(this,t))}has(t){return super.has(sM(this,t))}set(t,r){return super.set(_6e(this,t),r)}delete(t){return super.delete(S6e(this,t))}}function sM({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function _6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function S6e({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function A6e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function T6e(e=pf){if(e===pf)return jH;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function jH(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const E6e=Math.sqrt(50),k6e=Math.sqrt(10),N6e=Math.sqrt(2);function Wb(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=E6e?10:i>=k6e?5:i>=N6e?2:1;let o,l,c;return a<0?(c=Math.pow(10,-a)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,a)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Wb(e,t,r*2):[o,l,c]}function yE(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,s]=n?Wb(t,e,r):Wb(e,t,r);if(!(i>=a))return[];const o=i-a+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(i-c)/-s;else for(let c=0;c<o;++c)l[c]=(i-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(a+c)/-s;else for(let c=0;c<o;++c)l[c]=(a+c)*s;return l}function xE(e,t,r){return t=+t,e=+e,r=+r,Wb(e,t,r)[2]}function bE(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?xE(t,e,r):xE(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function oM(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lM(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LH(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?jH:T6e(a);n>r;){if(n-r>600){const l=n-r+1,c=t-r+1,u=Math.log(l),f=.5*Math.exp(2*u/3),h=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),d=Math.max(r,Math.floor(t-c*f/l+h)),g=Math.min(n,Math.floor(t+(l-c)*f/l+h));LH(e,t,d,g,a)}const i=e[t];let s=r,o=n;for(zm(e,r,t),a(e[n],i)>0&&zm(e,r,n);s<o;){for(zm(e,s,o),++s,--o;a(e[s],i)<0;)++s;for(;a(e[o],i)>0;)--o}a(e[r],i)===0?zm(e,r,o):(++o,zm(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function zm(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function C6e(e,t,r){if(e=Float64Array.from(b6e(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lM(e);if(t>=1)return oM(e);var n,a=(n-1)*t,i=Math.floor(a),s=oM(LH(e,i).subarray(0,i+1)),o=lM(e.subarray(i+1));return s+(o-s)*(a-i)}}function P6e(e,t,r=DH){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),s=+r(e[i],i,e),o=+r(e[i+1],i+1,e);return s+(o-s)*(a-i)}}function O6e(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function To(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wE=Symbol("implicit");function VC(){var e=new iM,t=[],r=[],n=wE;function a(i){let s=e.get(i);if(s===void 0){if(n!==wE)return n;e.set(i,s=t.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new iM;for(const s of i)e.has(s)||e.set(s,t.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return VC(t,r).unknown(n)},To.apply(a,arguments),a}function Jv(){var e=VC().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,s,o=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var h=t().length,d=a<n,g=d?a:n,m=d?n:a;i=(m-g)/Math.max(1,h-l+c*2),o&&(i=Math.floor(i)),g+=(m-g-i*(h-l))*u,s=i*(1-l),o&&(g=Math.round(g),s=Math.round(s));var v=O6e(h).map(function(y){return g+i*y});return r(d?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return i},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(c=+h,f()):c},e.align=function(h){return arguments.length?(u=Math.max(0,Math.min(1,h)),f()):u},e.copy=function(){return Jv(t(),[n,a]).round(o).paddingInner(l).paddingOuter(c).align(u)},To.apply(f(),arguments)}function MH(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return MH(t())},e}function Wg(){return MH(Jv.apply(null,arguments).paddingInner(1))}function UC(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RH(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function iy(){}var Zv=.7,Hb=1/Zv,U0="\\s*([+-]?\\d+)\\s*",e1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Fl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",I6e=/^#([0-9a-f]{3,8})$/,D6e=new RegExp(`^rgb\\(${U0},${U0},${U0}\\)$`),j6e=new RegExp(`^rgb\\(${Fl},${Fl},${Fl}\\)$`),L6e=new RegExp(`^rgba\\(${U0},${U0},${U0},${e1}\\)$`),M6e=new RegExp(`^rgba\\(${Fl},${Fl},${Fl},${e1}\\)$`),R6e=new RegExp(`^hsl\\(${e1},${Fl},${Fl}\\)$`),F6e=new RegExp(`^hsla\\(${e1},${Fl},${Fl},${e1}\\)$`),cM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};UC(iy,t1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uM,formatHex:uM,formatHex8:$6e,formatHsl:B6e,formatRgb:fM,toString:fM});function uM(){return this.rgb().formatHex()}function $6e(){return this.rgb().formatHex8()}function B6e(){return FH(this).formatHsl()}function fM(){return this.rgb().formatRgb()}function t1(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=I6e.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?hM(t):r===3?new ms(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Nx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Nx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=D6e.exec(e))?new ms(t[1],t[2],t[3],1):(t=j6e.exec(e))?new ms(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=L6e.exec(e))?Nx(t[1],t[2],t[3],t[4]):(t=M6e.exec(e))?Nx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=R6e.exec(e))?mM(t[1],t[2]/100,t[3]/100,1):(t=F6e.exec(e))?mM(t[1],t[2]/100,t[3]/100,t[4]):cM.hasOwnProperty(e)?hM(cM[e]):e==="transparent"?new ms(NaN,NaN,NaN,0):null}function hM(e){return new ms(e>>16&255,e>>8&255,e&255,1)}function Nx(e,t,r,n){return n<=0&&(e=t=r=NaN),new ms(e,t,r,n)}function V6e(e){return e instanceof iy||(e=t1(e)),e?(e=e.rgb(),new ms(e.r,e.g,e.b,e.opacity)):new ms}function _E(e,t,r,n){return arguments.length===1?V6e(e):new ms(e,t,r,n??1)}function ms(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}UC(ms,_E,RH(iy,{brighter(e){return e=e==null?Hb:Math.pow(Hb,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zv:Math.pow(Zv,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ms(Bh(this.r),Bh(this.g),Bh(this.b),Gb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dM,formatHex:dM,formatHex8:U6e,formatRgb:pM,toString:pM}));function dM(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}`}function U6e(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}${Ch((isNaN(this.opacity)?1:this.opacity)*255)}`}function pM(){const e=Gb(this.opacity);return`${e===1?"rgb(":"rgba("}${Bh(this.r)}, ${Bh(this.g)}, ${Bh(this.b)}${e===1?")":`, ${e})`}`}function Gb(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Bh(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ch(e){return e=Bh(e),(e<16?"0":"")+e.toString(16)}function mM(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Jo(e,t,r,n)}function FH(e){if(e instanceof Jo)return new Jo(e.h,e.s,e.l,e.opacity);if(e instanceof iy||(e=t1(e)),!e)return new Jo;if(e instanceof Jo)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),s=NaN,o=i-a,l=(i+a)/2;return o?(t===i?s=(r-n)/o+(r<n)*6:r===i?s=(n-t)/o+2:s=(t-r)/o+4,o/=l<.5?i+a:2-i-a,s*=60):o=l>0&&l<1?0:s,new Jo(s,o,l,e.opacity)}function z6e(e,t,r,n){return arguments.length===1?FH(e):new Jo(e,t,r,n??1)}function Jo(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}UC(Jo,z6e,RH(iy,{brighter(e){return e=e==null?Hb:Math.pow(Hb,e),new Jo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zv:Math.pow(Zv,e),new Jo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new ms(hA(e>=240?e-240:e+120,a,n),hA(e,a,n),hA(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Jo(gM(this.h),Cx(this.s),Cx(this.l),Gb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Gb(this.opacity);return`${e===1?"hsl(":"hsla("}${gM(this.h)}, ${Cx(this.s)*100}%, ${Cx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gM(e){return e=(e||0)%360,e<0?e+360:e}function Cx(e){return Math.max(0,Math.min(1,e||0))}function hA(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const zC=e=>()=>e;function q6e(e,t){return function(r){return e+r*t}}function W6e(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function H6e(e){return(e=+e)==1?$H:function(t,r){return r-t?W6e(t,r,e):zC(isNaN(t)?r:t)}}function $H(e,t){var r=t-e;return r?q6e(e,r):zC(isNaN(e)?t:e)}const vM=function e(t){var r=H6e(t);function n(a,i){var s=r((a=_E(a)).r,(i=_E(i)).r),o=r(a.g,i.g),l=r(a.b,i.b),c=$H(a.opacity,i.opacity);return function(u){return a.r=s(u),a.g=o(u),a.b=l(u),a.opacity=c(u),a+""}}return n.gamma=e,n}(1);function G6e(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function K6e(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Y6e(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=sm(e[s],t[s]);for(;s<r;++s)i[s]=t[s];return function(o){for(s=0;s<n;++s)i[s]=a[s](o);return i}}function X6e(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kb(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Q6e(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=sm(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var SE=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dA=new RegExp(SE.source,"g");function J6e(e){return function(){return e}}function Z6e(e){return function(t){return e(t)+""}}function eOe(e,t){var r=SE.lastIndex=dA.lastIndex=0,n,a,i,s=-1,o=[],l=[];for(e=e+"",t=t+"";(n=SE.exec(e))&&(a=dA.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),o[s]?o[s]+=i:o[++s]=i),(n=n[0])===(a=a[0])?o[s]?o[s]+=a:o[++s]=a:(o[++s]=null,l.push({i:s,x:Kb(n,a)})),r=dA.lastIndex;return r<t.length&&(i=t.slice(r),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?Z6e(l[0].x):J6e(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function sm(e,t){var r=typeof t,n;return t==null||r==="boolean"?zC(t):(r==="number"?Kb:r==="string"?(n=t1(t))?(t=n,vM):eOe:t instanceof t1?vM:t instanceof Date?X6e:K6e(t)?G6e:Array.isArray(t)?Y6e:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Q6e:Kb)(e,t)}function qC(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function tOe(e,t){t===void 0&&(t=e,e=sm);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[o](s-o)}}function rOe(e){return function(){return e}}function Yb(e){return+e}var yM=[0,1];function Wi(e){return e}function AE(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:rOe(isNaN(t)?NaN:.5)}function nOe(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function aOe(e,t,r){var n=e[0],a=e[1],i=t[0],s=t[1];return a<n?(n=AE(a,n),i=r(s,i)):(n=AE(n,a),i=r(i,s)),function(o){return i(n(o))}}function iOe(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)a[s]=AE(e[s],e[s+1]),i[s]=r(t[s],t[s+1]);return function(o){var l=ay(e,o,1,n)-1;return i[l](a[l](o))}}function sy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function W5(){var e=yM,t=yM,r=sm,n,a,i,s=Wi,o,l,c;function u(){var h=Math.min(e.length,t.length);return s!==Wi&&(s=nOe(e[0],e[h-1])),o=h>2?iOe:aOe,l=c=null,f}function f(h){return h==null||isNaN(h=+h)?i:(l||(l=o(e.map(n),t,r)))(n(s(h)))}return f.invert=function(h){return s(a((c||(c=o(t,e.map(n),Kb)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Yb),u()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),u()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=qC,u()},f.clamp=function(h){return arguments.length?(s=h?!0:Wi,u()):s!==Wi},f.interpolate=function(h){return arguments.length?(r=h,u()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,d){return n=h,a=d,u()}}function WC(){return W5()(Wi,Wi)}function sOe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Xb(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function vp(e){return e=Xb(Math.abs(e)),e?e[1]:NaN}function oOe(e,t){return function(r,n){for(var a=r.length,i=[],s=0,o=e[0],l=0;a>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),i.push(r.substring(a-=o,a+o)),!((l+=o+1)>n));)o=e[s=(s+1)%e.length];return i.reverse().join(t)}}function lOe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var cOe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function r1(e){if(!(t=cOe.exec(e)))throw new Error("invalid format: "+e);var t;return new HC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}r1.prototype=HC.prototype;function HC(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}HC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function uOe(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var BH;function fOe(e,t){var r=Xb(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(BH=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Xb(e,Math.max(0,t+i-1))[0]}function xM(e,t){var r=Xb(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const bM={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:sOe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xM(e*100,t),r:xM,s:fOe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wM(e){return e}var _M=Array.prototype.map,SM=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function hOe(e){var t=e.grouping===void 0||e.thousands===void 0?wM:oOe(_M.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?wM:lOe(_M.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=r1(f);var h=f.fill,d=f.align,g=f.sign,m=f.symbol,v=f.zero,y=f.width,b=f.comma,w=f.precision,O=f.trim,P=f.type;P==="n"?(b=!0,P="g"):bM[P]||(w===void 0&&(w=12),O=!0,P="g"),(v||h==="0"&&d==="=")&&(v=!0,h="0",d="=");var I=m==="$"?r:m==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",E=m==="$"?n:/[%p]/.test(P)?s:"",S=bM[P],A=/[defgprs%]/.test(P);w=w===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function D(T){var k=I,j=E,V,Q,Y;if(P==="c")j=S(T)+j,T="";else{T=+T;var J=T<0||1/T<0;if(T=isNaN(T)?l:S(Math.abs(T),w),O&&(T=uOe(T)),J&&+T==0&&g!=="+"&&(J=!1),k=(J?g==="("?g:o:g==="-"||g==="("?"":g)+k,j=(P==="s"?SM[8+BH/3]:"")+j+(J&&g==="("?")":""),A){for(V=-1,Q=T.length;++V<Q;)if(Y=T.charCodeAt(V),48>Y||Y>57){j=(Y===46?a+T.slice(V+1):T.slice(V))+j,T=T.slice(0,V);break}}}b&&!v&&(T=t(T,1/0));var H=k.length+T.length+j.length,U=H<y?new Array(y-H+1).join(h):"";switch(b&&v&&(T=t(U+T,U.length?y-j.length:1/0),U=""),d){case"<":T=k+T+j+U;break;case"=":T=k+U+T+j;break;case"^":T=U.slice(0,H=U.length>>1)+k+T+j+U.slice(H);break;default:T=U+k+T+j;break}return i(T)}return D.toString=function(){return f+""},D}function u(f,h){var d=c((f=r1(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(vp(h)/3)))*3,m=Math.pow(10,-g),v=SM[8+g/3];return function(y){return d(m*y)+v}}return{format:c,formatPrefix:u}}var Px,GC,VH;dOe({thousands:",",grouping:[3],currency:["$",""]});function dOe(e){return Px=hOe(e),GC=Px.format,VH=Px.formatPrefix,Px}function pOe(e){return Math.max(0,-vp(Math.abs(e)))}function mOe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vp(t)/3)))*3-vp(Math.abs(e)))}function gOe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,vp(t)-vp(e))+1}function UH(e,t,r,n){var a=bE(e,t,r),i;switch(n=r1(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mOe(a,s))&&(n.precision=i),VH(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=gOe(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=pOe(a))&&(n.precision=i-(n.type==="%")*2);break}}return GC(n)}function Bf(e){var t=e.domain;return e.ticks=function(r){var n=t();return yE(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return UH(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,s=n[a],o=n[i],l,c,u=10;for(o<s&&(c=s,s=o,o=c,c=a,a=i,i=c);u-- >0;){if(c=xE(s,o,r),c===l)return n[a]=s,n[i]=o,t(n);if(c>0)s=Math.floor(s/c)*c,o=Math.ceil(o/c)*c;else if(c<0)s=Math.ceil(s*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Qb(){var e=WC();return e.copy=function(){return sy(e,Qb())},To.apply(e,arguments),Bf(e)}function zH(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Yb),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return zH(e).unknown(t)},e=arguments.length?Array.from(e,Yb):[0,1],Bf(r)}function qH(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),e[r]=t.floor(a),e[n]=t.ceil(i),e}function AM(e){return Math.log(e)}function TM(e){return Math.exp(e)}function vOe(e){return-Math.log(-e)}function yOe(e){return-Math.exp(-e)}function xOe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bOe(e){return e===10?xOe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function wOe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function EM(e){return(t,r)=>-e(-t,r)}function KC(e){const t=e(AM,TM),r=t.domain;let n=10,a,i;function s(){return a=wOe(n),i=bOe(n),r()[0]<0?(a=EM(a),i=EM(i),e(vOe,yOe)):e(AM,TM),t}return t.base=function(o){return arguments.length?(n=+o,s()):n},t.domain=function(o){return arguments.length?(r(o),s()):r()},t.ticks=o=>{const l=r();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let h=a(c),d=a(u),g,m;const v=o==null?10:+o;let y=[];if(!(n%1)&&d-h<v){if(h=Math.floor(h),d=Math.ceil(d),c>0){for(;h<=d;++h)for(g=1;g<n;++g)if(m=h<0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}}else for(;h<=d;++h)for(g=n-1;g>=1;--g)if(m=h>0?g/i(-h):g*i(h),!(m<c)){if(m>u)break;y.push(m)}y.length*2<v&&(y=yE(c,u,v))}else y=yE(h,d,Math.min(d-h,v)).map(i);return f?y.reverse():y},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=r1(l)).precision==null&&(l.trim=!0),l=GC(l)),o===1/0)return l;const c=Math.max(1,n*o/t.ticks().length);return u=>{let f=u/i(Math.round(a(u)));return f*n<n-.5&&(f*=n),f<=c?l(u):""}},t.nice=()=>r(qH(r(),{floor:o=>i(Math.floor(a(o))),ceil:o=>i(Math.ceil(a(o)))})),t}function WH(){const e=KC(W5()).domain([1,10]);return e.copy=()=>sy(e,WH()).base(e.base()),To.apply(e,arguments),e}function kM(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function NM(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function YC(e){var t=1,r=e(kM(t),NM(t));return r.constant=function(n){return arguments.length?e(kM(t=+n),NM(t)):t},Bf(r)}function HH(){var e=YC(W5());return e.copy=function(){return sy(e,HH()).constant(e.constant())},To.apply(e,arguments)}function CM(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _Oe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function SOe(e){return e<0?-e*e:e*e}function XC(e){var t=e(Wi,Wi),r=1;function n(){return r===1?e(Wi,Wi):r===.5?e(_Oe,SOe):e(CM(r),CM(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Bf(t)}function QC(){var e=XC(W5());return e.copy=function(){return sy(e,QC()).exponent(e.exponent())},To.apply(e,arguments),e}function AOe(){return QC.apply(null,arguments).exponent(.5)}function PM(e){return Math.sign(e)*e*e}function TOe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GH(){var e=WC(),t=[0,1],r=!1,n;function a(i){var s=TOe(e(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return e.invert(PM(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Yb)).map(PM)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return GH(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},To.apply(a,arguments),Bf(a)}function KH(){var e=[],t=[],r=[],n;function a(){var s=0,o=Math.max(1,t.length);for(r=new Array(o-1);++s<o;)r[s-1]=P6e(e,s/o);return i}function i(s){return s==null||isNaN(s=+s)?n:t[ay(r,s)]}return i.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:e[0],o<r.length?r[o]:e[e.length-1]]},i.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(pf),a()},i.range=function(s){return arguments.length?(t=Array.from(s),a()):t.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return KH().domain(e).range(t).unknown(n)},To.apply(i,arguments)}function YH(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function s(l){return l!=null&&l<=l?a[ay(n,l,0,r)]:i}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*t-(l-r)*e)/(r+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(r=(a=Array.from(l)).length-1,o()):a.slice()},s.invertExtent=function(l){var c=a.indexOf(l);return c<0?[NaN,NaN]:c<1?[e,n[0]]:c>=r?[n[r-1],t]:[n[c-1],n[c]]},s.unknown=function(l){return arguments.length&&(i=l),s},s.thresholds=function(){return n.slice()},s.copy=function(){return YH().domain([e,t]).range(a).unknown(i)},To.apply(Bf(s),arguments)}function XH(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[ay(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var s=t.indexOf(i);return[e[s-1],e[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return XH().domain(e).range(t).unknown(r)},To.apply(a,arguments)}const pA=new Date,mA=new Date;function Ia(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const s=a(i),o=a.ceil(i);return i-s<o-i?s:o},a.offset=(i,s)=>(t(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,o)=>{const l=[];if(i=a.ceil(i),o=o==null?1:Math.floor(o),!(i<s)||!(o>0))return l;let c;do l.push(c=new Date(+i)),t(i,o),e(i);while(c<i&&i<s);return l},a.filter=i=>Ia(s=>{if(s>=s)for(;e(s),!i(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!i(s););else for(;--o>=0;)for(;t(s,1),!i(s););}),r&&(a.count=(i,s)=>(pA.setTime(+i),mA.setTime(+s),e(pA),e(mA),Math.floor(r(pA,mA))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const Jb=Ia(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Jb.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Ia(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Jb);Jb.range;const gc=1e3,po=gc*60,vc=po*60,Vc=vc*24,JC=Vc*7,OM=Vc*30,gA=Vc*365,Ph=Ia(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*gc)},(e,t)=>(t-e)/gc,e=>e.getUTCSeconds());Ph.range;const ZC=Ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getMinutes());ZC.range;const eP=Ia(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*po)},(e,t)=>(t-e)/po,e=>e.getUTCMinutes());eP.range;const tP=Ia(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*gc-e.getMinutes()*po)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getHours());tP.range;const rP=Ia(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vc)},(e,t)=>(t-e)/vc,e=>e.getUTCHours());rP.range;const oy=Ia(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*po)/Vc,e=>e.getDate()-1);oy.range;const H5=Ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vc,e=>e.getUTCDate()-1);H5.range;const QH=Ia(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Vc,e=>Math.floor(e/Vc));QH.range;function yd(e){return Ia(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*po)/JC)}const G5=yd(0),Zb=yd(1),EOe=yd(2),kOe=yd(3),yp=yd(4),NOe=yd(5),COe=yd(6);G5.range;Zb.range;EOe.range;kOe.range;yp.range;NOe.range;COe.range;function xd(e){return Ia(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/JC)}const K5=xd(0),ew=xd(1),POe=xd(2),OOe=xd(3),xp=xd(4),IOe=xd(5),DOe=xd(6);K5.range;ew.range;POe.range;OOe.range;xp.range;IOe.range;DOe.range;const nP=Ia(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());nP.range;const aP=Ia(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());aP.range;const Uc=Ia(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Uc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ia(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Uc.range;const zc=Ia(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Ia(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zc.range;function JH(e,t,r,n,a,i){const s=[[Ph,1,gc],[Ph,5,5*gc],[Ph,15,15*gc],[Ph,30,30*gc],[i,1,po],[i,5,5*po],[i,15,15*po],[i,30,30*po],[a,1,vc],[a,3,3*vc],[a,6,6*vc],[a,12,12*vc],[n,1,Vc],[n,2,2*Vc],[r,1,JC],[t,1,OM],[t,3,3*OM],[e,1,gA]];function o(c,u,f){const h=u<c;h&&([c,u]=[u,c]);const d=f&&typeof f.range=="function"?f:l(c,u,f),g=d?d.range(c,+u+1):[];return h?g.reverse():g}function l(c,u,f){const h=Math.abs(u-c)/f,d=BC(([,,v])=>v).right(s,h);if(d===s.length)return e.every(bE(c/gA,u/gA,f));if(d===0)return Jb.every(Math.max(bE(c,u,f),1));const[g,m]=s[h/s[d-1][2]<s[d][2]/h?d-1:d];return g.every(m)}return[o,l]}const[jOe,LOe]=JH(zc,aP,K5,QH,rP,eP),[MOe,ROe]=JH(Uc,nP,G5,oy,tP,ZC);function vA(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yA(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function qm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function FOe(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Wm(a),u=Hm(a),f=Wm(i),h=Hm(i),d=Wm(s),g=Hm(s),m=Wm(o),v=Hm(o),y=Wm(l),b=Hm(l),w={a:J,A:H,b:U,B:re,c:null,d:RM,e:RM,f:oIe,g:vIe,G:xIe,H:aIe,I:iIe,j:sIe,L:ZH,m:lIe,M:cIe,p:z,q:C,Q:BM,s:VM,S:uIe,u:fIe,U:hIe,V:dIe,w:pIe,W:mIe,x:null,X:null,y:gIe,Y:yIe,Z:bIe,"%":$M},O={a:F,A:q,b:K,B:Z,c:null,d:FM,e:FM,f:AIe,g:jIe,G:MIe,H:wIe,I:_Ie,j:SIe,L:tG,m:TIe,M:EIe,p:oe,q:fe,Q:BM,s:VM,S:kIe,u:NIe,U:CIe,V:PIe,w:OIe,W:IIe,x:null,X:null,y:DIe,Y:LIe,Z:RIe,"%":$M},P={a:D,A:T,b:k,B:j,c:V,d:LM,e:LM,f:eIe,g:jM,G:DM,H:MM,I:MM,j:XOe,L:ZOe,m:YOe,M:QOe,p:A,q:KOe,Q:rIe,s:nIe,S:JOe,u:zOe,U:qOe,V:WOe,w:UOe,W:HOe,x:Q,X:Y,y:jM,Y:DM,Z:GOe,"%":tIe};w.x=I(r,w),w.X=I(n,w),w.c=I(t,w),O.x=I(r,O),O.X=I(n,O),O.c=I(t,O);function I(ie,de){return function(_e){var B=[],Te=-1,ge=0,ve=ie.length,te,ke,$e;for(_e instanceof Date||(_e=new Date(+_e));++Te<ve;)ie.charCodeAt(Te)===37&&(B.push(ie.slice(ge,Te)),(ke=IM[te=ie.charAt(++Te)])!=null?te=ie.charAt(++Te):ke=te==="e"?" ":"0",($e=de[te])&&(te=$e(_e,ke)),B.push(te),ge=Te+1);return B.push(ie.slice(ge,Te)),B.join("")}}function E(ie,de){return function(_e){var B=qm(1900,void 0,1),Te=S(B,ie,_e+="",0),ge,ve;if(Te!=_e.length)return null;if("Q"in B)return new Date(B.Q);if("s"in B)return new Date(B.s*1e3+("L"in B?B.L:0));if(de&&!("Z"in B)&&(B.Z=0),"p"in B&&(B.H=B.H%12+B.p*12),B.m===void 0&&(B.m="q"in B?B.q:0),"V"in B){if(B.V<1||B.V>53)return null;"w"in B||(B.w=1),"Z"in B?(ge=yA(qm(B.y,0,1)),ve=ge.getUTCDay(),ge=ve>4||ve===0?ew.ceil(ge):ew(ge),ge=H5.offset(ge,(B.V-1)*7),B.y=ge.getUTCFullYear(),B.m=ge.getUTCMonth(),B.d=ge.getUTCDate()+(B.w+6)%7):(ge=vA(qm(B.y,0,1)),ve=ge.getDay(),ge=ve>4||ve===0?Zb.ceil(ge):Zb(ge),ge=oy.offset(ge,(B.V-1)*7),B.y=ge.getFullYear(),B.m=ge.getMonth(),B.d=ge.getDate()+(B.w+6)%7)}else("W"in B||"U"in B)&&("w"in B||(B.w="u"in B?B.u%7:"W"in B?1:0),ve="Z"in B?yA(qm(B.y,0,1)).getUTCDay():vA(qm(B.y,0,1)).getDay(),B.m=0,B.d="W"in B?(B.w+6)%7+B.W*7-(ve+5)%7:B.w+B.U*7-(ve+6)%7);return"Z"in B?(B.H+=B.Z/100|0,B.M+=B.Z%100,yA(B)):vA(B)}}function S(ie,de,_e,B){for(var Te=0,ge=de.length,ve=_e.length,te,ke;Te<ge;){if(B>=ve)return-1;if(te=de.charCodeAt(Te++),te===37){if(te=de.charAt(Te++),ke=P[te in IM?de.charAt(Te++):te],!ke||(B=ke(ie,_e,B))<0)return-1}else if(te!=_e.charCodeAt(B++))return-1}return B}function A(ie,de,_e){var B=c.exec(de.slice(_e));return B?(ie.p=u.get(B[0].toLowerCase()),_e+B[0].length):-1}function D(ie,de,_e){var B=d.exec(de.slice(_e));return B?(ie.w=g.get(B[0].toLowerCase()),_e+B[0].length):-1}function T(ie,de,_e){var B=f.exec(de.slice(_e));return B?(ie.w=h.get(B[0].toLowerCase()),_e+B[0].length):-1}function k(ie,de,_e){var B=y.exec(de.slice(_e));return B?(ie.m=b.get(B[0].toLowerCase()),_e+B[0].length):-1}function j(ie,de,_e){var B=m.exec(de.slice(_e));return B?(ie.m=v.get(B[0].toLowerCase()),_e+B[0].length):-1}function V(ie,de,_e){return S(ie,t,de,_e)}function Q(ie,de,_e){return S(ie,r,de,_e)}function Y(ie,de,_e){return S(ie,n,de,_e)}function J(ie){return s[ie.getDay()]}function H(ie){return i[ie.getDay()]}function U(ie){return l[ie.getMonth()]}function re(ie){return o[ie.getMonth()]}function z(ie){return a[+(ie.getHours()>=12)]}function C(ie){return 1+~~(ie.getMonth()/3)}function F(ie){return s[ie.getUTCDay()]}function q(ie){return i[ie.getUTCDay()]}function K(ie){return l[ie.getUTCMonth()]}function Z(ie){return o[ie.getUTCMonth()]}function oe(ie){return a[+(ie.getUTCHours()>=12)]}function fe(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var de=I(ie+="",w);return de.toString=function(){return ie},de},parse:function(ie){var de=E(ie+="",!1);return de.toString=function(){return ie},de},utcFormat:function(ie){var de=I(ie+="",O);return de.toString=function(){return ie},de},utcParse:function(ie){var de=E(ie+="",!0);return de.toString=function(){return ie},de}}}var IM={"-":"",_:" ",0:"0"},za=/^\s*\d+/,$Oe=/^%/,BOe=/[\\^$*+?|[\]().{}]/g;function Kr(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function VOe(e){return e.replace(BOe,"\\$&")}function Wm(e){return new RegExp("^(?:"+e.map(VOe).join("|")+")","i")}function Hm(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function UOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function zOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function qOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function WOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function HOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function DM(e,t,r){var n=za.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function jM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function GOe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KOe(e,t,r){var n=za.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function YOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function LM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function XOe(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function MM(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function QOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function JOe(e,t,r){var n=za.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function ZOe(e,t,r){var n=za.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eIe(e,t,r){var n=za.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tIe(e,t,r){var n=$Oe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rIe(e,t,r){var n=za.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nIe(e,t,r){var n=za.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function RM(e,t){return Kr(e.getDate(),t,2)}function aIe(e,t){return Kr(e.getHours(),t,2)}function iIe(e,t){return Kr(e.getHours()%12||12,t,2)}function sIe(e,t){return Kr(1+oy.count(Uc(e),e),t,3)}function ZH(e,t){return Kr(e.getMilliseconds(),t,3)}function oIe(e,t){return ZH(e,t)+"000"}function lIe(e,t){return Kr(e.getMonth()+1,t,2)}function cIe(e,t){return Kr(e.getMinutes(),t,2)}function uIe(e,t){return Kr(e.getSeconds(),t,2)}function fIe(e){var t=e.getDay();return t===0?7:t}function hIe(e,t){return Kr(G5.count(Uc(e)-1,e),t,2)}function eG(e){var t=e.getDay();return t>=4||t===0?yp(e):yp.ceil(e)}function dIe(e,t){return e=eG(e),Kr(yp.count(Uc(e),e)+(Uc(e).getDay()===4),t,2)}function pIe(e){return e.getDay()}function mIe(e,t){return Kr(Zb.count(Uc(e)-1,e),t,2)}function gIe(e,t){return Kr(e.getFullYear()%100,t,2)}function vIe(e,t){return e=eG(e),Kr(e.getFullYear()%100,t,2)}function yIe(e,t){return Kr(e.getFullYear()%1e4,t,4)}function xIe(e,t){var r=e.getDay();return e=r>=4||r===0?yp(e):yp.ceil(e),Kr(e.getFullYear()%1e4,t,4)}function bIe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Kr(t/60|0,"0",2)+Kr(t%60,"0",2)}function FM(e,t){return Kr(e.getUTCDate(),t,2)}function wIe(e,t){return Kr(e.getUTCHours(),t,2)}function _Ie(e,t){return Kr(e.getUTCHours()%12||12,t,2)}function SIe(e,t){return Kr(1+H5.count(zc(e),e),t,3)}function tG(e,t){return Kr(e.getUTCMilliseconds(),t,3)}function AIe(e,t){return tG(e,t)+"000"}function TIe(e,t){return Kr(e.getUTCMonth()+1,t,2)}function EIe(e,t){return Kr(e.getUTCMinutes(),t,2)}function kIe(e,t){return Kr(e.getUTCSeconds(),t,2)}function NIe(e){var t=e.getUTCDay();return t===0?7:t}function CIe(e,t){return Kr(K5.count(zc(e)-1,e),t,2)}function rG(e){var t=e.getUTCDay();return t>=4||t===0?xp(e):xp.ceil(e)}function PIe(e,t){return e=rG(e),Kr(xp.count(zc(e),e)+(zc(e).getUTCDay()===4),t,2)}function OIe(e){return e.getUTCDay()}function IIe(e,t){return Kr(ew.count(zc(e)-1,e),t,2)}function DIe(e,t){return Kr(e.getUTCFullYear()%100,t,2)}function jIe(e,t){return e=rG(e),Kr(e.getUTCFullYear()%100,t,2)}function LIe(e,t){return Kr(e.getUTCFullYear()%1e4,t,4)}function MIe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?xp(e):xp.ceil(e),Kr(e.getUTCFullYear()%1e4,t,4)}function RIe(){return"+0000"}function $M(){return"%"}function BM(e){return+e}function VM(e){return Math.floor(+e/1e3)}var Kd,nG,aG;FIe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FIe(e){return Kd=FOe(e),nG=Kd.format,Kd.parse,aG=Kd.utcFormat,Kd.utcParse,Kd}function $Ie(e){return new Date(e)}function BIe(e){return e instanceof Date?+e:+new Date(+e)}function iP(e,t,r,n,a,i,s,o,l,c){var u=WC(),f=u.invert,h=u.domain,d=c(".%L"),g=c(":%S"),m=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),O=c("%Y");function P(I){return(l(I)<I?d:o(I)<I?g:s(I)<I?m:i(I)<I?v:n(I)<I?a(I)<I?y:b:r(I)<I?w:O)(I)}return u.invert=function(I){return new Date(f(I))},u.domain=function(I){return arguments.length?h(Array.from(I,BIe)):h().map($Ie)},u.ticks=function(I){var E=h();return e(E[0],E[E.length-1],I??10)},u.tickFormat=function(I,E){return E==null?P:c(E)},u.nice=function(I){var E=h();return(!I||typeof I.range!="function")&&(I=t(E[0],E[E.length-1],I??10)),I?h(qH(E,I)):u},u.copy=function(){return sy(u,iP(e,t,r,n,a,i,s,o,l,c))},u}function VIe(){return To.apply(iP(MOe,ROe,Uc,nP,G5,oy,tP,ZC,Ph,nG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UIe(){return To.apply(iP(jOe,LOe,zc,aP,K5,H5,rP,eP,Ph,aG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y5(){var e=0,t=1,r,n,a,i,s=Wi,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:s(a===0?.5:(f=(i(f)-r)*a,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),c):[e,t]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(s=f,c):s};function u(f){return function(h){var d,g;return arguments.length?([d,g]=h,s=f(d,g),c):[s(0),s(1)]}}return c.range=u(sm),c.rangeRound=u(qC),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),c}}function Vf(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function iG(){var e=Bf(Y5()(Wi));return e.copy=function(){return Vf(e,iG())},Zc.apply(e,arguments)}function sG(){var e=KC(Y5()).domain([1,10]);return e.copy=function(){return Vf(e,sG()).base(e.base())},Zc.apply(e,arguments)}function oG(){var e=YC(Y5());return e.copy=function(){return Vf(e,oG()).constant(e.constant())},Zc.apply(e,arguments)}function sP(){var e=XC(Y5());return e.copy=function(){return Vf(e,sP()).exponent(e.exponent())},Zc.apply(e,arguments)}function zIe(){return sP.apply(null,arguments).exponent(.5)}function lG(){var e=[],t=Wi;function r(n){if(n!=null&&!isNaN(n=+n))return t((ay(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(pf),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>C6e(e,i/n))},r.copy=function(){return lG(t).domain(e)},Zc.apply(r,arguments)}function X5(){var e=0,t=.5,r=1,n=1,a,i,s,o,l,c=Wi,u,f=!1,h;function d(m){return isNaN(m=+m)?h:(m=.5+((m=+u(m))-i)*(n*m<n*i?o:l),c(f?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t,r]=m,a=u(e=+e),i=u(t=+t),s=u(r=+r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d):[e,t,r]},d.clamp=function(m){return arguments.length?(f=!!m,d):f},d.interpolator=function(m){return arguments.length?(c=m,d):c};function g(m){return function(v){var y,b,w;return arguments.length?([y,b,w]=v,c=tOe(m,[y,b,w]),d):[c(0),c(.5),c(1)]}}return d.range=g(sm),d.rangeRound=g(qC),d.unknown=function(m){return arguments.length?(h=m,d):h},function(m){return u=m,a=m(e),i=m(t),s=m(r),o=a===i?0:.5/(i-a),l=i===s?0:.5/(s-i),n=i<a?-1:1,d}}function cG(){var e=Bf(X5()(Wi));return e.copy=function(){return Vf(e,cG())},Zc.apply(e,arguments)}function uG(){var e=KC(X5()).domain([.1,1,10]);return e.copy=function(){return Vf(e,uG()).base(e.base())},Zc.apply(e,arguments)}function fG(){var e=YC(X5());return e.copy=function(){return Vf(e,fG()).constant(e.constant())},Zc.apply(e,arguments)}function oP(){var e=XC(X5());return e.copy=function(){return Vf(e,oP()).exponent(e.exponent())},Zc.apply(e,arguments)}function qIe(){return oP.apply(null,arguments).exponent(.5)}const UM=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Jv,scaleDiverging:cG,scaleDivergingLog:uG,scaleDivergingPow:oP,scaleDivergingSqrt:qIe,scaleDivergingSymlog:fG,scaleIdentity:zH,scaleImplicit:wE,scaleLinear:Qb,scaleLog:WH,scaleOrdinal:VC,scalePoint:Wg,scalePow:QC,scaleQuantile:KH,scaleQuantize:YH,scaleRadial:GH,scaleSequential:iG,scaleSequentialLog:sG,scaleSequentialPow:sP,scaleSequentialQuantile:lG,scaleSequentialSqrt:zIe,scaleSequentialSymlog:oG,scaleSqrt:AOe,scaleSymlog:HH,scaleThreshold:XH,scaleTime:VIe,scaleUtc:UIe,tickFormat:UH},Symbol.toStringTag,{value:"Module"}));var WIe=Jp;function HIe(e,t,r){for(var n=-1,a=e.length;++n<a;){var i=e[n],s=t(i);if(s!=null&&(o===void 0?s===s&&!WIe(s):r(s,o)))var o=s,l=i}return l}var hG=HIe;function GIe(e,t){return e>t}var KIe=GIe,YIe=hG,XIe=KIe,QIe=im;function JIe(e){return e&&e.length?YIe(e,QIe,XIe):void 0}var ZIe=JIe;const Q5=pn(ZIe);function e8e(e,t){return e<t}var t8e=e8e,r8e=hG,n8e=t8e,a8e=im;function i8e(e){return e&&e.length?r8e(e,a8e,n8e):void 0}var s8e=i8e;const J5=pn(s8e);var o8e=wC,l8e=$f,c8e=bH,u8e=bs;function f8e(e,t){var r=u8e(e)?o8e:c8e;return r(e,l8e(t))}var h8e=f8e,d8e=yH,p8e=h8e;function m8e(e,t){return d8e(p8e(e,t),1)}var g8e=m8e;const v8e=pn(g8e);var y8e=MC;function x8e(e,t){return y8e(e,t)}var b8e=x8e;const Z5=pn(b8e);var om=1e9,w8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cP,Mn=!0,_o="[DecimalError] ",Vh=_o+"Invalid argument: ",lP=_o+"Exponent out of range: ",lm=Math.floor,vh=Math.pow,_8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ls,Ra=1e7,Cn=7,dG=9007199254740991,tw=lm(dG/Cn),Ht={};Ht.absoluteValue=Ht.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ht.comparedTo=Ht.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Ht.decimalPlaces=Ht.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Cn;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Ht.dividedBy=Ht.div=function(e){return Ec(this,new this.constructor(e))};Ht.dividedToIntegerBy=Ht.idiv=function(e){var t=this,r=t.constructor;return xn(Ec(t,new r(e),0,1),r.precision)};Ht.equals=Ht.eq=function(e){return!this.cmp(e)};Ht.exponent=function(){return ya(this)};Ht.greaterThan=Ht.gt=function(e){return this.cmp(e)>0};Ht.greaterThanOrEqualTo=Ht.gte=function(e){return this.cmp(e)>=0};Ht.isInteger=Ht.isint=function(){return this.e>this.d.length-2};Ht.isNegative=Ht.isneg=function(){return this.s<0};Ht.isPositive=Ht.ispos=function(){return this.s>0};Ht.isZero=function(){return this.s===0};Ht.lessThan=Ht.lt=function(e){return this.cmp(e)<0};Ht.lessThanOrEqualTo=Ht.lte=function(e){return this.cmp(e)<1};Ht.logarithm=Ht.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ls))throw Error(_o+"NaN");if(r.s<1)throw Error(_o+(r.s?"NaN":"-Infinity"));return r.eq(Ls)?new n(0):(Mn=!1,t=Ec(n1(r,i),n1(e,i),i),Mn=!0,xn(t,a))};Ht.minus=Ht.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gG(t,e):pG(t,(e.s=-e.s,e))};Ht.modulo=Ht.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(_o+"NaN");return r.s?(Mn=!1,t=Ec(r,e,0,1).times(e),Mn=!0,r.minus(t)):xn(new n(r),a)};Ht.naturalExponential=Ht.exp=function(){return mG(this)};Ht.naturalLogarithm=Ht.ln=function(){return n1(this)};Ht.negated=Ht.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ht.plus=Ht.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pG(t,e):gG(t,(e.s=-e.s,e))};Ht.precision=Ht.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vh+e);if(t=ya(a)+1,n=a.d.length-1,r=n*Cn+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Ht.squareRoot=Ht.sqrt=function(){var e,t,r,n,a,i,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(_o+"NaN")}for(e=ya(o),Mn=!1,a=Math.sqrt(+o),a==0||a==1/0?(t=Cl(o.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=lm((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new l(t)):n=new l(a.toString()),r=l.precision,a=s=r+3;;)if(i=n,n=i.plus(Ec(o,i,s+2)).times(.5),Cl(i.d).slice(0,s)===(t=Cl(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),a==s&&t=="4999"){if(xn(i,r+1,0),i.times(i).eq(o)){n=i;break}}else if(t!="9999")break;s+=4}return Mn=!0,xn(n,r)};Ht.times=Ht.mul=function(e){var t,r,n,a,i,s,o,l,c,u=this,f=u.constructor,h=u.d,d=(e=new f(e)).d;if(!u.s||!e.s)return new f(0);for(e.s*=u.s,r=u.e+e.e,l=h.length,c=d.length,l<c&&(i=h,h=d,d=i,s=l,l=c,c=s),i=[],s=l+c,n=s;n--;)i.push(0);for(n=c;--n>=0;){for(t=0,a=l+n;a>n;)o=i[a]+d[n]*h[a-n-1]+t,i[a--]=o%Ra|0,t=o/Ra|0;i[a]=(i[a]+t)%Ra|0}for(;!i[--s];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Mn?xn(e,f.precision):e};Ht.toDecimalPlaces=Ht.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(zl(e,0,om),t===void 0?t=n.rounding:zl(t,0,8),xn(r,e+ya(r)+1,t))};Ht.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=rd(n,!0):(zl(e,0,om),t===void 0?t=a.rounding:zl(t,0,8),n=xn(new a(n),e+1,t),r=rd(n,!0,e+1)),r};Ht.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?rd(a):(zl(e,0,om),t===void 0?t=i.rounding:zl(t,0,8),n=xn(new i(a),e+ya(a)+1,t),r=rd(n.abs(),!1,e+ya(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Ht.toInteger=Ht.toint=function(){var e=this,t=e.constructor;return xn(new t(e),ya(e)+1,t.rounding)};Ht.toNumber=function(){return+this};Ht.toPower=Ht.pow=function(e){var t,r,n,a,i,s,o=this,l=o.constructor,c=12,u=+(e=new l(e));if(!e.s)return new l(Ls);if(o=new l(o),!o.s){if(e.s<1)throw Error(_o+"Infinity");return o}if(o.eq(Ls))return o;if(n=l.precision,e.eq(Ls))return xn(o,n);if(t=e.e,r=e.d.length-1,s=t>=r,i=o.s,s){if((r=u<0?-u:u)<=dG){for(a=new l(Ls),t=Math.ceil(n/Cn+4),Mn=!1;r%2&&(a=a.times(o),qM(a.d,t)),r=lm(r/2),r!==0;)o=o.times(o),qM(o.d,t);return Mn=!0,e.s<0?new l(Ls).div(a):xn(a,n)}}else if(i<0)throw Error(_o+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,o.s=1,Mn=!1,a=e.times(n1(o,n+c)),Mn=!0,a=mG(a),a.s=i,a};Ht.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ya(a),n=rd(a,r<=i.toExpNeg||r>=i.toExpPos)):(zl(e,1,om),t===void 0?t=i.rounding:zl(t,0,8),a=xn(new i(a),e,t),r=ya(a),n=rd(a,e<=r||r<=i.toExpNeg,e)),n};Ht.toSignificantDigits=Ht.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(zl(e,1,om),t===void 0?t=n.rounding:zl(t,0,8)),xn(new n(r),e,t)};Ht.toString=Ht.valueOf=Ht.val=Ht.toJSON=Ht[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ya(e),r=e.constructor;return rd(e,t<=r.toExpNeg||t>=r.toExpPos)};function pG(e,t){var r,n,a,i,s,o,l,c,u=e.constructor,f=u.precision;if(!e.s||!t.s)return t.s||(t=new u(e)),Mn?xn(t,f):t;if(l=e.d,c=t.d,s=e.e,a=t.e,l=l.slice(),i=s-a,i){for(i<0?(n=l,i=-i,o=c.length):(n=c,a=s,o=l.length),s=Math.ceil(f/Cn),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=l.length,i=c.length,o-i<0&&(i=o,n=c,c=l,l=n),r=0;i;)r=(l[--i]=l[i]+c[i]+r)/Ra|0,l[i]%=Ra;for(r&&(l.unshift(r),++a),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=a,Mn?xn(t,f):t}function zl(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Vh+e)}function Cl(e){var t,r,n,a=e.length-1,i="",s=e[0];if(a>0){for(i+=s,t=1;t<a;t++)n=e[t]+"",r=Cn-n.length,r&&(i+=Mu(r)),i+=n;s=e[t],n=s+"",r=Cn-n.length,r&&(i+=Mu(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Ec=function(){function e(n,a){var i,s=0,o=n.length;for(n=n.slice();o--;)i=n[o]*a+s,n[o]=i%Ra|0,s=i/Ra|0;return s&&n.unshift(s),n}function t(n,a,i,s){var o,l;if(i!=s)l=i>s?1:-1;else for(o=l=0;o<i;o++)if(n[o]!=a[o]){l=n[o]>a[o]?1:-1;break}return l}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ra+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var o,l,c,u,f,h,d,g,m,v,y,b,w,O,P,I,E,S,A=n.constructor,D=n.s==a.s?1:-1,T=n.d,k=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(_o+"Division by zero");for(l=n.e-a.e,E=k.length,P=T.length,d=new A(D),g=d.d=[],c=0;k[c]==(T[c]||0);)++c;if(k[c]>(T[c]||0)&&--l,i==null?b=i=A.precision:s?b=i+(ya(n)-ya(a))+1:b=i,b<0)return new A(0);if(b=b/Cn+2|0,c=0,E==1)for(u=0,k=k[0],b++;(c<P||u)&&b--;c++)w=u*Ra+(T[c]||0),g[c]=w/k|0,u=w%k|0;else{for(u=Ra/(k[0]+1)|0,u>1&&(k=e(k,u),T=e(T,u),E=k.length,P=T.length),O=E,m=T.slice(0,E),v=m.length;v<E;)m[v++]=0;S=k.slice(),S.unshift(0),I=k[0],k[1]>=Ra/2&&++I;do u=0,o=t(k,m,E,v),o<0?(y=m[0],E!=v&&(y=y*Ra+(m[1]||0)),u=y/I|0,u>1?(u>=Ra&&(u=Ra-1),f=e(k,u),h=f.length,v=m.length,o=t(f,m,h,v),o==1&&(u--,r(f,E<h?S:k,h))):(u==0&&(o=u=1),f=k.slice()),h=f.length,h<v&&f.unshift(0),r(m,f,v),o==-1&&(v=m.length,o=t(k,m,E,v),o<1&&(u++,r(m,E<v?S:k,v))),v=m.length):o===0&&(u++,m=[0]),g[c++]=u,o&&m[0]?m[v++]=T[O]||0:(m=[T[O]],v=1);while((O++<P||m[0]!==void 0)&&b--)}return g[0]||g.shift(),d.e=l,xn(d,s?i+ya(d)+1:i)}}();function mG(e,t){var r,n,a,i,s,o,l=0,c=0,u=e.constructor,f=u.precision;if(ya(e)>16)throw Error(lP+ya(e));if(!e.s)return new u(Ls);for(t==null?(Mn=!1,o=f):o=t,s=new u(.03125);e.abs().gte(.1);)e=e.times(s),c+=5;for(n=Math.log(vh(2,c))/Math.LN10*2+5|0,o+=n,r=a=i=new u(Ls),u.precision=o;;){if(a=xn(a.times(e),o),r=r.times(++l),s=i.plus(Ec(a,r,o)),Cl(s.d).slice(0,o)===Cl(i.d).slice(0,o)){for(;c--;)i=xn(i.times(i),o);return u.precision=f,t==null?(Mn=!0,xn(i,f)):i}i=s}}function ya(e){for(var t=e.e*Cn,r=e.d[0];r>=10;r/=10)t++;return t}function xA(e,t,r){if(t>e.LN10.sd())throw Mn=!0,r&&(e.precision=r),Error(_o+"LN10 precision limit exceeded");return xn(new e(e.LN10),t)}function Mu(e){for(var t="";e--;)t+="0";return t}function n1(e,t){var r,n,a,i,s,o,l,c,u,f=1,h=10,d=e,g=d.d,m=d.constructor,v=m.precision;if(d.s<1)throw Error(_o+(d.s?"NaN":"-Infinity"));if(d.eq(Ls))return new m(0);if(t==null?(Mn=!1,c=v):c=t,d.eq(10))return t==null&&(Mn=!0),xA(m,c);if(c+=h,m.precision=c,r=Cl(g),n=r.charAt(0),i=ya(d),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)d=d.times(e),r=Cl(d.d),n=r.charAt(0),f++;i=ya(d),n>1?(d=new m("0."+r),i++):d=new m(n+"."+r.slice(1))}else return l=xA(m,c+2,v).times(i+""),d=n1(new m(n+"."+r.slice(1)),c-h).plus(l),m.precision=v,t==null?(Mn=!0,xn(d,v)):d;for(o=s=d=Ec(d.minus(Ls),d.plus(Ls),c),u=xn(d.times(d),c),a=3;;){if(s=xn(s.times(u),c),l=o.plus(Ec(s,new m(a),c)),Cl(l.d).slice(0,c)===Cl(o.d).slice(0,c))return o=o.times(2),i!==0&&(o=o.plus(xA(m,c+2,v).times(i+""))),o=Ec(o,new m(f),c),m.precision=v,t==null?(Mn=!0,xn(o,v)):o;o=l,a+=2}}function zM(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=lm(r/Cn),e.d=[],n=(r+1)%Cn,r<0&&(n+=Cn),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Cn;n<a;)e.d.push(+t.slice(n,n+=Cn));t=t.slice(n),n=Cn-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Mn&&(e.e>tw||e.e<-tw))throw Error(lP+r)}else e.s=0,e.e=0,e.d=[0];return e}function xn(e,t,r){var n,a,i,s,o,l,c,u,f=e.d;for(s=1,i=f[0];i>=10;i/=10)s++;if(n=t-s,n<0)n+=Cn,a=t,c=f[u=0];else{if(u=Math.ceil((n+1)/Cn),i=f.length,u>=i)return e;for(c=i=f[u],s=1;i>=10;i/=10)s++;n%=Cn,a=n-Cn+s}if(r!==void 0&&(i=vh(10,s-a-1),o=c/i%10|0,l=t<0||f[u+1]!==void 0||c%i,l=r<4?(o||l)&&(r==0||r==(e.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?a>0?c/vh(10,s-a):0:f[u-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return l?(i=ya(e),f.length=1,t=t-i-1,f[0]=vh(10,(Cn-t%Cn)%Cn),e.e=lm(-t/Cn)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=u,i=1,u--):(f.length=u+1,i=vh(10,Cn-n),f[u]=a>0?(c/vh(10,s-a)%vh(10,a)|0)*i:0),l)for(;;)if(u==0){(f[0]+=i)==Ra&&(f[0]=1,++e.e);break}else{if(f[u]+=i,f[u]!=Ra)break;f[u--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Mn&&(e.e>tw||e.e<-tw))throw Error(lP+ya(e));return e}function gG(e,t){var r,n,a,i,s,o,l,c,u,f,h=e.constructor,d=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Mn?xn(t,d):t;if(l=e.d,f=t.d,n=t.e,c=e.e,l=l.slice(),s=c-n,s){for(u=s<0,u?(r=l,s=-s,o=f.length):(r=f,n=c,o=l.length),a=Math.max(Math.ceil(d/Cn),o)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=l.length,o=f.length,u=a<o,u&&(o=a),a=0;a<o;a++)if(l[a]!=f[a]){u=l[a]<f[a];break}s=0}for(u&&(r=l,l=f,f=r,t.s=-t.s),o=l.length,a=f.length-o;a>0;--a)l[o++]=0;for(a=f.length;a>s;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=Ra-1;--l[i],l[a]+=Ra}l[a]-=f[a]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(t.d=l,t.e=n,Mn?xn(t,d):t):new h(0)}function rd(e,t,r){var n,a=ya(e),i=Cl(e.d),s=i.length;return t?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Mu(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Mu(-a-1)+i,r&&(n=r-s)>0&&(i+=Mu(n))):a>=s?(i+=Mu(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Mu(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Mu(n))),e.s<0?"-"+i:i}function qM(e,t){if(e.length>t)return e.length=t,!0}function vG(e){var t,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Vh+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return zM(s,i.toString())}else if(typeof i!="string")throw Error(Vh+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,_8e.test(i))zM(s,i);else throw Error(Vh+i)}if(a.prototype=Ht,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vG,a.config=a.set=S8e,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function S8e(e){if(!e||typeof e!="object")throw Error(_o+"Object expected");var t,r,n,a=["precision",1,om,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(lm(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Vh+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Vh+r+": "+n);return this}var cP=vG(w8e);Ls=new cP(1);const hn=cP;function A8e(e){return N8e(e)||k8e(e)||E8e(e)||T8e()}function T8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(e,t){if(e){if(typeof e=="string")return TE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TE(e,t)}}function k8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function N8e(e){if(Array.isArray(e))return TE(e)}function TE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var C8e=function(t){return t},yG={"@@functional/placeholder":!0},xG=function(t){return t===yG},WM=function(t){return function r(){return arguments.length===0||arguments.length===1&&xG(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},P8e=function e(t,r){return t===1?r:WM(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(o){return o!==yG}).length;return s>=t?r.apply(void 0,a):e(t-s,WM(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=a.map(function(f){return xG(f)?l.shift():f});return r.apply(void 0,A8e(u).concat(l))}))})},e_=function(t){return P8e(t.length,t)},EE=function(t,r){for(var n=[],a=t;a<r;++a)n[a-t]=a;return n},O8e=e_(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),I8e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return C8e;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(o,l){return l(o)},i.apply(void 0,arguments))}},kE=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},bG=function(t){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(o,l){return o===r[l]})||(r=i,n=t.apply(void 0,i)),n}};function D8e(e){var t;return e===0?t=1:t=Math.floor(new hn(e).abs().log(10).toNumber())+1,t}function j8e(e,t,r){for(var n=new hn(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var L8e=e_(function(e,t,r){var n=+e,a=+t;return n+r*(a-n)}),M8e=e_(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),R8e=e_(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const t_={rangeStep:j8e,getDigitCount:D8e,interpolateNumber:L8e,uninterpolateNumber:M8e,uninterpolateTruncation:R8e};function NE(e){return B8e(e)||$8e(e)||wG(e)||F8e()}function F8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $8e(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function B8e(e){if(Array.isArray(e))return CE(e)}function a1(e,t){return z8e(e)||U8e(e,t)||wG(e,t)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wG(e,t){if(e){if(typeof e=="string")return CE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CE(e,t)}}function CE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U8e(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=e[Symbol.iterator](),o;!(n=(o=s.next()).done)&&(r.push(o.value),!(t&&r.length===t));n=!0);}catch(l){a=!0,i=l}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function z8e(e){if(Array.isArray(e))return e}function _G(e){var t=a1(e,2),r=t[0],n=t[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function SG(e,t,r){if(e.lte(0))return new hn(0);var n=t_.getDigitCount(e.toNumber()),a=new hn(10).pow(n),i=e.div(a),s=n!==1?.05:.1,o=new hn(Math.ceil(i.div(s).toNumber())).add(r).mul(s),l=o.mul(a);return t?l:new hn(Math.ceil(l))}function q8e(e,t,r){var n=1,a=new hn(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new hn(10).pow(t_.getDigitCount(e)-1),a=new hn(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new hn(Math.floor(e)))}else e===0?a=new hn(Math.floor((t-1)/2)):r||(a=new hn(Math.floor(e)));var s=Math.floor((t-1)/2),o=I8e(O8e(function(l){return a.add(new hn(l-s).mul(n)).toNumber()}),EE);return o(0,t)}function AG(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new hn(0),tickMin:new hn(0),tickMax:new hn(0)};var i=SG(new hn(t).sub(e).div(r-1),n,a),s;e<=0&&t>=0?s=new hn(0):(s=new hn(e).add(t).div(2),s=s.sub(new hn(s).mod(i)));var o=Math.ceil(s.sub(e).div(i).toNumber()),l=Math.ceil(new hn(t).sub(s).div(i).toNumber()),c=o+l+1;return c>r?AG(e,t,r,n,a+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:i,tickMin:s.sub(new hn(o).mul(i)),tickMax:s.add(new hn(l).mul(i))})}function W8e(e){var t=a1(e,2),r=t[0],n=t[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),o=_G([r,n]),l=a1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(NE(EE(0,a-1).map(function(){return 1/0}))):[].concat(NE(EE(0,a-1).map(function(){return-1/0})),[u]);return r>n?kE(f):f}if(c===u)return q8e(c,a,i);var h=AG(c,u,s,i),d=h.step,g=h.tickMin,m=h.tickMax,v=t_.rangeStep(g,m.add(new hn(.1).mul(d)),d);return r>n?kE(v):v}function H8e(e,t){var r=a1(e,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=_G([n,a]),o=a1(s,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[n,a];if(l===c)return[l];var u=Math.max(t,2),f=SG(new hn(c).sub(l).div(u-1),i,0),h=[].concat(NE(t_.rangeStep(new hn(l),new hn(c).sub(new hn(.99).mul(f)),f)),[c]);return n>a?kE(h):h}var G8e=bG(W8e),K8e=bG(H8e),Y8e="Invariant failed";function nd(e,t){throw new Error(Y8e)}var X8e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bp(e){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bp(e)}function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rw.apply(this,arguments)}function Q8e(e,t){return tDe(e)||eDe(e,t)||Z8e(e,t)||J8e()}function J8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z8e(e,t){if(e){if(typeof e=="string")return HM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HM(e,t)}}function HM(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function tDe(e){if(Array.isArray(e))return e}function rDe(e,t){if(e==null)return{};var r=nDe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function aDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iDe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kG(n.key),n)}}function sDe(e,t,r){return t&&iDe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function oDe(e,t,r){return t=nw(t),lDe(e,TG()?Reflect.construct(t,r||[],nw(e).constructor):t.apply(e,r))}function lDe(e,t){if(t&&(bp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cDe(e)}function cDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TG=function(){return!!e})()}function nw(e){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nw(e)}function uDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},PE(e,t)}function EG(e,t,r){return t=kG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=fDe(e,"string");return bp(t)=="symbol"?t:t+""}function fDe(e,t){if(bp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ly=function(e){function t(){return aDe(this,t),oDe(this,t,arguments)}return uDe(t,e),sDe(t,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,o=n.dataKey,l=n.data,c=n.dataPointFormatter,u=n.xAxis,f=n.yAxis,h=rDe(n,X8e),d=jr(h,!1);this.props.direction==="x"&&u.type!=="number"&&nd();var g=l.map(function(m){var v=c(m,o),y=v.x,b=v.y,w=v.value,O=v.errorVal;if(!O)return null;var P=[],I,E;if(Array.isArray(O)){var S=Q8e(O,2);I=S[0],E=S[1]}else I=E=O;if(i==="vertical"){var A=u.scale,D=b+a,T=D+s,k=D-s,j=A(w-I),V=A(w+E);P.push({x1:V,y1:T,x2:V,y2:k}),P.push({x1:j,y1:D,x2:V,y2:D}),P.push({x1:j,y1:T,x2:j,y2:k})}else if(i==="horizontal"){var Q=f.scale,Y=y+a,J=Y-s,H=Y+s,U=Q(w-I),re=Q(w+E);P.push({x1:J,y1:re,x2:H,y2:re}),P.push({x1:Y,y1:U,x2:Y,y2:re}),P.push({x1:J,y1:U,x2:H,y2:U})}return Oe.createElement(la,rw({className:"recharts-errorBar",key:"bar-".concat(P.map(function(z){return"".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))},d),P.map(function(z){return Oe.createElement("line",rw({},z,{key:"line-".concat(z.x1,"-").concat(z.x2,"-").concat(z.y1,"-").concat(z.y2)}))}))});return Oe.createElement(la,{className:"recharts-errorBars"},g)}}])}(Oe.Component);EG(ly,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});EG(ly,"displayName","ErrorBar");function i1(e){"@babel/helpers - typeof";return i1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i1(e)}function GM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GM(Object(r),!0).forEach(function(n){hDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hDe(e,t,r){return t=dDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dDe(e){var t=pDe(e,"string");return i1(t)=="symbol"?t:t+""}function pDe(e,t){if(i1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(i1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NG=function(t){var r=t.children,n=t.formattedGraphicalItems,a=t.legendWidth,i=t.legendContent,s=Is(r,Ac);if(!s)return null;var o=Ac.defaultProps,l=o!==void 0?lh(lh({},o),s.props):{},c;return s.props&&s.props.payload?c=s.props&&s.props.payload:i==="children"?c=(n||[]).reduce(function(u,f){var h=f.item,d=f.props,g=d.sectors||d.data||[];return u.concat(g.map(function(m){return{type:s.props.iconType||h.props.legendType,value:m.name,color:m.fill,payload:m}}))},[]):c=(n||[]).map(function(u){var f=u.item,h=f.type.defaultProps,d=h!==void 0?lh(lh({},h),f.props):{},g=d.dataKey,m=d.name,v=d.legendType,y=d.hide;return{inactive:y,dataKey:g,type:l.iconType||v||"square",color:uP(f),value:m||g,payload:d}}),lh(lh(lh({},l),Ac.getWithHeight(s,a)),{},{payload:c,item:s})};function s1(e){"@babel/helpers - typeof";return s1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s1(e)}function KM(e){return yDe(e)||vDe(e)||gDe(e)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(e,t){if(e){if(typeof e=="string")return OE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OE(e,t)}}function vDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function yDe(e){if(Array.isArray(e))return OE(e)}function OE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function YM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YM(Object(r),!0).forEach(function(n){z0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YM(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z0(e,t,r){return t=xDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xDe(e){var t=bDe(e,"string");return s1(t)=="symbol"?t:t+""}function bDe(e,t){if(s1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(s1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qs(e,t,r){return Ir(e)||Ir(t)?r:Ca(t)?vo(e,t,r):Ar(t)?t(e):r}function Hg(e,t,r,n){var a=v8e(e,function(o){return qs(o,t)});if(r==="number"){var i=a.filter(function(o){return jt(o)||parseFloat(o)});return i.length?[J5(i),Q5(i)]:[1/0,-1/0]}var s=n?a.filter(function(o){return!Ir(o)}):a;return s.map(function(o){return Ca(o)||o instanceof Date?o:""})}var wDe=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,o=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(o<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var l=i.range,c=0;c<o;c++){var u=c>0?a[c-1].coordinate:a[o-1].coordinate,f=a[c].coordinate,h=c>=o-1?a[0].coordinate:a[c+1].coordinate,d=void 0;if(tl(f-u)!==tl(h-f)){var g=[];if(tl(h-f)===tl(l[1]-l[0])){d=h;var m=f+l[1]-l[0];g[0]=Math.min(m,(m+u)/2),g[1]=Math.max(m,(m+u)/2)}else{d=u;var v=h+l[1]-l[0];g[0]=Math.min(f,(v+f)/2),g[1]=Math.max(f,(v+f)/2)}var y=[Math.min(f,(d+f)/2),Math.max(f,(d+f)/2)];if(t>y[0]&&t<=y[1]||t>=g[0]&&t<=g[1]){s=a[c].index;break}}else{var b=Math.min(u,h),w=Math.max(u,h);if(t>(b+f)/2&&t<=(w+f)/2){s=a[c].index;break}}}else for(var O=0;O<o;O++)if(O===0&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2&&t<=(n[O].coordinate+n[O+1].coordinate)/2||O===o-1&&t>(n[O].coordinate+n[O-1].coordinate)/2){s=n[O].index;break}return s},uP=function(t){var r,n=t,a=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Qn(Qn({},t.type.defaultProps),t.props):t.props,s=i.stroke,o=i.fill,l;switch(a){case"Line":l=s;break;case"Area":case"Radar":l=s&&s!=="none"?s:o;break;default:l=o;break}return l},_De=function(t){var r=t.barSize,n=t.totalSize,a=t.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},o=Object.keys(i),l=0,c=o.length;l<c;l++)for(var u=i[o[l]].stackGroups,f=Object.keys(u),h=0,d=f.length;h<d;h++){var g=u[f[h]],m=g.items,v=g.cateAxisId,y=m.filter(function(E){return _c(E.type).indexOf("Bar")>=0});if(y&&y.length){var b=y[0].type.defaultProps,w=b!==void 0?Qn(Qn({},b),y[0].props):y[0].props,O=w.barSize,P=w[v];s[P]||(s[P]=[]);var I=Ir(O)?r:O;s[P].push({item:y[0],stackList:y.slice(1),barSize:Ir(I)?void 0:td(I,n,0)})}}return s},SDe=function(t){var r=t.barGap,n=t.barCategoryGap,a=t.bandSize,i=t.sizeList,s=i===void 0?[]:i,o=t.maxBarSize,l=s.length;if(l<1)return null;var c=td(r,a,0,!0),u,f=[];if(s[0].barSize===+s[0].barSize){var h=!1,d=a/l,g=s.reduce(function(O,P){return O+P.barSize||0},0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&d>0&&(h=!0,d*=.9,g=l*d);var m=(a-g)/2>>0,v={offset:m-c,size:0};u=s.reduce(function(O,P){var I={item:P.item,position:{offset:v.offset+v.size+c,size:h?d:P.barSize}},E=[].concat(KM(O),[I]);return v=E[E.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){E.push({item:S,position:v})}),E},f)}else{var y=td(n,a,0,!0);a-2*y-(l-1)*c<=0&&(c=0);var b=(a-2*y-(l-1)*c)/l;b>1&&(b>>=0);var w=o===+o?Math.min(b,o):b;u=s.reduce(function(O,P,I){var E=[].concat(KM(O),[{item:P.item,position:{offset:y+(b+c)*I+(b-w)/2,size:w}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(S){E.push({item:S,position:E[E.length-1].position})}),E},f)}return u},ADe=function(t,r,n,a){var i=n.children,s=n.width,o=n.margin,l=s-(o.left||0)-(o.right||0),c=NG({children:i,legendWidth:l});if(c){var u=a||{},f=u.width,h=u.height,d=c.align,g=c.verticalAlign,m=c.layout;if((m==="vertical"||m==="horizontal"&&g==="middle")&&d!=="center"&&jt(t[d]))return Qn(Qn({},t),{},z0({},d,t[d]+(f||0)));if((m==="horizontal"||m==="vertical"&&d==="center")&&g!=="middle"&&jt(t[g]))return Qn(Qn({},t),{},z0({},g,t[g]+(h||0)))}return t},TDe=function(t,r,n){return Ir(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},CG=function(t,r,n,a,i){var s=r.props.children,o=yo(s,ly).filter(function(c){return TDe(a,i,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return t.reduce(function(c,u){var f=qs(u,n);if(Ir(f))return c;var h=Array.isArray(f)?[J5(f),Q5(f)]:[f,f],d=l.reduce(function(g,m){var v=qs(u,m,0),y=h[0]-Math.abs(Array.isArray(v)?v[0]:v),b=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,g[0]),Math.max(b,g[1])]},[1/0,-1/0]);return[Math.min(d[0],c[0]),Math.max(d[1],c[1])]},[1/0,-1/0])}return null},EDe=function(t,r,n,a,i){var s=r.map(function(o){return CG(t,o,n,i,a)}).filter(function(o){return!Ir(o)});return s&&s.length?s.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},PG=function(t,r,n,a,i){var s=r.map(function(l){var c=l.props.dataKey;return n==="number"&&c&&CG(t,l,c,a)||Hg(t,c,n,i)});if(n==="number")return s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return s.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},OG=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},IG=function(t,r,n,a){if(a)return t.map(function(l){return l.coordinate});var i,s,o=t.map(function(l){return l.coordinate===r&&(i=!0),l.coordinate===n&&(s=!0),l.coordinate});return i||o.push(r),s||o.push(n),o},yc=function(t,r,n){if(!t)return null;var a=t.scale,i=t.duplicateDomain,s=t.type,o=t.range,l=t.realScaleType==="scaleBand"?a.bandwidth()/2:2,c=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/l:0;if(c=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?tl(o[0]-o[1])*2*c:c,r&&(t.ticks||t.niceTicks)){var u=(t.ticks||t.niceTicks).map(function(f){var h=i?i.indexOf(f):f;return{coordinate:a(h)+c,value:f,offset:c}});return u.filter(function(f){return!ty(f.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(f,h){return{coordinate:a(f)+c,value:f,index:h,offset:c}}):a.ticks&&!n?a.ticks(t.tickCount).map(function(f){return{coordinate:a(f)+c,value:f,offset:c}}):a.domain().map(function(f,h){return{coordinate:a(f)+c,value:i?i[f]:f,index:h,offset:c}})},bA=new WeakMap,Ox=function(t,r){if(typeof r!="function")return t;bA.has(t)||bA.set(t,new WeakMap);var n=bA.get(t);if(n.has(r))return n.get(r);var a=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},kDe=function(t,r,n){var a=t.scale,i=t.type,s=t.layout,o=t.axisType;if(a==="auto")return s==="radial"&&o==="radiusAxis"?{scale:Jv(),realScaleType:"band"}:s==="radial"&&o==="angleAxis"?{scale:Qb(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Wg(),realScaleType:"point"}:i==="category"?{scale:Jv(),realScaleType:"band"}:{scale:Qb(),realScaleType:"linear"};if(ed(a)){var l="scale".concat(F5(a));return{scale:(UM[l]||Wg)(),realScaleType:UM[l]?l:"point"}}return Ar(a)?{scale:a}:{scale:Wg(),realScaleType:"point"}},XM=1e-4,NDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,a=t.range(),i=Math.min(a[0],a[1])-XM,s=Math.max(a[0],a[1])+XM,o=t(r[0]),l=t(r[n-1]);(o<i||o>s||l<i||l>s)&&t.domain([r[0],r[n-1]])}},CDe=function(t,r){if(!t)return null;for(var n=0,a=t.length;n<a;n++)if(t[n].item===r)return t[n].position;return null},PDe=function(t,r){if(!r||r.length!==2||!jt(r[0])||!jt(r[1]))return t;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!jt(t[0])||t[0]<n)&&(i[0]=n),(!jt(t[1])||t[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},ODe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0,o=0;o<r;++o){var l=ty(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1])}},IDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,a=t[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var o=ty(t[s][n][1])?t[s][n][0]:t[s][n][1];o>=0?(t[s][n][0]=i,t[s][n][1]=i+o,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},DDe={sign:ODe,expand:KSe,none:hp,silhouette:YSe,wiggle:XSe,positive:IDe},jDe=function(t,r,n){var a=r.map(function(o){return o.props.dataKey}),i=DDe[n],s=GSe().keys(a).value(function(o,l){return+qs(o,l,0)}).order(rE).offset(i);return s(t)},LDe=function(t,r,n,a,i,s){if(!t)return null;var o=s?r.reverse():r,l={},c=o.reduce(function(f,h){var d,g=(d=h.type)!==null&&d!==void 0&&d.defaultProps?Qn(Qn({},h.type.defaultProps),h.props):h.props,m=g.stackId,v=g.hide;if(v)return f;var y=g[n],b=f[y]||{hasStack:!1,stackGroups:{}};if(Ca(m)){var w=b.stackGroups[m]||{numericAxisId:n,cateAxisId:a,items:[]};w.items.push(h),b.hasStack=!0,b.stackGroups[m]=w}else b.stackGroups[ry("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[h]};return Qn(Qn({},f),{},z0({},y,b))},l),u={};return Object.keys(c).reduce(function(f,h){var d=c[h];if(d.hasStack){var g={};d.stackGroups=Object.keys(d.stackGroups).reduce(function(m,v){var y=d.stackGroups[v];return Qn(Qn({},m),{},z0({},v,{numericAxisId:n,cateAxisId:a,items:y.items,stackedData:jDe(t,y.items,i)}))},g)}return Qn(Qn({},f),{},z0({},h,d))},u)},MDe=function(t,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,o=r.allowDecimals,l=n||r.scale;if(l!=="auto"&&l!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var c=t.domain();if(!c.length)return null;var u=G8e(c,i,o);return t.domain([J5(u),Q5(u)]),{niceTicks:u}}if(i&&a==="number"){var f=t.domain(),h=K8e(f,i,o);return{niceTicks:h}}return null};function QM(e){var t=e.axis,r=e.ticks,n=e.bandSize,a=e.entry,i=e.index,s=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ir(a[t.dataKey])){var o=Nb(r,"value",a[t.dataKey]);if(o)return o.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var l=qs(a,Ir(s)?t.dataKey:s);return Ir(l)?null:t.scale(l)}var JM=function(t){var r=t.axis,n=t.ticks,a=t.offset,i=t.bandSize,s=t.entry,o=t.index;if(r.type==="category")return n[o]?n[o].coordinate+a:null;var l=qs(s,r.dataKey,r.domain[o]);return Ir(l)?null:r.scale(l)-i/2+a},RDe=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},FDe=function(t,r){var n,a=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Qn(Qn({},t.type.defaultProps),t.props):t.props,i=a.stackId;if(Ca(i)){var s=r[i];if(s){var o=s.items.indexOf(t);return o>=0?s.stackedData[o]:null}}return null},$De=function(t){return t.reduce(function(r,n){return[J5(n.concat([r[0]]).filter(jt)),Q5(n.concat([r[1]]).filter(jt))]},[1/0,-1/0])},DG=function(t,r,n){return Object.keys(t).reduce(function(a,i){var s=t[i],o=s.stackedData,l=o.reduce(function(c,u){var f=$De(u.slice(r,n+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],a[0]),Math.max(l[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},ZM=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eR=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,IE=function(t,r,n){if(Ar(t))return t(r,n);if(!Array.isArray(t))return r;var a=[];if(jt(t[0]))a[0]=n?t[0]:Math.min(t[0],r[0]);else if(ZM.test(t[0])){var i=+ZM.exec(t[0])[1];a[0]=r[0]-i}else Ar(t[0])?a[0]=t[0](r[0]):a[0]=r[0];if(jt(t[1]))a[1]=n?t[1]:Math.max(t[1],r[1]);else if(eR.test(t[1])){var s=+eR.exec(t[1])[1];a[1]=r[1]+s}else Ar(t[1])?a[1]=t[1](r[1]):a[1]=r[1];return a},aw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var a=t.scale.bandwidth();if(!n||a>0)return a}if(t&&r&&r.length>=2){for(var i=FC(r,function(f){return f.coordinate}),s=1/0,o=1,l=i.length;o<l;o++){var c=i[o],u=i[o-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},tR=function(t,r,n){return!t||!t.length||Z5(t,vo(n,"type.defaultProps.domain"))?r:t},jG=function(t,r){var n=t.type.defaultProps?Qn(Qn({},t.type.defaultProps),t.props):t.props,a=n.dataKey,i=n.name,s=n.unit,o=n.formatter,l=n.tooltipType,c=n.chartType,u=n.hide;return Qn(Qn({},jr(t,!1)),{},{dataKey:a,unit:s,formatter:o,name:i||a,color:uP(t),value:qs(r,a),type:l,payload:r,chartType:c,hide:u})};function o1(e){"@babel/helpers - typeof";return o1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o1(e)}function rR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rR(Object(r),!0).forEach(function(n){BDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BDe(e,t,r){return t=VDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VDe(e){var t=UDe(e,"string");return o1(t)=="symbol"?t:t+""}function UDe(e,t){if(o1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(o1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iw=Math.PI/180,zDe=function(t){return t*180/Math.PI},ni=function(t,r,n,a){return{x:t+Math.cos(-iw*a)*n,y:r+Math.sin(-iw*a)*n}},qDe=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},WDe=function(t,r){var n=t.x,a=t.y,i=r.cx,s=r.cy,o=qDe({x:n,y:a},{x:i,y:s});if(o<=0)return{radius:o};var l=(n-i)/o,c=Math.acos(l);return a>s&&(c=2*Math.PI-c),{radius:o,angle:zDe(c),angleInRadian:c}},HDe=function(t){var r=t.startAngle,n=t.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},GDe=function(t,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),o=Math.min(i,s);return t+o*360},aR=function(t,r){var n=t.x,a=t.y,i=WDe({x:n,y:a},r),s=i.radius,o=i.angle,l=r.innerRadius,c=r.outerRadius;if(s<l||s>c)return!1;if(s===0)return!0;var u=HDe(r),f=u.startAngle,h=u.endAngle,d=o,g;if(f<=h){for(;d>h;)d-=360;for(;d<f;)d+=360;g=d>=f&&d<=h}else{for(;d>f;)d-=360;for(;d<h;)d+=360;g=d>=h&&d<=f}return g?nR(nR({},r),{},{radius:s,angle:GDe(d,r)}):null};function l1(e){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l1(e)}var KDe=["offset"];function YDe(e){return ZDe(e)||JDe(e)||QDe(e)||XDe()}function XDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QDe(e,t){if(e){if(typeof e=="string")return DE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DE(e,t)}}function JDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZDe(e){if(Array.isArray(e))return DE(e)}function DE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eje(e,t){if(e==null)return{};var r=tje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _a(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iR(Object(r),!0).forEach(function(n){rje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rje(e,t,r){return t=nje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nje(e){var t=aje(e,"string");return l1(t)=="symbol"?t:t+""}function aje(e,t){if(l1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(l1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c1.apply(this,arguments)}var ije=function(t){var r=t.value,n=t.formatter,a=Ir(t.children)?r:t.children;return Ar(n)?n(a):a},sje=function(t,r){var n=tl(r-t),a=Math.min(Math.abs(r-t),360);return n*a},oje=function(t,r,n){var a=t.position,i=t.viewBox,s=t.offset,o=t.className,l=i,c=l.cx,u=l.cy,f=l.innerRadius,h=l.outerRadius,d=l.startAngle,g=l.endAngle,m=l.clockWise,v=(f+h)/2,y=sje(d,g),b=y>=0?1:-1,w,O;a==="insideStart"?(w=d+b*s,O=m):a==="insideEnd"?(w=g-b*s,O=!m):a==="end"&&(w=g+b*s,O=m),O=y<=0?O:!O;var P=ni(c,u,v,w),I=ni(c,u,v,w+(O?1:-1)*359),E="M".concat(P.x,",").concat(P.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(I.x,",").concat(I.y),S=Ir(t.id)?ry("recharts-radial-line-"):t.id;return Oe.createElement("text",c1({},n,{dominantBaseline:"central",className:Gr("recharts-radial-bar-label",o)}),Oe.createElement("defs",null,Oe.createElement("path",{id:S,d:E})),Oe.createElement("textPath",{xlinkHref:"#".concat(S)},r))},lje=function(t){var r=t.viewBox,n=t.offset,a=t.position,i=r,s=i.cx,o=i.cy,l=i.innerRadius,c=i.outerRadius,u=i.startAngle,f=i.endAngle,h=(u+f)/2;if(a==="outside"){var d=ni(s,o,c+n,h),g=d.x,m=d.y;return{x:g,y:m,textAnchor:g>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=ni(s,o,v,h),b=y.x,w=y.y;return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},cje=function(t){var r=t.viewBox,n=t.parentViewBox,a=t.offset,i=t.position,s=r,o=s.x,l=s.y,c=s.width,u=s.height,f=u>=0?1:-1,h=f*a,d=f>0?"end":"start",g=f>0?"start":"end",m=c>=0?1:-1,v=m*a,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var w={x:o+c/2,y:l-f*a,textAnchor:"middle",verticalAnchor:d};return _a(_a({},w),n?{height:Math.max(l-n.y,0),width:c}:{})}if(i==="bottom"){var O={x:o+c/2,y:l+u+h,textAnchor:"middle",verticalAnchor:g};return _a(_a({},O),n?{height:Math.max(n.y+n.height-(l+u),0),width:c}:{})}if(i==="left"){var P={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return _a(_a({},P),n?{width:Math.max(P.x-n.x,0),height:u}:{})}if(i==="right"){var I={x:o+c+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"};return _a(_a({},I),n?{width:Math.max(n.x+n.width-I.x,0),height:u}:{})}var E=n?{width:c,height:u}:{};return i==="insideLeft"?_a({x:o+v,y:l+u/2,textAnchor:b,verticalAnchor:"middle"},E):i==="insideRight"?_a({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},E):i==="insideTop"?_a({x:o+c/2,y:l+h,textAnchor:"middle",verticalAnchor:g},E):i==="insideBottom"?_a({x:o+c/2,y:l+u-h,textAnchor:"middle",verticalAnchor:d},E):i==="insideTopLeft"?_a({x:o+v,y:l+h,textAnchor:b,verticalAnchor:g},E):i==="insideTopRight"?_a({x:o+c-v,y:l+h,textAnchor:y,verticalAnchor:g},E):i==="insideBottomLeft"?_a({x:o+v,y:l+u-h,textAnchor:b,verticalAnchor:d},E):i==="insideBottomRight"?_a({x:o+c-v,y:l+u-h,textAnchor:y,verticalAnchor:d},E):Zp(i)&&(jt(i.x)||Nh(i.x))&&(jt(i.y)||Nh(i.y))?_a({x:o+td(i.x,c),y:l+td(i.y,u),textAnchor:"end",verticalAnchor:"end"},E):_a({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},E)},uje=function(t){return"cx"in t&&jt(t.cx)};function Ai(e){var t=e.offset,r=t===void 0?5:t,n=eje(e,KDe),a=_a({offset:r},n),i=a.viewBox,s=a.position,o=a.value,l=a.children,c=a.content,u=a.className,f=u===void 0?"":u,h=a.textBreakAll;if(!i||Ir(o)&&Ir(l)&&!W.isValidElement(c)&&!Ar(c))return null;if(W.isValidElement(c))return W.cloneElement(c,a);var d;if(Ar(c)){if(d=W.createElement(c,a),W.isValidElement(d))return d}else d=ije(a);var g=uje(i),m=jr(a,!0);if(g&&(s==="insideStart"||s==="insideEnd"||s==="end"))return oje(a,d,m);var v=g?lje(a):cje(a);return Oe.createElement(qb,c1({className:Gr("recharts-label",f)},m,v,{breakAll:h}),d)}Ai.displayName="Label";var LG=function(t){var r=t.cx,n=t.cy,a=t.angle,i=t.startAngle,s=t.endAngle,o=t.r,l=t.radius,c=t.innerRadius,u=t.outerRadius,f=t.x,h=t.y,d=t.top,g=t.left,m=t.width,v=t.height,y=t.clockWise,b=t.labelViewBox;if(b)return b;if(jt(m)&&jt(v)){if(jt(f)&&jt(h))return{x:f,y:h,width:m,height:v};if(jt(d)&&jt(g))return{x:d,y:g,width:m,height:v}}return jt(f)&&jt(h)?{x:f,y:h,width:0,height:0}:jt(r)&&jt(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:t.viewBox?t.viewBox:{}},fje=function(t,r){return t?t===!0?Oe.createElement(Ai,{key:"label-implicit",viewBox:r}):Ca(t)?Oe.createElement(Ai,{key:"label-implicit",viewBox:r,value:t}):W.isValidElement(t)?t.type===Ai?W.cloneElement(t,{key:"label-implicit",viewBox:r}):Oe.createElement(Ai,{key:"label-implicit",content:t,viewBox:r}):Ar(t)?Oe.createElement(Ai,{key:"label-implicit",content:t,viewBox:r}):Zp(t)?Oe.createElement(Ai,c1({viewBox:r},t,{key:"label-implicit"})):null:null},hje=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var a=t.children,i=LG(t),s=yo(a,Ai).map(function(l,c){return W.cloneElement(l,{viewBox:r||i,key:"label-".concat(c)})});if(!n)return s;var o=fje(t.label,r||i);return[o].concat(YDe(s))};Ai.parseViewBox=LG;Ai.renderCallByParent=hje;function dje(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var pje=dje;const mje=pn(pje);function u1(e){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u1(e)}var gje=["valueAccessor"],vje=["data","dataKey","clockWise","id","textBreakAll"];function yje(e){return _je(e)||wje(e)||bje(e)||xje()}function xje(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bje(e,t){if(e){if(typeof e=="string")return jE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jE(e,t)}}function wje(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _je(e){if(Array.isArray(e))return jE(e)}function jE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sw(){return sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sw.apply(this,arguments)}function sR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sR(Object(r),!0).forEach(function(n){Sje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Sje(e,t,r){return t=Aje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aje(e){var t=Tje(e,"string");return u1(t)=="symbol"?t:t+""}function Tje(e,t){if(u1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(u1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lR(e,t){if(e==null)return{};var r=Eje(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Eje(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var kje=function(t){return Array.isArray(t.value)?mje(t.value):t.value};function mf(e){var t=e.valueAccessor,r=t===void 0?kje:t,n=lR(e,gje),a=n.data,i=n.dataKey,s=n.clockWise,o=n.id,l=n.textBreakAll,c=lR(n,vje);return!a||!a.length?null:Oe.createElement(la,{className:"recharts-label-list"},a.map(function(u,f){var h=Ir(i)?r(u,f):qs(u&&u.payload,i),d=Ir(o)?{}:{id:"".concat(o,"-").concat(f)};return Oe.createElement(Ai,sw({},jr(u,!0),c,d,{parentViewBox:u.parentViewBox,value:h,textBreakAll:l,viewBox:Ai.parseViewBox(Ir(s)?u:oR(oR({},u),{},{clockWise:s})),key:"label-".concat(f),index:f}))}))}mf.displayName="LabelList";function Nje(e,t){return e?e===!0?Oe.createElement(mf,{key:"labelList-implicit",data:t}):Oe.isValidElement(e)||Ar(e)?Oe.createElement(mf,{key:"labelList-implicit",data:t,content:e}):Zp(e)?Oe.createElement(mf,sw({data:t},e,{key:"labelList-implicit"})):null:null}function Cje(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,a=yo(n,mf).map(function(s,o){return W.cloneElement(s,{data:t,key:"labelList-".concat(o)})});if(!r)return a;var i=Nje(e.label,t);return[i].concat(yje(a))}mf.renderCallByParent=Cje;function f1(e){"@babel/helpers - typeof";return f1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},f1(e)}function LE(){return LE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LE.apply(this,arguments)}function cR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function uR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cR(Object(r),!0).forEach(function(n){Pje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pje(e,t,r){return t=Oje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Oje(e){var t=Ije(e,"string");return f1(t)=="symbol"?t:t+""}function Ije(e,t){if(f1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(f1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dje=function(t,r){var n=tl(r-t),a=Math.min(Math.abs(r-t),359.999);return n*a},Ix=function(t){var r=t.cx,n=t.cy,a=t.radius,i=t.angle,s=t.sign,o=t.isExternal,l=t.cornerRadius,c=t.cornerIsExternal,u=l*(o?1:-1)+a,f=Math.asin(l/u)/iw,h=c?i:i+s*f,d=ni(r,n,u,h),g=ni(r,n,a,h),m=c?i-s*f:i,v=ni(r,n,u*Math.cos(f*iw),m);return{center:d,circleTangency:g,lineTangency:v,theta:f}},MG=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.startAngle,o=t.endAngle,l=Dje(s,o),c=s+l,u=ni(r,n,i,s),f=ni(r,n,i,c),h="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(a>0){var d=ni(r,n,a,s),g=ni(r,n,a,c);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(d.x,",").concat(d.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},jje=function(t){var r=t.cx,n=t.cy,a=t.innerRadius,i=t.outerRadius,s=t.cornerRadius,o=t.forceCornerRadius,l=t.cornerIsExternal,c=t.startAngle,u=t.endAngle,f=tl(u-c),h=Ix({cx:r,cy:n,radius:i,angle:c,sign:f,cornerRadius:s,cornerIsExternal:l}),d=h.circleTangency,g=h.lineTangency,m=h.theta,v=Ix({cx:r,cy:n,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:l}),y=v.circleTangency,b=v.lineTangency,w=v.theta,O=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(O<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):MG({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:c,endAngle:u});var P="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(d.x,",").concat(d.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(a>0){var I=Ix({cx:r,cy:n,radius:a,angle:c,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),E=I.circleTangency,S=I.lineTangency,A=I.theta,D=Ix({cx:r,cy:n,radius:a,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),T=D.circleTangency,k=D.lineTangency,j=D.theta,V=l?Math.abs(c-u):Math.abs(c-u)-A-j;if(V<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},Lje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},RG=function(t){var r=uR(uR({},Lje),t),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,o=r.cornerRadius,l=r.forceCornerRadius,c=r.cornerIsExternal,u=r.startAngle,f=r.endAngle,h=r.className;if(s<i||u===f)return null;var d=Gr("recharts-sector",h),g=s-i,m=td(o,g,0,!0),v;return m>0&&Math.abs(u-f)<360?v=jje({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(m,g/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):v=MG({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),Oe.createElement("path",LE({},jr(r,!0),{className:d,d:v,role:"img"}))};function h1(e){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h1(e)}function ME(){return ME=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ME.apply(this,arguments)}function fR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fR(Object(r),!0).forEach(function(n){Mje(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mje(e,t,r){return t=Rje(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rje(e){var t=Fje(e,"string");return h1(t)=="symbol"?t:t+""}function Fje(e,t){if(h1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(h1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dR={curveBasisClosed:MSe,curveBasisOpen:RSe,curveBasis:LSe,curveBumpX:wSe,curveBumpY:_Se,curveLinearClosed:FSe,curveLinear:B5,curveMonotoneX:$Se,curveMonotoneY:BSe,curveNatural:VSe,curveStep:USe,curveStepAfter:qSe,curveStepBefore:zSe},Dx=function(t){return t.x===+t.x&&t.y===+t.y},Gm=function(t){return t.x},Km=function(t){return t.y},$je=function(t,r){if(Ar(t))return t;var n="curve".concat(F5(t));return(n==="curveMonotone"||n==="curveBump")&&r?dR["".concat(n).concat(r==="vertical"?"Y":"X")]:dR[n]||B5},Bje=function(t){var r=t.type,n=r===void 0?"linear":r,a=t.points,i=a===void 0?[]:a,s=t.baseLine,o=t.layout,l=t.connectNulls,c=l===void 0?!1:l,u=$je(n,o),f=c?i.filter(function(m){return Dx(m)}):i,h;if(Array.isArray(s)){var d=c?s.filter(function(m){return Dx(m)}):s,g=f.map(function(m,v){return hR(hR({},m),{},{base:d[v]})});return o==="vertical"?h=Sx().y(Km).x1(Gm).x0(function(m){return m.base.x}):h=Sx().x(Gm).y1(Km).y0(function(m){return m.base.y}),h.defined(Dx).curve(u),h(g)}return o==="vertical"&&jt(s)?h=Sx().y(Km).x1(Gm).x0(s):jt(s)?h=Sx().x(Gm).y1(Km).y0(s):h=RW().x(Gm).y(Km),h.defined(Dx).curve(u),h(f)},RE=function(t){var r=t.className,n=t.points,a=t.path,i=t.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Bje(t):a;return Oe.createElement("path",ME({},jr(t,!1),Cb(t),{className:Gr("recharts-curve",r),d:s,ref:i}))},FG={exports:{}},Vje="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Uje=Vje,zje=Uje;function $G(){}function BG(){}BG.resetWarningCache=$G;var qje=function(){function e(n,a,i,s,o,l){if(l!==zje){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:BG,resetWarningCache:$G};return r.PropTypes=r,r};FG.exports=qje();var Wje=FG.exports;const tn=pn(Wje);var Hje=Object.getOwnPropertyNames,Gje=Object.getOwnPropertySymbols,Kje=Object.prototype.hasOwnProperty;function pR(e,t){return function(n,a,i){return e(n,a,i)&&t(n,a,i)}}function jx(e){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,a);var i=a.cache,s=i.get(r),o=i.get(n);if(s&&o)return s===n&&o===r;i.set(r,n),i.set(n,r);var l=e(r,n,a);return i.delete(r),i.delete(n),l}}function mR(e){return Hje(e).concat(Gje(e))}var Yje=Object.hasOwn||function(e,t){return Kje.call(e,t)};function bd(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var Xje="__v",Qje="__o",Jje="_owner",gR=Object.getOwnPropertyDescriptor,vR=Object.keys;function Zje(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function eLe(e,t){return bd(e.getTime(),t.getTime())}function tLe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function rLe(e,t){return e===t}function yR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.entries(),s,o,l=0;(s=i.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(a[f]){f++;continue}var h=s.value,d=o.value;if(r.equals(h[0],d[0],l,f,e,t,r)&&r.equals(h[1],d[1],h[0],d[0],e,t,r)){u=a[f]=!0;break}f++}if(!u)return!1;l++}return!0}var nLe=bd;function aLe(e,t,r){var n=vR(e),a=n.length;if(vR(t).length!==a)return!1;for(;a-- >0;)if(!VG(e,t,r,n[a]))return!1;return!0}function Ym(e,t,r){var n=mR(e),a=n.length;if(mR(t).length!==a)return!1;for(var i,s,o;a-- >0;)if(i=n[a],!VG(e,t,r,i)||(s=gR(e,i),o=gR(t,i),(s||o)&&(!s||!o||s.configurable!==o.configurable||s.enumerable!==o.enumerable||s.writable!==o.writable)))return!1;return!0}function iLe(e,t){return bd(e.valueOf(),t.valueOf())}function sLe(e,t){return e.source===t.source&&e.flags===t.flags}function xR(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var a=new Array(n),i=e.values(),s,o;(s=i.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!a[u]&&r.equals(s.value,o.value,s.value,o.value,e,t,r)){c=a[u]=!0;break}u++}if(!c)return!1}return!0}function oLe(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function lLe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function VG(e,t,r,n){return(n===Jje||n===Qje||n===Xje)&&(e.$$typeof||t.$$typeof)?!0:Yje(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var cLe="[object Arguments]",uLe="[object Boolean]",fLe="[object Date]",hLe="[object Error]",dLe="[object Map]",pLe="[object Number]",mLe="[object Object]",gLe="[object RegExp]",vLe="[object Set]",yLe="[object String]",xLe="[object URL]",bLe=Array.isArray,bR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wR=Object.assign,wLe=Object.prototype.toString.call.bind(Object.prototype.toString);function _Le(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,a=e.areFunctionsEqual,i=e.areMapsEqual,s=e.areNumbersEqual,o=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(g,m,v){if(g===m)return!0;if(g==null||m==null)return!1;var y=typeof g;if(y!==typeof m)return!1;if(y!=="object")return y==="number"?s(g,m,v):y==="function"?a(g,m,v):!1;var b=g.constructor;if(b!==m.constructor)return!1;if(b===Object)return o(g,m,v);if(bLe(g))return t(g,m,v);if(bR!=null&&bR(g))return f(g,m,v);if(b===Date)return r(g,m,v);if(b===RegExp)return c(g,m,v);if(b===Map)return i(g,m,v);if(b===Set)return u(g,m,v);var w=wLe(g);return w===fLe?r(g,m,v):w===gLe?c(g,m,v):w===dLe?i(g,m,v):w===vLe?u(g,m,v):w===mLe?typeof g.then!="function"&&typeof m.then!="function"&&o(g,m,v):w===xLe?h(g,m,v):w===hLe?n(g,m,v):w===cLe?o(g,m,v):w===uLe||w===pLe||w===yLe?l(g,m,v):!1}}function SLe(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,a={areArraysEqual:n?Ym:Zje,areDatesEqual:eLe,areErrorsEqual:tLe,areFunctionsEqual:rLe,areMapsEqual:n?pR(yR,Ym):yR,areNumbersEqual:nLe,areObjectsEqual:n?Ym:aLe,arePrimitiveWrappersEqual:iLe,areRegExpsEqual:sLe,areSetsEqual:n?pR(xR,Ym):xR,areTypedArraysEqual:n?Ym:oLe,areUrlsEqual:lLe};if(r&&(a=wR({},a,r(a))),t){var i=jx(a.areArraysEqual),s=jx(a.areMapsEqual),o=jx(a.areObjectsEqual),l=jx(a.areSetsEqual);a=wR({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:o,areSetsEqual:l})}return a}function ALe(e){return function(t,r,n,a,i,s,o){return e(t,r,o)}}function TLe(e){var t=e.circular,r=e.comparator,n=e.createState,a=e.equals,i=e.strict;if(n)return function(l,c){var u=n(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,d=u.meta;return r(l,c,{cache:h,equals:a,meta:d,strict:i})};if(t)return function(l,c){return r(l,c,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(l,c){return r(l,c,s)}}var ELe=Uf();Uf({strict:!0});Uf({circular:!0});Uf({circular:!0,strict:!0});Uf({createInternalComparator:function(){return bd}});Uf({strict:!0,createInternalComparator:function(){return bd}});Uf({circular:!0,createInternalComparator:function(){return bd}});Uf({circular:!0,createInternalComparator:function(){return bd},strict:!0});function Uf(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,a=e.createState,i=e.strict,s=i===void 0?!1:i,o=SLe(e),l=_Le(o),c=n?n(l):ALe(l);return TLe({circular:r,comparator:l,createState:a,equals:c,strict:s})}function kLe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function _R(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>t?(e(i),r=-1):kLe(a)};requestAnimationFrame(n)}function FE(e){"@babel/helpers - typeof";return FE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},FE(e)}function NLe(e){return ILe(e)||OLe(e)||PLe(e)||CLe()}function CLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PLe(e,t){if(e){if(typeof e=="string")return SR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SR(e,t)}}function SR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ILe(e){if(Array.isArray(e))return e}function DLe(){var e={},t=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,o=NLe(s),l=o[0],c=o.slice(1);if(typeof l=="number"){_R(a.bind(null,c),l);return}a(l),_R(a.bind(null,c));return}FE(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function d1(e){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d1(e)}function AR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return t=jLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jLe(e){var t=LLe(e,"string");return d1(t)==="symbol"?t:String(t)}function LLe(e,t){if(d1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(d1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MLe=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},RLe=function(t){return t},FLe=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Gg=function(t,r){return Object.keys(r).reduce(function(n,a){return TR(TR({},n),{},UG({},a,t(a,r[a])))},{})},ER=function(t,r,n){return t.map(function(a){return"".concat(FLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function $Le(e,t){return ULe(e)||VLe(e,t)||zG(e,t)||BLe()}function BLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VLe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function ULe(e){if(Array.isArray(e))return e}function zLe(e){return HLe(e)||WLe(e)||zG(e)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zG(e,t){if(e){if(typeof e=="string")return $E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $E(e,t)}}function WLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function HLe(e){if(Array.isArray(e))return $E(e)}function $E(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ow=1e-4,qG=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},WG=function(t,r){return t.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},kR=function(t,r){return function(n){var a=qG(t,r);return WG(a,n)}},GLe=function(t,r){return function(n){var a=qG(t,r),i=[].concat(zLe(a.map(function(s,o){return s*o}).slice(1)),[0]);return WG(i,n)}},NR=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],o=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,o=1;break;case"ease":a=.25,i=.1,s=.25,o=1;break;case"ease-in":a=.42,i=0,s=1,o=1;break;case"ease-out":a=.42,i=0,s=.58,o=1;break;case"ease-in-out":a=0,i=0,s=.58,o=1;break;default:{var l=r[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=$Le(c,4);a=u[0],i=u[1],s=u[2],o=u[3]}}}var f=kR(a,s),h=kR(i,o),d=GLe(a,s),g=function(y){return y>1?1:y<0?0:y},m=function(y){for(var b=y>1?1:y,w=b,O=0;O<8;++O){var P=f(w)-b,I=d(w);if(Math.abs(P-b)<ow||I<ow)return h(w);w=g(w-P/I)}return h(w)};return m.isStepper=!1,m},KLe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,a=t.damping,i=a===void 0?8:a,s=t.dt,o=s===void 0?17:s,l=function(u,f,h){var d=-(u-f)*n,g=h*i,m=h+(d-g)*o/1e3,v=h*o/1e3+u;return Math.abs(v-f)<ow&&Math.abs(m)<ow?[f,0]:[v,m]};return l.isStepper=!0,l.dt=o,l},YLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NR(a);case"spring":return KLe();default:if(a.split("(")[0]==="cubic-bezier")return NR(a)}return typeof a=="function"?a:null};function p1(e){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p1(e)}function CR(e){return JLe(e)||QLe(e)||HG(e)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JLe(e){if(Array.isArray(e))return VE(e)}function PR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PR(Object(r),!0).forEach(function(n){BE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BE(e,t,r){return t=ZLe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZLe(e){var t=eMe(e,"string");return p1(t)==="symbol"?t:String(t)}function eMe(e,t){if(p1(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(p1(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tMe(e,t){return aMe(e)||nMe(e,t)||HG(e,t)||rMe()}function rMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(e,t){if(e){if(typeof e=="string")return VE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VE(e,t)}}function VE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function nMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function aMe(e){if(Array.isArray(e))return e}var lw=function(t,r,n){return t+(r-t)*n},UE=function(t){var r=t.from,n=t.to;return r!==n},iMe=function e(t,r,n){var a=Gg(function(i,s){if(UE(s)){var o=t(s.from,s.to,s.velocity),l=tMe(o,2),c=l[0],u=l[1];return Xa(Xa({},s),{},{from:c,velocity:u})}return s},r);return n<1?Gg(function(i,s){return UE(s)?Xa(Xa({},s),{},{velocity:lw(s.velocity,a[i].velocity,n),from:lw(s.from,a[i].from,n)}):s},r):e(t,a,n-1)};const sMe=function(e,t,r,n,a){var i=MLe(e,t),s=i.reduce(function(v,y){return Xa(Xa({},v),{},BE({},y,[e[y],t[y]]))},{}),o=i.reduce(function(v,y){return Xa(Xa({},v),{},BE({},y,{from:e[y],velocity:0,to:t[y]}))},{}),l=-1,c,u,f=function(){return null},h=function(){return Gg(function(y,b){return b.from},o)},d=function(){return!Object.values(o).filter(UE).length},g=function(y){c||(c=y);var b=y-c,w=b/r.dt;o=iMe(r,o,w),a(Xa(Xa(Xa({},e),t),h())),c=y,d()||(l=requestAnimationFrame(f))},m=function(y){u||(u=y);var b=(y-u)/n,w=Gg(function(P,I){return lw.apply(void 0,CR(I).concat([r(b)]))},s);if(a(Xa(Xa(Xa({},e),t),w)),b<1)l=requestAnimationFrame(f);else{var O=Gg(function(P,I){return lw.apply(void 0,CR(I).concat([r(1)]))},s);a(Xa(Xa(Xa({},e),t),O))}};return f=r.isStepper?g:m,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}var oMe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function lMe(e,t){if(e==null)return{};var r=cMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function cMe(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function wA(e){return dMe(e)||hMe(e)||fMe(e)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fMe(e,t){if(e){if(typeof e=="string")return zE(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zE(e,t)}}function hMe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dMe(e){if(Array.isArray(e))return zE(e)}function zE(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function OR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OR(Object(r),!0).forEach(function(n){hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hg(e,t,r){return t=GG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pMe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mMe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GG(n.key),n)}}function gMe(e,t,r){return t&&mMe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GG(e){var t=vMe(e,"string");return wp(t)==="symbol"?t:String(t)}function vMe(e,t){if(wp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yMe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qE(e,t)}function qE(e,t){return qE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},qE(e,t)}function xMe(e){var t=bMe();return function(){var n=cw(e),a;if(t){var i=cw(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return WE(this,a)}}function WE(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HE(e)}function HE(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bMe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cw(e){return cw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cw(e)}var qc=function(e){yMe(r,e);var t=xMe(r);function r(n,a){var i;pMe(this,r),i=t.call(this,n,a);var s=i.props,o=s.isActive,l=s.attributeName,c=s.from,u=s.to,f=s.steps,h=s.children,d=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(HE(i)),i.changeStyle=i.changeStyle.bind(HE(i)),!o||d<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:u}),WE(i);if(f&&f.length)i.state={style:f[0].style};else if(c){if(typeof h=="function")return i.state={style:c},WE(i);i.state={style:l?hg({},l,c):c}}else i.state={style:{}};return i}return gMe(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,o=i.canBegin,l=i.attributeName,c=i.shouldReAnimate,u=i.to,f=i.from,h=this.state.style;if(o){if(!s){var d={style:l?hg({},l,u):u};this.state&&h&&(l&&h[l]!==u||!l&&h!==u)&&this.setState(d);return}if(!(ELe(a.to,u)&&a.canBegin&&a.isActive)){var g=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var m=g||c?f:a.to;if(this.state&&h){var v={style:l?hg({},l,m):m};(l&&h[l]!==m||!l&&h!==m)&&this.setState(v)}this.runAnimation(Vo(Vo({},this.props),{},{from:m,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,o=a.to,l=a.duration,c=a.easing,u=a.begin,f=a.onAnimationEnd,h=a.onAnimationStart,d=sMe(s,o,YLe(c),l,this.changeStyle),g=function(){i.stopJSAnimation=d()};this.manager.start([h,u,g,l,f])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,o=a.begin,l=a.onAnimationStart,c=s[0],u=c.style,f=c.duration,h=f===void 0?0:f,d=function(m,v,y){if(y===0)return m;var b=v.duration,w=v.easing,O=w===void 0?"ease":w,P=v.style,I=v.properties,E=v.onAnimationEnd,S=y>0?s[y-1]:v,A=I||Object.keys(P);if(typeof O=="function"||O==="spring")return[].concat(wA(m),[i.runJSAnimation.bind(i,{from:S.style,to:P,duration:b,easing:O}),b]);var D=ER(A,b,O),T=Vo(Vo(Vo({},S.style),P),{},{transition:D});return[].concat(wA(m),[T,b,E]).filter(RLe)};return this.manager.start([l].concat(wA(s.reduce(d,[u,Math.max(h,o)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=DLe());var i=a.begin,s=a.duration,o=a.attributeName,l=a.to,c=a.easing,u=a.onAnimationStart,f=a.onAnimationEnd,h=a.steps,d=a.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof c=="function"||typeof d=="function"||c==="spring"){this.runJSAnimation(a);return}if(h.length>1){this.runStepAnimation(a);return}var m=o?hg({},o,l):l,v=ER(Object.keys(m),s,c);g.start([u,i,Vo(Vo({},m),{},{transition:v}),s,f])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var o=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var l=lMe(a,oMe),c=W.Children.count(i),u=this.state.style;if(typeof i=="function")return i(u);if(!o||c===0||s<=0)return i;var f=function(d){var g=d.props,m=g.style,v=m===void 0?{}:m,y=g.className,b=W.cloneElement(d,Vo(Vo({},l),{},{style:Vo(Vo({},v),u),className:y}));return b};return c===1?f(W.Children.only(i)):Oe.createElement("div",null,W.Children.map(i,function(h){return f(h)}))}}]),r}(W.PureComponent);qc.displayName="Animate";qc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};qc.propTypes={from:tn.oneOfType([tn.object,tn.string]),to:tn.oneOfType([tn.object,tn.string]),attributeName:tn.string,duration:tn.number,begin:tn.number,easing:tn.oneOfType([tn.string,tn.func]),steps:tn.arrayOf(tn.shape({duration:tn.number.isRequired,style:tn.object.isRequired,easing:tn.oneOfType([tn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),tn.func]),properties:tn.arrayOf("string"),onAnimationEnd:tn.func})),children:tn.oneOfType([tn.node,tn.func]),isActive:tn.bool,canBegin:tn.bool,onAnimationEnd:tn.func,shouldReAnimate:tn.bool,onAnimationStart:tn.func,onAnimationReStart:tn.func};function m1(e){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m1(e)}function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uw.apply(this,arguments)}function wMe(e,t){return TMe(e)||AMe(e,t)||SMe(e,t)||_Me()}function _Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SMe(e,t){if(e){if(typeof e=="string")return IR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IR(e,t)}}function IR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AMe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function TMe(e){if(Array.isArray(e))return e}function DR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DR(Object(r),!0).forEach(function(n){EMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EMe(e,t,r){return t=kMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kMe(e){var t=NMe(e,"string");return m1(t)=="symbol"?t:t+""}function NMe(e,t){if(m1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(m1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LR=function(t,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),o=a>=0?1:-1,l=n>=0?1:-1,c=a>=0&&n>=0||a<0&&n<0?1:0,u;if(s>0&&i instanceof Array){for(var f=[0,0,0,0],h=0,d=4;h<d;h++)f[h]=i[h]>s?s:i[h];u="M".concat(t,",").concat(r+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(t+l*f[0],",").concat(r)),u+="L ".concat(t+n-l*f[1],",").concat(r),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(r+o*f[1])),u+="L ".concat(t+n,",").concat(r+a-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(t+n-l*f[2],",").concat(r+a)),u+="L ".concat(t+l*f[3],",").concat(r+a),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(r+a-o*f[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var g=Math.min(s,i);u="M ".concat(t,",").concat(r+o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+l*g,",").concat(r,`
            L `).concat(t+n-l*g,",").concat(r,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n,",").concat(r+o*g,`
            L `).concat(t+n,",").concat(r+a-o*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t+n-l*g,",").concat(r+a,`
            L `).concat(t+l*g,",").concat(r+a,`
            A `).concat(g,",").concat(g,",0,0,").concat(c,",").concat(t,",").concat(r+a-o*g," Z")}else u="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return u},CMe=function(t,r){if(!t||!r)return!1;var n=t.x,a=t.y,i=r.x,s=r.y,o=r.width,l=r.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(i,i+o),u=Math.max(i,i+o),f=Math.min(s,s+l),h=Math.max(s,s+l);return n>=c&&n<=u&&a>=f&&a<=h}return!1},PMe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},fP=function(t){var r=jR(jR({},PMe),t),n=W.useRef(),a=W.useState(-1),i=wMe(a,2),s=i[0],o=i[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&o(O)}catch{}},[]);var l=r.x,c=r.y,u=r.width,f=r.height,h=r.radius,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isAnimationActive,b=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var w=Gr("recharts-rectangle",d);return b?Oe.createElement(qc,{canBegin:s>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:m,animationEasing:g,isActive:b},function(O){var P=O.width,I=O.height,E=O.x,S=O.y;return Oe.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,isActive:y,easing:g},Oe.createElement("path",uw({},jr(r,!0),{className:w,d:LR(E,S,P,I,h),ref:n})))}):Oe.createElement("path",uw({},jr(r,!0),{className:w,d:LR(l,c,u,f,h)}))};function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(this,arguments)}var hP=function(t){var r=t.cx,n=t.cy,a=t.r,i=t.className,s=Gr("recharts-dot",i);return r===+r&&n===+n&&a===+a?Oe.createElement("circle",GE({},jr(t,!1),Cb(t),{className:s,cx:r,cy:n,r:a})):null};function g1(e){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g1(e)}var OMe=["x","y","top","left","width","height","className"];function KE(){return KE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KE.apply(this,arguments)}function MR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IMe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MR(Object(r),!0).forEach(function(n){DMe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DMe(e,t,r){return t=jMe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jMe(e){var t=LMe(e,"string");return g1(t)=="symbol"?t:t+""}function LMe(e,t){if(g1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(g1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MMe(e,t){if(e==null)return{};var r=RMe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function RMe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var FMe=function(t,r,n,a,i,s){return"M".concat(t,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},$Me=function(t){var r=t.x,n=r===void 0?0:r,a=t.y,i=a===void 0?0:a,s=t.top,o=s===void 0?0:s,l=t.left,c=l===void 0?0:l,u=t.width,f=u===void 0?0:u,h=t.height,d=h===void 0?0:h,g=t.className,m=MMe(t,OMe),v=IMe({x:n,y:i,top:o,left:c,width:f,height:d},m);return!jt(n)||!jt(i)||!jt(f)||!jt(d)||!jt(o)||!jt(c)?null:Oe.createElement("path",KE({},jr(v,!0),{className:Gr("recharts-cross",g),d:FMe(n,i,f,d,o,c)}))},BMe=oH,VMe=BMe(Object.getPrototypeOf,Object),UMe=VMe,zMe=Qc,qMe=UMe,WMe=Jc,HMe="[object Object]",GMe=Function.prototype,KMe=Object.prototype,KG=GMe.toString,YMe=KMe.hasOwnProperty,XMe=KG.call(Object);function QMe(e){if(!WMe(e)||zMe(e)!=HMe)return!1;var t=qMe(e);if(t===null)return!0;var r=YMe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&KG.call(r)==XMe}var JMe=QMe;const ZMe=pn(JMe);var eRe=Qc,tRe=Jc,rRe="[object Boolean]";function nRe(e){return e===!0||e===!1||tRe(e)&&eRe(e)==rRe}var aRe=nRe;const iRe=pn(aRe);function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fw.apply(this,arguments)}function sRe(e,t){return uRe(e)||cRe(e,t)||lRe(e,t)||oRe()}function oRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lRe(e,t){if(e){if(typeof e=="string")return RR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RR(e,t)}}function RR(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function cRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function uRe(e){if(Array.isArray(e))return e}function FR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $R(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FR(Object(r),!0).forEach(function(n){fRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fRe(e,t,r){return t=hRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hRe(e){var t=dRe(e,"string");return v1(t)=="symbol"?t:t+""}function dRe(e,t){if(v1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(v1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BR=function(t,r,n,a,i){var s=n-a,o;return o="M ".concat(t,",").concat(r),o+="L ".concat(t+n,",").concat(r),o+="L ".concat(t+n-s/2,",").concat(r+i),o+="L ".concat(t+n-s/2-a,",").concat(r+i),o+="L ".concat(t,",").concat(r," Z"),o},pRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mRe=function(t){var r=$R($R({},pRe),t),n=W.useRef(),a=W.useState(-1),i=sRe(a,2),s=i[0],o=i[1];W.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var w=n.current.getTotalLength();w&&o(w)}catch{}},[]);var l=r.x,c=r.y,u=r.upperWidth,f=r.lowerWidth,h=r.height,d=r.className,g=r.animationEasing,m=r.animationDuration,v=r.animationBegin,y=r.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||h!==+h||u===0&&f===0||h===0)return null;var b=Gr("recharts-trapezoid",d);return y?Oe.createElement(qc,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:h,x:l,y:c},duration:m,animationEasing:g,isActive:y},function(w){var O=w.upperWidth,P=w.lowerWidth,I=w.height,E=w.x,S=w.y;return Oe.createElement(qc,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:m,easing:g},Oe.createElement("path",fw({},jr(r,!0),{className:b,d:BR(E,S,O,P,I),ref:n})))}):Oe.createElement("g",null,Oe.createElement("path",fw({},jr(r,!0),{className:b,d:BR(l,c,u,f,h)})))},gRe=["option","shapeType","propTransformer","activeClassName","isActive"];function y1(e){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y1(e)}function vRe(e,t){if(e==null)return{};var r=yRe(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function VR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VR(Object(r),!0).forEach(function(n){xRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xRe(e,t,r){return t=bRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bRe(e){var t=wRe(e,"string");return y1(t)=="symbol"?t:t+""}function wRe(e,t){if(y1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(y1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Re(e,t){return hw(hw({},t),e)}function SRe(e,t){return e==="symbols"}function UR(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Oe.createElement(fP,r);case"trapezoid":return Oe.createElement(mRe,r);case"sector":return Oe.createElement(RG,r);case"symbols":if(SRe(t))return Oe.createElement(PC,r);break;default:return null}}function ARe(e){return W.isValidElement(e)?e.props:e}function TRe(e){var t=e.option,r=e.shapeType,n=e.propTransformer,a=n===void 0?_Re:n,i=e.activeClassName,s=i===void 0?"recharts-active-shape":i,o=e.isActive,l=vRe(e,gRe),c;if(W.isValidElement(t))c=W.cloneElement(t,hw(hw({},l),ARe(t)));else if(Ar(t))c=t(l);else if(ZMe(t)&&!iRe(t)){var u=a(t,l);c=Oe.createElement(UR,{shapeType:r,elementProps:u})}else{var f=l;c=Oe.createElement(UR,{shapeType:r,elementProps:f})}return o?Oe.createElement(la,{className:s},c):c}function r_(e,t){return t!=null&&"trapezoids"in e.props}function n_(e,t){return t!=null&&"sectors"in e.props}function x1(e,t){return t!=null&&"points"in e.props}function ERe(e,t){var r,n,a=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return a&&i}function kRe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function NRe(e,t){var r=e.x===t.x,n=e.y===t.y,a=e.z===t.z;return r&&n&&a}function CRe(e,t){var r;return r_(e,t)?r=ERe:n_(e,t)?r=kRe:x1(e,t)&&(r=NRe),r}function PRe(e,t){var r;return r_(e,t)?r="trapezoids":n_(e,t)?r="sectors":x1(e,t)&&(r="points"),r}function ORe(e,t){if(r_(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(n_(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return x1(e,t)?t.payload:{}}function IRe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,a=PRe(r,t),i=ORe(r,t),s=n.filter(function(l,c){var u=Z5(i,l),f=r.props[a].filter(function(g){var m=CRe(r,t);return m(g,t)}),h=r.props[a].indexOf(f[f.length-1]),d=c===h;return u&&d}),o=n.indexOf(s[s.length-1]);return o}var DRe=Math.ceil,jRe=Math.max;function LRe(e,t,r,n){for(var a=-1,i=jRe(DRe((t-e)/(r||1)),0),s=Array(i);i--;)s[n?i:++a]=e,e+=r;return s}var MRe=LRe,RRe=EH,zR=1/0,FRe=17976931348623157e292;function $Re(e){if(!e)return e===0?e:0;if(e=RRe(e),e===zR||e===-zR){var t=e<0?-1:1;return t*FRe}return e===e?e:0}var YG=$Re,BRe=MRe,VRe=q5,_A=YG;function URe(e){return function(t,r,n){return n&&typeof n!="number"&&VRe(t,r,n)&&(r=n=void 0),t=_A(t),r===void 0?(r=t,t=0):r=_A(r),n=n===void 0?t<r?1:-1:_A(n),BRe(t,r,n,e)}}var zRe=URe,qRe=zRe,WRe=qRe(),HRe=WRe;const dw=pn(HRe);function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function qR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function WR(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qR(Object(r),!0).forEach(function(n){XG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XG(e,t,r){return t=GRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GRe(e){var t=KRe(e,"string");return b1(t)=="symbol"?t:t+""}function KRe(e,t){if(b1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(b1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YRe=["Webkit","Moz","O","ms"],XRe=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),a=YRe.reduce(function(i,s){return WR(WR({},i),{},XG({},s+n,r))},{});return a[t]=r,a};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pw.apply(this,arguments)}function HR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function SA(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HR(Object(r),!0).forEach(function(n){Ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function GR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JG(n.key),n)}}function JRe(e,t,r){return t&&GR(e.prototype,t),r&&GR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZRe(e,t,r){return t=mw(t),e7e(e,QG()?Reflect.construct(t,r||[],mw(e).constructor):t.apply(e,r))}function e7e(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t7e(e)}function t7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QG(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QG=function(){return!!e})()}function mw(e){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(e)}function r7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YE(e,t)}function YE(e,t){return YE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YE(e,t)}function Ps(e,t,r){return t=JG(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JG(e){var t=n7e(e,"string");return _p(t)=="symbol"?t:t+""}function n7e(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a7e=function(t){var r=t.data,n=t.startIndex,a=t.endIndex,i=t.x,s=t.width,o=t.travellerWidth;if(!r||!r.length)return{};var l=r.length,c=Wg().domain(dw(0,l)).range([i,i+s-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(n),endX:c(a),scale:c,scaleValues:u}},KR=function(t){return t.changedTouches&&!!t.changedTouches.length},Sp=function(e){function t(r){var n;return QRe(this,t),n=ZRe(this,t,[r]),Ps(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Ps(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Ps(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,o=a.startIndex;s==null||s({endIndex:i,startIndex:o})}),n.detachDragEndListener()}),Ps(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ps(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ps(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ps(n,"handleSlideDragStart",function(a){var i=KR(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r7e(t,e),JRe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(a,i),h=Math.max(a,i),d=t.getIndexInRange(s,f),g=t.getIndexInRange(s,h);return{startIndex:d-d%l,endIndex:g===u?u:g-g%l}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,o=a.dataKey,l=qs(i[n],o,n);return Ar(s)?s(l,n):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,o=a.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,h=l.startIndex,d=l.endIndex,g=l.onChange,m=n.pageX-i;m>0?m=Math.min(m,c+u-f-o,c+u-f-s):m<0&&(m=Math.max(m,c-s,c-o));var v=this.getIndex({startX:s+m,endX:o+m});(v.startIndex!==h||v.endIndex!==d)&&g&&g(v),this.setState({startX:s+m,endX:o+m,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=KR(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,o=a.endX,l=a.startX,c=this.state[s],u=this.props,f=u.x,h=u.width,d=u.travellerWidth,g=u.onChange,m=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},b=n.pageX-i;b>0?b=Math.min(b,f+h-d-c):b<0&&(b=Math.max(b,f-c)),y[s]=c+b;var w=this.getIndex(y),O=w.startIndex,P=w.endIndex,I=function(){var S=v.length-1;return s==="startX"&&(o>l?O%m===0:P%m===0)||o<l&&P===S||s==="endX"&&(o>l?P%m===0:O%m===0)||o>l&&P===S};this.setState(Ps(Ps({},s,c+b),"brushMoveStartX",n.pageX),function(){g&&I()&&g(w)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,o=s.scaleValues,l=s.startX,c=s.endX,u=this.state[a],f=o.indexOf(u);if(f!==-1){var h=f+n;if(!(h===-1||h>=o.length)){var d=o[h];a==="startX"&&d>=c||a==="endX"&&d<=l||this.setState(Ps({},a,d),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.fill,c=n.stroke;return Oe.createElement("rect",{stroke:c,fill:l,x:a,y:i,width:s,height:o})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.data,c=n.children,u=n.padding,f=W.Children.only(c);return f?Oe.cloneElement(f,{x:a,y:i,width:s,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,h=l.traveller,d=l.ariaLabel,g=l.data,m=l.startIndex,v=l.endIndex,y=Math.max(n,this.props.x),b=SA(SA({},jr(this.props,!1)),{},{x:y,y:c,width:u,height:f}),w=d||"Min value: ".concat((i=g[m])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=g[v])===null||s===void 0?void 0:s.name);return Oe.createElement(la,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),o.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,b))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,o=i.height,l=i.stroke,c=i.travellerWidth,u=Math.min(n,a)+c,f=Math.max(Math.abs(a-n)-c,0);return Oe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:s,width:f,height:o})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,o=n.height,l=n.travellerWidth,c=n.stroke,u=this.state,f=u.startX,h=u.endX,d=5,g={pointerEvents:"none",fill:c};return Oe.createElement(la,{className:"recharts-brush-texts"},Oe.createElement(qb,pw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-d,y:s+o/2},g),this.getTextOfTick(a)),Oe.createElement(qb,pw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+d,y:s+o/2},g),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,o=n.x,l=n.y,c=n.width,u=n.height,f=n.alwaysShowText,h=this.state,d=h.startX,g=h.endX,m=h.isTextActive,v=h.isSlideMoving,y=h.isTravellerMoving,b=h.isTravellerFocused;if(!a||!a.length||!jt(o)||!jt(l)||!jt(c)||!jt(u)||c<=0||u<=0)return null;var w=Gr("recharts-brush",i),O=Oe.Children.count(s)===1,P=XRe("userSelect","none");return Oe.createElement(la,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(d,g),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(g,"endX"),(m||v||y||b||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,o=n.height,l=n.stroke,c=Math.floor(i+o/2)-1;return Oe.createElement(Oe.Fragment,null,Oe.createElement("rect",{x:a,y:i,width:s,height:o,fill:l,stroke:"none"}),Oe.createElement("line",{x1:a+1,y1:c,x2:a+s-1,y2:c,fill:"none",stroke:"#fff"}),Oe.createElement("line",{x1:a+1,y1:c+2,x2:a+s-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return Oe.isValidElement(n)?i=Oe.cloneElement(n,a):Ar(n)?i=n(a):i=t.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,o=n.x,l=n.travellerWidth,c=n.updateId,u=n.startIndex,f=n.endIndex;if(i!==a.prevData||c!==a.prevUpdateId)return SA({prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s},i&&i.length?a7e({data:i,width:s,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||o!==a.prevX||l!==a.prevTravellerWidth)){a.scale.range([o,o+s-l]);var h=a.scale.domain().map(function(d){return a.scale(d)});return{prevData:i,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,o=i-1;o-s>1;){var l=Math.floor((s+o)/2);n[l]>a?o=l:s=l}return a>=n[o]?o:s}}])}(W.PureComponent);Ps(Sp,"displayName","Brush");Ps(Sp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var i7e=RC;function s7e(e,t){var r;return i7e(e,function(n,a,i){return r=t(n,a,i),!r}),!!r}var o7e=s7e,l7e=ZW,c7e=$f,u7e=o7e,f7e=bs,h7e=q5;function d7e(e,t,r){var n=f7e(e)?l7e:u7e;return r&&h7e(e,t,r)&&(t=void 0),n(e,c7e(t))}var p7e=d7e;const m7e=pn(p7e);var $l=function(t,r){var n=t.alwaysShow,a=t.ifOverflow;return n&&(a="extendDomain"),a===r},YR=wH;function g7e(e,t,r){t=="__proto__"&&YR?YR(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var v7e=g7e,y7e=v7e,x7e=xH,b7e=$f;function w7e(e,t){var r={};return t=b7e(t),x7e(e,function(n,a,i){y7e(r,a,t(n,a,i))}),r}var _7e=w7e;const S7e=pn(_7e);function A7e(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var T7e=A7e,E7e=RC;function k7e(e,t){var r=!0;return E7e(e,function(n,a,i){return r=!!t(n,a,i),r}),r}var N7e=k7e,C7e=T7e,P7e=N7e,O7e=$f,I7e=bs,D7e=q5;function j7e(e,t,r){var n=I7e(e)?C7e:P7e;return r&&D7e(e,t,r)&&(t=void 0),n(e,O7e(t))}var L7e=j7e;const ZG=pn(L7e);var M7e=["x","y"];function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function XE(){return XE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},XE.apply(this,arguments)}function XR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XR(Object(r),!0).forEach(function(n){R7e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R7e(e,t,r){return t=F7e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7e(e){var t=$7e(e,"string");return w1(t)=="symbol"?t:t+""}function $7e(e,t){if(w1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(w1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B7e(e,t){if(e==null)return{};var r=V7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function U7e(e,t){var r=e.x,n=e.y,a=B7e(e,M7e),i="".concat(r),s=parseInt(i,10),o="".concat(n),l=parseInt(o,10),c="".concat(t.height||a.height),u=parseInt(c,10),f="".concat(t.width||a.width),h=parseInt(f,10);return Xm(Xm(Xm(Xm(Xm({},t),a),s?{x:s}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function QR(e){return Oe.createElement(TRe,XE({shapeType:"rectangle",propTransformer:U7e,activeClassName:"recharts-active-bar"},e))}var z7e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof t=="number")return t;var i=typeof n=="number";return i?t(n,a):(i||nd(),r)}},q7e=["value","background"],eK;function Ap(e){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ap(e)}function W7e(e,t){if(e==null)return{};var r=H7e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H7e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gw.apply(this,arguments)}function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ma(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(n){Qu(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ZR(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rK(n.key),n)}}function K7e(e,t,r){return t&&ZR(e.prototype,t),r&&ZR(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Y7e(e,t,r){return t=vw(t),X7e(e,tK()?Reflect.construct(t,r||[],vw(e).constructor):t.apply(e,r))}function X7e(e,t){if(t&&(Ap(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q7e(e)}function Q7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tK=function(){return!!e})()}function vw(e){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vw(e)}function J7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QE(e,t)}function QE(e,t){return QE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QE(e,t)}function Qu(e,t,r){return t=rK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=Z7e(e,"string");return Ap(t)=="symbol"?t:t+""}function Z7e(e,t){if(Ap(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cy=function(e){function t(){var r;G7e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Y7e(this,t,[].concat(a)),Qu(r,"state",{isAnimationFinished:!1}),Qu(r,"id",ry("recharts-bar-")),Qu(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Qu(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return J7e(t,e),K7e(t,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,o=i.dataKey,l=i.activeIndex,c=i.activeBar,u=jr(this.props,!1);return n&&n.map(function(f,h){var d=h===l,g=d?c:s,m=ma(ma(ma({},u),f),{},{isActive:d,option:g,index:h,dataKey:o,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return Oe.createElement(la,gw({className:"recharts-bar-rectangle"},Pb(a.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Oe.createElement(QR,m))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,h=this.state.prevData;return Oe.createElement(qc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(d){var g=d.t,m=i.map(function(v,y){var b=h&&h[y];if(b){var w=Xo(b.x,v.x),O=Xo(b.y,v.y),P=Xo(b.width,v.width),I=Xo(b.height,v.height);return ma(ma({},v),{},{x:w(g),y:O(g),width:P(g),height:I(g)})}if(s==="horizontal"){var E=Xo(0,v.height),S=E(g);return ma(ma({},v),{},{y:v.y+v.height-S,height:S})}var A=Xo(0,v.width),D=A(g);return ma(ma({},v),{},{width:D})});return Oe.createElement(la,null,n.renderRectanglesStatically(m))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Z5(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,o=a.activeIndex,l=jr(this.props.background,!1);return i.map(function(c,u){c.value;var f=c.background,h=W7e(c,q7e);if(!f)return null;var d=ma(ma(ma(ma(ma({},h),{},{fill:"#eee"},f),l),Pb(n.props,c,u)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:u,className:"recharts-bar-background-rectangle"});return Oe.createElement(QR,gw({key:"background-bar-".concat(u),option:n.props.background,isActive:u===o},d))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=yo(u,ly);if(!f)return null;var h=c==="vertical"?s[0].height/2:s[0].width/2,d=function(v,y){var b=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:b,errorVal:qs(v,y)}},g={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Oe.createElement(la,g,f.map(function(m){return Oe.cloneElement(m,{key:"error-bar-".concat(a,"-").concat(m.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,offset:h,dataPointFormatter:d})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,o=n.xAxis,l=n.yAxis,c=n.left,u=n.top,f=n.width,h=n.height,d=n.isAnimationActive,g=n.background,m=n.id;if(a||!i||!i.length)return null;var v=this.state.isAnimationFinished,y=Gr("recharts-bar",s),b=o&&o.allowDataOverflow,w=l&&l.allowDataOverflow,O=b||w,P=Ir(m)?this.id:m;return Oe.createElement(la,{className:y},b||w?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(P)},Oe.createElement("rect",{x:b?c:c-f/2,y:w?u:u-h/2,width:b?f:f*2,height:w?h:h*2}))):null,Oe.createElement(la,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(P,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,P),(!d||v)&&mf.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(W.PureComponent);eK=cy;Qu(cy,"displayName","Bar");Qu(cy,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Tc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Qu(cy,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,a=e.bandSize,i=e.xAxis,s=e.yAxis,o=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,f=e.displayedData,h=e.offset,d=CDe(n,r);if(!d)return null;var g=t.layout,m=r.type.defaultProps,v=m!==void 0?ma(ma({},m),r.props):r.props,y=v.dataKey,b=v.children,w=v.minPointSize,O=g==="horizontal"?s:i,P=c?O.scale.domain():null,I=RDe({numericAxis:O}),E=yo(b,NH),S=f.map(function(A,D){var T,k,j,V,Q,Y;c?T=PDe(c[u+D],P):(T=qs(A,y),Array.isArray(T)||(T=[I,T]));var J=z7e(w,eK.defaultProps.minPointSize)(T[1],D);if(g==="horizontal"){var H,U=[s.scale(T[0]),s.scale(T[1])],re=U[0],z=U[1];k=JM({axis:i,ticks:o,bandSize:a,offset:d.offset,entry:A,index:D}),j=(H=z??re)!==null&&H!==void 0?H:void 0,V=d.size;var C=re-z;if(Q=Number.isNaN(C)?0:C,Y={x:k,y:s.y,width:V,height:s.height},Math.abs(J)>0&&Math.abs(Q)<Math.abs(J)){var F=tl(Q||J)*(Math.abs(J)-Math.abs(Q));j-=F,Q+=F}}else{var q=[i.scale(T[0]),i.scale(T[1])],K=q[0],Z=q[1];if(k=K,j=JM({axis:s,ticks:l,bandSize:a,offset:d.offset,entry:A,index:D}),V=Z-K,Q=d.size,Y={x:i.x,y:j,width:i.width,height:Q},Math.abs(J)>0&&Math.abs(V)<Math.abs(J)){var oe=tl(V||J)*(Math.abs(J)-Math.abs(V));V+=oe}}return ma(ma(ma({},A),{},{x:k,y:j,width:V,height:Q,value:c?T:T[1],payload:A,background:Y},E&&E[D]&&E[D].props),{},{tooltipPayload:[jG(r,A)],tooltipPosition:{x:k+V/2,y:j+Q/2}})});return ma({data:S,layout:g},h)});function _1(e){"@babel/helpers - typeof";return _1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_1(e)}function eFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function e7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nK(n.key),n)}}function tFe(e,t,r){return t&&e7(e.prototype,t),r&&e7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function t7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Go(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t7(Object(r),!0).forEach(function(n){a_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a_(e,t,r){return t=nK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nK(e){var t=rFe(e,"string");return _1(t)=="symbol"?t:t+""}function rFe(e,t){if(_1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nFe=function(t,r,n,a,i){var s=t.width,o=t.height,l=t.layout,c=t.children,u=Object.keys(r),f={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},h=!!Is(c,cy);return u.reduce(function(d,g){var m=r[g],v=m.orientation,y=m.domain,b=m.padding,w=b===void 0?{}:b,O=m.mirror,P=m.reversed,I="".concat(v).concat(O?"Mirror":""),E,S,A,D,T;if(m.type==="number"&&(m.padding==="gap"||m.padding==="no-gap")){var k=y[1]-y[0],j=1/0,V=m.categoricalDomain.sort(c_e);if(V.forEach(function(q,K){K>0&&(j=Math.min((q||0)-(V[K-1]||0),j))}),Number.isFinite(j)){var Q=j/k,Y=m.layout==="vertical"?n.height:n.width;if(m.padding==="gap"&&(E=Q*Y/2),m.padding==="no-gap"){var J=td(t.barCategoryGap,Q*Y),H=Q*Y/2;E=H-J-(H-J)/Y*J}}}a==="xAxis"?S=[n.left+(w.left||0)+(E||0),n.left+n.width-(w.right||0)-(E||0)]:a==="yAxis"?S=l==="horizontal"?[n.top+n.height-(w.bottom||0),n.top+(w.top||0)]:[n.top+(w.top||0)+(E||0),n.top+n.height-(w.bottom||0)-(E||0)]:S=m.range,P&&(S=[S[1],S[0]]);var U=kDe(m,i,h),re=U.scale,z=U.realScaleType;re.domain(y).range(S),NDe(re);var C=MDe(re,Go(Go({},m),{},{realScaleType:z}));a==="xAxis"?(T=v==="top"&&!O||v==="bottom"&&O,A=n.left,D=f[I]-T*m.height):a==="yAxis"&&(T=v==="left"&&!O||v==="right"&&O,A=f[I]-T*m.width,D=n.top);var F=Go(Go(Go({},m),C),{},{realScaleType:z,x:A,y:D,scale:re,width:a==="xAxis"?n.width:m.width,height:a==="yAxis"?n.height:m.height});return F.bandSize=aw(F,C),!m.hide&&a==="xAxis"?f[I]+=(T?-1:1)*F.height:m.hide||(f[I]+=(T?-1:1)*F.width),Go(Go({},d),{},a_({},g,F))},{})},aK=function(t,r){var n=t.x,a=t.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},aFe=function(t){var r=t.x1,n=t.y1,a=t.x2,i=t.y2;return aK({x:r,y:n},{x:a,y:i})},iK=function(){function e(t){eFe(this,e),this.scale=t}return tFe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(r)+o}default:return this.scale(r)}if(a){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+l}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new e(r)}}])}();a_(iK,"EPS",1e-4);var dP=function(t){var r=Object.keys(t).reduce(function(n,a){return Go(Go({},n),{},a_({},a,iK.create(t[a])))},{});return Go(Go({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,o=i.position;return S7e(a,function(l,c){return r[c].apply(l,{bandAware:s,position:o})})},isInRange:function(a){return ZG(a,function(i,s){return r[s].isInRange(i)})}})};function iFe(e){return(e%180+180)%180}var sFe=function(t){var r=t.width,n=t.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=iFe(a),s=i*Math.PI/180,o=Math.atan(n/r),l=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(l)},oFe=$f,lFe=ny,cFe=U5;function uFe(e){return function(t,r,n){var a=Object(t);if(!lFe(t)){var i=oFe(r);t=cFe(t),r=function(o){return i(a[o],o,a)}}var s=e(t,r,n);return s>-1?a[i?t[s]:s]:void 0}}var fFe=uFe,hFe=YG;function dFe(e){var t=hFe(e),r=t%1;return t===t?r?t-r:t:0}var pFe=dFe,mFe=dH,gFe=$f,vFe=pFe,yFe=Math.max;function xFe(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var a=r==null?0:vFe(r);return a<0&&(a=yFe(n+a,0)),mFe(e,gFe(t),a)}var bFe=xFe,wFe=fFe,_Fe=bFe,SFe=wFe(_Fe),AFe=SFe;const TFe=pn(AFe);var EFe=f5e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),pP=W.createContext(void 0),mP=W.createContext(void 0),sK=W.createContext(void 0),oK=W.createContext({}),lK=W.createContext(void 0),cK=W.createContext(0),uK=W.createContext(0),r7=function(t){var r=t.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=t.clipPathId,o=t.children,l=t.width,c=t.height,u=EFe(i);return Oe.createElement(pP.Provider,{value:n},Oe.createElement(mP.Provider,{value:a},Oe.createElement(oK.Provider,{value:i},Oe.createElement(sK.Provider,{value:u},Oe.createElement(lK.Provider,{value:s},Oe.createElement(cK.Provider,{value:c},Oe.createElement(uK.Provider,{value:l},o)))))))},kFe=function(){return W.useContext(lK)},fK=function(t){var r=W.useContext(pP);r==null&&nd();var n=r[t];return n==null&&nd(),n},NFe=function(){var t=W.useContext(pP);return Uu(t)},CFe=function(){var t=W.useContext(mP),r=TFe(t,function(n){return ZG(n.domain,Number.isFinite)});return r||Uu(t)},hK=function(t){var r=W.useContext(mP);r==null&&nd();var n=r[t];return n==null&&nd(),n},PFe=function(){var t=W.useContext(sK);return t},OFe=function(){return W.useContext(oK)},gP=function(){return W.useContext(uK)},vP=function(){return W.useContext(cK)};function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function IFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pK(n.key),n)}}function jFe(e,t,r){return t&&DFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function LFe(e,t,r){return t=yw(t),MFe(e,dK()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function MFe(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RFe(e)}function RFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function FFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&JE(e,t)}function JE(e,t){return JE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JE(e,t)}function n7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function a7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n7(Object(r),!0).forEach(function(n){yP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yP(e,t,r){return t=pK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pK(e){var t=$Fe(e,"string");return Tp(t)=="symbol"?t:t+""}function $Fe(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BFe(e,t){return qFe(e)||zFe(e,t)||UFe(e,t)||VFe()}function VFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UFe(e,t){if(e){if(typeof e=="string")return i7(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i7(e,t)}}function i7(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function zFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function qFe(e){if(Array.isArray(e))return e}function ZE(){return ZE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ZE.apply(this,arguments)}var WFe=function(t,r){var n;return Oe.isValidElement(t)?n=Oe.cloneElement(t,r):Ar(t)?n=t(r):n=Oe.createElement("line",ZE({},r,{className:"recharts-reference-line-line"})),n},HFe=function(t,r,n,a,i,s,o,l,c){var u=i.x,f=i.y,h=i.width,d=i.height;if(n){var g=c.y,m=t.y.apply(g,{position:s});if($l(c,"discard")&&!t.y.isInRange(m))return null;var v=[{x:u+h,y:m},{x:u,y:m}];return l==="left"?v.reverse():v}if(r){var y=c.x,b=t.x.apply(y,{position:s});if($l(c,"discard")&&!t.x.isInRange(b))return null;var w=[{x:b,y:f+d},{x:b,y:f}];return o==="top"?w.reverse():w}if(a){var O=c.segment,P=O.map(function(I){return t.apply(I,{position:s})});return $l(c,"discard")&&m7e(P,function(I){return!t.isInRange(I)})?null:P}return null};function GFe(e){var t=e.x,r=e.y,n=e.segment,a=e.xAxisId,i=e.yAxisId,s=e.shape,o=e.className,l=e.alwaysShow,c=kFe(),u=fK(a),f=hK(i),h=PFe();if(!c||!h)return null;Sc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=dP({x:u.scale,y:f.scale}),g=Ca(t),m=Ca(r),v=n&&n.length===2,y=HFe(d,g,m,v,h,e.position,u.orientation,f.orientation,e);if(!y)return null;var b=BFe(y,2),w=b[0],O=w.x,P=w.y,I=b[1],E=I.x,S=I.y,A=$l(e,"hidden")?"url(#".concat(c,")"):void 0,D=a7(a7({clipPath:A},jr(e,!0)),{},{x1:O,y1:P,x2:E,y2:S});return Oe.createElement(la,{className:Gr("recharts-reference-line",o)},WFe(s,D),Ai.renderCallByParent(e,aFe({x1:O,y1:P,x2:E,y2:S})))}var xP=function(e){function t(){return IFe(this,t),LFe(this,t,arguments)}return FFe(t,e),jFe(t,[{key:"render",value:function(){return Oe.createElement(GFe,this.props)}}])}(Oe.Component);yP(xP,"displayName","ReferenceLine");yP(xP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},e3.apply(this,arguments)}function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function s7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function o7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(r),!0).forEach(function(n){i_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YFe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gK(n.key),n)}}function XFe(e,t,r){return t&&YFe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function QFe(e,t,r){return t=xw(t),JFe(e,mK()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function JFe(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZFe(e)}function ZFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mK=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function e$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},t3(e,t)}function i_(e,t,r){return t=gK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=t$e(e,"string");return Ep(t)=="symbol"?t:t+""}function t$e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var r$e=function(t){var r=t.x,n=t.y,a=t.xAxis,i=t.yAxis,s=dP({x:a.scale,y:i.scale}),o=s.apply({x:r,y:n},{bandAware:!0});return $l(t,"discard")&&!s.isInRange(o)?null:o},s_=function(e){function t(){return KFe(this,t),QFe(this,t,arguments)}return e$e(t,e),XFe(t,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,o=n.alwaysShow,l=n.clipPathId,c=Ca(a),u=Ca(i);if(Sc(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=r$e(this.props);if(!f)return null;var h=f.x,d=f.y,g=this.props,m=g.shape,v=g.className,y=$l(this.props,"hidden")?"url(#".concat(l,")"):void 0,b=o7(o7({clipPath:y},jr(this.props,!0)),{},{cx:h,cy:d});return Oe.createElement(la,{className:Gr("recharts-reference-dot",v)},t.renderDot(m,b),Ai.renderCallByParent(this.props,{x:h-s,y:d-s,width:2*s,height:2*s}))}}])}(Oe.Component);i_(s_,"displayName","ReferenceDot");i_(s_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});i_(s_,"renderDot",function(e,t){var r;return Oe.isValidElement(e)?r=Oe.cloneElement(e,t):Ar(e)?r=e(t):r=Oe.createElement(hP,e3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function r3(){return r3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},r3.apply(this,arguments)}function kp(e){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kp(e)}function l7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l7(Object(r),!0).forEach(function(n){o_(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a$e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yK(n.key),n)}}function i$e(e,t,r){return t&&a$e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function s$e(e,t,r){return t=bw(t),o$e(e,vK()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function o$e(e,t){if(t&&(kp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l$e(e)}function l$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vK=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function c$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n3(e,t)}function n3(e,t){return n3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},n3(e,t)}function o_(e,t,r){return t=yK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yK(e){var t=u$e(e,"string");return kp(t)=="symbol"?t:t+""}function u$e(e,t){if(kp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f$e=function(t,r,n,a,i){var s=i.x1,o=i.x2,l=i.y1,c=i.y2,u=i.xAxis,f=i.yAxis;if(!u||!f)return null;var h=dP({x:u.scale,y:f.scale}),d={x:t?h.x.apply(s,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:r?h.x.apply(o,{position:"end"}):h.x.rangeMax,y:a?h.y.apply(c,{position:"end"}):h.y.rangeMax};return $l(i,"discard")&&(!h.isInRange(d)||!h.isInRange(g))?null:aK(d,g)},l_=function(e){function t(){return n$e(this,t),s$e(this,t,arguments)}return c$e(t,e),i$e(t,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,o=n.y2,l=n.className,c=n.alwaysShow,u=n.clipPathId;Sc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ca(a),h=Ca(i),d=Ca(s),g=Ca(o),m=this.props.shape;if(!f&&!h&&!d&&!g&&!m)return null;var v=f$e(f,h,d,g,this.props);if(!v&&!m)return null;var y=$l(this.props,"hidden")?"url(#".concat(u,")"):void 0;return Oe.createElement(la,{className:Gr("recharts-reference-area",l)},t.renderRect(m,c7(c7({clipPath:y},jr(this.props,!0)),v)),Ai.renderCallByParent(this.props,v))}}])}(Oe.Component);o_(l_,"displayName","ReferenceArea");o_(l_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});o_(l_,"renderRect",function(e,t){var r;return Oe.isValidElement(e)?r=Oe.cloneElement(e,t):Ar(e)?r=e(t):r=Oe.createElement(fP,r3({},t,{className:"recharts-reference-area-rect"})),r});function xK(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],a=0;a<e.length;a+=t)n.push(e[a]);return n}function h$e(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return sFe(n,r)}function d$e(e,t,r){var n=r==="width",a=e.x,i=e.y,s=e.width,o=e.height;return t===1?{start:n?a:i,end:n?a+s:i+o}:{start:n?a+s:i+o,end:n?a:i}}function ww(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function p$e(e,t){return xK(e,t+1)}function m$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=t.start,o=t.end,l=0,c=1,u=s,f=function(){var g=n==null?void 0:n[l];if(g===void 0)return{v:xK(n,c)};var m=l,v,y=function(){return v===void 0&&(v=r(g,m)),v},b=g.coordinate,w=l===0||ww(e,b,y,u,o);w||(l=0,u=s,c+=1),w&&(u=b+e*(y()/2+a),l+=c)},h;c<=i.length;)if(h=f(),h)return h.v;return[]}function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function u7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u7(Object(r),!0).forEach(function(n){g$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g$e(e,t,r){return t=v$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v$e(e){var t=y$e(e,"string");return S1(t)=="symbol"?t:t+""}function y$e(e,t){if(S1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(S1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x$e(e,t,r,n,a){for(var i=(n||[]).slice(),s=i.length,o=t.start,l=t.end,c=function(h){var d=i[h],g,m=function(){return g===void 0&&(g=r(d,h)),g};if(h===s-1){var v=e*(d.coordinate+e*m()/2-l);i[h]=d=xi(xi({},d),{},{tickCoord:v>0?d.coordinate-v*e:d.coordinate})}else i[h]=d=xi(xi({},d),{},{tickCoord:d.coordinate});var y=ww(e,d.tickCoord,m,o,l);y&&(l=d.tickCoord-e*(m()/2+a),i[h]=xi(xi({},d),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return i}function b$e(e,t,r,n,a,i){var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end;if(i){var u=n[o-1],f=r(u,o-1),h=e*(u.coordinate+e*f/2-c);s[o-1]=u=xi(xi({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate});var d=ww(e,u.tickCoord,function(){return f},l,c);d&&(c=u.tickCoord-e*(f/2+a),s[o-1]=xi(xi({},u),{},{isShow:!0}))}for(var g=i?o-1:o,m=function(b){var w=s[b],O,P=function(){return O===void 0&&(O=r(w,b)),O};if(b===0){var I=e*(w.coordinate-e*P()/2-l);s[b]=w=xi(xi({},w),{},{tickCoord:I<0?w.coordinate-I*e:w.coordinate})}else s[b]=w=xi(xi({},w),{},{tickCoord:w.coordinate});var E=ww(e,w.tickCoord,P,l,c);E&&(l=w.tickCoord+e*(P()/2+a),s[b]=xi(xi({},w),{},{isShow:!0}))},v=0;v<g;v++)m(v);return s}function bP(e,t,r){var n=e.tick,a=e.ticks,i=e.viewBox,s=e.minTickGap,o=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,f=e.angle;if(!a||!a.length||!n)return[];if(jt(l)||Tc.isSsr)return p$e(a,typeof l=="number"&&jt(l)?l:0);var h=[],d=o==="top"||o==="bottom"?"width":"height",g=u&&d==="width"?qg(u,{fontSize:t,letterSpacing:r}):{width:0,height:0},m=function(w,O){var P=Ar(c)?c(w.value,O):w.value;return d==="width"?h$e(qg(P,{fontSize:t,letterSpacing:r}),g,f):qg(P,{fontSize:t,letterSpacing:r})[d]},v=a.length>=2?tl(a[1].coordinate-a[0].coordinate):1,y=d$e(i,v,d);return l==="equidistantPreserveStart"?m$e(v,y,m,a,s):(l==="preserveStart"||l==="preserveStartEnd"?h=b$e(v,y,m,a,s,l==="preserveStartEnd"):h=x$e(v,y,m,a,s),h.filter(function(b){return b.isShow}))}var w$e=["viewBox"],_$e=["viewBox"],S$e=["ticks"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function S0(){return S0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S0.apply(this,arguments)}function f7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f7(Object(r),!0).forEach(function(n){wP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AA(e,t){if(e==null)return{};var r=A$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function A$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function T$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wK(n.key),n)}}function E$e(e,t,r){return t&&h7(e.prototype,t),r&&h7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k$e(e,t,r){return t=_w(t),N$e(e,bK()?Reflect.construct(t,r||[],_w(e).constructor):t.apply(e,r))}function N$e(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C$e(e)}function C$e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bK=function(){return!!e})()}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function P$e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},a3(e,t)}function wP(e,t,r){return t=wK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=O$e(e,"string");return Np(t)=="symbol"?t:t+""}function O$e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cm=function(e){function t(r){var n;return T$e(this,t),n=k$e(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return P$e(t,e),E$e(t,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=AA(n,w$e),o=this.props,l=o.viewBox,c=AA(o,_$e);return!V0(i,l)||!V0(s,c)||!V0(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,o=a.width,l=a.height,c=a.orientation,u=a.tickSize,f=a.mirror,h=a.tickMargin,d,g,m,v,y,b,w=f?-1:1,O=n.tickSize||u,P=jt(n.tickCoord)?n.tickCoord:n.coordinate;switch(c){case"top":d=g=n.coordinate,v=s+ +!f*l,m=v-w*O,b=m-w*h,y=P;break;case"left":m=v=n.coordinate,g=i+ +!f*o,d=g-w*O,y=d-w*h,b=P;break;case"right":m=v=n.coordinate,g=i+ +f*o,d=g+w*O,y=d+w*h,b=P;break;default:d=g=n.coordinate,v=s+ +f*l,m=v+w*O,b=m+w*h,y=P;break}return{line:{x1:d,y1:m,x2:g,y2:v},tick:{x:y,y:b}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,o=n.height,l=n.orientation,c=n.mirror,u=n.axisLine,f=Fi(Fi(Fi({},jr(this.props,!1)),jr(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);f=Fi(Fi({},f),{},{x1:a,y1:i+h*o,x2:a+s,y2:i+h*o})}else{var d=+(l==="left"&&!c||l==="right"&&c);f=Fi(Fi({},f),{},{x1:a+d*s,y1:i,x2:a+d*s,y2:i+o})}return Oe.createElement("line",S0({},f,{className:Gr("recharts-cartesian-axis-line",vo(u,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,h=o.unit,d=bP(Fi(Fi({},this.props),{},{ticks:n}),a,i),g=this.getTickTextAnchor(),m=this.getTickVerticalAnchor(),v=jr(this.props,!1),y=jr(u,!1),b=Fi(Fi({},v),{},{fill:"none"},jr(l,!1)),w=d.map(function(O,P){var I=s.getTickLineCoord(O),E=I.line,S=I.tick,A=Fi(Fi(Fi(Fi({textAnchor:g,verticalAnchor:m},v),{},{stroke:"none",fill:c},y),S),{},{index:P,payload:O,visibleTicksCount:d.length,tickFormatter:f});return Oe.createElement(la,S0({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},Pb(s.props,O,P)),l&&Oe.createElement("line",S0({},b,E,{className:Gr("recharts-cartesian-axis-tick-line",vo(l,"className"))})),u&&t.renderTickItem(u,A,"".concat(Ar(f)?f(O.value,P):O.value).concat(h||"")))});return Oe.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,o=a.height,l=a.ticksGenerator,c=a.className,u=a.hide;if(u)return null;var f=this.props,h=f.ticks,d=AA(f,S$e),g=h;return Ar(l)&&(g=h&&h.length>0?l(this.props):l(d)),s<=0||o<=0||!g||!g.length?null:Oe.createElement(la,{className:Gr("recharts-cartesian-axis",c),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return Oe.isValidElement(n)?s=Oe.cloneElement(n,a):Ar(n)?s=n(a):s=Oe.createElement(qb,S0({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(W.Component);wP(cm,"displayName","CartesianAxis");wP(cm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var I$e=["x1","y1","x2","y2","key"],D$e=["offset"];function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function d7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d7(Object(r),!0).forEach(function(n){j$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j$e(e,t,r){return t=L$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L$e(e){var t=M$e(e,"string");return ad(t)=="symbol"?t:t+""}function M$e(e,t){if(ad(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function p7(e,t){if(e==null)return{};var r=R$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function R$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var F$e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,a=t.x,i=t.y,s=t.width,o=t.height,l=t.ry;return Oe.createElement("rect",{x:a,y:i,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _K(e,t){var r;if(Oe.isValidElement(e))r=Oe.cloneElement(e,t);else if(Ar(e))r=e(t);else{var n=t.x1,a=t.y1,i=t.x2,s=t.y2,o=t.key,l=p7(t,I$e),c=jr(l,!1);c.offset;var u=p7(c,D$e);r=Oe.createElement("line",Oh({},u,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:o}))}return r}function $$e(e){var t=e.x,r=e.width,n=e.horizontal,a=n===void 0?!0:n,i=e.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ti(Ti({},e),{},{x1:t,y1:o,x2:t+r,y2:o,key:"line-".concat(l),index:l});return _K(a,c)});return Oe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function B$e(e){var t=e.y,r=e.height,n=e.vertical,a=n===void 0?!0:n,i=e.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(o,l){var c=Ti(Ti({},e),{},{x1:o,y1:t,x2:o,y2:t+r,key:"line-".concat(l),index:l});return _K(a,c)});return Oe.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function V$e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,a=e.y,i=e.width,s=e.height,o=e.horizontalPoints,l=e.horizontal,c=l===void 0?!0:l;if(!c||!t||!t.length)return null;var u=o.map(function(h){return Math.round(h+a-a)}).sort(function(h,d){return h-d});a!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?a+s-h:u[d+1]-h;if(m<=0)return null;var v=d%t.length;return Oe.createElement("rect",{key:"react-".concat(d),y:h,x:n,height:m,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function U$e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,a=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.verticalPoints;if(!r||!n||!n.length)return null;var u=c.map(function(h){return Math.round(h+i-i)}).sort(function(h,d){return h-d});i!==u[0]&&u.unshift(0);var f=u.map(function(h,d){var g=!u[d+1],m=g?i+o-h:u[d+1]-h;if(m<=0)return null;var v=d%n.length;return Oe.createElement("rect",{key:"react-".concat(d),x:h,y:s,width:m,height:l,stroke:"none",fill:n[v],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return Oe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var z$e=function(t,r){var n=t.xAxis,a=t.width,i=t.height,s=t.offset;return IG(bP(Ti(Ti(Ti({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},q$e=function(t,r){var n=t.yAxis,a=t.width,i=t.height,s=t.offset;return IG(bP(Ti(Ti(Ti({},cm.defaultProps),n),{},{ticks:yc(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Yd={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function f2(e){var t,r,n,a,i,s,o=gP(),l=vP(),c=OFe(),u=Ti(Ti({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Yd.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:Yd.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:Yd.horizontal,horizontalFill:(a=e.horizontalFill)!==null&&a!==void 0?a:Yd.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:Yd.vertical,verticalFill:(s=e.verticalFill)!==null&&s!==void 0?s:Yd.verticalFill,x:jt(e.x)?e.x:c.left,y:jt(e.y)?e.y:c.top,width:jt(e.width)?e.width:c.width,height:jt(e.height)?e.height:c.height}),f=u.x,h=u.y,d=u.width,g=u.height,m=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,b=NFe(),w=CFe();if(!jt(d)||d<=0||!jt(g)||g<=0||!jt(f)||f!==+f||!jt(h)||h!==+h)return null;var O=u.verticalCoordinatesGenerator||z$e,P=u.horizontalCoordinatesGenerator||q$e,I=u.horizontalPoints,E=u.verticalPoints;if((!I||!I.length)&&Ar(P)){var S=v&&v.length,A=P({yAxis:w?Ti(Ti({},w),{},{ticks:S?v:w.ticks}):void 0,width:o,height:l,offset:c},S?!0:m);Sc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ad(A),"]")),Array.isArray(A)&&(I=A)}if((!E||!E.length)&&Ar(O)){var D=y&&y.length,T=O({xAxis:b?Ti(Ti({},b),{},{ticks:D?y:b.ticks}):void 0,width:o,height:l,offset:c},D?!0:m);Sc(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ad(T),"]")),Array.isArray(T)&&(E=T)}return Oe.createElement("g",{className:"recharts-cartesian-grid"},Oe.createElement(F$e,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),Oe.createElement($$e,Oh({},u,{offset:c,horizontalPoints:I,xAxis:b,yAxis:w})),Oe.createElement(B$e,Oh({},u,{offset:c,verticalPoints:E,xAxis:b,yAxis:w})),Oe.createElement(V$e,Oh({},u,{horizontalPoints:I})),Oe.createElement(U$e,Oh({},u,{verticalPoints:E})))}f2.displayName="CartesianGrid";var W$e=["type","layout","connectNulls","ref"],H$e=["key"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function m7(e,t){if(e==null)return{};var r=G$e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function G$e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kg(){return Kg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kg.apply(this,arguments)}function g7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cs(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g7(Object(r),!0).forEach(function(n){Ko(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xd(e){return Q$e(e)||X$e(e)||Y$e(e)||K$e()}function K$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Y$e(e,t){if(e){if(typeof e=="string")return i3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i3(e,t)}}function X$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Q$e(e){if(Array.isArray(e))return i3(e)}function i3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function J$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v7(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,AK(n.key),n)}}function Z$e(e,t,r){return t&&v7(e.prototype,t),r&&v7(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function e9e(e,t,r){return t=Sw(t),t9e(e,SK()?Reflect.construct(t,r||[],Sw(e).constructor):t.apply(e,r))}function t9e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r9e(e)}function r9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SK=function(){return!!e})()}function Sw(e){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(e)}function n9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s3(e,t)}function s3(e,t){return s3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},s3(e,t)}function Ko(e,t,r){return t=AK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AK(e){var t=a9e(e,"string");return Cp(t)=="symbol"?t:t+""}function a9e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var El=function(e){function t(){var r;J$e(this,t);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=e9e(this,t,[].concat(a)),Ko(r,"state",{isAnimationFinished:!0,totalLength:0}),Ko(r,"generateSimpleStrokeDasharray",function(s,o){return"".concat(o,"px ").concat(s-o,"px")}),Ko(r,"getStrokeDasharray",function(s,o,l){var c=l.reduce(function(y,b){return y+b});if(!c)return r.generateSimpleStrokeDasharray(o,s);for(var u=Math.floor(s/c),f=s%c,h=o-s,d=[],g=0,m=0;g<l.length;m+=l[g],++g)if(m+l[g]>f){d=[].concat(Xd(l.slice(0,g)),[f-m]);break}var v=d.length%2===0?[0,h]:[h];return[].concat(Xd(t.repeat(l,u)),Xd(d),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Ko(r,"id",ry("recharts-line-")),Ko(r,"pathRef",function(s){r.mainCurve=s}),Ko(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ko(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return n9e(t,e),Z$e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.points,o=i.xAxis,l=i.yAxis,c=i.layout,u=i.children,f=yo(u,ly);if(!f)return null;var h=function(m,v){return{x:m.x,y:m.y,value:m.value,errorVal:qs(m.payload,v)}},d={clipPath:n?"url(#clipPath-".concat(a,")"):null};return Oe.createElement(la,d,f.map(function(g){return Oe.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:s,xAxis:o,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,a,i){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=jr(this.props,!1),h=jr(l,!0),d=c.map(function(m,v){var y=Cs(Cs(Cs({key:"dot-".concat(v),r:3},f),h),{},{index:v,cx:m.x,cy:m.y,value:m.value,dataKey:u,payload:m.payload,points:c});return t.renderDotItem(l,y)}),g={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(i,")"):null};return Oe.createElement(la,Kg({className:"recharts-line-dots",key:"dots"},g),d)}},{key:"renderCurveStatically",value:function(n,a,i,s){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=m7(o,W$e),h=Cs(Cs(Cs({},jr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(i,")"):null,points:n},s),{},{type:l,layout:c,connectNulls:u});return Oe.createElement(RE,Kg({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var i=this,s=this.props,o=s.points,l=s.strokeDasharray,c=s.isAnimationActive,u=s.animationBegin,f=s.animationDuration,h=s.animationEasing,d=s.animationId,g=s.animateNewValues,m=s.width,v=s.height,y=this.state,b=y.prevPoints,w=y.totalLength;return Oe.createElement(qc,{begin:u,duration:f,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var P=O.t;if(b){var I=b.length/o.length,E=o.map(function(k,j){var V=Math.floor(j*I);if(b[V]){var Q=b[V],Y=Xo(Q.x,k.x),J=Xo(Q.y,k.y);return Cs(Cs({},k),{},{x:Y(P),y:J(P)})}if(g){var H=Xo(m*2,k.x),U=Xo(v/2,k.y);return Cs(Cs({},k),{},{x:H(P),y:U(P)})}return Cs(Cs({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(E,n,a)}var S=Xo(0,w),A=S(P),D;if(l){var T="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});D=i.getStrokeDasharray(A,w,T)}else D=i.generateSimpleStrokeDasharray(w,A);return i.renderCurveStatically(o,n,a,{strokeDasharray:D})})}},{key:"renderCurve",value:function(n,a){var i=this.props,s=i.points,o=i.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&s&&s.length&&(!c&&u>0||!Z5(c,s))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(s,n,a)}},{key:"render",value:function(){var n,a=this.props,i=a.hide,s=a.dot,o=a.points,l=a.className,c=a.xAxis,u=a.yAxis,f=a.top,h=a.left,d=a.width,g=a.height,m=a.isAnimationActive,v=a.id;if(i||!o||!o.length)return null;var y=this.state.isAnimationFinished,b=o.length===1,w=Gr("recharts-line",l),O=c&&c.allowDataOverflow,P=u&&u.allowDataOverflow,I=O||P,E=Ir(v)?this.id:v,S=(n=jr(s,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,D=A===void 0?3:A,T=S.strokeWidth,k=T===void 0?2:T,j=y_e(s)?s:{},V=j.clipDot,Q=V===void 0?!0:V,Y=D*2+k;return Oe.createElement(la,{className:w},O||P?Oe.createElement("defs",null,Oe.createElement("clipPath",{id:"clipPath-".concat(E)},Oe.createElement("rect",{x:O?h:h-d/2,y:P?f:f-g/2,width:O?d:d*2,height:P?g:g*2})),!Q&&Oe.createElement("clipPath",{id:"clipPath-dots-".concat(E)},Oe.createElement("rect",{x:h-Y/2,y:f-Y/2,width:d+Y,height:g+Y}))):null,!b&&this.renderCurve(I,E),this.renderErrorBar(I,E),(b||s)&&this.renderDots(I,Q,E),(!m||y)&&mf.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var i=n.length%2!==0?[].concat(Xd(n),[0]):n,s=[],o=0;o<a;++o)s=[].concat(Xd(s),Xd(i));return s}},{key:"renderDotItem",value:function(n,a){var i;if(Oe.isValidElement(n))i=Oe.cloneElement(n,a);else if(Ar(n))i=n(a);else{var s=a.key,o=m7(a,H$e),l=Gr("recharts-line-dot",typeof n!="boolean"?n.className:"");i=Oe.createElement(hP,Kg({key:s},o,{className:l}))}return i}}])}(W.PureComponent);Ko(El,"displayName","Line");Ko(El,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Tc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ko(El,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,f=l.map(function(h,d){var g=qs(h,s);return u==="horizontal"?{x:QM({axis:r,ticks:a,bandSize:o,entry:h,index:d}),y:Ir(g)?null:n.scale(g),value:g,payload:h}:{x:Ir(g)?null:r.scale(g),y:QM({axis:n,ticks:i,bandSize:o,entry:h,index:d}),value:g,payload:h}});return Cs({points:f,layout:u},c)});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function i9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kK(n.key),n)}}function o9e(e,t,r){return t&&s9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l9e(e,t,r){return t=Aw(t),c9e(e,TK()?Reflect.construct(t,r||[],Aw(e).constructor):t.apply(e,r))}function c9e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u9e(e)}function u9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TK=function(){return!!e})()}function Aw(e){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(e)}function f9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},o3(e,t)}function EK(e,t,r){return t=kK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kK(e){var t=h9e(e,"string");return Pp(t)=="symbol"?t:t+""}function h9e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l3.apply(this,arguments)}function d9e(e){var t=e.xAxisId,r=gP(),n=vP(),a=fK(t);return a==null?null:Oe.createElement(cm,l3({},a,{className:Gr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return yc(s,!0)}}))}var q0=function(e){function t(){return i9e(this,t),l9e(this,t,arguments)}return f9e(t,e),o9e(t,[{key:"render",value:function(){return Oe.createElement(d9e,this.props)}}])}(Oe.Component);EK(q0,"displayName","XAxis");EK(q0,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Op(e){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Op(e)}function p9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PK(n.key),n)}}function g9e(e,t,r){return t&&m9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function v9e(e,t,r){return t=Tw(t),y9e(e,NK()?Reflect.construct(t,r||[],Tw(e).constructor):t.apply(e,r))}function y9e(e,t){if(t&&(Op(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x9e(e)}function x9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NK=function(){return!!e})()}function Tw(e){return Tw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Tw(e)}function b9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},c3(e,t)}function CK(e,t,r){return t=PK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PK(e){var t=w9e(e,"string");return Op(t)=="symbol"?t:t+""}function w9e(e,t){if(Op(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u3.apply(this,arguments)}var _9e=function(t){var r=t.yAxisId,n=gP(),a=vP(),i=hK(r);return i==null?null:Oe.createElement(cm,u3({},i,{className:Gr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(o){return yc(o,!0)}}))},W0=function(e){function t(){return p9e(this,t),v9e(this,t,arguments)}return b9e(t,e),g9e(t,[{key:"render",value:function(){return Oe.createElement(_9e,this.props)}}])}(Oe.Component);CK(W0,"displayName","YAxis");CK(W0,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function y7(e){return E9e(e)||T9e(e)||A9e(e)||S9e()}function S9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A9e(e,t){if(e){if(typeof e=="string")return f3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f3(e,t)}}function T9e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E9e(e){if(Array.isArray(e))return f3(e)}function f3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var h3=function(t,r,n,a,i){var s=yo(t,xP),o=yo(t,s_),l=[].concat(y7(s),y7(o)),c=yo(t,l_),u="".concat(a,"Id"),f=a[0],h=r;if(l.length&&(h=l.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&jt(v.props[f])){var y=v.props[f];return[Math.min(m[0],y),Math.max(m[1],y)]}return m},h)),c.length){var d="".concat(f,"1"),g="".concat(f,"2");h=c.reduce(function(m,v){if(v.props[u]===n&&$l(v.props,"extendDomain")&&jt(v.props[d])&&jt(v.props[g])){var y=v.props[d],b=v.props[g];return[Math.min(m[0],y,b),Math.max(m[1],y,b)]}return m},h)}return i&&i.length&&(h=i.reduce(function(m,v){return jt(v)?[Math.min(m[0],v),Math.max(m[1],v)]:m},h)),h},OK={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function i(l,c,u,f,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var d=new a(u,f||l,h),g=r?r+c:c;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],d]:l._events[g].push(d):(l._events[g]=d,l._eventsCount++),l}function s(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)t.call(u,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=r?r+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,d=f.length,g=new Array(d);h<d;h++)g[h]=f[h].fn;return g},o.prototype.listenerCount=function(c){var u=r?r+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,h,d,g){var m=r?r+c:c;if(!this._events[m])return!1;var v=this._events[m],y=arguments.length,b,w;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,f),!0;case 4:return v.fn.call(v.context,u,f,h),!0;case 5:return v.fn.call(v.context,u,f,h,d),!0;case 6:return v.fn.call(v.context,u,f,h,d,g),!0}for(w=1,b=new Array(y-1);w<y;w++)b[w-1]=arguments[w];v.fn.apply(v.context,b)}else{var O=v.length,P;for(w=0;w<O;w++)switch(v[w].once&&this.removeListener(c,v[w].fn,void 0,!0),y){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,u);break;case 3:v[w].fn.call(v[w].context,u,f);break;case 4:v[w].fn.call(v[w].context,u,f,h);break;default:if(!b)for(P=1,b=new Array(y-1);P<y;P++)b[P-1]=arguments[P];v[w].fn.apply(v[w].context,b)}}return!0},o.prototype.on=function(c,u,f){return i(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return i(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,h){var d=r?r+c:c;if(!this._events[d])return this;if(!u)return s(this,d),this;var g=this._events[d];if(g.fn)g.fn===u&&(!h||g.once)&&(!f||g.context===f)&&s(this,d);else{for(var m=0,v=[],y=g.length;m<y;m++)(g[m].fn!==u||h&&!g[m].once||f&&g[m].context!==f)&&v.push(g[m]);v.length?this._events[d]=v.length===1?v[0]:v:s(this,d)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=r?r+c:c,this._events[u]&&s(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o})(OK);var k9e=OK.exports;const N9e=pn(k9e);var TA=new N9e,EA="recharts.syncMouseEvents";function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function C9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IK(n.key),n)}}function O9e(e,t,r){return t&&P9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kA(e,t,r){return t=IK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=I9e(e,"string");return A1(t)=="symbol"?t:t+""}function I9e(e,t){if(A1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(A1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var D9e=function(){function e(){C9e(this,e),kA(this,"activeIndex",0),kA(this,"coordinateList",[]),kA(this,"layout","horizontal")}return O9e(e,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,o=s===void 0?null:s,l=r.layout,c=l===void 0?null:l,u=r.offset,f=u===void 0?null:u,h=r.mouseHandlerCallback,d=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=d??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,o=a.height,l=this.coordinateList[this.activeIndex].coordinate,c=((r=window)===null||r===void 0?void 0:r.scrollX)||0,u=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=i+l+c,h=s+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function j9e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],a=e==null?void 0:e[1];if(n&&a&&jt(n)&&jt(a))return!0}return!1}function L9e(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function DK(e){var t=e.cx,r=e.cy,n=e.radius,a=e.startAngle,i=e.endAngle,s=ni(t,r,n,a),o=ni(t,r,n,i);return{points:[s,o],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}function M9e(e,t,r){var n,a,i,s;if(e==="horizontal")n=t.x,i=n,a=r.top,s=r.top+r.height;else if(e==="vertical")a=t.y,s=a,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,f=t.angle,h=ni(o,l,c,f),d=ni(o,l,u,f);n=h.x,a=h.y,i=d.x,s=d.y}else return DK(t);return[{x:n,y:a},{x:i,y:s}]}function T1(e){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T1(e)}function x7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Lx(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x7(Object(r),!0).forEach(function(n){R9e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R9e(e,t,r){return t=F9e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9e(e){var t=$9e(e,"string");return T1(t)=="symbol"?t:t+""}function $9e(e,t){if(T1(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(T1(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B9e(e){var t,r,n=e.element,a=e.tooltipEventType,i=e.isActive,s=e.activeCoordinate,o=e.activePayload,l=e.offset,c=e.activeTooltipIndex,u=e.tooltipAxisBandSize,f=e.layout,h=e.chartName,d=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!d||!i||!s||h!=="ScatterChart"&&a!=="axis")return null;var g,m=RE;if(h==="ScatterChart")g=s,m=$Me;else if(h==="BarChart")g=L9e(f,s,l,u),m=fP;else if(f==="radial"){var v=DK(s),y=v.cx,b=v.cy,w=v.radius,O=v.startAngle,P=v.endAngle;g={cx:y,cy:b,startAngle:O,endAngle:P,innerRadius:w,outerRadius:w},m=RG}else g={points:M9e(f,s,l)},m=RE;var I=Lx(Lx(Lx(Lx({stroke:"#ccc",pointerEvents:"none"},l),g),jr(d,!1)),{},{payload:o,payloadIndex:c,className:Gr("recharts-tooltip-cursor",d.className)});return W.isValidElement(d)?W.cloneElement(d,I):W.createElement(m,I)}var V9e=["item"],U9e=["children","className","width","height","style","compact","title","desc"];function Ip(e){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ip(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A0.apply(this,arguments)}function b7(e,t){return W9e(e)||q9e(e,t)||LK(e,t)||z9e()}function z9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q9e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,s,o=[],l=!0,c=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(u){c=!0,a=u}finally{try{if(!l&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw a}}return o}}function W9e(e){if(Array.isArray(e))return e}function w7(e,t){if(e==null)return{};var r=H9e(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function H9e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function G9e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K9e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,MK(n.key),n)}}function Y9e(e,t,r){return t&&K9e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function X9e(e,t,r){return t=Ew(t),Q9e(e,jK()?Reflect.construct(t,r||[],Ew(e).constructor):t.apply(e,r))}function Q9e(e,t){if(t&&(Ip(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J9e(e)}function J9e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jK(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jK=function(){return!!e})()}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function Z9e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d3(e,t)}function d3(e,t){return d3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d3(e,t)}function Dp(e){return rBe(e)||tBe(e)||LK(e)||eBe()}function eBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LK(e,t){if(e){if(typeof e=="string")return p3(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p3(e,t)}}function tBe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rBe(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_7(Object(r),!0).forEach(function(n){nr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nr(e,t,r){return t=MK(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MK(e){var t=nBe(e,"string");return Ip(t)=="symbol"?t:t+""}function nBe(e,t){if(Ip(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aBe={xAxis:["bottom","top"],yAxis:["left","right"]},iBe={width:"100%",height:"100%"},RK={x:0,y:0};function Mx(e){return e}var sBe=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},oBe=function(t,r,n,a){var i=r.find(function(u){return u&&u.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:a.y};if(t==="vertical")return{x:a.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,o=a.radius;return tt(tt(tt({},a),ni(a.cx,a.cy,o,s)),{},{angle:s,radius:o})}var l=i.coordinate,c=a.angle;return tt(tt(tt({},a),ni(a.cx,a.cy,l,c)),{},{angle:c,radius:l})}return RK},c_=function(t,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dp(o),Dp(c)):o},[]);return s.length>0?s:t&&t.length&&jt(a)&&jt(i)?t.slice(a,i+1):[]};function FK(e){return e==="number"?[0,"auto"]:void 0}var m3=function(t,r,n,a){var i=t.graphicalItems,s=t.tooltipAxis,o=c_(r,t);return n<0||!i||!i.length||n>=o.length?null:i.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:r;f&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(f=f.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(s.dataKey&&!s.allowDuplicatedCategory){var d=f===void 0?o:f;h=Nb(d,s.dataKey,a)}else h=f&&f[n]||o[n];return h?[].concat(Dp(l),[jG(c,h)]):l},[])},S7=function(t,r,n,a){var i=a||{x:t.chartX,y:t.chartY},s=sBe(i,n),o=t.orderedTooltipTicks,l=t.tooltipAxis,c=t.tooltipTicks,u=wDe(s,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,h=m3(t,r,u,f),d=oBe(n,o,u,i);return{activeTooltipIndex:u,activeLabel:f,activePayload:h,activeCoordinate:d}}return null},lBe=function(t,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=t.stackOffset,d=OG(u,i);return n.reduce(function(g,m){var v,y=m.type.defaultProps!==void 0?tt(tt({},m.type.defaultProps),m.props):m.props,b=y.type,w=y.dataKey,O=y.allowDataOverflow,P=y.allowDuplicatedCategory,I=y.scale,E=y.ticks,S=y.includeHidden,A=y[s];if(g[A])return g;var D=c_(t.data,{graphicalItems:a.filter(function(C){var F,q=s in C.props?C.props[s]:(F=C.type.defaultProps)===null||F===void 0?void 0:F[s];return q===A}),dataStartIndex:l,dataEndIndex:c}),T=D.length,k,j,V;j9e(y.domain,O,b)&&(k=IE(y.domain,null,O),d&&(b==="number"||I!=="auto")&&(V=Hg(D,w,"category")));var Q=FK(b);if(!k||k.length===0){var Y,J=(Y=y.domain)!==null&&Y!==void 0?Y:Q;if(w){if(k=Hg(D,w,b),b==="category"&&d){var H=l_e(k);P&&H?(j=k,k=dw(0,T)):P||(k=tR(J,k,m).reduce(function(C,F){return C.indexOf(F)>=0?C:[].concat(Dp(C),[F])},[]))}else if(b==="category")P?k=k.filter(function(C){return C!==""&&!Ir(C)}):k=tR(J,k,m).reduce(function(C,F){return C.indexOf(F)>=0||F===""||Ir(F)?C:[].concat(Dp(C),[F])},[]);else if(b==="number"){var U=EDe(D,a.filter(function(C){var F,q,K=s in C.props?C.props[s]:(F=C.type.defaultProps)===null||F===void 0?void 0:F[s],Z="hide"in C.props?C.props.hide:(q=C.type.defaultProps)===null||q===void 0?void 0:q.hide;return K===A&&(S||!Z)}),w,i,u);U&&(k=U)}d&&(b==="number"||I!=="auto")&&(V=Hg(D,w,"category"))}else d?k=dw(0,T):o&&o[A]&&o[A].hasStack&&b==="number"?k=h==="expand"?[0,1]:DG(o[A].stackGroups,l,c):k=PG(D,a.filter(function(C){var F=s in C.props?C.props[s]:C.type.defaultProps[s],q="hide"in C.props?C.props.hide:C.type.defaultProps.hide;return F===A&&(S||!q)}),b,u,!0);if(b==="number")k=h3(f,k,A,i,E),J&&(k=IE(J,k,O));else if(b==="category"&&J){var re=J,z=k.every(function(C){return re.indexOf(C)>=0});z&&(k=re)}}return tt(tt({},g),{},nr({},A,tt(tt({},y),{},{axisType:i,domain:k,categoricalDomain:V,duplicateDomain:j,originalDomain:(v=y.domain)!==null&&v!==void 0?v:Q,isCategorical:d,layout:u})))},{})},cBe=function(t,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.layout,f=t.children,h=c_(t.data,{graphicalItems:n,dataStartIndex:l,dataEndIndex:c}),d=h.length,g=OG(u,i),m=-1;return n.reduce(function(v,y){var b=y.type.defaultProps!==void 0?tt(tt({},y.type.defaultProps),y.props):y.props,w=b[s],O=FK("number");if(!v[w]){m++;var P;return g?P=dw(0,d):o&&o[w]&&o[w].hasStack?(P=DG(o[w].stackGroups,l,c),P=h3(f,P,w,i)):(P=IE(O,PG(h,n.filter(function(I){var E,S,A=s in I.props?I.props[s]:(E=I.type.defaultProps)===null||E===void 0?void 0:E[s],D="hide"in I.props?I.props.hide:(S=I.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===w&&!D}),"number",u),a.defaultProps.allowDataOverflow),P=h3(f,P,w,i)),tt(tt({},v),{},nr({},w,tt(tt({axisType:i},a.defaultProps),{},{hide:!0,orientation:vo(aBe,"".concat(i,".").concat(m%2),null),domain:P,originalDomain:O,isCategorical:g,layout:u})))}return v},{})},uBe=function(t,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,o=r.stackGroups,l=r.dataStartIndex,c=r.dataEndIndex,u=t.children,f="".concat(a,"Id"),h=yo(u,i),d={};return h&&h.length?d=lBe(t,{axes:h,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):s&&s.length&&(d=cBe(t,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),d},fBe=function(t){var r=Uu(t),n=yc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:FC(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:aw(r,n)}},A7=function(t){var r=t.children,n=t.defaultShowTooltip,a=Is(r,Sp),i=0,s=0;return t.data&&t.data.length!==0&&(s=t.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},hBe=function(t){return!t||!t.length?!1:t.some(function(r){var n=_c(r&&r.type);return n&&n.indexOf("Bar")>=0})},T7=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},dBe=function(t,r){var n=t.props,a=t.graphicalItems,i=t.xAxisMap,s=i===void 0?{}:i,o=t.yAxisMap,l=o===void 0?{}:o,c=n.width,u=n.height,f=n.children,h=n.margin||{},d=Is(f,Sp),g=Is(f,Ac),m=Object.keys(l).reduce(function(P,I){var E=l[I],S=E.orientation;return!E.mirror&&!E.hide?tt(tt({},P),{},nr({},S,P[S]+E.width)):P},{left:h.left||0,right:h.right||0}),v=Object.keys(s).reduce(function(P,I){var E=s[I],S=E.orientation;return!E.mirror&&!E.hide?tt(tt({},P),{},nr({},S,vo(P,"".concat(S))+E.height)):P},{top:h.top||0,bottom:h.bottom||0}),y=tt(tt({},v),m),b=y.bottom;d&&(y.bottom+=d.props.height||Sp.defaultProps.height),g&&r&&(y=ADe(y,a,n,r));var w=c-y.left-y.right,O=u-y.top-y.bottom;return tt(tt({brushBottom:b},y),{},{width:Math.max(w,0),height:Math.max(O,0)})},pBe=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},mBe=function(t){var r=t.chartName,n=t.GraphicalChild,a=t.defaultTooltipEventType,i=a===void 0?"axis":a,s=t.validateTooltipEventTypes,o=s===void 0?["axis"]:s,l=t.axisComponents,c=t.legendContent,u=t.formatAxisMap,f=t.defaultProps,h=function(y,b){var w=b.graphicalItems,O=b.stackGroups,P=b.offset,I=b.updateId,E=b.dataStartIndex,S=b.dataEndIndex,A=y.barSize,D=y.layout,T=y.barGap,k=y.barCategoryGap,j=y.maxBarSize,V=T7(D),Q=V.numericAxisName,Y=V.cateAxisName,J=hBe(w),H=[];return w.forEach(function(U,re){var z=c_(y.data,{graphicalItems:[U],dataStartIndex:E,dataEndIndex:S}),C=U.type.defaultProps!==void 0?tt(tt({},U.type.defaultProps),U.props):U.props,F=C.dataKey,q=C.maxBarSize,K=C["".concat(Q,"Id")],Z=C["".concat(Y,"Id")],oe={},fe=l.reduce(function(Le,Ge){var Me=b["".concat(Ge.axisType,"Map")],Ye=C["".concat(Ge.axisType,"Id")];Me&&Me[Ye]||Ge.axisType==="zAxis"||nd();var mt=Me[Ye];return tt(tt({},Le),{},nr(nr({},Ge.axisType,mt),"".concat(Ge.axisType,"Ticks"),yc(mt)))},oe),ie=fe[Y],de=fe["".concat(Y,"Ticks")],_e=O&&O[K]&&O[K].hasStack&&FDe(U,O[K].stackGroups),B=_c(U.type).indexOf("Bar")>=0,Te=aw(ie,de),ge=[],ve=J&&_De({barSize:A,stackGroups:O,totalSize:pBe(fe,Y)});if(B){var te,ke,$e=Ir(q)?j:q,Fe=(te=(ke=aw(ie,de,!0))!==null&&ke!==void 0?ke:$e)!==null&&te!==void 0?te:0;ge=SDe({barGap:T,barCategoryGap:k,bandSize:Fe!==Te?Fe:Te,sizeList:ve[Z],maxBarSize:$e}),Fe!==Te&&(ge=ge.map(function(Le){return tt(tt({},Le),{},{position:tt(tt({},Le.position),{},{offset:Le.position.offset-Fe/2})})}))}var Qe=U&&U.type&&U.type.getComposedData;Qe&&H.push({props:tt(tt({},Qe(tt(tt({},fe),{},{displayedData:z,props:y,dataKey:F,item:U,bandSize:Te,barPosition:ge,offset:P,stackedData:_e,layout:D,dataStartIndex:E,dataEndIndex:S}))),{},nr(nr(nr({key:U.key||"item-".concat(re)},Q,fe[Q]),Y,fe[Y]),"animationId",I)),childIndex:w_e(U,y.children),item:U})}),H},d=function(y,b){var w=y.props,O=y.dataStartIndex,P=y.dataEndIndex,I=y.updateId;if(!Kj({props:w}))return null;var E=w.children,S=w.layout,A=w.stackOffset,D=w.data,T=w.reverseStackOrder,k=T7(S),j=k.numericAxisName,V=k.cateAxisName,Q=yo(E,n),Y=LDe(D,Q,"".concat(j,"Id"),"".concat(V,"Id"),A,T),J=l.reduce(function(C,F){var q="".concat(F.axisType,"Map");return tt(tt({},C),{},nr({},q,uBe(w,tt(tt({},F),{},{graphicalItems:Q,stackGroups:F.axisType===j&&Y,dataStartIndex:O,dataEndIndex:P}))))},{}),H=dBe(tt(tt({},J),{},{props:w,graphicalItems:Q}),b==null?void 0:b.legendBBox);Object.keys(J).forEach(function(C){J[C]=u(w,J[C],H,C.replace("Map",""),r)});var U=J["".concat(V,"Map")],re=fBe(U),z=h(w,tt(tt({},J),{},{dataStartIndex:O,dataEndIndex:P,updateId:I,graphicalItems:Q,stackGroups:Y,offset:H}));return tt(tt({formattedGraphicalItems:z,graphicalItems:Q,offset:H,stackGroups:Y},re),J)},g=function(v){function y(b){var w,O,P;return G9e(this,y),P=X9e(this,y,[b]),nr(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),nr(P,"accessibilityManager",new D9e),nr(P,"handleLegendBBoxUpdate",function(I){if(I){var E=P.state,S=E.dataStartIndex,A=E.dataEndIndex,D=E.updateId;P.setState(tt({legendBBox:I},d({props:P.props,dataStartIndex:S,dataEndIndex:A,updateId:D},tt(tt({},P.state),{},{legendBBox:I}))))}}),nr(P,"handleReceiveSyncEvent",function(I,E,S){if(P.props.syncId===I){if(S===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(E)}}),nr(P,"handleBrushChange",function(I){var E=I.startIndex,S=I.endIndex;if(E!==P.state.dataStartIndex||S!==P.state.dataEndIndex){var A=P.state.updateId;P.setState(function(){return tt({dataStartIndex:E,dataEndIndex:S},d({props:P.props,dataStartIndex:E,dataEndIndex:S,updateId:A},P.state))}),P.triggerSyncEvent({dataStartIndex:E,dataEndIndex:S})}}),nr(P,"handleMouseEnter",function(I){var E=P.getMouseInfo(I);if(E){var S=tt(tt({},E),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var A=P.props.onMouseEnter;Ar(A)&&A(S,I)}}),nr(P,"triggeredAfterMouseMove",function(I){var E=P.getMouseInfo(I),S=E?tt(tt({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(S),P.triggerSyncEvent(S);var A=P.props.onMouseMove;Ar(A)&&A(S,I)}),nr(P,"handleItemMouseEnter",function(I){P.setState(function(){return{isTooltipActive:!0,activeItem:I,activePayload:I.tooltipPayload,activeCoordinate:I.tooltipPosition||{x:I.cx,y:I.cy}}})}),nr(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),nr(P,"handleMouseMove",function(I){I.persist(),P.throttleTriggeredAfterMouseMove(I)}),nr(P,"handleMouseLeave",function(I){P.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};P.setState(E),P.triggerSyncEvent(E);var S=P.props.onMouseLeave;Ar(S)&&S(E,I)}),nr(P,"handleOuterEvent",function(I){var E=b_e(I),S=vo(P.props,"".concat(E));if(E&&Ar(S)){var A,D;/.*touch.*/i.test(E)?D=P.getMouseInfo(I.changedTouches[0]):D=P.getMouseInfo(I),S((A=D)!==null&&A!==void 0?A:{},I)}}),nr(P,"handleClick",function(I){var E=P.getMouseInfo(I);if(E){var S=tt(tt({},E),{},{isTooltipActive:!0});P.setState(S),P.triggerSyncEvent(S);var A=P.props.onClick;Ar(A)&&A(S,I)}}),nr(P,"handleMouseDown",function(I){var E=P.props.onMouseDown;if(Ar(E)){var S=P.getMouseInfo(I);E(S,I)}}),nr(P,"handleMouseUp",function(I){var E=P.props.onMouseUp;if(Ar(E)){var S=P.getMouseInfo(I);E(S,I)}}),nr(P,"handleTouchMove",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(I.changedTouches[0])}),nr(P,"handleTouchStart",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.handleMouseDown(I.changedTouches[0])}),nr(P,"handleTouchEnd",function(I){I.changedTouches!=null&&I.changedTouches.length>0&&P.handleMouseUp(I.changedTouches[0])}),nr(P,"handleDoubleClick",function(I){var E=P.props.onDoubleClick;if(Ar(E)){var S=P.getMouseInfo(I);E(S,I)}}),nr(P,"handleContextMenu",function(I){var E=P.props.onContextMenu;if(Ar(E)){var S=P.getMouseInfo(I);E(S,I)}}),nr(P,"triggerSyncEvent",function(I){P.props.syncId!==void 0&&TA.emit(EA,P.props.syncId,I,P.eventEmitterSymbol)}),nr(P,"applySyncEvent",function(I){var E=P.props,S=E.layout,A=E.syncMethod,D=P.state.updateId,T=I.dataStartIndex,k=I.dataEndIndex;if(I.dataStartIndex!==void 0||I.dataEndIndex!==void 0)P.setState(tt({dataStartIndex:T,dataEndIndex:k},d({props:P.props,dataStartIndex:T,dataEndIndex:k,updateId:D},P.state)));else if(I.activeTooltipIndex!==void 0){var j=I.chartX,V=I.chartY,Q=I.activeTooltipIndex,Y=P.state,J=Y.offset,H=Y.tooltipTicks;if(!J)return;if(typeof A=="function")Q=A(H,I);else if(A==="value"){Q=-1;for(var U=0;U<H.length;U++)if(H[U].value===I.activeLabel){Q=U;break}}var re=tt(tt({},J),{},{x:J.left,y:J.top}),z=Math.min(j,re.x+re.width),C=Math.min(V,re.y+re.height),F=H[Q]&&H[Q].value,q=m3(P.state,P.props.data,Q),K=H[Q]?{x:S==="horizontal"?H[Q].coordinate:z,y:S==="horizontal"?C:H[Q].coordinate}:RK;P.setState(tt(tt({},I),{},{activeLabel:F,activeCoordinate:K,activePayload:q,activeTooltipIndex:Q}))}else P.setState(I)}),nr(P,"renderCursor",function(I){var E,S=P.state,A=S.isTooltipActive,D=S.activeCoordinate,T=S.activePayload,k=S.offset,j=S.activeTooltipIndex,V=S.tooltipAxisBandSize,Q=P.getTooltipEventType(),Y=(E=I.props.active)!==null&&E!==void 0?E:A,J=P.props.layout,H=I.key||"_recharts-cursor";return Oe.createElement(B9e,{key:H,activeCoordinate:D,activePayload:T,activeTooltipIndex:j,chartName:r,element:I,isActive:Y,layout:J,offset:k,tooltipAxisBandSize:V,tooltipEventType:Q})}),nr(P,"renderPolarAxis",function(I,E,S){var A=vo(I,"type.axisType"),D=vo(P.state,"".concat(A,"Map")),T=I.type.defaultProps,k=T!==void 0?tt(tt({},T),I.props):I.props,j=D&&D[k["".concat(A,"Id")]];return W.cloneElement(I,tt(tt({},j),{},{className:Gr(A,j.className),key:I.key||"".concat(E,"-").concat(S),ticks:yc(j,!0)}))}),nr(P,"renderPolarGrid",function(I){var E=I.props,S=E.radialLines,A=E.polarAngles,D=E.polarRadius,T=P.state,k=T.radiusAxisMap,j=T.angleAxisMap,V=Uu(k),Q=Uu(j),Y=Q.cx,J=Q.cy,H=Q.innerRadius,U=Q.outerRadius;return W.cloneElement(I,{polarAngles:Array.isArray(A)?A:yc(Q,!0).map(function(re){return re.coordinate}),polarRadius:Array.isArray(D)?D:yc(V,!0).map(function(re){return re.coordinate}),cx:Y,cy:J,innerRadius:H,outerRadius:U,key:I.key||"polar-grid",radialLines:S})}),nr(P,"renderLegend",function(){var I=P.state.formattedGraphicalItems,E=P.props,S=E.children,A=E.width,D=E.height,T=P.props.margin||{},k=A-(T.left||0)-(T.right||0),j=NG({children:S,formattedGraphicalItems:I,legendWidth:k,legendContent:c});if(!j)return null;var V=j.item,Q=w7(j,V9e);return W.cloneElement(V,tt(tt({},Q),{},{chartWidth:A,chartHeight:D,margin:T,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),nr(P,"renderTooltip",function(){var I,E=P.props,S=E.children,A=E.accessibilityLayer,D=Is(S,co);if(!D)return null;var T=P.state,k=T.isTooltipActive,j=T.activeCoordinate,V=T.activePayload,Q=T.activeLabel,Y=T.offset,J=(I=D.props.active)!==null&&I!==void 0?I:k;return W.cloneElement(D,{viewBox:tt(tt({},Y),{},{x:Y.left,y:Y.top}),active:J,label:Q,payload:J?V:[],coordinate:j,accessibilityLayer:A})}),nr(P,"renderBrush",function(I){var E=P.props,S=E.margin,A=E.data,D=P.state,T=D.offset,k=D.dataStartIndex,j=D.dataEndIndex,V=D.updateId;return W.cloneElement(I,{key:I.key||"_recharts-brush",onChange:Ox(P.handleBrushChange,I.props.onChange),data:A,x:jt(I.props.x)?I.props.x:T.left,y:jt(I.props.y)?I.props.y:T.top+T.height+T.brushBottom-(S.bottom||0),width:jt(I.props.width)?I.props.width:T.width,startIndex:k,endIndex:j,updateId:"brush-".concat(V)})}),nr(P,"renderReferenceElement",function(I,E,S){if(!I)return null;var A=P,D=A.clipPathId,T=P.state,k=T.xAxisMap,j=T.yAxisMap,V=T.offset,Q=I.type.defaultProps||{},Y=I.props,J=Y.xAxisId,H=J===void 0?Q.xAxisId:J,U=Y.yAxisId,re=U===void 0?Q.yAxisId:U;return W.cloneElement(I,{key:I.key||"".concat(E,"-").concat(S),xAxis:k[H],yAxis:j[re],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:D})}),nr(P,"renderActivePoints",function(I){var E=I.item,S=I.activePoint,A=I.basePoint,D=I.childIndex,T=I.isRange,k=[],j=E.props.key,V=E.item.type.defaultProps!==void 0?tt(tt({},E.item.type.defaultProps),E.item.props):E.item.props,Q=V.activeDot,Y=V.dataKey,J=tt(tt({index:D,dataKey:Y,cx:S.x,cy:S.y,r:4,fill:uP(E.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},jr(Q,!1)),Cb(Q));return k.push(y.renderActiveDot(Q,J,"".concat(j,"-activePoint-").concat(D))),A?k.push(y.renderActiveDot(Q,tt(tt({},J),{},{cx:A.x,cy:A.y}),"".concat(j,"-basePoint-").concat(D))):T&&k.push(null),k}),nr(P,"renderGraphicChild",function(I,E,S){var A=P.filterFormatItem(I,E,S);if(!A)return null;var D=P.getTooltipEventType(),T=P.state,k=T.isTooltipActive,j=T.tooltipAxis,V=T.activeTooltipIndex,Q=T.activeLabel,Y=P.props.children,J=Is(Y,co),H=A.props,U=H.points,re=H.isRange,z=H.baseLine,C=A.item.type.defaultProps!==void 0?tt(tt({},A.item.type.defaultProps),A.item.props):A.item.props,F=C.activeDot,q=C.hide,K=C.activeBar,Z=C.activeShape,oe=!!(!q&&k&&J&&(F||K||Z)),fe={};D!=="axis"&&J&&J.props.trigger==="click"?fe={onClick:Ox(P.handleItemMouseEnter,I.props.onClick)}:D!=="axis"&&(fe={onMouseLeave:Ox(P.handleItemMouseLeave,I.props.onMouseLeave),onMouseEnter:Ox(P.handleItemMouseEnter,I.props.onMouseEnter)});var ie=W.cloneElement(I,tt(tt({},A.props),fe));function de(Ge){return typeof j.dataKey=="function"?j.dataKey(Ge.payload):null}if(oe)if(V>=0){var _e,B;if(j.dataKey&&!j.allowDuplicatedCategory){var Te=typeof j.dataKey=="function"?de:"payload.".concat(j.dataKey.toString());_e=Nb(U,Te,Q),B=re&&z&&Nb(z,Te,Q)}else _e=U==null?void 0:U[V],B=re&&z&&z[V];if(Z||K){var ge=I.props.activeIndex!==void 0?I.props.activeIndex:V;return[W.cloneElement(I,tt(tt(tt({},A.props),fe),{},{activeIndex:ge})),null,null]}if(!Ir(_e))return[ie].concat(Dp(P.renderActivePoints({item:A,activePoint:_e,basePoint:B,childIndex:V,isRange:re})))}else{var ve,te=(ve=P.getItemByXY(P.state.activeCoordinate))!==null&&ve!==void 0?ve:{graphicalItem:ie},ke=te.graphicalItem,$e=ke.item,Fe=$e===void 0?I:$e,Qe=ke.childIndex,Le=tt(tt(tt({},A.props),fe),{},{activeIndex:Qe});return[W.cloneElement(Fe,Le),null,null]}return re?[ie,null,null]:[ie,null]}),nr(P,"renderCustomized",function(I,E,S){return W.cloneElement(I,tt(tt({key:"recharts-customized-".concat(S)},P.props),P.state))}),nr(P,"renderMap",{CartesianGrid:{handler:Mx,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Mx},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Mx},YAxis:{handler:Mx},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((w=b.id)!==null&&w!==void 0?w:ry("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=kH(P.triggeredAfterMouseMove,(O=b.throttleDelay)!==null&&O!==void 0?O:1e3/60),P.state={},P}return Z9e(y,v),Y9e(y,[{key:"componentDidMount",value:function(){var w,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,O=w.children,P=w.data,I=w.height,E=w.layout,S=Is(O,co);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var D=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,T=m3(this.state,P,A,D),k=this.state.tooltipTicks[A].coordinate,j=(this.state.offset.top+I)/2,V=E==="horizontal",Q=V?{x:k,y:j}:{y:k,x:j},Y=this.state.formattedGraphicalItems.find(function(H){var U=H.item;return U.type.name==="Scatter"});Y&&(Q=tt(tt({},Q),Y.props.points[A].tooltipPosition),T=Y.props.points[A].tooltipPayload);var J={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:D,activePayload:T,activeCoordinate:Q};this.setState(J),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var P,I;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0}})}return null}},{key:"componentDidUpdate",value:function(w){GT([Is(w.children,co)],[Is(this.props.children,co)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Is(this.props.children,co);if(w&&typeof w.props.shared=="boolean"){var O=w.props.shared?"axis":"item";return o.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var O=this.container,P=O.getBoundingClientRect(),I=GPe(P),E={chartX:Math.round(w.pageX-I.left),chartY:Math.round(w.pageY-I.top)},S=P.width/O.offsetWidth||1,A=this.inRange(E.chartX,E.chartY,S);if(!A)return null;var D=this.state,T=D.xAxisMap,k=D.yAxisMap,j=this.getTooltipEventType(),V=S7(this.state,this.props.data,this.props.layout,A);if(j!=="axis"&&T&&k){var Q=Uu(T).scale,Y=Uu(k).scale,J=Q&&Q.invert?Q.invert(E.chartX):null,H=Y&&Y.invert?Y.invert(E.chartY):null;return tt(tt({},E),{},{xValue:J,yValue:H},V)}return V?tt(tt({},E),V):null}},{key:"inRange",value:function(w,O){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=this.props.layout,E=w/P,S=O/P;if(I==="horizontal"||I==="vertical"){var A=this.state.offset,D=E>=A.left&&E<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return D?{x:E,y:S}:null}var T=this.state,k=T.angleAxisMap,j=T.radiusAxisMap;if(k&&j){var V=Uu(k);return aR({x:E,y:S},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,O=this.getTooltipEventType(),P=Is(w,co),I={};P&&O==="axis"&&(P.props.trigger==="click"?I={onClick:this.handleClick}:I={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Cb(this.props,this.handleOuterEvent);return tt(tt({},E),I)}},{key:"addListener",value:function(){TA.on(EA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){TA.removeListener(EA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,O,P){for(var I=this.state.formattedGraphicalItems,E=0,S=I.length;E<S;E++){var A=I[E];if(A.item===w||A.props.key===w.key||O===_c(A.item.type)&&P===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,O=this.state.offset,P=O.left,I=O.top,E=O.height,S=O.width;return Oe.createElement("defs",null,Oe.createElement("clipPath",{id:w},Oe.createElement("rect",{x:P,y:I,height:E,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(O,P){var I=b7(P,2),E=I[0],S=I[1];return tt(tt({},O),{},nr({},E,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(O,P){var I=b7(P,2),E=I[0],S=I[1];return tt(tt({},O),{},nr({},E,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(w){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[w])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(w){var O=this.state,P=O.formattedGraphicalItems,I=O.activeItem;if(P&&P.length)for(var E=0,S=P.length;E<S;E++){var A=P[E],D=A.props,T=A.item,k=T.type.defaultProps!==void 0?tt(tt({},T.type.defaultProps),T.props):T.props,j=_c(T.type);if(j==="Bar"){var V=(D.data||[]).find(function(H){return CMe(w,H)});if(V)return{graphicalItem:A,payload:V}}else if(j==="RadialBar"){var Q=(D.data||[]).find(function(H){return aR(w,H)});if(Q)return{graphicalItem:A,payload:Q}}else if(r_(A,I)||n_(A,I)||x1(A,I)){var Y=IRe({graphicalItem:A,activeTooltipItem:I,itemData:k.data}),J=k.activeIndex===void 0?Y:k.activeIndex;return{graphicalItem:tt(tt({},A),{},{childIndex:J}),payload:x1(A,I)?k.data[Y]:A.props.data[Y]}}}return null}},{key:"render",value:function(){var w=this;if(!Kj(this))return null;var O=this.props,P=O.children,I=O.className,E=O.width,S=O.height,A=O.style,D=O.compact,T=O.title,k=O.desc,j=w7(O,U9e),V=jr(j,!1);if(D)return Oe.createElement(r7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement(YT,A0({},V,{width:E,height:S,title:T,desc:k}),this.renderClipPath(),Xj(P,this.renderMap)));if(this.props.accessibilityLayer){var Q,Y;V.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,V.role=(Y=this.props.role)!==null&&Y!==void 0?Y:"application",V.onKeyDown=function(H){w.accessibilityManager.keyboardEvent(H)},V.onFocus=function(){w.accessibilityManager.focus()}}var J=this.parseEventsOfWrapper();return Oe.createElement(r7,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Oe.createElement("div",A0({className:Gr("recharts-wrapper",I),style:tt({position:"relative",cursor:"default",width:E,height:S},A)},J,{ref:function(U){w.container=U}}),Oe.createElement(YT,A0({},V,{width:E,height:S,title:T,desc:k,style:iBe}),this.renderClipPath(),Xj(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(W.Component);nr(g,"displayName",r),nr(g,"defaultProps",tt({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),nr(g,"getDerivedStateFromProps",function(v,y){var b=v.dataKey,w=v.data,O=v.children,P=v.width,I=v.height,E=v.layout,S=v.stackOffset,A=v.margin,D=y.dataStartIndex,T=y.dataEndIndex;if(y.updateId===void 0){var k=A7(v);return tt(tt(tt({},k),{},{updateId:0},d(tt(tt({props:v},k),{},{updateId:0}),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(b!==y.prevDataKey||w!==y.prevData||P!==y.prevWidth||I!==y.prevHeight||E!==y.prevLayout||S!==y.prevStackOffset||!V0(A,y.prevMargin)){var j=A7(v),V={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},Q=tt(tt({},S7(y,w,E)),{},{updateId:y.updateId+1}),Y=tt(tt(tt({},j),V),Q);return tt(tt(tt({},Y),d(tt({props:v},Y),y)),{},{prevDataKey:b,prevData:w,prevWidth:P,prevHeight:I,prevLayout:E,prevStackOffset:S,prevMargin:A,prevChildren:O})}if(!GT(O,y.prevChildren)){var J,H,U,re,z=Is(O,Sp),C=z&&(J=(H=z.props)===null||H===void 0?void 0:H.startIndex)!==null&&J!==void 0?J:D,F=z&&(U=(re=z.props)===null||re===void 0?void 0:re.endIndex)!==null&&U!==void 0?U:T,q=C!==D||F!==T,K=!Ir(w),Z=K&&!q?y.updateId:y.updateId+1;return tt(tt({updateId:Z},d(tt(tt({props:v},y),{},{updateId:Z,dataStartIndex:C,dataEndIndex:F}),y)),{},{prevChildren:O,dataStartIndex:C,dataEndIndex:F})}return null}),nr(g,"renderActiveDot",function(v,y,b){var w;return W.isValidElement(v)?w=W.cloneElement(v,y):Ar(v)?w=v(y):w=Oe.createElement(hP,y),Oe.createElement(la,{className:"recharts-active-dot",key:b},w)});var m=W.forwardRef(function(y,b){return Oe.createElement(g,A0({},y,{ref:b}))});return m.displayName=g.displayName,m},NA=mBe({chartName:"LineChart",GraphicalChild:El,axisComponents:[{axisType:"xAxis",AxisComp:q0},{axisType:"yAxis",AxisComp:W0}],formatAxisMap:nFe});const gBe=()=>{const[e,t]=W.useState("daily"),[r,n]=W.useState(wr(new Date,7)),[a,i]=W.useState(new Date),[s,o]=W.useState([]),[l,c]=W.useState([]),[u,f]=W.useState([]),[h,d]=W.useState({totalOrders:0,totalStock:0,totalInventoryValue:0,totalDamagedProducts:0,yesterdayOrders:0,yesterdayStockChange:0,yesterdayRevenue:0,totalDeductions:0,previousDeductions:0,todayStockAdditions:0,todayInventoryValueAdditions:0}),[g,m]=W.useState(!0),{isDarkMode:v}=Jr(),{user:y}=xa(),b=W.useCallback(async()=>{m(!0);try{const A=a||new Date,D=r||wr(A,7),T=sr(Et(et,"orders"),tr("createdAt",">=",Zt.fromDate(D)),tr("createdAt","<=",Zt.fromDate(A))),j=(await hr(T)).docs.map(Me=>{var Ye,mt,at;return{id:Me.id,...Me.data(),createdAt:(Ye=Me.data().createdAt)==null?void 0:Ye.toDate(),updatedAt:(mt=Me.data().updatedAt)==null?void 0:mt.toDate(),shippedTime:(at=Me.data().shippedTime)==null?void 0:at.toDate()}}),V=sr(Et(et,"inventory")),Y=(await hr(V)).docs.map(Me=>({id:Me.id,...Me.data(),lastUpdated:Me.data().lastUpdated instanceof Zt?Me.data().lastUpdated.toDate():new Date(Me.data().lastUpdated)})),J=sr(Et(et,"activityLogs"),tr("time",">=",D.toISOString()),tr("time","<=",A.toISOString()),ka("time","desc")),U=(await hr(J)).docs.map(Me=>({id:Me.id,...Me.data()}));f(U),o(Y),c(j);const re=Y.reduce((Me,Ye)=>Me+(Ye.quantity||0),0),z=Y.reduce((Me,Ye)=>Me+(Ye.quantity||0)*(Ye.price||0),0),C=j.length,F=wr(new Date,1),q=new Date,K=j.filter(Me=>{const Ye=Me.createdAt;return Ye>=F&&Ye<=q}),Z=K.length,oe=K.reduce((Me,Ye)=>Me+(Ye.totalAmount||0),0),fe=a||new Date,ie=r||wr(fe,7),_e=U.filter(Me=>{const Ye=new Date(Me.time);return Ye>=ie&&Ye<=fe}).filter(Me=>{const Ye=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ye){const[,At]=Ye;return Y.some(Pt=>Pt.name===At)}const mt=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(mt){const[,At]=mt;return Y.some(Pt=>Pt.name===At)}return Me.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(At=>At.test(Me.detail)),!0}),B=fe.getTime()-ie.getTime(),Te=new Date(ie.getTime()-B),ge=new Date(ie.getTime()),te=U.filter(Me=>{const Ye=new Date(Me.time);return Ye>=Te&&Ye<=ge}).filter(Me=>{const Ye=Me.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Ye){const[,At]=Ye;return Y.some(Pt=>Pt.name===At)}const mt=Me.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(mt){const[,At]=mt;return Y.some(Pt=>Pt.name===At)}return Me.detail.match(/(\d+) units deducted from stock/)||[/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(At=>At.test(Me.detail)),!0}),ke=_e.reduce((Me,Ye)=>{const mt=Ye.detail.match(/(\d+) units deducted/);return Me+(mt?parseInt(mt[1]):0)},0),$e=te.reduce((Me,Ye)=>{const mt=Ye.detail.match(/(\d+) units deducted/);return Me+(mt?parseInt(mt[1]):0)},0),Fe=_e.reduce((Me,Ye)=>{const mt=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(mt){const[,gt,At]=mt;if(Y.find(ft=>ft.name===gt))return Me+parseInt(At)}const at=Ye.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,gt,At,Pt]=at;if(Y.find(rt=>rt.name===gt)){const rt=parseInt(Pt)-parseInt(At);if(rt>0)return Me+rt}}return Me},0),Qe=_e.reduce((Me,Ye)=>{const mt=Ye.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(mt){const[,gt,At]=mt,Pt=Y.find(ft=>ft.name===gt);if(Pt){const ft=Pt.price||0;return Me+parseInt(At)*ft}}const at=Ye.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(at){const[,gt,At,Pt]=at,ft=Y.find(rt=>rt.name===gt);if(ft){const rt=parseInt(Pt)-parseInt(At);if(rt>0){const Kt=ft.price||0;return Me+rt*Kt}}}return Me},0),Ge=_e.reduce((Me,Ye)=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(gt=>gt.test(Ye.detail))){let gt=0;const At=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,Pt=Ye.detail.match(At);if(Pt)gt=parseInt(Pt[1]);else{const ft=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const rt of ft){const Kt=Ye.detail.match(rt);if(Kt){if(Kt.length===3){const Vt=parseInt(Kt[1]),Ur=parseInt(Kt[2]);gt=Math.abs(Vt-Ur)}else gt=parseInt(Kt[1]);break}}}return{incidents:Me.incidents+1,units:Me.units+(gt>0?gt:1)}}return Me},{incidents:0,units:0}).incidents;d({totalOrders:C,totalStock:re,totalInventoryValue:z,totalDamagedProducts:Ge,yesterdayOrders:Z,yesterdayStockChange:0,yesterdayRevenue:oe,totalDeductions:ke,previousDeductions:$e,todayStockAdditions:Fe,todayInventoryValueAdditions:Qe})}catch(A){console.error("Error fetching data:",A)}finally{m(!1)}},[r,a]),w=()=>{n(null),i(null)};if(W.useEffect(()=>{b()},[b]),W.useEffect(()=>{},[e]),!y||y.role!=="admin")return p.jsx(S4,{to:"/",replace:!0});const O=()=>{const A=[],D=new Map,T=new Date;let k;switch(e){case"daily":k=wr(T,7);break;case"weekly":k=wr(T,30);break;case"monthly":k=wr(T,90);break;default:k=wr(T,7)}return u.filter(Q=>{const Y=new Date(Q.time);return Y>=k&&Y<=T}).filter(Q=>{const Y=Q.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(Y){const[,H]=Y;return s.some(U=>U.name===H)}const J=Q.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(J){const[,H]=J;return s.some(U=>U.name===H)}return!0}).forEach(Q=>{let Y=0,J=!1,H="";const U=Q.detail.match(/added new product "([^"]+)" with total quantity (\d+)/);if(U){const[,z,C]=U;s.find(q=>q.name===z)&&(Y=parseInt(C),H=z,J=!0)}const re=Q.detail.match(/edited product "([^"]+)": quantity from (\d+) to (\d+)/);if(re){const[,z,C,F]=re;if(s.find(K=>K.name===z)){const K=parseInt(F)-parseInt(C);K>0&&(Y=K,H=z,J=!0)}}if(J){const z=new Date(Q.time);let C;switch(e){case"daily":C=Xt(z,"MMM dd");break;case"weekly":C=Xt(z,"'Week' w");break;case"monthly":C=Xt(z,"MMM yyyy");break}const F=D.get(C)||{activities:0,units:0,uniqueProducts:new Set};F.uniqueProducts.add(H),D.set(C,{activities:F.activities+1,units:F.units+Y,uniqueProducts:F.uniqueProducts})}}),D.forEach((Q,Y)=>{A.push({date:Y,activities:Q.activities,units:Q.units,uniqueProducts:Q.uniqueProducts.size})}),A.sort((Q,Y)=>{const J=new Date(Q.date),H=new Date(Y.date);return J.getTime()-H.getTime()})},P=()=>{const A=[],D=new Map,T=new Date;let k;switch(e){case"daily":k=wr(T,7);break;case"weekly":k=wr(T,30);break;case"monthly":k=wr(T,90);break;default:k=wr(T,7)}return u.filter(Q=>{const Y=new Date(Q.time);return Y>=k&&Y<=T}).filter(Q=>(Q.detail.match(/(\d+) units deducted from stock/),!0)).forEach(Q=>{const Y=Q.detail.match(/(\d+) units deducted from stock/);if(Y){const J=new Date(Q.time);let H;switch(e){case"daily":H=Xt(J,"MMM dd");break;case"weekly":H=Xt(J,"'Week' w");break;case"monthly":H=Xt(J,"MMM yyyy");break}const U=D.get(H)||0;D.set(H,U+parseInt(Y[1]))}}),D.forEach((Q,Y)=>{A.push({date:Y,products:Q})}),A.sort((Q,Y)=>{const J=new Date(Q.date),H=new Date(Y.date);return J.getTime()-H.getTime()})},I=()=>{const A=[],D=new Map,T=[],k=a||new Date,j=r||wr(k,7);u.filter(J=>{const H=new Date(J.time);return H>=j&&H<=k}).filter(J=>([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(U=>U.test(J.detail)),!0)).forEach(J=>{if([/Reason: damaged/i,/damaged/i,/damagedItems/i,/damaged items/i].some(re=>re.test(J.detail))){const re=new Date(J.time);let z;switch(e){case"daily":z=Xt(re,"MMM dd");break;case"weekly":z=Xt(re,"'Week' w");break;case"monthly":z=Xt(re,"MMM yyyy");break}let C=0;const F=/(\d+)\s+units?\s+deducted\s+from\s+stock.*Reason:\s*damaged/i,q=J.detail.match(F);if(q)C=parseInt(q[1]);else{const fe=[/damaged\s+items\s+from\s+(\d+)\s+to\s+(\d+)/i,/(\d+)\s+damaged\s+items?/i,/damaged\s+(\d+)\s+items?/i,/damagedItems?:\s*(\d+)/i,/(\d+)\s+units?\s+damaged/i,/damaged\s+(\d+)\s+units?/i];for(const ie of fe){const de=J.detail.match(ie);if(de){if(de.length===3){const _e=parseInt(de[1]),B=parseInt(de[2]);C=Math.abs(_e-B)}else C=parseInt(de[1]);break}}}let K="Unknown Product";const Z=J.detail.match(/"([^"]+)"/);Z&&(K=Z[1]),T.push({date:z,time:Xt(re,"HH:mm"),user:J.user,productName:K,units:C>0?C:1,detail:J.detail}),D.has(z)||D.set(z,{incidents:0,units:0,productNames:new Set});const oe=D.get(z);oe.incidents+=1,oe.units+=C>0?C:1,oe.productNames.add(K)}}),D.forEach((J,H)=>{A.push({date:H,products:J.incidents,units:J.units,productNames:Array.from(J.productNames)})});const Y=A.sort((J,H)=>new Date(J.date).getTime()-new Date(H.date).getTime());return Y.detailedIncidents=T.sort((J,H)=>{const U=new Date(J.date+" "+J.time);return new Date(H.date+" "+H.time).getTime()-U.getTime()}),Y},E=()=>{try{const A=Xt(new Date,"yyyy-MM-dd-HH-mm"),D=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",T=s.map(re=>[re.name,re.quantity,re.price,`${re.locationCode}-${re.shelfNumber}`,re.status,re.damagedItems]),k=O(),j=P(),V=I(),Q=Math.max(k.length,j.length,V.length,T.length),Y=[];Y.push(`Warehouse Analytics Report - ${D} - Time Range: ${e.charAt(0).toUpperCase()+e.slice(1)} - Generated: ${Xt(new Date,"yyyy-MM-dd HH:mm:ss")}`),Y.push(""),Y.push("SUMMARY STATISTICS"),Y.push(`Total Stock Added (${D}),${h.todayStockAdditions},Total Units Deducted (${D}),${h.totalDeductions},Total Damaged Products (${D}),${h.totalDamagedProducts},Total Inventory Value,£${h.totalInventoryValue.toLocaleString("en-GB")}`),Y.push(""),Y.push("INBOUND DATA,,,OUTBOUND DATA,,DAMAGED DATA,,,INVENTORY DATA,,,,,"),Y.push("Date,Activities,Units Added,Affected Products,Date,Units Deducted,Date,Incidents,Units Damaged,Product Name,Quantity,Price,Location,Status,Damaged Items");for(let re=0;re<Q;re++){const z=[];if(re<k.length){const C=k[re];z.push(C.date,C.activities,C.units,C.uniqueProducts)}else z.push("","","","");if(re<j.length){const C=j[re];z.push(C.date,C.products)}else z.push("","");if(re<V.length){const C=V[re];z.push(C.date,C.products,C.units)}else z.push("","","");if(re<T.length){const C=T[re];z.push(...C)}else z.push("","","","","","");Y.push(z.join(","))}Y.push(""),Y.push("DETAILED DAMAGED PRODUCTS INCIDENTS"),Y.push("Date,Time,User,Product Name,Units Damaged,Details"),V.detailedIncidents&&V.detailedIncidents.length>0?V.detailedIncidents.forEach(re=>{Y.push(`${re.date},${re.time},${re.user},${re.productName},${re.units},"${re.detail.replace(/"/g,'""')}"`)}):Y.push("No detailed incidents available,,,,,");const J=Y.join(`
`),H=new Blob([J],{type:"text/csv;charset=utf-8;"}),U=document.createElement("a");U.href=URL.createObjectURL(H),U.download=`warehouse-report-${D}-${A}.csv`,U.click(),URL.revokeObjectURL(U.href)}catch(A){console.error("Error exporting CSV:",A),alert("Failed to export CSV. Please try again.")}},S=()=>{try{const A=e==="daily"?"Last 7 Days":e==="weekly"?"Last Month":e==="monthly"?"Last 3 Months":"Last 6 Months",D=O(),T=P(),k=I(),j=k.detailedIncidents||[];console.log("Damaged Data:",k),console.log("Detailed Incidents:",j),console.log("Activity Logs Count:",u.length),console.log("Sample Activity Logs:",u.slice(0,3)),(!j||j.length===0)&&console.log("No detailed incidents found, generating on the fly...");const V=`
        <html>
          <head>
            <title>Warehouse Analytics Report - ${A}</title>
            <style>
              body { font-family: Arial, sans-serif; margin: 20px; color: #333; }
              .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #2563eb; padding-bottom: 20px; }
              .section { margin-bottom: 30px; page-break-inside: avoid; }
              .section h2 { color: #2563eb; border-bottom: 1px solid #2563eb; padding-bottom: 5px; margin-bottom: 15px; }
              table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 12px; }
              th, td { border: 1px solid #ddd; padding: 6px; text-align: left; }
              th { background-color: #f8fafc; font-weight: bold; }
              .detailed-table th, .detailed-table td { font-size: 10px; padding: 4px; }
              .detailed-table td { max-width: 150px; word-wrap: break-word; }
              .stats-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px; }
              .stat-card { border: 1px solid #e2e8f0; padding: 15px; text-align: center; border-radius: 8px; }
              .stat-value { font-size: 24px; font-weight: bold; color: #2563eb; margin-bottom: 5px; }
              .stat-title { font-size: 14px; color: #64748b; }
              .chart-summary { background-color: #f8fafc; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
              @media print { 
                body { margin: 0; } 
                .section { page-break-inside: avoid; }
              }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Warehouse Analytics Report</h1>
              <p><strong>Time Period:</strong> ${A}</p>
              <p><strong>Time Range:</strong> ${e.charAt(0).toUpperCase()+e.slice(1)} View</p>
              <p><strong>Generated:</strong> ${Xt(new Date,"yyyy-MM-dd HH:mm:ss")}</p>
            </div>
            
            <div class="stats-grid">
              <div class="stat-card">
                <div class="stat-value">${h.todayStockAdditions}</div>
                <div class="stat-title">Total Stock Added<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDeductions}</div>
                <div class="stat-title">Total Units Deducted<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">${h.totalDamagedProducts}</div>
                <div class="stat-title">Total Damaged Products<br/>(${A})</div>
              </div>
              <div class="stat-card">
                <div class="stat-value">£${h.totalInventoryValue.toLocaleString("en-GB")}</div>
                <div class="stat-title">Total Inventory Value</div>
              </div>
            </div>
            
            <div class="section">
              <h2>Inbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${D.length}</p>
                <p><strong>Total Activities:</strong> ${D.reduce((Y,J)=>Y+J.activities,0)}</p>
                <p><strong>Total Units Added:</strong> ${D.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Total Products Affected:</strong> ${D.reduce((Y,J)=>Y+J.uniqueProducts,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Activities</th>
                    <th>Units Added</th>
                    <th>Affected Products</th>
                  </tr>
                </thead>
                <tbody>
                  ${D.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.activities}</td>
                      <td>${Y.units}</td>
                      <td>${Y.uniqueProducts}</td>
                    </tr>
                  `).join("")}
                  ${D.length>15?`<tr><td colspan="4"><em>... and ${D.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Outbound Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${T.length}</p>
                <p><strong>Total Units Deducted:</strong> ${T.reduce((Y,J)=>Y+J.products,0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Units Deducted</th>
                  </tr>
                </thead>
                <tbody>
                  ${T.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                    </tr>
                  `).join("")}
                  ${T.length>15?`<tr><td colspan="2"><em>... and ${T.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Damaged Products Analysis (${e.charAt(0).toUpperCase()+e.slice(1)} View)</h2>
              <div class="chart-summary">
                <p><strong>Total Data Points:</strong> ${k.length}</p>
                <p><strong>Total Incidents:</strong> ${k.reduce((Y,J)=>Y+J.products,0)}</p>
                <p><strong>Total Units Damaged:</strong> ${k.reduce((Y,J)=>Y+J.units,0)}</p>
                <p><strong>Detailed Incidents Available:</strong> ${j.length}</p>
                <p><strong>Note:</strong> Detailed incident breakdown with user information is shown below.</p>
              </div>
              
              <h3>Summary by Date</h3>
              <table>
                <thead>
                  <tr>
                    <th>Date</th>
                    <th>Incidents</th>
                    <th>Units Damaged</th>
                    <th>Product Names</th>
                  </tr>
                </thead>
                <tbody>
                  ${k.slice(0,15).map(Y=>`
                    <tr>
                      <td>${Y.date}</td>
                      <td>${Y.products}</td>
                      <td>${Y.units}</td>
                      <td>${Y.productNames?Y.productNames.join(", "):"N/A"}</td>
                    </tr>
                  `).join("")}
                  ${k.length>15?`<tr><td colspan="4"><em>... and ${k.length-15} more entries</em></td></tr>`:""}
                </tbody>
              </table>
              
              <h3>Detailed Incidents by Entry</h3>
              <table class="detailed-table">
                <thead>
                  <tr>
                    <th>Date & Time</th>
                    <th>User</th>
                    <th>Product</th>
                    <th>Units Damaged</th>
                    <th>Details</th>
                  </tr>
                </thead>
                <tbody>
                  ${j.length>0?j.slice(0,50).map(Y=>`
                    <tr>
                      <td>${Y.date} ${Y.time}</td>
                      <td>${Y.user}</td>
                      <td>${Y.productName}</td>
                      <td>${Y.units}</td>
                      <td style="max-width: 200px; word-wrap: break-word;">${Y.detail}</td>
                    </tr>
                  `).join(""):'<tr><td colspan="5">No detailed incidents available</td></tr>'}
                  ${j.length>50?`<tr><td colspan="5"><em>... and ${j.length-50} more incidents</em></td></tr>`:""}
                </tbody>
              </table>
            </div>
            
            <div class="section">
              <h2>Inventory Summary (${s.length} items)</h2>
              <div class="chart-summary">
                <p><strong>Total Products:</strong> ${s.length}</p>
                <p><strong>Active Products:</strong> ${s.filter(Y=>Y.status==="active").length}</p>
                <p><strong>Pending Products:</strong> ${s.filter(Y=>Y.status==="pending").length}</p>
                <p><strong>Total Quantity:</strong> ${s.reduce((Y,J)=>Y+(J.quantity||0),0)}</p>
              </div>
              <table>
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                    <th>Location</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  ${s.map(Y=>`
                    <tr>
                      <td>${Y.name}</td>
                      <td>${Y.quantity}</td>
                      <td>${Y.price&&!isNaN(Y.price)?`£${Y.price.toFixed(2)}`:"Not set"}</td>
                      <td>${Y.locationCode}-${Y.shelfNumber}</td>
                      <td>${Y.status}</td>
                    </tr>
                  `).join("")}
                </tbody>
              </table>
            </div>
          </body>
        </html>
      `,Q=window.open("","_blank");Q?(Q.document.write(V),Q.document.close(),Q.focus(),setTimeout(()=>{Q.print()},500)):alert("Please allow pop-ups to export PDF")}catch(A){console.error("Error exporting PDF:",A),alert("Failed to export PDF. Please try again.")}};return p.jsxs("div",{className:"p-4 md:p-6 space-y-4 md:space-y-6",children:[p.jsx("style",{children:`
          @keyframes fadeInUp {
            from {
              opacity: 0;
              transform: translateY(1rem);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
          .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
          }
        `}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-center md:text-left",children:[p.jsx("h1",{className:`text-xl md:text-2xl font-semibold ${v?"text-white":"text-slate-800"}`,children:"Reports and Analytics"}),p.jsx("p",{className:`${v?"text-slate-400":"text-slate-500"} mt-1 text-sm md:text-base`,children:"Admin Dashboard - Comprehensive warehouse insights"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-between items-start sm:items-center",children:[p.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[p.jsxs("button",{onClick:E,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"200ms"},children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"CSV"]}),p.jsxs("button",{onClick:S,className:`flex-1 sm:flex-none inline-flex items-center justify-center px-3 py-2 border shadow-sm text-sm leading-4 font-medium rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-slate-500 animate-fade-in-up ${v?"border-slate-600 text-slate-200 bg-slate-700 hover:bg-slate-600":"border-slate-300 text-slate-700 bg-white hover:bg-slate-50"}`,style:{animationDelay:"400ms"},children:[p.jsx(B2,{className:"h-4 w-4 mr-2"}),p.jsx("span",{className:"hidden xs:inline",children:"Export "}),"PDF"]})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(Br,{value:e,onChange:A=>t(A.target.value),options:[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"}],className:"animate-fade-in-up text-sm w-full sm:w-auto",style:{animationDelay:"100ms"}})}),p.jsx("div",{className:"w-full sm:w-auto",children:p.jsx(fC,{startDate:r,endDate:a,onStartDateChange:n,onEndDateChange:i,onClear:w,className:"animate-fade-in-up text-sm w-full sm:w-auto"})}),p.jsx(st,{variant:"secondary",onClick:b,className:`flex items-center justify-center gap-2 w-full sm:w-auto ${g?"opacity-50 cursor-not-allowed":""}`,disabled:g,children:p.jsx(ds,{size:16,className:g?"animate-spin":""})})]})]})]}),p.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6",children:g?p.jsxs(p.Fragment,{children:[p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{}),p.jsx(Gu,{})]}):p.jsxs(p.Fragment,{children:[p.jsx(Za,{title:`Total Stock Added (${r&&a?`${Xt(r,"MMM d")} - ${Xt(a,"MMM d, yyyy")}`:r?`From ${Xt(r,"MMM d, yyyy")}`:a?`To ${Xt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.todayStockAdditions,icon:p.jsx(ep,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:`Total Units Deducted (${r&&a?`${Xt(r,"MMM d")} - ${Xt(a,"MMM d, yyyy")}`:r?`From ${Xt(r,"MMM d, yyyy")}`:a?`To ${Xt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDeductions,icon:p.jsx(Z$,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:`Total Damaged Products (${r&&a?`${Xt(r,"MMM d")} - ${Xt(a,"MMM d, yyyy")}`:r?`From ${Xt(r,"MMM d, yyyy")}`:a?`To ${Xt(a,"MMM d, yyyy")}`:"Last 7 Days"})`,value:h.totalDamagedProducts,icon:p.jsx(Gh,{size:24,className:"text-blue-600"})}),p.jsx(Za,{title:"Total Inventory Value",value:`£${h.totalInventoryValue.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}`,icon:p.jsx(V2,{size:24,className:"text-blue-600"})})]})}),g?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${v?"border-white":"border-slate-800"}`})}):p.jsx(p.Fragment,{children:p.jsxs("div",{className:"space-y-4 md:space-y-6",children:[p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Inbound Products - Daily Additions & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:O(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(q0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(W0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(co,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Inbound Activities"?[`${A} activities`,D]:D==="Units Added"?[`${A} units`,D]:D==="Affected Products"?[`${A} products`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"activities",stroke:"#8884d8",name:"Inbound Activities",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#82ca9d",name:"Units Added",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"uniqueProducts",stroke:"#ffc658",name:"Affected Products",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Outbound Products - Daily Deductions"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:P(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(q0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(W0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(co,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"}}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ff6b6b",name:"Units Deducted",strokeWidth:2})]})})})]}),p.jsxs("div",{className:`${v?"bg-slate-800":"bg-white"} p-3 md:p-4 rounded-lg shadow-sm`,children:[p.jsx("h3",{className:`text-base md:text-lg font-medium ${v?"text-white":"text-slate-800"} mb-3 md:mb-4`,children:"Damaged Products - Daily Incidents & Units"}),p.jsx("div",{className:"h-64 md:h-80",children:p.jsx(uA,{width:"100%",height:"100%",children:p.jsxs(NA,{data:I(),children:[p.jsx(f2,{strokeDasharray:"3 3",stroke:v?"#334155":"#e2e8f0"}),p.jsx(q0,{dataKey:"date",stroke:v?"#94a3b8":"#64748b"}),p.jsx(W0,{stroke:v?"#94a3b8":"#64748b"}),p.jsx(co,{contentStyle:{backgroundColor:v?"#1e293b":"#ffffff",border:v?"1px solid #334155":"1px solid #e2e8f0",color:v?"#e2e8f0":"#1e293b"},formatter:(A,D)=>D==="Damaged Incidents"?[`${A} incidents`,D]:D==="Units Damaged"?[`${A} units`,D]:[A,D],labelFormatter:A=>`Date: ${A}`}),p.jsx(Ac,{}),p.jsx(El,{type:"monotone",dataKey:"products",stroke:"#ffa726",name:"Damaged Incidents",strokeWidth:2}),p.jsx(El,{type:"monotone",dataKey:"units",stroke:"#ef5350",name:"Units Damaged",strokeWidth:2})]})})})]})]})})]})},vBe=()=>{const{user:e,setUser:t}=xa(),{showToast:r}=Yc(),{isDarkMode:n,toggleDarkMode:a}=Jr(),[i,s]=W.useState(!1),[o,l]=W.useState({}),[c,u]=W.useState([]),[f,h]=W.useState(null),[d,g]=W.useState(!1),[m,v]=W.useState({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),[y,b]=W.useState({}),[w,O]=W.useState({}),[P,I]=W.useState(!1),[E,S]=W.useState(null),[A,D]=W.useState({username:(e==null?void 0:e.username)||"",email:(e==null?void 0:e.email)||"",name:(e==null?void 0:e.name)||"",currentPassword:"",newPassword:"",confirmPassword:""}),[T,k]=W.useState({username:"",email:"",name:"",newPassword:"",confirmPassword:""}),j=async()=>{if((e==null?void 0:e.role)==="admin"){s(!0);try{const oe=(await hr(Et(et,"users"))).docs.map(fe=>({id:fe.id,...fe.data()}));u(oe),console.log("Fetched users:",oe.map(fe=>({id:fe.id,username:fe.username,name:fe.name})))}catch(Z){console.error("Error fetching users:",Z),r("Error fetching users","error")}finally{s(!1)}}};W.useEffect(()=>{j()},[e==null?void 0:e.role,r]);const V=Z=>Z.split(" ").map(oe=>oe[0]).join("").toUpperCase().slice(0,2),Q=Z=>{const{name:oe,value:fe}=Z.target;D(ie=>({...ie,[oe]:fe})),o[oe]&&l(ie=>{const de={...ie};return delete de[oe],de})},Y=()=>{const Z={};return A.username.trim()||(Z.username="Username is required"),A.email.trim()&&!/\S+@\S+\.\S+/.test(A.email)&&(Z.email="Invalid email format"),A.name.trim()||(Z.name="Name is required"),(A.currentPassword||A.newPassword||A.confirmPassword)&&(A.currentPassword?A.currentPassword!==(e==null?void 0:e.password)&&(Z.currentPassword="Current password is incorrect"):Z.currentPassword="Current password is required",A.newPassword?A.newPassword.length<6&&(Z.newPassword="Password must be at least 6 characters"):Z.newPassword="New password is required",A.newPassword!==A.confirmPassword&&(Z.confirmPassword="Passwords do not match")),l(Z),Object.keys(Z).length===0},J=async Z=>{if(Z.preventDefault(),!!e&&Y()){s(!0);try{const oe={username:A.username,email:A.email,name:A.name,password:A.currentPassword!=""&&A.confirmPassword!=""&&A.newPassword!=""?A.newPassword:e.password},fe=[];e.username!==A.username&&fe.push(`changed username from "${e.username}" to "${A.username}"`),e.email!==A.email&&fe.push(`changed email from "${e.email}" to "${A.email}"`),e.name!==A.name&&fe.push(`changed full name from "${e.name}" to "${A.name}"`),A.currentPassword&&A.newPassword&&fe.push("changed their password");const ie=Hr(et,"users",e.id);await Ta(ie,oe),fe.length>0&&await Er(Et(et,"activityLogs"),{user:e.name,role:e.role,detail:fe.length===1?fe[0]:`made multiple profile changes: ${fe.join("; ")}`,time:new Date().toISOString()}),t({...e,username:A.username,email:A.email,name:A.name,password:A.newPassword||e.password}),D(de=>({...de,currentPassword:"",newPassword:"",confirmPassword:""})),r("Profile updated successfully!","success")}catch(oe){console.error("Error updating profile:",oe),l({submit:"Failed to update profile. Please try again."}),r("Failed to update profile. Please try again.","error")}finally{s(!1)}}},H=Z=>{console.log("Editing user:",Z),h(Z),O({}),k({username:Z.username,email:Z.email,name:Z.name,newPassword:"",confirmPassword:""})},U=Z=>{const{name:oe,value:fe}=Z.target;k(ie=>({...ie,[oe]:fe})),w[oe]&&O(ie=>{const de={...ie};return delete de[oe],de})},re=async()=>{if(f)try{if(s(!0),O({}),!T.username.trim()){O({username:"Username is required"});return}if(!T.name.trim()){O({name:"Name is required"});return}if(T.newPassword||T.confirmPassword){if(T.newPassword!==T.confirmPassword){O({confirmPassword:"Passwords do not match"});return}if(T.newPassword.length<6){O({newPassword:"Password must be at least 6 characters"});return}}console.log("Updating user:",f.id),console.log("Editing user object:",f),console.log("Update data:",{username:T.username,email:T.email,name:T.name,password:T.newPassword?"***":"unchanged"});const Z=Hr(et,"users",f.id);console.log("User reference:",Z.path);const oe={username:T.username,email:T.email,name:T.name,role:f.role};T.newPassword&&(oe.password=T.newPassword),console.log("Attempting to update document with data:",oe);try{await Ta(Z,oe),console.log("User updated successfully in Firestore")}catch(fe){console.error("Failed to update by ID, trying to find by username:",fe);const ie=sr(Et(et,"users"),tr("username","==",f.username)),de=await hr(ie);if(de.empty)throw new Error("User not found by username either");{const _e=de.docs[0];console.log("Found user by username, actual ID:",_e.id);const B=Hr(et,"users",_e.id);await Ta(B,oe),console.log("User updated successfully using fallback method"),u(Te=>Te.map(ge=>ge.username===f.username?{...ge,id:_e.id,...oe}:ge))}}await Er(Et(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`updated user "${f.name}" (username: ${T.username})`,time:new Date().toISOString()}),u(fe=>fe.map(ie=>ie.id===f.id?{...ie,...oe}:ie)),r("User updated successfully","success"),h(null)}catch(Z){console.error("Error updating user:",Z),console.error("Error details:",{editingUser:f,userEditForm:T,error:Z}),r("Failed to update user","error")}finally{s(!1)}},z=Z=>{const{name:oe,value:fe}=Z.target;v(ie=>({...ie,[oe]:fe})),y[oe]&&b(ie=>{const de={...ie};return delete de[oe],de})},C=()=>{const Z={};return m.username.trim()||(Z.username="Username is required"),m.email.trim()&&!/\S+@\S+\.\S+/.test(m.email)&&(Z.email="Invalid email format"),m.name.trim()||(Z.name="Name is required"),m.password?m.password.length<6&&(Z.password="Password must be at least 6 characters"):Z.password="Password is required",m.password!==m.confirmPassword&&(Z.confirmPassword="Passwords do not match"),b(Z),Object.keys(Z).length===0},F=async Z=>{if(Z.preventDefault(),!!C()){s(!0);try{const fe=(await hr(Et(et,"users"))).docs.map(de=>de.data());if(fe.some(de=>de.username===m.username)){b({username:"Username already exists"});return}if(m.email.trim()&&fe.some(de=>de.email===m.email)){b({email:"Email already exists"});return}const ie=await Er(Et(et,"users"),{username:m.username,email:m.email,name:m.name,password:m.password,role:m.role});await Er(Et(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`added new user "${m.name}" with role "${m.role}"`,time:new Date().toISOString()}),u(de=>[...de,{id:ie.id,username:m.username,email:m.email,name:m.name,role:m.role,password:m.password}]),v({username:"",email:"",name:"",password:"",confirmPassword:"",role:"staff"}),g(!1),r("User added successfully!","success")}catch(oe){console.error("Error adding user:",oe),r("Failed to add user. Please try again.","error")}finally{s(!1)}}},q=async(Z,oe)=>{S({username:oe,name:Z}),I(!0)},K=async()=>{if(E)try{s(!0);const Z=Et(et,"users"),oe=sr(Z,tr("username","==",E.username)),fe=await hr(oe);if(fe.empty){r("User not found.","error");return}const ie=fe.docs[0],de=Hr(et,"users",ie.id);await jh(de),await Er(Et(et,"activityLogs"),{user:e==null?void 0:e.name,role:e==null?void 0:e.role,detail:`deleted user "${E.name}" (username: ${E.username})`,time:new Date().toISOString()}),u(_e=>_e.filter(B=>B.username!==E.username)),r("User deleted successfully!","success")}catch(Z){console.error("Error deleting user:",Z),r("Failed to delete user. Please try again.","error")}finally{s(!1),I(!1),S(null)}};return p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${n?"text-slate-200":"text-slate-800"}`,children:"Settings"}),p.jsx("p",{className:`${n?"text-slate-400":"text-slate-500"} mt-1`,children:"Update your profile information"})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[(e==null?void 0:e.role)==="admin"&&p.jsx(st,{variant:"secondary",onClick:j,className:`flex items-center gap-2 ${i?"opacity-50 cursor-not-allowed":""}`,disabled:i,children:p.jsx(ds,{size:16,className:i?"animate-spin":""})}),p.jsx("button",{onClick:a,className:`p-2 rounded-lg transition-colors ${n?"text-yellow-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,"aria-label":n?"Switch to light mode":"Switch to dark mode",children:n?p.jsx(J$,{size:20}):p.jsx(Q$,{size:20})})]})]}),f&&p.jsxs(yn,{isOpen:!!f,onClose:()=>{h(null),O({})},title:"Edit User",size:"md",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsx(bt,{label:"Username",name:"username",value:T.username,onChange:U,error:w.username}),p.jsx(bt,{label:"Email",name:"email",type:"email",value:T.email,onChange:U,error:w.email}),p.jsx(bt,{label:"Name",name:"name",value:T.name,onChange:U,error:w.name}),p.jsx(Du,{label:"New Password",name:"newPassword",value:T.newPassword,onChange:U,error:w.newPassword}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:T.confirmPassword,onChange:U,error:w.confirmPassword})]}),p.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[p.jsx(st,{variant:"secondary",onClick:()=>{h(null),O({})},disabled:i,children:"Cancel"}),p.jsx(st,{onClick:re,disabled:i,children:i?"Updating...":"Update User"})]})]}),p.jsxs(yn,{isOpen:P,onClose:()=>I(!1),title:"Confirm Deletion",size:"sm",children:[p.jsxs("p",{className:`${n?"text-slate-300":"text-slate-700"} mb-6`,children:['Are you sure you want to delete user "',E==null?void 0:E.name,'" (username: ',E==null?void 0:E.username,")? This action cannot be undone."]}),p.jsxs("div",{className:"flex justify-end gap-3",children:[p.jsx(st,{variant:"secondary",onClick:()=>I(!1),disabled:i,children:"Cancel"}),p.jsx(st,{variant:"danger",onClick:K,isLoading:i,disabled:i,children:i?"Deleting...":"Delete"})]})]}),p.jsxs("form",{onSubmit:J,className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center gap-6",children:[p.jsx("div",{className:"relative",children:p.jsx("div",{className:`h-24 w-24 rounded-full overflow-hidden ${n?"bg-blue-900/30":"bg-blue-100"} flex items-center justify-center`,children:p.jsx("span",{className:`text-2xl font-semibold ${n?"text-blue-400":"text-blue-600"}`,children:V((e==null?void 0:e.name)||"")})})}),p.jsxs("div",{children:[p.jsx("h2",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:A.name}),p.jsx("p",{className:n?"text-slate-400":"text-slate-500",children:e==null?void 0:e.email})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Basic Information"}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Username",name:"username",value:A.username,onChange:Q,error:o.username,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n}),p.jsx(bt,{label:"Email",name:"email",type:"email",value:A.email,onChange:Q,error:o.email,placeholder:(e==null?void 0:e.email)||"Enter email (optional)",fullWidth:!0,darkMode:n})]}),p.jsx(bt,{label:"Full Name",name:"name",value:A.name,onChange:Q,error:o.name,placeholder:e==null?void 0:e.username,required:!0,fullWidth:!0,darkMode:n})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h3",{className:`text-lg font-medium ${n?"text-slate-200":"text-slate-800"}`,children:"Change Password"}),p.jsx(Du,{label:"Current Password",name:"currentPassword",value:A.currentPassword,onChange:Q,error:o.currentPassword,placeholder:"Enter current password",fullWidth:!0,darkMode:n}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(Du,{label:"New Password",name:"newPassword",value:A.newPassword,onChange:Q,error:o.newPassword,placeholder:"Enter new password",fullWidth:!0,darkMode:n}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:A.confirmPassword,onChange:Q,error:o.confirmPassword,placeholder:"Confirm new password",fullWidth:!0,darkMode:n})]})]}),o.submit&&p.jsx("div",{className:"text-red-500 text-sm",children:o.submit}),p.jsx("div",{className:"flex justify-end",children:p.jsx(st,{type:"submit",isLoading:i,icon:p.jsx(N4,{size:18}),children:"Save Changes"})})]}),(e==null?void 0:e.role)==="admin"&&p.jsxs("div",{className:`mt-8 p-6 rounded-lg ${n?"bg-slate-1000":"bg-white"}`,children:[p.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2 mb-4",children:[p.jsx("h2",{className:`text-xl font-semibold ${n?"text-white":"text-gray-900"} text-center md:text-left`,children:"User Management"}),p.jsxs(st,{onClick:()=>g(!0),className:"flex items-center gap-2 self-center md:self-auto",children:[p.jsx(N4,{size:16}),"Add New User"]})]}),p.jsxs("div",{className:`rounded-lg shadow overflow-hidden ${n?"bg-slate-700":"bg-gray-50"}`,children:[p.jsx("div",{className:"hidden md:block overflow-x-auto",children:p.jsxs("table",{className:`min-w-full divide-y ${n?"divide-slate-700":"divide-gray-200"}`,children:[p.jsx("thead",{className:n?"bg-slate-700":"bg-gray-50",children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Username"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Email"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Name"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Role"}),p.jsx("th",{className:`px-6 py-3 text-left text-xs font-medium uppercase tracking-wider ${n?"text-slate-300":"text-gray-500"}`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${n?"divide-slate-700 bg-slate-800":"divide-gray-200 bg-white"}`,children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>p.jsxs("tr",{className:n?"hover:bg-slate-700":"hover:bg-gray-50",children:[p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.username}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.email||"-"}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:Z.role}),p.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm ${n?"text-slate-200":"text-gray-900"}`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(st,{variant:"ghost",size:"sm",onClick:()=>H(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(Rs,{size:16})}),p.jsx(st,{variant:"ghost",size:"sm",onClick:()=>q(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(Ui,{size:16})})]})})]},Z.id))})]})}),p.jsx("div",{className:"md:hidden flex flex-col gap-4 p-2",children:c.filter(Z=>Z.id!==(e==null?void 0:e.id)).map(Z=>p.jsxs("div",{className:`rounded-lg shadow p-4 flex flex-col gap-2 ${n?"bg-slate-800":"bg-white"}`,children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{children:[p.jsx("div",{className:`font-semibold ${n?"text-slate-200":"text-gray-900"}`,children:Z.name}),p.jsx("div",{className:`text-xs ${n?"text-slate-400":"text-gray-500"}`,children:Z.username})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(st,{variant:"ghost",size:"sm",onClick:()=>H(Z),className:`${n?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-700"}`,children:p.jsx(Rs,{size:16})}),p.jsx(st,{variant:"ghost",size:"sm",onClick:()=>q(Z.name,Z.username),className:`${n?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-700"}`,children:p.jsx(Ui,{size:16})})]})]}),p.jsx("div",{className:`text-sm ${n?"text-slate-300":"text-gray-700"}`,children:Z.email||"-"}),p.jsx("div",{className:`text-xs font-medium ${n?"text-blue-300":"text-blue-700"}`,children:Z.role})]},Z.id))})]}),p.jsx(yn,{isOpen:d,onClose:()=>g(!1),title:"Add New User",size:"xl",children:p.jsxs("form",{onSubmit:F,className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Username",name:"username",value:m.username,onChange:z,error:y.username,required:!0,fullWidth:!0,placeholder:"Enter username (e.g., john.doe)"}),p.jsx(bt,{label:"Email",name:"email",type:"email",value:m.email,onChange:z,error:y.email,fullWidth:!0,placeholder:"Enter email address (optional)"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p.jsx(bt,{label:"Full Name",name:"name",value:m.name,onChange:z,error:y.name,required:!0,fullWidth:!0,placeholder:"Enter full name (e.g., John Doe)"}),p.jsx(Br,{label:"Role",name:"role",value:m.role,onChange:z,options:[{value:"admin",label:"Admin"},{value:"staff",label:"Staff"}],fullWidth:!0})]}),p.jsx(Du,{label:"Password",name:"password",value:m.password,onChange:z,error:y.password,required:!0,fullWidth:!0,placeholder:"Enter password (min. 6 characters)"}),p.jsx(Du,{label:"Confirm Password",name:"confirmPassword",value:m.confirmPassword,onChange:z,error:y.confirmPassword,required:!0,fullWidth:!0,placeholder:"Confirm your password"}),p.jsx("div",{className:"flex justify-end",children:p.jsx(st,{type:"submit",isLoading:i,disabled:i,children:"Add User"})})]})})]})]})},CA=["supply & serve","APHY","AZTEC","ZK"],yBe=({item:e,onSubmit:t,isLoading:r})=>{const[n,a]=W.useState(""),[i,s]=W.useState("stock sold"),[o,l]=W.useState(""),c=CA.includes(e.storeName)?CA:[e.storeName,...CA],u=[...c,"other"],[f,h]=W.useState(e.storeName||c[0]||""),[d,g]=W.useState(""),{isDarkMode:m}=Jr(),v=async w=>{w.preventDefault();const O=Number(n);if(!n||O<=0||O>e.quantity)return;const P=i==="other"?o:i,I=f==="other"?d.trim():f.trim();await t({id:e.id,quantity:e.quantity-O,reason:P,storeName:I})},b=(()=>{const w=Number(n);return!n||w<=0?"Quantity to deduct must be greater than 0":w>e.quantity?`Cannot deduct more than current stock (${e.quantity} units)`:i?i==="other"&&!o.trim()?"Please specify the reason":!f.trim()||f==="other"&&!d.trim()?"Please select or enter the store name":null:"Please select a reason"})();return p.jsxs("form",{onSubmit:v,className:`space-y-6 ${m?"text-white":"text-gray-900"}`,children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:`p-4 rounded-lg ${m?"bg-slate-800":"bg-slate-50"}`,children:[p.jsx("h3",{className:`text-lg font-semibold ${m?"text-white":"text-gray-900"}`,children:e.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Current Stock: ",e.quantity," units"]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"deductQuantity",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Quantity to Deduct"}),p.jsx(bt,{id:"deductQuantity",type:"number",min:"1",max:e.quantity,value:n,onChange:w=>a(w.target.value.replace(/^0+(?!$)/,"")),placeholder:"Enter quantity to deduct",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"reason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Reason for Deduction"}),p.jsx(Br,{id:"reason",value:i,onChange:w=>s(w.target.value),required:!0,options:[{value:"",label:"Select a reason"},{value:"stock sold",label:"Stock Sold"},{value:"moved to fba",label:"Moved to FBA"},{value:"moved to mf",label:"Moved to MF"},{value:"damaged",label:"Damaged"},{value:"other",label:"Other"}],className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),i==="other"&&p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"otherReason",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Specify Reason"}),p.jsx(bt,{id:"otherReason",type:"text",value:o,onChange:w=>l(w.target.value),placeholder:"Enter the reason",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{htmlFor:"storeName",className:`block text-sm font-medium ${m?"text-slate-300":"text-gray-700"}`,children:"Store Name"}),p.jsx(Br,{id:"storeName",value:f,onChange:w=>h(w.target.value),options:u.map(w=>({value:w,label:w==="other"?"Other":w})),required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`}),f==="other"&&p.jsx(bt,{id:"otherStoreName",type:"text",value:d,onChange:w=>g(w.target.value),placeholder:"Enter store name",required:!0,className:`${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-300 text-gray-900"} ${b?"border-red-500 focus:border-red-500":""}`})]}),b?p.jsxs("div",{className:`flex items-center space-x-2 text-sm ${m?"text-red-400":"text-red-600"}`,children:[p.jsx(Gh,{size:16}),p.jsx("span",{children:b})]}):p.jsx("p",{className:`text-xs ${m?"text-slate-400":"text-gray-500"}`,children:"Enter the quantity to be deducted from current stock"})]}),p.jsx("div",{className:"flex justify-end space-x-3",children:p.jsx(st,{type:"submit",disabled:r||!!b,className:"min-w-[100px]",children:r?p.jsxs(p.Fragment,{children:[p.jsx(us,{className:"w-4 h-4 mr-2 animate-spin"}),"Updating..."]}):"Update"})})]})},xBe=()=>{const[e,t]=W.useState(""),[r,n]=W.useState("name"),[a,i]=W.useState(!1),[s,o]=W.useState(!1),[l,c]=W.useState(null),[u,f]=W.useState([]),[h,d]=W.useState(!1),[g,m]=W.useState(new Set),[v,y]=W.useState(null),[b,w]=W.useState(!1),[O,P]=W.useState("all"),[I,E]=W.useState(!1),{showToast:S}=Yc(),{isDarkMode:A}=Jr(),{user:D}=xa(),T=["supply & serve","APHY","AZTEC","ZK"],k=async()=>{o(!0);try{const z=sr(Et(et,"inventory"),ka("name")),F=(await hr(z)).docs.map(q=>{const K=q.data();return{id:q.id,...K,lastUpdated:K.lastUpdated instanceof Zt?K.lastUpdated.toDate():new Date(K.lastUpdated)}});f(F)}catch(z){console.error("Error fetching stock items:",z),S("Failed to fetch stock items","error")}finally{o(!1)}},j=async()=>{try{const z=wr(new Date,90),C=sr(Et(et,"activityLogs"),tr("time",">=",z.toISOString()),ka("time","desc")),q=(await hr(C)).docs.map(ie=>({id:ie.id,...ie.data()})),K=wr(new Date,10),Z=new Set,oe=new Map;q.forEach(ie=>{if(ie.detail.includes("added new product")){const de=ie.detail.match(/added new product "([^"]+)"/);if(de){const _e=de[1],B=new Date(ie.time);(!oe.has(_e)||B<oe.get(_e))&&oe.set(_e,B)}}if(ie.detail.includes("units deducted from stock")){const de=ie.detail.match(/units deducted from stock "([^"]+)"/);if(de){const _e=de[1];new Date(ie.time)>=K&&Z.add(_e)}}});const fe=new Set;u.forEach(ie=>{const de=ie.name,_e=oe.get(de);_e&&_e<K&&!Z.has(de)&&fe.add(de)}),m(fe)}catch(z){console.error("Error fetching activity logs:",z)}};W.useEffect(()=>{k()},[S]),W.useEffect(()=>{u.length>0&&j()},[u]),W.useEffect(()=>{const z=C=>{if(b||I){const F=C.target;!F.closest(".store-filter-dropdown")&&!F.closest(".status-filter-dropdown")&&(w(!1),E(!1))}};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[b,I]);const V=()=>{y(null),P("all"),w(!1),E(!1)},Q=u.filter(z=>z.quantity>0).filter(z=>{const C=e.toLowerCase(),F=z.name.toLowerCase().includes(C),q=`${z.locationCode} - ${z.shelfNumber}`.toLowerCase().includes(C),K=z.asin?z.asin.split(",").some(ie=>ie.trim().toLowerCase().includes(C)):!1,Z=z.barcode?z.barcode.toLowerCase().includes(C):!1,oe=v?v.storeName==="other"?!T.includes(z.storeName)&&z.fulfillmentType===v.fulfillmentType:z.storeName===v.storeName&&z.fulfillmentType===v.fulfillmentType:!0,fe=O==="all"||z.status===O;return(F||q||K||Z)&&oe&&fe}).sort((z,C)=>r==="name"?z.name.localeCompare(C.name):r==="quantity"?C.quantity-z.quantity:r==="price"?C.price-z.price:r==="date"?new Date(C.lastUpdated).getTime()-new Date(z.lastUpdated).getTime():0),Y=async z=>{o(!0);try{const C=Hr(et,"inventory",z.id),F=await Ev(C);if(!F.exists())throw new Error("Stock item not found");const q=F.data();if(!D)throw new Error("User not authenticated");const K=z.reason==="damaged"?q.damagedItems+(q.quantity-z.quantity):q.damagedItems,Z=new Date;await Ta(C,{quantity:z.quantity,damagedItems:K,lastUpdated:Zt.fromDate(Z)}),await Er(Et(et,"activityLogs"),{detail:`${q.quantity-z.quantity} units deducted from stock "${q.name}" (Reason: ${z.reason}, Store: ${z.storeName}) by ${D.role} from location ${q.locationCode} shelf ${q.shelfNumber}`,time:new Date().toISOString(),user:D.name,role:D.role});const oe=u.map(fe=>fe.id===z.id?{...fe,quantity:z.quantity,damagedItems:K}:fe);f(oe),c(null),i(!1),S("Stock quantity updated successfully","success")}catch(C){console.error("Error updating stock:",C),S("Failed to update stock quantity","error")}finally{o(!1)}},J=z=>{a||c(z)},H=(z,C)=>{z.stopPropagation(),c(C),i(!0)},U=()=>{d(!0)},re=z=>{t(z),d(!1)};return p.jsxs("div",{className:"container mx-auto px-4 py-8",children:[p.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${A?"text-white":"text-gray-900"}`,children:"Outbound Inventory"}),p.jsx("p",{className:`${A?"text-slate-400":"text-slate-500"} mt-1`,children:"Manage and track inventory deductions"})]})}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(bt,{type:"text",placeholder:"Search by name, location, ASIN or barcode...",value:e,onChange:z=>t(z.target.value),icon:p.jsx(Ic,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:U,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Br,{value:r,onChange:z=>n(z.target.value),options:[{value:"name",label:"Sort by Name"},{value:"quantity",label:"Sort by Quantity"},{value:"price",label:"Sort by Price"},{value:"date",label:"Sort by Date"}]})}),p.jsxs("div",{className:"flex flex-row gap-2",children:[p.jsxs("div",{className:"relative status-filter-dropdown",children:[p.jsxs(st,{variant:"secondary",onClick:()=>E(!I),className:`flex items-center gap-2 ${O!=="all"?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[O==="all"?"Status Filter":O==="active"?"Active":"Pending",p.jsx(yf,{size:16})]}),I&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-32 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Status"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="all"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("all"),E(!1)},children:"All"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="active"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("active"),E(!1)},children:"Active"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${O==="pending"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{P("pending"),E(!1)},children:"Pending"}),p.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{P("all"),E(!1)},children:"Clear Filter"})})]})})]}),p.jsxs("div",{className:"relative store-filter-dropdown",children:[p.jsxs(st,{variant:"secondary",onClick:()=>w(!b),className:`flex items-center gap-2 ${v?"bg-blue-100 text-blue-700 dark:bg-blue-900 dark:text-blue-300":""}`,children:[v?`${v.storeName==="other"?"Other":v.storeName} - ${v.fulfillmentType.toUpperCase()}`:"Store Filter",p.jsx(yf,{size:16})]}),b&&p.jsx("div",{className:`absolute top-full left-0 mt-1 w-64 z-50 rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} shadow-lg`,children:p.jsxs("div",{className:"p-2",children:[p.jsx("div",{className:`text-sm font-medium mb-2 ${A?"text-slate-200":"text-slate-700"}`,children:"Filter by Store & Type"}),["supply & serve","APHY","AZTEC","ZK","other"].map(z=>p.jsxs("div",{className:"group relative",children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z?A?"bg-slate-700":"bg-slate-100":""}`,children:z}),p.jsxs("div",{className:`absolute right-full top-0 mr-1 hidden group-hover:block w-24 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} border rounded-lg shadow-lg`,children:[p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z&&(v==null?void 0:v.fulfillmentType)==="fba"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:z,fulfillmentType:"fba"}),w(!1)},children:"FBA"}),p.jsx("div",{className:`px-3 py-2 text-sm cursor-pointer transition-colors ${A?"text-slate-200 hover:bg-slate-700":"text-slate-700 hover:bg-slate-100"} ${(v==null?void 0:v.storeName)===z&&(v==null?void 0:v.fulfillmentType)==="mf"?A?"bg-slate-700":"bg-slate-100":""}`,onClick:()=>{y({storeName:z,fulfillmentType:"mf"}),w(!1)},children:"MF"})]})]},z)),p.jsx("div",{className:`border-t ${A?"border-slate-700":"border-slate-200"} mt-2 pt-2`,children:p.jsx("button",{className:`w-full text-left px-3 py-2 text-sm cursor-pointer rounded transition-colors ${A?"text-red-400 hover:bg-slate-700":"text-red-600 hover:bg-slate-100"}`,onClick:()=>{y(null),w(!1)},children:"Clear Filter"})})]})})]})]}),p.jsx(st,{variant:"secondary",onClick:()=>{k(),V()},className:`flex items-center gap-2 ${s?"opacity-50 cursor-not-allowed":""}`,disabled:s,children:p.jsx(ds,{size:16,className:s?"animate-spin":""})}),(v||O!=="all")&&p.jsx(st,{variant:"secondary",onClick:V,className:"flex items-center gap-2",children:"Clear Filters"})]}),s?p.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsxs("div",{className:"flex flex-col items-center gap-4",children:[p.jsx(us,{className:`w-8 h-8 ${A?"text-blue-400":"text-blue-600"} animate-spin`}),p.jsx("p",{className:A?"text-slate-400":"text-slate-600",children:"Loading stock items..."})]})}):Q.length>0?p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"hidden md:block rounded-lg overflow-hidden border ${isDarkMode ? 'border-slate-700' : 'border-slate-200'}",children:p.jsx("div",{className:"overflow-x-auto",children:p.jsxs("table",{className:"w-full",children:[p.jsx("thead",{className:`${A?"bg-slate-800":"bg-slate-50"}`,children:p.jsxs("tr",{children:[p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Name"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Unit"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Status"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Location"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"ASIN"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Quantity"}),(D==null?void 0:D.role)==="admin"&&p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Price"}),p.jsx("th",{className:`px-4 py-3 text-left text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Last Updated"}),p.jsx("th",{className:`px-4 py-3 text-right text-xs font-medium ${A?"text-slate-300":"text-slate-500"} uppercase tracking-wider`,children:"Actions"})]})}),p.jsx("tbody",{className:`divide-y ${A?"divide-slate-700":"divide-slate-200"}`,children:Q.map(z=>p.jsxs("tr",{className:`${A?"hover:bg-slate-800":"hover:bg-slate-50"} cursor-pointer`,onClick:()=>J(z),children:[p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-blue-400":"text-blue-700"} font-medium`,children:p.jsxs("div",{className:"flex items-center gap-2",children:[z.name,g.has(z.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(pv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]})]})}),p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:z.unit||"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z.status==="active"?"bg-green-100 text-green-700 ":"bg-yellow-100 text-yellow-700 "}`,children:z.status==="active"?"Active":"Pending"})}),p.jsxs("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:[z.locationCode," - ",z.shelfNumber]}),p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:z.asin?z.asin.split(",").length>3?z.asin.split(",").slice(0,3).map(C=>C.trim()).join(", ")+"...":z.asin.split(",").map(C=>C.trim()).join(", "):"-"}),p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"} text-right`,children:p.jsxs("div",{className:"flex items-center justify-end gap-2",children:[z.quantity<=10&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-red-100 text-red-700 text-center ",children:"Critical Low"}),z.quantity>10&&z.quantity<=25&&p.jsx("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-yellow-100 text-yellow-700 text-center ",children:"Low Stock"}),p.jsx("span",{children:z.quantity})]})}),(D==null?void 0:D.role)==="admin"&&p.jsx("td",{className:`px-4 py-3 text-right text-sm ${A?"text-slate-200":"text-slate-900"}`,children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"}),p.jsx("td",{className:`px-4 py-3 text-sm ${A?"text-slate-200":"text-slate-800"}`,children:Xt(new Date(z.lastUpdated),"MMM d, yyyy")}),p.jsx("td",{className:"px-4 py-3 text-right text-sm",children:p.jsx("div",{className:"flex items-center justify-end gap-2",children:p.jsx(st,{variant:"secondary",size:"sm",onClick:C=>H(C,z),className:`p-1 ${A?"text-blue-400 hover:text-blue-300":"text-blue-600 hover:text-blue-300"} transition-colors`,children:p.jsx(Rs,{size:16})})})})]},z.id))})]})})}),p.jsx("div",{className:"block md:hidden space-y-4",children:Q.map(z=>p.jsxs("div",{className:`rounded-lg border ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} p-4 shadow-sm flex flex-col gap-2`,onClick:()=>J(z),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsx("span",{className:`font-semibold ${A?"text-blue-400":"text-blue-700"}`,children:z.name}),p.jsxs("div",{className:"flex items-center gap-2",children:[g.has(z.name)&&p.jsxs("div",{className:"relative group",children:[p.jsx(pv,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),p.jsxs("div",{className:`absolute bottom-full right-0 mb-2 px-3 py-2 text-xs rounded-lg shadow-lg z-50 whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity ${A?"bg-slate-800 text-red-300 border border-red-500":"bg-white text-red-700 border border-red-300"}`,children:["This product has not been deducted for 10+ days",p.jsx("div",{className:`absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent ${A?"border-t-slate-800":"border-t-white"}`})]})]}),p.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${z.status==="active"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:z.status==="active"?"Active":"Pending"})]})]}),p.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[p.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Location: ",p.jsxs("span",{className:"font-medium",children:[z.locationCode," - ",z.shelfNumber]})]}),p.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Qty: ",p.jsx("span",{className:"font-medium",children:z.quantity})]}),z.asin&&p.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["ASIN: ",p.jsx("span",{className:"font-medium",children:z.asin})]}),(D==null?void 0:D.role)==="admin"&&p.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Price: ",p.jsx("span",{className:"font-medium",children:Number(z.price)>0?`£${Number(z.price).toFixed(2)}`:"(Not set)"})]}),p.jsxs("span",{className:A?"text-slate-300":"text-slate-600",children:["Updated: ",p.jsx("span",{className:"font-medium",children:Xt(new Date(z.lastUpdated),"MMM d, yyyy")})]})]}),p.jsx("div",{className:"flex gap-2 mt-2",children:p.jsxs(st,{size:"sm",variant:"secondary",onClick:C=>{C.stopPropagation(),H(C,z)},children:[p.jsx(Rs,{size:14})," Edit"]})})]},z.id))})]}):p.jsx("div",{className:`text-center py-12 ${A?"bg-slate-800 border-slate-700":"bg-white border-slate-200"} rounded-lg border`,children:p.jsx("p",{className:A?"text-slate-400":"text-slate-500",children:"No stock items found. Try adjusting your search."})}),p.jsx(yn,{isOpen:a,onClose:()=>{i(!1),c(null)},title:"Update Stock Quantity",children:l&&p.jsx(yBe,{item:l,onSubmit:Y,isLoading:s})}),l&&!a&&p.jsx(uC,{isOpen:!0,onClose:()=>c(null),item:l}),p.jsx(cd,{isOpen:h,onClose:()=>d(!1),onBarcodeScanned:re})]})},bBe=()=>{const[e,t]=W.useState(!0),[r,n]=W.useState([]),[a,i]=W.useState(new Set),[s,o]=W.useState(""),[l,c]=W.useState(""),[u,f]=W.useState("locationCode"),[h,d]=W.useState({}),{showToast:g}=Yc(),{isDarkMode:m}=Jr(),[v,y]=W.useState(!1),[b,w]=W.useState(null),[O,P]=W.useState(1),[I,E]=W.useState("A1"),[S,A]=W.useState("0"),[D,T]=W.useState(!1),[k,j]=W.useState(!1),[V,Q]=W.useState(""),[Y,J]=W.useState(df("A1")),{user:H}=xa(),U=B=>{E(B);const Te=df(B);J(Te),parseInt(S)>=Te.length&&A("0")},re=async()=>{t(!0);try{const B=sr(Et(et,"inventory"),ka("locationCode")),ge=(await hr(B)).docs.map(ve=>{const te=ve.data();return{id:ve.id,name:te.name||"",quantity:te.quantity||0,price:te.price||0,unit:te.unit||null,supplier:te.supplier??null,lastUpdated:te.lastUpdated instanceof Zt?te.lastUpdated.toDate():new Date,locationCode:te.locationCode||"",shelfNumber:te.shelfNumber||"",barcode:te.barcode??null,asin:te.asin??null,status:te.status||"pending",damagedItems:te.damagedItems||0,fulfillmentType:te.fulfillmentType||"fba",storeName:te.storeName||""}});n(ge)}catch(B){console.error("Error fetching locations:",B),g("Failed to fetch locations. Please try again.","error")}finally{t(!1)}},z=async()=>{try{const B=sr(Et(et,"locations")),Te=await hr(B),ge={};Te.forEach(ve=>{ge[ve.id]=ve.data().isAvailable!==!1}),d(ge)}catch(B){console.error("Error fetching location availability:",B)}};W.useEffect(()=>{t(!0),Promise.all([re(),z()]).finally(()=>t(!1))},[]);const C=["A1","A2","A3","A4","A5","A6","A7","A8","B1","B2","B3","B4","B5","B6","B7","B8","C1","C2","C3","C4","C5","C6","C7","C8","D1","D2","D3","D4","D5","D6","D7","D8","E1","E2","E3","E4","E5","E6","E7","E8","F1","F2","F3","F4","F5","F6","F7","F8","G1","G2","G3","G4","G5","G6","G7","G8","H1","H2","H3","H4","H5","H6","H7","H8","I1","I2","I3","I4","I5","I6","I7","I8","J1","J2","J3","J4","J5","J6","J7","J8","K1","K2","K3","K4","K5","K6","K7","K8","L1","L2","L3","L4","L5","L6","L7","L8","M1","M2","M3","M4","M5","M6","M7","M8","N1","N2","N3","N4","N5","N6","N7","N8","O1","O2","O3","O4","O5","O6","O7","O8","P1","P2","P3","P4","P5","P6","P7","P8","Q1","Q2","Q3","Q4","Q5","Q6","Q7","Q8","R1","R2","R3","R4","R5","R6","R7","R8","S1","S2","S3","S4","S5","S6","S7","S8","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","U5","U6","U7","U8","V1","V2","V3","V4","V5","V6","V7","V8","W1","W2","W3","W4","W5","W6","W7","W8","X1","X2","X3","X4","X5","X6","X7","X8","Y1","Y2","Y3","Y4","Y5","Y6","Y7","Y8","Z1","Z2","Z3","Z4","Z5","Z6","Z7","Z8","Awaiting Location"],F=C.reduce((B,Te)=>{const ve=r.filter(te=>te.locationCode===Te).reduce((te,ke)=>{const $e=te.findIndex(Fe=>Fe.name===ke.name&&de(Fe.asin)===de(ke.asin)&&de(Fe.barcode)===de(ke.barcode)&&Fe.locationCode===ke.locationCode&&Fe.shelfNumber===ke.shelfNumber);return $e>=0?te[$e]={...te[$e],quantity:te[$e].quantity+ke.quantity,lastUpdated:te[$e].lastUpdated>ke.lastUpdated?te[$e].lastUpdated:ke.lastUpdated}:te.push(ke),te},[]);return B[Te]={locationCode:Te,totalStock:ve.reduce((te,ke)=>te+ke.quantity,0),products:ve},B},{}),q=Object.values(F).filter(B=>{const Te=s.toLowerCase(),ge=l.toLowerCase(),ve=ge===""||B.locationCode.toLowerCase().includes(ge),te=Te===""||B.products.some(ke=>ke.name.toLowerCase().includes(Te)||ke.asin&&ke.asin.split(",").some($e=>$e.trim().toLowerCase().includes(Te))||ke.barcode&&ke.barcode.toLowerCase().includes(Te));return ve&&te}).sort((B,Te)=>{if(u==="totalStock")return Te.totalStock-B.totalStock;if(u==="locationCode")return B.locationCode==="Awaiting Location"?-1:Te.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Te.locationCode);if(u==="availability"){const ge=h[B.locationCode]!==!1,ve=h[Te.locationCode]!==!1;return ge===ve?B.locationCode==="Awaiting Location"?-1:Te.locationCode==="Awaiting Location"?1:B.locationCode.localeCompare(Te.locationCode):ge?-1:1}return 0});W.useEffect(()=>{if(s.trim()&&s!==V){const B=q.filter(Te=>{const ge=s.toLowerCase();return Te.products.some(ve=>ve.name.toLowerCase().includes(ge)||ve.asin&&ve.asin.split(",").some(te=>te.trim().toLowerCase().includes(ge))||ve.barcode&&ve.barcode.toLowerCase().includes(ge))});if(B.length>0){const Te=B.flatMap(ve=>ve.products.filter(te=>{const ke=s.toLowerCase();return te.name.toLowerCase().includes(ke)||te.asin&&te.asin.split(",").some($e=>$e.trim().toLowerCase().includes(ke))||te.barcode&&te.barcode.toLowerCase().includes(ke)})),ge=[...new Set(Te.map(ve=>`${ve.locationCode}-${ve.shelfNumber}`))];g(`Product found! Located at: ${ge.join(", ")}`,"success"),Q(s)}else s.trim()&&s!==V&&(g("Product not found in any location","error"),Q(s))}else!s.trim()&&V&&Q("")},[q,s,g,V]);const K=B=>{i(Te=>{const ge=new Set(Te);return ge.has(B)?ge.delete(B):ge.add(B),ge})},Z=()=>{j(!0)},oe=B=>{o(B),j(!1)},fe=async B=>{const Te=!(h[B]??!0);d(ge=>({...ge,[B]:Te}));try{await rx(Hr(et,"locations",B),{isAvailable:Te},{merge:!0})}catch(ge){g("Failed to update availability","error"),d(ve=>({...ve,[B]:!Te})),console.log(ge)}};function ie(B){const Te={...B};return Object.keys(Te).forEach(ge=>{Te[ge]===void 0&&(Te[ge]=null)}),Te}function de(B){return B??""}const _e=async()=>{if(b&&!(O<1||O>b.quantity)){T(!0);try{const B=sr(Et(et,"inventory")),Te=await hr(B);let ge=null;if(Te.forEach(ve=>{const te=ve.data();te.name===b.name&&te.locationCode===I&&te.shelfNumber===S&&de(te.asin)===de(b.asin)&&de(te.barcode)===de(b.barcode)&&(ge={...te,id:ve.id})}),O===b.quantity)await rx(Hr(et,"inventory",b.id),ie({...b,locationCode:I,shelfNumber:S,lastUpdated:new Date}),{merge:!0});else if(await rx(Hr(et,"inventory",b.id),ie({...b,quantity:b.quantity-O,lastUpdated:new Date}),{merge:!0}),ge)await rx(Hr(et,"inventory",ge.id),ie({...ge,quantity:ge.quantity+O,lastUpdated:new Date}),{merge:!0});else{const{id:ve,...te}=b;await Er(Et(et,"inventory"),ie({...te,quantity:O,locationCode:I,shelfNumber:S,lastUpdated:new Date}))}await Er(Et(et,"activityLogs"),{user:(H==null?void 0:H.name)||"Unknown",role:(H==null?void 0:H.role)||"Unknown",detail:`Moved ${O} unit(s) of "${b.name}" from ${b.locationCode}-${b.shelfNumber} to ${I}-${S}`,time:new Date().toISOString()}),g("Stock moved successfully","success"),y(!1),w(null),re()}catch(B){g("Failed to move stock","error"),console.log(B)}finally{T(!1)}}};return p.jsxs("div",{className:`space-y-6 ${m?"bg-slate-900 text-white":"bg-slate-50 text-slate-800"}`,children:[p.jsxs("div",{children:[p.jsx("h1",{className:`text-2xl font-bold ${m?"text-white":"text-slate-800"}`,children:"Warehouse Locations"}),p.jsx("p",{className:`${m?"text-slate-400":"text-slate-500"} mt-1`,children:"View and manage your warehouse storage locations"})]}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[p.jsx("div",{className:"flex-1",children:p.jsxs("div",{className:"relative",children:[p.jsx(bt,{type:"text",placeholder:"Search by product name, ASIN or barcode...",value:s,onChange:B=>o(B.target.value),icon:p.jsx(Ic,{size:16}),style:{paddingRight:48}}),p.jsx("button",{type:"button",onClick:Z,className:"absolute right-1.5 top-1/2 -translate-y-1/2 flex items-center justify-center w-7 h-7 rounded-md transition-colors bg-blue-500 hover:bg-blue-600 focus:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 border-none p-0",style:{zIndex:2},title:"Scan barcode",tabIndex:0,"aria-label":"Scan barcode",children:p.jsx(Oc,{size:16,className:"text-white"})})]})}),p.jsx("div",{className:"flex-1",children:p.jsx(bt,{type:"text",placeholder:"Search by location code...",value:l,onChange:B=>c(B.target.value),icon:p.jsx(Ic,{size:16})})}),p.jsx("div",{className:"w-full sm:w-48",children:p.jsx(Br,{value:u,onChange:B=>f(B.target.value),options:[{value:"locationCode",label:"Sort by Location"},{value:"totalStock",label:"Sort by Total Stock"},{value:"availability",label:"Sort by Availability"}]})}),p.jsx(st,{variant:"secondary",onClick:re,className:`flex items-center gap-2 ${e?"opacity-50 cursor-not-allowed":""}`,disabled:e,children:p.jsx(ds,{size:16,className:e?"animate-spin":""})})]}),e?p.jsx("div",{className:"flex justify-center items-center h-64",children:p.jsx("div",{className:`animate-spin rounded-full h-12 w-12 border-b-2 ${m?"border-white":"border-slate-800"}`})}):q.length===0?p.jsxs("div",{className:"flex flex-col items-center justify-center h-64 space-y-4",children:[p.jsx(ep,{className:`w-12 h-12 ${m?"text-slate-600":"text-slate-400"}`}),p.jsx("p",{className:`text-lg font-medium ${m?"text-slate-400":"text-slate-600"}`,children:"No products found in any location"}),p.jsx("p",{className:"text-sm text-slate-500",children:"Add products to locations to see them here"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.values(q).map(B=>{const Te=a.has(B.locationCode);return p.jsxs("div",{className:`${m?"bg-slate-800 border-slate-700":"bg-slate-50 border-slate-200"} 
                  rounded-lg shadow-sm border transition-all duration-200 ease-in-out
                  hover:shadow-md ${Te?"ring-2 ring-blue-500":""}`,children:[p.jsxs("div",{className:`p-4 border-b ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-200 hover:bg-slate-100"} 
                    cursor-pointer transition-colors duration-200`,onClick:()=>K(B.locationCode),children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:`p-2 rounded-lg ${m?"bg-slate-700":"bg-slate-100"}`,children:p.jsx(ep,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})}),p.jsx("h3",{className:`text-lg font-medium ${m?"text-white":"text-slate-800"}`,children:B.locationCode==="Awaiting Location"?"Awaiting Location":`Location ${B.locationCode}`})]}),p.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[p.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[p.jsx("input",{type:"checkbox",checked:h[B.locationCode]!==!1,onChange:ge=>{ge.stopPropagation(),fe(B.locationCode)},className:"sr-only peer"}),p.jsx("div",{className:`w-11 h-6 rounded-full transition-colors duration-200
                            ${h[B.locationCode]!==!1?"bg-green-500":"bg-red-500"}
                            peer-focus:ring-2 peer-focus:ring-blue-500
                          `}),p.jsx("div",{className:`absolute left-0.5 top-0.5 w-5 h-5 bg-white rounded-full shadow-md transition-transform duration-200
                            ${h[B.locationCode]!==!1?"translate-x-5":""}
                          `})]}),p.jsx("span",{className:`text-xs font-semibold ml-2 ${h[B.locationCode]!==!1?"text-green-500":"text-red-500"}`,children:h[B.locationCode]!==!1?"Available":"Not Available"}),p.jsx("button",{className:"ml-2 p-1 rounded hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors",onClick:ge=>{ge.stopPropagation(),K(B.locationCode)},"aria-label":Te?"Collapse":"Expand",children:Te?p.jsx(Y$,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`}):p.jsx(yf,{className:`w-5 h-5 ${m?"text-blue-400":"text-blue-600"}`})})]})]}),p.jsxs("div",{className:"flex justify-between items-end mt-2",children:[p.jsxs("div",{children:[p.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Total Stock"}),p.jsxs("p",{className:`font-bold text-2xl ${m?"text-white":"text-slate-800"}`,children:[B.totalStock," units"]})]}),p.jsxs("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:[s.trim()?B.products.filter(ge=>{const ve=s.toLowerCase();return ge.name.toLowerCase().includes(ve)||ge.asin&&ge.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||ge.barcode&&ge.barcode.toLowerCase().includes(ve)}).length:B.products.length," product",(s.trim()?B.products.filter(ge=>{const ve=s.toLowerCase();return ge.name.toLowerCase().includes(ve)||ge.asin&&ge.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||ge.barcode&&ge.barcode.toLowerCase().includes(ve)}).length:B.products.length)!==1?"s":""]})]})]}),Te&&p.jsxs("div",{className:"p-4 space-y-4 overflow-hidden transition-all duration-300 ease-in-out",children:[p.jsx("h4",{className:`font-medium ${m?"text-slate-300":"text-slate-700"}`,children:s.trim()?B.products.filter(ge=>{const ve=s.toLowerCase();return ge.name.toLowerCase().includes(ve)||ge.asin&&ge.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||ge.barcode&&ge.barcode.toLowerCase().includes(ve)}).length===0:B.products.length===0?"No products in this location":s.trim()?"Matching products in this location:":"Products in this location:"}),p.jsx("div",{className:"space-y-4",children:B.products.filter(ge=>{if(s.trim()){const ve=s.toLowerCase();return ge.name.toLowerCase().includes(ve)||ge.asin&&ge.asin.split(",").some(te=>te.trim().toLowerCase().includes(ve))||ge.barcode&&ge.barcode.toLowerCase().includes(ve)}return!0}).map(ge=>{const ve=B.totalStock===0?0:ge.quantity/B.totalStock*100,te=s.toLowerCase(),ke=ge.name.toLowerCase().includes(te)||ge.asin&&ge.asin.split(",").some($e=>$e.trim().toLowerCase().includes(te))||ge.barcode&&ge.barcode.toLowerCase().includes(te);return p.jsxs("div",{className:`space-y-2 p-2 rounded-md transition-colors ${ke?m?"bg-blue-900/30 border border-blue-500/50":"bg-blue-50 border border-blue-200":""}`,children:[p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{children:[p.jsx("h4",{className:`font-medium ${ke?"text-blue-600":m?"text-white":"text-slate-800"}`,children:ge.name}),p.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:["Shelf ",ge.shelfNumber]})]}),p.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[p.jsxs("p",{className:`font-medium ${m?"text-white":"text-slate-800"}`,children:[ge.quantity," units"]}),p.jsx("button",{className:"px-2 py-1 bg-blue-500 text-white rounded text-xs hover:bg-blue-600",onClick:async $e=>{$e.stopPropagation();const Fe=await Ev(Hr(et,"inventory",ge.id));if(Fe.exists()){const Qe=Fe.data();w({...Qe,id:ge.id}),P(1),E(ge.locationCode),A(ge.shelfNumber),y(!0)}else g("Failed to fetch product details","error")},children:"Move"})]})]}),p.jsx("div",{className:`w-full ${m?"bg-slate-700":"bg-slate-200"} rounded-full h-2`,children:p.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ease-in-out
                                  ${ve>75?"bg-green-500":ve>25?"bg-blue-500":"bg-orange-500"}`,style:{width:`${ve}%`},title:`${ge.quantity} out of ${B.totalStock} units (${ve.toFixed(1)}%)`})})]},ge.id)})})]})]},B.locationCode)})}),p.jsx(yn,{isOpen:v,onClose:()=>y(!1),title:"Move Stock",children:b&&p.jsxs("form",{onSubmit:B=>{B.preventDefault(),_e()},className:`space-y-4 ${m?"bg-slate-800 text-white":"bg-white text-slate-800"} p-4 rounded-lg`,children:[p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"How many units to move?"}),p.jsx("input",{type:"number",min:1,max:b.quantity,value:O,onChange:B=>P(Number(B.target.value)),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0}),p.jsxs("div",{className:`text-xs mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:["Available: ",b.quantity]})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"New Location"}),p.jsx("select",{value:I,onChange:B=>U(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:C.map(B=>p.jsx("option",{value:B,children:B},B))})]}),p.jsxs("div",{children:[p.jsx("label",{className:`block text-sm font-medium mb-1 ${m?"text-slate-200":"text-slate-700"}`,children:"Shelf Number"}),p.jsx("select",{value:S,onChange:B=>A(B.target.value),className:`w-full rounded border px-2 py-1 ${m?"bg-slate-700 border-slate-600 text-white":"bg-white border-slate-300 text-slate-800"}`,required:!0,children:Y.map(B=>p.jsx("option",{value:B.value,children:B.label},B.value))})]}),p.jsxs("div",{className:"flex justify-end gap-2",children:[p.jsx("button",{type:"button",className:`px-3 py-1 rounded ${m?"bg-slate-600 text-white":"bg-slate-200 text-slate-800"}`,onClick:()=>y(!1),children:"Cancel"}),p.jsx("button",{type:"submit",className:`px-3 py-1 rounded ${m?"bg-blue-700 text-white":"bg-blue-600 text-white"}`,disabled:D,children:D?"Moving...":"Move"})]})]})}),p.jsx(cd,{isOpen:k,onClose:()=>j(!1),onBarcodeScanned:oe})]})},Uo=({children:e,allowedRoles:t})=>{const{user:r}=xa();return r?t.includes(r.role)?p.jsx(p.Fragment,{children:e}):p.jsx(S4,{to:"/",replace:!0}):p.jsx(S4,{to:"/login",replace:!0})};function wBe(){return p.jsxs(BJ,{children:[p.jsx(ss,{path:"/login",element:p.jsx(kce,{})}),p.jsxs(ss,{path:"/",element:p.jsx(Tce,{}),children:[p.jsx(ss,{index:!0,element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(dye,{})})}),p.jsx(ss,{path:"stock",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(kye,{})})}),p.jsx(ss,{path:"jobs",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(Oye,{})})}),p.jsx(ss,{path:"inventory",element:p.jsx(Uo,{allowedRoles:["admin"],children:p.jsx(Nye,{})})}),p.jsx(ss,{path:"orders",element:p.jsx(Uo,{allowedRoles:[""],children:p.jsx(qye,{})})}),p.jsx(ss,{path:"outbound-stock",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(xBe,{})})}),p.jsx(ss,{path:"warehouse-locations",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(bBe,{})})}),p.jsx(ss,{path:"warehouse-operations",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(N2e,{})})}),p.jsx(ss,{path:"reports-analytics",element:p.jsx(Uo,{allowedRoles:["admin"],children:p.jsx(gBe,{})})}),p.jsx(ss,{path:"settings",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(vBe,{})})}),p.jsx(ss,{path:"add",element:p.jsx(Uo,{allowedRoles:["admin","staff"],children:p.jsx(Nq,{})})})]})]})}F$(document.getElementById("root")).render(p.jsx(W.StrictMode,{children:p.jsx(KJ,{basename:"/",children:p.jsx(Cae,{children:p.jsx(Nae,{children:p.jsx(Ece,{children:p.jsx(wBe,{})})})})})}));export{Xr as _,Qm as c,pn as g};
